"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c0a80682-6435-59ff-abb6-f37bc0993214")}catch(e){}}();

(() => {
var Dr=Object.create;var dt=Object.defineProperty;var Nr=Object.getOwnPropertyDescriptor;var qr=Object.getOwnPropertyNames;var Fr=Object.getPrototypeOf,Br=Object.prototype.hasOwnProperty;var W=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var jr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qr(t))!Br.call(e,i)&&i!==r&&dt(e,i,{get:()=>t[i],enumerable:!(n=Nr(t,i))||n.enumerable});return e};var mt=(e,t,r)=>(r=e!=null?Dr(Fr(e)):{},jr(t||!e||!e.__esModule?dt(r,"default",{value:e,enumerable:!0}):r,e));var Y=W(l=>{"use strict";var Vn=l&&l.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(l,"__esModule",{value:!0});l.dual=l.getEndomorphismMonoid=l.not=l.SK=l.hole=l.pipe=l.untupled=l.tupled=l.absurd=l.decrement=l.increment=l.tuple=l.flow=l.flip=l.constVoid=l.constUndefined=l.constNull=l.constFalse=l.constTrue=l.constant=l.unsafeCoerce=l.identity=l.apply=l.getRing=l.getSemiring=l.getMonoid=l.getSemigroup=l.getBooleanAlgebra=void 0;var zn=function(e){return function(){return{meet:function(t,r){return function(n){return e.meet(t(n),r(n))}},join:function(t,r){return function(n){return e.join(t(n),r(n))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(t,r){return function(n){return e.implies(t(n),r(n))}},not:function(t){return function(r){return e.not(t(r))}}}}};l.getBooleanAlgebra=zn;var Jn=function(e){return function(){return{concat:function(t,r){return function(n){return e.concat(t(n),r(n))}}}}};l.getSemigroup=Jn;var Gn=function(e){var t=(0,l.getSemigroup)(e);return function(){return{concat:t().concat,empty:function(){return e.empty}}}};l.getMonoid=Gn;var Xn=function(e){return{add:function(t,r){return function(n){return e.add(t(n),r(n))}},zero:function(){return e.zero},mul:function(t,r){return function(n){return e.mul(t(n),r(n))}},one:function(){return e.one}}};l.getSemiring=Xn;var Zn=function(e){var t=(0,l.getSemiring)(e);return{add:t.add,mul:t.mul,one:t.one,zero:t.zero,sub:function(r,n){return function(i){return e.sub(r(i),n(i))}}}};l.getRing=Zn;var Qn=function(e){return function(t){return t(e)}};l.apply=Qn;function ze(e){return e}l.identity=ze;l.unsafeCoerce=ze;function fe(e){return function(){return e}}l.constant=fe;l.constTrue=fe(!0);l.constFalse=fe(!1);l.constNull=fe(null);l.constUndefined=fe(void 0);l.constVoid=l.constUndefined;function Yn(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length>1?e(t[1],t[0]):function(n){return e(n)(t[0])}}}l.flip=Yn;function Ht(e,t,r,n,i,a,u,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return u(a(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return s(u(a(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(s(u(a(i(n(r(t(e.apply(this,arguments)))))))))}}}l.flow=Ht;function eo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}l.tuple=eo;function to(e){return e+1}l.increment=to;function ro(e){return e-1}l.decrement=ro;function Vt(e){throw new Error("Called `absurd` function which should be uncallable")}l.absurd=Vt;function no(e){return function(t){return e.apply(void 0,t)}}l.tupled=no;function oo(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(t)}}l.untupled=oo;function io(e,t,r,n,i,a,u,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return u(a(i(n(r(t(e))))));case 8:return s(u(a(i(n(r(t(e)))))));case 9:return c(s(u(a(i(n(r(t(e))))))));default:{for(var m=arguments[0],d=1;d<arguments.length;d++)m=arguments[d](m);return m}}}l.pipe=io;l.hole=Vt;var ao=function(e,t){return t};l.SK=ao;function so(e){return function(t){return!e(t)}}l.not=so;var uo=function(){return{concat:function(e,t){return Ht(e,t)},empty:ze}};l.getEndomorphismMonoid=uo;var co=function(e,t){var r=typeof e=="number"?function(n){return n.length>=e}:e;return function(){var n=Array.from(arguments);return r(arguments)?t.apply(this,n):function(i){return t.apply(void 0,Vn([i],n,!1))}}};l.dual=co});var ge=W(p=>{"use strict";var lo=p&&p.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0});p.flatMapReader=p.flatMapTask=p.flatMapIO=p.flatMapEither=p.flatMapOption=p.flatMapNullable=p.liftOption=p.liftNullable=p.fromReadonlyNonEmptyArray=p.has=p.emptyRecord=p.emptyReadonlyArray=p.tail=p.head=p.isNonEmpty=p.singleton=p.right=p.left=p.isRight=p.isLeft=p.some=p.none=p.isSome=p.isNone=void 0;var se=Y(),po=function(e){return e._tag==="None"};p.isNone=po;var fo=function(e){return e._tag==="Some"};p.isSome=fo;p.none={_tag:"None"};var go=function(e){return{_tag:"Some",value:e}};p.some=go;var mo=function(e){return e._tag==="Left"};p.isLeft=mo;var vo=function(e){return e._tag==="Right"};p.isRight=vo;var ho=function(e){return{_tag:"Left",left:e}};p.left=ho;var yo=function(e){return{_tag:"Right",right:e}};p.right=yo;var xo=function(e){return[e]};p.singleton=xo;var bo=function(e){return e.length>0};p.isNonEmpty=bo;var Ao=function(e){return e[0]};p.head=Ao;var wo=function(e){return e.slice(1)};p.tail=wo;p.emptyReadonlyArray=[];p.emptyRecord={};p.has=Object.prototype.hasOwnProperty;var To=function(e){return lo([e[0]],e.slice(1),!0)};p.fromReadonlyNonEmptyArray=To;var So=function(e){return function(t,r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=t.apply(void 0,n);return e.fromEither(a==null?(0,p.left)(r.apply(void 0,n)):(0,p.right)(a))}}};p.liftNullable=So;var Mo=function(e){return function(t,r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=t.apply(void 0,n);return e.fromEither((0,p.isNone)(a)?(0,p.left)(r.apply(void 0,n)):(0,p.right)(a.value))}}};p.liftOption=Mo;var Eo=function(e,t){return(0,se.dual)(3,function(r,n,i){return t.flatMap(r,(0,p.liftNullable)(e)(n,i))})};p.flatMapNullable=Eo;var Ro=function(e,t){return(0,se.dual)(3,function(r,n,i){return t.flatMap(r,(0,p.liftOption)(e)(n,i))})};p.flatMapOption=Ro;var Po=function(e,t){return(0,se.dual)(2,function(r,n){return t.flatMap(r,function(i){return e.fromEither(n(i))})})};p.flatMapEither=Po;var Io=function(e,t){return(0,se.dual)(2,function(r,n){return t.flatMap(r,function(i){return e.fromIO(n(i))})})};p.flatMapIO=Io;var Oo=function(e,t){return(0,se.dual)(2,function(r,n){return t.flatMap(r,function(i){return e.fromTask(n(i))})})};p.flatMapTask=Oo;var _o=function(e,t){return(0,se.dual)(2,function(r,n){return t.flatMap(r,function(i){return e.fromReader(n(i))})})};p.flatMapReader=_o});var Xe=W(E=>{"use strict";var Co=E&&E.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lo=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Uo=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Co(t,e,r);return Lo(t,e),t};Object.defineProperty(E,"__esModule",{value:!0});E.sequenceS=E.sequenceT=E.getApplySemigroup=E.apS=E.apSecond=E.apFirst=E.ap=void 0;var Do=Y(),No=Uo(ge());function qo(e,t){return function(r){return function(n){return e.ap(e.map(n,function(i){return function(a){return t.ap(i,a)}}),r)}}}E.ap=qo;function Fo(e){return function(t){return function(r){return e.ap(e.map(r,function(n){return function(){return n}}),t)}}}E.apFirst=Fo;function Bo(e){return function(t){return function(r){return e.ap(e.map(r,function(){return function(n){return n}}),t)}}}E.apSecond=Bo;function jo(e){return function(t,r){return function(n){return e.ap(e.map(n,function(i){return function(a){var u;return Object.assign({},i,(u={},u[t]=a,u))}}),r)}}}E.apS=jo;function ko(e){return function(t){return{concat:function(r,n){return e.ap(e.map(r,function(i){return function(a){return t.concat(i,a)}}),n)}}}}E.getApplySemigroup=ko;function Ge(e,t,r){return function(n){for(var i=Array(r.length+1),a=0;a<r.length;a++)i[a]=r[a];return i[r.length]=n,t===0?e.apply(null,i):Ge(e,t-1,i)}}var Je={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(i){return[e,t,r,n,i]}}}}}};function Wo(e){return No.has.call(Je,e)||(Je[e]=Ge(Do.tuple,e-1,[])),Je[e]}function $o(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,i=Wo(n),a=e.map(t[0],i),u=1;u<n;u++)a=e.ap(a,t[u]);return a}}E.sequenceT=$o;function Ko(e){var t=e.length;switch(t){case 1:return function(r){var n;return n={},n[e[0]]=r,n};case 2:return function(r){return function(n){var i;return i={},i[e[0]]=r,i[e[1]]=n,i}};case 3:return function(r){return function(n){return function(i){var a;return a={},a[e[0]]=r,a[e[1]]=n,a[e[2]]=i,a}}};case 4:return function(r){return function(n){return function(i){return function(a){var u;return u={},u[e[0]]=r,u[e[1]]=n,u[e[2]]=i,u[e[3]]=a,u}}}};case 5:return function(r){return function(n){return function(i){return function(a){return function(u){var s;return s={},s[e[0]]=r,s[e[1]]=n,s[e[2]]=i,s[e[3]]=a,s[e[4]]=u,s}}}}};default:return Ge(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i={},a=0;a<t;a++)i[e[a]]=r[a];return i},t-1,[])}}function Ho(e){return function(t){for(var r=Object.keys(t),n=r.length,i=Ko(r),a=e.map(t[r[0]],i),u=1;u<n;u++)a=e.ap(a,t[r[u]]);return a}}E.sequenceS=Ho});var Ie=W(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.asUnit=U.as=U.getFunctorComposition=U.let=U.bindTo=U.flap=U.map=void 0;var Vo=Y();function zt(e,t){return function(r){return function(n){return e.map(n,function(i){return t.map(i,r)})}}}U.map=zt;function zo(e){return function(t){return function(r){return e.map(r,function(n){return n(t)})}}}U.flap=zo;function Jo(e){return function(t){return function(r){return e.map(r,function(n){var i;return i={},i[t]=n,i})}}}U.bindTo=Jo;function Go(e){return function(t,r){return function(n){return e.map(n,function(i){var a;return Object.assign({},i,(a={},a[t]=r(i),a))})}}}U.let=Go;function Xo(e,t){var r=zt(e,t);return{map:function(n,i){return(0,Vo.pipe)(n,r(i))}}}U.getFunctorComposition=Xo;function Jt(e){return function(t,r){return e.map(t,function(){return r})}}U.as=Jt;function Zo(e){var t=Jt(e);return function(r){return t(r,void 0)}}U.asUnit=Zo});var Xt=W(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.getApplicativeComposition=ue.getApplicativeMonoid=void 0;var Gt=Xe(),Qo=Y(),Yo=Ie();function ei(e){var t=(0,Gt.getApplySemigroup)(e);return function(r){return{concat:t(r).concat,empty:e.of(r.empty)}}}ue.getApplicativeMonoid=ei;function ti(e,t){var r=(0,Yo.getFunctorComposition)(e,t).map,n=(0,Gt.ap)(e,t);return{map:r,of:function(i){return e.of(t.of(i))},ap:function(i,a){return(0,Qo.pipe)(i,n(a))}}}ue.getApplicativeComposition=ti});var Ze=W(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.bind=ee.tap=ee.chainFirst=void 0;function ri(e){var t=Zt(e);return function(r){return function(n){return t(n,r)}}}ee.chainFirst=ri;function Zt(e){return function(t,r){return e.chain(t,function(n){return e.map(r(n),function(){return n})})}}ee.tap=Zt;function ni(e){return function(t,r){return function(n){return e.chain(n,function(i){return e.map(r(i),function(a){var u;return Object.assign({},i,(u={},u[t]=a,u))})})}}}ee.bind=ni});var Qt=W(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.tailRec=void 0;var oi=function(e,t){for(var r=t(e);r._tag==="Left";)r=t(r.left);return r.right};Oe.tailRec=oi});var nr=W(S=>{"use strict";var ii=S&&S.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ai=S&&S.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),si=S&&S.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ii(t,e,r);return ai(t,e),t};Object.defineProperty(S,"__esModule",{value:!0});S.tapEither=S.filterOrElse=S.chainFirstEitherK=S.chainEitherK=S.fromEitherK=S.chainOptionK=S.fromOptionK=S.fromPredicate=S.fromOption=void 0;var ui=Ze(),Yt=Y(),oe=si(ge());function er(e){return function(t){return function(r){return e.fromEither(oe.isNone(r)?oe.left(t()):oe.right(r.value))}}}S.fromOption=er;function ci(e){return function(t,r){return function(n){return e.fromEither(t(n)?oe.right(n):oe.left(r(n)))}}}S.fromPredicate=ci;function tr(e){var t=er(e);return function(r){var n=t(r);return function(i){return(0,Yt.flow)(i,n)}}}S.fromOptionK=tr;function li(e,t){var r=tr(e);return function(n){var i=r(n);return function(a){return function(u){return t.chain(u,i(a))}}}}S.chainOptionK=li;function Qe(e){return function(t){return(0,Yt.flow)(t,e.fromEither)}}S.fromEitherK=Qe;function pi(e,t){var r=Qe(e);return function(n){return function(i){return t.chain(i,r(n))}}}S.chainEitherK=pi;function fi(e,t){var r=rr(e,t);return function(n){return function(i){return r(i,n)}}}S.chainFirstEitherK=fi;function gi(e,t){return function(r,n){return function(i){return t.chain(i,function(a){return e.fromEither(r(a)?oe.right(a):oe.left(n(a)))})}}}S.filterOrElse=gi;function rr(e,t){var r=Qe(e),n=(0,ui.tap)(t);return function(i,a){return n(i,r(a))}}S.tapEither=rr});var or=W(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.right=h.left=h.flap=h.Functor=h.Bifunctor=h.URI=h.bimap=h.mapLeft=h.map=h.separated=void 0;var Ye=Y(),di=Ie(),mi=function(e,t){return{left:e,right:t}};h.separated=mi;var vi=function(e,t){return(0,Ye.pipe)(e,(0,h.map)(t))},hi=function(e,t){return(0,Ye.pipe)(e,(0,h.mapLeft)(t))},yi=function(e,t,r){return(0,Ye.pipe)(e,(0,h.bimap)(t,r))},xi=function(e){return function(t){return(0,h.separated)((0,h.left)(t),e((0,h.right)(t)))}};h.map=xi;var bi=function(e){return function(t){return(0,h.separated)(e((0,h.left)(t)),(0,h.right)(t))}};h.mapLeft=bi;var Ai=function(e,t){return function(r){return(0,h.separated)(e((0,h.left)(r)),t((0,h.right)(r)))}};h.bimap=Ai;h.URI="Separated";h.Bifunctor={URI:h.URI,mapLeft:hi,bimap:yi};h.Functor={URI:h.URI,map:vi};h.flap=(0,di.flap)(h.Functor);var wi=function(e){return e.left};h.left=wi;var Ti=function(e){return e.right};h.right=Ti});var ar=W(q=>{"use strict";var Si=q&&q.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mi=q&&q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ei=q&&q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Si(t,e,r);return Mi(t,e),t};Object.defineProperty(q,"__esModule",{value:!0});q.filterE=q.witherDefault=q.wiltDefault=void 0;var ir=Ei(ge());function Ri(e,t){return function(r){var n=e.traverse(r);return function(i,a){return r.map(n(i,a),t.separate)}}}q.wiltDefault=Ri;function Pi(e,t){return function(r){var n=e.traverse(r);return function(i,a){return r.map(n(i,a),t.compact)}}}q.witherDefault=Pi;function Ii(e){return function(t){var r=e.wither(t);return function(n){return function(i){return r(i,function(a){return t.map(n(a),function(u){return u?ir.some(a):ir.none})})}}}}q.filterE=Ii});var dr=W(o=>{"use strict";var Oi=o&&o.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_i=o&&o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ur=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Oi(t,e,r);return _i(t,e),t};Object.defineProperty(o,"__esModule",{value:!0});o.match=o.foldW=o.matchW=o.isRight=o.isLeft=o.fromOption=o.fromPredicate=o.FromEither=o.MonadThrow=o.throwError=o.ChainRec=o.Extend=o.extend=o.Alt=o.alt=o.altW=o.Bifunctor=o.mapLeft=o.bimap=o.Traversable=o.sequence=o.traverse=o.Foldable=o.reduceRight=o.foldMap=o.reduce=o.Monad=o.Chain=o.Applicative=o.Apply=o.ap=o.apW=o.Pointed=o.of=o.asUnit=o.as=o.Functor=o.map=o.getAltValidation=o.getApplicativeValidation=o.getWitherable=o.getFilterable=o.getCompactable=o.getSemigroup=o.getEq=o.getShow=o.URI=o.flatMap=o.right=o.left=void 0;o.chainFirstW=o.chainFirst=o.chain=o.chainW=o.sequenceArray=o.traverseArray=o.traverseArrayWithIndex=o.traverseReadonlyArrayWithIndex=o.traverseReadonlyNonEmptyArrayWithIndex=o.ApT=o.apSW=o.apS=o.bindW=o.bind=o.let=o.bindTo=o.Do=o.exists=o.elem=o.toError=o.toUnion=o.chainNullableK=o.fromNullableK=o.tryCatchK=o.tryCatch=o.fromNullable=o.orElse=o.orElseW=o.swap=o.filterOrElseW=o.filterOrElse=o.flatMapOption=o.flatMapNullable=o.liftOption=o.liftNullable=o.chainOptionKW=o.chainOptionK=o.fromOptionK=o.duplicate=o.flatten=o.flattenW=o.tap=o.apSecondW=o.apSecond=o.apFirstW=o.apFirst=o.flap=o.getOrElse=o.getOrElseW=o.fold=void 0;o.getValidation=o.getValidationMonoid=o.getValidationSemigroup=o.getApplyMonoid=o.getApplySemigroup=o.either=o.stringifyJSON=o.parseJSON=void 0;var cr=Xt(),de=Xe(),lr=ur(Ze()),Ci=Qt(),me=nr(),R=Y(),ve=Ie(),K=ur(ge()),X=or(),sr=ar();o.left=K.left;o.right=K.right;o.flatMap=(0,R.dual)(2,function(e,t){return(0,o.isLeft)(e)?e:t(e.right)});var D=function(e,t){return(0,R.pipe)(e,(0,o.map)(t))},ie=function(e,t){return(0,R.pipe)(e,(0,o.ap)(t))},he=function(e,t,r){return(0,R.pipe)(e,(0,o.reduce)(t,r))},ye=function(e){return function(t,r){var n=(0,o.foldMap)(e);return(0,R.pipe)(t,n(r))}},xe=function(e,t,r){return(0,R.pipe)(e,(0,o.reduceRight)(t,r))},_e=function(e){var t=(0,o.traverse)(e);return function(r,n){return(0,R.pipe)(r,t(n))}},et=function(e,t,r){return(0,R.pipe)(e,(0,o.bimap)(t,r))},tt=function(e,t){return(0,R.pipe)(e,(0,o.mapLeft)(t))},pr=function(e,t){return(0,R.pipe)(e,(0,o.alt)(t))},rt=function(e,t){return(0,R.pipe)(e,(0,o.extend)(t))},nt=function(e,t){return(0,Ci.tailRec)(t(e),function(r){return(0,o.isLeft)(r)?(0,o.right)((0,o.left)(r.left)):(0,o.isLeft)(r.right)?(0,o.left)(t(r.right.left)):(0,o.right)((0,o.right)(r.right.right))})};o.URI="Either";var Li=function(e,t){return{show:function(r){return(0,o.isLeft)(r)?"left(".concat(e.show(r.left),")"):"right(".concat(t.show(r.right),")")}}};o.getShow=Li;var Ui=function(e,t){return{equals:function(r,n){return r===n||((0,o.isLeft)(r)?(0,o.isLeft)(n)&&e.equals(r.left,n.left):(0,o.isRight)(n)&&t.equals(r.right,n.right))}}};o.getEq=Ui;var Di=function(e){return{concat:function(t,r){return(0,o.isLeft)(r)?t:(0,o.isLeft)(t)?r:(0,o.right)(e.concat(t.right,r.right))}}};o.getSemigroup=Di;var Ni=function(e){var t=(0,o.left)(e.empty);return{URI:o.URI,_E:void 0,compact:function(r){return(0,o.isLeft)(r)?r:r.right._tag==="None"?t:(0,o.right)(r.right.value)},separate:function(r){return(0,o.isLeft)(r)?(0,X.separated)(r,r):(0,o.isLeft)(r.right)?(0,X.separated)((0,o.right)(r.right.left),t):(0,X.separated)(t,(0,o.right)(r.right.right))}}};o.getCompactable=Ni;var qi=function(e){var t=(0,o.left)(e.empty),r=(0,o.getCompactable)(e),n=r.compact,i=r.separate,a=function(s,c){return(0,o.isLeft)(s)||c(s.right)?s:t},u=function(s,c){return(0,o.isLeft)(s)?(0,X.separated)(s,s):c(s.right)?(0,X.separated)(t,(0,o.right)(s.right)):(0,X.separated)((0,o.right)(s.right),t)};return{URI:o.URI,_E:void 0,map:D,compact:n,separate:i,filter:a,filterMap:function(s,c){if((0,o.isLeft)(s))return s;var m=c(s.right);return m._tag==="None"?t:(0,o.right)(m.value)},partition:u,partitionMap:function(s,c){if((0,o.isLeft)(s))return(0,X.separated)(s,s);var m=c(s.right);return(0,o.isLeft)(m)?(0,X.separated)((0,o.right)(m.left),t):(0,X.separated)(t,(0,o.right)(m.right))}}};o.getFilterable=qi;var Fi=function(e){var t=(0,o.getFilterable)(e),r=(0,o.getCompactable)(e);return{URI:o.URI,_E:void 0,map:D,compact:t.compact,separate:t.separate,filter:t.filter,filterMap:t.filterMap,partition:t.partition,partitionMap:t.partitionMap,traverse:_e,sequence:o.sequence,reduce:he,foldMap:ye,reduceRight:xe,wither:(0,sr.witherDefault)(o.Traversable,r),wilt:(0,sr.wiltDefault)(o.Traversable,r)}};o.getWitherable=Fi;var Bi=function(e){return{URI:o.URI,_E:void 0,map:D,ap:function(t,r){return(0,o.isLeft)(t)?(0,o.isLeft)(r)?(0,o.left)(e.concat(t.left,r.left)):t:(0,o.isLeft)(r)?r:(0,o.right)(t.right(r.right))},of:o.of}};o.getApplicativeValidation=Bi;var ji=function(e){return{URI:o.URI,_E:void 0,map:D,alt:function(t,r){if((0,o.isRight)(t))return t;var n=r();return(0,o.isLeft)(n)?(0,o.left)(e.concat(t.left,n.left)):n}}};o.getAltValidation=ji;var ki=function(e){return function(t){return(0,o.isLeft)(t)?t:(0,o.right)(e(t.right))}};o.map=ki;o.Functor={URI:o.URI,map:D};o.as=(0,R.dual)(2,(0,ve.as)(o.Functor));o.asUnit=(0,ve.asUnit)(o.Functor);o.of=o.right;o.Pointed={URI:o.URI,of:o.of};var Wi=function(e){return function(t){return(0,o.isLeft)(t)?t:(0,o.isLeft)(e)?e:(0,o.right)(t.right(e.right))}};o.apW=Wi;o.ap=o.apW;o.Apply={URI:o.URI,map:D,ap:ie};o.Applicative={URI:o.URI,map:D,ap:ie,of:o.of};o.Chain={URI:o.URI,map:D,ap:ie,chain:o.flatMap};o.Monad={URI:o.URI,map:D,ap:ie,of:o.of,chain:o.flatMap};var $i=function(e,t){return function(r){return(0,o.isLeft)(r)?e:t(e,r.right)}};o.reduce=$i;var Ki=function(e){return function(t){return function(r){return(0,o.isLeft)(r)?e.empty:t(r.right)}}};o.foldMap=Ki;var Hi=function(e,t){return function(r){return(0,o.isLeft)(r)?e:t(r.right,e)}};o.reduceRight=Hi;o.Foldable={URI:o.URI,reduce:he,foldMap:ye,reduceRight:xe};var Vi=function(e){return function(t){return function(r){return(0,o.isLeft)(r)?e.of((0,o.left)(r.left)):e.map(t(r.right),o.right)}}};o.traverse=Vi;var zi=function(e){return function(t){return(0,o.isLeft)(t)?e.of((0,o.left)(t.left)):e.map(t.right,o.right)}};o.sequence=zi;o.Traversable={URI:o.URI,map:D,reduce:he,foldMap:ye,reduceRight:xe,traverse:_e,sequence:o.sequence};var Ji=function(e,t){return function(r){return(0,o.isLeft)(r)?(0,o.left)(e(r.left)):(0,o.right)(t(r.right))}};o.bimap=Ji;var Gi=function(e){return function(t){return(0,o.isLeft)(t)?(0,o.left)(e(t.left)):t}};o.mapLeft=Gi;o.Bifunctor={URI:o.URI,bimap:et,mapLeft:tt};var Xi=function(e){return function(t){return(0,o.isLeft)(t)?e():t}};o.altW=Xi;o.alt=o.altW;o.Alt={URI:o.URI,map:D,alt:pr};var Zi=function(e){return function(t){return(0,o.isLeft)(t)?t:(0,o.right)(e(t))}};o.extend=Zi;o.Extend={URI:o.URI,map:D,extend:rt};o.ChainRec={URI:o.URI,map:D,ap:ie,chain:o.flatMap,chainRec:nt};o.throwError=o.left;o.MonadThrow={URI:o.URI,map:D,ap:ie,of:o.of,chain:o.flatMap,throwError:o.throwError};o.FromEither={URI:o.URI,fromEither:R.identity};o.fromPredicate=(0,me.fromPredicate)(o.FromEither);o.fromOption=(0,me.fromOption)(o.FromEither);o.isLeft=K.isLeft;o.isRight=K.isRight;var Qi=function(e,t){return function(r){return(0,o.isLeft)(r)?e(r.left):t(r.right)}};o.matchW=Qi;o.foldW=o.matchW;o.match=o.matchW;o.fold=o.match;var Yi=function(e){return function(t){return(0,o.isLeft)(t)?e(t.left):t.right}};o.getOrElseW=Yi;o.getOrElse=o.getOrElseW;o.flap=(0,ve.flap)(o.Functor);o.apFirst=(0,de.apFirst)(o.Apply);o.apFirstW=o.apFirst;o.apSecond=(0,de.apSecond)(o.Apply);o.apSecondW=o.apSecond;o.tap=(0,R.dual)(2,lr.tap(o.Chain));o.flattenW=(0,o.flatMap)(R.identity);o.flatten=o.flattenW;o.duplicate=(0,o.extend)(R.identity);o.fromOptionK=(0,me.fromOptionK)(o.FromEither);o.chainOptionK=(0,me.chainOptionK)(o.FromEither,o.Chain);o.chainOptionKW=o.chainOptionK;var Ce={fromEither:o.FromEither.fromEither};o.liftNullable=K.liftNullable(Ce);o.liftOption=K.liftOption(Ce);var fr={flatMap:o.flatMap};o.flatMapNullable=K.flatMapNullable(Ce,fr);o.flatMapOption=K.flatMapOption(Ce,fr);o.filterOrElse=(0,me.filterOrElse)(o.FromEither,o.Chain);o.filterOrElseW=o.filterOrElse;var ea=function(e){return(0,o.isLeft)(e)?(0,o.right)(e.left):(0,o.left)(e.right)};o.swap=ea;var ta=function(e){return function(t){return(0,o.isLeft)(t)?e(t.left):t}};o.orElseW=ta;o.orElse=o.orElseW;var ra=function(e){return function(t){return t==null?(0,o.left)(e):(0,o.right)(t)}};o.fromNullable=ra;var na=function(e,t){try{return(0,o.right)(e())}catch(r){return(0,o.left)(t(r))}};o.tryCatch=na;var oa=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(0,o.tryCatch)(function(){return e.apply(void 0,r)},t)}};o.tryCatchK=oa;var ia=function(e){var t=(0,o.fromNullable)(e);return function(r){return(0,R.flow)(r,t)}};o.fromNullableK=ia;var aa=function(e){var t=(0,o.fromNullableK)(e);return function(r){return(0,o.flatMap)(t(r))}};o.chainNullableK=aa;o.toUnion=(0,o.foldW)(R.identity,R.identity);function sa(e){try{return e instanceof Error?e:new Error(String(e))}catch{return new Error}}o.toError=sa;function gr(e){return function(t,r){if(r===void 0){var n=gr(e);return function(i){return n(t,i)}}return(0,o.isLeft)(r)?!1:e.equals(t,r.right)}}o.elem=gr;var ua=function(e){return function(t){return(0,o.isLeft)(t)?!1:e(t.right)}};o.exists=ua;o.Do=(0,o.of)(K.emptyRecord);o.bindTo=(0,ve.bindTo)(o.Functor);var ca=(0,ve.let)(o.Functor);o.let=ca;o.bind=lr.bind(o.Chain);o.bindW=o.bind;o.apS=(0,de.apS)(o.Apply);o.apSW=o.apS;o.ApT=(0,o.of)(K.emptyReadonlyArray);var la=function(e){return function(t){var r=e(0,K.head(t));if((0,o.isLeft)(r))return r;for(var n=[r.right],i=1;i<t.length;i++){var a=e(i,t[i]);if((0,o.isLeft)(a))return a;n.push(a.right)}return(0,o.right)(n)}};o.traverseReadonlyNonEmptyArrayWithIndex=la;var pa=function(e){var t=(0,o.traverseReadonlyNonEmptyArrayWithIndex)(e);return function(r){return K.isNonEmpty(r)?t(r):o.ApT}};o.traverseReadonlyArrayWithIndex=pa;o.traverseArrayWithIndex=o.traverseReadonlyArrayWithIndex;var fa=function(e){return(0,o.traverseReadonlyArrayWithIndex)(function(t,r){return e(r)})};o.traverseArray=fa;o.sequenceArray=(0,o.traverseArray)(R.identity);o.chainW=o.flatMap;o.chain=o.flatMap;o.chainFirst=o.tap;o.chainFirstW=o.tap;function ga(e,t){return(0,o.tryCatch)(function(){return JSON.parse(e)},t)}o.parseJSON=ga;var da=function(e,t){return(0,o.tryCatch)(function(){var r=JSON.stringify(e);if(typeof r!="string")throw new Error("Converting unsupported structure to JSON");return r},t)};o.stringifyJSON=da;o.either={URI:o.URI,map:D,of:o.of,ap:ie,chain:o.flatMap,reduce:he,foldMap:ye,reduceRight:xe,traverse:_e,sequence:o.sequence,bimap:et,mapLeft:tt,alt:pr,extend:rt,chainRec:nt,throwError:o.throwError};o.getApplySemigroup=(0,de.getApplySemigroup)(o.Apply);o.getApplyMonoid=(0,cr.getApplicativeMonoid)(o.Applicative);var ma=function(e,t){return(0,de.getApplySemigroup)((0,o.getApplicativeValidation)(e))(t)};o.getValidationSemigroup=ma;var va=function(e,t){return(0,cr.getApplicativeMonoid)((0,o.getApplicativeValidation)(e))(t)};o.getValidationMonoid=va;function ha(e){var t=(0,o.getApplicativeValidation)(e).ap,r=(0,o.getAltValidation)(e).alt;return{URI:o.URI,_E:void 0,map:D,of:o.of,chain:o.flatMap,bimap:et,mapLeft:tt,reduce:he,foldMap:ye,reduceRight:xe,extend:rt,traverse:_e,sequence:o.sequence,chainRec:nt,throwError:o.throwError,ap:t,alt:r}}o.getValidation=ha});var br=W((ut,xr)=>{(function(e,t){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],t);else if(typeof ut<"u")t(xr);else{var r={exports:{}};t(r),e.browser=r.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:ut,function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let t="The message port closed before a response was received.",r=n=>{let i={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(i).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(g,x=void 0){super(x),this.createItem=g}get(g){return this.has(g)||this.set(g,this.createItem(g)),super.get(g)}}let u=f=>f&&typeof f=="object"&&typeof f.then=="function",s=(f,g)=>(...x)=>{n.runtime.lastError?f.reject(new Error(n.runtime.lastError.message)):g.singleCallbackArg||x.length<=1&&g.singleCallbackArg!==!1?f.resolve(x[0]):f.resolve(x)},c=f=>f==1?"argument":"arguments",m=(f,g)=>function(w,...C){if(C.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${c(g.minArgs)} for ${f}(), got ${C.length}`);if(C.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${c(g.maxArgs)} for ${f}(), got ${C.length}`);return new Promise((F,j)=>{if(g.fallbackToNoCallback)try{w[f](...C,s({resolve:F,reject:j},g))}catch(y){console.warn(`${f} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,y),w[f](...C),g.fallbackToNoCallback=!1,g.noCallback=!0,F()}else g.noCallback?(w[f](...C),F()):w[f](...C,s({resolve:F,reject:j},g))})},d=(f,g,x)=>new Proxy(g,{apply(w,C,F){return x.call(C,f,...F)}}),T=Function.call.bind(Object.prototype.hasOwnProperty),v=(f,g={},x={})=>{let w=Object.create(null),C={has(j,y){return y in f||y in w},get(j,y,k){if(y in w)return w[y];if(!(y in f))return;let I=f[y];if(typeof I=="function")if(typeof g[y]=="function")I=d(f,f[y],g[y]);else if(T(x,y)){let ae=m(y,x[y]);I=d(f,f[y],ae)}else I=I.bind(f);else if(typeof I=="object"&&I!==null&&(T(g,y)||T(x,y)))I=v(I,g[y],x[y]);else if(T(x,"*"))I=v(I,g[y],x["*"]);else return Object.defineProperty(w,y,{configurable:!0,enumerable:!0,get(){return f[y]},set(ae){f[y]=ae}}),I;return w[y]=I,I},set(j,y,k,I){return y in w?w[y]=k:f[y]=k,!0},defineProperty(j,y,k){return Reflect.defineProperty(w,y,k)},deleteProperty(j,y){return Reflect.deleteProperty(w,y)}},F=Object.create(f);return new Proxy(F,C)},N=f=>({addListener(g,x,...w){g.addListener(f.get(x),...w)},hasListener(g,x){return g.hasListener(f.get(x))},removeListener(g,x){g.removeListener(f.get(x))}}),V=new a(f=>typeof f!="function"?f:function(x){let w=v(x,{},{getContent:{minArgs:0,maxArgs:0}});f(w)}),_=new a(f=>typeof f!="function"?f:function(x,w,C){let F=!1,j,y=new Promise(ce=>{j=function(J){F=!0,ce(J)}}),k;try{k=f(x,w,j)}catch(ce){k=Promise.reject(ce)}let I=k!==!0&&u(k);if(k!==!0&&!I&&!F)return!1;let ae=ce=>{ce.then(J=>{C(J)},J=>{let Ue;J&&(J instanceof Error||typeof J.message=="string")?Ue=J.message:Ue="An unexpected error occurred",C({__mozWebExtensionPolyfillReject__:!0,message:Ue})}).catch(J=>{console.error("Failed to send onMessage rejected reply",J)})};return ae(I?k:y),!0}),te=({reject:f,resolve:g},x)=>{n.runtime.lastError?n.runtime.lastError.message===t?g():f(new Error(n.runtime.lastError.message)):x&&x.__mozWebExtensionPolyfillReject__?f(new Error(x.message)):g(x)},gt=(f,g,x,...w)=>{if(w.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${c(g.minArgs)} for ${f}(), got ${w.length}`);if(w.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${c(g.maxArgs)} for ${f}(), got ${w.length}`);return new Promise((C,F)=>{let j=te.bind(null,{resolve:C,reject:F});w.push(j),x.sendMessage(...w)})},Ur={devtools:{network:{onRequestFinished:N(V)}},runtime:{onMessage:N(_),onMessageExternal:N(_),sendMessage:gt.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:gt.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Le={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return i.privacy={network:{"*":Le},services:{"*":Le},websites:{"*":Le}},v(n,Ur,i)};e.exports=r(chrome)}else e.exports=globalThis.browser})});var kr=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};function vt(e){return e}function De(e,t,r,n,i,a,u,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return u(a(i(n(r(t(e))))));case 8:return s(u(a(i(n(r(t(e)))))));case 9:return c(s(u(a(i(n(r(t(e))))))));default:{for(var m=arguments[0],d=1;d<arguments.length;d++)m=arguments[d](m);return m}}}var Ae=function(e,t){var r=typeof e=="number"?function(n){return n.length>=e}:e;return function(){var n=Array.from(arguments);return r(arguments)?t.apply(this,n):function(i){return t.apply(void 0,kr([i],n,!1))}}};var ht=function(e){return e._tag==="Left"};var yt=function(e){return{_tag:"Left",left:e}},xt=function(e){return{_tag:"Right",right:e}};function Ne(e){return function(t,r){return e.map(t,function(){return r})}}function bt(e){var t=Ne(e);return function(r){return t(r,void 0)}}function At(e){return function(t,r){return e.chain(t,function(n){return e.map(r(n),function(){return n})})}}var wt=yt,we=xt,Kr=Ae(2,function(e,t){return z(e)?e:t(e.right)}),Tt=function(e,t){return De(e,Vr(t))},Hr=function(e,t){return De(e,Jr(t))};var qe="Either";var Vr=function(e){return function(t){return z(t)?t:we(e(t.right))}},St={URI:qe,map:Tt},fs=Ae(2,Ne(St)),gs=bt(St);var zr=function(e){return function(t){return z(t)?t:z(e)?e:we(t.right(e.right))}},Jr=zr;var Gr={URI:qe,map:Tt,ap:Hr,chain:Kr};var Xr={URI:qe,fromEither:vt};var z=ht;var ds=Ae(2,At(Gr));var ms={fromEither:Xr.fromEither};var A=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Te=function(){return Te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Te.apply(this,arguments)};var ke=wt,L=function(e,t,r){return ke([{value:e,context:t,message:r}])},O=we,b=function(){function e(t,r,n,i){this.name=t,this.is=r,this.validate=n,this.encode=i,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,r){var n=this;return r===void 0&&(r="pipe(".concat(this.name,", ").concat(t.name,")")),new e(r,t.is,function(i,a){var u=n.validate(i,a);return z(u)?u:t.validate(u.right,a)},this.encode===M&&t.encode===M?M:function(i){return n.encode(t.encode(i))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},e}();var M=function(e){return e};function Zr(e){return e.displayName||e.name||"<function".concat(e.length,">")}function Be(e,t,r,n){for(var i=e.length,a=Array(i+1),u=0;u<i;u++)a[u]=e[u];return a[i]={key:t,type:r,actual:n},a}function Et(e,t){for(var r=t.length,n=0;n<r;n++)e.push(t[n])}var Se=Object.prototype.hasOwnProperty;function Qr(e){return Object.keys(e).map(function(t){return"".concat(t,": ").concat(e[t].name)}).join(", ")}function je(e){for(var t=0;t<e.length;t++)if(e[t].encode!==M)return!1;return!0}function Yr(e){return"{ ".concat(Qr(e)," }")}function en(e){return"("+e.map(function(t){return t.name}).join(" | ")+")"}function tn(e){return e.length>0}var B={};function Rt(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];t.indexOf(a)!==-1&&r.push(a)}return r}function rn(e,t){if(e===B)return t;if(t===B)return e;var r=Object.assign({},e);for(var n in t)if(Se.call(e,n)){var i=Rt(e[n],t[n]);if(tn(i))r[n]=i;else{r=B;break}}else r[n]=t[n];return r}function nn(e,t){if(e===B||t===B)return B;var r=B;for(var n in e)if(Se.call(t,n)){var i=Rt(e[n],t[n]);i.length===0&&(r===B&&(r={}),r[n]=e[n].concat(t[n]))}return r}function on(e){return e._tag==="LiteralType"}function an(e){return e._tag==="InterfaceType"}function sn(e){return e._tag==="StrictType"}function un(e){return e._tag==="ExactType"}function cn(e){return e._tag==="RefinementType"}function ln(e){return e._tag==="IntersectionType"}function pn(e){return e._tag==="UnionType"}function fn(e){return e._tag==="RecursiveType"}var Fe=[];function re(e){if(Fe.indexOf(e)!==-1)return B;if(an(e)||sn(e)){var t=B;for(var r in e.props){var n=e.props[r];on(n)&&(t===B&&(t={}),t[r]=[n.value])}return t}else{if(un(e)||cn(e))return re(e.type);if(ln(e))return e.types.reduce(function(a,u){return rn(a,re(u))},B);if(pn(e))return e.types.slice(1).reduce(function(a,u){return nn(a,re(u))},re(e.types[0]));if(fn(e)){Fe.push(e);var i=re(e.type);return Fe.pop(),i}}return B}function gn(e){var t=re(e[0]),r=Object.keys(t),n=e.length,i=function(m){for(var d=t[m].slice(),T=[t[m]],v=1;v<n;v++){var N=e[v],V=re(N),_=V[m];if(_===void 0)return"continue-keys";if(_.some(function(te){return d.indexOf(te)!==-1}))return"continue-keys";d.push.apply(d,_),T.push(_)}return{value:[m,T]}};e:for(var a=0,u=r;a<u.length;a++){var s=u[a],c=i(s);if(typeof c=="object")return c.value;switch(c){case"continue-keys":continue e}}}var dn=function(e){A(t,e);function t(){var r=e.call(this,"null",function(n){return n===null},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="NullType",r}return t}(b);var ys=new dn,mn=function(e){A(t,e);function t(){var r=e.call(this,"undefined",function(n){return n===void 0},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="UndefinedType",r}return t}(b);var Mt=new mn,vn=function(e){A(t,e);function t(){var r=e.call(this,"void",Mt.is,Mt.validate,M)||this;return r._tag="VoidType",r}return t}(b);var xs=new vn,hn=function(e){A(t,e);function t(){var r=e.call(this,"unknown",function(n){return!0},O,M)||this;return r._tag="UnknownType",r}return t}(b);var Ee=new hn,yn=function(e){A(t,e);function t(){var r=e.call(this,"string",function(n){return typeof n=="string"},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="StringType",r}return t}(b);var Pt=new yn,xn=function(e){A(t,e);function t(){var r=e.call(this,"number",function(n){return typeof n=="number"},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="NumberType",r}return t}(b);var It=new xn,bn=function(e){A(t,e);function t(){var r=e.call(this,"bigint",function(n){return typeof n=="bigint"},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="BigIntType",r}return t}(b);var bs=new bn,An=function(e){A(t,e);function t(){var r=e.call(this,"boolean",function(n){return typeof n=="boolean"},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="BooleanType",r}return t}(b);var As=new An,wn=function(e){A(t,e);function t(){var r=e.call(this,"UnknownArray",Array.isArray,function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="AnyArrayType",r}return t}(b);var ws=new wn,Tn=function(e){A(t,e);function t(){var r=e.call(this,"UnknownRecord",function(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="AnyDictionaryType",r}return t}(b);var Me=new Tn;var Sn=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.value=u,s._tag="LiteralType",s}return t}(b);function Re(e,t){t===void 0&&(t=JSON.stringify(e));var r=function(n){return n===e};return new Sn(t,r,function(n,i){return r(n)?O(e):L(n,i)},M,e)}var Ts=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.keys=u,s._tag="KeyofType",s}return t}(b);var Mn=function(e){A(t,e);function t(r,n,i,a,u,s){var c=e.call(this,r,n,i,a)||this;return c.type=u,c.predicate=s,c._tag="RefinementType",c}return t}(b);function En(e,t,r){return Ct(e,t,r)}var Ss=En(It,function(e){return Number.isInteger(e)},"Int"),Rn=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.runDefinition=u,s._tag="RecursiveType",s}return t}(b);Object.defineProperty(Rn.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var Ms=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.type=u,s._tag="ArrayType",s}return t}(b);var Pn=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.props=u,s._tag="InterfaceType",s}return t}(b);function le(e,t){t===void 0&&(t=Yr(e));var r=Object.keys(e),n=r.map(function(a){return e[a]}),i=r.length;return new Pn(t,function(a){if(Me.is(a)){for(var u=0;u<i;u++){var s=r[u],c=a[s];if(c===void 0&&!Se.call(a,s)||!n[u].is(c))return!1}return!0}return!1},function(a,u){var s=Me.validate(a,u);if(z(s))return s;for(var c=s.right,m=c,d=[],T=0;T<i;T++){var v=r[T],N=m[v],V=n[T],_=V.validate(N,Be(u,v,V,N));if(z(_))Et(d,_.left);else{var te=_.right;(te!==N||te===void 0&&!Se.call(m,v))&&(m===c&&(m=Te({},c)),m[v]=te)}}return d.length>0?ke(d):O(m)},je(n)?M:function(a){for(var u=Te({},a),s=0;s<i;s++){var c=r[s],m=n[s].encode;m!==M&&(u[c]=m(a[c]))}return u},e)}var Es=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.props=u,s._tag="PartialType",s}return t}(b);var Rs=function(e){A(t,e);function t(r,n,i,a,u,s){var c=e.call(this,r,n,i,a)||this;return c.domain=u,c.codomain=s,c._tag="DictionaryType",c}return t}(b);var Ot=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.types=u,s._tag="UnionType",s}return t}(b);function _t(e,t){t===void 0&&(t=en(e));var r=gn(e);if(r!==void 0&&e.length>0){var n=r[0],i=r[1],a=i.length,u=function(s){for(var c=0;c<a;c++)if(i[c].indexOf(s)!==-1)return c};return new Cn(t,function(s){if(Me.is(s)){var c=u(s[n]);return c!==void 0?e[c].is(s):!1}return!1},function(s,c){var m=Me.validate(s,c);if(z(m))return m;var d=m.right,T=u(d[n]);if(T===void 0)return L(s,c);var v=e[T];return v.validate(d,Be(c,String(T),v,d))},je(e)?M:function(s){var c=u(s[n]);if(c===void 0)throw new Error("no codec found to encode value in union codec ".concat(t));return e[c].encode(s)},e,n)}else return new Ot(t,function(s){return e.some(function(c){return c.is(s)})},function(s,c){for(var m=[],d=0;d<e.length;d++){var T=e[d],v=T.validate(s,Be(c,String(d),T,s));if(z(v))Et(m,v.left);else return O(v.right)}return ke(m)},je(e)?M:function(s){for(var c=0,m=e;c<m.length;c++){var d=m[c];if(d.is(s))return d.encode(s)}throw new Error("no codec found to encode value in union type ".concat(t))},e)}var Ps=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.types=u,s._tag="IntersectionType",s}return t}(b);var Is=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.types=u,s._tag="TupleType",s}return t}(b);var Os=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.type=u,s._tag="ReadonlyType",s}return t}(b);var _s=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.type=u,s._tag="ReadonlyArrayType",s}return t}(b);var Cs=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.type=u,s._tag="ExactType",s}return t}(b);var In=function(e){A(t,e);function t(){var r=e.call(this,"Function",function(n){return typeof n=="function"},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="FunctionType",r}return t}(b);var Ls=new In,On=function(e){A(t,e);function t(){var r=e.call(this,"never",function(n){return!1},function(n,i){return L(n,i)},function(){throw new Error("cannot encode never")})||this;return r._tag="NeverType",r}return t}(b);var Us=new On,_n=function(e){A(t,e);function t(){var r=e.call(this,"any",function(n){return!0},O,M)||this;return r._tag="AnyType",r}return t}(b);var Ds=new _n;function Ct(e,t,r){return r===void 0&&(r="(".concat(e.name," | ").concat(Zr(t),")")),new Mn(r,function(n){return e.is(n)&&t(n)},function(n,i){var a=e.validate(n,i);if(z(a))return a;var u=a.right;return t(u)?O(u):L(u,i)},e.encode,e,t)}var Ns=Ct(It,Number.isInteger,"Integer"),Cn=function(e){A(t,e);function t(r,n,i,a,u,s){var c=e.call(this,r,n,i,a,u)||this;return c.tag=s,c}return t}(Ot);var Ln=function(e){A(t,e);function t(){var r=e.call(this,"object",function(n){return n!==null&&typeof n=="object"},function(n,i){return r.is(n)?O(n):L(n,i)},M)||this;return r._tag="ObjectType",r}return t}(b);var qs=new Ln;var Fs=function(e){A(t,e);function t(r,n,i,a,u){var s=e.call(this,r,n,i,a)||this;return s.props=u,s._tag="StrictType",s}return t}(b);var Ut,Un=Symbol(),$=class{constructor(t){this[Ut]=0,this.toString=()=>this.str,this.toJSON=()=>this.str,this.loggableString=()=>this,this.replace=(r,n)=>ne(this.str.replace(r,n.str)),this.concat=r=>ne(this.str+r.str),this.str=t}};Ut=Un;$.assertLogSafe=e=>new $(e);var Dn=(e,t)=>ne(e.map(r=>r.str).join(t?.str)),ne=$.assertLogSafe,Q=(e,...t)=>Dn(e.flatMap((r,n)=>{let i=t[n];return i!==void 0?[ne(r),i]:[ne(r)]}),ne(""));var Nn=new b("LoggableString",e=>e instanceof $,(e,t)=>e instanceof $?O(e):L(e,t,"cannot decode unknown value to LoggableString"),e=>e.str);function Dt(e,t,r){if(r){console.error(`${r.str}: Unexpected value of variable: "${t.str}"`);return}console.error(`Unexpected value of variable: "${t.str}"`)}function qn(){return Fn().toString(36)}function Fn(){return globalThis.crypto.getRandomValues(new Uint32Array(1))[0]}function Nt(){return $.assertLogSafe(qn())}var We=e=>{let[t]=e.split("?");return`PortOpener: ${t}`},qt=(e,t,r)=>{let n=Ft(e,t);return t?.reconnect&&Bt(n,r),n},Ft=(e,t,r)=>Bn(e,t||{},r),Bn=(e,t,r)=>{let{port:n,portId:i}=jn(e,t,r),a=We(n.name);`${a}`;let u=kn(n);n.onMessage.addListener(u);let s=()=>{n.onMessage.removeListener(u),n.onDisconnect.removeListener(s)};n.onDisconnect.addListener(s);let c=new WeakMap;return{name:`${e.toString()}/${i.toString()}`,disconnect:()=>n.disconnect(),postMessage:d=>{`${a}${d.type}`,n.postMessage(d)},onMessage:{addListener:d=>{let T=(v,N)=>{v.type!=="pm-health-check-request"&&d(v,N.name)};n.onMessage.addListener(T),c.set(d,T)},removeListener:d=>{let T=c.get(d);n.onMessage.removeListener(T),c.delete(d)}},onDisconnect:{addListener:d=>{n.onDisconnect.addListener(d)},removeListener:d=>{n.onDisconnect.removeListener(d)}},getConfig:()=>({id:i,reqId:t.reqId,type:e})}},Bt=(e,t)=>{let r=We(e.name),n=new Map,i=new Map,a={...e.onMessage},u={...e.onDisconnect},s=v=>{`${r}`,a.addListener(v),n.set(v,v)},c=v=>{`${r}`,a.removeListener(v),n.delete(v)},m=v=>{`${r}`,u.addListener(v),i.set(v,v)},d=v=>{`${r}`,u.removeListener(v),i.delete(v)},T=v=>{if(!v.persisted)return;window.removeEventListener("pageshow",T),`${r}`;let N=e.getConfig(),V=Ft(N.type,{reconnect:!0,reqId:N.reqId},N.id);Bt(V,t);for(let _ of n.keys())e.onMessage.removeListener(_),V.onMessage.addListener(_);for(let _ of i.keys())e.onDisconnect.removeListener(_),V.onDisconnect.addListener(_);t?.(V)};e.onMessage.addListener=s,e.onMessage.removeListener=c,e.onDisconnect.addListener=m,e.onDisconnect.removeListener=d,window.addEventListener("pageshow",T)},jn=(e,t,r)=>{let n=Nt(),i={};t.reqId&&(i.reqId=t.reqId.str),t.reconnect&&(i.reconnect=`${t.reconnect}`),r&&(i.reconnectId=r.str);let a="?"+new URLSearchParams(i).toString();return{port:chrome.runtime.connect({name:`${e.str}/${n.str}${a.length>1?a:""}`}),portId:n}},kn=e=>t=>{let r=We(e.name);if(t.type==="error"){console.warn(`${r} received error: "${t.data.loggableReason}"`);return}if(t.type!=="pm-health-check-request"){`${r}${t.type}`;return}if(t.type==="pm-health-check-request"){`${r}${t.type}`,e.postMessage({type:"pm-health-check-response",data:{windowClosed:window.closed,id:t.data.id}});return}Dt(t,Q`message`)};var Pe=class{_prependMessage;constructor(t=""){this._prependMessage=t}log=(t,...r)=>{this.isPermitted()&&(this.message(t),[...r])};debug=(t,...r)=>{this.isPermitted()&&(this.message(t),[...r])};info=(t,...r)=>{this.isPermitted()&&console.info(this.message(t),...r)};warn=(t,...r)=>{this.isPermitted()&&console.warn(this.message(t),...r)};error=(t,...r)=>{this.isPermitted()&&console.error(this.message(t),...r)};isPermitted=()=>!1;message=t=>this._prependMessage?`${this._prependMessage}: ${t}`:t};function jt(e){return!!(e&&typeof e=="object"&&["Success","Error"].includes(e.type))}function Wn(e){try{return e?.useChrome||browser?.runtime===void 0?async t=>kt(t):async t=>browser.runtime.sendMessage(t)}catch{return async r=>kt(r)}}async function Wt(e,t){let n=await Wn(t)(e).catch(i=>{let a=i instanceof Error?i.message:String(i);if(a.includes("Receiving end does not exist"))`${e.name}`;else if(a.includes("The message port closed"))`${e.name}`;else if(!a)`${e.name}`;else throw new Error(`Unhandled error response received for message <${e.name}>`)});if(jt(n))switch(n.type){case"Success":return n.data;case"Error":throw new Error(n.message??`Error response received for message <${e.name}>`)}if(n)throw new Error(`Unknown response type received for message <${e.name}>`);return n}async function kt(e){return new Promise((t,r)=>{chrome.runtime.sendMessage(e,n=>{if(n?.type==="Success")t(n);else{let i=chrome.runtime.lastError;r(new Error(i?.message))}})})}var $e=class{port;portType;registeredHandlers;constructor(t){t&&(this.portType=t,this.setupPort(t),this.registeredHandlers=[])}request=async t=>Wt(t);setupRegisteredHandler=(t,r)=>{function n(i,a,u){if(i.name&&i.name===t){let s=new Pe("WebExtListener handler registration");return new Promise(c=>c(r(i.data))).then(u).catch(c=>{console.warn(`Caught error handling <${i.name}> message`),s.error(c)}),!0}return!1}return n};on=(t,r)=>{let n=this.setupRegisteredHandler(t,r);return this.registeredHandlers=this.registeredHandlers??[],this.registeredHandlers.push(n),chrome.runtime.onMessage.addListener(n),n};setupPort=t=>{this.port=qt($.assertLogSafe(t),{reconnect:!0},this.onPortReconnect),this.port.onMessage.addListener(this.onPortMessage)};onPortReconnect=t=>{this.port=t};onPortMessage=({type:t,data:r})=>{if(t!=="targeted-inline-message")return;(this.registeredHandlers??[]).forEach(i=>{let a=()=>{`${r.message.name}`};i(r.message,void 0,a)})};off=(t,r)=>{chrome.runtime.onMessage.removeListener(r)}};function $t(e){return new $e(e)}var Ke=_t([le({type:Re("Success"),data:Ee}),le({type:Re("Error"),message:Ee}),le({type:Re("NoListener")})]),$n=le({name:Pt,data:Ee});var He=()=>Number(crypto.getRandomValues(new Uint32Array(1))[0]),Kt=()=>crypto.getRandomValues(new Uint32Array(1))[0].toString(36);var pe=class e{constructor(t,r){this.appName=t;this.traceReporter=r;this.appName=t,this.observerId=String(Kt()),this.performanceObserver=new PerformanceObserver(n=>{n.getEntries().filter(i=>!!i.detail?.spanId).forEach(i=>{let a=this.buildDataDogPayload(i);if(a.meta.entryType==="measure")try{this.traceReporter(a)}catch(u){console.error("Error in sending trace",u)}})})}performanceObserver;observerId;startObserver(){this.performanceObserver.observe({type:"measure",buffered:!0}),`${this.appName}${this.observerId}`}stopObserver(){this.performanceObserver.disconnect()}calculateEpochTime(t){return Math.round(t+performance.timeOrigin)}static humanReadableTimestamp(t){return Math.round(t*100)/100}buildDataDogPayload(t){return{name:t.name,traceId:t.detail.traceId,spanId:t.detail.spanId,parentId:t.detail.parentSpanId,start:this.calculateEpochTime(t.startTime),duration:Math.round(t.duration*1e6),service:this.appName,resource:t.name,type:"web",error:t.detail.error?1:0,meta:{observerId:this.observerId,entryType:t.entryType,component:t.detail.componentName,operation:t.detail.componentName}}}static createActiveSpan(t,r,n){let i={name:t,componentName:r,spanId:He(),traceId:n?n.traceId:He(),parentSpanId:n?n.spanId:void 0,error:!1};return performance.mark(`start-${t}`,{detail:i}),i}static endActiveSpan(t,r=!1,n=!1){let i=performance.measure(t.name,{start:`start-${t.name}`,detail:{...t,error:r}});n&&console.info(`Performance diagnostic: "${t.name}" took ${this.humanReadableTimestamp(i.duration)}ms to execute.`)}static syncObserve(t,r,n,i,a=!1){let u=this.createActiveSpan(t,r,i);try{let s=n(u);return this.endActiveSpan(u,!1,a),s}catch(s){throw this.endActiveSpan(u,!0,a),s}}static async asyncObserve(t,r,n,i,a=!1){let u=this.createActiveSpan(t,r,i);try{let s=await n(u);return this.endActiveSpan(u,!1,a),s}catch(s){throw this.endActiveSpan(u,!0,a),s}}static async conditionalObserve(t,...r){let[n,i,a,u]=r,s=a;return t?e.asyncObserve(n,i,s,u):a({name:"",componentName:"",spanId:0,traceId:0,parentSpanId:void 0,error:!1})}};var Ve=()=>!1;var at=mt(dr());var ot=ya;function ya(e,t){var r={};typeof t=="string"&&(t=[].slice.call(arguments,1));for(var n=t.length,i=0;i<n;i++){var a=t[i];a in e&&(r[a]=e[a])}return r}var mr=async(e,t)=>new Promise((r,n)=>chrome.runtime.sendMessage(e,t,i=>{if(chrome.runtime.lastError){let a=chrome.runtime.lastError?.message||"Unable to send message with chrome.runtime.sendMessage";n(new Error(a))}else r(i)})),vr=async(e,t,r)=>new Promise((n,i)=>chrome.tabs.sendMessage(e,t,r,a=>{if(chrome.runtime.lastError){let u=chrome.runtime.lastError?.message||"Unable to send message with chrome.tabs.sendMessage";i(new Error(u))}else n(a)}));var xa=e=>typeof e=="object"&&e!==null&&"name"in e&&typeof e.name=="string"&&"message"in e&&typeof e.message=="string",it=e=>xa(e)?e.message:"An unknown error occurred";var st=async(e,t)=>t.tabId===void 0?ba(e,t):Aa(e,t),ba=async(e,t)=>{let r;try{r=await mr(e,t)}catch(i){let a=it(i);if(hr(a))`${e.name}`;else if(yr(a))`${e.name}`;else if(!a)`${e.name}`;else throw new Error(`Unhandled error response received for message <${e.name}>`);return{type:"NoListener"}}if(!r)return{type:"Success",data:void 0};let n=Ke.decode(r);if((0,at.isLeft)(n))throw Error(`Unable to decode response for message <${e.name}>`);return n.right},Aa=async(e,{tabId:t,...r})=>{let n;try{let a=ot(r,["documentId","frameId"]),u=ot(r,["targetParent"]);n=await vr(t,{...e,...u},a)}catch(a){let u=a instanceof Error?a.message:String(a);if(hr(u))`${e.name}`;else if(yr(u))`${e.name}`;else if(!u)`${e.name}`;else throw new Error(`Unhandled error response received for tab message <${e.name}>`);return{type:"NoListener"}}if(!n)return{type:"Success",data:void 0};let i=Ke.decode(n);if((0,at.isLeft)(i))throw Error(`Unable to decode response for tab message <${e.name}>`);return i.right},hr=e=>e.includes("Receiving end does not exist"),yr=e=>e.includes("The message port closed");var oc=(async()=>await Promise.resolve().then(()=>mt(br())).catch(()=>globalThis.chrome))(),G=async(e,t,r={enableTracing:!Ve()})=>{let n;try{let{enableTracing:i,...a}=r;n=i&&!Ve()?await pe.asyncObserve(`invoke-${e}`,"messaging",async u=>st({name:e,data:t,span:u},a)):await st({name:e,data:t},a)}catch(i){return{ok:!1,type:"error",error:i instanceof Error?i:Error(`Unhandled response type when receiving response to <${e}>`)}}switch(n.type){case"Success":return{ok:!0,data:n.data};case"Error":return{ok:!1,type:"error",error:Error(`Error response received for message <${e}>`)};case"NoListener":return{ok:!1,type:"nolistener"};default:return{ok:!1,type:"error",error:Error(`Unhandled response type when receiving response to <${e}>`)}}};var Ar;(function(e){e.ContextError=Q`ContextError`,e.RequestError=Q`RequestError`,e.ValidationError=Q`ValidationError`})(Ar||(Ar={}));var wr=async(e,t=5e3,r,n)=>{let i,a=new Promise((u,s)=>{i=globalThis.setTimeout(()=>{console.warn(`Promise timed out.${r?` ${r}`:""}`),s(n)},t)});return Promise.race([e,a]).finally(()=>clearTimeout(i))};async function Tr(e){if(!P())return Promise.resolve(void 0);let t=new Promise(n=>{document.addEventListener("B5TrustedDeviceUpgradeResponse",i=>{n(i.detail)},{once:!0}),document.dispatchEvent(new CustomEvent("B5TrustedDeviceUpgradeRequest",{detail:Z(e)}))}),r=Symbol();return wr(t,500,"handleUpgradeTrustedDevice",r).catch(n=>{if(n!==r)throw n})}function Z(e){return typeof cloneInto=="function"?cloneInto(e,window.document):e}function P(){let e=window.location.hostname;if(!e)return!1;e=e.toLowerCase();let t=["1password.ca","1password.com","1password.eu","b5dev.ca","b5dev.com","b5dev.eu","b5local.com","b5staging.com","b5test.ca","b5test.com","b5test.eu","b5rev.com"];for(let r of t)if(e===r||e.endsWith("."+r))return!0;return!1}var Sr=(e,t)=>{chrome.runtime.sendMessage({name:"report-error",data:{name:"InjectContentScript",message:e,severity:"error",stack:t}})};var Mr=()=>{let e=Object.entries(localStorage),t={deviceUuid:Ra(),userInfo:{},deviceKeys:{},lastUserUuid:Or(Pr)};for(let[r,n]of e)r.startsWith(Ma)?t.userInfo[r]=n:r.startsWith(Sa)&&(t.deviceKeys[r]=n);return t},Er=e=>{if(!Ir())return;Ea(e.deviceUuid),e.lastUserUuid&&ct(Pr,e.lastUserUuid);let t=[...Object.entries(e.userInfo),...Object.entries(e.deviceKeys)];for(let[r,n]of t)ct(r,n)};var Rr="deviceUUID",Sa="deviceKey_";var Ma="user_",Pr="lastUser",be,Ir=e=>{if(typeof be=="boolean")return be;if(e)return be=!1,!1;try{localStorage.setItem("test","success");let t=localStorage.getItem("test")==="success";return localStorage.removeItem("test"),be=t,t}catch(t){return be=!1,!1}};var ct=(e,t)=>{try{localStorage.setItem(e,t)}catch(r){console.warn("Failed to save item in local storage:",r)}},Or=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.warn("localStorage.getItem failed:",t),""}};var Ea=e=>{Ir()&&ct(Rr,e)},Ra=()=>Or(Rr);function Pa(){if(typeof globalThis.cloneInto=="function")return globalThis.cloneInto}function _r(e){let t=Pa();return t?t(e,window,{cloneFunctions:!0,wrapReflectors:!0}):e}var H=$t(),lt={"auto-sign-in-to-b5":Oa,"initialize-device":_a,lock:()=>{},"request-delegated-session":Ca,"upgrade-trusted-device":Tr,"forward-iap-receipt-to-b5":Ia};for(let e in lt)Object.prototype.hasOwnProperty.call(lt,e)&&H.on(e,lt[e]);function Ia(e){P()&&document.dispatchEvent(new CustomEvent("B5ForwardIAPReceiptToB5",{detail:e}))}function Oa(e){P()&&document.dispatchEvent(new CustomEvent("B5InitializeSession",{detail:Z(e)}))}function _a(e){P()&&document.dispatchEvent(new CustomEvent("B5InitializeDevice",{detail:Z(e.device)}))}async function Ca(e){return P()?new Promise(t=>{document.addEventListener("B5RequestDelegatedSessionResponse",r=>{t(r.detail)},{once:!0}),document.dispatchEvent(new CustomEvent("B5RequestDelegatedSession",{detail:Z(e)}))}):Promise.resolve(void 0)}async function La(){if(!P())return;let e=new CustomEvent("remote-autofill-credential-is-pairing-validated-response",{detail:{validated:!1}}),t=await G("remote-autofill-pairing-check-if-started",void 0);if(!t.ok||!t.data.started){document.dispatchEvent(e);return}let r=await G("remote-autofill-pairing-get-desktop-device-info",void 0);if(!r.ok||!r.data){console.error("Failed to get device info from the desktop app"),document.dispatchEvent(e);return}let n=r.data,i={detail:{validated:!0,device:{uuid:n.deviceInfo.uuid,clientName:n.deviceInfo.clientName,clientVersion:n.deviceInfo.clientVersion},origin:t.data.origin}},a=_r(i),u=new CustomEvent("remote-autofill-credential-is-pairing-validated-response",a);document.dispatchEvent(u)}async function Ua(e){if(!P())return;let t=JSON.parse(e.detail),r={myceliumKeys:t.credentialBundles.forIntegration.myceliumKeys,accountUuid:t.accountUuid,reconnectToken:t.credentialBundles.forIntegration.reconnectToken};await G("remote-autofill-pairing-set-data",r),await G("remote-autofill-pairing-store-credential-bundle-for-onepassword",{accountUuid:t.accountUuid,myceliumKeys:t.credentialBundles.forOnePassword.myceliumKeys})}function Da(e){let t=document.querySelector(`iframe[src="${e}"]`);t&&document.body.removeChild(t)}function Na(e){qa("b5x-notification",e)}function qa(e,t){let r=document.createElement("iframe");return r.id=e,t&&(r.src=t),document.body.appendChild(r),r}var pt={B5WebReady:$a,B5SignInSucceeded:ft,B5DelegatedSignInSucceeded:ft,B5MyceliumDelegatedSignInSucceeded:ft,B5SessionInit:Fa,B5xRequestSession:Ba,"share-save-item":Ha,"test-managed-credential":Va,"open-extension-welcome-page":ka,"open-swe-native-wrapper":Wa,B5SsoComplete:Ka,B5xCredentialHydration:Lr,B5CheckExtensionPinStatus:ja,"remote-autofill-credential-is-pairing-validated":La,"remote-autofill-credential-bundles-created":Ua};for(let e in pt)Object.prototype.hasOwnProperty.call(pt,e)&&document.addEventListener(e,pt[e]);function Fa(e){if(!P())return;let t=e.detail,r={name:"b5-session-init",data:{type:e.type,details:t}};H.request(r)}function Ba(e){if(!P())return;let t=e.detail,r={name:"b5x-request-session-init",data:{type:e.type,details:t}};H.request(r)}async function Lr(){if(!P())return;let t={name:"b5x-credential-hydration",data:{type:"B5xCredentialHydration",details:{credentials:Mr()}}},r=await H.request(t),n=window.location.host,i=r.host===n;i||Sr("Credential hydration response host did not match intended host"),i&&r.restoreRequired&&r.credentials&&Er(r.credentials)}async function ja(){if(P())try{let e=await G("checkExtensionPinStatus",void 0);e.ok?document.dispatchEvent(new CustomEvent("B5ExtensionPinStatusResponse",{detail:Z(e.data)})):document.dispatchEvent(new CustomEvent("B5ExtensionPinStatusResponse",{detail:Z({isPinned:!1})}))}catch(e){console.error("Error checking pin status:",e),document.dispatchEvent(new CustomEvent("B5ExtensionPinStatusResponse",{detail:Z({isPinned:!1})}))}}function ka(e){P()&&H.request({name:"open-extension-welcome-page-for-onboarding",data:{owner:e?.detail?.owner,accountType:e?.detail?.accountType,accountUuid:e?.detail?.accountUuid,extensionFirstForSsoEnabled:e?.detail?.extensionFirstForSsoEnabled}})}function Wa(e){P()&&H.request({name:"open-swe-native-wrapper",data:{url:e?.detail?.url}})}function $a(e){if(!P())return;let t=e.detail;t.capabilities.DeviceInit&&G("b5Ready",{deviceInit:t.capabilities.DeviceInit,sessionInit:t.capabilities.SessionInit})}function Ka(e){if(!P())return;let t={name:"b5-sso-complete",data:{type:e.type,details:e.detail}};H.request(t)}function ft(e){if(P()){if(e.type==="B5SignInSucceeded"){let t=e.detail;t.signinAddress=window.location.origin;let r={name:"sign-in-succeeded",data:{type:e.type,details:t}};H.request(r)}else if(e.type==="B5DelegatedSignInSucceeded"){let t=e.detail;t.signinAddress=window.location.origin;let r={name:"sign-in-succeeded",data:{type:e.type,details:t}};H.request(r)}else if(e.type==="B5MyceliumDelegatedSignInSucceeded"){let t=e.detail;t.signinAddress=window.location.origin;let r={name:"sign-in-succeeded",data:{type:e.type,details:t}};H.request(r)}else throw new Error("Unexpected event sent to handleUntrustedSignInEvent");H.on("show-add-account-prompt",Na),H.on("close-add-account-prompt",Da)}}function Ha(e){P()&&G("share-save-item",e.detail)}function Va(e){P()&&G("launch-test-managed-credential",{accountUuid:e.detail.accountUuid,credentialUuid:e.detail.credentialUuid})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Cr):Cr();function Cr(){document.dispatchEvent(new CustomEvent("B5OPXReady",{bubbles:!1,cancelable:!1,detail:Z({capabilities:{CustomAutosave:!0,SessionInit:1,DeviceInit:1,SingleSignOn:1,DelegatedSession:0,ShareSrpX:1}})}))}G("get-build-number",void 0).then(e=>{if(!e.ok){console.error("Failed to get 1Password extension build number.");return}let{setOldAttribute:t,buildNumber:r}=e.data;t&&(document.body.dataset.onepasswordExtensionVersion=r),document.body.dataset.b5xBuildNumber=r});Lr();
})();

//# debugId=c0a80682-6435-59ff-abb6-f37bc0993214
