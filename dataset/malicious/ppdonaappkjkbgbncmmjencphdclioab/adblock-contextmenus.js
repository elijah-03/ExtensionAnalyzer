const{checkWhitelisted:checkWhitelisted}=require("whitelisting");var updateButtonUIAndContextMenus=function(){ext.pages.query({},(function(e){e.forEach((function(e){adblockIsPaused()&&e.browserAction.setBadge({number:""}),updateContextMenuItems(e)}))}))},updateContextMenuItems=function(e){e.contextMenus.remove(uBlockerContextMenuItemOne),e.contextMenus.remove(uBlockerContextMenuItemTwo),Prefs.shouldShowBlockElementMenu&&!checkWhitelisted(e)&&(e.contextMenus.create(uBlockerContextMenuItemOne),e.contextMenus.create(uBlockerContextMenuItemTwo))};ext.pages.onLoading.addListener(updateContextMenuItems),ext.onMessage.addListener((function(e,t,n){switch(e.type){case"report-html-page":updateContextMenuItems(t.page)}})),FilterNotifier.addListener((function(e){"load"!=e&&"save"!=e||updateButtonUIAndContextMenus()})),Prefs.on(Prefs.shouldShowBlockElementMenu,(function(){updateButtonUIAndContextMenus()})),updateButtonUIAndContextMenus();var uBlockerContextMenuItemOne={title:ext.i18n.getMessage("block_this_ad"),contexts:["all"],onclick:function(e,t){emitPageBroadcast({fn:"top_open_blacklist_ui",options:{info:t}},{tab:e})}},uBlockerContextMenuItemTwo={title:ext.i18n.getMessage("block_an_ad_on_this_page"),contexts:["all"],onclick:function(e,t){emitPageBroadcast({fn:"top_open_blacklist_ui",options:{nothing_clicked:!0}},{tab:e})}};if(!SAFARI)var emitPageBroadcast=function(){var e={top_open_whitelist_ui:{allFrames:!1,include:["punycode.min.js","adblock-jquery.min.js","adblock-jquery-ui.min.js","adblock-uiscripts-load_jquery_ui.js","adblock-uiscripts-top_open_whitelist_ui.js"]},top_open_blacklist_ui:{allFrames:!1,include:["punycode.min.js","adblock-jquery.min.js","adblock-jquery-ui.min.js","adblock-uiscripts-load_jquery_ui.js","adblock-uiscripts-blacklisting-overlay.js","adblock-uiscripts-blacklisting-clickwatcher.js","adblock-uiscripts-blacklisting-elementchain.js","adblock-uiscripts-blacklisting-blacklistui.js","adblock-uiscripts-top_open_blacklist_ui.js"]},send_content_to_back:{allFrames:!0,include:["adblock-uiscripts-send_content_to_back.js"]}},t=function(n,o,i){i=i||0;var c=e[n],s={allFrames:c.allFrames};if(c.include.length>i)s.file=c.include[i],chrome.tabs.executeScript(void 0,s,(function(){chrome.runtime.lastError?log(chrome.runtime.lastError):t(n,o,i+1)}));else{var u=JSON.stringify(o);s.code=n+"("+u+");",chrome.tabs.executeScript(void 0,s)}};return function(e){t(e.fn,e.options)}}();