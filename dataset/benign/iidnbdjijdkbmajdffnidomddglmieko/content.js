/*! For license information please see content.js.LICENSE.txt */
try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0437cbd2-96c4-4b5f-88fc-f244c2ec7766",e._sentryDebugIdIdentifier="sentry-dbid-0437cbd2-96c4-4b5f-88fc-f244c2ec7766")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"4.43.1"};(()=>{"use strict";var e,t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.r(r),t.d(r,{ACCOUNT_STATUS_RECHECK_INTERVAL:()=>R,AUTO_LOGIN_URL:()=>U,BASE_REPHRASING_SERVER_URL:()=>H,BASE_SERVER_URL:()=>G,CHANGELOG_CHECK_INTERVAL:()=>L,CHECK_DELAY:()=>de,CHECK_MAX_DELAY:()=>ge,CHECK_RECOMMENDATION_DELAY:()=>me,CHECK_REQUEST_TIMEOUT:()=>k,CHECK_THROTTLING_LIMIT:()=>D,CLIENT_LOGIN_URL:()=>z,COLORS:()=>Le,COLORS_ON_DARK:()=>Pe,COUNTRY_COUPON_MAPPING:()=>Be,COUPON_INTERVAL:()=>We,CURRENT_TERMS_OF_SERVICE_VERSION:()=>st,DEFAULT_MAX_FIX_ALL_ERRORS_COUNT:()=>fe,DICTIONARY_SYNC_INTERVAL:()=>C,EDITOR_GROUP_ATTRIBUTE:()=>ft,EMPLOYEE_EMAIL_REGEXP:()=>Ce,ERRORS_THAT_CAN_BE_CORRECTED_ALL_AT_ONCE:()=>Ke,EXTENSION_HEALTH_RECHECK_INTERVAL:()=>A,EXTERNAL_CONFIG_RELOAD_INTERVAL:()=>I,EXTERNAL_CONFIG_URL:()=>V,FEEDBACK_SERVER_URL:()=>K,FIX_SENTENCE_MIN_ERROR_AMOUNT:()=>Ge,HOVER_DELAY:()=>Se,HOVER_MAX_DELAY:()=>Re,HTTP_ERROR_ABORT:()=>rt,HTTP_ERROR_GENERIC:()=>ot,HTTP_ERROR_PAYLOAD_TOO_LARGE:()=>nt,HTTP_ERROR_TIMEOUT:()=>at,IFRAME_INITILIZATION_RECHECK_INTERVAL:()=>N,IMMEDIATE_CHECK_ON_PASTE_ACTION:()=>Ue,INSTALL_URL:()=>F,INVISIBLE_SEPARATOR:()=>ct,LOCAL_SERVER_URL:()=>Z,LOLLIPOP_DILATE_SCHEDULE_TIMEOUT:()=>Ae,MAIN_FALLBACK_SERVER_URL:()=>j,MAIN_SERVER_RECHECK_INTERVAL:()=>re,MAIN_SERVER_URL:()=>W,MASCOT_NAME:()=>Ze,MAX_BURST_BUFFER_SIZE:()=>ve,MAX_EXCEPTION_COUNT:()=>ke,MAX_FIXES_COUNT:()=>be,MAX_FREEMIUM_REPHRASINGS_PER_DAY:()=>$e,MAX_PHRASE_LENGTH_IN_WORDS:()=>Me,MAX_TEXT_LENGTH:()=>oe,MAX_TEXT_LENGTH_CUSTOM_SERVER:()=>ce,MAX_TEXT_LENGTH_PERFORMANCE_DEGRADATION:()=>ue,MAX_TEXT_LENGTH_PREMIUM:()=>le,MAX_USAGE_COUNT_ONBOARDING:()=>De,MIN_TEXT_LENGTH:()=>ne,NARROW_WHITESPACE_REGEXP:()=>Qe,NEW_SYNONYMS_URL:()=>Q,PACKAGE:()=>je,PARAGRAPH_LEVEL_CHUNK_LENGTH:()=>Ee,PICKY_RULES_THAT_ARE_CONSIDERED_ANNOYING:()=>Xe,PING_INTERVAL:()=>O,PING_URL:()=>q,PREMIUM_FALLBACK_SERVER_URL:()=>Y,PREMIUM_SERVER_URL:()=>X,PRIVACY_POLICY_URL:()=>lt,QUOTE_AT_BEGINNING_REGEXP:()=>tt,QUOTE_AT_END_REGEXP:()=>et,RELIABLE_MOTHER_TONGUES:()=>qe,RENDER_INTERVAL:()=>P,REPHRASE_MODE_ACADEMIC:()=>_t,REPHRASE_MODE_CREATIVE:()=>pt,REPHRASE_MODE_EXPAND:()=>vt,REPHRASE_MODE_FLUENCY:()=>ht,REPHRASE_MODE_FORMALITY:()=>gt,REPHRASE_MODE_HUMANIZE:()=>Tt,REPHRASE_MODE_SHORTEN:()=>mt,REPHRASE_MODE_SIMPLICITY:()=>dt,REPHRASE_MODE_STANDARD:()=>Et,RTL_LANGUAGES:()=>ze,RULES_ALLOWED_TO_BE_SENT_TO_API:()=>Ye,SELECTION_MODIFIER_KEYS:()=>St,SEND_AND_DESTROY_COMPLETED_USER_ACTIVITIES_INTERVAL:()=>ye,SENTENCE_END_CHARS:()=>At,SERVER_MAX_TEXT_LENGTH_BASIC:()=>ie,SHORT_TEXT_MAX_LENGTH:()=>ae,SPLIT_SENTENCE_LIMIT:()=>x,STATISTICS_URL:()=>J,STOPPED_TYPING_TIMEOUT:()=>Te,SUPPORTED_FIX_COMPLETE_SENTENCE_LANGUAGES:()=>we,SUPPORTED_REPHRASE_LANGUAGES:()=>xe,SUPPORTED_SENTENCE_SPLITTING_LANGUAGES:()=>Fe,SUPPORTED_SYNONYM_LANGUAGES:()=>He,SWITCH_TO_FALLBACK_SERVER_ERRORS:()=>te,SYNC_USER_DATA_INTERVAL:()=>y,TERMS_OF_SERVICE_API_URL:()=>ee,TERMS_OF_SERVICE_URL:()=>ut,TEXT_LEVEL_MAX_LENGTH_PER_REQUEST:()=>se,TOOLBAR_DECREASE_SIZE_INTERVAL:()=>b,TOOLBOX_THEME:()=>it,TRACK_RULE_EVENT_LANGUAGES:()=>Ve,TRAILING_WHITESPACE_REGEXP:()=>Je,TRANSLATE_SUPPORTED_LANGUAGES_FETCH_INTERVAL:()=>Ne,TRANSLATOR_BASE_URL:()=>B,TRIAL_DURATION:()=>Rt,TRIAL_EMAIL_WHITELIST:()=>yt,TRIAL_TOKEN_EXPIRY_TIME:()=>Ot,TRIAL_TOKEN_USAGE_LIMIT:()=>It,TYPING_BURST_SESSION_INACTIVITY_DELAY:()=>he,UI_MODE_RECHECK_INTERVAL:()=>S,UNINSTALL_URL:()=>w,USER_ACTIVITY_DESTRUCTION_DELAY:()=>Oe,USER_ACTIVITY_PING_INTERVAL_LENGTH:()=>Ie,USER_DATA_URL:()=>M,VALID_MAX_CHARACTERS_DELTA_ALLOWED:()=>pe,VALID_MIN_CHARACTERS_CHANGE_PER_TYPING_BURST:()=>_e,WEBAPI_URL:()=>$});var c=function(e){return e.CHROME_EXTENSION_ID="CHROME_EXTENSION_ID",e.SHOW_PARTIAL_RECO_UNDERLINE="SHOW_PARTIAL_RECO_UNDERLINE",e.EXTN_PREFIX="EVENT_PREFIX",e.COLORS_GRAMMAR="COLORS_GRAMMAR",e.CARD_LAYOUT="CARD_LAYOUT",e.COLORS_SPELLING="COLORS_SPELLING",e.COLORS_STYLE="COLORS_LONG_SENTENCE",e.SUPPORTED_LANGUAGES="SUPPORTED_LANGUAGES",e.INSTALLED_ATTRIBUTE="INSTALLED_ATTRIBUTE",e.SITE_INIT_ATTRIBUTE="SITE_INIT_ATTRIBUTE",e.INPUT_AREA_INIT_ATTRIBUTE="INPUT_AREA_INIT_ATTRIBUTE",e.TMP_ID_ATTRIBUTE="TMP_ID_ATTRIBUTE",e.AI_RULE_ID_REGEX="AI_RULE_ID_REGEX",e.COLORS_PARAPHRASE="COLORS_PARAPHRASE",e.COLORS_RECOMMENDATION="COLORS_RECOMMENDATION",e.COLORS_RECOMMENDATION_TEASE="COLORS_RECOMMENDATION_TEASE",e.VALID_START_SENTENCE_REGEX="VALID_START_SENTENCE_REGEX",e.VALID_END_SENTENCE_REGEX="VALID_END_SENTENCE_REGEX",e.MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED="MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED",e.MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS="MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS",e.MAX_TEXT_LENGTH_ALLOWED="MAX_TEXT_LENGTH_ALLOWED",e.SELECTED_UNDERLINE_THICKNESS="SELECTED_UNDERLINE_THICKNESS",e.BULLET_POINT_PARSING_PREFIX="BULLET_POINT_PARSING_PREFIX",e.TOOLBAR_SIZE="TOOLBAR_SIZE",e.FIX_ALL_CONFIG="FIX_ALL_CONFIG",e.IGNORE_EDITOR_WITH_ATTRIBUTES="IGNORE_EDITOR_WITH_ATTRIBUTES",e.SHOW_TOOLBAR_ON_EMPTY_INPUT_AREA="SHOW_TOOLBAR_ON_EMPTY_INPUT_AREA",e.MAIN_CONTENT_SCRIPT_FILENAME="MAIN_CONTENT_SCRIPT_FILENAME",e.SPECIAL_INTRODUCTORY_TEASER_ENABLED="SPECIAL_INTRODUCTORY_TEASER_ENABLED",e.TERMS_OF_SERVICE_MODAL_ENABLED="TERMS_OF_SERVICE_MODAL_ENABLED",e.LOLLIPOP_CONFIG="LOLLIPOP_CONFIG",e.NORMALIZE_SPACE="NORMALIZE_SPACE",e.USE_CSS_CUSTOM_HIGHLIGHTS="USE_CSS_CUSTOM_HIGHLIGHTS",e.STRIP_WRAPPING_QUOTES_FROM_SENTENCE="STRIP_WRAPPING_QUOTES_FROM_SENTENCE",e.GDOCS_MENU_BUTTONS="GDOCS_MENU_BUTTONS",e}({}),f=(u(u(u(u(u(u(u(u(u(u(e={},"CHROME_EXTENSION_ID","oldceeleldhonbafppcapldpdifcinji"),"NORMALIZE_SPACE",!1),"SHOW_PARTIAL_RECO_UNDERLINE",!1),"EVENT_PREFIX","lt"),"COLORS_GRAMMAR",{UNDERLINE:"#f2b24c",SELECTED_UNDERLINE:"#f2b24c",BACKGROUND:"rgba(242,179,77,0.3)",EMPHASIZE:"rgba(241,179,76,0.1)"}),"COLORS_SPELLING",{UNDERLINE:"#EB5757",SELECTED_UNDERLINE:"#EB5757",BACKGROUND:"rgba(235,88,88,0.2)",EMPHASIZE:"rgba(239,88,88,0.1)"}),"COLORS_LONG_SENTENCE",{UNDERLINE:"#8F7FFF",SELECTED_UNDERLINE:"#8F7FFF",BACKGROUND:"rgba(142,128,255,0.2)",EMPHASIZE:"rgba(138,128,255,0.2)",TITLE:"#5C4CFF"}),"COLORS_PARAPHRASE",{UNDERLINE:"#8F7FFF",BACKGROUND:"rgba(142,128,255,0.2)",EMPHASIZE:"rgba(138,128,255,0.2)",TITLE:"#5C4CFF"}),"COLORS_RECOMMENDATION",{UNDERLINE:"#80B3E2",SELECTED_UNDERLINE:"#0067C5",BACKGROUND:"rgba(0, 103, 199, 0.16)",EMPHASIZE:"rgba(0, 103, 199, 0.16)"}),"COLORS_RECOMMENDATION_TEASE",{UNDERLINE:"#CF9F0280",SELECTED_UNDERLINE:"#CF9F02",BACKGROUND:"rgba(242,181,24,0.16)",EMPHASIZE:"rgba(242,181,24,0.16)"}),u(u(u(u(u(u(u(u(u(u(e,"SUPPORTED_LANGUAGES",["ar","ast-es","be-by","br-fr","ca-es","ca-es-valencia","crh-ua","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-nz","en-us","en-za","eo","es","fa","ga-ie","fr","gl-es","it","ja-jp","km-kh","nl","no","pl-pl","pt-ao","pt-br","pt-mz","pt-pt","ro-ro","ru-ru","sk-sk","sl-si","sv","ta-in","tl-ph","uk-ua","zh-cn"]),"CARD_LAYOUT",{TARGET_BOX_HORIZONTAL_MARGIN:0,TARGET_BOX_VERTICAL_MARGIN:5,HEADER_HEIGHT:36,FOOTER_HEIGHT:36,KEYBOARD_HINT_HEIGHT:60,MIN_HEIGHT_PARAPHRASE:200,MIN_HEIGHT_TOOLBOX:230,MAX_HEIGHT_TOOLBOX:368}),"INSTALLED_ATTRIBUTE","data-lt-installed"),"SITE_INIT_ATTRIBUTE","data-lt-site"),"INPUT_AREA_INIT_ATTRIBUTE","data-lt-tweaks"),"TMP_ID_ATTRIBUTE","data-lt-tmp-id"),"AI_RULE_ID_REGEX",/^(QB|AI)_/),"VALID_START_SENTENCE_REGEX","[^\u2022]"),"VALID_END_SENTENCE_REGEX","."),"MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED",!1),u(u(u(u(u(u(u(u(u(u(e,"MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS",15e3),"MAX_TEXT_LENGTH_ALLOWED",1e4),"SELECTED_UNDERLINE_THICKNESS",2),"BULLET_POINT_PARSING_PREFIX","\u2022 "),"TOOLBAR_SIZE",{width:20,height:20}),"FIX_ALL_CONFIG",{FIX_GC_ERRORS:!0,FIX_RECOMMENDATIONS:!1,FIX_STYLE_ERRORS:!1}),"IGNORE_EDITOR_WITH_ATTRIBUTES",["spellcheck"]),"SHOW_TOOLBAR_ON_EMPTY_INPUT_AREA",!1),"MAIN_CONTENT_SCRIPT_FILENAME","/content.js"),"SPECIAL_INTRODUCTORY_TEASER_ENABLED",!0),u(u(u(u(u(e,"TERMS_OF_SERVICE_MODAL_ENABLED",!1),"LOLLIPOP_CONFIG",{LOLLIPOP_THEME:"purple",LOLLIPOP_CSS_PATH:"/content/styles/lollipop.css",ONBOARDING_IMAGE_PATH:"/assets/images/toolbox/lollipop-onboarding-lt.webp",ONBOARDING_BORDER_RADIUS:"8px",LOLLIPOP_CIRCLE_IMAGE_PATH:"/assets/images/toolbox/lollipop-icon.svg",LOLLIPOP_CIRCLE_GDOCS_IMAGE_PATH:"/assets/images/toolbox/lollipop-icon-gdocs.svg",SUPPORTS_DARK_MODE:!0,ONBOARDING_LANDING_PAGE_URL:"https://languagetool.org/text-cursor",TOOLBOX_IFRAME_PATH:"/toolbox/toolbox.html",TOOLBOX_AVAILABLE_UI_LANGUAGES:["de","en","es","fr","nl","pt-br"],PPHR_SUPPORTS_MULTISENTENCE:!0,TOOLBOX_HOTKEY:void 0,TRACKING_SAMPLING_RATE:100,DEEP_LINK_INTO_TOOLBOX:!1}),"STRIP_WRAPPING_QUOTES_FROM_SENTENCE",!0),"USE_CSS_CUSTOM_HIGHLIGHTS",!1),"GDOCS_MENU_BUTTONS",!0)),E=function(){function e(){n(this,e),l(this,"extnConfig",void 0),this.extnConfig=f}return s(e,[{key:"get",value:function(e){return this.extnConfig[e]}},{key:"set",value:function(e,t){this.extnConfig[e]=t}},{key:"setAll",value:function(e){this.extnConfig=e}},{key:"getAll",value:function(){return this.extnConfig}}],[{key:"getInstance",value:function(){return this.instance||self._qb_lt_config||(this.instance=new e,self._qb_lt_config=this.instance),this.instance||self._qb_lt_config}}])}();l(E,"instance",void 0);var d=E.getInstance();function g(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){g(o,n,a,i,s,"next",e)}function s(e){g(o,n,a,i,s,"throw",e)}i(void 0)})}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A=3e3,S=6e4,R=36e5,I=144e5,O=864e5,y=864e5,N=1500,C=72e5,L=144e5,P=300,b=900,k=5e4,D=30,x=500,F="https://languagetool.org/webextension/welcome",w="https://languagetool.org/webextension/uninstall",U="https://languagetool.org/webextension/login",M="https://languagetool.org/webextension/user",G="https://api.languagetool.org",H="https://rewriting.languagetoolplus.com",B="https://prod-translator.languagetool.org/translator",W="".concat(G,"/v2"),j="https://api-fallback.languagetool.org/v2",X="https://api.languagetoolplus.com/v2",Y="https://languagetoolplus.com/api/v2",Z="http://localhost:8081/v2",K="https://languagetool.org/send-feedback/",V="https://languagetool.org/webextension_config.json",z="https://languagetool.org/client-login",q="https://languagetool.org/ping",$="https://languagetool.org/webapi",J="https://api.languagetoolplus.com/statistics/api/store",Q="https://qb-grammar-en.languagetool.org/phrasal-paraphraser/subscribe",ee="https://languagetool.org/users/privacy-policy/",te=[502,503,504],re=18e4,ne=4,ae=50,oe=d.get(c.MAX_TEXT_LENGTH_ALLOWED),ie=19500,se=ie,ue=4e4,le=15e4,ce=Number.MAX_SAFE_INTEGER,fe=50,Ee=5e3,de=1500,ge=4e3,he=3e3,_e=1,pe=10,ve=20,me=3e3,Te=2e3,Ae=3e3,Se=50,Re=200,Ie=2e4,Oe=3e5,ye=6e5,Ne=864e5,Ce=/@(languagetool(er)?|quillbot|scribbr|learneo|coursehero|symbolab|litcharts|spellboy)\.(com|org|de|nl)$/i,Le={get GRAMMAR(){return d.get(c.COLORS_GRAMMAR)},get STYLE(){return d.get(c.COLORS_STYLE)},get PARAPHRASE(){return d.get(c.COLORS_PARAPHRASE)},get LONG_SENTENCE(){return{UNDERLINE:"#D2CBFF",BACKGROUND:"rgba(210,203,255,0.2)",EMPHASIZE:"rgba(210,203,255,0.1)"}},get IGNORED_RANGE(){return{UNDERLINE:"#00bbe6",BACKGROUND:"rgb(92, 222, 251, 0.2)",EMPHASIZE:"rgb(154, 232, 250, 0.1)"}},get RECOMMENDATION(){return d.get(c.COLORS_RECOMMENDATION)},get RECOMMENDATION_TEASE(){return d.get(c.COLORS_RECOMMENDATION_TEASE)},get SPELLING(){return d.get(c.COLORS_SPELLING)},get SYNONYMS(){return{UNDERLINE:"#0042d7"}},get NEW_SENTENCE(){return{BACKGROUND:"rgba(30, 225, 151, 0.2)"}},get DISABLED(){return{UNDERLINE:"rgba(0, 0, 0, 0.2)",BACKGROUND:"rgba(0, 0, 0, 0.2)",EMPHASIZE:"rgba(0, 0, 0, 0.2)",TITLE:"rgba(0, 0, 0, 0.2)"}}},Pe=T(T({},Le),{},{DISABLED:{UNDERLINE:"rgba(255, 255, 255, 0.3)",BACKGROUND:"rgba(255, 255, 255, 0.3)",EMPHASIZE:"rgba(255, 255, 255, 0.3)",TITLE:"rgba(255, 255, 255, 0.3)"}}),be=5,ke=6,De=5,xe=["en","de","fr","nl","es","pt-BR","pt-PT"],Fe=["en"],we=["en"],Ue=!1,Me=10,Ge=3,He=["de","de-CH","ru","sv","pt","pt-BR","el","en","eo","it","fr","es","uk","sk","sl","pl","da","ro","nl","ca"],Be={UKRAINE:{countries:["UA","BY"],percent:50},"ITALY-DISCOUNT":{countries:["IT"],percent:20},"SPAIN-DISCOUNT":{countries:["ES"],percent:20},SOUTH_EUROPE:{countries:["RO","AL","GR","ME","EE","LT","LV","BG","CY","MT","SK","SI","RS","HR","XK","HU","MD","TR","PT"],percent:20},AFRICA:{countries:["NG","ET","EG","CD","CG","TZ","KE","UG","DZ","SD","MA","AO","MZ","TN","CI","DJ","SZ","MU","GQ","GA","BW","SO","CD","ER","MG"],percent:50},ASIA:{countries:["ID","PK","BD","VN","MM","PH","UZ","MY","NP","KZ","KH","UZ","TH","YE","SY","JO"],percent:50},LATIN_AMERICA:{countries:["PE","VE","EC","SV","DO","BO","SR","AR","HN","BZ","CR","PA","GT","NI","GY","UY","HT","JM","TT","CU"],percent:50},BRAZIL:{countries:["BR"],percent:50}},We=7776e6,je={BASIC:"Basic",PREMIUM:"Premium"},Xe=["EN_QUOTES","PASSIVE_VOICE","DASH_RULE","SENTENCE_FRAGMENT","PONCTUATION_DOUBLE","TOO_LONG_SENTENCE","COMETES_TIPOGRAFIQUES","APOSTROF_TIPOGRAFIC","FALSCHE_VERWENDUNG_DES_BINDESTRICHS","HALBGEVIERTSTRICH","PARAGRAF_LEERZEICHEN","TYPOGRAFISCHE_APOSTROPHE","TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN","TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN_CH","TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN_2","PUNCTUATION_PARAGRAPH_END","FINAL_STOPS","FINAL_PUNCTUATION","SMART_QUOTES","PT_SMART_QUOTES","DASH_SPACE_RULES","HIPHEN_SPACE_RULES","BRAK_KROPKI","DYWIZ","CUDZYSLOW_DRUKARSKI","TYPOGRAFISCHE_AANHALINGSTEKENS","TYPOGRAFISCHE_AANHALINGSTEKENS_2","EINDE_ZIN_ONVERWACHT","BACKTICK","GEDACHTESTREEPJE","OPTIONAL_HYPHEN","COMILLAS_TIPOGRAFICAS","COMETES_TIPOGRAFIQUES","GL_SMART_QUOTES"],Ye=["OXFORD_SPELLING_Z_NOT_S"],Ze="jeremy",Ke=[{ruleId:"FALSCHES_ANFUEHRUNGSZEICHEN",suggestions:[{match:/[\u201e\u201c]/,message:"Alle <lt-em>\u201c</lt-em>\u2026<lt-em>\u201d</lt-em> zu <lt-em>\u201e</lt-em>\u2026<lt-em>\u201c</lt-em> \xe4ndern"}]},{ruleId:"TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN",suggestions:[{match:/[\u201e\u201c]/,message:"Alle <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> zu <lt-em>\u201e</lt-em>\u2026<lt-em>\u201c</lt-em> \xe4ndern"},{match:/(^\xbb)|(\xab$)/,message:"Alle <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> zu <lt-em>\xbb</lt-em>\u2026<lt-em>\xab</lt-em> \xe4ndern"}]},{ruleId:"TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN_CH",suggestions:[{match:/[\u201e\u201c]/,message:"Alle <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> zu <lt-em>\u201e</lt-em>\u2026<lt-em>\u201c</lt-em> \xe4ndern"},{match:/(^\xab)|(\xbb$)/,message:"Alle <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> zu <lt-em>\xab</lt-em>\u2026<lt-em>\xbb</lt-em> \xe4ndern"}]},{ruleId:"TYPOGRAFISCHE_ANFUEHRUNGSZEICHEN_2",suggestions:[{match:/[\u201a\u2018]/,message:"Alle <lt-em>'</lt-em>\u2026<lt-em>'</lt-em> zu <lt-em>\u201a</lt-em>\u2026<lt-em>\u2018</lt-em> \xe4ndern"},{match:/[\u201e\u201c]/,message:"Alle <lt-em>'</lt-em>\u2026<lt-em>'</lt-em> zu <lt-em>\u201e</lt-em>\u2026<lt-em>\u201c</lt-em> \xe4ndern"}]},{ruleId:"TYPOGRAFISCHE_APOSTROPHE",suggestions:[{match:/\u2019/,message:"Alle Apostrophe zu <lt-em>\u2019</lt-em> \xe4ndern"}]},{ruleId:"EN_QUOTES",suggestions:[{match:/[\u201c\u201d]/,message:"Change all <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> to <lt-em>\u201c</lt-em>\u2026<lt-em>\u201d</lt-em>"}]},{ruleId:"WRONG_APOSTROPHE",suggestions:[{match:/'/,message:"Use <lt-em>'</lt-em> for all bad apostrophes"},{match:/\u2019/,message:"Use <lt-em>\u2019</lt-em> for all bad apostrophes"}]},{ruleId:"PARAGRAF_LEERZEICHEN",suggestions:[{match:/\xa7\u00A0/,message:"Alle Leerzeichen nach <lt-em>\xa7</lt-em> \xe4ndern"}]},{ruleId:"CONSISTENCYRULE_JE_F",suggestions:[{match:/[^e]$/,message:"Remplacer tous les <lt-em>je</lt-em> vers le masculin"}]},{ruleId:"CONSISTENCYRULE_JE_M",suggestions:[{match:/e$/,message:"Remplacer tous les <lt-em>je</lt-em> vers le f\xe9minin"}]},{ruleId:"COMILLAS_TIPOGRAFICAS",suggestions:[{match:/[\u201c\u201d]/,message:"Cambiar todas las <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> por <lt-em>\u201c</lt-em>\u2026<lt-em>\u201d</lt-em>"},{match:/(^\xab)|(\xbb$)/,message:"Cambiar todas las <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> por <lt-em>\xab</lt-em>\u2026<lt-em>\xbb</lt-em>"}]},{ruleId:"COMETES_TIPOGRAFIQUES",suggestions:[{match:/[\u201c\u201d]/,message:"Canvia totes les <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> per <lt-em>\u201c</lt-em>\u2026<lt-em>\u201d</lt-em>"},{match:/(^\xab)|(\xbb$)/,message:"Canvia totes les <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> per <lt-em>\xab</lt-em>\u2026<lt-em>\xbb</lt-em>"}]},{ruleId:"TYPOGRAFISCHE_AANHALINGSTEKENS",suggestions:[{match:/[\u201e\u201c]/,message:"Alle <lt-em>&quot;</lt-em>\u2026<lt-em>&quot;</lt-em> veranderen in <lt-em>\u201e</lt-em>\u2026<lt-em>\u201c</lt-em>"}]},{ruleId:"PT_SMART_QUOTES",suggestions:[{match:/[\u201c\u201d]/,message:"Corrigir todas as aspas."}]},{ruleId:"GL_SMART_QUOTES",suggestions:[{match:/[\u201c\u201d]/,message:"Corrixir todas as comi\xf1as."}]}],Ve=["en","de","es","ca","fr","nl","pt"],ze=["ar","he","fa","ur","ku","az"],qe=["de","fr"],$e=3,Je=/^[ \u00A0]|[ \u00A0]$/g,Qe=/\u202F/g,et=/[\"\u201c\u201d\u201e]$/,tt=/^[\"\u201c\u201d\u201e]/,rt="E_ABORT",nt="E_PAYLOAD_TOO_LARGE",at="E_TIMEOUT",ot="E_GENERIC",it={borderRadiusSmall:4,borderRadiusMedium:8,borderRadiusLarge:12,light:{colorBrandDefault:"#239AFF",colorBrandMedium:"#5EB5FF",colorBrandSubtle:"#ECF6FF",colorBrandBold:"#1976F0",colorTextDefault:"#2F3237",colorTextBold:"#1D1E20",colorTextSubtle:"#5E636E",colorTextStark:"#000000",colorTextInverseDefault:"#F1F3F9",colorTextInverseBold:"#FFFFFF",colorTextSelected:"#239AFF",colorTextLinkDefault:"#239AFF",colorTextLinkPressed:"#1976F0",colorTextLinkInverse:"#FFFFFF",colorTextDisabled:"#8F96A3",colorTextErrorBold:"#D01941",colorTextWarningBold:"#AB7D05",colorTextInfoBold:"#1976F0",colorTextHighlightBold:"#3729C1",colorTextSuccessBold:"#08905D",colorBorderDefault:"#DEE3ED",colorBorderSubtle:"#F1F3F9",colorBorderMedium:"#C2C9D6",colorBorderBold:"#8F96A3",colorBorderHover:"#5E636E",colorBorderSelected:"#1976F0",colorBackgroundDefault:"#FFFFFF",colorBackgroundPaper:"#FFFFFF",colorBackgroundElevated:"#FFFFFF",colorBackgroundSunken:"#F1F3F9",colorBackgroundNeutralDefault:"#F1F3F9",colorBackgroundNeutralMedium:"#C2C9D6",colorBackgroundNeutralMuted:"#DEE3ED",colorBackgroundHighlightSubtle:"#ECF6FF",colorBackgroundInfoSubtle:"#ECF6FF",colorBackgroundWarningSubtle:"#FFF6E0",colorBackgroundSuccessSubtle:"#E2FFF4",colorBackgroundErrorSubtle:"#FFEEF2",colorBackgroundInverseDefault:"#1D1E20",colorBackgroundInverseBold:"#111213",colorBackgroundDisabled:"#DBDBDB",colorIconDefault:"#2F3237",colorIconBold:"#1D1E20",colorIconSubtle:"#5E636E",colorIconInverseDefault:"#F1F3F9",colorIconInverseBold:"#FFFFFF",colorIconSelected:"#239AFF",colorIconDisabled:"#8F96A3",colorIconBoldest:"#000000"},dark:{colorBrandDefault:"#5EB5FF",colorBrandMedium:"#239AFF",colorBrandSubtle:"#041A37",colorBrandBold:"#BADFFF",colorTextDefault:"#F1F3F9",colorTextBold:"#F8F9FC",colorTextSubtle:"#DEE3ED",colorTextStark:"#FFFFFF",colorTextInverseDefault:"#2F3237",colorTextInverseBold:"#000000",colorTextSelected:"#5EB5FF",colorTextLinkDefault:"#5EB5FF",colorTextLinkPressed:"#BADFFF",colorTextLinkInverse:"#111213",colorTextDisabled:"#C2C9D6",colorTextErrorBold:"#FF7A94",colorTextWarningBold:"#DEC850",colorTextInfoBold:"#5EB5FF",colorTextHighlightBold:"#9E94FE",colorTextSuccessBold:"#1EE197",colorBorderDefault:"#2F3237",colorBorderSubtle:"#1D1E20",colorBorderMedium:"#5E636E",colorBorderBold:"#8F96A3",colorBorderHover:"#C2C9D6",colorBorderSelected:"#5EB5FF",colorBackgroundDefault:"#111213",colorBackgroundPaper:"#2F3237",colorBackgroundElevated:"2F3237",colorBackgroundSunken:"#2F3237",colorBackgroundNeutralDefault:"#2F3237",colorBackgroundNeutralMedium:"#8F96A3",colorBackgroundNeutralMuted:"#5E636E",colorBackgroundHighlightSubtle:"#041A37",colorBackgroundInfoSubtle:"#041A37",colorBackgroundWarningSubtle:"#2B2003",colorBackgroundSuccessSubtle:"#021B12",colorBackgroundErrorSubtle:"#26020A",colorBackgroundInverseDefault:"#C2C9D6",colorBackgroundInverseBold:"#F1F3F9",colorBackgroundDisabled:"#434343",colorIconDefault:"#F1F3F9",colorIconBold:"#F8F9FC",colorIconSubtle:"#DEE3ED",colorIconInverseDefault:"#2F3237",colorIconInverseBold:"#111213",colorIconSelected:"#5EB5FF",colorIconDisabled:"#C2C9D6",colorIconBoldest:"#FFFFFF"},fontFamily:{macos:"LanguageTool-mac",win:"LanguageTool-win"},fontSizes:{xSmall:10,small:12,medium:14,large:16,xLarge:18}},st="2024-11-19",ut="https://languagetool.org/legal/terms",lt="https://languagetool.org/legal/privacy",ct="\u2063",ft="data-".concat(d.get(c.EXTN_PREFIX),"-editor-group"),Et="standard",dt="simple",gt="formal",ht="fluency",_t="academic",pt="creative",vt="expand",mt="shorten",Tt="natural",At=[".","!","?"],St=["Shift","Control","Alt","Meta"],Rt=12096e5,It=8e3,Ot=288e5,yt=/school|schule|bildung|academ|colegio|college|escola|universi|\.edu\b|educat|gnspes\.ca|dwightlondon\.org/i;function Nt(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return Lt(l,"_invoke",function(r,n,a){var o,s,u,l=0,c=a||[],f=!1,E={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,s=0,u=e,E.n=r,i}};function d(r,n){for(s=r,u=n,t=0;!f&&l&&!a&&t<c.length;t++){var a,o=c[t],d=E.p,g=o[2];r>3?(a=g===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(s=0,E.v=n,E.n=o[1]):d<g&&(a=r<3||o[0]>n||n>g)&&(o[4]=r,o[5]=n,E.n=g,s=0))}if(a||r>1)return i;throw f=!0,n}return function(a,c,g){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&d(c,g),s=c,u=g;(t=s<2?e:u)||!f;){o||(s?s<3?(s>1&&(E.n=-1),d(s,u)):E.n=u:E.v=u);try{if(l=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(f=E.n<0)?u:r.call(n,E))!==i)break}catch(t){o=e,s=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,a,o),!0),l}var i={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(Lt(t={},n,function(){return this}),t),f=l.prototype=s.prototype=Object.create(c);function E(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Lt(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Lt(f,"constructor",l),Lt(l,"constructor",u),u.displayName="GeneratorFunction",Lt(l,a,"GeneratorFunction"),Lt(f),Lt(f,a,"Generator"),Lt(f,n,function(){return this}),Lt(f,"toString",function(){return"[object Generator]"}),(Ct=function(){return{w:o,m:E}})()}function Lt(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Lt=function(e,t,r,n){function o(t,r){Lt(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Lt(e,t,r,n)}function Pt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return bt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var kt,Dt;try{kt=new RegExp("\\p{L}","u")}catch(e){kt=/[a-z\xe4\xf6\xfc\xdf]/i}function xt(e){return kt.test(e)}try{Dt=new RegExp("(?:\\p{Emoji}|\\u200d|\\ufe0e|\\ufe0f)","u")}catch(e){Dt=/_^/}var Ft,wt,Ut,Mt,Gt,Ht,Bt,Wt,jt=function(e){return!!e&&Object.getPrototypeOf(e)===Object.prototype},Xt=function(e){return"string"==typeof e};wt="\b\t \u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200f\u3000",Ut=new RegExp("^["+wt+"]$"),Mt=new RegExp("["+wt+"]","g"),Ft=function(e){return e.replace(Mt," ")},Gt="\u200b\u200c\u200d\xad\u2060\u202a\u202b\u202c\u202d",Ht=new RegExp("^["+Gt+"]$"),Bt=new RegExp("["+Gt+"]"),Wt=new RegExp("["+Gt+"]","g");var Yt=new RegExp("^"+ct+"+");var Zt=new RegExp(ct+"+$");var Kt,Vt,zt,qt,$t,Jt,Qt=(Kt=/^[A-Z\xc8\xc9\xca\xc1\xc0\xc2\xd3\xd2\xd4\xda\xd9\xdb\xcd\xcc\xce\xc4\xdc\xd6]+[A-Z\xc8\xc9\xca\xc1\xc0\xc2\xd3\xd2\xd4\xda\xd9\xdb\xcd\xcc\xce\xc4\xdc\xd6\-!?#@=%().:;<>'\u2019\xb4`"\u201d\u201c*+,\s]+[A-Z\xc8\xc9\xca\xc1\xc0\xc2\xd3\xd2\xd4\xcd\xcc\xce\xc4\xdc\xd6]$/,function(e){return Kt.test(e)});function er(e,t){var r=t||{start:-1},n=r.start,a=r.end,o=void 0===a?n:a;if(e&&-1!==n){var i=e.map(function(e){return Array.isArray(e)?e:[e.start,e.end]}).findIndex(function(e){var t=v(e,2),r=t[0],a=t[1];return n>=r&&o<=a});if(!(i<0))return e[i]}}zt=/(?:\S+\s+){0,4}\S+$/,qt=/^\S+(?:\s+\S+){0,4}/,Vt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=v(function(){try{var e=n?"":["\\p{Emoji}","\\u200d","\\ufe0e","\\ufe0f"].join("");return[new RegExp("^\\s*(-?[\\p{L}#*"+e+"]+){0,3}-?\\s*$","u"),new RegExp("^\\s*[\\p{L}#*"+e+"]+(-[\\p{L}#*"+e+"]+){0,3}\\s*$","u")]}catch(e){return[/^\s*(-?[a-z\xe4\xf6\xfc\xdf#*]+){0,3}-?\s*$/i,/^\s*[a-z\xe4\xf6\xfc\xdf#*]+(-[a-z\xe4\xf6\xfc\xdf#*]+){0,3}\s*$/i]}}(),2),o=a[0],i=a[1],s=function(e){return!n&&(t=e,Dt.test(t));var t},u=e.substring(t,r),l=v(u.match(/^[^\S]*/),1)[0].length,c=void 0===l?0:l,f=v(u.match(/[^\S]*$/),1)[0].length,E=void 0===f?0:f;if(!o.test(u))return null;for(var d,g,h,_=(d=t+c,ur((g=e.substring(0,d).split(/[^\S]+/))[g.length-1]).reverse()),p=(h=r-E,ur(v(e.substring(h).split(/[^\S]+/),1)[0])),m=Math.max(_.length,p.length),T=!1,A=!1,S=t,R=r,I=0;I<m;I++){var O=_[I],y=O&&(xt(O)||s(O)||"-"===O),N=p[I],C=N&&(xt(N)||s(N)||"-"===N);if(y&&!T?S-=O.length:T=!0,C&&!A?R+=N.length:A=!0,T&&A)break}c>0&&(S+=c),E>0&&(R-=E);var L=e.substring(S,R);return i.test(L)?{start:S,end:R}:null},function(){var e,t,r,n,a,o=[['"','"'],["'","'"],["\u201c","\u201d"],["\u201e","\u201c"],["\u2018","\u2019"],["\u201a","\u2018"],["\xab","\xbb"],["\xbb","\xab"],["`","`"],["\xb4","\xb4"],["{","}"],["[","]"],["(",")"],["<",">"]],i="[^\\S]",s="[.,:;\xa1!\xbf?]",u=/(?:\S+\s+){0,4}\S+$/,l=/^\S+(?:\s+\S+){0,4}/;try{var c=[i,s,"[\\udc00-\\udfff\\ud800-\\udb7f\\u200d\\ufe0e\\ufe0f\\p{Emoji_Presentation}\\p{Emoji_Modifier}\\p{Emoji}]"].join("|");t=new RegExp("(?:".concat(c,")"),"u"),r=new RegExp("^(?:".concat(c,")*"),"u"),n=new RegExp("(?:".concat(c,")*$"),"u"),e=new RegExp("^\\s*\\p{L}+(-\\p{L}+)*\\s*$","u"),a=new RegExp("^\\p{L}+$","u")}catch(o){var f=[i,s].join("|");t=new RegExp("(?:".concat(f,")")),r=new RegExp("^(?:".concat(f,")*")),n=new RegExp("(?:".concat(f,")*$")),e=/^\s*[a-z\xe4\xf6\xfc\xdf]+(-[a-z\xe4\xf6\xfc\xdf]+)*\s*$/i,a=/^[a-z\xe4\xf6\xfc\xdf]+$/i}$t=function(s,u){var l,c,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,E=arguments.length>3?arguments[3]:void 0,d=s.substring(u,f),g=u===f,h=g?s.substring(u-1,f):"",_=g?s.substring(u,f+1):"",p=!!g&&0===[h,_].filter(function(e){return!!e.match(a)}).length,m=d.split(new RegExp("".concat(i,"+"))).length>5,T=v(d.match(r),1)[0],A=void 0===T?"":T,S=v(d.match(n),1)[0],R=void 0===S?"":S,I=A.length,O=R.length,y=[A.trim(),R.trim()];if(p||m)return null;for(var N=(null===(l=function(e,t){var r=(t||{start:-1}).start;if(e&&-1!==r){return e.sort(function(e,t){return e.start-t.start}).find(function(e){if(r<=e.end&&r>=e.start)return!0})||void 0}}(E,{start:u,end:f}))||void 0===l?void 0:l.start)||0,C=(null===(c=function(e,t){var r=(t||{end:-1}).end;if(e&&void 0!==r&&-1!==r){return e.sort(function(e,t){return e.start-t.start}).find(function(e){if(r<=e.end&&r>=e.start)return!0})||void 0}}(E,{start:u,end:f}))||void 0===c?void 0:c.end)||s.length-1,L=u+I;L>N;){var P=v(s[L-1].match(t)||[],1)[0];if(P){0===I&&(y[0]+=P.trim());break}L--}for(var b=f-1-O;b<C-1;){if(v(s[b+1].match(t)||[],1)[0]){0===O&&(y[1]+=s[b+1].trim());break}b++}if(b+=1,L===N&&b===C)return null;var k=s.substring(L,b);if(k.split(e).length>=6)return null;for(var D=!1,x=!1,F=0,w=o;F<w.length;F++){var U=v(w[F],2),M=U[0],G=U[1];D||!k.startsWith(M)||k.slice(1).includes(G)||(L+=1,D=!0,y[0]+=k[0]);var H=k.length-1;x||!k.endsWith(G)||k.slice(0,H).includes(M)||(b-=1,x=!0,y[1]+=k[H])}return{start:L,end:b,omittedCharacters:y}},Jt=function(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3?arguments[3]:void 0,i=$t(e,t,a,o);if(!i)return null;var s=er(o,{start:t,end:a});i=function(){if(!s)return i;var t=e.slice(s.start,i.start),r=e.slice(i.end,s.end),n=!t||!!t.match(/^[\xa1\xbf]+$/),a=!r||!!r.match(/^[.!?]+$/);return n&&a&&(i={start:s.start,end:s.end,omittedCharacters:["",""]}),i}();var c="",f="",E="";if(s)E=e.substring(s.start,s.end).trim(),c=e.slice(s.start,i.start).trim(),f=e.slice(i.end,s.end).trim();else{var d=u.exec(e.substring(0,i.start).trim());c=(c=d?d[0]:"").replace(/^.+\n\n/,"");var g=l.exec(e.substring(i.end).trim());f=(f=g?g[0]:"").replace(/\n\n.+/,"")}return null===(r=(n=Jt).trackOmittedCharacters)||void 0===r||r.call(n,i.omittedCharacters),{phrase:e.substring(i.start,i.end),position:{start:i.start,end:i.end},sentence:E,beforeText:c,afterText:f}}}();var tr=function(e){for(var t,r,n=ct.charCodeAt(0).toString(16),a=new RegExp("^(?:[^\\S]|\u2022|\\u".concat(n,")+$")),o=new RegExp("^(?:[^\\S]|\\u".concat(n,")+$")),i=e.split("").reverse().join(""),s=Math.floor(e.length/2),u=0,l=0,c=0;c<s;c++){var f=e.charAt(c),E=i.charAt(c);if(!0!==t&&f.match(a)?(u+=1,t=!1):t=!0,!0!==r&&E.match(o)?(l+=1,r=!1):r=!0,t&&r)break}return[u,l]};function rr(e,t){if(e===t)return null;var r=0,n=Math.max(e.length,t.length);for(r=0;r<n&&e[r]===t[r];r++);for(var a=0,o=Math.min(e.length,t.length);r+a<o;){if(e[e.length-a-1]!==t[t.length-a-1])break;a++}return{from:r,oldFragment:e.substring(r,e.length-a),newFragment:t.substring(r,t.length-a)}}function nr(e,t){var r=[];arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e=pr(e),t=pr(t));var n=e.split("\n"),a=t.split("\n"),o=0,i=Math.max(n.length,a.length);for(o=0;o<i&&n[o]===a[o];o++);for(var s=0,u=Math.min(n.length,a.length);o+s<u;){if(n[n.length-s-1]!==a[a.length-s-1])break;s++}for(var l=0,c=0;c<o;c++)l+=n[c].length+1;for(var f=l,E=o;E<i-s;E++){var d=E<n.length-s?n[E]:null,g=E<a.length-s?a[E]:null;d===g&&l===f||r.push({oldText:d,newText:g,oldOffset:l,newOffset:f,textDiff:rr(d||"",g||"")}),null!==d&&(l+=d.length+1),null!==g&&(f+=g.length+1)}if(l!==f)for(var h=s-1;h>=0;h--){var _=n[n.length-h-1],p=a[a.length-h-1];r.push({oldText:_,newText:p,oldOffset:l,newOffset:f,textDiff:null}),l+=_.length+1,f+=p.length+1}return r}function ar(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/`/g,"&#x60;").replace(/\//g,"&#x2F;")}function or(e,t){for(var r=0,n=e.length-1;r<=n;){var a=r+Math.ceil((n-r)/2),o=t(e[a]);if(o>0)r=a+1;else{if(!(o<0)){for(var i=a;i>0;i--)if(0!==t(e[i-1]))return e[i];return e[0]}n=a-1}}return null}function ir(e){if(null===e||"object"!==a(e))return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=ir(e[r]);return t}var sr=null;function ur(e){return Intl.Segmenter?(sr||(sr=new Intl.Segmenter(void 0,{granularity:"grapheme"})),Array.from(sr.segment(e),function(e){return e.segment})):Nt(e)}function lr(){if("about:blank"===location.href||"about:srcdoc"===location.href)try{return(self.opener||self.parent).location.href}catch(e){}return location.href}var cr,fr=function(e){return e.GC="GC",e.GC_RECOMMENDATION="GC_RECOMMENDATION",e.REPHRASING="PPHR",e}({}),Er=(cr=/^\w+\.$/,function(e,t){if(!e.isSpellingError)return!1;var r,n=e.originalPhrase;if(cr.test(n)&&(n=n.substring(0,n.length-1)),t.includes(n))return!0;if((r=n.charAt(0))===r.toUpperCase()&&r!==r.toLowerCase()){var a=function(e){return e.charAt(0).toLowerCase()+e.substr(1)}(n);if(t.includes(a))return!0}return!1});!function(){var e=/[\u0300-\u036f]/g,t=/\u0142/g,r=/\u00F8/g}();function dr(e,t,r,n){return arguments.length>4&&void 0!==arguments[4]&&arguments[4]?e<=n&&t>=r:e<n&&t>r}function gr(e,t,r){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){if(t<=e&&e<r)return 0}else if(t<=e&&e<=r)return 0;return e-t}function hr(e){return _r.apply(this,arguments)}function _r(){return(_r=h(Ct().m(function e(t){var r,n,a,o;return Ct().w(function(e){for(;;)switch(e.n){case 0:return r=(new TextEncoder).encode(t),e.n=1,crypto.subtle.digest("SHA-256",r);case 1:return n=e.v,a=Array.from(new Uint8Array(n)),o=a.map(function(e){return e.toString(16).padStart(2,"0")}).join(""),e.a(2,o)}},e)}))).apply(this,arguments)}var pr=function(e){return Ft(e).replace(/[\u00A0]/g," ").normalize()};var vr="claudia";function mr(){return Tr.apply(this,arguments)}function Tr(){return(Tr=h(Ct().m(function e(){var t,n;return Ct().w(function(e){for(;;)switch(e.n){case 0:return t=function(){var e=a(r).indexOf("o")>-1;return("__"+(vr=e?Ze:vr)+"::"+~~(+new Date/1e3)).substring(2,64)}(),e.n=1,hr(t);case 1:return n=e.v,e.a(2,n)}},e)}))).apply(this,arguments)}var Ar={hallo:"de",moin:"de",viele:"de",servus:"de",gruezi:"de",kacke:"de",und:"de","und los":"de","na denn":"de",gut:"de",eins:"de",nie:"de",immer:"de",neein:"de",neeein:"de",neeeein:"de",stimmts:"de",das:"de",den:"de",hier:"de",sowas:"de","och n\xf6":"de","hey du":"de","na gut":"de","hallo leute":"de","hey leute":"de",nagut:"de",ahoi:"de",bald:"de",juhu:"de",juchu:"de",alter:"de",fertig:"de",korrekt:"de",digga:"de",diggah:"de",digger:"de",gratis:"de",schade:"de",nicht:"de",meins:"de",willkommen:"de",schuldigung:"de",tschuldigung:"de",entschuldigung:"de",h\u00f6:"de",h\u00f6h\u00f6:"de",sicher:"de",bitte:"de",klappt:"de",krass:"de",funzt:"de",h\u00e4:"de",h\u00e4h:"de",h\u00e4h\u00e4:"de",passt:"de",nee:"de",tsch\u00f6:"de",tsch\u00f6h:"de",du:"de",sie:"de",prima:"de",gr\u00fcezi:"de",gr\u00fczi:"de",komme:"de",jepp:"de",japp:"de",anbei:"de","guten tag":"de","gute tag":"de","dank dir":"de",oha:"de",herr:"de",frau:"de",ja:"de",oja:"de",jo:"de",n\u00f6:"de",n\u00f6\u00f6:"de",n\u00f6\u00f6\u00f6:"de",geil:"de",klasse:"de",nix:"de","oh ja":"de","oh je":"de",ohje:"de",oje:"de",wieso:"de",wann:"de",achso:"de",was:"de",ups:"de",hihi:"de",hihihi:"de",bittesch\u00f6n:"de","bitte sch\xf6n":"de",dankesch\u00f6n:"de","danke sch\xf6n":"de","besten dank":"de","vielen dank":"de","ja klar":"de","ja, klar":"de",au:"de",aua:"de",tja:"de",b\u00e4h:"de",\u00e4hm:"de",\u00e4hem:"de",hoppla:"de",uff:"de",zack:"de",bumm:"de",pfui:"de",hurra:"de",puh:"de",mist:"de",hi:"en",hey:"en",wassup:"en",wazzup:"en",yo:"en",oh:"en",done:"en",dollar:"en",yay:"en",yep:"en",nope:"en",please:"en",pls:"en",damn:"en",dammit:"en",shit:"en",bad:"en",usa:"en",rofl:"en",lol:"en",wtf:"en",huh:"en",thx:"en",ugh:"en",like:"en",ouch:"en",boo:"en",booo:"en",boooo:"en",no:"en",noo:"en",nooo:"en",noooo:"en",nooooo:"en","see ya":"en","see you":"en","love u":"en",yea:"en",hooray:"en",best:"en",jeez:"en",yeez:"en",geez:"en",woah:"en",omg:"en",gosh:"en",si:"es","mui bien":"es",oye:"es",vale:"es",que:"es",anda:"es",orale:"es",correcto:"es",ay:"es",eh:"es",claro:"es",hala:"es",bien:"es",cabron:"es",joder:"es",culo:"es",pendejo:"es","maldita sea":"es",hostia:"es",como:"es",c\u00f3mo:"es",aj\u00e1:"es",aja:"es","como dice":"es",carajo:"es",jajaja:"es",jejeje:"es",perdon:"es",donde:"es",dale:"es",portada:"es",oi:"pt",ola:"pt",ol\u00e1:"pt",tchau:"pt",adeus:"pt",beleza:"pt","ate logo":"pt","e ai":"pt","e a\xed":"pt",xau:"pt",oba:"pt",nossa:"pt",poxa:"pt",ent\u00e3o:"pt",entao:"pt",uau:"pt",bom:"pt",certo:"pt",ufa:"pt",eita:"pt",otimo:"pt",\u00f3timo:"pt","est\xe1 \xf3timo":"pt","esta otimo":"pt","cruz credo":"pt",salut:"fr",coucou:"fr",daccord:"fr",accord:"fr",bonne:"fr",bonsoir:"fr","bon jour":"fr","bon soir":"fr","d'acc":"fr","d\xb4acc":"fr","d`acc":"fr",allo:"fr",merde:"fr",ouf:"fr",aie:"fr",bon:"fr",zut:"fr",boum:"fr",donc:"fr",mince:"fr",comment:"fr",pardon:"fr",quand:"fr",beurk:"fr",putain:"fr",connard:"fr","a propos":"fr","quand meme":"fr","oh la la":"fr","miam miam":"fr","merci beacoup":"fr","ca va":"fr",dag:"nl",hoi:"nl",goedemorgen:"nl",welkom:"nl",dank:"nl","dank u":"nl","dank je":"nl",bedankt:"nl",verdorie:"nl",godverdomme:"nl",verdomme:"nl",klote:"nl",kloten:"nl",kak:"nl",kut:"nl",lul:"nl",flikker:"nl",h\u00e9:"nl",czesc:"pl","bon dia":"ca","si us plau":"ca","moltes gr\xe0cies":"ca","moltes gracies":"ca","com est\xe0s":"ca","com estas":"ca","fins aviat":"ca",gr\u00e0cies:"ca",gracies:"ca",perd\u00f3:"ca",enhorabona:"ca",\u00edndex:"ca"},Sr=/^([Hh]allo|[Ll]ieber?|[Mm]oin|[Nn]a|[Ss]ervus|[Dd]anke|Gr\xfce?zi|Gruezi|Herr|Frau|Fr\xe4ulein)\s[A-Z\xc4\xd6\xdc][a-z\xe4\xfc\xdf]/,Rr=/(\b|^)(guten\s(tag|abend|morgen)|sehr\sgeehrter?)(\b|$)/,Ir=/^ol[a\xe1\xe0]\s|((\b|^)(boa\snoite|bom\sdia)(\b|$))/,Or=/(\b|^)(bon\sdia|moltes\sgr[a\xe0]cies|bona\ssort|no\spassa\sres|com\sest[\xe0a]s)(\b|$)/,yr=/^[\xbf\xa1.\u2026]+$/,Nr=/[!.:;\u2026?,]+$/;function Cr(e,t){if(e.length>50)return null;var r=e.trim(),n=r.replace(yr,"").replace(Nr,"").trim().toLowerCase();if(t.includes("de")&&(Sr.test(r)||Rr.test(n)))return"de";if(t.includes("pt")&&Ir.test(n))return"pt";if(t.includes("ca")&&Or.test(n))return"ca";var a=Ar[n];return a&&t.includes(a)?a:null}var Lr=.5,Pr=function(e,t,r){return e>=t&&e<=r};function br(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return kr(l,"_invoke",function(r,n,a){var o,s,u,l=0,c=a||[],f=!1,E={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,s=0,u=e,E.n=r,i}};function d(r,n){for(s=r,u=n,t=0;!f&&l&&!a&&t<c.length;t++){var a,o=c[t],d=E.p,g=o[2];r>3?(a=g===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(s=0,E.v=n,E.n=o[1]):d<g&&(a=r<3||o[0]>n||n>g)&&(o[4]=r,o[5]=n,E.n=g,s=0))}if(a||r>1)return i;throw f=!0,n}return function(a,c,g){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&d(c,g),s=c,u=g;(t=s<2?e:u)||!f;){o||(s?s<3?(s>1&&(E.n=-1),d(s,u)):E.n=u:E.v=u);try{if(l=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(f=E.n<0)?u:r.call(n,E))!==i)break}catch(t){o=e,s=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,a,o),!0),l}var i={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(kr(t={},n,function(){return this}),t),f=l.prototype=s.prototype=Object.create(c);function E(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,kr(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,kr(f,"constructor",l),kr(l,"constructor",u),u.displayName="GeneratorFunction",kr(l,a,"GeneratorFunction"),kr(f),kr(f,a,"Generator"),kr(f,n,function(){return this}),kr(f,"toString",function(){return"[object Generator]"}),(br=function(){return{w:o,m:E}})()}function kr(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}kr=function(e,t,r,n){function o(t,r){kr(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},kr(e,t,r,n)}var Dr,xr,Fr,wr=ae,Ur=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}\b/gi,Mr=/\b(?:(https?|ftp|mailto|tel|wss):\/\/|www\.|(chrome|moz|safari)(-extension)?:\/\/|file:\/\/)[^\s]+/gi,Gr=/@[A-Z0-9._-]+/gi,Hr=/[\-~\$]?[0-9]+/g,Br=/^([0-9a-z]+\.)(\s|$)/gim,Wr=/[\u25CF\u25CB\u25C6\u27A2\u25A0\u25A1\u2605\u274F\u2794\u21B5\u2756\u25AA\u2751\u2022]+(\s|$)/gim,jr=/^[-*](\s|$)/gim,Xr=/\b([0-9]+[.,][0-9]+[.,][0-9]+[.,][0-9]+|[0-9]+[.,][0-9]+[.,][0-9]+|[0-9]+[.,][0-9]+)\b/g,Yr=/(?<=(\s|^))(:\-?[\)(DPpoO]|;\-?\)|(xo|xO|XO){1,10}|xD|XD|\<3)(?=(\s|$))/g,Zr=/[\u2665\u2661\u2764]+/g,Kr=/\b[A-Z\-]{1,10}[\-_]?\d{2,100}\b/gi,Vr=/\u203D/g,zr=/(\!{2,50}|\?{2,50}|(\?\!){2,50}|\.{4,50}|\-{2,10}|\:{2,50}|\;{2,50}|\u2026{2,50}|\_{2,50}|\,{2,50}|\<{2,50}|\>{2,50}|\#{2,50}|\*{2,50}|\+{2,50}|\={2,50}|\/{2,50}|\\{2,50}|\%{2,50}|\~{2,50})/g,qr=/[\u2014\u2013-]+/g,$r=/\u2011+/g,Jr=/[\uFEFF\u200B\u200C\u200D\u00AD\u2060\u2063\u202A\u202B\u202C\u202D]+/g,Qr=/\s+/g,en=/^\/[a-z\-_]+/gm,tn=/(?<=(\s|^))#[a-z0-9]+/gi,rn=/(?<=(\s|^))[#%_\$\u20ac\xa7*><~]+(?=(\s|$))/g,nn=/\b[a-z0-9-_\/\.]+\.(com?|de|co\.uk|ch|at|fr|org|dk|se|no|info|net|eu|ai|io|nl|pl|ru|com\.br|br|pt|it|ca|com\.mx|mx|cn|mp[43]|jpe?g|gif|php|html?|s?css|jsx?|mov|png|web[mp]|pdf|docx?|xlsx?|pptx?|txt|rtf|bmp|svg|odt|zip|rar|gz|tar|app|dmg|exe|cad|psd|dotx?|tiff?|tsx?|woff|xml|csv|wav|ogg|pkg|rpm|iso|sql|php|email|eml|msi|otf|ttf|aspx?|py|java|swift|ods|sys|log|avi|wmv|m4v|sh)\b/gi,an=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]|[\uFE00-\uFE0F]|[\u2B50-\u2B52])/g,on=["haw","hmn","co","fy","gd","cbk","und"],sn={fil:"tl"},un=function(){return s(function e(){n(this,e)},null,[{key:"supported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return self.LanguageDetector&&"function"==typeof self.LanguageDetector.create&&"function"==typeof self.LanguageDetector.availability&&!e.includes("uk")&&!e.includes("br")&&!e.includes("ast")&&!e.includes("crh")&&this.isAtLeastChromeVersion(138)}},{key:"isAtLeastChromeVersion",value:function(e){return navigator.userAgent.includes("Chrome/")&&Number((navigator.userAgent.match(/Chrome\/(\d+)/)||[void 0,0])[1])>=e&&!navigator.userAgent.includes("Chromium/")&&!navigator.userAgent.includes("Edge/")&&!navigator.userAgent.includes("Edg/")&&!navigator.userAgent.includes("YaBrowser/")&&!navigator.userAgent.includes("OPR/")&&!navigator.userAgent.includes("Brave/")}},{key:"init",value:(t=h(br().m(function e(){var t,r,n;return br().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!(t=this.supported())){e.n=2;break}return r=["downloadable","available"],e.n=1,self.LanguageDetector.availability();case 1:t=r.includes.call(r,e.v);case 2:if(!t){e.n=7;break}if(e.p=3,n=this._browserLanguageDetector){e.n=5;break}return e.n=4,self.LanguageDetector.create();case 4:n=e.v;case 5:this._browserLanguageDetector=n,e.n=7;break;case 6:e.p=6,e.v;case 7:return e.a(2)}},e,this,[[3,6]])})),function(){return t.apply(this,arguments)})},{key:"detect",value:(e=h(br().m(function e(t,r){var n,a,o,i,s,u,l=arguments;return br().w(function(e){for(;;)switch(e.n){case 0:if(n=l.length>2&&void 0!==l[2]&&l[2],this.supported(r)){e.n=1;break}throw new Error("Language detection unsupported");case 1:return e.n=2,self.LanguageDetector.availability();case 2:if("unavailable"!==e.v){e.n=3;break}throw new Error("Language detection unavailable");case 3:if((a=this.normalizeText(t))||(a=t.trim()),a=a.slice(0,1e4),(o=this.normalizeLanguages(r)).length&&a.length<wr&&!n&&(o=this.addLanguagesToDetect(o,a)),!(i=Cr(a,r))){e.n=4;break}return e.a(2,{language:i,confidence:.99});case 4:if(u=this._browserLanguageDetector){e.n=6;break}return e.n=5,self.LanguageDetector.create();case 5:u=e.v;case 6:return this._browserLanguageDetector=u,e.n=7,this._browserLanguageDetector.detect(a);case 7:if(s=(s=e.v).filter(function(e){return!on.includes(e.detectedLanguage)&&!e.detectedLanguage.endsWith("-Latn")}),!(!n&&1===s.length&&s[0].confidence>.9&&a.length>10&&a.split(" ").length>1)){e.n=8;break}return e.a(2,{language:this.mapToSupportedLanguageCode(s[0].detectedLanguage),confidence:s[0].confidence});case 8:return!r.includes("gl")&&(r.includes("pt")||r.includes("ca")||r.includes("es"))&&(s=s.filter(function(e){return"gl"!==e.detectedLanguage})),o.length&&(a.length<wr||n)&&(s=s.filter(function(e){return o.includes(e.detectedLanguage.toLowerCase())})),e.a(2,s[0]?{language:this.mapToSupportedLanguageCode(this.getPrimaryLanguageCode(s[0].detectedLanguage)),confidence:s[0].confidence}:null)}},e,this)})),function(t,r){return e.apply(this,arguments)})},{key:"normalizeText",value:function(e){return e=this.stripEmojis(e),e=this.stripEmailAdresses(e),e=this.stripURLs(e),e=this.stripSmileys(e),e=this.stripBulletPoints(e),e=this.stripFileNamesAndDomains(e),e=this.stripTokensWithNumbers(e),e=this.stripNumbers(e),e=this.stripMentions(e),e=this.stripUnicodeHearts(e),e=this.stripInvisibleWhitespace(e),e=this.stripChatCommands(e),e=this.stripHashTags(e),e=this.stripRepeatedWords(e),e=this.stripLeftoverChars(e),e=this.normalizePunctuation(e),e=this.normalizeHyphens(e),(e=this.normalizeWhitespace(e)).trim()}},{key:"stripEmojis",value:function(e){return e.replace(an,"")}},{key:"stripEmailAdresses",value:function(e){return e.replace(Ur,"")}},{key:"stripURLs",value:function(e){return e.replace(Mr,"")}},{key:"stripFileNamesAndDomains",value:function(e){return e.replace(nn,"")}},{key:"stripBulletPoints",value:function(e){return e.replace(Br,"").replace(Wr,"").replace(jr,"")}},{key:"stripMentions",value:function(e){return e.replace(Gr,"")}},{key:"stripSmileys",value:function(e){return e.replace(Yr,"")}},{key:"stripUnicodeHearts",value:function(e){return e.replace(Zr,"")}},{key:"stripTokensWithNumbers",value:function(e){return e.replace(Kr,"")}},{key:"stripHashTags",value:function(e){return e.replace(tn,"")}},{key:"stripNumbers",value:function(e){return e.replace(Xr,"").replace(Hr,"")}},{key:"stripInvisibleWhitespace",value:function(e){return e.replace(Jr,"")}},{key:"stripChatCommands",value:function(e){return e.replace(en,"")}},{key:"stripLeftoverChars",value:function(e){return e.replace(rn,"")}},{key:"stripRepeatedWords",value:function(e){try{return e.replace(new RegExp("(?<![\\p{L}])([\\p{L}]+(?:-[\\p{L}]+)*)(?:\\s+\\1)+(?![\\p{L}])","giu"),"$1")}catch(t){return e.replace(/(^|[^a-z\xe4\xf6\xfc\xdf-])([a-z\xe4\xf6\xfc\xdf]+(?:-[a-z\xe4\xf6\xfc\xdf]+)*)(?:\s+\2)+(?![a-z\xe4\xf6\xfc\xdf-])/gi,"$1$2")}}},{key:"normalizeHyphens",value:function(e){return e.replace(qr,"-").replace($r,"-")}},{key:"normalizePunctuation",value:function(e){return e.replace(Vr,"!").replace(zr,function(e,t){return t.charAt(0)})}},{key:"normalizeWhitespace",value:function(e){return e.replace(Qr,function(e){return e.includes("\n")?"\n":" "})}},{key:"addLanguagesToDetect",value:function(e,t){var r,n;return r=e.concat(function(e){e=e.slice(0,50);for(var t=0,r=0,n=0,a=0,o=0,i=0,s=0,u=0,l=0,c=0,f=0,E=0;E<e.length;E++){var d,g=null!==(d=e[E])&&void 0!==d?d:"",h=g.charCodeAt(0);/\s/.test(g)||/\d/.test(g)||"."===g||f++,Pr(h,1536,1791)&&t++,Pr(h,1024,1279)&&r++,(Pr(h,19968,40959)||Pr(h,12352,12447)||Pr(h,12448,12543))&&n++,Pr(h,6016,6143)&&a++,Pr(h,2946,3066)&&o++,(Pr(h,880,1023)||Pr(h,7936,8191))&&i++,Pr(h,2304,2431)&&s++,Pr(h,3584,3711)&&u++,(Pr(h,1424,1535)||Pr(h,64285,64320))&&l++,(Pr(h,44032,55215)||Pr(h,4352,4607)||Pr(h,12592,12687)||Pr(h,43360,43391)||Pr(h,55216,55295))&&c++}if(0===f)return[];var _=function(e){return e/f},p=[];return _(t)>=Lr&&p.push("ar","fa"),_(r)>=Lr&&p.push("ru","uk","be"),_(n)>=Lr&&p.push("zh","ja"),_(a)>=Lr&&p.push("km"),_(o)>=Lr&&p.push("ta"),_(i)>=Lr&&p.push("el"),_(s)>=Lr&&p.push("hi","mr"),_(u)>=Lr&&p.push("th"),_(l)>=Lr&&p.push("he"),_(c)>=Lr&&p.push("ko"),p}(t)),n=[],r.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),e=n,t.includes("\xdf")&&!e.includes("de")&&e.push("de"),!t.includes("\u0142")&&!t.includes("\u0141")||e.includes("pl")||e.push("pl"),!t.includes("\xa1")&&!t.includes("\xbf")||e.includes("es")||e.push("es"),e}},{key:"mapToSupportedLanguageCode",value:function(e){return sn[e]||e}},{key:"normalizeLanguages",value:function(e){var t=this;return e.map(function(e){return t.getPrimaryLanguageCode(e)})}},{key:"getPrimaryLanguageCode",value:function(e){return e.split("-")[0].toLowerCase()}}]);var e,t}();Fr=void 0,(xr="_browserLanguageDetector")in(Dr=un)?Object.defineProperty(Dr,xr,{value:Fr,enumerable:!0,configurable:!0,writable:!0}):Dr[xr]=Fr;var ln=["errors","premiumErrors","pickyErrors","premiumPickyErrors"];function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function En(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(a(e)+" is not iterable")}function dn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return gn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hn(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return _n(l,"_invoke",function(r,n,a){var o,s,u,l=0,c=a||[],f=!1,E={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,s=0,u=e,E.n=r,i}};function d(r,n){for(s=r,u=n,t=0;!f&&l&&!a&&t<c.length;t++){var a,o=c[t],d=E.p,g=o[2];r>3?(a=g===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(s=0,E.v=n,E.n=o[1]):d<g&&(a=r<3||o[0]>n||n>g)&&(o[4]=r,o[5]=n,E.n=g,s=0))}if(a||r>1)return i;throw f=!0,n}return function(a,c,g){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&d(c,g),s=c,u=g;(t=s<2?e:u)||!f;){o||(s?s<3?(s>1&&(E.n=-1),d(s,u)):E.n=u:E.v=u);try{if(l=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(f=E.n<0)?u:r.call(n,E))!==i)break}catch(t){o=e,s=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,a,o),!0),l}var i={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(_n(t={},n,function(){return this}),t),f=l.prototype=s.prototype=Object.create(c);function E(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,_n(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,_n(f,"constructor",l),_n(l,"constructor",u),u.displayName="GeneratorFunction",_n(l,a,"GeneratorFunction"),_n(f),_n(f,a,"Generator"),_n(f,n,function(){return this}),_n(f,"toString",function(){return"[object Generator]"}),(hn=function(){return{w:o,m:E}})()}function _n(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}_n=function(e,t,r,n){function o(t,r){_n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},_n(e,t,r,n)}function pn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vn=function(){function e(){n(this,e)}return s(e,null,[{key:"getServerBaseUrl",value:function(e){var t=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this._useFallbackServerForParagraphLevelRequests:this._useFallbackServerForTextLevelRequests)&&!e.apiServerUrl;return e.apiServerUrl&&!this._isLanguageToolServer(e.apiServerUrl)?e.apiServerUrl:e.isPremium||e.user||e.apiServerUrl===X?t?Y:X:t?j:W}},{key:"_getServerFullUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getServerBaseUrl(e,t),n=r.endsWith("/")?"":"/",a=new URL(r+n+"check");return a.searchParams.set("c","1"),a.searchParams.set("instanceId",e.instanceId),e.version&&a.searchParams.set("v",e.version),a.toString()}},{key:"_abortTextLevelCheckRequest",value:function(e){this._textLevelAbortControllers.has(e)&&(this._textLevelAbortControllers.get(e).abort(),this._textLevelAbortControllers.delete(e))}},{key:"_abortParagraphLevelCheckRequest",value:function(e){this._paragraphLevelAbortControllers.has(e)&&(this._paragraphLevelAbortControllers.get(e).abort(),this._paragraphLevelAbortControllers.delete(e))}},{key:"_abortLanguageDetectionRequest",value:function(e){this._languageDetectionAbortControllers.has(e)&&(this._languageDetectionAbortControllers.get(e).abort(),this._languageDetectionAbortControllers.delete(e))}},{key:"_abortRecommendationRequest",value:function(e){var t=this._recommendationAbortControllers.get(e);t&&(t.abort(),this._recommendationAbortControllers.delete(e))}},{key:"abortTextLevelCheck",value:function(e){this._abortTextLevelCheckRequest(e)}},{key:"abortParagraphLevelCheck",value:function(e){this._abortParagraphLevelCheckRequest(e)}},{key:"abortLanguageDetection",value:function(e){this._abortLanguageDetectionRequest(e)}},{key:"abortRecommendation",value:function(e){this._abortRecommendationRequest(e)}},{key:"_prepareText",value:function(e){return e.replace(this.ZWNJ_REGEXP,this.ZWS)}},{key:"_joinInChunks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee,r=[],n=0,a=[];return e.forEach(function(e){n>t&&(n=0,a=[]),a.push(e),n+=e.text.length,r.includes(a)||r.push(a)}),r}},{key:"_getRequestData",value:function(e,t,r){var n=new URLSearchParams,a={text:e};r.recipientInfo&&(r.recipientInfo.address||r.recipientInfo.fullName)&&(a.metaData={EmailToAddress:r.recipientInfo.address,FullName:r.recipientInfo.fullName}),n.append("data",JSON.stringify(a));var o=Boolean(r.isPremium||!r.apiServerUrl||r.apiServerUrl&&r.apiServerUrl.startsWith(X)||r.apiServerUrl&&!this._isLanguageToolServer(r.apiServerUrl));if(o&&r.user&&"password"in r.user?(n.append("username",r.user.email),n.append("password",r.user.password)):o&&r.user&&"token"in r.user&&(n.append("username",r.user.email),n.append("tokenV2",r.user.token)),n.append("textSessionId",r.instanceId),r.isPremium||n.append("enableHiddenRules","true"),r.motherTongue&&qe.includes(r.motherTongue)&&n.append("motherTongue",r.motherTongue),"normal"!==r.checkLevel&&n.append("level",r.checkLevel.replace("hidden-","")),t)n.append("language",t.code);else{n.append("language","auto"),n.append("noopLanguages",r.preferredLanguages.join(","));var i=this._getPreferredVariants(r.languageVariants);i.length>0&&n.append("preferredVariants",i.toString())}if(r.testGroups){for(var s=[],u=0,l=Object.entries(r.testGroups);u<l.length;u++){var c=v(l[u],2),f=c[0];c[1]&&s.push(f)}s.length&&n.append("abtest",s.join(","))}if(n.append("preferredLanguages",r.preferredLanguages.join(",")),r.forcePreferredLanguages&&n.append("forcePreferredLanguages","true"),r.writingGoalId){var E=this.HIGH_LEVEL_GOALS.find(function(e){return e.id===r.writingGoalId});E&&n.append("toneTags",E.tags.join(","))}var d=["WHITESPACE_RULE"].concat(r.disabledRules.filter(function(e){return Ye.includes(e)}));return n.append("disabledRules",d.join(",")),r.userAgent&&n.append("useragent",r.userAgent),n}},{key:"_getHeaders",value:function(e){if(e.accessToken){var t=new Headers;return t.append("Authorization","Bearer ".concat(e.accessToken)),t}}},{key:"_getPreferredVariants",value:function(e){return Object.values(e)}},{key:"_getTextLevelRequestData",value:function(e,t,r){var n=this._getRequestData(e,t,r);return n.append("mode","textLevelOnly"),n}},{key:"_getParagraphLevelCheckRequestData",value:function(e,t,r){var n=this._getRequestData(e,t,r);return n.append("mode","allButTextLevelOnly"),n.append("allowIncompleteResults",String(r.allowIncompleteResults||!1)),n}},{key:"_sendRequest",value:(f=h(hn().m(function e(t,r){var n,a,o,i=arguments;return hn().w(function(e){for(;;)if(0===e.n)return n=i.length>2&&void 0!==i[2]?i[2]:k,a=fetch(t,r).catch(function(e){throw"AbortError"===e.name?{reason:"AbortError",status:0,response:e.message||""}:{reason:"ConnectionError",status:0,url:t.replace(/\?.*/,""),response:e.message||""}}).then(this._checkForException).then(function(e){return e.json()}),o=new Promise(function(e,r){setTimeout(function(){r({reason:"TimeoutError",status:0,url:t.replace(/\?.*/,""),response:""})},n)}),e.a(2,Promise.race([a,o]))},e,this)})),function(e,t){return f.apply(this,arguments)})},{key:"_isConnectionOrServerIssue",value:function(e){return te.includes(e.status)||["ConnectionError","TimeoutError"].includes(e.reason)}},{key:"_getGraphemesCount",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=r;n<e.length;n++){if(t<=0)return n-r;t-=e[n].length}return e.length-r}},{key:"_getCodepointsCount",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=0,a=r;a<Math.min(e.length,r+t);a++)n+=e[a].length;return n}},{key:"_correctMatches",value:function(t,r,n){if(r!==n){var a,o=ur(r),i=ur(n),s=dn(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=e._getGraphemesCount(o,u.offset),c=e._getGraphemesCount(o,u.length,l);u.offset=e._getCodepointsCount(i,l),u.length=e._getCodepointsCount(i,c,l)}}catch(e){s.e(e)}finally{s.f()}}return t}},{key:"_getLeftText",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"auto",s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=Math.max(t-n,0);if(a&&o.length>0){var l=o.find(function(e){return t>=e.start&&t<=e.end});l&&(u=s?l.start:Math.max(u,l.start))}if(r){var c=e.lastIndexOf("\n",t);c>=u&&(u=c+1)}var f=e.substring(u,t).replace(this.NON_ALPHANUMERIC_AT_BEGINNING_REGEXP,"");return("always"===i?0!==u:"never"!==i&&!(0===u||r&&"\n"===e[u-1]||a&&o.some(function(e){return u===e.start})))&&(f="..."+f),f}},{key:"_getRightText",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"auto",s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=Math.min(t+n,e.length);if(a&&o.length>0){var l=o.find(function(e){return t>=e.start&&t<=e.end});l&&(u=s?l.end:Math.min(u,l.end))}if(r){var c=e.indexOf("\n",t);-1!==c&&c<=u&&(u=c)}var f=e.substring(t,u).replace(this.NON_ALPHANUMERIC_AT_END_REGEXP,"");return("always"===i?u!==e.length:"never"!==i&&!(u===e.length||r&&"\n"===e[u]||a&&o.some(function(e){return u===e.end})))&&(f+="..."),f}},{key:"_transformMatches",value:function(t,r,n){var a=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return t.map(function(t){var u,l,c,f,E,d,g,h,_=t.rule.id.startsWith("DB_"),p=a.SPELLING_RULES_ID.some(function(e){return t.rule.id.includes(e)}),v=a.STYLE_ISSUE_TYPES.some(function(e){return t.rule.issueType===e}),m="typographical"===t.rule.issueType&&"CASING"!==t.rule.category.id||"PUNCTUATION"===t.rule.category.id||"TYPOGRAPHY"===t.rule.category.id||t.rule.category.id.includes("KOMMA"),T=Boolean(t.rule.tags&&t.rule.tags.includes("picky")),A="RECOMMENDATION"===t.rule.issueType||"PHRASAL_RECOMMENDATION"===t.rule.issueType,S=!1===t.rule.showInline,R=r.substr(t.offset,t.length),I=null!==(u=null==i?void 0:i.strictByParagraph)&&void 0!==u?u:o,O=null!==(l=null==i?void 0:i.useSentenceAwareContext)&&void 0!==l&&l,y=null==i?void 0:i.shortContext,N=null!==(c=null==y?void 0:y.maxContextLength)&&void 0!==c?c:15,C=null!==(f=null==y?void 0:y.ellipsisMode)&&void 0!==f?f:"auto",L=null!==(E=null==y?void 0:y.forceCompleteSentences)&&void 0!==E&&E,P=null==i?void 0:i.longContext,b=null!==(d=null==P?void 0:P.maxContextLength)&&void 0!==d?d:60,k=null!==(g=null==P?void 0:P.ellipsisMode)&&void 0!==g?g:"auto",D=null!==(h=null==P?void 0:P.forceCompleteSentences)&&void 0!==h&&h,x=e._getLeftText(r,t.offset,I,N,O,s,C,L),F=e._getRightText(r,t.offset+t.length,I,N,O,s,C,L),w="".concat(x,"|").concat(R,"|").concat(F),U=e._getLeftText(r,t.offset,!0,b,O,s,k,D),M=e._getRightText(r,t.offset+t.length,!0,b,O,s,k,D),G="".concat(ar(U),"<lt-em>").concat(ar(R),"</lt-em>").concat(ar(M)),H="";t.shortMessage&&t.shortMessage.length<60&&t.shortMessage!==t.message&&(H=t.shortMessage.replace(a.PUNCTUATION_AT_END,""));var B=t.replacements.map(function(e){return{value:e.value,htmlValue:e.htmlValue,prefix:e.prefix,suffix:e.suffix,type:e.type,shortDescription:e.shortDescription}});return{isParagraphLevelCheck:o,rule:t.rule,isCustomError:_,isSpellingError:p,isStyleError:v,isPunctuationError:m,isPicky:T,isRecommendation:A,isOptional:S,contextForSureMatch:t.contextForSureMatch,language:{code:n.code,name:n.name},description:t.message,shortDescription:H,goodExample:t.goodExample,badExample:t.badExample,start:t.offset,end:t.offset+t.length,length:t.length,originalPhrase:R,contextPhrase:w,longContextPhrase:G,fixes:B,isLocked:t.isLocked}})}},{key:"_adjustErrors",value:function(e,t,r){var n=this,a=r.recipientInfo?r.recipientInfo.fullName.split(" ").filter(function(e){return e}):[];return e.filter(function(e){if(e.originalPhrase.startsWith(ct)){var o=e.originalPhrase.length;if(e.originalPhrase=e.originalPhrase.replace(Yt,""),e.start+=o-e.originalPhrase.length,e.fixes[0]&&e.originalPhrase===e.fixes[0].value)return!1}if(e.originalPhrase.endsWith(ct)){var i=e.originalPhrase.length;if(e.originalPhrase=function(e){return e.replace(Zt,"")}(e.originalPhrase),e.end-=i-e.originalPhrase.length,e.fixes[0]&&e.originalPhrase===e.fixes[0].value)return!1}if(e.fixes=e.fixes.filter(function(t){return t.value!=="("+e.originalPhrase+")"&&t.value!==e.originalPhrase&&"(suggestion limit reached)"!==t.value&&"(se ha alcanzado el l\xedmite de sugerencias)"!==t.value&&"(Vorschlagslimit erreicht)"!==t.value}),e.language.code.startsWith("en")&&Qt(e.originalPhrase)&&!/[a-z]/i.test(e.contextPhrase)&&e.fixes.forEach(function(t){t.value.toLowerCase()!==e.originalPhrase.toLowerCase()&&(t.value=t.value.toUpperCase())}),"PT_CLICHE_REPLACE"!==e.rule.id&&"PT_WORDINESS_REPLACE"!==e.rule.id||e.fixes.forEach(function(t){(t.value.startsWith("REFORMULAR")||t.value.startsWith("APAGAR")||t.value.startsWith("ESPECIFICAR"))&&(e.description=e.description.replace(/\s\xc9 prefer\xedvel dizer.+(REFORMULAR|APAGAR|ESPECIFICAR).+$/,""),t.value="")}),n.EMAIL_SIGNATURE_SEPARATOR_REGEXP.test(e.originalPhrase))return!1;if(n.INVISIBLE_PHRASE_REGEXP.test(e.originalPhrase))return!1;if(e.rule.id.endsWith("WORD_REPEAT_BEGINNING_RULE")&&n.ONLY_NUMBERS_REGEXP.test(e.originalPhrase))return!1;if("LEERZEICHEN_HINTER_DOPPELPUNKT"===e.rule.id&&n.COLON_WHITESPACE_REGEXP.test(e.originalPhrase))return!1;var s=t.substring(e.start-25,e.start),u=t.substr(e.end,25);if(r.ignoreCapitalizationErrorsAtLineStart&&"UPPERCASE_SENTENCE_START"===e.rule.id&&n.PREVENT_MID_SENTENCE_CAPITALIZATION.test(s))return!1;if(r.ignoreCapitalizationErrorsAtLineStart&&"PUNCTUATION_PARAGRAPH_END"===e.rule.id&&n.PREVENT_MID_SENTENCE_PUNCTUATION.test(u))return!1;if("DE_CASE"===e.rule.id&&n.BULLET_POINT_REGEXP.test(s))return!1;if("DE_CASE"===e.rule.id&&n.NUMBER_WITH_PARENTHESIS_AT_END_REGEXP.test(s))return!1;if("DE_CASE"===e.rule.id&&n.PIPE_AT_END_REGEXP.test(s))return!1;if("DE_CASE"===e.rule.id&&n.MARKDOWN_HEADLINE_REGEXP.test(s))return!1;if("DE_CASE"===e.rule.id&&n.EMOJI_SENTENCE_START_REGEXP.test(s))return!1;if("LEERZEICHEN_HINTER_DOPPELPUNKT"===e.rule.id&&n.MARKDOWN_INLINE_FORMAT_AT_BEGINNING_REGEXP.test(u))return!1;if("LEERZEICHEN_HINTER_DOPPELPUNKT"===e.rule.id&&n.WIKI_MARKUP_AT_END_REGEXP.test(s))return!1;if(e.rule.id.endsWith("UNPAIRED_BRACKETS")&&n.ONE_LETTER_AT_END_REGEXP.test(s))return!1;if(e.rule.id.endsWith("UNPAIRED_BRACKETS")&&n.NUMBER_WITH_DOT_AT_END_REGEXP.test(s))return!1;if("SENTENCE_WHITESPACE"===e.rule.id&&s.endsWith("{!"))return!1;if("SENTENCE_WHITESPACE"===e.rule.id&&n.SINGLE_UPPERCASE_LETTER_REGEXP.test(e.originalPhrase)&&n.ABBREVIATION_AT_END_REGEXP.test(s))return!1;if("SENTENCE_WHITESPACE"===e.rule.id&&"net"===e.originalPhrase.toLowerCase())return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&n.NET_AT_BEGINNING_REGEXP.test(u))return!1;if(e.rule.id.startsWith("AI_")&&1===e.fixes.length&&e.originalPhrase.replace(n.INVISIBLE_CHARS_REGEXP,"")===e.fixes[0].value)return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&e.originalPhrase.endsWith(")")&&s.endsWith(n.ZWS))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&e.originalPhrase.endsWith(".")&&n.FILE_TYPE_AT_BEGINNING_REGEXP.test(u))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&s.endsWith("(")&&(",)"===e.originalPhrase||".)"===e.originalPhrase))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&s.endsWith("\n")&&[")","}","]","."].includes(e.originalPhrase))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&u.startsWith("/"))return!1;if("COMMA_PARENTHESIS_WHITESPACE"===e.rule.id&&e.originalPhrase.includes(n.ZWS))return!1;if("WORT1_BINDESTRICH_SPACE_WORT2"===e.rule.id&&e.originalPhrase.endsWith(n.ZWS))return!1;if("MULTIPLICATION_SIGN"===e.rule.id&&(n.AT_LEAST_TWO_LETTERS_AT_END_REGEXP.test(s)||!u||n.PUNCTUATION_AT_BEGINNING_REGEXP.test(u)))return!1;if("ZBEDNA_SPACJA_PRZED"===e.rule.id&&e.originalPhrase.includes(n.ZWS))return!1;if("UNLIKELY_OPENING_PUNCTUATION"===e.rule.id&&n.PUNCTUATION_SPACE_AT_END_REGEXP.test(s))return!1;if("WORD_CONTAINS_UNDERSCORE"===e.rule.id&&(!n.LOWERCASE_REGEXP.test(e.originalPhrase)||e.originalPhrase.includes("-")||e.originalPhrase.includes("__")||n.SLASH_AT_END_REGEXP.test(s)||n.SLASH_AT_BEGINNING_REGEXP.test(u)))return!1;if("WORD_CONTAINS_UNDERSCORE"===e.rule.id&&s.endsWith("[")&&u.startsWith("]"))return!1;if("WORD_CONTAINS_UNDERSCORE"===e.rule.id&&et.test(s)&&tt.test(u))return!1;if("WORD_CONTAINS_UNDERSCORE"===e.rule.id&&(s.endsWith("=")||s.endsWith("&")||s.endsWith("?")))return!1;if(["APOS_INCORRECT","LOOSE_ACCENTS"].includes(e.rule.id)&&"`"===e.originalPhrase)return!1;if(["_2_AANH_B","FALSCHES_ANFUEHRUNGSZEICHEN_2"].includes(e.rule.id)&&"``"===e.originalPhrase)return!1;if("DASH_RULE"===e.rule.id&&u.startsWith(" [")&&(!s||s.endsWith("\n")))return!1;if(e.isSpellingError&&e.originalPhrase.length>6&&e.fixes.length>4&&e.language.code.startsWith("de")&&(e.fixes.length=4),e.isSpellingError||"WORD_CONTAINS_UNDERSCORE"===e.rule.id){var l=e.originalPhrase.charAt(0),c=e.originalPhrase.toLowerCase();if(Er(e,r.dictionary))return!1;if((u.startsWith("_")||s.endsWith("_"))&&!e.language.code.startsWith("de"))return!1;if(e.originalPhrase.startsWith("$")&&u.startsWith("}")&&s.endsWith("{"))return!1;if(e.originalPhrase.startsWith("$")&&e.originalPhrase.endsWith("$"))return!1;if(n.HTML_ENTITIES.includes(e.originalPhrase)&&s.endsWith("&")||n.HTML_ENTITIES_WITH_AND.includes(e.originalPhrase)||n.HTML_ENTITIES_WITH_AND.includes("&"+e.originalPhrase))return!1;if(n.COMMON_TLDS.some(function(e,t){return c.endsWith("."+e)||n.COMMON_TLD_WITH_DOT_REGEXPS[t].test(u)}))return!1;if(n.DOT_WITH_PREFIX_REGEXP.test(s)&&n.COMMON_TLDS.includes(c))return!1;if(n.COMMON_FILE_TYPES.some(function(e,t){return c.endsWith("."+e)||n.COMMON_FILE_TYPE_WITH_DOT_REGEXPS[t].test(u)}))return!1;if(n.DOT_WITH_PREFIX_REGEXP.test(s)&&n.COMMON_FILE_TYPES.includes(c))return!1;var f="@"===l||n.MENTION_SYMBOL_AT_BEGINNING_REGEXP.test(s),E="#"===l||n.HASH_SYMBOL_AT_BEGINNING_REGEXP.test(s);if(f||E)return!1;if(a.some(function(t){return t===e.originalPhrase}))return!1;if(n.WAVY_DASH_REGEXP.test(e.originalPhrase))return!1;var d,g=dn(a);try{var h=function(){var t=d.value;if(t.toLowerCase()===e.originalPhrase.toLowerCase()&&!e.fixes.some(function(e){return e.value===t}))return e.fixes.unshift({value:t}),1};for(g.s();!(d=g.n()).done&&!h(););}catch(e){g.e(e)}finally{g.f()}}return!0})}},{key:"_processResponse",value:function(e,t,r,n,a){var o=this,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];e.matches=this._correctMatches(e.matches,r,n);var l=this._transformMatches(e.matches,n,e.language,i,null==a?void 0:a.contextConfig,t);l=this._adjustErrors(l,n,a);var f=[],E=[],g=[],h=!a.apiServerUrl||this._isLanguageToolServer(a.apiServerUrl);if(t=this._correctMatches(t.filter(function(e){var t=e.start;return e.end-t>-1}).map(function(e){var t=e.start;return{offset:t,length:e.end-t,detectedLanguages:e.detectedLanguages,checkStatus:e.checkStatus}}),r,n).map(function(e){var t=e.offset,r=e.length;return{start:t,end:t+r,length:r,detectedLanguages:e.detectedLanguages,checkStatus:e.checkStatus}}),s)return{errors:[],premiumErrors:[],pickyErrors:[],premiumPickyErrors:[],sentenceRanges:t};if(u){var _=d.get(c.FIX_ALL_CONFIG);return{errors:l.filter(function(e){return!(!e.isRecommendation||_.FIX_RECOMMENDATIONS)||(!(!e.isStyleError||_.FIX_STYLE_ERRORS)||!_.FIX_GC_ERRORS)}),premiumErrors:[],pickyErrors:[],premiumPickyErrors:[],sentenceRanges:t}}return!a.isPremium&&h&&e.language&&e.language.code.startsWith("nl")&&(l=l.filter(function(e){return!o.NL_PREMIUM_RULES.includes(e.rule.id)||(e.rule.id="HIDDEN_RULE",e.fixes=[],f.push(e),!1)})),!a.isPremium&&h&&e.language&&e.language.code.startsWith("pl")&&(l=l.filter(function(e){return!o.PL_PREMIUM_RULES.includes(e.rule.id)||(e.rule.id="HIDDEN_RULE",e.fixes=[],f.push(e),!1)})),a.isPremium&&l.forEach(function(e){o.NL_PREMIUM_RULES.includes(e.rule.id)&&(e.rule.isPremium=!0),o.PL_PREMIUM_RULES.includes(e.rule.id)&&(e.rule.isPremium=!0)}),a.debug&&l.forEach(function(e){e.description=(e.rule.isPremium?"prem:":"")+e.rule.id+"["+(e.rule.subId||"")+"] "+e.description}),e.hiddenMatches&&(f=f.concat(this._transformMatches(e.hiddenMatches,n,e.language,i,null==a?void 0:a.contextConfig,t))),"hidden-picky"===a.checkLevel&&(l=l.filter(function(e){return!e.isPicky||(g.push(e),!1)}),e.hiddenMatches&&(f=f.filter(function(e){return!e.isPicky||(E.push(e),!1)}))),{errors:l,premiumErrors:f,pickyErrors:g,premiumPickyErrors:E,sentenceRanges:t}}},{key:"_correctErrorOffsets",value:function(e,t){var r,n=[],a=0,o=dn(e);try{var i=function(){var e,o=r.value,i=o.text.length,s=dn(t);try{for(s.s();!(e=s.n()).done;){var u=e.value;if(u.start>=a&&u.end<=a+i){var l,c=Object.assign({},u);c.start=c.start-a+o.offset,c.end=c.start+c.length,null===(l=c.rule)||void 0===l||null===(l=l.phraseDiff)||void 0===l||l.forEach(function(e){e.sourceStart=e.sourceStart-a+o.offset,e.sourceEnd=e.sourceEnd-a+o.offset,e.targetEnd=e.targetEnd-a+o.offset,e.targetStart=e.targetStart-a+o.offset}),n.push(c)}}}catch(e){s.e(e)}finally{s.f()}a+=i+2};for(o.s();!(r=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}return n}},{key:"checkTextLevel",value:(l=h(hn().m(function e(t,r,n){var a,o,i,s,u,l=this;return hn().w(function(e){for(;;)switch(e.n){case 0:if(t=this._prepareText(t),a=Boolean(n.adapter),t.trim()&&!a){e.n=1;break}return e.a(2,{language:r,errors:[],premiumErrors:[],pickyErrors:[],premiumPickyErrors:[]});case 1:return this._abortTextLevelCheckRequest(n.instanceId),this._textLevelAbortControllers.set(n.instanceId,new AbortController),this._useFallbackServerForTextLevelRequests&&Date.now()-this._mainServerUnavailabilityTimeStamp>=re&&(this._useFallbackServerForTextLevelRequests=!1),o=t.normalize(),i=this._getServerFullUrl(n,!1),s=this._getTextLevelRequestData(o,r,n),u={method:"post",mode:"cors",credentials:"omit",body:s,headers:this._getHeaders(n),signal:this._textLevelAbortControllers.get(n.instanceId).signal},e.a(2,this._sendRequest(i,u).then(function(e){var r=l._processResponse(e,[],o,t,n),a=r.errors,i=r.premiumErrors,s=r.pickyErrors,u=r.premiumPickyErrors;return{language:{code:e.language.code,name:e.language.name,detectedLanguage:e.language.detectedLanguage},errors:a,premiumErrors:i,pickyErrors:s,premiumPickyErrors:u}}).catch(function(e){if(l._isConnectionOrServerIssue(e)&&(l._abortTextLevelCheckRequest(n.instanceId),!n.apiServerUrl&&!l._useFallbackServerForTextLevelRequests))return l._useFallbackServerForTextLevelRequests=!0,l._mainServerUnavailabilityTimeStamp=Date.now(),l.checkTextLevel(t,r,n);throw e}))}},e,this)})),function(e,t,r){return l.apply(this,arguments)})},{key:"_buildSentenceRanges",value:function(e,t){if(!t.extendedSentenceRanges&&!t.sentenceRanges)return[];var r=t.extendedSentenceRanges;return r||(r=(t.sentenceRanges||[]).map(function(e){return{from:e[0],to:e[1],detectedLanguages:[{language:t.language.code.split("-")[0],rate:1}]}})),function(e,t){var r,n=new RegExp(ct,"g"),a=[],o=Pt(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.start,u=i.end,l=t.substring(s,u);if(l.replace(n,"").trim()){var c=v(tr(l),2),f=c[0],E=c[1],d=s+f,g=d+l.length-f-E,h=g-d;a.push({start:d,end:g,length:h,detectedLanguages:i.detectedLanguages,checkStatus:i.checkStatus})}}}catch(e){o.e(e)}finally{o.f()}return a}(r.map(function(e){return{start:e.from,end:e.to,length:e.to-e.from,detectedLanguages:e.detectedLanguages.map(function(e){return{language:e.language,confidence:e.rate}}),checkStatus:e.checkStatus}}),e)}},{key:"cancelAllRequests",value:function(e){this._abortParagraphLevelCheckRequest(e),this._abortLanguageDetectionRequest(e),this._abortTextLevelCheckRequest(e),this._abortRecommendationRequest(e)}},{key:"checkParagraphLevel",value:(u=h(hn().m(function e(t,r,n,a,o,i,s){var u,l,f,E,g,h,_,p,v,m,T,A,S=this;return hn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.forEach(function(e){e.text=S._prepareText(e.text)}),t.some(function(e){return!!e.text.trim()})){e.n=1;break}return f={input:{acceptChangeType:fr.GC,language:null==r?void 0:r.code,paragraphs:t,editorCompleteText:a||"",preferredVariants:this._getPreferredVariants(n.languageVariants),disableRecommendations:n.disableRecommendations,replacementText:null==i?void 0:i.replacementText,hasUserAppliedFix:!1,changedParagraphsSentencesLength:o,appliedFixAll:s,writingGoal:n.writingGoalId,changedContent:n.changedContent||[]},signal:this._paragraphLevelAbortControllers.get(n.instanceId).signal,handleResponseCallback:function(e,t){var r;"editor_content_save_ack"===t&&(null==n||null===(r=n.handleResponseCallback)||void 0===r||r.call(n,e,"editor_content_save_ack"))},metaData:{instanceId:n.instanceId,tabId:n.tabId,hostUrl:n.hostUrl||"",hostCategory:n.hostCategory,writingSessionId:n.writingSessionId,lastEditorContentSavedTimestamp:n.lastEditorContentSavedTimestamp}},null==n||null===(u=n.adapter)||void 0===u||null===(l=u.grammarCheck)||void 0===l||l.call(u,f),e.a(2,{language:r,errors:[],premiumErrors:[],pickyErrors:[],premiumPickyErrors:[],isIncompleteResult:!1,areErrorsSuppressed:!1});case 1:this._abortParagraphLevelCheckRequest(n.instanceId),this._paragraphLevelAbortControllers.set(n.instanceId,new AbortController),this._useFallbackServerForParagraphLevelRequests&&Date.now()-this._mainServerUnavailabilityTimeStamp>=re&&(this._useFallbackServerForParagraphLevelRequests=!1),E=!1,i&&i.ruleId&&(g=d.get(c.AI_RULE_ID_REGEX),E=g.test(i.ruleId)),h=this._getServerFullUrl(n,!0),_=[t],n.adapter||(_=this._joinInChunks(t)),p=[],v=dn(_),e.p=2,T=hn().m(function e(){var t,u,l,c,f,d,g,_,v,T,A;return hn().w(function(e){for(;;)switch(e.n){case 0:u=m.value,l=u.map(function(e){return e.text}).join("\n\n"),c=l.normalize(),f=S._getParagraphLevelCheckRequestData(c,r,n),d={method:"post",mode:"cors",credentials:"omit",body:f,headers:S._getHeaders(n),signal:S._paragraphLevelAbortControllers.get(n.instanceId).signal},g=function(e,t){if("editor_content_save_ack"===t){var r;null===(r=n.handleResponseCallback)||void 0===r||r.call(n,e,"editor_content_save_ack")}else{var a,i=S._postProcessParagraphLevelCheckResult(e,u,c,l,n,E,o,s);null===(a=n.handleResponseCallback)||void 0===a||a.call(n,i,t)}},_="REPHRASING"===(null==i?void 0:i.ruleId)?fr.REPHRASING:null!=i&&i.isRecommendation?fr.GC_RECOMMENDATION:fr.GC,v={input:{acceptChangeType:_,language:null==r?void 0:r.code,paragraphs:u,editorCompleteText:a||"",preferredVariants:S._getPreferredVariants(n.languageVariants),disableRecommendations:n.disableRecommendations,replacementText:null==i?void 0:i.replacementText,hasUserAppliedFix:!!i&&E,changedParagraphsSentencesLength:o,appliedFixAll:s,writingGoal:n.writingGoalId,changedContent:n.changedContent||[],responseType:n.responseType},signal:S._paragraphLevelAbortControllers.get(n.instanceId).signal,handleResponseCallback:g,metaData:{instanceId:n.instanceId,tabId:n.tabId,hostUrl:n.hostUrl||"",hostCategory:n.hostCategory,writingSessionId:n.writingSessionId,lastEditorContentSavedTimestamp:n.lastEditorContentSavedTimestamp}},T=n.adapter?null===(t=n.adapter)||void 0===t?void 0:t.grammarCheck(v):S._sendRequest(h,d),A=T.then(function(e){return S._postProcessParagraphLevelCheckResult(e,u,c,l,n,E,o,s)}),p.push(A);case 1:return e.a(2)}},e)}),v.s();case 3:if((m=v.n()).done){e.n=5;break}return e.d(En(T()),4);case 4:e.n=3;break;case 5:e.n=7;break;case 6:e.p=6,A=e.v,v.e(A);case 7:return e.p=7,v.f(),e.f(7);case 8:return e.a(2,Promise.all(p).then(function(e){var t=e[0].language,r=e[0].areErrorsSuppressed,n=e[0].metaData;return{language:t,errors:Array.prototype.concat.apply([],e.map(function(e){return e.errors})),premiumErrors:Array.prototype.concat.apply([],e.map(function(e){return e.premiumErrors})),premiumPickyErrors:Array.prototype.concat.apply([],e.map(function(e){return e.premiumPickyErrors})),pickyErrors:Array.prototype.concat.apply([],e.map(function(e){return e.pickyErrors})),isIncompleteResult:e.some(function(e){return e.isIncompleteResult}),sentenceRanges:Array.prototype.concat.apply([],e.filter(function(e){return Boolean(e.sentenceRanges)}).map(function(e){return e.sentenceRanges})),areErrorsSuppressed:r,metaData:n}}).catch(function(e){if(S._isConnectionOrServerIssue(e)&&(S._abortParagraphLevelCheckRequest(n.instanceId),(!n.apiServerUrl||S._isLanguageToolServer(n.apiServerUrl))&&!S._useFallbackServerForParagraphLevelRequests))return S._useFallbackServerForParagraphLevelRequests=!0,S._mainServerUnavailabilityTimeStamp=Date.now(),S.checkParagraphLevel(t,r,n,a);throw e}))}},e,this,[[2,6,7,8]])})),function(e,t,r,n,a,o,i){return u.apply(this,arguments)})},{key:"_postProcessParagraphLevelCheckResult",value:function(e,t,r,n,a,o,i,s){var u,l=e.language,c=e.warnings,f=e.ignoreRanges||[];a.debug&&f.length&&(e.matches=this._filterErrorsInIgnoredRanges(e.matches,f),e.hiddenMatches&&(e.hiddenMatches=this._filterErrorsInIgnoredRanges(e.hiddenMatches,f)),this._addIgnoredRangeMatches(r,e.matches,f));var E=this._buildSentenceRanges(r,e),d=null!==(u=a.adapter)&&void 0!==u&&u.grammarCheck?o:o&&1===t.length&&E.length===i,g=this._processResponse(e,E,r,n,a,!0,d,s),h=g.errors,_=g.premiumErrors,p=g.pickyErrors,v=g.premiumPickyErrors;E=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(g,ln).sentenceRanges;var m=this._correctErrorOffsets(t,h),T=this._correctErrorOffsets(t,_),A=this._correctErrorOffsets(t,p),S=this._correctErrorOffsets(t,v);return E=this._correctErrorOffsets(t,E),{language:{code:l.code,name:l.name},errors:m,premiumErrors:T,pickyErrors:A,premiumPickyErrors:S,isIncompleteResult:!!c&&c.incompleteResults,areErrorsSuppressed:d,sentenceRanges:E,metaData:null==e?void 0:e.metaData}}},{key:"checkRecommendation",value:(i=h(hn().m(function e(t,r){var n,a,o,i,s,u,l;return hn().w(function(e){for(;;)switch(e.n){case 0:if(t.isForcedRecommendation||this._abortRecommendationRequest(t.instanceId),n=new AbortController,this._recommendationAbortControllers.set(t.instanceId,n),a={input:{language:t.language.code,texts:t.texts,priorities:t.priorities,writingGoal:t.writingGoal||""},metaData:fn({},null==r?void 0:r.metaData)},null==r||!r.adapter){e.n=2;break}return e.n=1,r.adapter.recommendation(a,fn(fn({},r.options),{},{signal:(null===(o=r.options)||void 0===o?void 0:o.signal)||n.signal}));case 1:return s=e.v,u=[],null!==(i=r.contextConfig)&&void 0!==i&&i.useSentenceAwareContext&&t.texts.length>0&&(u=t.texts.map(function(e){var r=e.offset,n=e.offset+e.text.length;return{start:r,end:n,length:n-r,detectedLanguages:[{language:t.language.code.split("-")[0],confidence:1}]}})),l=this._transformMatches(s.matches||[],t.originalText,t.language,!0,r.contextConfig,u),e.a(2,l);case 2:return e.a(2,new Promise(function(e){e([])}));case 3:return e.a(2)}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"unlockRecommendation",value:(o=h(hn().m(function e(t,r){var n;return hn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,null===(n=r.adapter)||void 0===n?void 0:n.unlockRecommendation({lockId:t,metaData:r.metaData});case 1:return e.a(2,e.v)}},e)})),function(e,t){return o.apply(this,arguments)})},{key:"translateText",value:function(e,t){return t.adapter.translate(e)}},{key:"_filterErrorsInIgnoredRanges",value:function(e,t){return e.filter(function(e){var r=e.offset,n=e.offset+e.length;return!t.some(function(e){return r>=e.from&&r<=e.to||n>=e.from&&n<=e.to})})}},{key:"_addIgnoredRangeMatches",value:function(e,t,r){r.forEach(function(r){var n=r.to-r.from,a=e.substring(r.from,r.to).match(/\s+$/);a&&(n-=a[0].length);var o={offset:r.from,length:n,rule:{id:"IGNORED_RANGE",category:{id:"IGNORED_RANGE",name:"Ignored Range"},issueType:"ignoredRange",description:"",isPremium:!1},contextForSureMatch:0,message:"This text is in a different language than the rest of the text.",shortMessage:"Different language: "+r.language.code,replacements:[]};t.push(o)})}},{key:"detectLanguage",value:(a=h(hn().m(function e(t,r,n){var a,o,i,s,u,l=this;return hn().w(function(e){for(;;)switch(e.n){case 0:if(t=this._prepareText(t),a=Boolean(n.adapter),t.trim()&&!r&&!a){e.n=1;break}return e.a(2,{language:r,errors:[],premiumErrors:[],pickyErrors:[],premiumPickyErrors:[]});case 1:return this._abortLanguageDetectionRequest(n.instanceId),this._languageDetectionAbortControllers.set(n.instanceId,new AbortController),this._useFallbackServerForLanguageDetection&&Date.now()-this._mainServerUnavailabilityTimeStamp>=re&&(this._useFallbackServerForLanguageDetection=!1),o=t.substr(0,1e3).normalize(),i=this._getServerFullUrl(n,!1),s=this._getTextLevelRequestData(o,r,n),u={method:"post",mode:"cors",credentials:"omit",body:s,headers:this._getHeaders(n),signal:this._languageDetectionAbortControllers.get(n.instanceId).signal},e.a(2,this._sendRequest(i,u).then(function(e){return{language:{code:e.language.code,name:e.language.name},errors:[],premiumErrors:[],premiumPickyErrors:[],pickyErrors:[]}}).catch(function(e){if(l._isConnectionOrServerIssue(e)&&(l._abortLanguageDetectionRequest(n.instanceId),(!n.apiServerUrl||l._isLanguageToolServer(n.apiServerUrl))&&!l._useFallbackServerForLanguageDetection))return l._useFallbackServerForLanguageDetection=!0,l._mainServerUnavailabilityTimeStamp=Date.now(),l.detectLanguage(t,r,n);throw e}))}},e,this)})),function(e,t,r){return a.apply(this,arguments)})},{key:"_isLanguageToolServer",value:function(e){return!!e&&(e.includes("api.languagetool.org")||e.includes("languagetool.org/api")||e.includes("api.languagetoolplus.com"))}},{key:"checkForPaidSubscription",value:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X;return new Promise(function(o,i){a+=a.endsWith("/")?"check":"/check";var s=new URLSearchParams;s.append("language","en-us"),s.append("data",JSON.stringify({text:"The languagetool testrule 8634756."})),e&&t?(s.append("username",e),s.append("password",t)):e&&r&&(s.append("username",e),s.append("tokenV2",r));var u={method:"post",mode:"cors",credentials:"omit",body:s};n._sendRequest(a,u).then(function(e){var t=e.matches.some(function(e){return"PREMIUM_FAKE_RULE"===e.rule.id});o(t)}).catch(i)})}},{key:"addWordToDictionary",value:function(e,t){if(!Boolean(t.adapter)){var r=this.getServerBaseUrl(t),n=r.endsWith("/")?"":"/",a=new URL(r+n+"words/add");if(t.user&&"token"in t.user)a.searchParams.set("username",t.user.email),a.searchParams.set("tokenV2",t.user.token);else{if(!t.user||!("password"in t.user))return Promise.reject(new Error("Not logged-in for adding words to dictionary"));a.searchParams.set("username",t.user.email),a.searchParams.set("password",t.user.password)}return a.searchParams.set("word",e.trim()),fetch(a.toString(),{method:"POST"}).then(function(e){return e.ok?Promise.resolve():Promise.reject(new Error("Status: ".concat(e.status)))})}}},{key:"getLanguageVariant",value:function(e,t){return"en"===(e=e.toLowerCase())?t.languageVariants.en||"en-us":"de"===e?t.languageVariants.de||"de-de":"pt"===e?t.languageVariants.pt||"pt-pt":"ca"===e?t.languageVariants.ca||"ca-es":d.get(c.SUPPORTED_LANGUAGES).find(function(t){return t===e||t.startsWith(e+"-")})||e}},{key:"check",value:function(e,t,r,n,a,o,i,s,u){return"client"===s?this.checkWithClientLanguageDetection(e,t,r,n,a,o,i,u):this.checkWithServerLanguageDetection(e,t,r,n,a,o,i)}},{key:"checkWithClientLanguageDetection",value:(r=h(hn().m(function t(r,n,a,o,i,s,u,l){var c,f,E,d,g,h,_,p;return hn().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n){t.n=6;break}return c=null,f=null,t.p=1,t.n=2,un.detect(r,a.preferredLanguages,a.forcePreferredLanguages);case 2:c=t.v,t.n=4;break;case 3:t.p=3,p=t.v,f=p.message;case 4:if(c){t.n=5;break}return l&&l(f||"Could not detect language"),t.a(2,this.checkWithServerLanguageDetection(r,n,a,o,i,s,u));case 5:if(n={code:this.getLanguageVariant(c.language,a),name:""},this.isSupportedLanguage(n.code)){t.n=6;break}return t.a(2,{textLevelResult:fn(fn({},this.EMPTY_ERRORS_RESPONSE),{},{language:{code:"zz",name:"NoopLanguage"}}),paragraphLevelResult:fn(fn({},this.EMPTY_ERRORS_RESPONSE),{},{sentenceRanges:[],isIncompleteResult:!1,areErrorsSuppressed:!1,language:{code:"zz",name:"NoopLanguage"}})});case 6:return E=[],a.skipTextLevelCheck?E.push(Promise.resolve(fn(fn({},this.EMPTY_ERRORS_RESPONSE),{},{language:n}))):E.push(e.checkTextLevel(r,n,a)),E.push(e.checkParagraphLevel(o,n,a,r,i,s,u)),t.n=7,Promise.all(E);case 7:return d=t.v,g=v(d,2),h=g[0],_=g[1],h.language&&(h.language.detectedLanguage=fn(fn({},n),{},{source:"client"})),t.a(2,{textLevelResult:h,paragraphLevelResult:_})}},t,this,[[1,3]])})),function(e,t,n,a,o,i,s,u){return r.apply(this,arguments)})},{key:"isSupportedLanguage",value:function(e){return d.get(c.SUPPORTED_LANGUAGES).some(function(t){return t===e.toLowerCase()})}},{key:"checkWithServerLanguageDetection",value:(t=h(hn().m(function t(r,n,a,o,i,s,u){var l,c,f,E,d,g;return hn().w(function(t){for(;;)switch(t.n){case 0:return c=[],a.skipTextLevelCheck?c.push(e.detectLanguage(r,n,a)):c.push(e.checkTextLevel(r,n,a)),c.push(e.checkParagraphLevel(o,n,a,r,i,s,u)),t.n=1,Promise.all(c);case 1:return f=t.v,E=v(f,2),d=E[0],g=E[1],null!==(l=d.language)&&void 0!==l&&l.detectedLanguage&&(d.language.detectedLanguage.source="server"),t.a(2,{textLevelResult:d,paragraphLevelResult:g})}},t)})),function(e,r,n,a,o,i,s){return t.apply(this,arguments)})}]);var t,r,a,o,i,u,l,f}();function mn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Tn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}pn(vn,"NL_PREMIUM_RULES",["FAAG_VAAG","TOO_LONG_SENTENCE","_2_LEESTEKENS","WEEKEND","CASU_QUO","MOMENTEEL","SLECHTS","LEENWOORDEN","KOMMA_HOOR","RELEVANT","HINTS","CHECKEN","ALLEEN_BE","MACHTE","ECHTER","COMMUNICEREN","DESIGN","SANDAAL_ZANDAAL","N","MIDDELS","INTEGREREN","PRIMAIR","OVERIGENS","BETREFFENDE","AGENDA","ERGO","TEN_BEHOEVE","KOMMA_AANH","TM","IE","TER_ZAKE","SIGNIFICANT","GELIEVE","BEHOREN","NAAR_AANLEIDING_VAN","VAN_PLAN_ZIJN","HEDEN","TEN_DODE","VREEMD_VRZ_HIJ","DES","IMPACT","IMMER","BOVENSTAAND","XXXYJE","DUTCH_WRONG_WORD_IN_CONTEXT","LANCEREN","MET_BEHULP_VAN","PRIORITEIT","UWENTWEGE","CATEGORIE","CRITERIUM","GEMOTIVEERD"]),pn(vn,"PL_PREMIUM_RULES",["BOWIEM_ZAS","ZE_Z_SPOL","SPACJA_ZNAK_ROWNOSCI","BRAK_PRZECINKA_GDY","PYTANIE_CO","BRAK_PRZECINKA_JESLI","PRZECINEK_ANI","SKROTOWCE_BEZ_DYWIZU","NIEZGODNOSC_PRZYPADKU_PO_LICZEBNIKU","PODMIOT_ORZECZENIE","ROWNIE_JAK","JAK_I","PRZECINEK_POROWNANIE","WOLACZ_BEZ_PRZECINKA","ODNOSNIE_DO","GENERALNIE","BOWIEM_ZAS_PRZECINEK","WYDAWAC_SIE_BYC","POSIADAC_MIEC","PL_GUILLEMET","ITP_ITD","SPACJA_PROCENT","PO","W_TEMACIE","PL_DWA_WYRAZY","W_NAWIAZANIU_DO","WE_W","POKI_CO","VS","DZIEN_DZISIEJSZY","WIELOKROTNE_WYSTPIENIE_TEGO_SAMEGO_WYRAENIA_PRZYIMKOWEGO","I_LUB","PELNIC_ROLE","OKRES_CZASU","UZNAC_JAKO","EFEKT_KONCOWY","DLATEGO_PONIEWAZ","NA_DZIEN_DZISIEJSZY","DODATKOWO_CO_WIECEJ","OWY_W","DZIEN_JUTRZEJSZY","ADRES_ZAMIESZKANIA","W_CHWILI_OBECNEJ","BYC_ZNAJDOWAC_SIE_W_POSIADANIU","DO_TERAZ","PROTOKOL_Z_CZEGO","PO_NAJMNIEJSZEJ_LINII","POTRAFIACY","zarowno_jak_rowniez","GRAC_FAIR_PLAY","DRUGI_NAJWIEKSZY","COFAC_SIE_DO_TYLU","DZIEN_WCZORAJSZY","NA_PRZESTRZENI","IDENTYCZNY_JAK","ZA_WYJATKIEM","MAPA_DROGOWA","W_PRZECIGU_TYGODNIA_W_CIGU","NAPOTKAC_NA","PRZERWA_KAWOWA","WYSOKA_FREKWENCJA","UBRAC_ZALOZYC","PRZY_UDZIALE","W_SLAD_ZA","WYRAZIC_POPARCIE","W_TYM_WZGLEDZIE","PO_PIERWSZE_PRIMO","DOMYSLEC_SIE","WARTY","IDENTYCZNY_DO","W_DRODZE_WYJATKU","PRZEDKLADAC_WNIOSEK","POD_RZAD","PRZYJAZNY_DLA_UZYTKOWNIKA","NA_WSKUTEK","SWIECIC_SUKCESY","W_WEGRZECH","KONDYCJA_FINANSOWA","RULE_NIEMNIEJ","FORMULA_KREMU","PODDAWAC_W_WATPLIWOSC","OPATRZEC_SIE","ODGRYWAC_ZNACZENIE","INFORMACJE_WRAZLIWE","DO_DZIS_DZIEN","CO_I_RAZ","OKRAGLY_ROK","SZERSZE_INFORMACJE","WYSOKA_FORMA","CZEKAC_ZA","BYNAJMNIEJ","WYWIERAC_PIETNO","DOPATRZEC_SIE","ZLA_RENOMA","W_PELNYM_TEGO","W_KAZDYM_BADZ","KOSZTOWAC_TANIEJ","DYGITALNY"]),pn(vn,"SPELLING_RULES_ID",["SPELLER_RULE","MORFOLOGIK_RULE","HUNSPELL","SPELLING_RULE","ORTHOGRAPHY"]),pn(vn,"EMPTY_ERRORS_RESPONSE",{errors:[],pickyErrors:[],premiumErrors:[],premiumPickyErrors:[]}),pn(vn,"STYLE_ISSUE_TYPES",["style","locale-violation","register"]),pn(vn,"EMAIL_SIGNATURE_SEPARATOR_REGEXP",/^[\u2010|\-]{2,}|[\u2010|\-]{2,}$/),pn(vn,"ONLY_NUMBERS_REGEXP",/^[0-9]+$/),pn(vn,"COLON_WHITESPACE_REGEXP",/^[;:]\s/),pn(vn,"ONE_LETTER_AT_END_REGEXP",/(\s|^|\()[a-z]\.?\s?$/i),pn(vn,"NUMBER_WITH_DOT_AT_END_REGEXP",/\d\.?\s?$/),pn(vn,"NUMBER_WITH_PARENTHESIS_AT_END_REGEXP",/\d\.?\)\s$/),pn(vn,"PUNCTUATION_AT_END",/(\.|\!)$/),pn(vn,"BULLET_POINT_REGEXP",/(\u25b6\ufe0e|\u25BA|\*|-|\u2013|\u2606|\u2605|\u25cf|\u2022|\u25e6|\u27A4|\u2714)\s+$/),pn(vn,"LOWERCASE_REGEXP",/[a-z]/),pn(vn,"DOT_WITH_PREFIX_REGEXP",/\w\.$/),pn(vn,"SLASH_AT_END_REGEXP",/(\/|\\)$/),pn(vn,"AT_LEAST_TWO_LETTERS_AT_END_REGEXP",/[a-z]{2}$/i),pn(vn,"SLASH_AT_BEGINNING_REGEXP",/^(\/|\\)/),pn(vn,"PUNCTUATION_AT_BEGINNING_REGEXP",/^\s?[\.\!\?,:\u2026]/),pn(vn,"PUNCTUATION_SPACE_AT_END_REGEXP",/[\.\u2026\?\!]\s+/),pn(vn,"MARKDOWN_HEADLINE_REGEXP",/^#{1,6}\s/m),pn(vn,"MARKDOWN_INLINE_FORMAT_AT_BEGINNING_REGEXP",/^[\*\~\_\^\+\%\@]/m),pn(vn,"WIKI_MARKUP_AT_END_REGEXP",/\[\[[a-z]+$/),pn(vn,"PIPE_AT_END_REGEXP",/\|\s+$/),pn(vn,"MENTION_SYMBOL_AT_BEGINNING_REGEXP",/@[a-z\.\-]*$/i),pn(vn,"HASH_SYMBOL_AT_BEGINNING_REGEXP",/#[a-z\.\-]*$/i),pn(vn,"EMOJI_SENTENCE_START_REGEXP",/(\.|!|\?|^)\s?(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])\s+/),pn(vn,"ABBREVIATION_AT_END_REGEXP",/(\s|\(|^)[A-Z]\.$/),pn(vn,"NET_AT_BEGINNING_REGEXP",/^net\b/i),pn(vn,"SINGLE_UPPERCASE_LETTER_REGEXP",/^[A-Z]$/),pn(vn,"NON_ALPHANUMERIC_AT_BEGINNING_REGEXP",/^[^a-z0-9\xe4\xf6\xfc\xdf\xe1\xe0\xe2\xe9\xe8\xea\xed\xec\xee\xf3\xf2\xf4\xfa\xf9\xfb\.\?\!,\:\;\xbf\xa1]+/i),pn(vn,"NON_ALPHANUMERIC_AT_END_REGEXP",/[^a-z0-9\xe4\xf6\xfc\xdf\xe1\xe0\xe2\xe9\xe8\xea\xed\xec\xee\xf3\xf2\xf4\xfa\xf9\xfb\.\?\!,\:\;\xbf\xa1]+$/i),pn(vn,"HTML_ENTITIES",["amp","nbsp","gt","lt","bull","euro","copy","laquo","raquo","hellip","middot"]),pn(vn,"HTML_ENTITIES_WITH_AND",vn.HTML_ENTITIES.map(function(e){return"&".concat(e)})),pn(vn,"WAVY_DASH_REGEXP",/^\u3030+$/),pn(vn,"INVISIBLE_PHRASE_REGEXP",/^[\u2063\uFEFF]+$/),pn(vn,"INVISIBLE_CHARS_REGEXP",/[\u2063\uFEFF]/g),pn(vn,"ZWNJ_REGEXP",/\u200B|\u200C/g),pn(vn,"ZWS","\ufeff"),pn(vn,"PREVENT_MID_SENTENCE_CAPITALIZATION",/[\w\xe1\xe0\xe2\xf3\xf2\xec\xed\xe9\xe8\xf9\xfa\xe2\xf4\xee\xea\xfb\xe4\xf6\xfc\xdf,\)][\u0020\u00A0\uFEFF]*\n\n\n?[\u0020\u00A0\uFEFF"\u201e\xbb\xab\u201c\u2018]*$/),pn(vn,"PREVENT_MID_SENTENCE_PUNCTUATION",/^[\u0020\u00A0\uFEFF]*\n\n\n?[a-z\xe1\xe0\xe2\xf3\xf2\xec\xed\xe9\xe8\xf9\xfa\xe2\xf4\xee\xea\xfb\xe4\xf6\xfc\xdf,\)]/),pn(vn,"INVISIBLE_SEPARATOR_REGEX",new RegExp(ct,"g")),pn(vn,"COMMON_TLDS",["com","co","org","net","de","info","biz","es","fr","be","in","gov","nl","ca","com.br","br","at","us","au","ru","pl","ly","it","cat","edu","jp","ko","cn","se","no","mil","ch","dk","com.mx","mx","eu","co.uk","uk","ir","cz","ua","kr","gr","tw","nz","co.nz","za","ro","vn","io","tr","me","fi","tv","xyz","pt","ie","app"]),pn(vn,"COMMON_TLD_WITH_DOT_REGEXPS",vn.COMMON_TLDS.map(function(e){return new RegExp("^\\.".concat(e.replace(".","\\."),"\\b"),"i")})),pn(vn,"COMMON_FILE_TYPES",["jpeg","jpg","gif","png","bmp","indd","stl","svg","ai","sketch","ico","ics","env","amf","ps","psd","tiff","tif","mp3","wav","midi","mid","aif","mpa","ogg","wma","wpl","cda","7z","arj","deb","pkg","plist","rar","rpm","tar.gz","tar","zip","bin","dmg","iso","toast","vcd","csv","dat","db","log","mdb","sav","sql","xml","apk","bat","bin","cgi","com","exe","gadget","jar","py","js","jsx","json","wsf","ts","tsx","fnt","fon","otf","ttf","woff","woff2","rb","java","php","html","asp","aspx","cer","cfm","cgi","pl","css","scss","htm","jsp","part","rss","xhtml","key","odp","pps","ppt","pptx","class","cpp","cs","h","sh","swift","vb","ods","odt","xlr","xls","xlsx","xlt","xltx","bak","cab","cfg","cpl","cur","dll","dmp","msi","ini","tmp","3g2","3gp","avi","flv","h264","m4v","mkv","mov","mp4","mpg","mpeg","rm","swf","vob","wmv","doc","docx","dot","dotx","pdf","rtf","srx","text","tex","wks","wps","wpd","txt","yaml","yml","csl","md","adm"]),pn(vn,"COMMON_FILE_TYPE_WITH_DOT_REGEXPS",vn.COMMON_FILE_TYPES.map(function(e){return new RegExp("^[\\w\xe1\xe0\xe2\xf3\xf2\xec\xed\xe9\xe8\xf9\xfa\xe2\xf4\xee\xea\xfb\xe4\xf6\xfc\xdf\\-\\.\\(\\)]*?\\.".concat(e,"\\b"),"i")})),pn(vn,"FILE_TYPE_AT_BEGINNING_REGEXP",new RegExp("(".concat(vn.COMMON_FILE_TYPES.join("|"),")\b"),"i")),pn(vn,"HIGH_LEVEL_GOALS",[{id:"professional",tags:["clarity","confident","formal","general","positive","professional"]},{id:"scientific",tags:["academic","clarity","formal","general","objective","povrem","scientific"]},{id:"persuasive",tags:["clarity","confident","general","persuasive","positive"]},{id:"personal",tags:["clarity","general","informal","positive","povadd"]},{id:"creative",tags:["clarity","general"]}]),pn(vn,"_textLevelAbortControllers",new Map),pn(vn,"_paragraphLevelAbortControllers",new Map),pn(vn,"_languageDetectionAbortControllers",new Map),pn(vn,"_recommendationAbortControllers",new Map),pn(vn,"_useFallbackServerForTextLevelRequests",!1),pn(vn,"_useFallbackServerForParagraphLevelRequests",!1),pn(vn,"_useFallbackServerForLanguageDetection",!1),pn(vn,"_mainServerUnavailabilityTimeStamp",0),pn(vn,"_checkForException",function(e){return e.ok?e:e.text().catch(function(){return""}).then(function(t){var r=t.toLowerCase();if(r.includes("too many error"))throw{reason:"TooManyErrors",status:e.status,response:t};if(413===e.status||r.includes("text exceeds the limit"))throw{reason:"TextTooLong",status:e.status,response:t};if(t.toLowerCase().includes("checking took longer than"))throw{reason:"TimeoutError",status:e.status,url:e.url?e.url.replace(/\?.*/,"?..."):"unknown",response:t};if(429===e.status)throw{reason:"TooManyRequests",status:e.status,response:t};if(403===e.status){if(r.includes("client request size limit")||r.includes("client request limit")||r.includes("ip request limit")||r.includes("ip request size limit"))throw{reason:"TooManyRequests",status:e.status,response:t};if(r.includes("authexception"))throw{reason:"InvalidCredentials",status:e.status,response:t};throw{reason:"AccessDenied",status:e.status,response:t}}if(r.includes("checking took longer than"))throw{reason:"TimeoutError",status:e.status,url:e.url?e.url.replace(/\?.*/,"?..."):"unknown",response:t};throw{reason:"UnknownError",status:e.status,response:t}})});var An=function(){function e(){n(this,e)}return s(e,null,[{key:"merge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.filterAndMigrateErrors(e.existing.errors,e.existing.pickyErrors,e.existing.premiumErrors,e.existing.premiumPickyErrors,e.existing.recommendationErrors,e.existing.sentenceRanges,e.existingCheckedText,e.newCheckedText,e.existingRecommendationCheckedText,e.newRecommendationCheckedText,r,n),o=a.errors,i=a.pickyErrors,s=a.premiumErrors,u=a.premiumPickyErrors,l=a.sentenceRanges,c=void 0===l?[]:l,f=a.recommendationErrors,E=void 0===f?[]:f;this.mergeParagraphLevelErrors(o,i,s,u,E,c,e.new.paragraphLevel.errors,e.new.paragraphLevel.pickyErrors,e.new.paragraphLevel.premiumErrors,e.new.paragraphLevel.premiumPickyErrors,e.new.paragraphLevel.recommendationErrors||[],e.new.paragraphLevel.sentenceRanges),this.mergeTextLevelErrors(o,i,s,u,e.new.textLevel.errors,e.new.textLevel.pickyErrors,e.new.textLevel.premiumErrors,e.new.textLevel.premiumPickyErrors);var d=this.getDuplicateErrors(e.existing,e.existingCheckedText,e.newCheckedText,e.existingRecommendationCheckedText,e.newRecommendationCheckedText);return this.sortErrors(o,i,s,u,E),this.setIdsOnErrors(o,i,s,u,E,d),o=this.migrateOffsetsToOriginalText(o,e.newCheckedText.usedParts),i=this.migrateOffsetsToOriginalText(i,e.newCheckedText.usedParts),s=this.migrateOffsetsToOriginalText(s,e.newCheckedText.usedParts),u=this.migrateOffsetsToOriginalText(u,e.newCheckedText.usedParts),E=this.migrateOffsetsToOriginalText(E,e.newRecommendationCheckedText.usedParts),c=this.migrateOffsetsToOriginalText(c,e.newCheckedText.usedParts),t&&((i=i.filter(function(e){return!Xe.includes(e.rule.id)})).forEach(function(e){e.rule.id="HIDDEN_RULE",e.fixes=[]}),s=[].concat(Nt(s),Nt(u),Nt(i)),u=[],i=[],this.sortErrorsByOffset(s)),{errors:o,pickyErrors:i,premiumErrors:s,premiumPickyErrors:u,recommendationErrors:E,sentenceRanges:c}}},{key:"getDuplicateErrors",value:function(e,t,r,n,a){var o=e.errors,i=e.pickyErrors,s=e.premiumErrors,u=e.premiumPickyErrors,l=e.recommendationErrors,c=void 0===l?[]:l;o=this.migrateOffsetsToValuableText(o,t.usedParts),i=this.migrateOffsetsToValuableText(i,t.usedParts),s=this.migrateOffsetsToValuableText(s,t.usedParts),u=this.migrateOffsetsToValuableText(u,t.usedParts),c=this.migrateOffsetsToValuableText(c,n.usedParts);var f=nr(t.text,r.text),E=nr(n.text,a.text),d=function(e,t){if(!e.isParagraphLevelCheck)return!0;var r=or(t,function(t){var r=t.oldOffset;if(null===t.oldText)return e.start>=r?1:-1;var n=t.oldOffset+t.oldText.length+1;return gr(e.start,r,n,!0)});return!(!r||!r.textDiff)||void 0};return o=o.filter(function(e){return d(e,f)}),i=i.filter(function(e){return d(e,f)}),s=s.filter(function(e){return d(e,f)}),u=u.filter(function(e){return d(e,f)}),c=c.filter(function(e){return d(e,E)}),{errors:o=this.migrateOffsetsBetweenTexts(o,f),pickyErrors:i=this.migrateOffsetsBetweenTexts(i,f),premiumErrors:s=this.migrateOffsetsBetweenTexts(s,f),premiumPickyErrors:u=this.migrateOffsetsBetweenTexts(u,f),recommendationErrors:c=this.migrateOffsetsBetweenTexts(c,E)}}},{key:"migrateOffsetsToValuableText",value:function(e,t){var r,n=[],a=mn(e);try{var o=function(){var e=r.value,a=or(t,function(t){return gr(e.start,t.originalStart,t.originalEnd,!0)}),o=or(t,function(t){return gr(e.end,t.originalStart,t.originalEnd)});if(!a||!o)return 1;var i=ir(e);i.start-=a.posDiff,i.end-=o.posDiff,i.length=i.end-i.start,n.push(i)};for(a.s();!(r=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}return n}},{key:"migrateOffsetsBetweenTexts",value:function(e,t,r,n,a,o){var i,s=!1,u=!1,l=!1;"string"==typeof t&&"string"==typeof r?(i=nr(t,r),s="boolean"==typeof n&&n,u="boolean"==typeof a&&a,l="boolean"==typeof o&&o):(i=t,s="boolean"==typeof r&&r,u="boolean"==typeof n&&n,l="boolean"==typeof a&&a);var c,f=[],E=mn(e);try{var d=function(){var e=c.value,t=or(i,function(t){var r=t.oldOffset;if(null===t.oldText)return e.start>=r?1:-1;var n=t.oldOffset+t.oldText.length+1;return gr(e.start,r,n,!0)}),r=ir(e);if(t){var n;if(t.textDiff){if(s)return 0;var a=t.oldOffset+t.textDiff.from,o=a+t.textDiff.oldFragment.length,E=!u;if(dr(a,o,r.start,r.end,E)){if(l){var d,g=t.textDiff.newFragment.length-t.textDiff.oldFragment.length;r.start>a&&(r.start=r.start+g),r.end>=a&&(r.end=r.end+g),r.length=r.end-r.start,null==r||null===(d=r.rule)||void 0===d||null===(d=d.phraseDiff)||void 0===d||d.forEach(function(e){var r=t.textDiff.newFragment.length-t.textDiff.oldFragment.length;e.sourceStart>a&&(e.sourceStart+=r),e.sourceEnd>a&&(e.sourceEnd+=r)}),f.push(r)}return 0}if(r.start>=o){var h,_=t.textDiff.newFragment.length-t.textDiff.oldFragment.length;r.start+=_,r.end+=_,null==r||null===(h=r.rule)||void 0===h||null===(h=h.phraseDiff)||void 0===h||h.forEach(function(e){e.sourceStart+=_,e.sourceEnd+=_,e.targetEnd+=_,e.targetStart+=_})}}r.start+=t.newOffset-t.oldOffset,r.end=r.start+r.length,null==r||null===(n=r.rule)||void 0===n||null===(n=n.phraseDiff)||void 0===n||n.forEach(function(e){var r=e.sourceEnd-e.sourceStart,n=e.targetEnd-e.targetStart;e.sourceStart+=t.newOffset-t.oldOffset,e.sourceEnd=e.sourceStart+r,e.targetStart+=t.newOffset-t.oldOffset,e.targetEnd=e.targetStart+n})}f.push(r)};for(E.s();!(c=E.n()).done;)d()}catch(e){E.e(e)}finally{E.f()}return f}},{key:"migrateOffsetsToOriginalText",value:function(e,t){var r,n=[],a=mn(e);try{var o=function(){var e=r.value,a=or(t,function(t){return gr(e.start,t.start,t.end,!0)}),o=or(t,function(t){return gr(e.end,t.start,t.end)});if(!a||!o)return 1;var i=ir(e);i.start+=a.posDiff,i.end+=o.posDiff,i.length=i.end-i.start,n.push(i)};for(a.s();!(r=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}return n}},{key:"filterAndMigrateErrors",value:function(e,t,r,n,a,o,i,s,u,l){var c=arguments.length>10&&void 0!==arguments[10]&&arguments[10];arguments.length>11&&void 0!==arguments[11]&&arguments[11]?a=(a||[]).filter(function(e){return e.isParagraphLevelCheck}):(e=e.filter(function(e){return e.isParagraphLevelCheck}),t=t.filter(function(e){return e.isParagraphLevelCheck}),r=r.filter(function(e){return e.isParagraphLevelCheck}),n=n.filter(function(e){return e.isParagraphLevelCheck})),e=this.migrateOffsetsToValuableText(e,i.usedParts),t=this.migrateOffsetsToValuableText(t,i.usedParts),r=this.migrateOffsetsToValuableText(r,i.usedParts),n=this.migrateOffsetsToValuableText(n,i.usedParts),a=this.migrateOffsetsToValuableText(a||[],u.usedParts),o=this.migrateOffsetsToValuableText(o||[],i.usedParts);var f=nr(i.text,s.text),E=nr(u.text,l.text);return c?(e=this.migrateOffsetsBetweenTexts(e,i.text,s.text,!1,!0),t=this.migrateOffsetsBetweenTexts(t,i.text,s.text),r=this.migrateOffsetsBetweenTexts(r,i.text,s.text),n=this.migrateOffsetsBetweenTexts(n,i.text,s.text),a=this.migrateOffsetsBetweenTexts(a,u.text,l.text,!1,!0),o=this.migrateOffsetsBetweenTexts(o,i.text,s.text,!1,!0,!0)):(e=this.migrateOffsetsBetweenTexts(e,f,!0),t=this.migrateOffsetsBetweenTexts(t,f,!0),r=this.migrateOffsetsBetweenTexts(r,f,!0),n=this.migrateOffsetsBetweenTexts(n,f,!0),a=this.migrateOffsetsBetweenTexts(a,E,!1,!1),o=this.migrateOffsetsBetweenTexts(o,f,!0)),{errors:e,pickyErrors:t,premiumErrors:r,premiumPickyErrors:n,recommendationErrors:a,sentenceRanges:o}}},{key:"mergeParagraphLevelErrors",value:function(e,t,r,n,a,o,i,s,u,l,c){var f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[];e.push.apply(e,Nt(i)),t.push.apply(t,Nt(s)),r.push.apply(r,Nt(u)),n.push.apply(n,Nt(l)),a.push.apply(a,Nt(c)),o.push.apply(o,Nt(f))}},{key:"mergeTextLevelErrors",value:function(e,t,r,n,a,o,i,s){var u,l=mn(a);try{var c=function(){var t=u.value;e.some(function(e){return e.start===t.start&&e.end===t.end})||e.push(t)};for(l.s();!(u=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}var f,E=mn(o);try{var d=function(){var e=f.value;t.some(function(t){return t.start===e.start&&t.end===e.end})||t.push(e)};for(E.s();!(f=E.n()).done;)d()}catch(e){E.e(e)}finally{E.f()}var g,h=mn(i);try{var _=function(){var e=g.value;r.some(function(t){return t.start===e.start&&t.end===e.end})||r.push(e)};for(h.s();!(g=h.n()).done;)_()}catch(e){h.e(e)}finally{h.f()}var p,v=mn(s);try{var m=function(){var e=p.value;n.some(function(t){return t.start===e.start&&t.end===e.end})||n.push(e)};for(v.s();!(p=v.n()).done;)m()}catch(e){v.e(e)}finally{v.f()}}},{key:"sortErrors",value:function(e,t,r,n,a){this.sortErrorsByOffset(e),this.sortErrorsByOffset(t),this.sortErrorsByOffset(r),this.sortErrorsByOffset(n),this.sortErrorsByOffset(a)}},{key:"sortErrorsByOffset",value:function(e){e.sort(function(e,t){return e.start===t.start?e.isParagraphLevelCheck?1:-1:e.start>t.start?1:-1})}},{key:"migrateErrorsBetweenSameOriginalTexts",value:function(e,t,r){var n,a=[],o=mn(e);try{var i=function(){var e=n.value,o=e.start,i=e.end,s=or(t.usedParts,function(e){return gr(o,e.originalStart,e.originalEnd,!0)}),u=or(t.usedParts,function(e){return gr(i,e.originalStart,e.originalEnd)});if(!s||!u)return 0;if(o-=s.posDiff,i-=u.posDiff,s=or(r.usedParts,function(e){return gr(o,e.start,e.end,!0)}),u=or(r.usedParts,function(e){return gr(i,e.start,e.end)}),!s||!u)return 0;o+=s.posDiff,i+=u.posDiff;var l=ir(e);l.start=o,l.end=i,l.length=i-o,a.push(l)};for(o.s();!(n=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}return a}},{key:"setIdsOnErrors",value:function(t,r,n,a,o,i){function s(t,r){if(!t.id){var n=r.find(function(e){return n=t,(r=e).start===n.start&&r.end===n.end&&r.isParagraphLevelCheck===n.isParagraphLevelCheck;var r,n});t.id=n?n.id:"error:".concat(++e.INCREMENTAL_ID)}}t.forEach(function(e){return s(e,i.errors)}),r.forEach(function(e){return s(e,i.pickyErrors)}),n.forEach(function(e){return s(e,i.premiumErrors)}),a.forEach(function(e){return s(e,i.premiumPickyErrors)}),o.forEach(function(e){return s(e,i.recommendationErrors||[])})}},{key:"sortSentenceRanges",value:function(e){e.sort(function(e,t){return e.start-t.start})}}])}();function Sn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Rn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function In(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return On(l,"_invoke",function(r,n,a){var o,s,u,l=0,c=a||[],f=!1,E={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,s=0,u=e,E.n=r,i}};function d(r,n){for(s=r,u=n,t=0;!f&&l&&!a&&t<c.length;t++){var a,o=c[t],d=E.p,g=o[2];r>3?(a=g===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(s=0,E.v=n,E.n=o[1]):d<g&&(a=r<3||o[0]>n||n>g)&&(o[4]=r,o[5]=n,E.n=g,s=0))}if(a||r>1)return i;throw f=!0,n}return function(a,c,g){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&d(c,g),s=c,u=g;(t=s<2?e:u)||!f;){o||(s?s<3?(s>1&&(E.n=-1),d(s,u)):E.n=u:E.v=u);try{if(l=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(f=E.n<0)?u:r.call(n,E))!==i)break}catch(t){o=e,s=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,a,o),!0),l}var i={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(On(t={},n,function(){return this}),t),f=l.prototype=s.prototype=Object.create(c);function E(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,On(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,On(f,"constructor",l),On(l,"constructor",u),u.displayName="GeneratorFunction",On(l,a,"GeneratorFunction"),On(f),On(f,a,"Generator"),On(f,n,function(){return this}),On(f,"toString",function(){return"[object Generator]"}),(In=function(){return{w:o,m:E}})()}function On(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}On=function(e,t,r,n){function o(t,r){On(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},On(e,t,r,n)}function yn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(An,"INCREMENTAL_ID",0);var Nn={accept:"application/json","content-type":"application/json"};function Cn(e){return jt(e)&&!1===Object.values(e).some(function(e){return"number"!=typeof e})}function Ln(e){return!!jt(e)&&[["text"],["score",Cn],["label"],["origin"],["uuid"]].reduce(function(t,r){var n,a=v(r,2),o=a[0],i=a[1],s=void 0===i?Xt:i;return!(!t||(n=s,"function"!=typeof n)||!(String(o)in e))&&s(e[String(o)])},!0)}function Pn(e){switch(e){case"simple":return"simplicity";case"formal":return"formality";case"natural":return"humanize";default:return e}}var bn=function(){return s(function e(){n(this,e)},null,[{key:"load",value:(r=h(In().m(function e(t,r,n,a,o,i){var s,u,l,c,f,E,d;return In().w(function(e){for(;;)switch(e.n){case 0:if(u=[i,r.trim()].join("@"),l=this._rewriteCache.get(u),c=null!==(s=this._history.get(r))&&void 0!==s?s:null,!l){e.n=1;break}return e.a(2,Promise.resolve({rephrases:l,previousSentence:c}));case 1:return f="/rewriting/rewrite",i&&(f+="/"+Pn(i)),e.n=2,this._request("rewrite",f,t,r,n,a,o);case 2:return E=e.v,(d=E.filter(function(e){return Ln(e)}).map(function(e){return{text:e.text,score:e.score,label:e.label,origin:e.origin,uuid:e.uuid}}).filter(function(e,t,r){var n=e.text;return r.findIndex(function(e){var t=e.text;return n===t})===t})).length>0&&this._rewriteCache.set(u,d),e.a(2,{rephrases:d,previousSentence:c})}},e,this)})),function(e,t,n,a,o,i){return r.apply(this,arguments)})},{key:"abort",value:function(e){for(var t=0,r=void 0===e?["rewrite"]:[e];t<r.length;t++){var n=r[t],a=this._abortControllers.get(n)||[];this._abortCurrentRequests(a),this._abortControllers.set(n,[])}}},{key:"_request",value:(t=h(In().m(function e(t,r,n,a,o,i,s){var u,l,c,f,E,d,g,h;return In().w(function(e){for(;;)switch(e.n){case 0:return this.abort(t),u=JSON.stringify({text:a,offset:0,length:0,count:"rewrite"===t?5:1,userID:n,language:o.slice(0,2),inhouseOnly:i,email:null==s?void 0:s.email,token:null==s?void 0:s.token,p:null==s?void 0:s.isPremium}),l=new AbortController,c=this._abortControllers.get(t)||[],e.n=1,mr();case 1:return Nn["X-LT-checksum"]=e.v,null!=s&&s.isPremium&&(Nn["X-LT-p"]="1"),c.push(l),this._abortControllers.set(t,c),e.n=2,fetch(H+r,{method:"post",signal:l.signal,mode:"cors",headers:Nn,body:u});case 2:if(!1!==(f=e.v).ok){e.n=3;break}throw E=function(){switch(f.status){case 413:return"PayloadTooLarge";case 524:return"ServerTimeout";default:return"ServerFailure (".concat(f.status,")")}}(),new Error(E);case 3:return e.n=4,f.json();case 4:return d=e.v,g=(d||{}).rewrites,h=void 0===g?[]:g,e.a(2,h)}},e,this)})),function(e,r,n,a,o,i,s){return t.apply(this,arguments)})},{key:"requestSplitSentence",value:(e=h(In().m(function e(t,r,n,a,o){var i,s,u,l;return In().w(function(e){for(;;)switch(e.n){case 0:if(!(i=this._splitSentenceCache.get(r.trim()))){e.n=1;break}return e.a(2,Promise.resolve(i));case 1:return e.n=2,this._request("sentence-splitting","/rewriting/rewrite/sentence_splitting",t,r,n,a,o);case 2:if(s=e.v,u=v(s,1),!Ln(l=u[0])){e.n=3;break}return this._splitSentenceCache.set(r.trim(),l),e.a(2,l);case 3:return e.a(2,null)}},e,this)})),function(t,r,n,a,o){return e.apply(this,arguments)})},{key:"_abortCurrentRequests",value:function(e){var t,r=Sn(e);try{for(r.s();!(t=r.n()).done;){t.value.abort()}}catch(e){r.e(e)}finally{r.f()}}}]);var e,t,r}();function kn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}yn(bn,"_rewriteCache",new Map),yn(bn,"_splitSentenceCache",new Map),yn(bn,"_history",new Map),yn(bn,"_abortControllers",new Map([["rewrite",[]],["sentence-splitting",[]]]));var Dn=function(){return s(function e(){n(this,e),kn(this,"store",new Map),kn(this,"isAvailable",!0)},[{key:"collectionFor",value:function(e){var t=this.store.get(e);return t||(t=new Map,this.store.set(e,t)),t}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";this.collectionFor(r).set(e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return this.collectionFor(t).get(e)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.collectionFor(t).delete(e)}},{key:"getDatabaseSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.collectionFor(e).size}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.collectionFor(e).clear()}}])}(),xn=function(){function e(){n(this,e),kn(this,"isAvailable","undefined"!=typeof window&&"undefined"!=typeof localStorage)}return s(e,[{key:"set",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if(this.isAvailable){var a=e.makeKey(n,t);self.localStorage.setItem(a,JSON.stringify(r))}}},{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if(this.isAvailable){var n=e.makeKey(r,t),a=self.localStorage.getItem(n);if(null!==a)try{return JSON.parse(a)}catch(e){return a}}}},{key:"delete",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if(this.isAvailable){var n=e.makeKey(r,t);self.localStorage.removeItem(n)}}},{key:"getDatabaseSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";if(!this.isAvailable)return 0;for(var t="".concat(e,"::"),r=0,n=0;n<self.localStorage.length;n++){var a=self.localStorage.key(n);null!=a&&a.startsWith(t)&&r++}return r}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";if(this.isAvailable){for(var t="".concat(e,"::"),r=[],n=0;n<self.localStorage.length;n++){var a=self.localStorage.key(n);null!=a&&a.startsWith(t)&&r.push(a)}r.forEach(function(e){return self.localStorage.removeItem(e)})}}}],[{key:"makeKey",value:function(e,t){return"".concat(e,"::").concat(t)}}])}();var Fn=function(){function e(){n(this,e),kn(this,"_storageClient",void 0),this._storageClient=function(){try{var e=new xn;if(e.isAvailable)return e}catch(e){return new Dn}return new Dn}()}return s(e,[{key:"set",value:function(e,t){return this._storageClient.set(e,t,"TextField")}},{key:"get",value:function(e){return this._storageClient.get(e,"TextField")}},{key:"delete",value:function(e){return this._storageClient.delete(e,"TextField")}},{key:"clear",value:function(){return this._storageClient.clear("TextField")}},{key:"getDatabaseSize",value:function(){var e=this._storageClient;return e.getDatabaseSize?e.getDatabaseSize("TextField"):0}}],[{key:"instance",value:function(){return e._instance||(e._instance=new e),e._instance}},{key:"setStorageClient",value:function(t){e.instance()._storageClient=t}}])}();kn(Fn,"_instance",void 0);"*".concat(ct),"*".concat(ct);var wn;wn={};var Un="EDITOR_STATE_SYNC_ACK",Mn="EDITOR_STATE_FORCE_SYNC",Gn="EDITOR_SURROUNDING_CONTEXT_FORCE_SYNC";function Hn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Bn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wn(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return jn(l,"_invoke",function(r,n,a){var o,s,u,l=0,c=a||[],f=!1,E={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,s=0,u=e,E.n=r,i}};function d(r,n){for(s=r,u=n,t=0;!f&&l&&!a&&t<c.length;t++){var a,o=c[t],d=E.p,g=o[2];r>3?(a=g===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(s=0,E.v=n,E.n=o[1]):d<g&&(a=r<3||o[0]>n||n>g)&&(o[4]=r,o[5]=n,E.n=g,s=0))}if(a||r>1)return i;throw f=!0,n}return function(a,c,g){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&d(c,g),s=c,u=g;(t=s<2?e:u)||!f;){o||(s?s<3?(s>1&&(E.n=-1),d(s,u)):E.n=u:E.v=u);try{if(l=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(f=E.n<0)?u:r.call(n,E))!==i)break}catch(t){o=e,s=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,a,o),!0),l}var i={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(jn(t={},n,function(){return this}),t),f=l.prototype=s.prototype=Object.create(c);function E(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,jn(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,jn(f,"constructor",l),jn(l,"constructor",u),u.displayName="GeneratorFunction",jn(l,a,"GeneratorFunction"),jn(f),jn(f,a,"Generator"),jn(f,n,function(){return this}),jn(f,"toString",function(){return"[object Generator]"}),(Wn=function(){return{w:o,m:E}})()}function jn(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}jn=function(e,t,r,n){function o(t,r){jn(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},jn(e,t,r,n)}function Xn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yn,Zn=function(){function e(){n(this,e),Xn(this,"sessions",new Map),Xn(this,"editorToSession",new Map),Xn(this,"uniqueIdentifierToSession",new Map),Xn(this,"hostOrigin",""),Xn(this,"hostUrl",""),Xn(this,"ongoingReinitializationPromises",new Map),Xn(this,"ongoingSessionCreationPromises",new Map)}return s(e,[{key:"setHostUrl",value:function(e){try{var t=new URL(e);this.hostOrigin=t.origin}catch(t){this.hostOrigin=e}}},{key:"getHostUrl",value:function(){return this.hostOrigin}},{key:"createWritingSession",value:(i=h(Wn().m(function e(t,r){var n,a,o,i,s,u=this;return Wn().w(function(e){for(;;)switch(e.n){case 0:if(!this.uniqueIdentifierToSession.has(r)){e.n=1;break}return n=this.uniqueIdentifierToSession.get(r),(a=this.sessions.get(n)).editorIds.has(t)||(this.removeEditorFromSession(t),a.editorIds.add(t),this.editorToSession.set(t,a.sessionId)),e.a(2,a.sessionId);case 1:if(o=this.ongoingSessionCreationPromises.get(r)){e.n=2;break}o=this.performSessionCreation(t,r).finally(function(){u.ongoingSessionCreationPromises.delete(r)}),this.ongoingSessionCreationPromises.set(r,o),e.n=4;break;case 2:return e.n=3,o;case 3:i=e.v,(s=this.sessions.get(i))&&!s.editorIds.has(t)&&(this.removeEditorFromSession(t),s.editorIds.add(t),this.editorToSession.set(t,i));case 4:return e.a(2,o)}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"joinSession",value:function(e,t){var r=this.sessions.get(t);if(r)return this.removeEditorFromSession(e),r.editorIds.add(e),this.editorToSession.set(e,t),r}},{key:"removeEditorFromSession",value:function(e){var t=this.editorToSession.get(e);if(t){var r=this.sessions.get(t);if(r&&(r.editorIds.delete(e),0===r.editorIds.size)){this.sessions.delete(t);var n,a=Hn(this.uniqueIdentifierToSession.entries());try{for(a.s();!(n=a.n()).done;){var o=v(n.value,2),i=o[0];if(o[1]===t){this.uniqueIdentifierToSession.delete(i);break}}}catch(e){a.e(e)}finally{a.f()}}this.editorToSession.delete(e)}}},{key:"updateSurroundingContent",value:function(e,t){var r=this.sessions.get(e);r&&(r.surroundingContent=t)}},{key:"getSession",value:function(e){var t=this.editorToSession.get(e);if(t)return this.sessions.get(t)}},{key:"getEditorsInSameSession",value:function(e){var t=this.getSession(e);return t?Array.from(t.editorIds):[]}},{key:"getSessionById",value:function(e){return this.sessions.get(e)}},{key:"generateSessionId",value:(o=h(Wn().m(function e(t,r){var n;return Wn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Jn.createWritingSession(r,t);case 1:return n=e.v,e.a(2,n)}},e)})),function(e,t){return o.apply(this,arguments)})},{key:"reIntializeWritingSession",value:(a=h(Wn().m(function e(t){var r,n=this;return Wn().w(function(e){for(;;)if(0===e.n)return(r=this.ongoingReinitializationPromises.get(t))||(r=this.performReinitialization(t).finally(function(){n.ongoingReinitializationPromises.delete(t)}),this.ongoingReinitializationPromises.set(t,r)),e.a(2,r)},e,this)})),function(e){return a.apply(this,arguments)})},{key:"performReinitialization",value:(r=h(Wn().m(function e(t){var r,n;return Wn().w(function(e){for(;;)switch(e.n){case 0:if(!(r=this.findUniqueIdentifierFromWritingSession(t))){e.n=2;break}return e.n=1,Jn.createWritingSession(this.hostUrl,r);case 1:return n=e.v,e.a(2,n);case 2:return e.a(2,"");case 3:return e.a(2)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"performSessionCreation",value:(t=h(Wn().m(function e(t,r){var n,a;return Wn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.generateSessionId(r,this.hostUrl);case 1:if(n=e.v){e.n=2;break}return e.a(2,"");case 2:return a={sessionId:n,editorIds:new Set([t]),surroundingContent:""},this.removeEditorFromSession(t),this.sessions.set(n,a),this.uniqueIdentifierToSession.set(r,n),this.editorToSession.set(t,n),e.a(2,n)}},e,this)})),function(e,r){return t.apply(this,arguments)})},{key:"findUniqueIdentifierFromWritingSession",value:function(e){var t,r=Hn(this.uniqueIdentifierToSession);try{for(r.s();!(t=r.n()).done;){var n=v(t.value,2),a=n[0];if(n[1]===e)return a}}catch(e){r.e(e)}finally{r.f()}}}],[{key:"getInstance",value:function(t){if(!e.instance&&(e.instance=new e,t))try{var r=new URL(t);e.instance.hostOrigin=r.origin,e.instance.hostUrl=t}catch(r){e.instance.hostOrigin=t}return e.instance}}]);var t,r,a,o,i}();function Kn(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return Vn(l,"_invoke",function(r,n,a){var o,s,u,l=0,c=a||[],f=!1,E={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,s=0,u=e,E.n=r,i}};function d(r,n){for(s=r,u=n,t=0;!f&&l&&!a&&t<c.length;t++){var a,o=c[t],d=E.p,g=o[2];r>3?(a=g===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(s=0,E.v=n,E.n=o[1]):d<g&&(a=r<3||o[0]>n||n>g)&&(o[4]=r,o[5]=n,E.n=g,s=0))}if(a||r>1)return i;throw f=!0,n}return function(a,c,g){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&d(c,g),s=c,u=g;(t=s<2?e:u)||!f;){o||(s?s<3?(s>1&&(E.n=-1),d(s,u)):E.n=u:E.v=u);try{if(l=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(f=E.n<0)?u:r.call(n,E))!==i)break}catch(t){o=e,s=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,a,o),!0),l}var i={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(Vn(t={},n,function(){return this}),t),f=l.prototype=s.prototype=Object.create(c);function E(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Vn(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Vn(f,"constructor",l),Vn(l,"constructor",u),u.displayName="GeneratorFunction",Vn(l,a,"GeneratorFunction"),Vn(f),Vn(f,a,"Generator"),Vn(f,n,function(){return this}),Vn(f,"toString",function(){return"[object Generator]"}),(Kn=function(){return{w:o,m:E}})()}function Vn(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Vn=function(e,t,r,n){function o(t,r){Vn(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},Vn(e,t,r,n)}function zn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Xn(Zn,"instance",void 0);var qn=d.get(c.EXTN_PREFIX);function $n(e,t,r){var n=new CustomEvent(t,{detail:r,cancelable:!0});return e.dispatchEvent(n)}zn(s(function e(){n(this,e)}),"eventNames",{sentenceRangesChecked:"".concat(qn,"-environmentAdapter.sentenceRangesChecked"),incrementalCheckResponseReceived:"".concat(qn,"-environmentAdapter.incrementalCheckResponseReceived")});var Jn=(zn(Yn=function(){return s(function e(){n(this,e)},null,[{key:"_onMessage",value:(e=h(Kn().m(function e(t){var r,n,a,o,i,s,u,l,c,f,E,d,g,h,_,p,v,m,T,A;return Kn().w(function(e){for(;;)switch(e.p=e.n){case 0:T=!0,e.n=T===("sentence-splitter-response"===t.command)?1:T===("reintialize-writing-session"===t.command)?2:T===(t.command===Un)?7:T===(t.command===Mn)?8:T===(t.command===Gn)?9:T===("incremental-check-response"===t.command)?10:11;break;case 1:return r=t.payload,n=r.checkTimestamp,a=r.sentenceRangesCheckedText,o=r.sentenceRangesCheckResult,i=r.sentenceRanges,this.updateSentenceRanges(a,o,n,i),e.a(2,Promise.resolve());case 2:if(s=t.payload,u=s.sessionId,l=s.resolve,c=s.reject,u){e.n=3;break}return e.a(2,Promise.reject("writing session not found"));case 3:return e.p=3,e.n=4,Zn.getInstance(lr()).reIntializeWritingSession(u);case 4:null==l||l(),e.n=6;break;case 5:e.p=5,A=e.v,null==c||c(A);case 6:return e.a(3,12);case 7:return f=t.payload,this.onEditorStateSyncAck(f),e.a(3,12);case 8:return E=t.payload,this.onEditorStateForceSync(E),e.a(3,12);case 9:return d=t.payload,this.onEditorSurroundingContextForceSync(d),e.a(3,12);case 10:return g=t.payload,h=g.currentCheckedText,_=g.data,p=g.instanceId,v=g.paragraph,m=g.previousCheckedText,this.incrementalCheck(p,_,h,m,v),e.a(2);case 11:return e.a(2,Promise.resolve());case 12:return e.a(2)}},e,this,[[3,5]])})),function(t){return e.apply(this,arguments)})},{key:"init",value:function(e){this._instance?this._instance=e:(this._instance=e,this.addEventListener())}},{key:"onEditorStateForceSync",value:function(e){$n(document,Mn,e)}},{key:"onEditorSurroundingContextForceSync",value:function(e){$n(document,Gn,e)}},{key:"onEditorStateSyncAck",value:function(e){$n(document,Un,e)}},{key:"isProductionEnvironment",value:function(){return this._instance.isProductionEnvironment()}},{key:"addEventListener",value:function(){var e=this;return this._instance.addEventListener(function(t){return e._onMessage(t)})}},{key:"isRuntimeConnected",value:function(){return this._instance.isRuntimeConnected()}},{key:"getVersion",value:function(){return this._instance.getVersion()}},{key:"getTrackingId",value:function(){return this._instance.getTrackingId()}},{key:"getPinnedState",value:function(){return this._instance.getPinnedState()}},{key:"shouldTrack",value:function(){return this._instance.shouldTrack()}},{key:"getType",value:function(){return this._instance.getType()}},{key:"getBeforeUnloadEventName",value:function(){return this._instance.getBeforeUnloadEventName()}},{key:"getURL",value:function(e){return this._instance.getURL(e)}},{key:"getUILanguageCode",value:function(){return this._instance.getUILanguageCode()}},{key:"openWindow",value:function(e){return this._instance.openWindow(e)}},{key:"canLoadContentScripts",value:function(e){return this._instance.canLoadContentScripts(e)}},{key:"loadContentScripts",value:function(e,t){return this._instance.loadContentScripts(e,t)}},{key:"loadStylesheets",value:function(e,t){return this._instance.loadStylesheets(e,t)}},{key:"injectShadowStyles",value:function(e){return this._instance.injectShadowStyles(e)}},{key:"initializeLTAssistant",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._instance.initializeLTAssistant(e,t)}},{key:"getPreferredLanguages",value:function(){return this._instance.getPreferredLanguages()}},{key:"startDictionarySync",value:function(){return this._instance.startDictionarySync()}},{key:"addWordToDictionary",value:function(e){return this._instance.addWordToDictionary(e)}},{key:"addWordsToDictionary",value:function(e){return this._instance.addWordsToDictionary(e)}},{key:"removeWordFromDictionary",value:function(e){return this._instance.removeWordFromDictionary(e)}},{key:"clearDictionary",value:function(){return this._instance.clearDictionary()}},{key:"updateDictionary",value:function(){return this._instance.updateDictionary()}},{key:"updateSentenceRanges",value:function(e,t,r,n){this._instance.updateSentenceRanges(e,t,r,n)}},{key:"incrementalCheck",value:function(e,t,r,n,a){this._instance.incrementalCheck(e,t,r,n,a)}},{key:"injectExecutor",value:function(){return this._instance.injectExecutor()}},{key:"destroyExecutor",value:function(){return this._instance.destroyExecutor()}},{key:"executeScript",value:function(e,t){return this._instance.executeScript(e,t)}},{key:"linkInputAreaProperties",value:function(e){return this._instance.linkInputAreaProperties(e)}},{key:"ping",value:function(){return this._instance.ping()}},{key:"loadSynonyms",value:function(e,t,r){return this._instance.loadSynonyms(e,t,r)}},{key:"abortSynonymsRequest",value:function(){return this._instance.abortSynonymsRequest()}},{key:"loadPhrases",value:function(e,t,r,n,a,o){return this._instance.loadPhrases(e,t,r,n,a,o)}},{key:"initializeUserActivity",value:function(e){return this._instance.initializeUserActivity(e)}},{key:"sendUserActivityPings",value:function(e){return this._instance.sendUserActivityPings(e)}},{key:"updateUserActivityTextStatistics",value:function(e,t){return this._instance.updateUserActivityTextStatistics(e,t)}},{key:"updateUserActivityAppliedSuggestions",value:function(e,t,r){return this._instance.updateUserActivityAppliedSuggestions(e,t,r)}},{key:"updateUserActivityAppliedRewritings",value:function(e){return this._instance.updateUserActivityAppliedRewritings(e)}},{key:"updateUserActivityMeta",value:function(e,t){return this._instance.updateUserActivityMeta(e,t)}},{key:"sendUserActivity",value:function(e){return this._instance.sendUserActivity(e)}},{key:"destroyUserActivity",value:function(e){return this._instance.destroyUserActivity(e)}},{key:"abortPhraseRequests",value:function(e){return this._instance.abortPhraseRequests(e)}},{key:"abortTranslateRequest",value:function(e){this._instance.abortTranslateRequest(e)}},{key:"loadSplitSentence",value:function(e,t,r,n,a){return this._instance.loadSplitSentence(e,t,r,n,a)}},{key:"trackEvent",value:function(e,t){return this._instance.trackEvent(e,t)}},{key:"pageLoaded",value:function(e,t,r,n,a){return this._instance.pageLoaded(e,t,r,n,a)}},{key:"ltAssistantStatusChanged",value:function(e,t){return"number"==typeof e?this._instance.ltAssistantStatusChanged(e,t):this._instance.ltAssistantStatusChanged(e)}},{key:"check",value:function(e,t,r,n,a,o,i,s,u){return this._instance.check(e,t,r,n,a,o,i,s,u)}},{key:"createWritingSession",value:function(e,t){return this._instance.createWritingSession(e,t)}},{key:"fetchRecommendationForSentence",value:function(e){return this._instance.fetchRecommendationForSentence(e)}},{key:"unlockRecommendation",value:function(e){return this._instance.unlockRecommendation(e)}},{key:"translateText",value:function(e){return this._instance.translateText(e)}},{key:"isOptionsPageSupported",value:function(){return this._instance.isOptionsPageSupported()}},{key:"openOptionsPage",value:function(e,t){return this._instance.openOptionsPage(e,t)}},{key:"isFeedbackFormSupported",value:function(){return this._instance.isFeedbackFormSupported()}},{key:"openFeedbackForm",value:function(e,t,r){return this._instance.openFeedbackForm(e,t,r)}},{key:"openPremiumPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5?arguments[5]:void 0;return this._instance.openPremiumPage(e,t,r,n,a,o)}},{key:"updateSurroundingTextContext",value:function(e){return this._instance.updateSurroundingTextContext(e)}},{key:"forceSyncEditorState",value:function(e){return this._instance.forceSyncEditorState(e)}},{key:"checkForPaidSubscription",value:function(){return this._instance.checkForPaidSubscription()}},{key:"canUseShadowDom",value:function(){return this._instance.canUseShadowDom()}},{key:"abortAllRequests",value:function(e){return this._instance.abortAllRequests(e)}},{key:"getTermsOfServiceInfo",value:function(e){return this._instance.getTermsOfServiceInfo(e)}},{key:"acceptTermsOfService",value:function(e){return this._instance.acceptTermsOfService(e)}},{key:"syncUserData",value:function(){return this._instance.syncUserData()}}]);var e}(),"_instance",void 0),Yn);function Qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ea=function(){function e(){n(this,e)}return s(e,null,[{key:"_contructor",value:function(){if(!this._isInitialized){e._isChromium=navigator.userAgent.includes("Chrome/")||navigator.userAgent.includes("Chromium/"),e._isFirefox=navigator.userAgent.includes("Firefox/"),e._isThunderbird=navigator.userAgent.includes("Thunderbird/"),e._isOpera=navigator.userAgent.includes("OPR/"),e._isEdge=navigator.userAgent.includes("Edg/"),e._isOldEdge=navigator.userAgent.includes("Edge/"),e._isSafari=(navigator.userAgent.includes("Safari/")||navigator.userAgent.includes("AppleWebKit"))&&!e._isChromium&&!e._isEdge&&!e._isOpera,e._isYaBrowser=navigator.userAgent.includes("YaBrowser/"),e._isChrome=e._isChromium&&!e._isOpera&&!e._isEdge&&!e._isOldEdge&&!e._isYaBrowser;var t=navigator.userAgent.match(/Chrome\/(\d+)/);t&&(e._isUnsupportedChrome=parseInt(t[1])<67&&!navigator.userAgent.includes("Edge/"));var r=navigator.userAgent.match(/Firefox\/(\d+)/);r&&(e._isUnsupportedFirefox=parseInt(r[1])<60),this._isInitialized=!0}}},{key:"getOS",value:function(){return navigator.userAgent.includes("Macintosh")?"Mac":navigator.userAgent.includes("Windows")?"Windows":navigator.userAgent.includes("CrOS")?"CrOS":navigator.userAgent.includes("Linux")?"Linux":"Other"}},{key:"isChromium",value:function(){return e._isChromium}},{key:"isChrome",value:function(){return e._isChrome}},{key:"isThunderbird",value:function(){return e._isThunderbird}},{key:"isFirefox",value:function(){return e._isFirefox}},{key:"isOpera",value:function(){return e._isOpera}},{key:"isEdge",value:function(){return e._isEdge}},{key:"isSafari",value:function(){return e._isSafari}},{key:"isYaBrowser",value:function(){return e._isYaBrowser}},{key:"isUnsupportedChrome",value:function(){return e._isUnsupportedChrome}},{key:"isUnsupportedFirefox",value:function(){return e._isUnsupportedFirefox}},{key:"isUnsupportedBrowser",value:function(){return e.isUnsupportedChrome()||e.isUnsupportedFirefox()}},{key:"getBrowserName",value:function(){return e.isChrome()?"Chrome":e.isFirefox()?"Firefox":e.isOpera()?"Opera":e.isEdge()?"Edge":e.isSafari()?"Safari":e.isYaBrowser()?"Yandex":"Unknown Browser"}},{key:"getUserAgentIdentifier",value:function(){var e="webextension";return this.isChrome()?e+="-chrome":this.isFirefox()?e+="-firefox":this.isOpera()?e+="-opera":this.isEdge()?e+="-edge":this.isYaBrowser()?e+="-chrome":this.isSafari()?e+="-safari":e+="-unknown",e+"-ng"}},{key:"isTouchDevice",value:function(){if(!("ontouchstart"in self))return!1;var e=navigator.userAgent.includes("Android");return this.isIOS()||e}},{key:"isIOS",value:function(){var e=navigator.userAgent.includes("iPhone OS"),t=navigator.userAgent.includes("Macintosh")&&Boolean(navigator.maxTouchPoints&&navigator.maxTouchPoints>2);return e||t}},{key:"isIOSTouchDevice",value:function(){return"ontouchstart"in self&&this.isIOS()}},{key:"isMacApp",value:function(){return navigator.userAgent.includes("AppleWebKit/")&&navigator.userAgent.includes("LanguageTool/")&&!navigator.userAgent.includes("Chrome/")&&!navigator.userAgent.includes("Chromium/")}},{key:"isWindowsApp",value:function(){return navigator.userAgent.includes("LanguageToolWindows/")}}])}();Qn(ea,"_isChromium",!1),Qn(ea,"_isChrome",!1),Qn(ea,"_isFirefox",!1),Qn(ea,"_isThunderbird",!1),Qn(ea,"_isOpera",!1),Qn(ea,"_isOldEdge",!1),Qn(ea,"_isEdge",!1),Qn(ea,"_isSafari",!1),Qn(ea,"_isYaBrowser",!1),Qn(ea,"_isUnsupportedChrome",!1),Qn(ea,"_isUnsupportedFirefox",!1),Qn(ea,"_isInitialized",!1),ea._contructor();function ta(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ra(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ra(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}d.set(c.CHROME_EXTENSION_ID,"oldceeleldhonbafppcapldpdifcinji"),d.set(c.EXTN_PREFIX,"qb");var na="#dd0000",aa="#4285f4",oa="#fce8e6",ia="#e8f0fe",sa=/rgba\(31,\s*161,\s*93,\s*0\.|rgba\(255,\s*0,\s*122,\s*0\.|rgba\(0,\s*163,\s*187,\s*0\.|rgba\(119,\s*119,\s*119,\s*0\.|rgba\(19,\s*115,\s*51,\s*0\.|rgba\(184,\s*6,\s*114,\s*0\.|rgba\(147,\s*52,\s*230,\s*0\.|rgba\(163,\s*90,\s*0,\s*0\./i,ua=d.get(c.CHROME_EXTENSION_ID),la=d.get(c.EXTN_PREFIX),ca="".concat(la,"-strikethroughchange"),fa="".concat(la,"-gdocs-init"),Ea=".".concat(la,"-gdocs-disabled"),da="data-".concat(la,"-ready"),ga=function(e,t){var r;null!==(r=console)&&void 0!==r&&r.error};function ha(e,t,r){try{return e()}catch(e){return ga(t,e),r}}ha(function(){document.documentElement.setAttribute(da,"true")},"setReadyAttribute"),ha(function(){window._docs_annotate_canvas_by_ext=ua;var e=window.chrome;window.chrome=window.chrome||{},window.chrome.runtime=window.chrome.runtime||{};var t=window.chrome.runtime.sendMessage;window.chrome.runtime.sendMessage=function(r){if(r!==ua){if(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];t.call.apply(t,[this,r].concat(a))}}else e||delete window.chrome}},"chromeMocking");var _a=ha(function(){return document.querySelectorAll(Ea)},"getLtDisabledElements")||document.querySelectorAll("__never_matches__");function pa(){return ha(function(){return(null==_a?void 0:_a.length)>0},"isLTDisabled",!1)||!1}var va=!1,ma=[];function Ta(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=function(){ha(function(){var r=new CustomEvent(t,{bubbles:!0,detail:n});e.dispatchEvent(r)},"dispatchCustomEvent-".concat(t))},va?ha(r,"onReadyCallback"):ma.push(r)}ha(function(){document.addEventListener(fa,function(){ha(function(){for(var e=0,t=ma;e<t.length;e++){ha(t[e],"onReadyCallbackExecution")}ma.length=0,va=!0},"processReadyCallbacks")})},"addGdocsInitListener");var Aa=new Map,Sa=new Map,Ra=CanvasRenderingContext2D.prototype.moveTo;CanvasRenderingContext2D.prototype.moveTo=function(e,t){var r=this;ha(function(){Aa.set(r,{x:e,y:t}),Ra.call(r,e,t)},"canvasMoveTo")};var Ia=CanvasRenderingContext2D.prototype.lineTo;CanvasRenderingContext2D.prototype.lineTo=function(e,t){var r=this;ha(function(){var n=String(r.strokeStyle),a=Aa.get(r);if(Aa.set(r,{x:e,y:t}),!([aa,na].includes(n.toLowerCase())&&!pa())){if((null==a?void 0:a.y)===t&&sa.test(n)&&!pa()){var o=Sa.get(r);o||(o=[],Sa.set(r,o));var i=r.getTransform(),s=i.a,u=i.d,l=i.e,c=i.f,f=Math.min(a.x,e)*s+l,E=Math.max(a.x,e)*s+l,d=t*u+c-r.lineWidth/2,g=t*u+c+r.lineWidth/2;o.push({bottom:g,left:f,right:E,top:d}),r.canvas&&Ta(r.canvas,ca,{strikethroughLines:o})}Ia.call(r,e,t)}},"canvasLineTo")};var Oa=CanvasRenderingContext2D.prototype.fillRect;CanvasRenderingContext2D.prototype.fillRect=function(e,t,r,n){var a=this;ha(function(){var o=String(a.fillStyle);[ia,oa].includes(o.toLowerCase())&&!pa()||Oa.call(a,e,t,r,n)},"canvasFillRect")};var ya=CanvasRenderingContext2D.prototype.clearRect;CanvasRenderingContext2D.prototype.clearRect=function(e,t,r,n){var a=this;ha(function(){var o=Sa.get(a);if(o&&!pa()){var i=a.getTransform(),s=i.a,u=i.d,l=i.e,c=i.f,f=e*s+l,E=t*u+c,d={bottom:E+n*u,left:f,right:f+r*s,top:E};o.length!==(o=o.filter(function(e){return r=d,!!((t=e).left>r.right||t.right<r.left||t.top>r.bottom||t.bottom<r.top);var t,r})).length&&(Sa.set(a,o),Ta(a.canvas,ca,{strikethroughLines:o}))}ya.call(a,e,t,r,n)},"canvasClearRect")};var Na=CanvasRenderingContext2D.prototype.stroke;CanvasRenderingContext2D.prototype.stroke=function(e){var t=this;ha(function(){if(e){var r=String(t.strokeStyle);if([aa,na].includes(r.toLowerCase())&&!pa())return}e?Na.call(t,e):Na.call(t)},"canvasStroke")};var Ca=null;function La(){return ha(function(){var e=ha(function(){return window.KX_kixApp},"getGoogleDocsKixApp");if(!e)return null;for(var t=[[e,["KX_kixApp"]]],r=new Set([e]),n=0,a=t;n<a.length;n++){var o,i=v(a[n],2),s=i[0],u=i[1],l=ta(Object.getOwnPropertyNames(s));try{for(l.s();!(o=l.n()).done;){var c=o.value;try{var f=s[c];if("string"==typeof f&&f.startsWith("\x03"))return u.concat(c);if(!(!(u.length<20&&f instanceof Object)||f instanceof Node||f instanceof Window||f instanceof RegExp||f instanceof Date||f instanceof Map||Array.isArray(f)||r.has(f))){var E=f;r.add(E),t.push([E,u.concat(c)])}}catch(e){ga("getFullTextPath-propIteration",e)}}}catch(e){l.e(e)}finally{l.f()}}return null},"getFullTextPath",null)}function Pa(){return ha(function(){if(null===Ca&&(Ca=La()),null===Ca)return"";var e,t=window,r=ta(Ca);try{for(r.s();!(e=r.n()).done;){t=t[e.value]}}catch(e){r.e(e)}finally{r.f()}return"string"==typeof t?t:""},"getFullText","")||""}ha(function(){document.addEventListener("LanguageTool-getFullText",function(e){ha(function(){var t,r=null===(t=e.detail)||void 0===t?void 0:t.datasetPropName;r&&(document.body.dataset[r]=Pa())},"fullTextEventHandler")}),document.addEventListener("qb-gdocs-getFullText",function(){try{var e=Pa();Ta(document,"qb-gdocs-fullText",{text:e})}catch(e){ga("fullTextEventHandler",e instanceof Error?e.message:String(e))}})},"addFullTextEventListener"),document.addEventListener("qb-gdocs-getFullText",function(){try{var e=Pa();Ta(document,"qb-gdocs-fullText",{text:e})}catch(e){}})})();
//# sourceMappingURL=sourceMap/content.js.map