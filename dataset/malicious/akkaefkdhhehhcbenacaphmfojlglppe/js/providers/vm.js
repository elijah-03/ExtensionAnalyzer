const VMProvider=class extends AbstractProvider{search(){const a=$(".player_container");if(a.length){const b=a[0].id.replace("clip_","");b&&!this.ids[b]&&this.addVideo(b)}}getVideoData(a,b){chrome.runtime.sendMessage({action:"ajaxGet",url:`https://player.vimeo.com/video/${a}/config`},c=>{const d=JSON.parse(c),e=$("h1").text(),f=d.request.files.progressive,g=[];["1080p","720p","480p","360p"].forEach(b=>{const c=f.find(a=>a.quality===b);c&&g.push({title:e,url:c.url,vid:a,provider:"vm",quality:b})}),"function"==typeof this.mediaUpdateListener&&this.mediaUpdateListener({videos:g}),b(g)})}registerMediaUpdateListener(a){this.mediaUpdateListener=a}itinializeMessageListeners(){chrome.runtime.onMessage.addListener(a=>{"pageUpdated"===a.action&&($(`.${INIT_CLASS}`).removeClass(INIT_CLASS),this.videos=[],this.setBadge(),this.ids={},this.passMediaBack({videos:this.videos}))})}};