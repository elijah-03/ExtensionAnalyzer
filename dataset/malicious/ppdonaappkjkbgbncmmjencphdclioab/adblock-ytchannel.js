var url=document.location.href,parseElem=document.createElement("textarea"),parseChannelName=function(e){return parseElem.innerHTML=e,e=parseElem.innerText,t=e.replace(/\s/g,""),encodeURIComponent(t).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}));var t};if(!/ab_channel/.test(url)){if(/channel/.test(url))(xhr=new XMLHttpRequest).open("GET","https://www.googleapis.com/youtube/v3/channels?part=snippet&id="+getChannelId(url)+"&key=AIzaSyC2J0nenHIgO7jfZQF0iWZ7pJwwl0W3uIs"),xhr.onload=function(){if(4===xhr.readyState&&200===xhr.status){var e=JSON.parse(xhr.response);e.items[0]&&updateURL(e.items[0].snippet.title,!0)}},xhr.send(null);else if(/watch/.test(url)){var xhr;(xhr=new XMLHttpRequest).open("GET","https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+getVideoId(url)+"&key=AIzaSyC2J0nenHIgO7jfZQF0iWZ7pJwwl0W3uIs"),xhr.onload=function(){if(4===xhr.readyState&&200===xhr.status){var e=JSON.parse(xhr.response);e.items[0]&&updateURL(e.items[0].snippet.channelTitle,!1)}},xhr.send(null)}else/user/.test(url)&&(document.addEventListener("spfdone",(function(){document.querySelector("span .qualified-channel-title-text > a")&&updateURL(document.querySelector("span .qualified-channel-title-text > a").textContent,!0)}),!0),window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("span .qualified-channel-title-text > a");e&&updateURL(e.textContent,!0)}),!0));function getChannelId(e){return parseUri(e).pathname.split("/")[2]}function getVideoId(e){return parseUri.parseSearch(e).v}function updateURL(e,t){if(e=parseChannelName(e),t)var n=url+"?&ab_channel="+e.replace(/\s/g,"");else n=url+"&ab_channel="+e.replace(/\s/g,"");window.history.replaceState(null,null,n),BGcall("pageIsWhitelisted",(function(e){e&&window.location.reload(!1)}))}}function onMessage(e){"reloadStyleSheet"==e.type&&(elemhide=new ElemHide,elemhide.apply())}chrome.runtime.onMessage.addListener(onMessage);