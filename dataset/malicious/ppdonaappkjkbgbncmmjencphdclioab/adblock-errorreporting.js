window.addEventListener("error",(function(e){if(e.filename||e.lineno||e.colno||e.error||e.message){var r="Error: "+(e.filename||"anywhere").replace(chrome.extension.getURL(""),"")+":"+(e.lineno||"anywhere")+":"+(e.colno||"anycol");e.message&&(r+=": "+e.message);var a=e.target.src||e.target.href;if(a&&(r+="src: "+a),e.error){var n="-"+(e.error.message||"")+"-"+(e.error.stack||"");-1===(n=n.replace(/:/gi,";").replace(/\n/gi,"")).indexOf("http")&&(r+=n),r.length>1024&&(r=r.substr(0,1023))}STATS.msg(r),ext.storage.set("error","Date added:"+new Date+" "+r)}}));