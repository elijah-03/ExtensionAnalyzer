function filterbyHref(e){for(var t=["^https?://translate.google.cn/","https?://(.*).google.(.*)/(search|images|maps)\\?"],l=0;l<t.length;l++)if(ptn=new RegExp(t[l],"i"),ptn.test(e))return!0;return!1}function TSSRGoogleFetchTargetURL(e){var t=/&adurl=(http[^&]+)[&]?/,l=e.match(t);return l&&2==l.length?l[1]:(t=/url\?q=(http[^&]+)[&]?/,(l=e.match(t))&&2==l.length?l[1]:(t=/&url=(http[^&]+)[&]?/,(l=e.match(t))&&2==l.length?l[1]:e))}function TSSRGoogleSetMarginForIcon(e){new TMDOMObj(e.previousSibling.childNodes[0]).style.setMargin("0 0 4px 0")}function TSSRGoogleParseResult(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null);if(t=new CreateTSRLocatedObject(e,l,"DIV","res").findElement())for(var n=GetAllTSRLocatedNodes(t),o=0;o<n.length;o++){var r=TSSRGoogleFetchTargetURL(n[o].href);CreateTSRResultObject(n[o],r,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseResult1(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"H3",null),o=new CreateTSRLocatedObject(null,n,"LI",null),r=new CreateTSRLocatedObject(e,o,"DIV","res");if(o.multiMatches=!0,o.appendAttribute("class","^g"),n.multiMatches=!0,t=r.findElement())for(var a=GetAllTSRLocatedNodes(t),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].href);filterbyHref(u)||CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseNewsInResult(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"DIV",null),o=new CreateTSRLocatedObject(e,n,"DIV","res");if(l.multiMatches=!0,n.appendAttribute("class","mnr-c"),n.multiMatches=!0,t=o.findElement())for(var r=GetAllTSRLocatedNodes(t),a=0;a<r.length;a++){var c=TSSRGoogleFetchTargetURL(r[a].href);filterbyHref(c)||CreateTSRResultObject(r[a],c,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseResult2(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"H3",null),o=new CreateTSRLocatedObject(null,n,"DIV",null),r=new CreateTSRLocatedObject(e,o,"DIV","res");if(o.multiMatches=!0,o.appendAttribute("class","g"),n.multiMatches=!0,t=r.findElement())for(var a=GetAllTSRLocatedNodes(t),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].href);filterbyHref(u)||CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseNewsResult2(e){var t,l=new CreateTSRLocatedObject(null,null,"H3",null),n=new CreateTSRLocatedObject(null,l,"A",null),o=new CreateTSRLocatedObject(e,n,"DIV","res");if(n.multiMatches=!0,t=o.findElement())for(var r=GetAllTSRLocatedNodes(t),a=0;a<r.length;a++)if(r[a].parentNode.innerText&&r[a].parentNode.href){var c=TSSRGoogleFetchTargetURL(r[a].parentNode.href);filterbyHref(c)||CreateTSRResultObject(r[a],c,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseResult3(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"DIV",null),o=new CreateTSRLocatedObject(e,n,"DIV","res");if(n.multiMatches=!0,n.appendAttribute("class","card-section$"),l.multiMatches=!0,t=o.findElement())for(var r=GetAllTSRLocatedNodes(t),a=0;a<r.length;a++){var c=TSSRGoogleFetchTargetURL(r[a].href);filterbyHref(c)||CreateTSRResultObject(r[a],c,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseResult_Blog(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"LI",null),o=new CreateTSRLocatedObject(null,n,"LI",null),r=new CreateTSRLocatedObject(e,o,"DIV","ires");if(o.multiMatches=!0,o.appendAttribute("class","^g"),n.multiMatches=!0,t=r.findElement())for(var a=GetAllTSRLocatedNodes(t),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].href);filterbyHref(u)||CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseNewsResultResult1(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"SPAN",null),o=new CreateTSRLocatedObject(null,l,"LI",null),r=new CreateTSRLocatedObject(e,o,"LI","newsbox");if(o.multiMatches=!0,o.appendAttribute("class","^w0"),n.multiMatches=!0,n.appendAttribute("class","^tl"),l.multiMatches=!0,l.appendAttribute("class","^l"),t=r.findElement())for(var a=GetAllTSRLocatedNodes(t),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].href);CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseNewsResultResultIE7(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"TABLE",null),o=new CreateTSRLocatedObject(null,n,"LI",null),r=new CreateTSRLocatedObject(e,o,"DIV","center_col");if(o.multiMatches=!0,o.appendAttribute("class","g"),n.multiMatches=!0,n.appendAttribute("class","ts"),t=r.findElement())for(var a=GetAllTSRLocatedNodes(t),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].href);a[c].className&&"fl"==a[c].className||filterbyHref(u)||CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseTopSponsorIE7(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"TABLE",null),o=new CreateTSRLocatedObject(null,n,"LI",null),r=new CreateTSRLocatedObject(e,o,"DIV","center_col");if(o.multiMatches=!0,o.appendAttribute("class","taf"),n.multiMatches=!0,t=r.findElement())for(var a=GetAllTSRLocatedNodes(t),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].href);CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseLyrics(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"H2",null),o=new CreateTSRLocatedObject(null,n,"DIV",null),r=new CreateTSRLocatedObject(e,o,"DIV","res");if(o.multiMatches=!0,o.appendAttribute("class","^g$"),o.appendAttribute("style",null),n.multiMatches=!0,n.appendAttribute("class","^r$"),l.appendAttribute("class",null),t=r.findElement())for(var a=GetAllTSRLocatedNodes(t),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].href);CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleFindInsertNode(){var e=this.node;if(this.baseNode&&this.baseNode.firstChild&&"SPAN"==this.baseNode.firstChild.nodeName){var t=this.baseNode.firstChild.getElementsByTagName("H3");1==t.length&&(e=t[0])}return e}function TSRGoogleModifyCSS(e,t){var l=e.FindInsertNode();if(l&&l.style){e.spanIcon=document.createElement("SPAN"),new TMDOMObj(e.spanIcon).style.setFloat("left");var n=t+parseInt(D_GAP_BETWEEN_ICON_TITLE);l.style.marginLeft=n+"px"}}function TSSRGoogleParseSidebarSponsor(e){var t,l=new CreateTSRLocatedObject(null,null,"A",null),n=new CreateTSRLocatedObject(null,l,"H3",null),o=new CreateTSRLocatedObject(null,n,"LI",null),r=new CreateTSRLocatedObject(e,o,"TABLE","mbEnd");if(o.tagIDregexFirst=!0,o.multiMatches=!0,t=r.findElement())for(var a=GetAllTSRLocatedNodes(t),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].href);CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleTopAds(e){let t=document.querySelector("DIV#tads");if(!t)return;let l=t.querySelectorAll("A");for(let e=0;e<l.length;++e){if(null===l[e].offsetParent)continue;let t=TSSRGoogleFetchTargetURL(l[e].href);if(!t)continue;let n=l[e].querySelector("SPAN"),o=n&&n.innerText?n:l[e];o.innerText&&CreateTSRResultObject(o,t,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseBottomSponsor(e){var t=new CreateTSRLocatedObject(null,null,"h3",null),l=new CreateTSRLocatedObject(null,t,"a",null),n=new CreateTSRLocatedObject(null,l,"DIV",null),o=new CreateTSRLocatedObject(e,n,"DIV","tadsb");n.multiMatches=!0,l.multiMatches=!0;var r=o.findElement();if(r)for(var a=GetAllTSRLocatedNodes(r),c=0;c<a.length;c++){var u=TSSRGoogleFetchTargetURL(a[c].parentNode.href);CreateTSRResultObject(a[c],u,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseBottomSponsorIE7(e){var t=new CreateTSRLocatedObject(null,null,"A",null),l=new CreateTSRLocatedObject(null,t,"H3",null),n=new CreateTSRLocatedObject(null,l,"OL",null),o=new CreateTSRLocatedObject(null,n,"DIV",null),r=new CreateTSRLocatedObject(e,o,"DIV","center_col");o.multiMatches=!0,n.multiMatches=!0,l.multiMatches=!0;var a=r.findElement();if(a)for(var c=GetAllTSRLocatedNodes(a),u=0;u<c.length;u++){var S=TSSRGoogleFetchTargetURL(c[u].href);filterbyHref(S)||CreateTSRResultObject(c[u],S,null,null,TSSRGoogleSetMarginForIcon)}}function TSSRGoogleParseResultAppend(e){var t,l=new CreateTSRLocatedObject(null,null,"H3",null),n=new CreateTSRLocatedObject(null,l,"A",null),o=new CreateTSRLocatedObject(e,n,"DIV","botstuff");if(n.multiMatches=!0,t=o.findElement())for(var r=GetAllTSRLocatedNodes(t),a=0;a<r.length;a++)if(r[a].parentNode.innerText&&r[a].parentNode.href){var c=TSSRGoogleFetchTargetURL(r[a].parentNode.href);filterbyHref(c)||CreateTSRResultObject(r[a],c,null,null,TSSRGoogleSetMarginForIcon)}}function TSRParse(){var e=g_oEnv.Parser.iResultNumber;return TrendMicro.TB.DOMIdExist("res")&&(TSSRGoogleParseResult1(document),TSSRGoogleParseResult2(document),TSSRGoogleParseResult3(document),TSSRGoogleParseNewsResult2(document),TSSRGoogleParseLyrics(document)),TrendMicro.TB.DOMIdExist("botstuff")&&TSSRGoogleParseResultAppend(document),TrendMicro.TB.DOMIdExist("ires")&&TSSRGoogleParseResult_Blog(document),TrendMicro.TB.DOMIdExist("newsbox")&&TSSRGoogleParseNewsResultResult1(document),TrendMicro.TB.DOMIdExist("mbEnd")&&TSSRGoogleParseSidebarSponsor(document),TrendMicro.TB.DOMIdExist("bottomads")&&TSSRGoogleParseBottomSponsor(document),TrendMicro.TB.DOMIdExist("center_col")&&(TSSRGoogleParseNewsResultResultIE7(document),TSSRGoogleParseTopSponsorIE7(document),TSSRGoogleParseBottomSponsorIE7(document),TSSRGoogleTopAds(document)),TrendMicro.TB.ReduceNewNode(e+1),g_oEnv.Parser.rgobjSearchResult}function TSSRGoogleParseAiOverview(e){let t=e.querySelector('div[data-subtree="msc"]');if(!t)return;let l=t.querySelectorAll("A");for(let e=0;e<l.length;++e)try{if(null===l[e].offsetParent)continue;let t=TSSRGoogleFetchTargetURL(l[e].href);if(!t)continue;let n=new URL(t),o=`${n.protocol}//${n.hostname}${n.pathname}`;CreateTSRObjectForAnalysis(l[e],o)}catch(e){continue}}function TSRParseForAnalysis(){return TSSRGoogleParseAiOverview(document),g_oEnv.Parser.rgobjSearchResultForAnalysis}g_bIsNeedCheckSPan=!0,TSRTagFlowID();