
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9b87d5aa-5ed0-5422-9f80-8850324d62fa")}catch(e){}}();
(()=>{var Ft={"./src/common/ajax.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>f});var s=e("./node_modules/querystring-es3/index.js"),o=e("./node_modules/pdelay/js/index.js"),n=e("./src/common/cachebust-url.ts");const i=64*1e3,a=5,u={};function f(p){if(!p||typeof p.url!="string")throw new Error("URL must be given");return new Promise(function(_,x){const E=p.method?p.method:"GET";let P=p.url,O=null;p.data&&(O=typeof p.data=="string"?p.data:s.stringify(p.data),(E==="GET"||E==="HEAD")&&(P+=(/\?/.test(P)?"&":"?")+O,O=null));const C=p.canRetry!=null?p.canRetry:E==="GET"||E==="HEAD",B=P.match(/(?:(?:[a-z]+:)?\/\/)?([^/]*)\//);if(!B)throw new Error("Failed to match url");const k=B[1];if(Object.prototype.hasOwnProperty.call(u,k)){x(new Error(`Server at ${P} has told us to stop connecting`));return}p.cachebust&&(P=(0,n.default)(P));const Z=p.XMLHttpRequest||window.XMLHttpRequest,S=new Z;if(Object.assign(S,p.xhrFields),S.onerror=function(F){if((p.retryNum||0)<a&&(S.status===502||(S.status===0||S.status>=500)&&C)){_(c(p));return}const g=Object.assign(new Error(`Failed to load ${P}`),{event:F,xhr:S,status:S.status});S.status==490&&(u[k]=!0),x(g)},S.onload=function(F){S.status===200?_({xhr:S,text:S.responseText}):S.onerror(F)},S.open(E,P,!0),p.headers){const{headers:F}=p;Object.keys(F).forEach(g=>{const R=F[g];S.setRequestHeader(g,R)})}S.send(O)})}function c(p){const _=(p.retryNum||0)+1,x=Math.min(Math.pow(2,_)*1e3,i);return(0,o.default)(x).then(()=>f(Object.assign({},p,{retryNum:_})))}}),"./src/common/assert.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{AssertionError:()=>s,assert:()=>o});class s extends Error{name="AssertionError";constructor(i){super(i??"assertion failed")}}function o(n,i){if(!n)throw new s(i)}}),"./src/common/cachebust-url.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>n});const s=/([?&])_=[^&]*/;let o=Date.now()+Math.floor(Math.random()*Math.pow(2,32));function n(i){return s.test(i)?i.replace(s,"$1_="+o++):i+(/\?/.test(i)?"&":"?")+"_="+o++}}),"./src/common/defer.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(){let o,n;const i=new Promise((a,u)=>{o=a,n=u});return{resolve:o,reject:n,promise:i}}}),"./src/common/find-parent.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(o,n){let i=o.parentElement;for(;i;){if(n(i))return i;i=i.parentElement}return null}}),"./src/common/html-to-text.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>o});var s=e("./src/common/removeHtmlTags.ts");function o(n){const i=document.createElement("div");return i.innerHTML=s.removeHtmlTagsPolicy.createHTML(n),i.textContent}}),"./src/common/isNotNil.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(o){return o!=null}}),"./src/common/quoted-split.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(o){let n=[],i=0;const a=/"[^"]*"/g;for(;;){const u=a.exec(o);if(n=n.concat((u?o.substring(i,u.index):o.substring(i)).split(/ +/).filter(Boolean)),!u)break;i=u.index+u[0].length,n.push(u[0])}return n}}),"./src/common/rate-limit-queuer.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(o,n,i){let a=[];const u=[];let f=!1;function c(){u.shift()(),u.length?p():f=!1}function p(){f=!0;const x=_();x>0?setTimeout(c,x):c()}function _(){const E=Date.now()-n;return a=a.filter(P=>P>E),a.length>=i?a[0]-E:-1}return function(){for(var E=arguments.length,P=new Array(E),O=0;O<E;O++)P[O]=arguments[O];let C;const B=new Promise((k,Z)=>{C=()=>{a.push(Date.now());try{k(o.apply(this,P))}catch(S){Z(S)}}});if(!C)throw new Error("Should not happen");return u.push(C),f||p(),B}}}),"./src/common/removeHtmlTags.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{removeHtmlTagsPolicy:()=>o});function s(n){return n.replace(/<[^>]*>?/g,"")}const o=globalThis.trustedTypes?.createPolicy("inboxSdk__removeHtmlTagsPolicy",{createHTML(n){return s(n)}})??{createHTML(n){return s(n)}}}),"./src/injected-js/gmail/constants.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{DRAFT_SAVING_ACTIONS:()=>o,SEND_ACTIONS:()=>s});const s=["^pfg"],o=["^r","^r_bt"]}),"./src/injected-js/gmail/modify-suggestions.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>p});var s=e("./node_modules/lodash/escape.js"),o=e.n(s),n=e("./node_modules/auto-html/js/index.js"),i=e.n(n),a=e("./node_modules/ud/js/index.js"),u=e("./src/common/html-to-text.ts"),f=e("./src/platform-implementation-js/dom-driver/gmail/gmail-response-processor.ts");r=e.hmd(r);function c(_,x){const{value:E,options:P}=f.deserialize(_),O=E[0][1];for(const C of x){let B,k;if(typeof C.name=="string"?(B=C.name,k=o()(B)):typeof C.nameHTML=="string"&&(k=C.nameHTML,B=(0,u.default)(k)),B==null||k==null)throw new Error("name or nameHTML must be provided");let Z,S;typeof C.description=="string"?(Z=C.description,S=o()(Z)):typeof C.descriptionHTML=="string"&&(S=C.descriptionHTML,Z=(0,u.default)(S));const F={id:C.id,routeName:C.routeName,routeParams:C.routeParams,externalURL:C.externalURL};k+=i()` <span style="display:none" data-inboxsdk-suggestion="${JSON.stringify(F)}"></span>`,C.iconHTML!=null&&(k=`<div class="inboxsdk__custom_suggestion_iconHTML">${C.iconHTML}</div>${k}`);const g=["aso.sug",C.searchTerm||O,k,null,[],0,null,"asor inboxsdk__custom_suggestion "+C.providerId+" "+(C.iconClass||""),0];S!=null&&(g[3]=["aso.eme",Z,B,S,k]),C.iconHTML!=null?(g[6]=["aso.thn","data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="],g[7]+=" inboxsdk__no_bg"):C.iconUrl?(g[6]=["aso.thn",C.iconUrl],g[7]+=" inboxsdk__no_bg"):g[7]+=" asor_i4",Array.isArray(E[0][3])?E[0][3].push(g):E[0][3]=[g]}return f.serialize(E,P)}const p=(0,a.defn)(r,c)}),"./src/injected-js/gmail/setup-gmail-interceptor.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>se,setupGmailInterceptorOnFrames:()=>Q});var s=e("./node_modules/lodash/clone.js"),o=e.n(s),n=e("./node_modules/lodash/flatten.js"),i=e.n(n),a=e("./node_modules/lodash/find.js"),u=e.n(a),f=e("./node_modules/lodash/intersection.js"),c=e.n(f),p=e("./node_modules/lodash/includes.js"),_=e.n(p),x=e("./node_modules/bignumber.js/bignumber.js"),E=e.n(x),P=e("./node_modules/kefir/dist/kefir.esm.js"),O=e("./src/injected-js/injected-logger.ts"),C=e("./src/injected-js/xhr-proxy-factory.ts"),B=e("./node_modules/querystring-es3/index.js"),k=e("./src/injected-js/gmail/thread-identifier/index.ts"),Z=e("./src/injected-js/message-metadata-holder.ts"),S=e("./src/platform-implementation-js/dom-driver/gmail/gmail-response-processor.ts"),F=e("./src/platform-implementation-js/dom-driver/gmail/gmail-sync-response-processor.ts"),g=e("./src/common/quoted-split.ts"),R=e("./src/common/defer.ts"),N=e("./src/injected-js/gmail/modify-suggestions.ts"),I=e("./src/injected-js/gmail/sync-compose-processor.ts");function X(ce,ae){ae!=="XMLHttpRequest event listener error"?O.error(ce,ae):setTimeout(function(){throw ce},1)}function se(){let ce=null;const ae=top.document.getElementById("js_frame");ae?ce=ae.contentDocument.defaultView:O.eventSdkPassive("noJSFrameElementFound"),Q(window,ce)}function Q(ce,ae){const fe=[],ge=[];{const ie=ce.XMLHttpRequest;ce.XMLHttpRequest=(0,C.default)(ie,fe,{logError:X})}if(ae){const ie=ae.XMLHttpRequest;ae.XMLHttpRequest=(0,C.default)(ie,ge,{logError:X})}k.setup(),Z.setup();{const ie={};P.default.fromEvents(document,"inboxSDKregisterComposeRequestModifier").onValue(z=>{let{detail:J}=z;const M=J.composeid||J.draftID;ie[M]||(ie[M]=[]),ie[M].push(J.modifierId)}),P.default.fromEvents(document,"inboxSDKunregisterComposeRequestModifier").onValue(z=>{let{detail:J}=z;const{keyId:M,modifierId:L}=J;ie[M]=ie[M].filter(D=>D!==L),ie[M].length===0&&delete ie[M]}),ge.push({isRelevantTo:function(z){return z.params.act==="sm"},originalSendBodyLogger:function(z,J){$({type:"emailSending",body:J})},requestChanger:async function(z,J){let M=B.parse(J.body);const L=M.composeid,D=ie[M.composeid];if(!D||D.length===0)return J;for(let Y=0;Y<D.length;Y++){const ee=D[Y],ue=P.default.fromEvents(document,"inboxSDKcomposeRequestModified").filter(_e=>{let{detail:h}=_e;return h.composeid===L&&h.modifierId===ee}).take(1).map(_e=>{let{detail:h}=_e;return h.composeParams}).toPromise();$({type:"inboxSDKmodifyComposeRequest",composeid:L,modifierId:ee,composeParams:{body:M.body,isPlainText:M.ishtml!=="1"}});const re=await ue;M=Object.assign({},M,re)}return Object.assign({},J,{body:oe(M)})},afterListeners:function(z){if(z.status===200&&($({type:"emailSent",responseText:z.originalResponseText,originalSendBody:z.originalSendBody}),z.originalSendBody)){const J=B.parse(z.originalSendBody);delete ie[J.composeid]}}}),ge.push({isRelevantTo:function(z){return z.params.act==="sd"},originalSendBodyLogger:function(z,J){$({type:"emailDraftSaveSending",body:J})},afterListeners:function(z){z.status===200&&$({type:"emailDraftReceived",responseText:z.originalResponseText,originalSendBody:z.originalSendBody,connectionDetails:{method:z.method,url:z.url,params:z.params,responseType:z.responseType}})}});{const z=new WeakMap,J=new WeakMap,M=new WeakMap;fe.push({isRelevantTo(L){return/sync(?:\/u\/\d+)?\/i\/s/.test(L.url)},originalSendBodyLogger(L){if(L.originalSendBody){const D=(0,I.parseComposeRequestBody)(L.originalSendBody);if(!D)return;const{draftID:Y}=D;switch(D.type){case"FIRST_DRAFT_SAVE":M.set(L,Y);break;case"DRAFT_SAVE":J.set(L,Y);break;case"SEND":z.set(L,Y),$({type:"emailSending",draftID:Y});break}}},requestChanger:async function(L,D){const Y=(0,I.parseComposeRequestBody)(D.body);if(!Y||Y.type!=="SEND")return D;const{draftID:ee}=Y,ue=ie[ee];if(!ue||ue.length===0)return D;let re=Y.body;for(let _e=0;_e<ue.length;_e++){const h=ue[_e],y=P.default.fromEvents(document,"inboxSDKcomposeRequestModified").filter(K=>{let{detail:w}=K;return w.draftID===ee&&w.modifierId===h}).take(1).map(K=>{let{detail:w}=K;return w.composeParams}).toPromise();$({type:"inboxSDKmodifyComposeRequest",draftID:ee,modifierId:h,composeParams:{body:re,isPlainText:!1}}),re=(await y).body}return Object.assign({},D,{body:(0,I.replaceBodyContentInComposeSendRequestBody)(D.body,re)})},afterListeners(L){if(z.has(L)||J.has(L)||M.has(L)){const D=()=>{$({type:"emailSendFailed",draftID:Y}),z.delete(L)},Y=z.get(L)||J.get(L)||M.get(L);if(L.status!==200||!L.originalResponseText){D();return}try{const ue=(0,I.parseComposeResponseBody)(L.originalResponseText);for(const re of ue)if(!(Y&&!re.messageId.endsWith(Y))){if(re.type==="FIRST_DRAFT_SAVE"||re.type==="DRAFT_SAVE"){$({draftID:Y,type:"emailDraftReceived",rfcID:re.rfcID,threadID:re.threadId,messageID:re.messageId,oldMessageID:re.oldMessageId,oldThreadID:re.oldThreadId}),z.delete(L),J.delete(L),M.delete(L);return}else if(re.type==="SEND"){$({draftID:Y,type:"emailSent",rfcID:re.rfcID,threadID:re.threadId,messageID:re.messageId,oldMessageID:re.oldMessageId,oldThreadID:re.oldThreadId}),z.delete(L),J.delete(L),M.delete(L);return}}}catch(ue){O.eventSdkPassive("connection.requestResponseParsingFailed",{responseParseError:ue})}const ee=JSON.parse(L.originalResponseText);if(M.has(L)){const ue=ee[2]&&ee[2][6]&&ee[2][6][0]&&ee[2][6][0][1];if(ue){const re=ue[3]&&ue[3][7]&&ue[3][7][1],_e=re&&re[5]&&re[5][0];re&&_e?$({draftID:Y,type:"emailDraftReceived",rfcID:_e[14],threadID:re[4].split("|")[0],messageID:_e[1],oldMessageID:_e[56],oldThreadID:re[20]}):O.error(new Error("Could not parse draft save"))}else{O.eventSdkPassive("old compose draft id handling hit");const re=ee[2]&&ee[2][6]&&ee[2][6][1]&&ee[2][6][1][1];if(re){const _e=re[3]&&re[3][1]&&re[3][1][1];_e&&$({draftID:Y,type:"emailDraftReceived",rfcID:_e[14],messageID:_e[1],oldMessageID:_e[48]?new(E())(_e[48]).toString(16):_e[56],syncThreadID:re[1]})}}}else{const ue=ee[2]?.[6];if(!ue){D();return}const re=ue.find(K=>K[1]?.[3]?.[7]?.[1]?.[5]?.[0]?.[14]&&K[1][3][7][1][5].find(w=>_()(w[1],Y)));if(!re){if(z.has(L)){const K=ue.filter(w=>w[1]?.[3]?.[5]?.[3]);if(K.length>0){const w=K[0][1][1]?K[0][1][1].replace(/\|.*$/,""):void 0;$({draftID:Y,type:"emailSent",threadID:w,messageID:K[0][1][3]?.[5]?.[5]?.[0]||K[0][1][3][5][3]?.[0]})}else D()}else D();return}const _e=re[1]?.[3]?.[7]?.[1],h=_e[5].find(K=>K[1].includes(Y));if(!h){D();return}const y=z.has(L);Array.isArray(h[11])?y&&h[11].indexOf("^r")>=0&&O.error(new Error('sendUpdate[11] unexpectedly contained "^r"')):O.error(new Error("sendUpdate[11] was not an array")),y&&h[22]!==void 0&&h[22]!==3&&O.error(new Error("sendUpdate[22] was not expected value"),{value:h[22]});const j=_e[4]?_e[4].replace(/\|.*$/,""):void 0;$({draftID:Y,type:y?"emailSent":"emailDraftReceived",rfcID:h[14],messageID:h[1],oldMessageID:h[48]?new(E())(h[48]).toString(16):h[56],threadID:j,oldThreadID:_e[18]!=null?new(E())(_e[18]).toString(16):_e[20]})}z.delete(L),J.delete(L),M.delete(L)}}})}}ge.push({isRelevantTo(ie){return!!ie.params.search&&ie.params.view==="tl"},async responseTextChanger(ie,z){return z},originalResponseTextLogger(ie){if(ie.status===200){const z=ie.originalResponseText;k.processThreadListResponse(z)}}}),ge.push({isRelevantTo(ie){return ie.params.view==="cv"},originalResponseTextLogger(ie){if(ie.status===200){const z=S.extractMessages(ie.originalResponseText);Z.add(z)}}}),fe.push({isRelevantTo:function(ie){return/sync(?:\/u\/\d+)?\/i\/bv/.test(ie.url)},originalResponseTextLogger(ie){if(ie.status===200){const z=F.extractThreadsFromSearchResponse(ie.originalResponseText);Z.add(z.map(J=>({threadID:J.syncThreadID,messages:J.extraMetaData.syncMessageData.map(M=>({date:M.date,recipients:M.recipients}))})))}}}),fe.push({isRelevantTo:function(ie){return/sync(?:\/u\/\d+)?\/i\/fd/.test(ie.url)},originalResponseTextLogger(ie){if(ie.status===200){const z=F.extractThreadsFromThreadResponse(ie.originalResponseText);Z.add(z.map(J=>({threadID:J.syncThreadID,messages:J.extraMetaData.syncMessageData.map(M=>({date:M.date,recipients:M.recipients}))})))}}});{const ie=Object.create(null);let z,J,M;document.addEventListener("inboxSDKregisterSuggestionsModifier",function(L){let{detail:D}=L;ie[D.providerID]={position:Object.keys(ie).length}}),document.addEventListener("inboxSDKprovideSuggestions",function(L){let{detail:D}=L;if(D.query===z){const Y=ie[D.providerID];if(!Y)throw new Error("provider does not exist for providerID");if(J==null)throw new Error("tried to modified a null suggestionModifications");if(J[Y.position]=D.suggestions,J.filter(Boolean).length===Object.keys(ie).length){if(M==null)throw new Error("tried to resolve a null currentQueryDefer");M.resolve(i()(J)),M=z=J=null}}}),fe.push({isRelevantTo(L){return Object.keys(ie).length>0&&!!L.url.match(/^\/cloudsearch\/request\?/)&&L.params.client=="gmail"&&L.params.gs_ri=="gmail"},originalSendBodyLogger(L,D){const Y=B.parse(D);if(!Y.request)return;const ee=JSON.parse(Y.request)[2];ee&&(z=ee,M&&M.resolve(),M=L._defer=(0,R.default)(),J=[],$({type:"suggestionsRequest",query:z}))},async responseTextChanger(L,D){if(L._defer&&L.status===200){const Y=await L._defer.promise;if(Y){let ee;try{ee=(0,N.default)(D,Y)}catch(ue){throw O.eventSdkPassive("suggestionsModified.error",{query:z,originalResponseText:D,error:ue instanceof Error&&ue.message},!0),ue}return ee}}return D}})}{const ie=[];let z;document.addEventListener("inboxSDKcreateCustomSearchTerm",function(J){ie.push(J.detail.term)}),document.addEventListener("inboxSDKsearchReplacementReady",function(J){z.query===J.detail.query&&z.newQuery.resolve(J.detail.newQuery)}),ge.push({isRelevantTo:function(J){let M;const L=J.params;return J.method==="POST"&&L.search&&L.view==="tl"&&J.url.match(/^\?/)&&L.q&&(M=c()(ie,(0,g.default)(L.q))[0])?(z&&z.query===L.q&&z.start!=L.start?(J._queryReplacement=z,z.start=L.start):(z&&z.newQuery.resolve(z.query),z=J._queryReplacement={term:M,query:L.q,start:L.start,newQuery:(0,R.default)()},$({type:"searchQueryForReplacement",term:M,query:L.q})),!0):!1},requestChanger:function(J,M){return J._queryReplacement.newQuery.promise.then(function(L){const D=o()(J.params);return D.q=L,{method:M.method,url:"?"+(0,B.stringify)(D),body:M.body}})}}),fe.push({isRelevantTo:function(J){return J.method==="POST"&&/sync(?:\/u\/\d+)?\/i\/bv/.test(J.url)},requestChanger:function(J,M){let L;const D=JSON.parse(M.body);let Y=!1,ee,ue,re;return Array.isArray(D)?(Y=!0,ee=D[0],ue=ee[3],re=ee[9]):(ee=D[1],ue=ee[4],re=ee[10]),ee[Y?0:1]===79&&typeof ue=="string"&&(L=c()(ie,(0,g.default)(ue))[0])?(z&&z.query===ue&&z.start!=re?(J._queryReplacement=z,z.start=re):(z&&z.newQuery.resolve(z.query),z=J._queryReplacement={term:L,query:ue,start:re,newQuery:(0,R.default)()},$({type:"searchQueryForReplacement",term:L,query:ue})),J._queryReplacement.newQuery.promise.then(function(h){return Y?D[0][3]=h:D[1][4]=h,{method:M.method,url:M.url,body:JSON.stringify(D)}})):Promise.resolve(M)}})}{const ie=[];let z;document.addEventListener("inboxSDKcustomListRegisterQuery",J=>{ie.push(J.detail.query)}),document.addEventListener("inboxSDKcustomListNewQuery",J=>{if(z.query===J.detail.query&&z.start===J.detail.start){const{newQuery:M,newStart:L}=J.detail;z.newRequestParams.resolve({query:M,start:L})}}),document.addEventListener("inboxSDKcustomListResults",J=>{z.query===J.detail.query&&z.newResults.resolve(J.detail.newResults)}),ge.push({isRelevantTo:function(J){const M=J.params;return J.method==="POST"&&M.search&&M.view==="tl"&&J.url.match(/^\?/)&&M.q&&!M.act&&u()(ie,L=>L===M.q)?(z&&(z.newRequestParams.resolve({query:z.query,start:z.start}),z.newResults.resolve(null)),z=J._customListJob={query:M.q,start:+M.start,newRequestParams:(0,R.default)(),newResults:(0,R.default)()},$({type:"searchForReplacement",query:z.query,start:z.start}),!0):!1},requestChanger:function(J,M){return J._customListJob.newRequestParams.promise.then(L=>{let{query:D,start:Y}=L;const ee=o()(J.params);return ee.q=D,ee.start=Y,{method:M.method,url:"?"+(0,B.stringify)(ee),body:M.body}})},responseTextChanger:function(J,M){return $({type:"searchResultsResponse",query:J._customListJob.query,start:J._customListJob.start,response:M}),J._customListJob.newResults.promise.then(L=>L===null?M:L)}}),fe.push({isRelevantTo:function(J){return/sync(?:\/u\/\d+)?\/i\/bv/.test(J.url)?(z&&(z.newRequestParams.resolve({query:z.query,start:z.start}),z.newResults.resolve(null)),!0):!1},requestChanger:async function(J,M){if(M.body){const L=JSON.parse(M.body),D=Array.isArray(L),Y=(D?L&&L[0]&&L[0][3]:L&&L[1]&&L[1][4])||"";if(u()(ie,ee=>ee===Y))return z=J._customListJob={query:Y,start:D?L[0][9]:L[1][10],newRequestParams:(0,R.default)(),newResults:(0,R.default)()},$({type:"searchForReplacement",query:z.query,start:z.start}),J._customListJob.newRequestParams.promise.then(ee=>{let{query:ue,start:re}=ee;return D?(L[0][3]=ue,L[0][9]=re):(L[1][4]=ue,L[1][10]=re),{method:M.method,url:M.url,body:JSON.stringify(L)}})}return M},responseTextChanger:async function(J,M){return J._customListJob?($({type:"searchResultsResponse",query:J._customListJob.query,start:J._customListJob.start,response:M}),J._customListJob.newResults.promise.then(L=>L===null?M:L)):M}})}{const ie=J=>{document.head.setAttribute("data-inboxsdk-btai-header",J),$({type:"btaiHeaderReceived"})};fe.push({isRelevantTo(J){return/sync(?:\/u\/\d+)?\//.test(J.url)&&!document.head.hasAttribute("data-inboxsdk-btai-header")},originalSendBodyLogger(J){J.headers["X-Gmail-BTAI"]&&ie(J.headers["X-Gmail-BTAI"])}});const z=J=>{document.head.setAttribute("data-inboxsdk-xsrf-token",J),$({type:"xsrfTokenHeaderReceived"})};fe.push({isRelevantTo(J){return/sync(?:\/u\/\d+)?\//.test(J.url)&&!document.head.hasAttribute("data-inboxsdk-xsrf-token")},originalSendBodyLogger(J){J.headers["X-Framework-Xsrf-Token"]&&z(J.headers["X-Framework-Xsrf-Token"])}})}{let ie="AIzaSyBm7aDMG9actsWSlx-MvrYsepwdnLgz69I";document.addEventListener("inboxSDKgetGoogleRequestHeaders",()=>{const J={authorization:window.gapi.auth.getAuthHeaderValueForFirstParty([]),"x-goog-api-key":ie};document.head.setAttribute("data-inboxsdk-google-headers",JSON.stringify(J))}),fe.push({isRelevantTo(z){return z.url.startsWith("https://")?new URL(z.url).hostname.endsWith(".google.com"):!1},originalSendBodyLogger(z){z.headers["X-Goog-Api-Key"]&&(ie=z.headers["X-Goog-Api-Key"])}})}}function $(ce){document.dispatchEvent(new CustomEvent("inboxSDKajaxIntercept",{bubbles:!0,cancelable:!1,detail:ce}))}function oe(ce){const ae=o()(ce),fe=`=${le(ae.to,"to")}&=${le(ae.cc,"cc")}&=${le(ae.bcc,"bcc")}`;return delete ae.to,delete ae.bcc,delete ae.cc,fe+"&"+B.stringify(ae)}function le(ce,ae){let fe="";if(Array.isArray(ce))for(let ge=0;ge<ce.length;ge++)fe+=`&${ae}=${encodeURIComponent(ce[ge])}`;else fe+=`&${ae}=${encodeURIComponent(ce)}`;return fe}}),"./src/injected-js/gmail/setup-gmonkey-handler.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(){const n=o();document.addEventListener("inboxSDKtellMeIsConversationViewDisabled",function(){n.then(i=>{const a=i.isConversationViewDisabled(),u=document.createEvent("CustomEvent");u.initCustomEvent("inboxSDKgmonkeyResponse",!1,!1,a),document.dispatchEvent(u)})}),document.addEventListener("inboxSDKtellMeCurrentThreadId",function(i){let a;if(i.detail.isPreviewedThread){const u=Array.from(document.querySelectorAll("[gh=tl] tr.aps"));if(u.length>0){const f=u.map(c=>c.querySelector("[data-thread-id]")).filter(Boolean)[0];f?a=f.getAttribute("data-thread-id"):a=u[0].getAttribute("data-inboxsdk-threadid")}}else a=window.gmonkey?.v2?.getCurrentThread?.()?.getThreadId();a&&(a=a.replace("#",""),i.target.setAttribute("data-inboxsdk-currentthreadid",a))})}function o(){return new Promise(n=>{function i(){window.gmonkey?window.gmonkey.load("2.0",n):setTimeout(i,500)}i()})}}),"./src/injected-js/gmail/sync-compose-processor-20220909.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{actionsToComposeRequestType:()=>N,parseComposeRequestBody_2022_09_09:()=>c,parseComposeResponseBody_2022_09_09:()=>p,replaceBodyContentInComposeSendRequestBody_2022_09_09:()=>_});var s=e("./node_modules/lodash/sortBy.js"),o=e.n(s),n=e("./node_modules/lodash/intersection.js"),i=e.n(n),a=e("./src/common/isNotNil.ts"),u=e("./src/injected-js/gmail/constants.ts");const f=["SEND","DRAFT_SAVE"];function c(I){return x(I)}function p(I){return E(I)}function _(I,X){return P(I,X)}function x(I){const X=I[1]?.[0];if(!Array.isArray(X))return null;const se=X.map(Z).filter(a.default);return o()(se,$=>f.indexOf($.type))[0]||null}function E(I){const X=I[1]?.[5];return Array.isArray(X)?X.map(g).filter(a.default).flatMap(se=>{const{threadId:Q,oldThreadId:$,parsedMessages:oe}=se;return oe.map(le=>{const{messageId:ce,to:ae,cc:fe,bcc:ge,actions:ie,rfcID:z,oldMessageId:J}=le,M=N(ie);return M?{threadId:Q,messageId:ce,to:ae,cc:fe,bcc:ge,actions:ie,rfcID:z,oldMessageId:J,oldThreadId:$,type:M}:null})}).filter(a.default):[]}function P(I,X){const se=x(I);if(!se)return null;const Q=se.messageId,$=I[1]?.[0];if(!Array.isArray($))return null;for(const oe of $){if(!Array.isArray(oe)||!Array.isArray(oe[1]))return null;const le=oe[1];if(!O(le[0]))return null;const ae=k(le);if(ae?.parsedMsg.messageId===Q&&N(ae.parsedMsg.actions)==="SEND")return F(ae.originalMsg,X),I}return null}function O(I){return I.startsWith("thread-")?I.includes("|")?I.split("|")[0]:I:null}function C(I){return I.startsWith("msg-")?I:null}function B(I){return Array.isArray(I)?I.filter(X=>!!X[1]).map(X=>({emailAddress:X[1],name:X[2]??null})):null}function k(I){const X=[I[1]?.[2]?.[0]?.[4]?.[0],I[1]?.[1]?.[0],I[1]?.[13]?.[0]];for(const se of X){const Q=S(se);if(Q)return{parsedMsg:Q,originalMsg:se}}return null}function Z(I){if(!Array.isArray(I)||!Array.isArray(I[1]))return null;const X=I[1],se=O(X[0]);if(!se)return null;const Q=k(X);if(!Q)return null;const{parsedMsg:$,originalMsg:oe}=Q,{messageId:le,to:ce,cc:ae,bcc:fe,subject:ge,body:ie,actions:z}=$;let J=N(z);return J?(J==="DRAFT_SAVE"&&(oe===X[1]?.[2]?.[0]?.[4]?.[0]||oe===X[1]?.[1]?.[0])&&(J="FIRST_DRAFT_SAVE"),{threadId:se,messageId:le,to:ce,cc:ae,bcc:fe,subject:ge,body:ie,actions:z,type:J}):null}function S(I){if(!Array.isArray(I))return null;const X=C(I[0]);if(!X)return null;const se=I[7],Q=B(I[2]),$=B(I[3]),oe=B(I[4]),le=I[8][1][0][1],ce=I[10],ae=I[13],fe=I[55];return{messageId:X,to:Q,cc:$,bcc:oe,subject:se,body:le,actions:ce,rfcID:ae,oldMessageId:fe}}function F(I,X){if(!Array.isArray(I))return null;I[8][1][0][1]=X}function g(I){if(!Array.isArray(I)||!Array.isArray(I[0]))return null;const X=I[0],se=O(X[0]);if(!se)return null;const Q=X[2]?.[6]?.[0];if(!Array.isArray(Q))return null;const $=Q[19],oe=Array.isArray(Q[4])?Q[4].map(le=>Array.isArray(le)?R(le):null).filter(a.default):[];return{threadId:se,oldThreadId:$,parsedMessages:oe}}function R(I){if(!Array.isArray(I))return null;const X=C(I[0]);if(!X)return null;const se=I[10],Q=B(I[2]),$=B(I[3]),oe=B(I[4]),le=I[13],ce=I[55];return{messageId:X,to:Q,cc:$,bcc:oe,actions:se,rfcID:le,oldMessageId:ce}}function N(I){return i()(I,u.DRAFT_SAVING_ACTIONS).length===u.DRAFT_SAVING_ACTIONS.length?"DRAFT_SAVE":i()(I,u.SEND_ACTIONS).length===u.SEND_ACTIONS.length?"SEND":null}}),"./src/injected-js/gmail/sync-compose-processor.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{parseComposeRequestBody:()=>i,parseComposeResponseBody:()=>a,replaceBodyContentInComposeSendRequestBody:()=>u});var s=e("./src/injected-js/gmail/sync-compose-processor-20220909.ts"),o=e("./src/injected-js/gmail/sync-compose-request-processor.ts"),n=e("./src/injected-js/injected-logger.ts");function i(f){const c=JSON.parse(f);try{if(Array.isArray(c)){const p=(0,s.parseComposeRequestBody_2022_09_09)(c);return p?{type:p.type,to:p.to,cc:p.cc,bcc:p.bcc,draftID:p.messageId.replace("msg-a:",""),subject:p.subject,body:p.body}:null}}catch(p){n.eventSdkPassive("connection.requestResponseParsingFailed",{requestParseError:p})}return(0,o.getDetailsOfComposeRequest)(c)}function a(f){const c=JSON.parse(f);return Array.isArray(c)?(0,s.parseComposeResponseBody_2022_09_09)(c):[]}function u(f,c){const p=JSON.parse(f);try{if(Array.isArray(p)){const _=(0,s.replaceBodyContentInComposeSendRequestBody_2022_09_09)(p,c);return _?JSON.stringify(_):f}}catch(_){n.eventSdkPassive("connection.requestResponseParsingFailed",{replaceBodyFailed:_})}return(0,o.replaceEmailBodyForSendRequest)(f,c)}}),"./src/injected-js/gmail/sync-compose-request-processor.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{getDetailsOfComposeRequest:()=>i,replaceEmailBodyForSendRequest:()=>f});var s=e("./node_modules/lodash/intersection.js"),o=e.n(s),n=e("./src/injected-js/gmail/constants.ts");function i(c){const p=c[2]&&c[2][1];if(!p)return null;const _=p.filter(x=>{const E=x[2]&&x[2][2]&&(x[2][2][14]||x[2][2][2]);return E&&E[1]&&E[1][1]&&E[1][1].indexOf("msg-a:")>-1});if(_.length){const x=_.find(E=>{const P=E[2]&&E[2][2]&&(E[2][2][14]||E[2][2][2]);return P[1][11]&&o()(P[1][11],n.SEND_ACTIONS).length===n.SEND_ACTIONS.length});if(x){const P=(x[2]&&x[2][2]&&(x[2][2][14]||x[2][2][2]))[1];return a(P,"SEND")}else{const E=_[0],O=(E[2]&&E[2][2]&&(E[2][2][14]||E[2][2][2]))[1];return a(O,"DRAFT_SAVE")}}else{const x=p.map(P=>P[2]&&P[2][2]&&P[2][2][3]&&P[2][2][3][1]&&P[2][2][3][1][5]&&P[2][2][3][1][5][0]).filter(Boolean);if(x.length===0)return null;const E=x[0];return a(E,"FIRST_DRAFT_SAVE")}}function a(c,p){const _=c[9]&&c[9][2]&&c[9][2][0]&&c[9][2][0][2];return _==null?null:{body:_,type:p,to:u(c[3]),cc:u(c[4]),bcc:u(c[5]),draftID:c[1].replace("msg-a:",""),subject:c[8]}}function u(c){return Array.isArray(c)?c.map(p=>({emailAddress:p[2],name:p[3]||null})):null}function f(c,p){if(!p)return c;const _=JSON.parse(c),x=_[2]&&_[2][1];if(!x)return c;const E=x.filter(B=>{const k=B[2]&&B[2][2]&&(B[2][2][14]||B[2][2][2]);return k&&k[1]&&k[1][1]&&k[1][1].indexOf("msg-a:")>-1});if(!E.length)return c;const P=E.find(B=>{const k=B[2]&&B[2][2]&&(B[2][2][14]||B[2][2][2]);return k[1][11]&&o()(k[1][11],n.SEND_ACTIONS).length===n.SEND_ACTIONS.length});if(!P)return c;const C=(P[2]&&P[2][2]&&(P[2][2][14]||P[2][2][2]))[1];return C[9][2][0][2]=p,JSON.stringify(_)}}),"./src/injected-js/gmail/thread-identifier/click-and-get-popup-url.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>c});var s=e("./node_modules/lodash/constant.js"),o=e.n(s),n=e("./node_modules/lodash/noop.js"),i=e.n(n),a=e("./src/injected-js/injected-logger.ts");const u=o()(!0);function f(p,_){return Object.prototype.hasOwnProperty.call(p,_)?p[_]:null}function c(p){const _=document.createEvent("MouseEvents"),x={bubbles:!0,cancelable:!0,button:0,pointerX:0,pointerY:0,ctrlKey:!0,altKey:!1,shiftKey:!1,metaKey:!0};_.initMouseEvent("click",x.bubbles,x.cancelable,document.defaultView,x.button,x.pointerX,x.pointerY,x.pointerX,x.pointerY,x.ctrlKey,x.altKey,x.shiftKey,x.metaKey,x.button,null);let E;const P=window.open,O=window.onerror,C=f(window.HTMLElement.prototype,"focus"),B=f(window.HTMLElement.prototype,"blur");try{window.HTMLElement.prototype.focus=i(),window.HTMLElement.prototype.blur=i(),window.onerror=u;const k=function(Z,S,F){E=Z;const g={closed:!1,focus:i()};return setTimeout(function(){g.closed=!0},5),g};if(window.open=k,window.open!==k)return a.error(new Error("Failed to override window.open")),null;p.dispatchEvent(_)}finally{C?window.HTMLElement.prototype.focus=C:delete window.HTMLElement.prototype.focus,B?window.HTMLElement.prototype.blur=B:delete window.HTMLElement.prototype.blur,window.onerror=O,window.open=P}return E}}),"./src/injected-js/gmail/thread-identifier/index.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{processThreadListResponse:()=>x,setup:()=>_});var s=e("./node_modules/lodash/find.js"),o=e.n(s),n=e("./src/platform-implementation-js/dom-driver/gmail/gmail-response-processor.ts"),i=e("./node_modules/querystring-es3/index.js"),a=e("./src/injected-js/injected-logger.ts"),u=e("./src/injected-js/gmail/thread-identifier/thread-row-parser.ts"),f=e("./src/injected-js/gmail/thread-identifier/click-and-get-popup-url.ts"),c=e("./src/common/find-parent.ts"),p=e("./src/platform-implementation-js/lib/dom/custom-events.ts");function _(){try{k()}catch(g){a.error(g,"Failed to process preloaded thread identifiers")}document.addEventListener(p.CustomDomEvent.tellMeThisThreadIdByDatabase,function(g){try{if(!(g.target instanceof HTMLElement))throw new Error("event.target is not an HTMLElement");const R=S(g.target);R&&g.target.setAttribute("data-inboxsdk-threadid",R)}catch(R){a.error(R,"Error in inboxSDKtellMeThisThreadIdByDatabase")}}),document.addEventListener(p.CustomDomEvent.tellMeThisThreadIdByClick,function(g){try{if(!(g.target instanceof HTMLElement))throw new Error("event.target is not an HTMLElement");const R=F(g.target);R&&g.target.setAttribute("data-inboxsdk-threadid",R)}catch(R){a.error(R,"Error in inboxSDKtellMeThisThreadIdByClick")}})}function x(g){E(n.extractThreads(g))}function E(g){g.forEach(C)}const P={name:"AMBIGUOUS"},O=new Map;function C(g){var R=B(g);O.has(R)?O.get(R)!==g.gmailThreadId&&O.set(R,P):O.set(R,g.gmailThreadId)}function B(g){return g.subject.trim()+":"+g.timeString.trim()+":"+g.peopleHtml.trim()}function k(){const g=o()(document.querySelectorAll("script:not([src])"),R=>R.text&&R.text.slice(0,500).indexOf("var VIEW_DATA=[[")>-1);if(g){const R=g.text.indexOf("["),N=g.text.lastIndexOf("]"),I=g.text.slice(R,N+1);E(n.extractThreadsFromDeserialized([n.deserializeArray(I)]))}else return}function Z(g){var R=(0,i.parse)(g).th;if(!R){var N=g.match(/#(.*)/);N&&(g=decodeURIComponent(decodeURIComponent(N[1])),R=(0,i.parse)(g).th)}return R.replace("#","")}function S(g){const R=u.extractMetadataFromThreadRow(g);if(R===u.ThreadRowAd)return;const N=B(R),I=O.get(N);if(typeof I=="string")return I}function F(g){u.extractMetadataFromThreadRow(g);const R=(0,c.default)(g,se=>se.nodeName==="DIV"&&se.getAttribute("role")==="main");if(!R)throw new Error("Can't operate on disconnected thread row");const N=R.querySelector("td.PE")||R.querySelector("tr"),I=(0,f.default)(g),X=I&&Z(I);return N&&(0,f.default)(N),X}}),"./src/injected-js/gmail/thread-identifier/thread-row-parser.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{ThreadRowAd:()=>u,extractMetadataFromThreadRow:()=>f});var s=e("./node_modules/lodash/intersection.js"),o=e.n(s),n=e("./src/injected-js/injected-logger.ts"),i=e("./src/platform-implementation-js/dom-driver/gmail/gmail-response-processor.ts"),a=e("./src/common/assert.ts");const u=Symbol("ThreadRowAd");function f(c){var p,_,x;(0,a.assert)(c.hasAttribute("id"),"check element is main thread row");var E=[],P=o()(Array.from(c.classList),["zA","apv"]).length===2;if(c.querySelector(".am0,.bvA"))return u;if(P){var C=c.nextElementSibling;if(!C)E.push("failed to find threadRow2");else{var B=C.nextElementSibling;(!B||!B.classList.contains("apw"))&&(B=null),p=c.querySelector("td.apt > div.apm > span[title]"),_=C.querySelector("td div.xS div.xT div.y6 > span"),x=c.querySelector("td.apy > div.yW, td.apx > div.yW")}}else{p=c.querySelector("td.xW > span[title]");var k=c.querySelector("td.a4W div[role=link] div.y6");k&&k.children.length>=1&&(_=k.children[0]),x=c.querySelector("td.yX > div.yW")}return p||E.push("failed to find timeSpan"),_||E.push("failed to find subjectSpan"),x||E.push("failed to find peopleDiv"),E.length&&n.error(new Error("Errors in thread row parsing"),{errors:E}),{timeString:p&&p.getAttribute("title")||"",subject:_?_.textContent:"",peopleHtml:x?(0,i.cleanupPeopleLine)(x.innerHTML):""}}}),"./src/injected-js/injected-logger.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{error:()=>s,eventSdkPassive:()=>o});function s(n,i){n||(n=new Error("No error given")),console.error("Error in injected script",n,i);try{JSON.stringify(i)}catch{i="<failed to jsonify>"}const a={};for(const u in n)if(Object.prototype.hasOwnProperty.call(n,u))try{const f=n[u];JSON.stringify(f),a[u]=f}catch{}Object.keys(a).length>0&&(i={errorProperties:a,details:i}),document.dispatchEvent(new CustomEvent("inboxSDKinjectedError",{bubbles:!1,cancelable:!1,detail:{message:n&&n.message,stack:n&&n.stack,details:i}}))}function o(n,i,a){try{JSON.stringify(i)}catch{i="<failed to jsonify>"}document.dispatchEvent(new CustomEvent("inboxSDKinjectedEventSdkPassive",{bubbles:!1,cancelable:!1,detail:{name:n,details:i,sensitive:a}}))}}),"./src/injected-js/message-metadata-holder.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{add:()=>x,setup:()=>c});var s=e("./node_modules/lodash/startsWith.js"),o=e.n(s),n=e("./src/platform-implementation-js/dom-driver/gmail/gmail-response-processor.ts"),i=e("./src/platform-implementation-js/dom-driver/gmail/gmail-driver/getSyncThreadFromSyncThreadId.ts"),a=e("./src/injected-js/injected-logger.ts"),u=e("./src/platform-implementation-js/driver-common/requestGmailThread.ts");const f=new Map;function c(){document.addEventListener("inboxSDKtellMeThisMessageDate",function(O){p(O,"data-inboxsdk-sortdate",C=>C.date)}),document.addEventListener("inboxSDKtellMeThisMessageRecipients",function(O){p(O,"data-inboxsdk-recipients",C=>C.recipients?C.recipients:null)})}function p(O,C,B){const{target:k,detail:{threadId:Z,ikValue:S,btaiHeader:F,xsrfToken:g}}=O;(async()=>{const R=Array.from(k.parentElement.children).filter(I=>!I.classList.contains("inboxsdk__custom_message_view")).indexOf(k);if(R<0)throw new Error("Should not happen");let N=_(Z,R);if(N==null||!N.recipients){try{await P(Z,S,F,g)}catch(I){a.error(I)}if(N=_(Z,R),N==null)throw new Error("Failed to find message date after re-requesting thread")}k.setAttribute(C,JSON.stringify(B(N)))})().catch(R=>{k.setAttribute(C,"error"),a.error(R)})}function _(O,C){const B=f.get(O);if(B){const k=B[C];if(k)return k}}function x(O){O.forEach(C=>{f.set(C.threadID,C.messages)})}const E=new Map;function P(O,C,B,k){const Z=E.get(O);if(Z)return Z;const S=(async()=>{try{if(o()(O,"thread")){if(!B||!k)throw new Error("Need btaiHeader and xsrfToken when in new data layer");const F=await(0,i.getThreadFromSyncThreadIdUsingHeaders)(O,B,k);F&&x([{threadID:F.syncThreadID,messages:F.extraMetaData.syncMessageData.map(g=>({date:g.date,recipients:g.recipients}))}])}else{const F=await(0,u.default)(C,O);x((0,n.extractMessages)(F))}}catch(F){a.error(F)}finally{E.delete(O)}})();return E.set(O,S),S}}),"./src/injected-js/setup-data-exposer.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>c});var s=e("./node_modules/lodash/find.js"),o=e.n(s),n=e("./src/injected-js/injected-logger.ts"),i=e("./src/platform-implementation-js/lib/wait-for.ts");function a(p){switch(""+p){case"1":case"t":case"true":return!0;default:return!1}}function u(p,_){var x=o()(p,E=>E[0]===_);return x?a(x[1]):!1}function f(){let p=e.g;try{if(p.GLOBALS)return p;e.g.opener&&e.g.opener.top&&(e.g.opener.top.location.href,p=e.g.opener.top)}catch{p=e.g}return p}function c(){let p;(0,i.default)(()=>(p=f(),p&&(p.GLOBALS||p.gbar))).then(()=>{if(p){var _=p.GLOBALS?p.GLOBALS[10]:p.gbar._CONFIG[0][10][5];document.head.setAttribute("data-inboxsdk-user-email-address",_);var x=p.GLOBALS?p.GLOBALS[4].split(".")[1]:p.gbar._CONFIG[0][0][4];if(document.head.setAttribute("data-inboxsdk-user-language",x),document.head.setAttribute("data-inboxsdk-using-sync-api",p.GM_SPT_ENABLED),p.GLOBALS){document.head.setAttribute("data-inboxsdk-ik-value",p.GLOBALS[9]),document.head.setAttribute("data-inboxsdk-action-token-value",p.GM_ACTION_TOKEN);var E=o()(p.GLOBALS[17],Z=>Z[0]==="p");if(E){var P=E[1];{var O=u(P,"bx_lab_1252"),C=u(P,"bx_spa"),B=u(P,"bx_spo"),k=O&&C?B?"vertical":"horizontal":"none";document.head.setAttribute("data-inboxsdk-user-preview-pane-mode",k)}}else return}else{const Z="window.BT_EmbeddedAppData=[",S=o()(document.querySelectorAll("script:not([src])"),F=>F.text&&F.text.slice(0,500).indexOf(Z)>-1);if(!S)n.error(new Error("Could not read preloaded BT_EmbeddedAppData"));else{const{text:F}=S,g=F.indexOf("window.BT_EmbeddedAppData=[");let R=F.indexOf(`]
;`,g);R===-1&&(R=F.indexOf("];",g));const N=JSON.parse(F.slice(g+Z.length-1,R+1)),I=N[11];typeof I!="string"?n.error(new Error("Could not find valid ikValue")):document.head.setAttribute("data-inboxsdk-ik-value",I);const X=N[12];typeof X!="string"?n.error(new Error("Could not find valid xsrfToken")):document.head.setAttribute("data-inboxsdk-xsrf-token",X)}}}}).catch(_=>{function x(){return{hasGLOBALS:!!p.GLOBALS,hasGbar:!!p.gbar}}var E=x(),P=180*1e3;throw setTimeout(()=>{var O=x();n.eventSdkPassive("waitfor global data",{startStatus:E,waitTime:P,laterStatus:O})},P),_}).catch(n.error)}}),"./src/injected-js/setup-error-silencer.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(){var o=[];document.addEventListener("inboxSDKsilencePageErrors",function(){o.push(window.onerror),window.onerror=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return console.error("(Silenced in production) Page error:",...i),!0}}),document.addEventListener("inboxSDKunsilencePageErrors",function(){window.onerror=o.pop()})}}),"./src/injected-js/setup-event-reemitter.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(){document.addEventListener("inboxsdk_event_relay",function(o){const n=document.createEvent("Events");if(n.initEvent(o.detail.type,o.detail.bubbles,o.detail.cancelable),Object.assign(n,o.detail.props),o.detail.dataTransfer){const{files:i,fileNames:a}=o.detail.dataTransfer;a&&a.forEach((u,f)=>{const c=i[f];typeof c.name!="string"&&(c.name=u)}),n.dataTransfer={dropEffect:"none",effectAllowed:"all",files:i,items:i.map((u,f)=>{let{type:c}=u;return{kind:"file",type:c,getAsFile(){return i[f]},getAsString(){throw new Error("getAsString not supported")}}}),types:["Files"],getData(){return""},setData(){},setDragImage(){}}}o.target.dispatchEvent(n)})}}),"./src/injected-js/setupCustomViewEventAssassin.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>P});var s=e("./node_modules/ud/js/index.js"),o=e("./node_modules/lodash/includes.js"),n=e.n(o),i=e("./src/injected-js/injected-logger.ts");r=e.hmd(r);function a(O){return{value:O,configurable:!0}}const u=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End","Enter"],f=["Left","Right","Up","Down"],c="!#[]{}_+=-;:\r\n1234567890`~",p=",xsyemrafz.ujkpnl",_="parfniut";function x(O){if(!document.body.classList.contains("inboxsdk__custom_view_active"))return!1;const C=O.target,B=O.key||String.fromCharCode(O.which||O.keyCode);return O.key==="Escape"&&C instanceof HTMLElement&&C.closest(".inboxsdk__custom_view")?!0:n()(u,B)||n()(f,O.keyIdentifier)||n()(c,B)||!O.shiftKey&&!O.ctrlKey&&!O.metaKey&&!O.altKey&&n()(p,B)||O.shiftKey&&!O.ctrlKey&&!O.metaKey&&!O.altKey&&n()(_,B.toLowerCase())?!(C instanceof HTMLElement&&C.closest("input, textarea, button, [contenteditable]")||C instanceof HTMLElement&&!C.closest(".inboxsdk__custom_view")&&C.closest("[role=button], [role=link]")):!1}const E=(0,s.defn)(r,function(O){try{x(O)&&Object.defineProperties(O,{altKey:a(!1),ctrlKey:a(!1),shiftKey:a(!1),metaKey:a(!1),charCode:a(92),code:a("Backslash"),key:a("\\"),keyCode:a(92),which:a(92)})}catch(C){i.error(C)}});function P(){document.addEventListener("keydown",E,!0)}}),"./src/injected-js/setupInboxCustomViewLinkFixer.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(){const o=new Set;document.addEventListener("inboxSDKregisterAllowedHashLinkStartTerm",function(n){const i=n.detail.term;o.add(i)}),document.addEventListener("click",function(n){const i=n.target;if(!(i instanceof HTMLElement))return;const a=i.closest('a[href^="#"]');if(!a||!(a instanceof HTMLAnchorElement))return;const u=/^#([^/]+)/.exec(a.getAttribute("href")||"");if(!u)return;const f=u[1];o.has(f)&&(n.preventDefault=()=>{})},!0)}}),"./src/injected-js/setupPushStateListener.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(){const o=history.pushState;history.pushState=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];const u=o.apply(this,i);return document.dispatchEvent(new CustomEvent("inboxSDKpushState",{bubbles:!1,cancelable:!1,detail:{args:i}})),u}}}),"./src/injected-js/xhr-helper.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(){document.addEventListener("inboxSDKpageAjax",function(o){const n=o.detail.id,i={url:o.detail.url,method:o.detail.method,headers:o.detail.headers,xhrFields:o.detail.xhrFields,data:o.detail.data};(async()=>{const a=await fetch(i.url,{method:i.method||"GET",credentials:"include"});document.dispatchEvent(new CustomEvent("inboxSDKpageAjaxDone",{bubbles:!1,cancelable:!1,detail:{id:n,error:!1,text:await a.text(),responseURL:a.url}}))})().catch(a=>{document.dispatchEvent(new CustomEvent("inboxSDKpageAjaxDone",{bubbles:!1,cancelable:!1,detail:{id:n,error:!0,message:a&&a.message,stack:a&&a.stack,status:a&&a.xhr&&a.xhr.status}}))})})}}),"./src/injected-js/xhr-proxy-factory.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>S});var s=e("./node_modules/lodash/has.js"),o=e.n(s),n=e("./node_modules/lodash/noop.js"),i=e.n(n),a=e("./node_modules/lodash/each.js"),u=e.n(a),f=e("./node_modules/lodash/filter.js"),c=e.n(f),p=e("./node_modules/lodash/includes.js"),_=e.n(p),x=e("./node_modules/lodash/once.js"),E=e.n(x),P=e("./src/common/assert.ts"),O=e("./node_modules/events/events.js"),C=e.n(O),B=e("./node_modules/querystring-es3/index.js"),k=e("./src/common/isNotNil.ts");const Z=60*1e3;function S(F,g,R){const N=R&&R.logError||function($){setTimeout(function(){throw $},1)};function I($,oe,le){const ce={};return Object.keys(le).concat(["bubbles","cancelBubble","cancelable","defaultPrevented","preventDefault","stopPropagation","stopImmediatePropagation","lengthComputable","loaded","total","type","currentTarget","target","srcElement","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","eventPhase"]).filter(ae=>ae in le).forEach(ae=>{const fe=le[ae];fe===$?ce[ae]=oe:typeof fe=="function"?ce[ae]=fe.bind(le):ce[ae]=fe}),ce}function X($,oe,le){return function(ce){return le.call(oe,I($,oe,ce))}}function se($,oe){return c()($,function(le){try{return le.isRelevantTo(oe)}catch(ce){N(ce)}})}function Q(){this._wrappers=g,this._listeners={},this._boundListeners={},this._events=new(C()),this.responseText="",this._openState=!1,F.bind&&F.bind.apply?this._realxhr=new(F.bind.apply(F,[null].concat(arguments))):this._realxhr=new F;const $=this,oe=(ae,fe)=>{if(this["on"+ae])try{X(this._realxhr,this,this["on"+ae]).call(this,fe)}catch(ge){N(ge,"XMLHttpRequest event listener error")}u()(this._boundListeners[ae],ge=>{try{ge(fe)}catch(ie){N(ie,"XMLHttpRequest event listener error")}})},le=ae=>{oe("readystatechange",ae)};this._fakeRscEvent=function(){le(Object.freeze({bubbles:!1,cancelBubble:!1,cancelable:!1,defaultPrevented:!1,preventDefault:i(),stopPropagation:i(),stopImmediatePropagation:i(),type:"readystatechange",currentTarget:this,target:this,srcElement:this,NONE:0,CAPTURING_PHASE:1,AT_TARGET:2,BUBBLING_PHASE:3,eventPhase:0}))};const ce=ae=>{this.readyState=4;var fe=this.status==200,ge=Object.assign({},I(this._realxhr,this,ae),{lengthComputable:!1,loaded:0,total:0}),ie=!this._realxhr.responseType||this._realxhr.responseType=="text";ie&&u()(this._activeWrappers,z=>{if(z.finalResponseTextLogger)try{z.finalResponseTextLogger(this._connection,this.responseText)}catch(J){N(J)}}),le(ae),oe(fe?"load":"error",ge),oe("loadend",ge),u()(this._activeWrappers,z=>{if(z.afterListeners)try{z.afterListeners(this._connection)}catch(J){N(J)}})};this._realxhr.addEventListener("readystatechange",ae=>{if(!this._connection)return;this._realxhr.readyState>=2&&(this._connection.status=this._realxhr.status);const fe=!this._realxhr.responseType||this._realxhr.responseType=="text";if(this._realxhr.readyState==4){if(fe){Object.defineProperty(this._connection,"originalResponseText",{enumerable:!0,writable:!1,configurable:!1,value:$._realxhr.responseText}),u()(this._activeWrappers,ie=>{if(ie.originalResponseTextLogger)try{ie.originalResponseTextLogger(this._connection,this._connection.originalResponseText)}catch(z){N(z)}});const ge=E()(ce.bind(null,ae));if(this._connection.async){const ie=this._connection;(async()=>{let z=ie.originalResponseText;ie.modifiedResponseText=z;for(const J of this._responseTextChangers){const M=setTimeout(()=>{console.warn("responseTextChanger is taking too long",J,ie)},Z);try{z=await J(ie,z)}finally{clearTimeout(M)}if(typeof z!="string")throw new Error("responseTextChanger returned non-string value "+z);if(ie.modifiedResponseText=z,ie!==this._connection)break}return z})().then(z=>{ie===$._connection&&(this.responseText=z,ge())},z=>{N(z),ie===this._connection&&(this.responseText=this._realxhr.responseText,ge())}).catch(N);return}else $.responseText=$._realxhr.responseText}else $.responseText="";ce(ae)}else{if($._realxhr.readyState==1&&$.readyState==1)return;$._realxhr.readyState>=3&&fe?$._responseTextChangers.length?$.responseText="":$.responseText=$._realxhr.responseText:$.responseText="",$.readyState=$._realxhr.readyState,le(ae)}},!1),["dispatchEvent","getAllResponseHeaders","getResponseHeader","overrideMimeType","responseType","responseXML","responseURL","status","statusText","timeout","ontimeout","onloadstart","onprogress","onabort","upload","withCredentials"].forEach(function(ae){Object.defineProperty($,ae,{enumerable:!0,configurable:!1,get:function(){return typeof $._realxhr[ae]=="function"?$._realxhr[ae].bind($._realxhr):$._realxhr[ae]},set:function(fe){typeof fe=="function"&&(fe=X(this._realxhr,this,fe)),$._realxhr[ae]=fe}})}),Object.defineProperty($,"response",{enumerable:!0,configurable:!1,get:function(){return!this._realxhr.responseType||this._realxhr.responseType=="text"?this.responseText:this._realxhr.response}}),$.readyState=$._realxhr.readyState}return Q.prototype.abort=function(){this._clientStartedSend&&!this._realStartedSend&&(this.readyState!=0&&this._realxhr.readyState==0&&this._realxhr.open(this._connection.method,this._connection.url),this._realStartedSend=!0,this._realxhr.send()),this._realxhr.abort()},Q.prototype.setRequestHeader=function($,oe){var le=this;if(this.readyState!=1&&console.warn("setRequestHeader improperly called at readyState "+this.readyState),!this._openState)throw new Error("Can only set headers after open and before send");this._connection.headers[$]=oe,this._connection.async&&this._requestChangers.length?this._events.once("realOpen",function(){le._realxhr.setRequestHeader($,oe)}):this._realxhr.setRequestHeader($,oe)},Q.prototype.addEventListener=function($,oe){if(this._listeners[$]||(this._listeners[$]=[],this._boundListeners[$]=[]),!_()(this._listeners[$],oe)){var le=X(this._realxhr,this,oe);this._listeners[$].push(oe),this._boundListeners[$].push(le),_()(["readystatechange","load","error","loadend"],$)||this._realxhr.addEventListener($,le,!1)}},Q.prototype.removeEventListener=function($,oe){if(this._listeners[$]){var le=this._listeners[$].indexOf(oe);if(le!=-1){this._listeners[$].splice(le,1);var ce=this._boundListeners[$].splice(le,1)[0];$!="readystatechange"&&this._realxhr.removeEventListener($,ce,!1)}}},Q.prototype.open=function($,oe,le){if(!(this instanceof Q))return F.prototype.open.apply(this,arguments);var ce=this;this._connection={method:$,url:oe,params:(0,B.parse)(oe.split("?")[1]||""),headers:{},async:arguments.length<3||!!le},this._clientStartedSend=!1,this._realStartedSend=!1,this._activeWrappers=se(this._wrappers,this._connection),this._responseTextChangers=this._activeWrappers.map(fe=>fe.responseTextChanger&&fe.responseTextChanger.bind(fe)).filter(k.default),this.responseText="",this._openState=!0;function ae(fe,ge){return ce._realxhr.open(fe,ge,ce._connection.async)}this._connection.async?(this._requestChangers=this._activeWrappers.map(fe=>fe.requestChanger&&fe.requestChanger.bind(fe)).filter(k.default),this._requestChangers.length?this.readyState!=1&&(this.readyState=1,this._fakeRscEvent()):ae($,oe)):ae($,oe)},Q.prototype.send=function($){var oe=this;this._clientStartedSend=!0,this._openState=!1,Object.defineProperty(this._connection,"originalSendBody",{enumerable:!0,writable:!1,configurable:!1,value:$}),this._connection.responseType=this._realxhr.responseType||"text",u()(oe._activeWrappers,function(ce){if(ce.originalSendBodyLogger)try{ce.originalSendBodyLogger(oe._connection,$)}catch(ae){N(ae)}});function le(ce){oe._realStartedSend=!0,oe._realxhr.send(ce)}if(this._connection.async&&this._requestChangers.length){const ce=this._connection,ae={method:this._connection.method,url:this._connection.url,body:$};(async()=>{let fe=ae;for(const ge of this._requestChangers){const ie=setTimeout(()=>{console.warn("requestChanger is taking too long",ge,ce)},Z);try{fe=await ge(this._connection,Object.freeze(fe))}finally{clearTimeout(ie)}if((0,P.assert)(o()(fe,"method"),"modifiedRequest has method"),(0,P.assert)(o()(fe,"url"),"modifiedRequest has url"),(0,P.assert)(o()(fe,"body"),"modifiedRequest has body"),ce!==this._connection||this._realStartedSend)break}return fe})().catch(fe=>(N(fe),ae)).then(fe=>{ce===this._connection&&!this._realStartedSend&&(this._realxhr.open(fe.method,fe.url),this._events.emit("realOpen"),le(fe.body))})}else le($)},[Q,Q.prototype].forEach(function($){Object.assign($,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4})}),Q}}),"./src/platform-implementation-js/dom-driver/gmail/gmail-driver/getSyncThreadFromSyncThreadId.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>i,getThreadFromSyncThreadIdUsingHeaders:()=>a});var s=e("./src/platform-implementation-js/driver-common/gmailAjax.ts"),o=e("./src/platform-implementation-js/dom-driver/gmail/gmail-sync-response-processor.ts"),n=e("./src/platform-implementation-js/driver-common/getAccountUrlPart.ts");async function i(u,f){const[c,p]=await Promise.all([u.getPageCommunicator().getBtaiHeader(),u.getPageCommunicator().getXsrfToken()]);return a(f,c,p)}async function a(u,f,c){let p=null;try{const{text:x}=await(0,s.default)({method:"POST",url:`https://mail.google.com/sync${(0,n.default)()}/i/fd`,headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":c,"X-Gmail-BTAI":f,"X-Google-BTD":"1"},data:JSON.stringify({1:[{1:u,2:1}]})});p=x}catch{const{text:E}=await(0,s.default)({method:"POST",url:`https://mail.google.com/sync${(0,n.default)()}/i/fd?rt=r&pt=ji`,headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":c,"X-Gmail-BTAI":f,"X-Google-BTD":"1"},data:JSON.stringify([[[u,1]],2])});p=E}const _=(0,o.extractThreadsFromThreadResponse)(p);if(_.length>0){const x=_[0];if(x.oldGmailThreadID)return x}return null}}),"./src/platform-implementation-js/dom-driver/gmail/gmail-response-processor.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{cleanupPeopleLine:()=>$,deserialize:()=>C,deserializeArray:()=>k,extractGmailThreadIdFromMessageIdSearch:()=>x,extractMessageIdsFromThreadBatchRequest:()=>Q,extractMessages:()=>fe,extractThreads:()=>I,extractThreadsFromDeserialized:()=>X,readDraftId:()=>R,replaceThreadsInResponse:()=>N,rewriteSingleQuotes:()=>E,serialize:()=>Z});var s=e("./node_modules/lodash/flatten.js"),o=e.n(s),n=e("./node_modules/lodash/last.js"),i=e.n(n),a=e("./node_modules/transducers.js/transducers.js"),u=e.n(a),f=e("./node_modules/map-indexed-xf/js/index.js"),c=e.n(f),p=e("./src/common/html-to-text.ts"),_=e("./src/common/assert.ts");function x(M){const L=C(M).value,Y=ie(L,"cs",ee=>ee[0]==="cs"&&ee.length>20);return Y?Y[1]:null}function E(M){let L=0;const D=[];for(;;){const Y=P(M,L);if(Y<0){D.push(M.substr(L));break}if(D.push(M.substr(L,Y-L)),D.push('"'),L=Y+1,M[Y]==='"'){const ee=O(M,L,'"');if(ee<0)throw new Error("Unclosed double quote");D.push(M.slice(L,ee+1)),L=ee+1}else{const ee=O(M,L,"'");if(ee<0)throw new Error("Unclosed single quote");const ue=M.slice(L,ee).replace(/"/g,'\\"').replace(/\\'/g,"'");D.push(ue),D.push('"'),L=ee+1}}return D.join("")}function P(M,L){for(let D=L,Y=M.length;D<Y;D++)if(M[D]==='"'||M[D]==="'")return D;return-1}function O(M,L,D){for(let Y=L,ee=M.length;Y<ee;Y++)if(M[Y]==="\\")Y++;else if(M[Y]===D)return Y;return-1}function C(M){const L={includeLengths:!1,suggestionMode:/^5\n/.test(M),noArrayNewLines:!/^[,\]]/m.test(M),includeExplicitNulls:!0},D=[];let Y;if(L.suggestionMode){if(Y=M.indexOf(`'
`),Y===-1)throw new Error("Message was missing beginning header");Y+=2}else{if(Y=M.indexOf(`

`),Y===-1)throw new Error("Message was missing beginning newlines");Y+=2}for(;Y<M.length;){let ee=M.indexOf(`
`,Y+1);ee===-1?ee=M.length:M[ee-1]==="\r"&&(ee+=1);const ue=M.slice(Y,ee);let re;if(/^\d+\s*$/.test(ue)){L.includeLengths=!0;const _e=+ue;re=M.slice(ee,ee+_e),Y=ee+_e}else re=M.slice(Y),Y=M.length;D.push(k(re))}return{value:D,options:L}}function B(M,L){const D=[];let Y,ee=0,ue=!1;for(;(Y=O(M,ee,'"'))!==-1;)ue?D.push(M.slice(ee,Y+1)):D.push(L(M.slice(ee,Y+1))),ee=Y+1,ue=!ue;if(ue)throw new Error("string ended inside quoted section");return D.push(L(M.slice(ee))),D.join("")}function k(M){M=M.replace(/[\r\n\t]/g,""),M=E(M),M=B(M,L=>L.replace(/,\s*(?=,|\])/g,",null").replace(/\[\s*(?=,)/g,"[null"));try{return JSON.parse(M,(L,D)=>D??void 0)}catch{throw new Error("deserialization error")}}function Z(M,L){return L.suggestionMode?((0,_.assert)(L.includeLengths),F(M,L.includeExplicitNulls)):S(M,L)}function S(M,L){const{includeLengths:D,noArrayNewLines:Y,includeExplicitNulls:ee}=L;let ue=`)]}'
`+(Y&&D?"":`
`);for(let re=0;re<M.length;re++){const _e=M[re],h=g(_e,Y,ee);if(!D)ue+=h;else{const y=h.length+(Y?2:1);ue+=(Y?`
`:"")+y+`
`+h}}if(!D)if(Y)ue=ue.replace(/"([0-9a-f]{8,16})"\]$/,"'$1']");else{const re=ue.split(/\r|\n/),_e=re.slice(0,-3),h=re.slice(-3);ue=_e.join(`
`),ue+=`
`+h[0]+h[1].replace(/"/g,"'")}return ue+(Y&&D?`
`:"")}function F(M,L){let D=`5
)]}'
`;for(let Y=0;Y<M.length;Y++){const ee=M[Y],ue=g(ee,!1,L),re=ue.length;D+=re+`\r
`+ue}return D}function g(M,L,D){let Y="[";for(let ee=0;ee<M.length;ee++){const ue=M[ee];let re;Array.isArray(ue)?re=g(ue,L,D):ue==null?re=D?"null":"":re=JSON.stringify(ue).replace(/</gim,"\\u003c").replace(/=/gim,"\\u003d").replace(/>/gim,"\\u003e").replace(/&/gim,"\\u0026"),ee>0&&(Y+=","),Y+=re}return Y+="]"+(L?"":`
`),Y}function R(M,L){const D=C(M).value,Y=u().toArray(D,u().compose(u().cat,u().filter(Array.isArray),u().cat,u().filter(ee=>ee[0]==="ms"&&ee[1]===L),u().take(1),u().map(ee=>ee[60])))[0];if(Y){const ee=Y.match(/^msg-[^:]:(\S+)$/i);return ee&&ee[1]}return null}function N(M,L,D){let{start:Y,total:ee}=D;const{value:ue,options:re}=C(M),_e=ue.length===1&&ue[0].length===2&&typeof ue[0][1]=="string",h=_e?ue[0][0].map(q=>[q]):ue,y=[],j=[];let K=[],w=[],H=!1;h.forEach(q=>{let pe=!1;const me=[],ve=[];q.forEach(ye=>{if(ee&&ye[0]==="ti"){if(typeof ee=="number")ye[2]=ye[10]=ee;else if(ee==="MANY"){ye[2]=ye[10]=1e5,ye[3]=1;const Se=ye[5];ye[6]?ye[6][0]=[Se,1]:console.error("replaceThreadsInResponse(): Missing item[6]")}}ye[0]==="tb"?(H=pe=!0,me.length&&(K=me),w=ve):H?ve.push(ye):me.push(ye)}),pe||(H?j.push(ve):y.push(me))});const U=ge(L,Y);K.length&&(U[0]=K.concat(U[0]||[])),w.length&&(U.length?U[U.length-1]=U[U.length-1].concat(w):U.push(w));const A=o()([y,U,j]),b=o()(A),G=i()(b);if(G[0]!=="e")throw new Error("Failed to find end section");G[1]=b.length;const W=_e?[[o()(A),ue[0][1]]]:A;return Z(W,re)}function I(M){return X(C(M).value)}function X(M){return M.length===1&&M[0].length===2&&typeof M[0][1]=="string"&&(M=[M[0][0]]),le(M).map(L=>Object.freeze(Object.defineProperty({subject:(0,p.default)(L[9]),shortDate:(0,p.default)(L[14]),timeString:(0,p.default)(L[15]),peopleHtml:$(L[7]),timestamp:L[16]/1e3,isUnread:L[9].indexOf("<b>")>-1,lastEmailAddress:L[28],bodyPreviewHtml:L[10],someGmailMessageIds:[L[1],L[2]],gmailThreadId:L[0]},"_originalGmailFormat",{value:L})))}const se=u().compose(u().cat,u().cat,u().filter(M=>M[0]==="cs"),u().map(M=>[M[1],M[2]]));function Q(M){const{value:L}=C(M);return u().toObj(L,se)}function $(M){return M.replace(/^[^<]*/,"").replace(/(<span[^>]*) class="[^"]*"/g,"$1")}const oe=u().compose(u().cat,u().filter(M=>M[0]==="tb"),u().map(M=>M[2]),u().cat);function le(M){return u().toArray(M,oe)}const ce=u().compose(u().cat,u().filter(M=>M[0]==="cs"),u().map(M=>({threadID:M[1],messageIDs:M[8]}))),ae=u().compose(u().cat,u().filter(M=>M[0]==="ms"),u().map(M=>({messageID:M[1],date:M[7]})));function fe(M){let{value:L}=C(M);L.length===1&&(L=L[0]);const D=u().toArray(L,ce),Y=u().toArray(L,ae),ee={};return Y.forEach(ue=>{ee[ue.messageID]=ue}),D.map(ue=>{let{threadID:re,messageIDs:_e}=ue;return{threadID:re,messages:_e.map(h=>ee[h])}})}function ge(M,L){const D=u().compose(u().map(Y=>Y._originalGmailFormat),u().partition(10),c()((Y,ee)=>[["tb",L+ee*10,Y]]));return u().toArray(M,D)}function ie(M,L,D){const Y=z(M,L,100);for(let ee=0;ee<Y.length;ee++){const ue=Y[ee].path.slice(0,-1),re=J(M,ue);if(D(re))return re}}function z(M,L,D){const Y=[],ue=[{el:M,path:[]}];for(;ue.length>0;){const re=ue.pop();if(re.path.length<=D)if(re.el!==null&&typeof re.el=="object"){const _e=Object.keys(re.el);for(let h=0;h<_e.length;h++){const y=_e[h],j={el:re.el[y],path:re.path.concat([y])};ue.push(j)}}else re.el===L&&Y.push(re)}return Y}function J(M,L){let D=M;for(let Y=0;Y<L.length;Y++)D=D[L[Y]];return D}}),"./src/platform-implementation-js/dom-driver/gmail/gmail-sync-response-processor.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{extractThreadsFromSearchResponse:()=>i,extractThreadsFromSearchResponse_20220909:()=>a,extractThreadsFromThreadResponse:()=>u,replaceThreadsInSearchResponse:()=>_,replaceThreadsInSearchResponse_20220909:()=>x});var s=e("./node_modules/bignumber.js/bignumber.js"),o=e.n(s),n=e("./src/common/isNotNil.ts");function i(E){const P=JSON.parse(E);if(Array.isArray(P))try{return a(P)}catch{return[]}const O=P&&P[3];return O?O.map((C,B)=>{const k=C[1];return k?{subject:k[1],snippet:k[2],syncThreadID:k[4],oldGmailThreadID:k[18]!=null?new(o())(k[18]).toString(16):k[20],rawResponse:C,extraMetaData:{snippet:P[15]&&P[15][1]&&P[15][1][B]||"",syncMessageData:k[5].map(Z=>({syncMessageID:Z[1],oldMessageID:Z[56],date:+Z[7]}))}}:null}).filter(n.default):[]}function a(E){const P=E&&E[2];return P?P.map((O,C)=>{const B=O[0];return B?{subject:B[0],snippet:B[1],syncThreadID:B[3],oldGmailThreadID:B[17]!=null?new(o())(B[17]).toString(16):B[19],rawResponse:O,extraMetaData:{snippet:E[14]&&E[14][0]&&E[14][0][C]||"",syncMessageData:B[4].map(k=>({syncMessageID:k[0],oldMessageID:k[55],date:+k[6]}))}}:null}).filter(n.default):[]}function u(E){const P=JSON.parse(E);if(Array.isArray(P))return f(P);const O=P&&P[2];if(!O)throw new Error("Failed to process thread response");return O.map(C=>{if(typeof C[1]=="string"&&Array.isArray(C[3])&&!(C[2]&&C[2][1]&&C[2][1][14]&&Array.isArray(C[2][2])))return{syncThreadID:C[1],oldGmailThreadID:C[2]&&C[2][1]&&C[2][1][16]||void 0,extraMetaData:{snippet:C[2]&&C[2][1]&&C[2][1][3]||void 0,syncMessageData:(C[3]||[]).filter(B=>!!B[2]).map(B=>({syncMessageID:B[1],date:+B[2][17],recipients:c(B)}))}};{const B=C[2]&&C[2][1];if(!B)return null;let k;const Z=Array.isArray(C[3])&&C[3];return Z?k=Z.map(S=>({syncMessageID:S[1],date:+S[2][17],recipients:c(S)})):k=(C[2]&&C[2][2]).map(F=>({syncMessageId:F[1],date:+F[16]})),{subject:B[2],snippet:B[3],syncThreadID:B[1],oldGmailThreadID:new(o())(B[14]).toString(16),rawResponse:C,extraMetaData:{syncMessageData:k,snippet:""}}}}).filter(n.default)}function f(E){const P=E&&E[1];if(!P)throw new Error("Failed to process thread response");return P.map(O=>{if(typeof O[0]=="string"&&Array.isArray(O[2])&&!(O[1]&&O[1][0]&&O[1][0][13]&&Array.isArray(O[1][1])))return{syncThreadID:O[0],oldGmailThreadID:O[1]&&O[1][0]&&O[1][0][15]||void 0,extraMetaData:{snippet:O[1]&&O[1][0]&&O[1][0][2]||void 0,syncMessageData:(O[2]||[]).filter(C=>!!C[1]).map(C=>({syncMessageID:C[0],date:+C[1][16],recipients:p(C)}))}};{const C=O[1]&&O[1][0];if(!C)return null;let B;const k=Array.isArray(O[2])&&O[2];return k?B=k.map(Z=>({syncMessageID:Z[0],date:+Z[1][16],recipients:p(Z)})):B=(O[1]&&O[1][1]).map(S=>({syncMessageId:S[0],date:+S[15]})),{subject:C[1],snippet:C[2],syncThreadID:C[0],oldGmailThreadID:new(o())(C[13]).toString(16),rawResponse:O,extraMetaData:{syncMessageData:B,snippet:""}}}}).filter(n.default)}function c(E){if(!E[2])return;const P=E[2][1]||[],O=E[2][2]||[],C=E[2][3]||[];return P.concat(O).concat(C).map(B=>({emailAddress:B[2],name:B[3]}))}function p(E){if(!E[1])return;const P=E[1][0]||[],O=E[1][1]||[],C=E[1][2]||[];return P.concat(O).concat(C).map(B=>({emailAddress:B[1],name:B[2]}))}function _(E,P,O){const C=JSON.parse(E);if(Array.isArray(C))try{return x(C,P,O)}catch(B){return console.error("Caught err in replaceThreadsInSearchResponse",B),E}return(C[3]||P.length)&&(C[3]=P.map((B,k)=>{let{rawResponse:Z}=B;return{...Z,2:k}})),(C[15]||P.length)&&(C[15]={...C[15],1:P.map(B=>{let{extraMetaData:k}=B;return k.snippet}),2:P.map(B=>{let{extraMetaData:k}=B;return k.syncMessageData.map(Z=>{let{syncMessageID:S}=Z;return S})})}),JSON.stringify(C)}function x(E,P,O){return(E[2]||P.length)&&(E[2]=P.map((C,B)=>{let{rawResponse:k}=C;const Z=[...k];return Z[1]=B,Z})),(E[14]||P.length)&&(E[14]=[...E[14]],E[14][0]=P.map(C=>{let{extraMetaData:B}=C;return B.snippet}),Array.isArray(E[14][1])&&E[14][1].length>0&&Array.isArray(E[14][1][0][0])?E[14][1]=P.map(C=>{let{extraMetaData:B}=C;return[[B.syncMessageData[0].syncMessageID]]}):E[14][1]=P.map(C=>{let{extraMetaData:B}=C;return B.syncMessageData.map(k=>{let{syncMessageID:Z}=k;return Z})})),JSON.stringify(E)}}),"./src/platform-implementation-js/driver-common/getAccountUrlPart.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(){const o=document.location.pathname.match(/\/b\/(.+?)\/u\/(\d+)/);if(o){const n=o[1];return`/u/${o[2]}/d/${n}`}else{const n=document.location.pathname.match(/(\/u\/\d+)\//i);return n?n[1]:"/u/0"}}}),"./src/platform-implementation-js/driver-common/gmailAjax.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>p});var s=e("./node_modules/ud/js/index.js"),o=e("./node_modules/kefir/dist/kefir.esm.js"),n=e("./src/platform-implementation-js/lib/imageRequest.ts"),i=e("./src/common/rate-limit-queuer.ts"),a=e("./src/common/ajax.ts");r=e.hmd(r);const u=1e3*60,f=(0,i.default)((0,i.default)(a.default,1e3,7),10*1e3,50);async function c(_){if(!/^https:\/\/mail\.google\.com(?:$|\/)/.test(_.url))throw new Error("Should not happen: gmailAjax called with non-gmail url");if(document.location.origin==="https://mail.google.com")return await f(_);try{return await f({..._,canRetry:!1})}catch(x){if(x&&x.status===0){try{await o.default.fromPromise((0,n.default)("https://mail.google.com/mail/u/0/")).merge(o.default.later(u,void 0)).take(1).takeErrors(1).toPromise()}catch{}return await f(_)}else{if(x&&typeof x.status=="number"&&x.status>=500)return await f(_);throw x}}}const p=(0,s.defn)(r,c)}),"./src/platform-implementation-js/driver-common/requestGmailThread.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>u});var s=e("./node_modules/ud/js/index.js"),o=e("./node_modules/querystring-es3/index.js"),n=e("./src/platform-implementation-js/driver-common/gmailAjax.ts"),i=e("./src/platform-implementation-js/driver-common/getAccountUrlPart.ts");r=e.hmd(r);async function a(f,c){const p={ui:2,ik:f,view:"cv",th:c,pcd:1,mb:0,rt:"c",search:"inbox",type:c},{text:_}=await(0,n.default)({method:"POST",url:`https://mail.google.com/mail${(0,i.default)()}?${o.stringify(p)}`,canRetry:!0});return _}const u=(0,s.defn)(r,a)}),"./src/platform-implementation-js/lib/dom/custom-events.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{CustomDomEvent:()=>s});var s={tellMeThisThreadIdByDatabase:"inboxSDKtellMeThisThreadIdByDatabase",tellMeThisThreadIdByClick:"inboxSDKtellMeThisThreadIdByClick"}}),"./src/platform-implementation-js/lib/imageRequest.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{default:()=>s});function s(o){return new Promise((n,i)=>{const a=new Image;a.addEventListener("load",()=>n(a)),a.addEventListener("error",i),a.src=o})}}),"./src/platform-implementation-js/lib/wait-for.ts":((r,d,e)=>{"use strict";e.r(d),e.d(d,{WaitForError:()=>s,default:()=>o});class s extends Error{name="WaitForError";constructor(){super("waitFor timeout")}}function o(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12e4,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:250;const u=new s;return new Promise(function(f,c){let p=0;function _(){try{const x=n();x?f(x):p>=i?c(u):(p+=a,setTimeout(_,a))}catch(x){c(x)}}setTimeout(_,1)})}}),"./node_modules/array-range/index.js":(r=>{r.exports=function(e,s){var o=typeof e=="number",n=typeof s=="number";o&&!n?(s=e,e=0):!o&&!n&&(e=0,s=0),e=e|0,s=s|0;var i=s-e;if(i<0)throw new Error("array length must be positive");for(var a=new Array(i),u=0,f=e;u<i;u++,f++)a[u]=f;return a}}),"./node_modules/auto-html/js/index.js":((r,d,e)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=n;var s=o(e("./node_modules/lodash/escape.js"));function o(i){return i&&i.__esModule?i:{default:i}}function n(i){var a=new Array(i.length*2-1);a[0]=i[0];for(var u=0,f=arguments.length<=1?0:arguments.length-1;u<f;u++){var c=u+1<1||arguments.length<=u+1?void 0:arguments[u+1];a[2*u+1]=c&&Object.prototype.hasOwnProperty.call(c,"__html")?c.__html:(0,s.default)(c),a[2*u+2]=i[u+1]}return a.join("")}r.exports=d.default,r.exports.default=d.default}),"./node_modules/bignumber.js/bignumber.js":(function(r,d,e){var s;(function(o){"use strict";var n,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,f="[BigNumber Error] ",c=f+"Number primitive has more than 15 significant digits: ",p=1e14,_=14,x=9007199254740991,E=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],P=1e7,O=1e9;function C(N){var I,X,se,Q=D.prototype={constructor:D,toString:null,valueOf:null},$=new D(1),oe=20,le=4,ce=-7,ae=21,fe=-1e7,ge=1e7,ie=!1,z=1,J=0,M={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},L="0123456789abcdefghijklmnopqrstuvwxyz";function D(h,y){var j,K,w,H,U,A,b,G,W=this;if(!(W instanceof D))return new D(h,y);if(y==null){if(h&&h._isBigNumber===!0){W.s=h.s,!h.c||h.e>ge?W.c=W.e=null:h.e<fe?W.c=[W.e=0]:(W.e=h.e,W.c=h.c.slice());return}if((A=typeof h=="number")&&h*0==0){if(W.s=1/h<0?(h=-h,-1):1,h===~~h){for(H=0,U=h;U>=10;U/=10,H++);H>ge?W.c=W.e=null:(W.e=H,W.c=[h]);return}G=String(h)}else{if(!i.test(G=String(h)))return se(W,G,A);W.s=G.charCodeAt(0)==45?(G=G.slice(1),-1):1}(H=G.indexOf("."))>-1&&(G=G.replace(".","")),(U=G.search(/e/i))>0?(H<0&&(H=U),H+=+G.slice(U+1),G=G.substring(0,U)):H<0&&(H=G.length)}else{if(S(y,2,L.length,"Base"),y==10)return W=new D(h),re(W,oe+W.e+1,le);if(G=String(h),A=typeof h=="number"){if(h*0!=0)return se(W,G,A,y);if(W.s=1/h<0?(G=G.slice(1),-1):1,D.DEBUG&&G.replace(/^0\.0*|\./,"").length>15)throw Error(c+h)}else W.s=G.charCodeAt(0)===45?(G=G.slice(1),-1):1;for(j=L.slice(0,y),H=U=0,b=G.length;U<b;U++)if(j.indexOf(K=G.charAt(U))<0){if(K=="."){if(U>H){H=b;continue}}else if(!w&&(G==G.toUpperCase()&&(G=G.toLowerCase())||G==G.toLowerCase()&&(G=G.toUpperCase()))){w=!0,U=-1,H=0;continue}return se(W,String(h),A,y)}A=!1,G=X(G,y,10,W.s),(H=G.indexOf("."))>-1?G=G.replace(".",""):H=G.length}for(U=0;G.charCodeAt(U)===48;U++);for(b=G.length;G.charCodeAt(--b)===48;);if(G=G.slice(U,++b)){if(b-=U,A&&D.DEBUG&&b>15&&(h>x||h!==u(h)))throw Error(c+W.s*h);if((H=H-U-1)>ge)W.c=W.e=null;else if(H<fe)W.c=[W.e=0];else{if(W.e=H,W.c=[],U=(H+1)%_,H<0&&(U+=_),U<b){for(U&&W.c.push(+G.slice(0,U)),b-=_;U<b;)W.c.push(+G.slice(U,U+=_));U=_-(G=G.slice(U)).length}else U-=b;for(;U--;G+="0");W.c.push(+G)}}else W.c=[W.e=0]}D.clone=C,D.ROUND_UP=0,D.ROUND_DOWN=1,D.ROUND_CEIL=2,D.ROUND_FLOOR=3,D.ROUND_HALF_UP=4,D.ROUND_HALF_DOWN=5,D.ROUND_HALF_EVEN=6,D.ROUND_HALF_CEIL=7,D.ROUND_HALF_FLOOR=8,D.EUCLID=9,D.config=D.set=function(h){var y,j;if(h!=null)if(typeof h=="object"){if(h.hasOwnProperty(y="DECIMAL_PLACES")&&(j=h[y],S(j,0,O,y),oe=j),h.hasOwnProperty(y="ROUNDING_MODE")&&(j=h[y],S(j,0,8,y),le=j),h.hasOwnProperty(y="EXPONENTIAL_AT")&&(j=h[y],j&&j.pop?(S(j[0],-O,0,y),S(j[1],0,O,y),ce=j[0],ae=j[1]):(S(j,-O,O,y),ce=-(ae=j<0?-j:j))),h.hasOwnProperty(y="RANGE"))if(j=h[y],j&&j.pop)S(j[0],-O,-1,y),S(j[1],1,O,y),fe=j[0],ge=j[1];else if(S(j,-O,O,y),j)fe=-(ge=j<0?-j:j);else throw Error(f+y+" cannot be zero: "+j);if(h.hasOwnProperty(y="CRYPTO"))if(j=h[y],j===!!j)if(j)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ie=j;else throw ie=!j,Error(f+"crypto unavailable");else ie=j;else throw Error(f+y+" not true or false: "+j);if(h.hasOwnProperty(y="MODULO_MODE")&&(j=h[y],S(j,0,9,y),z=j),h.hasOwnProperty(y="POW_PRECISION")&&(j=h[y],S(j,0,O,y),J=j),h.hasOwnProperty(y="FORMAT"))if(j=h[y],typeof j=="object")M=j;else throw Error(f+y+" not an object: "+j);if(h.hasOwnProperty(y="ALPHABET"))if(j=h[y],typeof j=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(j))L=j;else throw Error(f+y+" invalid: "+j)}else throw Error(f+"Object expected: "+h);return{DECIMAL_PLACES:oe,ROUNDING_MODE:le,EXPONENTIAL_AT:[ce,ae],RANGE:[fe,ge],CRYPTO:ie,MODULO_MODE:z,POW_PRECISION:J,FORMAT:M,ALPHABET:L}},D.isBigNumber=function(h){if(!h||h._isBigNumber!==!0)return!1;if(!D.DEBUG)return!0;var y,j,K=h.c,w=h.e,H=h.s;e:if({}.toString.call(K)=="[object Array]"){if((H===1||H===-1)&&w>=-O&&w<=O&&w===u(w)){if(K[0]===0){if(w===0&&K.length===1)return!0;break e}if(y=(w+1)%_,y<1&&(y+=_),String(K[0]).length==y){for(y=0;y<K.length;y++)if(j=K[y],j<0||j>=p||j!==u(j))break e;if(j!==0)return!0}}}else if(K===null&&w===null&&(H===null||H===1||H===-1))return!0;throw Error(f+"Invalid BigNumber: "+h)},D.maximum=D.max=function(){return ee(arguments,Q.lt)},D.minimum=D.min=function(){return ee(arguments,Q.gt)},D.random=(function(){var h=9007199254740992,y=Math.random()*h&2097151?function(){return u(Math.random()*h)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(j){var K,w,H,U,A,b=0,G=[],W=new D($);if(j==null?j=oe:S(j,0,O),U=a(j/_),ie)if(crypto.getRandomValues){for(K=crypto.getRandomValues(new Uint32Array(U*=2));b<U;)A=K[b]*131072+(K[b+1]>>>11),A>=9e15?(w=crypto.getRandomValues(new Uint32Array(2)),K[b]=w[0],K[b+1]=w[1]):(G.push(A%1e14),b+=2);b=U/2}else if(crypto.randomBytes){for(K=crypto.randomBytes(U*=7);b<U;)A=(K[b]&31)*281474976710656+K[b+1]*1099511627776+K[b+2]*4294967296+K[b+3]*16777216+(K[b+4]<<16)+(K[b+5]<<8)+K[b+6],A>=9e15?crypto.randomBytes(7).copy(K,b):(G.push(A%1e14),b+=7);b=U/7}else throw ie=!1,Error(f+"crypto unavailable");if(!ie)for(;b<U;)A=y(),A<9e15&&(G[b++]=A%1e14);for(U=G[--b],j%=_,U&&j&&(A=E[_-j],G[b]=u(U/A)*A);G[b]===0;G.pop(),b--);if(b<0)G=[H=0];else{for(H=-1;G[0]===0;G.splice(0,1),H-=_);for(b=1,A=G[0];A>=10;A/=10,b++);b<_&&(H-=_-b)}return W.e=H,W.c=G,W}})(),D.sum=function(){for(var h=1,y=arguments,j=new D(y[0]);h<y.length;)j=j.plus(y[h++]);return j},X=(function(){var h="0123456789";function y(j,K,w,H){for(var U,A=[0],b,G=0,W=j.length;G<W;){for(b=A.length;b--;A[b]*=K);for(A[0]+=H.indexOf(j.charAt(G++)),U=0;U<A.length;U++)A[U]>w-1&&(A[U+1]==null&&(A[U+1]=0),A[U+1]+=A[U]/w|0,A[U]%=w)}return A.reverse()}return function(j,K,w,H,U){var A,b,G,W,q,pe,me,ve,ye=j.indexOf("."),Se=oe,je=le;for(ye>=0&&(W=J,J=0,j=j.replace(".",""),ve=new D(K),pe=ve.pow(j.length-ye),J=W,ve.c=y(R(k(pe.c),pe.e,"0"),10,w,h),ve.e=ve.c.length),me=y(j,K,w,U?(A=L,h):(A=h,L)),G=W=me.length;me[--W]==0;me.pop());if(!me[0])return A.charAt(0);if(ye<0?--G:(pe.c=me,pe.e=G,pe.s=H,pe=I(pe,ve,Se,je,w),me=pe.c,q=pe.r,G=pe.e),b=G+Se+1,ye=me[b],W=w/2,q=q||b<0||me[b+1]!=null,q=je<4?(ye!=null||q)&&(je==0||je==(pe.s<0?3:2)):ye>W||ye==W&&(je==4||q||je==6&&me[b-1]&1||je==(pe.s<0?8:7)),b<1||!me[0])j=q?R(A.charAt(1),-Se,A.charAt(0)):A.charAt(0);else{if(me.length=b,q)for(--w;++me[--b]>w;)me[b]=0,b||(++G,me=[1].concat(me));for(W=me.length;!me[--W];);for(ye=0,j="";ye<=W;j+=A.charAt(me[ye++]));j=R(j,G,A.charAt(0))}return j}})(),I=(function(){function h(K,w,H){var U,A,b,G,W=0,q=K.length,pe=w%P,me=w/P|0;for(K=K.slice();q--;)b=K[q]%P,G=K[q]/P|0,U=me*b+G*pe,A=pe*b+U%P*P+W,W=(A/H|0)+(U/P|0)+me*G,K[q]=A%H;return W&&(K=[W].concat(K)),K}function y(K,w,H,U){var A,b;if(H!=U)b=H>U?1:-1;else for(A=b=0;A<H;A++)if(K[A]!=w[A]){b=K[A]>w[A]?1:-1;break}return b}function j(K,w,H,U){for(var A=0;H--;)K[H]-=A,A=K[H]<w[H]?1:0,K[H]=A*U+K[H]-w[H];for(;!K[0]&&K.length>1;K.splice(0,1));}return function(K,w,H,U,A){var b,G,W,q,pe,me,ve,ye,Se,je,be,Ae,De,m,T,ne,he,Ee=K.s==w.s?1:-1,Pe=K.c,Oe=w.c;if(!Pe||!Pe[0]||!Oe||!Oe[0])return new D(!K.s||!w.s||(Pe?Oe&&Pe[0]==Oe[0]:!Oe)?NaN:Pe&&Pe[0]==0||!Oe?Ee*0:Ee/0);for(ye=new D(Ee),Se=ye.c=[],G=K.e-w.e,Ee=H+G+1,A||(A=p,G=B(K.e/_)-B(w.e/_),Ee=Ee/_|0),W=0;Oe[W]==(Pe[W]||0);W++);if(Oe[W]>(Pe[W]||0)&&G--,Ee<0)Se.push(1),q=!0;else{for(m=Pe.length,ne=Oe.length,W=0,Ee+=2,pe=u(A/(Oe[0]+1)),pe>1&&(Oe=h(Oe,pe,A),Pe=h(Pe,pe,A),ne=Oe.length,m=Pe.length),De=ne,je=Pe.slice(0,ne),be=je.length;be<ne;je[be++]=0);he=Oe.slice(),he=[0].concat(he),T=Oe[0],Oe[1]>=A/2&&T++;do{if(pe=0,b=y(Oe,je,ne,be),b<0){if(Ae=je[0],ne!=be&&(Ae=Ae*A+(je[1]||0)),pe=u(Ae/T),pe>1)for(pe>=A&&(pe=A-1),me=h(Oe,pe,A),ve=me.length,be=je.length;y(me,je,ve,be)==1;)pe--,j(me,ne<ve?he:Oe,ve,A),ve=me.length,b=1;else pe==0&&(b=pe=1),me=Oe.slice(),ve=me.length;if(ve<be&&(me=[0].concat(me)),j(je,me,be,A),be=je.length,b==-1)for(;y(Oe,je,ne,be)<1;)pe++,j(je,ne<be?he:Oe,be,A),be=je.length}else b===0&&(pe++,je=[0]);Se[W++]=pe,je[0]?je[be++]=Pe[De]||0:(je=[Pe[De]],be=1)}while((De++<m||je[0]!=null)&&Ee--);q=je[0]!=null,Se[0]||Se.splice(0,1)}if(A==p){for(W=1,Ee=Se[0];Ee>=10;Ee/=10,W++);re(ye,H+(ye.e=W+G*_-1)+1,U,q)}else ye.e=G,ye.r=+q;return ye}})();function Y(h,y,j,K){var w,H,U,A,b;if(j==null?j=le:S(j,0,8),!h.c)return h.toString();if(w=h.c[0],U=h.e,y==null)b=k(h.c),b=K==1||K==2&&(U<=ce||U>=ae)?g(b,U):R(b,U,"0");else if(h=re(new D(h),y,j),H=h.e,b=k(h.c),A=b.length,K==1||K==2&&(y<=H||H<=ce)){for(;A<y;b+="0",A++);b=g(b,H)}else if(y-=U,b=R(b,H,"0"),H+1>A){if(--y>0)for(b+=".";y--;b+="0");}else if(y+=H-A,y>0)for(H+1==A&&(b+=".");y--;b+="0");return h.s<0&&w?"-"+b:b}function ee(h,y){for(var j,K=1,w=new D(h[0]);K<h.length;K++)if(j=new D(h[K]),j.s)y.call(w,j)&&(w=j);else{w=j;break}return w}function ue(h,y,j){for(var K=1,w=y.length;!y[--w];y.pop());for(w=y[0];w>=10;w/=10,K++);return(j=K+j*_-1)>ge?h.c=h.e=null:j<fe?h.c=[h.e=0]:(h.e=j,h.c=y),h}se=(function(){var h=/^(-?)0([xbo])(?=\w[\w.]*$)/i,y=/^([^.]+)\.$/,j=/^\.([^.]+)$/,K=/^-?(Infinity|NaN)$/,w=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(H,U,A,b){var G,W=A?U:U.replace(w,"");if(K.test(W))H.s=isNaN(W)?null:W<0?-1:1;else{if(!A&&(W=W.replace(h,function(q,pe,me){return G=(me=me.toLowerCase())=="x"?16:me=="b"?2:8,!b||b==G?pe:q}),b&&(G=b,W=W.replace(y,"$1").replace(j,"0.$1")),U!=W))return new D(W,G);if(D.DEBUG)throw Error(f+"Not a"+(b?" base "+b:"")+" number: "+U);H.s=null}H.c=H.e=null}})();function re(h,y,j,K){var w,H,U,A,b,G,W,q=h.c,pe=E;if(q){e:{for(w=1,A=q[0];A>=10;A/=10,w++);if(H=y-w,H<0)H+=_,U=y,b=q[G=0],W=b/pe[w-U-1]%10|0;else if(G=a((H+1)/_),G>=q.length)if(K){for(;q.length<=G;q.push(0));b=W=0,w=1,H%=_,U=H-_+1}else break e;else{for(b=A=q[G],w=1;A>=10;A/=10,w++);H%=_,U=H-_+w,W=U<0?0:b/pe[w-U-1]%10|0}if(K=K||y<0||q[G+1]!=null||(U<0?b:b%pe[w-U-1]),K=j<4?(W||K)&&(j==0||j==(h.s<0?3:2)):W>5||W==5&&(j==4||K||j==6&&(H>0?U>0?b/pe[w-U]:0:q[G-1])%10&1||j==(h.s<0?8:7)),y<1||!q[0])return q.length=0,K?(y-=h.e+1,q[0]=pe[(_-y%_)%_],h.e=-y||0):q[0]=h.e=0,h;if(H==0?(q.length=G,A=1,G--):(q.length=G+1,A=pe[_-H],q[G]=U>0?u(b/pe[w-U]%pe[U])*A:0),K)for(;;)if(G==0){for(H=1,U=q[0];U>=10;U/=10,H++);for(U=q[0]+=A,A=1;U>=10;U/=10,A++);H!=A&&(h.e++,q[0]==p&&(q[0]=1));break}else{if(q[G]+=A,q[G]!=p)break;q[G--]=0,A=1}for(H=q.length;q[--H]===0;q.pop());}h.e>ge?h.c=h.e=null:h.e<fe&&(h.c=[h.e=0])}return h}function _e(h){var y,j=h.e;return j===null?h.toString():(y=k(h.c),y=j<=ce||j>=ae?g(y,j):R(y,j,"0"),h.s<0?"-"+y:y)}return Q.absoluteValue=Q.abs=function(){var h=new D(this);return h.s<0&&(h.s=1),h},Q.comparedTo=function(h,y){return Z(this,new D(h,y))},Q.decimalPlaces=Q.dp=function(h,y){var j,K,w,H=this;if(h!=null)return S(h,0,O),y==null?y=le:S(y,0,8),re(new D(H),h+H.e+1,y);if(!(j=H.c))return null;if(K=((w=j.length-1)-B(this.e/_))*_,w=j[w])for(;w%10==0;w/=10,K--);return K<0&&(K=0),K},Q.dividedBy=Q.div=function(h,y){return I(this,new D(h,y),oe,le)},Q.dividedToIntegerBy=Q.idiv=function(h,y){return I(this,new D(h,y),0,1)},Q.exponentiatedBy=Q.pow=function(h,y){var j,K,w,H,U,A,b,G,W,q=this;if(h=new D(h),h.c&&!h.isInteger())throw Error(f+"Exponent not an integer: "+_e(h));if(y!=null&&(y=new D(y)),A=h.e>14,!q.c||!q.c[0]||q.c[0]==1&&!q.e&&q.c.length==1||!h.c||!h.c[0])return W=new D(Math.pow(+_e(q),A?2-F(h):+_e(h))),y?W.mod(y):W;if(b=h.s<0,y){if(y.c?!y.c[0]:!y.s)return new D(NaN);K=!b&&q.isInteger()&&y.isInteger(),K&&(q=q.mod(y))}else{if(h.e>9&&(q.e>0||q.e<-1||(q.e==0?q.c[0]>1||A&&q.c[1]>=24e7:q.c[0]<8e13||A&&q.c[0]<=9999975e7)))return H=q.s<0&&F(h)?-0:0,q.e>-1&&(H=1/H),new D(b?1/H:H);J&&(H=a(J/_+2))}for(A?(j=new D(.5),b&&(h.s=1),G=F(h)):(w=Math.abs(+_e(h)),G=w%2),W=new D($);;){if(G){if(W=W.times(q),!W.c)break;H?W.c.length>H&&(W.c.length=H):K&&(W=W.mod(y))}if(w){if(w=u(w/2),w===0)break;G=w%2}else if(h=h.times(j),re(h,h.e+1,1),h.e>14)G=F(h);else{if(w=+_e(h),w===0)break;G=w%2}q=q.times(q),H?q.c&&q.c.length>H&&(q.c.length=H):K&&(q=q.mod(y))}return K?W:(b&&(W=$.div(W)),y?W.mod(y):H?re(W,J,le,U):W)},Q.integerValue=function(h){var y=new D(this);return h==null?h=le:S(h,0,8),re(y,y.e+1,h)},Q.isEqualTo=Q.eq=function(h,y){return Z(this,new D(h,y))===0},Q.isFinite=function(){return!!this.c},Q.isGreaterThan=Q.gt=function(h,y){return Z(this,new D(h,y))>0},Q.isGreaterThanOrEqualTo=Q.gte=function(h,y){return(y=Z(this,new D(h,y)))===1||y===0},Q.isInteger=function(){return!!this.c&&B(this.e/_)>this.c.length-2},Q.isLessThan=Q.lt=function(h,y){return Z(this,new D(h,y))<0},Q.isLessThanOrEqualTo=Q.lte=function(h,y){return(y=Z(this,new D(h,y)))===-1||y===0},Q.isNaN=function(){return!this.s},Q.isNegative=function(){return this.s<0},Q.isPositive=function(){return this.s>0},Q.isZero=function(){return!!this.c&&this.c[0]==0},Q.minus=function(h,y){var j,K,w,H,U=this,A=U.s;if(h=new D(h,y),y=h.s,!A||!y)return new D(NaN);if(A!=y)return h.s=-y,U.plus(h);var b=U.e/_,G=h.e/_,W=U.c,q=h.c;if(!b||!G){if(!W||!q)return W?(h.s=-y,h):new D(q?U:NaN);if(!W[0]||!q[0])return q[0]?(h.s=-y,h):new D(W[0]?U:le==3?-0:0)}if(b=B(b),G=B(G),W=W.slice(),A=b-G){for((H=A<0)?(A=-A,w=W):(G=b,w=q),w.reverse(),y=A;y--;w.push(0));w.reverse()}else for(K=(H=(A=W.length)<(y=q.length))?A:y,A=y=0;y<K;y++)if(W[y]!=q[y]){H=W[y]<q[y];break}if(H&&(w=W,W=q,q=w,h.s=-h.s),y=(K=q.length)-(j=W.length),y>0)for(;y--;W[j++]=0);for(y=p-1;K>A;){if(W[--K]<q[K]){for(j=K;j&&!W[--j];W[j]=y);--W[j],W[K]+=p}W[K]-=q[K]}for(;W[0]==0;W.splice(0,1),--G);return W[0]?ue(h,W,G):(h.s=le==3?-1:1,h.c=[h.e=0],h)},Q.modulo=Q.mod=function(h,y){var j,K,w=this;return h=new D(h,y),!w.c||!h.s||h.c&&!h.c[0]?new D(NaN):!h.c||w.c&&!w.c[0]?new D(w):(z==9?(K=h.s,h.s=1,j=I(w,h,0,3),h.s=K,j.s*=K):j=I(w,h,0,z),h=w.minus(j.times(h)),!h.c[0]&&z==1&&(h.s=w.s),h)},Q.multipliedBy=Q.times=function(h,y){var j,K,w,H,U,A,b,G,W,q,pe,me,ve,ye,Se,je=this,be=je.c,Ae=(h=new D(h,y)).c;if(!be||!Ae||!be[0]||!Ae[0])return!je.s||!h.s||be&&!be[0]&&!Ae||Ae&&!Ae[0]&&!be?h.c=h.e=h.s=null:(h.s*=je.s,!be||!Ae?h.c=h.e=null:(h.c=[0],h.e=0)),h;for(K=B(je.e/_)+B(h.e/_),h.s*=je.s,b=be.length,q=Ae.length,b<q&&(ve=be,be=Ae,Ae=ve,w=b,b=q,q=w),w=b+q,ve=[];w--;ve.push(0));for(ye=p,Se=P,w=q;--w>=0;){for(j=0,pe=Ae[w]%Se,me=Ae[w]/Se|0,U=b,H=w+U;H>w;)G=be[--U]%Se,W=be[U]/Se|0,A=me*G+W*pe,G=pe*G+A%Se*Se+ve[H]+j,j=(G/ye|0)+(A/Se|0)+me*W,ve[H--]=G%ye;ve[H]=j}return j?++K:ve.splice(0,1),ue(h,ve,K)},Q.negated=function(){var h=new D(this);return h.s=-h.s||null,h},Q.plus=function(h,y){var j,K=this,w=K.s;if(h=new D(h,y),y=h.s,!w||!y)return new D(NaN);if(w!=y)return h.s=-y,K.minus(h);var H=K.e/_,U=h.e/_,A=K.c,b=h.c;if(!H||!U){if(!A||!b)return new D(w/0);if(!A[0]||!b[0])return b[0]?h:new D(A[0]?K:w*0)}if(H=B(H),U=B(U),A=A.slice(),w=H-U){for(w>0?(U=H,j=b):(w=-w,j=A),j.reverse();w--;j.push(0));j.reverse()}for(w=A.length,y=b.length,w-y<0&&(j=b,b=A,A=j,y=w),w=0;y;)w=(A[--y]=A[y]+b[y]+w)/p|0,A[y]=p===A[y]?0:A[y]%p;return w&&(A=[w].concat(A),++U),ue(h,A,U)},Q.precision=Q.sd=function(h,y){var j,K,w,H=this;if(h!=null&&h!==!!h)return S(h,1,O),y==null?y=le:S(y,0,8),re(new D(H),h,y);if(!(j=H.c))return null;if(w=j.length-1,K=w*_+1,w=j[w]){for(;w%10==0;w/=10,K--);for(w=j[0];w>=10;w/=10,K++);}return h&&H.e+1>K&&(K=H.e+1),K},Q.shiftedBy=function(h){return S(h,-x,x),this.times("1e"+h)},Q.squareRoot=Q.sqrt=function(){var h,y,j,K,w,H=this,U=H.c,A=H.s,b=H.e,G=oe+4,W=new D("0.5");if(A!==1||!U||!U[0])return new D(!A||A<0&&(!U||U[0])?NaN:U?H:1/0);if(A=Math.sqrt(+_e(H)),A==0||A==1/0?(y=k(U),(y.length+b)%2==0&&(y+="0"),A=Math.sqrt(+y),b=B((b+1)/2)-(b<0||b%2),A==1/0?y="5e"+b:(y=A.toExponential(),y=y.slice(0,y.indexOf("e")+1)+b),j=new D(y)):j=new D(A+""),j.c[0]){for(b=j.e,A=b+G,A<3&&(A=0);;)if(w=j,j=W.times(w.plus(I(H,w,G,1))),k(w.c).slice(0,A)===(y=k(j.c)).slice(0,A))if(j.e<b&&--A,y=y.slice(A-3,A+1),y=="9999"||!K&&y=="4999"){if(!K&&(re(w,w.e+oe+2,0),w.times(w).eq(H))){j=w;break}G+=4,A+=4,K=1}else{(!+y||!+y.slice(1)&&y.charAt(0)=="5")&&(re(j,j.e+oe+2,1),h=!j.times(j).eq(H));break}}return re(j,j.e+oe+1,le,h)},Q.toExponential=function(h,y){return h!=null&&(S(h,0,O),h++),Y(this,h,y,1)},Q.toFixed=function(h,y){return h!=null&&(S(h,0,O),h=h+this.e+1),Y(this,h,y)},Q.toFormat=function(h,y,j){var K,w=this;if(j==null)h!=null&&y&&typeof y=="object"?(j=y,y=null):h&&typeof h=="object"?(j=h,h=y=null):j=M;else if(typeof j!="object")throw Error(f+"Argument not an object: "+j);if(K=w.toFixed(h,y),w.c){var H,U=K.split("."),A=+j.groupSize,b=+j.secondaryGroupSize,G=j.groupSeparator||"",W=U[0],q=U[1],pe=w.s<0,me=pe?W.slice(1):W,ve=me.length;if(b&&(H=A,A=b,b=H,ve-=H),A>0&&ve>0){for(H=ve%A||A,W=me.substr(0,H);H<ve;H+=A)W+=G+me.substr(H,A);b>0&&(W+=G+me.slice(H)),pe&&(W="-"+W)}K=q?W+(j.decimalSeparator||"")+((b=+j.fractionGroupSize)?q.replace(new RegExp("\\d{"+b+"}\\B","g"),"$&"+(j.fractionGroupSeparator||"")):q):W}return(j.prefix||"")+K+(j.suffix||"")},Q.toFraction=function(h){var y,j,K,w,H,U,A,b,G,W,q,pe,me=this,ve=me.c;if(h!=null&&(A=new D(h),!A.isInteger()&&(A.c||A.s!==1)||A.lt($)))throw Error(f+"Argument "+(A.isInteger()?"out of range: ":"not an integer: ")+_e(A));if(!ve)return new D(me);for(y=new D($),G=j=new D($),K=b=new D($),pe=k(ve),H=y.e=pe.length-me.e-1,y.c[0]=E[(U=H%_)<0?_+U:U],h=!h||A.comparedTo(y)>0?H>0?y:G:A,U=ge,ge=1/0,A=new D(pe),b.c[0]=0;W=I(A,y,0,1),w=j.plus(W.times(K)),w.comparedTo(h)!=1;)j=K,K=w,G=b.plus(W.times(w=G)),b=w,y=A.minus(W.times(w=y)),A=w;return w=I(h.minus(j),K,0,1),b=b.plus(w.times(G)),j=j.plus(w.times(K)),b.s=G.s=me.s,H=H*2,q=I(G,K,H,le).minus(me).abs().comparedTo(I(b,j,H,le).minus(me).abs())<1?[G,K]:[b,j],ge=U,q},Q.toNumber=function(){return+_e(this)},Q.toPrecision=function(h,y){return h!=null&&S(h,1,O),Y(this,h,y,2)},Q.toString=function(h){var y,j=this,K=j.s,w=j.e;return w===null?K?(y="Infinity",K<0&&(y="-"+y)):y="NaN":(h==null?y=w<=ce||w>=ae?g(k(j.c),w):R(k(j.c),w,"0"):h===10?(j=re(new D(j),oe+w+1,le),y=R(k(j.c),j.e,"0")):(S(h,2,L.length,"Base"),y=X(R(k(j.c),w,"0"),10,h,K,!0)),K<0&&j.c[0]&&(y="-"+y)),y},Q.valueOf=Q.toJSON=function(){return _e(this)},Q._isBigNumber=!0,N!=null&&D.set(N),D}function B(N){var I=N|0;return N>0||N===I?I:I-1}function k(N){for(var I,X,se=1,Q=N.length,$=N[0]+"";se<Q;){for(I=N[se++]+"",X=_-I.length;X--;I="0"+I);$+=I}for(Q=$.length;$.charCodeAt(--Q)===48;);return $.slice(0,Q+1||1)}function Z(N,I){var X,se,Q=N.c,$=I.c,oe=N.s,le=I.s,ce=N.e,ae=I.e;if(!oe||!le)return null;if(X=Q&&!Q[0],se=$&&!$[0],X||se)return X?se?0:-le:oe;if(oe!=le)return oe;if(X=oe<0,se=ce==ae,!Q||!$)return se?0:!Q^X?1:-1;if(!se)return ce>ae^X?1:-1;for(le=(ce=Q.length)<(ae=$.length)?ce:ae,oe=0;oe<le;oe++)if(Q[oe]!=$[oe])return Q[oe]>$[oe]^X?1:-1;return ce==ae?0:ce>ae^X?1:-1}function S(N,I,X,se){if(N<I||N>X||N!==u(N))throw Error(f+(se||"Argument")+(typeof N=="number"?N<I||N>X?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function F(N){var I=N.c.length-1;return B(N.e/_)==I&&N.c[I]%2!=0}function g(N,I){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+(I<0?"e":"e+")+I}function R(N,I,X){var se,Q;if(I<0){for(Q=X+".";++I;Q+=X);N=Q+N}else if(se=N.length,++I>se){for(Q=X,I-=se;--I;Q+=X);N+=Q}else I<se&&(N=N.slice(0,I)+"."+N.slice(I));return N}n=C(),n.default=n.BigNumber=n,s=(function(){return n}).call(d,e,d,r),s!==void 0&&(r.exports=s)})(this)}),"./node_modules/events/events.js":(r=>{"use strict";var d=typeof Reflect=="object"?Reflect:null,e=d&&typeof d.apply=="function"?d.apply:function(F,g,R){return Function.prototype.apply.call(F,g,R)},s;d&&typeof d.ownKeys=="function"?s=d.ownKeys:Object.getOwnPropertySymbols?s=function(F){return Object.getOwnPropertyNames(F).concat(Object.getOwnPropertySymbols(F))}:s=function(F){return Object.getOwnPropertyNames(F)};function o(S){console&&console.warn&&console.warn(S)}var n=Number.isNaN||function(F){return F!==F};function i(){i.init.call(this)}r.exports=i,r.exports.once=B,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function u(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number"||S<0||n(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");a=S}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||n(F))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+F+".");return this._maxListeners=F,this};function f(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}i.prototype.getMaxListeners=function(){return f(this)},i.prototype.emit=function(F){for(var g=[],R=1;R<arguments.length;R++)g.push(arguments[R]);var N=F==="error",I=this._events;if(I!==void 0)N=N&&I.error===void 0;else if(!N)return!1;if(N){var X;if(g.length>0&&(X=g[0]),X instanceof Error)throw X;var se=new Error("Unhandled error."+(X?" ("+X.message+")":""));throw se.context=X,se}var Q=I[F];if(Q===void 0)return!1;if(typeof Q=="function")e(Q,this,g);else for(var $=Q.length,oe=P(Q,$),R=0;R<$;++R)e(oe[R],this,g);return!0};function c(S,F,g,R){var N,I,X;if(u(g),I=S._events,I===void 0?(I=S._events=Object.create(null),S._eventsCount=0):(I.newListener!==void 0&&(S.emit("newListener",F,g.listener?g.listener:g),I=S._events),X=I[F]),X===void 0)X=I[F]=g,++S._eventsCount;else if(typeof X=="function"?X=I[F]=R?[g,X]:[X,g]:R?X.unshift(g):X.push(g),N=f(S),N>0&&X.length>N&&!X.warned){X.warned=!0;var se=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(F)+" listeners added. Use emitter.setMaxListeners() to increase limit");se.name="MaxListenersExceededWarning",se.emitter=S,se.type=F,se.count=X.length,o(se)}return S}i.prototype.addListener=function(F,g){return c(this,F,g,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(F,g){return c(this,F,g,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(S,F,g){var R={fired:!1,wrapFn:void 0,target:S,type:F,listener:g},N=p.bind(R);return N.listener=g,R.wrapFn=N,N}i.prototype.once=function(F,g){return u(g),this.on(F,_(this,F,g)),this},i.prototype.prependOnceListener=function(F,g){return u(g),this.prependListener(F,_(this,F,g)),this},i.prototype.removeListener=function(F,g){var R,N,I,X,se;if(u(g),N=this._events,N===void 0)return this;if(R=N[F],R===void 0)return this;if(R===g||R.listener===g)--this._eventsCount===0?this._events=Object.create(null):(delete N[F],N.removeListener&&this.emit("removeListener",F,R.listener||g));else if(typeof R!="function"){for(I=-1,X=R.length-1;X>=0;X--)if(R[X]===g||R[X].listener===g){se=R[X].listener,I=X;break}if(I<0)return this;I===0?R.shift():O(R,I),R.length===1&&(N[F]=R[0]),N.removeListener!==void 0&&this.emit("removeListener",F,se||g)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(F){var g,R,N;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[F]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[F]),this;if(arguments.length===0){var I=Object.keys(R),X;for(N=0;N<I.length;++N)X=I[N],X!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(g=R[F],typeof g=="function")this.removeListener(F,g);else if(g!==void 0)for(N=g.length-1;N>=0;N--)this.removeListener(F,g[N]);return this};function x(S,F,g){var R=S._events;if(R===void 0)return[];var N=R[F];return N===void 0?[]:typeof N=="function"?g?[N.listener||N]:[N]:g?C(N):P(N,N.length)}i.prototype.listeners=function(F){return x(this,F,!0)},i.prototype.rawListeners=function(F){return x(this,F,!1)},i.listenerCount=function(S,F){return typeof S.listenerCount=="function"?S.listenerCount(F):E.call(S,F)},i.prototype.listenerCount=E;function E(S){var F=this._events;if(F!==void 0){var g=F[S];if(typeof g=="function")return 1;if(g!==void 0)return g.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function P(S,F){for(var g=new Array(F),R=0;R<F;++R)g[R]=S[R];return g}function O(S,F){for(;F+1<S.length;F++)S[F]=S[F+1];S.pop()}function C(S){for(var F=new Array(S.length),g=0;g<F.length;++g)F[g]=S[g].listener||S[g];return F}function B(S,F){return new Promise(function(g,R){function N(X){S.removeListener(F,I),R(X)}function I(){typeof S.removeListener=="function"&&S.removeListener("error",N),g([].slice.call(arguments))}Z(S,F,I,{once:!0}),F!=="error"&&k(S,N,{once:!0})})}function k(S,F,g){typeof S.on=="function"&&Z(S,"error",F,g)}function Z(S,F,g,R){if(typeof S.on=="function")R.once?S.once(F,g):S.on(F,g);else if(typeof S.addEventListener=="function")S.addEventListener(F,function N(I){R.once&&S.removeEventListener(F,N),g(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}}),"./node_modules/ext-corb-workaround/dist/src/moduleId.js":((r,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.moduleId=void 0;var e="1f24 e53a";d.moduleId=e}),"./node_modules/ext-corb-workaround/dist/src/pageWorld.js":((r,d,e)=>{"use strict";var s=e("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(d,"__esModule",{value:!0}),d.init=a;var o=s(e("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=s(e("./node_modules/ext-corb-workaround/dist/src/transferrables.js")),i=e("./node_modules/ext-corb-workaround/dist/src/moduleId.js");function a(){var u=window.XMLHttpRequest;function f(c){if(!(!c.data||c.data.type!=="ext-corb-workaround_port"||c.data.moduleId!==i.moduleId||c.__ext_claimed)){c.__ext_claimed=!0,window.removeEventListener("message",f);var p=c.data.port,_={};p.addEventListener("message",function(x){var E=x.data.id;switch(x.data.type){case"NEW_XHR":{var P=_[E]=new u;P.addEventListener("readystatechange",function(){if(P.readyState===4){delete _[E];var g;try{g=P.responseText}catch{}p.postMessage({type:"COMPLETE",id:E,headers:P.getAllResponseHeaders(),readyState:P.readyState,status:P.status,statusText:P.statusText,responseURL:P.responseURL,response:P.response,responseText:g},(0,n.default)([P.response]))}});break}case"SET":{var O=x.data,C=O.prop,B=O.value;_[E][C]=B;break}case"CALL":{var k,Z=x.data,S=Z.method,F=Z.args;if(S==="abort"&&!_[E])break;(k=_[E])[S].apply(k,(0,o.default)(F));break}default:console.error("ext-corb-workaround: Unknown event in page world:",x)}}),p.addEventListener("messageerror",function(x){console.error("ext-corb-workaround: Unknown error in page world:",x)}),p.start()}}window.addEventListener("message",f)}}),"./node_modules/ext-corb-workaround/dist/src/transferrables.js":((r,d,e)=>{"use strict";var s=e("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(d,"__esModule",{value:!0}),d.default=n;var o=s(e("./node_modules/@babel/runtime/helpers/typeof.js"));function n(i){return i.map(function(a){if(a&&(0,o.default)(a)==="object"&&a.__proto__){if(a.__proto__.constructor.name==="ArrayBuffer")return a;if(a.__proto__.__proto__&&a.__proto__.__proto__.constructor.name==="TypedArray")return a.buffer}}).filter(Boolean)}}),"./node_modules/kefir/dist/kefir.esm.js":((r,d,e)=>{"use strict";e.r(d),e.d(d,{Kefir:()=>$e,Observable:()=>g,Pool:()=>Ke,Property:()=>N,Stream:()=>R,combine:()=>we,concat:()=>ke,constant:()=>j,constantError:()=>w,default:()=>nr,dissableDeprecationWarnings:()=>tr,fromCallback:()=>D,fromESObservable:()=>De,fromEvents:()=>h,fromNodeCallback:()=>Y,fromPoll:()=>ge,fromPromise:()=>me,interval:()=>le,later:()=>$,merge:()=>Ue,never:()=>X,pool:()=>Ut,repeat:()=>Ge,sequentially:()=>ae,staticLand:()=>Xe,stream:()=>L,withInterval:()=>J,zip:()=>Ve}),r=e.hmd(r);/*! Kefir.js v3.8.8
 *  https://github.com/kefirjs/kefir
 */function s(t){var l=function(){};return l.prototype=t,new l}function o(t){var l=arguments.length,v=void 0,V=void 0;for(v=1;v<l;v++)for(V in arguments[v])t[V]=arguments[v][V];return t}function n(t,l){var v=arguments.length,V=void 0;for(t.prototype=s(l.prototype),t.prototype.constructor=t,V=2;V<v;V++)o(t.prototype,arguments[V]);return t}var i=["<nothing>"],a="end",u="value",f="error",c="any";function p(t,l){var v=void 0,V=void 0,te=void 0,de=void 0;if(t.length===0)return l;if(l.length===0)return t;for(de=0,v=new Array(t.length+l.length),V=t.length,te=0;te<V;te++,de++)v[de]=t[te];for(V=l.length,te=0;te<V;te++,de++)v[de]=l[te];return v}function _(t,l){var v=t.length,V=void 0;for(V=0;V<v;V++)if(t[V]===l)return V;return-1}function x(t,l){var v=t.length,V=void 0;for(V=0;V<v;V++)if(l(t[V]))return V;return-1}function E(t){var l=t.length,v=new Array(l),V=void 0;for(V=0;V<l;V++)v[V]=t[V];return v}function P(t,l){var v=t.length,V=void 0,te=void 0,de=void 0;if(l>=0&&l<v){if(v===1)return[];for(V=new Array(v-1),te=0,de=0;te<v;te++)te!==l&&(V[de]=t[te],de++);return V}else return t}function O(t,l){var v=t.length,V=new Array(v),te=void 0;for(te=0;te<v;te++)V[te]=l(t[te]);return V}function C(t,l){var v=t.length,V=void 0;for(V=0;V<v;V++)l(t[V])}function B(t,l){var v=t.length,V=void 0;for(V=0;V<v;V++)t[V]=l}function k(t,l){return _(t,l)!==-1}function Z(t,l,v){var V=Math.min(v,t.length+1),te=t.length-V+1,de=new Array(V),xe=void 0;for(xe=te;xe<V;xe++)de[xe-te]=t[xe];return de[V-1]=l,de}function S(t,l,v){t===c?l(v):t===v.type&&(t===u||t===f?l(v.value):l())}function F(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}o(F.prototype,{add:function(t,l){return this._items=p(this._items,[{type:t,fn:l}]),this._items.length},remove:function(t,l){var v=x(this._items,function(V){return V.type===t&&V.fn===l});return this._inLoop!==0&&v!==-1&&(this._removedItems===null&&(this._removedItems=[]),this._removedItems.push(this._items[v])),this._items=P(this._items,v),this._items.length},addSpy:function(t){return this._spies=p(this._spies,[t]),this._spies.length},removeSpy:function(t){return this._spies=P(this._spies,this._spies.indexOf(t)),this._spies.length},dispatch:function(t){this._inLoop++;for(var l=0,v=this._spies;this._spies!==null&&l<v.length;l++)v[l](t);for(var V=0,te=this._items;V<te.length&&this._items!==null;V++)this._removedItems!==null&&k(this._removedItems,te[V])||S(te[V].type,te[V].fn,t);this._inLoop--,this._inLoop===0&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}});function g(){this._dispatcher=new F,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}o(g.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,l){switch(t){case u:return this._emitValue(l);case f:return this._emitError(l);case a:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:u,value:t})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:f,value:t})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:a}),this._clear())},_on:function(t,l){return this._alive?(this._dispatcher.add(t,l),this._setActive(!0)):S(t,l,{type:a}),this},_off:function(t,l){if(this._alive){var v=this._dispatcher.remove(t,l);v===0&&this._setActive(!1)}return this},onValue:function(t){return this._on(u,t)},onError:function(t){return this._on(f,t)},onEnd:function(t){return this._on(a,t)},onAny:function(t){return this._on(c,t)},offValue:function(t){return this._off(u,t)},offError:function(t){return this._off(f,t)},offEnd:function(t){return this._off(a,t)},offAny:function(t){return this._off(c,t)},observe:function(t,l,v){var V=this,te=!1,de=!t||typeof t=="function"?{value:t,error:l,end:v}:t,xe=function(Ie){Ie.type===a&&(te=!0),Ie.type===u&&de.value?de.value(Ie.value):Ie.type===f&&de.error?de.error(Ie.value):Ie.type===a&&de.end&&de.end(Ie.value)};return this.onAny(xe),{unsubscribe:function(){te||(V.offAny(xe),te=!0)},get closed(){return te}}},_ofSameType:function(t,l){return t.prototype.getType()===this.getType()?t:l},setName:function(t,l){return this._name=l?t._name+"."+l:t,this},log:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString(),l=void 0,v=function(V){var te="<"+V.type+(l?":current":"")+">";V.type===a?console.log(t,te):console.log(t,te,V.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:v})),l=!0,this.onAny(v),l=!1,this},offLog:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._logHandlers){var l=x(this._logHandlers,function(v){return v.name===t});l!==-1&&(this.offAny(this._logHandlers[l].handler),this._logHandlers.splice(l,1))}return this},spy:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString(),l=function(v){var V="<"+v.type+">";v.type===a?console.log(t,V):console.log(t,V,v.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:t,handler:l}),this._dispatcher.addSpy(l)),this},offSpy:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._spyHandlers){var l=x(this._spyHandlers,function(v){return v.name===t});l!==-1&&(this._dispatcher.removeSpy(this._spyHandlers[l].handler),this._spyHandlers.splice(l,1))}return this}}),g.prototype.toString=function(){return"["+this._name+"]"};function R(){g.call(this)}n(R,g,{_name:"stream",getType:function(){return"stream"}});function N(){g.call(this),this._currentEvent=null}n(N,g,{_name:"property",_emitValue:function(t){this._alive&&(this._currentEvent={type:u,value:t},this._activating||this._dispatcher.dispatch({type:u,value:t}))},_emitError:function(t){this._alive&&(this._currentEvent={type:f,value:t},this._activating||this._dispatcher.dispatch({type:f,value:t}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:a}),this._clear())},_on:function(t,l){return this._alive&&(this._dispatcher.add(t,l),this._setActive(!0)),this._currentEvent!==null&&S(t,l,this._currentEvent),this._alive||S(t,l,{type:a}),this},getType:function(){return"property"}});var I=new R;I._emitEnd(),I._name="never";function X(){return I}function se(t){function l(v,V){var te=this;R.call(this),this._wait=v,this._intervalId=null,this._$onTick=function(){return te._onTick()},this._init(V)}return n(l,R,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){this._intervalId!==null&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){R.prototype._clear.call(this),this._$onTick=null,this._free()}},t),l}var Q=se({_name:"later",_init:function(t){var l=t.x;this._x=l},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});function $(t,l){return new Q(t,{x:l})}var oe=se({_name:"interval",_init:function(t){var l=t.x;this._x=l},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});function le(t,l){return new oe(t,{x:l})}var ce=se({_name:"sequentially",_init:function(t){var l=t.xs;this._xs=E(l)},_free:function(){this._xs=null},_onTick:function(){this._xs.length===1?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});function ae(t,l){return l.length===0?X():new ce(t,{xs:l})}var fe=se({_name:"fromPoll",_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}});function ge(t,l){return new fe(t,{fn:l})}function ie(t){function l(de){return t._emitValue(de),t._active}function v(de){return t._emitError(de),t._active}function V(){return t._emitEnd(),t._active}function te(de){return t._emit(de.type,de.value),t._active}return{value:l,error:v,end:V,event:te,emit:l,emitEvent:te}}var z=se({_name:"withInterval",_init:function(t){var l=t.fn;this._fn=l,this._emitter=ie(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var t=this._fn;t(this._emitter)}});function J(t,l){return new z(t,{fn:l})}function M(t){R.call(this),this._fn=t,this._unsubscribe=null}n(M,R,{_name:"stream",_onActivation:function(){var t=this._fn,l=t(ie(this));this._unsubscribe=typeof l=="function"?l:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){this._unsubscribe!==null&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){R.prototype._clear.call(this),this._fn=null}});function L(t){return new M(t)}function D(t){var l=!1;return L(function(v){l||(t(function(V){v.emit(V),v.end()}),l=!0)}).setName("fromCallback")}function Y(t){var l=!1;return L(function(v){l||(t(function(V,te){V?v.error(V):v.emit(te),v.end()}),l=!0)}).setName("fromNodeCallback")}function ee(t,l){switch(l){case 0:return function(){return t()};case 1:return function(v){return t(v[0])};case 2:return function(v){return t(v[0],v[1])};case 3:return function(v){return t(v[0],v[1],v[2])};case 4:return function(v){return t(v[0],v[1],v[2],v[3])};default:return function(v){return t.apply(null,v)}}}function ue(t,l,v){var V=v?v.length:0;if(l==null)switch(V){case 0:return t();case 1:return t(v[0]);case 2:return t(v[0],v[1]);case 3:return t(v[0],v[1],v[2]);case 4:return t(v[0],v[1],v[2],v[3]);default:return t.apply(null,v)}else switch(V){case 0:return t.call(l);default:return t.apply(l,v)}}function re(t,l,v){return L(function(V){var te=v?function(){V.emit(ue(v,this,arguments))}:function(de){V.emit(de)};return t(te),function(){return l(te)}}).setName("fromSubUnsub")}var _e=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];function h(t,l,v){for(var V=void 0,te=void 0,de=0;de<_e.length;de++)if(typeof t[_e[de][0]]=="function"&&typeof t[_e[de][1]]=="function"){V=_e[de][0],te=_e[de][1];break}if(V===void 0)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return re(function(xe){return t[V](l,xe)},function(xe){return t[te](l,xe)},v).setName("fromEvents")}function y(t){this._currentEvent={type:"value",value:t,current:!0}}n(y,N,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});function j(t){return new y(t)}function K(t){this._currentEvent={type:"error",value:t,current:!0}}n(K,N,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});function w(t){return new K(t)}function H(t,l){return function(V,te){var de=this;t.call(this),this._source=V,this._name=V._name+"."+l,this._init(te),this._$handleAny=function(xe){return de._handleAny(xe)}}}function U(t){return{_init:function(){},_free:function(){},_handleValue:function(l){this._emitValue(l)},_handleError:function(l){this._emitError(l)},_handleEnd:function(){this._emitEnd()},_handleAny:function(l){switch(l.type){case u:return this._handleValue(l.value);case f:return this._handleError(l.value);case a:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function A(t,l){var v=H(R,t);return n(v,R,U(R),l),v}function b(t,l){var v=H(N,t);return n(v,N,U(N),l),v}var G=b("toProperty",{_init:function(t){var l=t.fn;this._getInitialCurrent=l},_onActivation:function(){if(this._getInitialCurrent!==null){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}});function W(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(l!==null&&typeof l!="function")throw new Error("You should call toProperty() with a function or no arguments.");return new G(t,{fn:l})}var q=A("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}});function pe(t){return new q(t)}function me(t){var l=!1,v=L(function(V){if(!l){var te=function(Ie){V.emit(Ie),V.end()},de=function(Ie){V.error(Ie),V.end()},xe=t.then(te,de);xe&&typeof xe.done=="function"&&xe.done(),l=!0}});return W(v,null).setName("fromPromise")}function ve(){if(typeof Promise=="function")return Promise;throw new Error("There isn't default Promise, use shim or parameter")}var ye=function(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ve(),v=null;return new l(function(V,te){t.onAny(function(de){de.type===a&&v!==null?((v.type===u?V:te)(v.value),v=null):v=de})})};function Se(t){var l,v=t.Symbol;return typeof v=="function"?v.observable?l=v.observable:(l=v("observable"),v.observable=l):l="@@observable",l}var je;typeof self<"u"?je=self:typeof window<"u"?je=window:typeof e.g<"u"?je=e.g:je=r;var be=Se(je),Ae=be.default?be.default:be;function De(t){var l=t[Ae]?t[Ae]():t;return L(function(v){var V=l.subscribe({error:function(te){v.error(te),v.end()},next:function(te){v.emit(te)},complete:function(){v.end()}});return V.unsubscribe?function(){V.unsubscribe()}:V}).setName("fromESObservable")}function m(t){this._observable=t.takeErrors(1)}o(m.prototype,{subscribe:function(t,l,v){var V=this,te=typeof t=="function"?{next:t,error:l,complete:v}:t,de=function(Me){Me.type===a&&(xe=!0),Me.type===u&&te.next?te.next(Me.value):Me.type===f&&te.error?te.error(Me.value):Me.type===a&&te.complete&&te.complete(Me.value)};this._observable.onAny(de);var xe=!1,Ie={unsubscribe:function(){xe=!0,V._observable.offAny(de)},get closed(){return xe}};return Ie}}),m.prototype[Ae]=function(){return this};function T(){return new m(this)}function ne(t,l,v){for(var V in t)t.hasOwnProperty(V)&&(l.push(V),v.push(t[V]))}function he(t){for(var l=void 0,v=0;v<t.length;v++)t[v]!==void 0&&(l===void 0||l.index<t[v].index)&&(l=t[v]);return l.error}function Ee(t,l,v){var V=this;R.call(this),this._activeCount=t.length,this._sources=p(t,l),this._combinator=v,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),B(this._latestValues,i),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var te=function(xe){V._$handlers.push(function(Ie){return V._handleAny(xe,Ie)})},de=0;de<this._sources.length;de++)te(de)}n(Ee,R,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var t=this._activeCount;t<this._sources.length;t++)this._sources[t].onAny(this._$handlers[t]);for(var l=0;l<this._activeCount;l++)this._sources[l].onAny(this._$handlers[l]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var t=this._sources.length,l=void 0;for(l=0;l<t;l++)this._sources[l].offAny(this._$handlers[l])},_emitIfFull:function(){for(var t=!0,l=!1,v=this._latestValues.length,V=new Array(v),te=new Array(v),de=0;de<v;de++)V[de]=this._latestValues[de],te[de]=this._latestErrors[de],V[de]===i&&(t=!1),te[de]!==void 0&&(l=!0);if(t){var xe=this._combinator;this._emitValue(xe(V))}l&&this._emitError(he(te))},_handleAny:function(t,l){l.type===u||l.type===f?(l.type===u&&(this._latestValues[t]=l.value,this._latestErrors[t]=void 0),l.type===f&&(this._latestValues[t]=i,this._latestErrors[t]={index:this._latestErrorIndex++,error:l.value}),t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):t<this._activeCount&&(this._aliveCount--,this._aliveCount===0&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){R.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});function Pe(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=arguments[2];if(!Array.isArray(l))throw new Error("Combine can only combine active and passive collections of the same type.");return v=v?ee(v,t.length+l.length):function(V){return V},t.length===0?X():new Ee(t,l,v)}function Oe(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments[2];if(typeof l!="object"||Array.isArray(l))throw new Error("Combine can only combine active and passive collections of the same type.");var V=[],te=[],de=[];ne(t,V,te),ne(l,V,de);var xe=function(Ie){for(var Me={},We=Ie.length-1;0<=We;We--)Me[V[We]]=Ie[We];return v?v(Me):Me};return te.length===0?X():new Ee(te,de,xe)}function we(t,l,v){return typeof l=="function"&&(v=l,l=void 0),Array.isArray(t)?Pe(t,l,v):Oe(t,l,v)}var $t={empty:function(){return X()},concat:function(t,l){return t.merge(l)},of:function(t){return j(t)},map:function(t,l){return l.map(t)},bimap:function(t,l,v){return v.mapErrors(t).map(l)},ap:function(t,l){return we([t,l],function(v,V){return v(V)})},chain:function(t,l){return l.flatMap(t)}},Xe=Object.freeze({Observable:$t}),Je={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleValue:function(t){var l=this._fn;this._emitValue(l(t))}},Wt=A("map",Je),Ht=b("map",Je),Vt=function(t){return t};function He(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vt;return new(t._ofSameType(Wt,Ht))(t,{fn:l})}var Qe={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleValue:function(t){var l=this._fn;l(t)&&this._emitValue(t)}},Gt=A("filter",Qe),kt=b("filter",Qe),zt=function(t){return t};function Xt(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt;return new(t._ofSameType(Gt,kt))(t,{fn:l})}var Ye={_init:function(t){var l=t.n;this._n=l,l<=0&&this._emitEnd()},_handleValue:function(t){this._n!==0&&(this._n--,this._emitValue(t),this._n===0&&this._emitEnd())}},Jt=A("take",Ye),Qt=b("take",Ye);function Yt(t,l){return new(t._ofSameType(Jt,Qt))(t,{n:l})}var Ze={_init:function(t){var l=t.n;this._n=l,l<=0&&this._emitEnd()},_handleError:function(t){this._n!==0&&(this._n--,this._emitError(t),this._n===0&&this._emitEnd())}},Zt=A("takeErrors",Ze),qt=b("takeErrors",Ze);function en(t,l){return new(t._ofSameType(Zt,qt))(t,{n:l})}var qe={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleValue:function(t){var l=this._fn;l(t)?this._emitValue(t):this._emitEnd()}},tn=A("takeWhile",qe),nn=b("takeWhile",qe),sn=function(t){return t};function rn(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sn;return new(t._ofSameType(tn,nn))(t,{fn:l})}var et={_init:function(){this._lastValue=i},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==i&&this._emitValue(this._lastValue),this._emitEnd()}},on=A("last",et),an=b("last",et);function un(t){return new(t._ofSameType(on,an))(t)}var tt={_init:function(t){var l=t.n;this._n=Math.max(0,l)},_handleValue:function(t){this._n===0?this._emitValue(t):this._n--}},ln=A("skip",tt),dn=b("skip",tt);function fn(t,l){return new(t._ofSameType(ln,dn))(t,{n:l})}var nt={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleValue:function(t){var l=this._fn;this._fn!==null&&!l(t)&&(this._fn=null),this._fn===null&&this._emitValue(t)}},cn=A("skipWhile",nt),hn=b("skipWhile",nt),mn=function(t){return t};function pn(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mn;return new(t._ofSameType(cn,hn))(t,{fn:l})}var st={_init:function(t){var l=t.fn;this._fn=l,this._prev=i},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var l=this._fn;(this._prev===i||!l(this._prev,t))&&(this._prev=t,this._emitValue(t))}},_n=A("skipDuplicates",st),yn=b("skipDuplicates",st),gn=function(t,l){return t===l};function rt(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gn;return new(t._ofSameType(_n,yn))(t,{fn:l})}var ot={_init:function(t){var l=t.fn,v=t.seed;this._fn=l,this._prev=v},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==i){var l=this._fn;this._emitValue(l(this._prev,t))}this._prev=t}},vn=A("diff",ot),En=b("diff",ot);function jn(t,l){return[t,l]}function bn(t,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i;return new(t._ofSameType(vn,En))(t,{fn:l||jn,seed:v})}var xn=b("scan",{_init:function(t){var l=t.fn,v=t.seed;this._fn=l,this._seed=v,v!==i&&this._emitValue(v)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var l=this._fn;this._currentEvent===null||this._currentEvent.type===f?this._emitValue(this._seed===i?t:l(this._seed,t)):this._emitValue(l(this._currentEvent.value,t))}});function An(t,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i;return new xn(t,{fn:l,seed:v})}var Tn={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleValue:function(t){for(var l=this._fn,v=l(t),V=0;V<v.length;V++)this._emitValue(v[V])}},On=A("flatten",Tn),Sn=function(t){return t};function Pn(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sn;return new On(t,{fn:l})}var it={},at={_init:function(t){var l=this,v=t.wait;this._wait=Math.max(0,v),this._buff=[],this._$shiftBuff=function(){var V=l._buff.shift();V===it?l._emitEnd():l._emitValue(V)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(it),setTimeout(this._$shiftBuff,this._wait))}},In=A("delay",at),Mn=b("delay",at);function Dn(t,l){return new(t._ofSameType(In,Mn))(t,{wait:l})}var Ne=Date.now?function(){return Date.now()}:function(){return new Date().getTime()},ut={_init:function(t){var l=this,v=t.wait,V=t.leading,te=t.trailing;this._wait=Math.max(0,v),this._leading=V,this._trailing=te,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return l._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t){if(this._activating)this._emitValue(t);else{var l=Ne();this._lastCallTime===0&&!this._leading&&(this._lastCallTime=l);var v=this._wait-(l-this._lastCallTime);v<=0?(this._cancelTrailing(),this._lastCallTime=l,this._emitValue(t)):this._trailing&&(this._cancelTrailing(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,v))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){this._timeoutId!==null&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?Ne():0,this._endLater&&this._emitEnd()}},Cn=A("throttle",ut),wn=b("throttle",ut);function Ln(t,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V=v.leading,te=V===void 0?!0:V,de=v.trailing,xe=de===void 0?!0:de;return new(t._ofSameType(Cn,wn))(t,{wait:l,leading:te,trailing:xe})}var lt={_init:function(t){var l=this,v=t.wait,V=t.immediate;this._wait=Math.max(0,v),this._immediate=V,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return l._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._lastAttempt=Ne(),this._immediate&&!this._timeoutId&&this._emitValue(t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var t=Ne()-this._lastAttempt;if(t<this._wait&&t>=0)this._timeoutId=setTimeout(this._$later,this._wait-t);else{if(this._timeoutId=null,!this._immediate){var l=this._laterValue;this._laterValue=null,this._emitValue(l)}this._endLater&&this._emitEnd()}}},Rn=A("debounce",lt),Bn=b("debounce",lt);function Nn(t,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V=v.immediate,te=V===void 0?!1:V;return new(t._ofSameType(Rn,Bn))(t,{wait:l,immediate:te})}var dt={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleError:function(t){var l=this._fn;this._emitError(l(t))}},Un=A("mapErrors",dt),Kn=b("mapErrors",dt),Fn=function(t){return t};function $n(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fn;return new(t._ofSameType(Un,Kn))(t,{fn:l})}var ft={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleError:function(t){var l=this._fn;l(t)&&this._emitError(t)}},Wn=A("filterErrors",ft),Hn=b("filterErrors",ft),Vn=function(t){return t};function Gn(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vn;return new(t._ofSameType(Wn,Hn))(t,{fn:l})}var ct={_handleValue:function(){}},kn=A("ignoreValues",ct),zn=b("ignoreValues",ct);function Xn(t){return new(t._ofSameType(kn,zn))(t)}var ht={_handleError:function(){}},Jn=A("ignoreErrors",ht),Qn=b("ignoreErrors",ht);function Yn(t){return new(t._ofSameType(Jn,Qn))(t)}var mt={_handleEnd:function(){}},Zn=A("ignoreEnd",mt),qn=b("ignoreEnd",mt);function es(t){return new(t._ofSameType(Zn,qn))(t)}var pt={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleEnd:function(){var t=this._fn;this._emitValue(t()),this._emitEnd()}},ts=A("beforeEnd",pt),ns=b("beforeEnd",pt);function ss(t,l){return new(t._ofSameType(ts,ns))(t,{fn:l})}var _t={_init:function(t){var l=t.min,v=t.max;this._max=v,this._min=l,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t){this._buff=Z(this._buff,t,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},rs=A("slidingWindow",_t),os=b("slidingWindow",_t);function is(t,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new(t._ofSameType(rs,os))(t,{min:v,max:l})}var yt={_init:function(t){var l=t.fn,v=t.flushOnEnd;this._fn=l,this._flushOnEnd=v,this._buff=[]},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&this._buff.length!==0&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t);var l=this._fn;l(t)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},as=A("bufferWhile",yt),us=b("bufferWhile",yt),ls=function(t){return t};function ds(t,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V=v.flushOnEnd,te=V===void 0?!0:V;return new(t._ofSameType(as,us))(t,{fn:l||ls,flushOnEnd:te})}var gt={_init:function(t){var l=t.count,v=t.flushOnEnd;this._count=l,this._flushOnEnd=v,this._buff=[]},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&this._buff.length!==0&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},fs=A("bufferWithCount",gt),cs=b("bufferWithCount",gt);function hs(t,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V=v.flushOnEnd,te=V===void 0?!0:V;return new(t._ofSameType(fs,cs))(t,{count:l,flushOnEnd:te})}var vt={_init:function(t){var l=this,v=t.wait,V=t.count,te=t.flushOnEnd;this._wait=v,this._count=V,this._flushOnEnd=te,this._intervalId=null,this._$onTick=function(){return l._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&this._buff.length!==0&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._intervalId!==null&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},ms=A("bufferWithTimeOrCount",vt),ps=b("bufferWithTimeOrCount",vt);function _s(t,l,v){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},te=V.flushOnEnd,de=te===void 0?!0:te;return new(t._ofSameType(ms,ps))(t,{wait:l,count:v,flushOnEnd:de})}function ys(t){return{"@@transducer/step":function(l,v){return t._emitValue(v),null},"@@transducer/result":function(){return t._emitEnd(),null}}}var Et={_init:function(t){var l=t.transducer;this._xform=l(ys(this))},_free:function(){this._xform=null},_handleValue:function(t){this._xform["@@transducer/step"](null,t)!==null&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},gs=A("transduce",Et),vs=b("transduce",Et);function Es(t,l){return new(t._ofSameType(gs,vs))(t,{transducer:l})}var jt={_init:function(t){var l=t.fn;this._handler=l,this._emitter=ie(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._handler(this._emitter,t)}},js=A("withHandler",jt),bs=b("withHandler",jt);function xs(t,l){return new(t._ofSameType(js,bs))(t,{fn:l})}var bt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function xt(t,l){var v=this;R.call(this),this._buffers=O(t,function(de){return bt(de)?E(de):[]}),this._sources=O(t,function(de){return bt(de)?X():de}),this._combinator=l?ee(l,this._sources.length):function(de){return de},this._aliveCount=0,this._$handlers=[];for(var V=function(de){v._$handlers.push(function(xe){return v._handleAny(de,xe)})},te=0;te<this._sources.length;te++)V(te)}n(xt,R,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var t=this._sources.length;this._aliveCount=t;for(var l=0;l<t&&this._active;l++)this._sources[l].onAny(this._$handlers[l])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._$handlers[t])},_emit:function(){for(var t=new Array(this._buffers.length),l=0;l<this._buffers.length;l++)t[l]=this._buffers[l].shift();var v=this._combinator;this._emitValue(v(t))},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(this._buffers[t].length===0)return!1;return!0},_handleAny:function(t,l){l.type===u&&(this._buffers[t].push(l.value),this._isFull()&&this._emit()),l.type===f&&this._emitError(l.value),l.type===a&&(this._aliveCount--,this._aliveCount===0&&this._emitEnd())},_clear:function(){R.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});function Ve(t,l){return t.length===0?X():new xt(t,l)}var As=function(t){return t};function Ce(){var t=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=l.queueLim,V=v===void 0?0:v,te=l.concurLim,de=te===void 0?-1:te,xe=l.drop,Ie=xe===void 0?"new":xe;R.call(this),this._queueLim=V<0?-1:V,this._concurLim=de<0?-1:de,this._drop=Ie,this._queue=[],this._curSources=[],this._$handleSubAny=function(Me){return t._handleSubAny(Me)},this._$endHandlers=[],this._currentlyAdding=null,this._concurLim===0&&this._emitEnd()}n(Ce,R,{_name:"abstractPool",_add:function(t,l){l=l||As,this._concurLim===-1||this._curSources.length<this._concurLim?this._addToCur(l(t)):this._queueLim===-1||this._queue.length<this._queueLim?this._addToQueue(l(t)):this._drop==="old"&&(this._removeOldest(),this._add(t,l))},_addAll:function(t){var l=this;C(t,function(v){return l._add(v)})},_remove:function(t){this._removeCur(t)===-1&&this._removeQueue(t)},_addToQueue:function(t){this._queue=p(this._queue,[t])},_addToCur:function(t){if(this._active){if(!t._alive){t._currentEvent&&this._emit(t._currentEvent.type,t._currentEvent.value),this._active&&(this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty());return}this._currentlyAdding=t,t.onAny(this._$handleSubAny),this._currentlyAdding=null,t._alive?(this._curSources=p(this._curSources,[t]),this._active&&this._subToEnd(t)):this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()}else this._curSources=p(this._curSources,[t])},_subToEnd:function(t){var l=this,v=function(){return l._removeCur(t)};this._$endHandlers.push({obs:t,handler:v}),t.onEnd(v)},_subscribe:function(t){t.onAny(this._$handleSubAny),this._active&&this._subToEnd(t)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var l=x(this._$endHandlers,function(v){return v.obs===t});l!==-1&&(t.offEnd(this._$endHandlers[l].handler),this._$endHandlers.splice(l,1))},_handleSubAny:function(t){t.type===u?this._emitValue(t.value):t.type===f&&this._emitError(t.value)},_removeQueue:function(t){var l=_(this._queue,t);return this._queue=P(this._queue,l),l},_removeCur:function(t){this._active&&this._unsubscribe(t);var l=_(this._curSources,t);return this._curSources=P(this._curSources,l),l!==-1&&(this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()),l},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){this._queue.length!==0&&(this._queue=E(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var t=0,l=this._curSources;t<l.length&&this._active;t++)this._subscribe(l[t])},_onDeactivation:function(){for(var t=0,l=this._curSources;t<l.length;t++)this._unsubscribe(l[t]);this._currentlyAdding!==null&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return this._curSources.length===0},_onEmpty:function(){},_clear:function(){R.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}});function At(t){Ce.call(this),this._addAll(t),this._initialised=!0}n(At,Ce,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}});function Ue(t){return t.length===0?X():new At(t)}function Tt(t){var l=this;R.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(v){return l._handleAny(v)}}n(Tt,R,{_name:"repeat",_handleAny:function(t){t.type===a?(this._source=null,this._getSource()):this._emit(t.type,t.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var t=this._generator;this._source===null&&this._alive&&this._active;)this._source=t(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){R.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var Ge=function(t){return new Tt(t)};function ke(t){return Ge(function(l){return t.length>l?t[l]:!1}).setName("concat")}function Ke(){Ce.call(this)}n(Ke,Ce,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}});function Le(t,l,v){var V=this;Ce.call(this,v),this._source=t,this._fn=l,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(te){return V._handleMain(te)}}n(Le,Ce,{_onActivation:function(){Ce.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Ce.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(t){if(t.type===u){var l=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;l||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===f&&this._emitError(t.value),t.type===a&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Ce.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}});function Ot(t,l){Le.call(this,t,l)}n(Ot,Le,{_handleMain:function(t){if(t.type===f){var l=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;l||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===u&&this._emitValue(t.value),t.type===a&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});function St(t,l){return function(V,te,de){var xe=this;t.call(this),this._primary=V,this._secondary=te,this._name=V._name+"."+l,this._lastSecondary=i,this._$handleSecondaryAny=function(Ie){return xe._handleSecondaryAny(Ie)},this._$handlePrimaryAny=function(Ie){return xe._handlePrimaryAny(Ie)},this._init(de)}}function Pt(t){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(l){this._emitValue(l)},_handlePrimaryError:function(l){this._emitError(l)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(l){this._lastSecondary=l},_handleSecondaryError:function(l){this._emitError(l)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(l){switch(l.type){case u:return this._handlePrimaryValue(l.value);case f:return this._handlePrimaryError(l.value);case a:return this._handlePrimaryEnd(l.value)}},_handleSecondaryAny:function(l){switch(l.type){case u:return this._handleSecondaryValue(l.value);case f:return this._handleSecondaryError(l.value);case a:this._handleSecondaryEnd(l.value),this._removeSecondary()}},_removeSecondary:function(){this._secondary!==null&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){this._secondary!==null&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){this._secondary!==null&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){t.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Re(t,l){var v=St(R,t);return n(v,R,Pt(R),l),v}function Be(t,l){var v=St(N,t);return n(v,N,Pt(N),l),v}var It={_handlePrimaryValue:function(t){this._lastSecondary!==i&&this._lastSecondary&&this._emitValue(t)},_handleSecondaryEnd:function(){(this._lastSecondary===i||!this._lastSecondary)&&this._emitEnd()}},Ts=Re("filterBy",It),Os=Be("filterBy",It);function Ss(t,l){return new(t._ofSameType(Ts,Os))(t,l)}var Ps=function(t,l){return l};function Is(t,l,v){var V=v?function(te,de){return v(de,te)}:Ps;return we([l],[t],V).setName(t,"sampledBy")}var Mt={_handlePrimaryValue:function(t){this._lastSecondary!==i&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary===i&&this._emitEnd()}},Ms=Re("skipUntilBy",Mt),Ds=Be("skipUntilBy",Mt);function Cs(t,l){return new(t._ofSameType(Ms,Ds))(t,l)}var Dt={_handleSecondaryValue:function(){this._emitEnd()}},ws=Re("takeUntilBy",Dt),Ls=Be("takeUntilBy",Dt);function Rs(t,l){return new(t._ofSameType(ws,Ls))(t,l)}var Ct={_init:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=t.flushOnEnd,v=l===void 0?!0:l;this._buff=[],this._flushOnEnd=v},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&this._secondary!==null&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},Bs=Re("bufferBy",Ct),Ns=Be("bufferBy",Ct);function Us(t,l,v){return new(t._ofSameType(Bs,Ns))(t,l,v)}var wt={_init:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=t.flushOnEnd,v=l===void 0?!0:l,V=t.flushOnChange,te=V===void 0?!1:V;this._buff=[],this._flushOnEnd=v,this._flushOnChange=te},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(t){this._buff.push(t),this._lastSecondary!==i&&!this._lastSecondary&&this._flush()},_handleSecondaryEnd:function(){!this._flushOnEnd&&(this._lastSecondary===i||this._lastSecondary)&&this._emitEnd()},_handleSecondaryValue:function(t){this._flushOnChange&&!t&&this._flush(),this._lastSecondary=t}},Ks=Re("bufferWhileBy",wt),Fs=Be("bufferWhileBy",wt);function $s(t,l,v){return new(t._ofSameType(Ks,Fs))(t,l,v)}var Lt=function(){return!1},Ws=function(){return!0};function Hs(t,l){var v=Ue([He(t,Ws),He(l,Lt)]);return v=rt(v),v=W(v,Lt),v.setName(t,"awaiting")}var Rt={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleValue:function(t){var l=this._fn,v=l(t);v.convert?this._emitError(v.error):this._emitValue(t)}},Vs=A("valuesToErrors",Rt),Gs=b("valuesToErrors",Rt),ks=function(t){return{convert:!0,error:t}};function zs(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ks;return new(t._ofSameType(Vs,Gs))(t,{fn:l})}var Bt={_init:function(t){var l=t.fn;this._fn=l},_free:function(){this._fn=null},_handleError:function(t){var l=this._fn,v=l(t);v.convert?this._emitValue(v.value):this._emitError(t)}},Xs=A("errorsToValues",Bt),Js=b("errorsToValues",Bt),Qs=function(t){return{convert:!0,value:t}};function Ys(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qs;return new(t._ofSameType(Xs,Js))(t,{fn:l})}var Nt={_handleError:function(t){this._emitError(t),this._emitEnd()}},Zs=A("endOnError",Nt),qs=b("endOnError",Nt);function er(t){return new(t._ofSameType(Zs,qs))(t)}g.prototype.toProperty=function(t){return W(this,t)},g.prototype.changes=function(){return pe(this)},g.prototype.toPromise=function(t){return ye(this,t)},g.prototype.toESObservable=T,g.prototype[Ae]=T,g.prototype.map=function(t){return He(this,t)},g.prototype.filter=function(t){return Xt(this,t)},g.prototype.take=function(t){return Yt(this,t)},g.prototype.takeErrors=function(t){return en(this,t)},g.prototype.takeWhile=function(t){return rn(this,t)},g.prototype.last=function(){return un(this)},g.prototype.skip=function(t){return fn(this,t)},g.prototype.skipWhile=function(t){return pn(this,t)},g.prototype.skipDuplicates=function(t){return rt(this,t)},g.prototype.diff=function(t,l){return bn(this,t,l)},g.prototype.scan=function(t,l){return An(this,t,l)},g.prototype.flatten=function(t){return Pn(this,t)},g.prototype.delay=function(t){return Dn(this,t)},g.prototype.throttle=function(t,l){return Ln(this,t,l)},g.prototype.debounce=function(t,l){return Nn(this,t,l)},g.prototype.mapErrors=function(t){return $n(this,t)},g.prototype.filterErrors=function(t){return Gn(this,t)},g.prototype.ignoreValues=function(){return Xn(this)},g.prototype.ignoreErrors=function(){return Yn(this)},g.prototype.ignoreEnd=function(){return es(this)},g.prototype.beforeEnd=function(t){return ss(this,t)},g.prototype.slidingWindow=function(t,l){return is(this,t,l)},g.prototype.bufferWhile=function(t,l){return ds(this,t,l)},g.prototype.bufferWithCount=function(t,l){return hs(this,t,l)},g.prototype.bufferWithTimeOrCount=function(t,l,v){return _s(this,t,l,v)},g.prototype.transduce=function(t){return Es(this,t)},g.prototype.withHandler=function(t){return xs(this,t)},g.prototype.thru=function(t){return t(this)},g.prototype.combine=function(t,l){return we([this,t],l)},g.prototype.zip=function(t,l){return Ve([this,t],l)},g.prototype.merge=function(t){return Ue([this,t])},g.prototype.concat=function(t){return ke([this,t])};var Ut=function(){return new Ke};g.prototype.flatMap=function(t){return new Le(this,t).setName(this,"flatMap")},g.prototype.flatMapLatest=function(t){return new Le(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},g.prototype.flatMapFirst=function(t){return new Le(this,t,{concurLim:1}).setName(this,"flatMapFirst")},g.prototype.flatMapConcat=function(t){return new Le(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},g.prototype.flatMapConcurLimit=function(t,l){return new Le(this,t,{queueLim:-1,concurLim:l}).setName(this,"flatMapConcurLimit")},g.prototype.flatMapErrors=function(t){return new Ot(this,t).setName(this,"flatMapErrors")},g.prototype.filterBy=function(t){return Ss(this,t)},g.prototype.sampledBy=function(t,l){return Is(this,t,l)},g.prototype.skipUntilBy=function(t){return Cs(this,t)},g.prototype.takeUntilBy=function(t){return Rs(this,t)},g.prototype.bufferBy=function(t,l){return Us(this,t,l)},g.prototype.bufferWhileBy=function(t,l){return $s(this,t,l)};var Kt=!0;function tr(){Kt=!1}function Fe(t){if(Kt&&console&&typeof console.warn=="function"){var l=`
Here is an Error object for you containing the call stack:`;console.warn(t,l,new Error)}}g.prototype.awaiting=function(t){return Fe("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),Hs(this,t)},g.prototype.valuesToErrors=function(t){return Fe("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),zs(this,t)},g.prototype.errorsToValues=function(t){return Fe("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),Ys(this,t)},g.prototype.endOnError=function(){return Fe("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),er(this)};var $e={Observable:g,Stream:R,Property:N,never:X,later:$,interval:le,sequentially:ae,fromPoll:ge,withInterval:J,fromCallback:D,fromNodeCallback:Y,fromEvents:h,stream:L,constant:j,constantError:w,fromPromise:me,fromESObservable:De,combine:we,zip:Ve,merge:Ue,concat:ke,Pool:Ke,pool:Ut,repeat:Ge,staticLand:Xe};$e.Kefir=$e;const nr=$e}),"./node_modules/lodash/_DataView.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getNative.js"),o=e("./node_modules/lodash/_root.js"),n=s(o,"DataView");r.exports=n}),"./node_modules/lodash/_Hash.js":((r,d,e)=>{var s=e("./node_modules/lodash/_hashClear.js"),o=e("./node_modules/lodash/_hashDelete.js"),n=e("./node_modules/lodash/_hashGet.js"),i=e("./node_modules/lodash/_hashHas.js"),a=e("./node_modules/lodash/_hashSet.js");function u(f){var c=-1,p=f==null?0:f.length;for(this.clear();++c<p;){var _=f[c];this.set(_[0],_[1])}}u.prototype.clear=s,u.prototype.delete=o,u.prototype.get=n,u.prototype.has=i,u.prototype.set=a,r.exports=u}),"./node_modules/lodash/_ListCache.js":((r,d,e)=>{var s=e("./node_modules/lodash/_listCacheClear.js"),o=e("./node_modules/lodash/_listCacheDelete.js"),n=e("./node_modules/lodash/_listCacheGet.js"),i=e("./node_modules/lodash/_listCacheHas.js"),a=e("./node_modules/lodash/_listCacheSet.js");function u(f){var c=-1,p=f==null?0:f.length;for(this.clear();++c<p;){var _=f[c];this.set(_[0],_[1])}}u.prototype.clear=s,u.prototype.delete=o,u.prototype.get=n,u.prototype.has=i,u.prototype.set=a,r.exports=u}),"./node_modules/lodash/_Map.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getNative.js"),o=e("./node_modules/lodash/_root.js"),n=s(o,"Map");r.exports=n}),"./node_modules/lodash/_MapCache.js":((r,d,e)=>{var s=e("./node_modules/lodash/_mapCacheClear.js"),o=e("./node_modules/lodash/_mapCacheDelete.js"),n=e("./node_modules/lodash/_mapCacheGet.js"),i=e("./node_modules/lodash/_mapCacheHas.js"),a=e("./node_modules/lodash/_mapCacheSet.js");function u(f){var c=-1,p=f==null?0:f.length;for(this.clear();++c<p;){var _=f[c];this.set(_[0],_[1])}}u.prototype.clear=s,u.prototype.delete=o,u.prototype.get=n,u.prototype.has=i,u.prototype.set=a,r.exports=u}),"./node_modules/lodash/_Promise.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getNative.js"),o=e("./node_modules/lodash/_root.js"),n=s(o,"Promise");r.exports=n}),"./node_modules/lodash/_Set.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getNative.js"),o=e("./node_modules/lodash/_root.js"),n=s(o,"Set");r.exports=n}),"./node_modules/lodash/_SetCache.js":((r,d,e)=>{var s=e("./node_modules/lodash/_MapCache.js"),o=e("./node_modules/lodash/_setCacheAdd.js"),n=e("./node_modules/lodash/_setCacheHas.js");function i(a){var u=-1,f=a==null?0:a.length;for(this.__data__=new s;++u<f;)this.add(a[u])}i.prototype.add=i.prototype.push=o,i.prototype.has=n,r.exports=i}),"./node_modules/lodash/_Stack.js":((r,d,e)=>{var s=e("./node_modules/lodash/_ListCache.js"),o=e("./node_modules/lodash/_stackClear.js"),n=e("./node_modules/lodash/_stackDelete.js"),i=e("./node_modules/lodash/_stackGet.js"),a=e("./node_modules/lodash/_stackHas.js"),u=e("./node_modules/lodash/_stackSet.js");function f(c){var p=this.__data__=new s(c);this.size=p.size}f.prototype.clear=o,f.prototype.delete=n,f.prototype.get=i,f.prototype.has=a,f.prototype.set=u,r.exports=f}),"./node_modules/lodash/_Symbol.js":((r,d,e)=>{var s=e("./node_modules/lodash/_root.js"),o=s.Symbol;r.exports=o}),"./node_modules/lodash/_Uint8Array.js":((r,d,e)=>{var s=e("./node_modules/lodash/_root.js"),o=s.Uint8Array;r.exports=o}),"./node_modules/lodash/_WeakMap.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getNative.js"),o=e("./node_modules/lodash/_root.js"),n=s(o,"WeakMap");r.exports=n}),"./node_modules/lodash/_apply.js":(r=>{function d(e,s,o){switch(o.length){case 0:return e.call(s);case 1:return e.call(s,o[0]);case 2:return e.call(s,o[0],o[1]);case 3:return e.call(s,o[0],o[1],o[2])}return e.apply(s,o)}r.exports=d}),"./node_modules/lodash/_arrayEach.js":(r=>{function d(e,s){for(var o=-1,n=e==null?0:e.length;++o<n&&s(e[o],o,e)!==!1;);return e}r.exports=d}),"./node_modules/lodash/_arrayFilter.js":(r=>{function d(e,s){for(var o=-1,n=e==null?0:e.length,i=0,a=[];++o<n;){var u=e[o];s(u,o,e)&&(a[i++]=u)}return a}r.exports=d}),"./node_modules/lodash/_arrayIncludes.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIndexOf.js");function o(n,i){var a=n==null?0:n.length;return!!a&&s(n,i,0)>-1}r.exports=o}),"./node_modules/lodash/_arrayIncludesWith.js":(r=>{function d(e,s,o){for(var n=-1,i=e==null?0:e.length;++n<i;)if(o(s,e[n]))return!0;return!1}r.exports=d}),"./node_modules/lodash/_arrayLikeKeys.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseTimes.js"),o=e("./node_modules/lodash/isArguments.js"),n=e("./node_modules/lodash/isArray.js"),i=e("./node_modules/lodash/isBuffer.js"),a=e("./node_modules/lodash/_isIndex.js"),u=e("./node_modules/lodash/isTypedArray.js"),f=Object.prototype,c=f.hasOwnProperty;function p(_,x){var E=n(_),P=!E&&o(_),O=!E&&!P&&i(_),C=!E&&!P&&!O&&u(_),B=E||P||O||C,k=B?s(_.length,String):[],Z=k.length;for(var S in _)(x||c.call(_,S))&&!(B&&(S=="length"||O&&(S=="offset"||S=="parent")||C&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,Z)))&&k.push(S);return k}r.exports=p}),"./node_modules/lodash/_arrayMap.js":(r=>{function d(e,s){for(var o=-1,n=e==null?0:e.length,i=Array(n);++o<n;)i[o]=s(e[o],o,e);return i}r.exports=d}),"./node_modules/lodash/_arrayPush.js":(r=>{function d(e,s){for(var o=-1,n=s.length,i=e.length;++o<n;)e[i+o]=s[o];return e}r.exports=d}),"./node_modules/lodash/_arraySome.js":(r=>{function d(e,s){for(var o=-1,n=e==null?0:e.length;++o<n;)if(s(e[o],o,e))return!0;return!1}r.exports=d}),"./node_modules/lodash/_assignValue.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseAssignValue.js"),o=e("./node_modules/lodash/eq.js"),n=Object.prototype,i=n.hasOwnProperty;function a(u,f,c){var p=u[f];(!(i.call(u,f)&&o(p,c))||c===void 0&&!(f in u))&&s(u,f,c)}r.exports=a}),"./node_modules/lodash/_assocIndexOf.js":((r,d,e)=>{var s=e("./node_modules/lodash/eq.js");function o(n,i){for(var a=n.length;a--;)if(s(n[a][0],i))return a;return-1}r.exports=o}),"./node_modules/lodash/_baseAssign.js":((r,d,e)=>{var s=e("./node_modules/lodash/_copyObject.js"),o=e("./node_modules/lodash/keys.js");function n(i,a){return i&&s(a,o(a),i)}r.exports=n}),"./node_modules/lodash/_baseAssignIn.js":((r,d,e)=>{var s=e("./node_modules/lodash/_copyObject.js"),o=e("./node_modules/lodash/keysIn.js");function n(i,a){return i&&s(a,o(a),i)}r.exports=n}),"./node_modules/lodash/_baseAssignValue.js":((r,d,e)=>{var s=e("./node_modules/lodash/_defineProperty.js");function o(n,i,a){i=="__proto__"&&s?s(n,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[i]=a}r.exports=o}),"./node_modules/lodash/_baseClamp.js":(r=>{function d(e,s,o){return e===e&&(o!==void 0&&(e=e<=o?e:o),s!==void 0&&(e=e>=s?e:s)),e}r.exports=d}),"./node_modules/lodash/_baseClone.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Stack.js"),o=e("./node_modules/lodash/_arrayEach.js"),n=e("./node_modules/lodash/_assignValue.js"),i=e("./node_modules/lodash/_baseAssign.js"),a=e("./node_modules/lodash/_baseAssignIn.js"),u=e("./node_modules/lodash/_cloneBuffer.js"),f=e("./node_modules/lodash/_copyArray.js"),c=e("./node_modules/lodash/_copySymbols.js"),p=e("./node_modules/lodash/_copySymbolsIn.js"),_=e("./node_modules/lodash/_getAllKeys.js"),x=e("./node_modules/lodash/_getAllKeysIn.js"),E=e("./node_modules/lodash/_getTag.js"),P=e("./node_modules/lodash/_initCloneArray.js"),O=e("./node_modules/lodash/_initCloneByTag.js"),C=e("./node_modules/lodash/_initCloneObject.js"),B=e("./node_modules/lodash/isArray.js"),k=e("./node_modules/lodash/isBuffer.js"),Z=e("./node_modules/lodash/isMap.js"),S=e("./node_modules/lodash/isObject.js"),F=e("./node_modules/lodash/isSet.js"),g=e("./node_modules/lodash/keys.js"),R=e("./node_modules/lodash/keysIn.js"),N=1,I=2,X=4,se="[object Arguments]",Q="[object Array]",$="[object Boolean]",oe="[object Date]",le="[object Error]",ce="[object Function]",ae="[object GeneratorFunction]",fe="[object Map]",ge="[object Number]",ie="[object Object]",z="[object RegExp]",J="[object Set]",M="[object String]",L="[object Symbol]",D="[object WeakMap]",Y="[object ArrayBuffer]",ee="[object DataView]",ue="[object Float32Array]",re="[object Float64Array]",_e="[object Int8Array]",h="[object Int16Array]",y="[object Int32Array]",j="[object Uint8Array]",K="[object Uint8ClampedArray]",w="[object Uint16Array]",H="[object Uint32Array]",U={};U[se]=U[Q]=U[Y]=U[ee]=U[$]=U[oe]=U[ue]=U[re]=U[_e]=U[h]=U[y]=U[fe]=U[ge]=U[ie]=U[z]=U[J]=U[M]=U[L]=U[j]=U[K]=U[w]=U[H]=!0,U[le]=U[ce]=U[D]=!1;function A(b,G,W,q,pe,me){var ve,ye=G&N,Se=G&I,je=G&X;if(W&&(ve=pe?W(b,q,pe,me):W(b)),ve!==void 0)return ve;if(!S(b))return b;var be=B(b);if(be){if(ve=P(b),!ye)return f(b,ve)}else{var Ae=E(b),De=Ae==ce||Ae==ae;if(k(b))return u(b,ye);if(Ae==ie||Ae==se||De&&!pe){if(ve=Se||De?{}:C(b),!ye)return Se?p(b,a(ve,b)):c(b,i(ve,b))}else{if(!U[Ae])return pe?b:{};ve=O(b,Ae,ye)}}me||(me=new s);var m=me.get(b);if(m)return m;me.set(b,ve),F(b)?b.forEach(function(he){ve.add(A(he,G,W,he,b,me))}):Z(b)&&b.forEach(function(he,Ee){ve.set(Ee,A(he,G,W,Ee,b,me))});var T=je?Se?x:_:Se?R:g,ne=be?void 0:T(b);return o(ne||b,function(he,Ee){ne&&(Ee=he,he=b[Ee]),n(ve,Ee,A(he,G,W,Ee,b,me))}),ve}r.exports=A}),"./node_modules/lodash/_baseCreate.js":((r,d,e)=>{var s=e("./node_modules/lodash/isObject.js"),o=Object.create,n=(function(){function i(){}return function(a){if(!s(a))return{};if(o)return o(a);i.prototype=a;var u=new i;return i.prototype=void 0,u}})();r.exports=n}),"./node_modules/lodash/_baseEach.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseForOwn.js"),o=e("./node_modules/lodash/_createBaseEach.js"),n=o(s);r.exports=n}),"./node_modules/lodash/_baseFilter.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseEach.js");function o(n,i){var a=[];return s(n,function(u,f,c){i(u,f,c)&&a.push(u)}),a}r.exports=o}),"./node_modules/lodash/_baseFindIndex.js":(r=>{function d(e,s,o,n){for(var i=e.length,a=o+(n?1:-1);n?a--:++a<i;)if(s(e[a],a,e))return a;return-1}r.exports=d}),"./node_modules/lodash/_baseFlatten.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayPush.js"),o=e("./node_modules/lodash/_isFlattenable.js");function n(i,a,u,f,c){var p=-1,_=i.length;for(u||(u=o),c||(c=[]);++p<_;){var x=i[p];a>0&&u(x)?a>1?n(x,a-1,u,f,c):s(c,x):f||(c[c.length]=x)}return c}r.exports=n}),"./node_modules/lodash/_baseFor.js":((r,d,e)=>{var s=e("./node_modules/lodash/_createBaseFor.js"),o=s();r.exports=o}),"./node_modules/lodash/_baseForOwn.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseFor.js"),o=e("./node_modules/lodash/keys.js");function n(i,a){return i&&s(i,a,o)}r.exports=n}),"./node_modules/lodash/_baseGet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_castPath.js"),o=e("./node_modules/lodash/_toKey.js");function n(i,a){a=s(a,i);for(var u=0,f=a.length;i!=null&&u<f;)i=i[o(a[u++])];return u&&u==f?i:void 0}r.exports=n}),"./node_modules/lodash/_baseGetAllKeys.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayPush.js"),o=e("./node_modules/lodash/isArray.js");function n(i,a,u){var f=a(i);return o(i)?f:s(f,u(i))}r.exports=n}),"./node_modules/lodash/_baseGetTag.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Symbol.js"),o=e("./node_modules/lodash/_getRawTag.js"),n=e("./node_modules/lodash/_objectToString.js"),i="[object Null]",a="[object Undefined]",u=s?s.toStringTag:void 0;function f(c){return c==null?c===void 0?a:i:u&&u in Object(c)?o(c):n(c)}r.exports=f}),"./node_modules/lodash/_baseHas.js":(r=>{var d=Object.prototype,e=d.hasOwnProperty;function s(o,n){return o!=null&&e.call(o,n)}r.exports=s}),"./node_modules/lodash/_baseHasIn.js":(r=>{function d(e,s){return e!=null&&s in Object(e)}r.exports=d}),"./node_modules/lodash/_baseIndexOf.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseFindIndex.js"),o=e("./node_modules/lodash/_baseIsNaN.js"),n=e("./node_modules/lodash/_strictIndexOf.js");function i(a,u,f){return u===u?n(a,u,f):s(a,o,f)}r.exports=i}),"./node_modules/lodash/_baseIntersection.js":((r,d,e)=>{var s=e("./node_modules/lodash/_SetCache.js"),o=e("./node_modules/lodash/_arrayIncludes.js"),n=e("./node_modules/lodash/_arrayIncludesWith.js"),i=e("./node_modules/lodash/_arrayMap.js"),a=e("./node_modules/lodash/_baseUnary.js"),u=e("./node_modules/lodash/_cacheHas.js"),f=Math.min;function c(p,_,x){for(var E=x?n:o,P=p[0].length,O=p.length,C=O,B=Array(O),k=1/0,Z=[];C--;){var S=p[C];C&&_&&(S=i(S,a(_))),k=f(S.length,k),B[C]=!x&&(_||P>=120&&S.length>=120)?new s(C&&S):void 0}S=p[0];var F=-1,g=B[0];e:for(;++F<P&&Z.length<k;){var R=S[F],N=_?_(R):R;if(R=x||R!==0?R:0,!(g?u(g,N):E(Z,N,x))){for(C=O;--C;){var I=B[C];if(!(I?u(I,N):E(p[C],N,x)))continue e}g&&g.push(N),Z.push(R)}}return Z}r.exports=c}),"./node_modules/lodash/_baseIsArguments.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGetTag.js"),o=e("./node_modules/lodash/isObjectLike.js"),n="[object Arguments]";function i(a){return o(a)&&s(a)==n}r.exports=i}),"./node_modules/lodash/_baseIsEqual.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIsEqualDeep.js"),o=e("./node_modules/lodash/isObjectLike.js");function n(i,a,u,f,c){return i===a?!0:i==null||a==null||!o(i)&&!o(a)?i!==i&&a!==a:s(i,a,u,f,n,c)}r.exports=n}),"./node_modules/lodash/_baseIsEqualDeep.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Stack.js"),o=e("./node_modules/lodash/_equalArrays.js"),n=e("./node_modules/lodash/_equalByTag.js"),i=e("./node_modules/lodash/_equalObjects.js"),a=e("./node_modules/lodash/_getTag.js"),u=e("./node_modules/lodash/isArray.js"),f=e("./node_modules/lodash/isBuffer.js"),c=e("./node_modules/lodash/isTypedArray.js"),p=1,_="[object Arguments]",x="[object Array]",E="[object Object]",P=Object.prototype,O=P.hasOwnProperty;function C(B,k,Z,S,F,g){var R=u(B),N=u(k),I=R?x:a(B),X=N?x:a(k);I=I==_?E:I,X=X==_?E:X;var se=I==E,Q=X==E,$=I==X;if($&&f(B)){if(!f(k))return!1;R=!0,se=!1}if($&&!se)return g||(g=new s),R||c(B)?o(B,k,Z,S,F,g):n(B,k,I,Z,S,F,g);if(!(Z&p)){var oe=se&&O.call(B,"__wrapped__"),le=Q&&O.call(k,"__wrapped__");if(oe||le){var ce=oe?B.value():B,ae=le?k.value():k;return g||(g=new s),F(ce,ae,Z,S,g)}}return $?(g||(g=new s),i(B,k,Z,S,F,g)):!1}r.exports=C}),"./node_modules/lodash/_baseIsMap.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getTag.js"),o=e("./node_modules/lodash/isObjectLike.js"),n="[object Map]";function i(a){return o(a)&&s(a)==n}r.exports=i}),"./node_modules/lodash/_baseIsMatch.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Stack.js"),o=e("./node_modules/lodash/_baseIsEqual.js"),n=1,i=2;function a(u,f,c,p){var _=c.length,x=_,E=!p;if(u==null)return!x;for(u=Object(u);_--;){var P=c[_];if(E&&P[2]?P[1]!==u[P[0]]:!(P[0]in u))return!1}for(;++_<x;){P=c[_];var O=P[0],C=u[O],B=P[1];if(E&&P[2]){if(C===void 0&&!(O in u))return!1}else{var k=new s;if(p)var Z=p(C,B,O,u,f,k);if(!(Z===void 0?o(B,C,n|i,p,k):Z))return!1}}return!0}r.exports=a}),"./node_modules/lodash/_baseIsNaN.js":(r=>{function d(e){return e!==e}r.exports=d}),"./node_modules/lodash/_baseIsNative.js":((r,d,e)=>{var s=e("./node_modules/lodash/isFunction.js"),o=e("./node_modules/lodash/_isMasked.js"),n=e("./node_modules/lodash/isObject.js"),i=e("./node_modules/lodash/_toSource.js"),a=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,f=Function.prototype,c=Object.prototype,p=f.toString,_=c.hasOwnProperty,x=RegExp("^"+p.call(_).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E(P){if(!n(P)||o(P))return!1;var O=s(P)?x:u;return O.test(i(P))}r.exports=E}),"./node_modules/lodash/_baseIsSet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getTag.js"),o=e("./node_modules/lodash/isObjectLike.js"),n="[object Set]";function i(a){return o(a)&&s(a)==n}r.exports=i}),"./node_modules/lodash/_baseIsTypedArray.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGetTag.js"),o=e("./node_modules/lodash/isLength.js"),n=e("./node_modules/lodash/isObjectLike.js"),i="[object Arguments]",a="[object Array]",u="[object Boolean]",f="[object Date]",c="[object Error]",p="[object Function]",_="[object Map]",x="[object Number]",E="[object Object]",P="[object RegExp]",O="[object Set]",C="[object String]",B="[object WeakMap]",k="[object ArrayBuffer]",Z="[object DataView]",S="[object Float32Array]",F="[object Float64Array]",g="[object Int8Array]",R="[object Int16Array]",N="[object Int32Array]",I="[object Uint8Array]",X="[object Uint8ClampedArray]",se="[object Uint16Array]",Q="[object Uint32Array]",$={};$[S]=$[F]=$[g]=$[R]=$[N]=$[I]=$[X]=$[se]=$[Q]=!0,$[i]=$[a]=$[k]=$[u]=$[Z]=$[f]=$[c]=$[p]=$[_]=$[x]=$[E]=$[P]=$[O]=$[C]=$[B]=!1;function oe(le){return n(le)&&o(le.length)&&!!$[s(le)]}r.exports=oe}),"./node_modules/lodash/_baseIteratee.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseMatches.js"),o=e("./node_modules/lodash/_baseMatchesProperty.js"),n=e("./node_modules/lodash/identity.js"),i=e("./node_modules/lodash/isArray.js"),a=e("./node_modules/lodash/property.js");function u(f){return typeof f=="function"?f:f==null?n:typeof f=="object"?i(f)?o(f[0],f[1]):s(f):a(f)}r.exports=u}),"./node_modules/lodash/_baseKeys.js":((r,d,e)=>{var s=e("./node_modules/lodash/_isPrototype.js"),o=e("./node_modules/lodash/_nativeKeys.js"),n=Object.prototype,i=n.hasOwnProperty;function a(u){if(!s(u))return o(u);var f=[];for(var c in Object(u))i.call(u,c)&&c!="constructor"&&f.push(c);return f}r.exports=a}),"./node_modules/lodash/_baseKeysIn.js":((r,d,e)=>{var s=e("./node_modules/lodash/isObject.js"),o=e("./node_modules/lodash/_isPrototype.js"),n=e("./node_modules/lodash/_nativeKeysIn.js"),i=Object.prototype,a=i.hasOwnProperty;function u(f){if(!s(f))return n(f);var c=o(f),p=[];for(var _ in f)_=="constructor"&&(c||!a.call(f,_))||p.push(_);return p}r.exports=u}),"./node_modules/lodash/_baseMap.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseEach.js"),o=e("./node_modules/lodash/isArrayLike.js");function n(i,a){var u=-1,f=o(i)?Array(i.length):[];return s(i,function(c,p,_){f[++u]=a(c,p,_)}),f}r.exports=n}),"./node_modules/lodash/_baseMatches.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIsMatch.js"),o=e("./node_modules/lodash/_getMatchData.js"),n=e("./node_modules/lodash/_matchesStrictComparable.js");function i(a){var u=o(a);return u.length==1&&u[0][2]?n(u[0][0],u[0][1]):function(f){return f===a||s(f,a,u)}}r.exports=i}),"./node_modules/lodash/_baseMatchesProperty.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIsEqual.js"),o=e("./node_modules/lodash/get.js"),n=e("./node_modules/lodash/hasIn.js"),i=e("./node_modules/lodash/_isKey.js"),a=e("./node_modules/lodash/_isStrictComparable.js"),u=e("./node_modules/lodash/_matchesStrictComparable.js"),f=e("./node_modules/lodash/_toKey.js"),c=1,p=2;function _(x,E){return i(x)&&a(E)?u(f(x),E):function(P){var O=o(P,x);return O===void 0&&O===E?n(P,x):s(E,O,c|p)}}r.exports=_}),"./node_modules/lodash/_baseOrderBy.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayMap.js"),o=e("./node_modules/lodash/_baseGet.js"),n=e("./node_modules/lodash/_baseIteratee.js"),i=e("./node_modules/lodash/_baseMap.js"),a=e("./node_modules/lodash/_baseSortBy.js"),u=e("./node_modules/lodash/_baseUnary.js"),f=e("./node_modules/lodash/_compareMultiple.js"),c=e("./node_modules/lodash/identity.js"),p=e("./node_modules/lodash/isArray.js");function _(x,E,P){E.length?E=s(E,function(B){return p(B)?function(k){return o(k,B.length===1?B[0]:B)}:B}):E=[c];var O=-1;E=s(E,u(n));var C=i(x,function(B,k,Z){var S=s(E,function(F){return F(B)});return{criteria:S,index:++O,value:B}});return a(C,function(B,k){return f(B,k,P)})}r.exports=_}),"./node_modules/lodash/_baseProperty.js":(r=>{function d(e){return function(s){return s?.[e]}}r.exports=d}),"./node_modules/lodash/_basePropertyDeep.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGet.js");function o(n){return function(i){return s(i,n)}}r.exports=o}),"./node_modules/lodash/_basePropertyOf.js":(r=>{function d(e){return function(s){return e?.[s]}}r.exports=d}),"./node_modules/lodash/_baseRest.js":((r,d,e)=>{var s=e("./node_modules/lodash/identity.js"),o=e("./node_modules/lodash/_overRest.js"),n=e("./node_modules/lodash/_setToString.js");function i(a,u){return n(o(a,u,s),a+"")}r.exports=i}),"./node_modules/lodash/_baseSetToString.js":((r,d,e)=>{var s=e("./node_modules/lodash/constant.js"),o=e("./node_modules/lodash/_defineProperty.js"),n=e("./node_modules/lodash/identity.js"),i=o?function(a,u){return o(a,"toString",{configurable:!0,enumerable:!1,value:s(u),writable:!0})}:n;r.exports=i}),"./node_modules/lodash/_baseSortBy.js":(r=>{function d(e,s){var o=e.length;for(e.sort(s);o--;)e[o]=e[o].value;return e}r.exports=d}),"./node_modules/lodash/_baseTimes.js":(r=>{function d(e,s){for(var o=-1,n=Array(e);++o<e;)n[o]=s(o);return n}r.exports=d}),"./node_modules/lodash/_baseToString.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Symbol.js"),o=e("./node_modules/lodash/_arrayMap.js"),n=e("./node_modules/lodash/isArray.js"),i=e("./node_modules/lodash/isSymbol.js"),a=1/0,u=s?s.prototype:void 0,f=u?u.toString:void 0;function c(p){if(typeof p=="string")return p;if(n(p))return o(p,c)+"";if(i(p))return f?f.call(p):"";var _=p+"";return _=="0"&&1/p==-a?"-0":_}r.exports=c}),"./node_modules/lodash/_baseTrim.js":((r,d,e)=>{var s=e("./node_modules/lodash/_trimmedEndIndex.js"),o=/^\s+/;function n(i){return i&&i.slice(0,s(i)+1).replace(o,"")}r.exports=n}),"./node_modules/lodash/_baseUnary.js":(r=>{function d(e){return function(s){return e(s)}}r.exports=d}),"./node_modules/lodash/_baseValues.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayMap.js");function o(n,i){return s(i,function(a){return n[a]})}r.exports=o}),"./node_modules/lodash/_cacheHas.js":(r=>{function d(e,s){return e.has(s)}r.exports=d}),"./node_modules/lodash/_castArrayLikeObject.js":((r,d,e)=>{var s=e("./node_modules/lodash/isArrayLikeObject.js");function o(n){return s(n)?n:[]}r.exports=o}),"./node_modules/lodash/_castFunction.js":((r,d,e)=>{var s=e("./node_modules/lodash/identity.js");function o(n){return typeof n=="function"?n:s}r.exports=o}),"./node_modules/lodash/_castPath.js":((r,d,e)=>{var s=e("./node_modules/lodash/isArray.js"),o=e("./node_modules/lodash/_isKey.js"),n=e("./node_modules/lodash/_stringToPath.js"),i=e("./node_modules/lodash/toString.js");function a(u,f){return s(u)?u:o(u,f)?[u]:n(i(u))}r.exports=a}),"./node_modules/lodash/_cloneArrayBuffer.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Uint8Array.js");function o(n){var i=new n.constructor(n.byteLength);return new s(i).set(new s(n)),i}r.exports=o}),"./node_modules/lodash/_cloneBuffer.js":((r,d,e)=>{r=e.nmd(r);var s=e("./node_modules/lodash/_root.js"),o=d&&!d.nodeType&&d,n=o&&!0&&r&&!r.nodeType&&r,i=n&&n.exports===o,a=i?s.Buffer:void 0,u=a?a.allocUnsafe:void 0;function f(c,p){if(p)return c.slice();var _=c.length,x=u?u(_):new c.constructor(_);return c.copy(x),x}r.exports=f}),"./node_modules/lodash/_cloneDataView.js":((r,d,e)=>{var s=e("./node_modules/lodash/_cloneArrayBuffer.js");function o(n,i){var a=i?s(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}r.exports=o}),"./node_modules/lodash/_cloneRegExp.js":(r=>{var d=/\w*$/;function e(s){var o=new s.constructor(s.source,d.exec(s));return o.lastIndex=s.lastIndex,o}r.exports=e}),"./node_modules/lodash/_cloneSymbol.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Symbol.js"),o=s?s.prototype:void 0,n=o?o.valueOf:void 0;function i(a){return n?Object(n.call(a)):{}}r.exports=i}),"./node_modules/lodash/_cloneTypedArray.js":((r,d,e)=>{var s=e("./node_modules/lodash/_cloneArrayBuffer.js");function o(n,i){var a=i?s(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}r.exports=o}),"./node_modules/lodash/_compareAscending.js":((r,d,e)=>{var s=e("./node_modules/lodash/isSymbol.js");function o(n,i){if(n!==i){var a=n!==void 0,u=n===null,f=n===n,c=s(n),p=i!==void 0,_=i===null,x=i===i,E=s(i);if(!_&&!E&&!c&&n>i||c&&p&&x&&!_&&!E||u&&p&&x||!a&&x||!f)return 1;if(!u&&!c&&!E&&n<i||E&&a&&f&&!u&&!c||_&&a&&f||!p&&f||!x)return-1}return 0}r.exports=o}),"./node_modules/lodash/_compareMultiple.js":((r,d,e)=>{var s=e("./node_modules/lodash/_compareAscending.js");function o(n,i,a){for(var u=-1,f=n.criteria,c=i.criteria,p=f.length,_=a.length;++u<p;){var x=s(f[u],c[u]);if(x){if(u>=_)return x;var E=a[u];return x*(E=="desc"?-1:1)}}return n.index-i.index}r.exports=o}),"./node_modules/lodash/_copyArray.js":(r=>{function d(e,s){var o=-1,n=e.length;for(s||(s=Array(n));++o<n;)s[o]=e[o];return s}r.exports=d}),"./node_modules/lodash/_copyObject.js":((r,d,e)=>{var s=e("./node_modules/lodash/_assignValue.js"),o=e("./node_modules/lodash/_baseAssignValue.js");function n(i,a,u,f){var c=!u;u||(u={});for(var p=-1,_=a.length;++p<_;){var x=a[p],E=f?f(u[x],i[x],x,u,i):void 0;E===void 0&&(E=i[x]),c?o(u,x,E):s(u,x,E)}return u}r.exports=n}),"./node_modules/lodash/_copySymbols.js":((r,d,e)=>{var s=e("./node_modules/lodash/_copyObject.js"),o=e("./node_modules/lodash/_getSymbols.js");function n(i,a){return s(i,o(i),a)}r.exports=n}),"./node_modules/lodash/_copySymbolsIn.js":((r,d,e)=>{var s=e("./node_modules/lodash/_copyObject.js"),o=e("./node_modules/lodash/_getSymbolsIn.js");function n(i,a){return s(i,o(i),a)}r.exports=n}),"./node_modules/lodash/_coreJsData.js":((r,d,e)=>{var s=e("./node_modules/lodash/_root.js"),o=s["__core-js_shared__"];r.exports=o}),"./node_modules/lodash/_createBaseEach.js":((r,d,e)=>{var s=e("./node_modules/lodash/isArrayLike.js");function o(n,i){return function(a,u){if(a==null)return a;if(!s(a))return n(a,u);for(var f=a.length,c=i?f:-1,p=Object(a);(i?c--:++c<f)&&u(p[c],c,p)!==!1;);return a}}r.exports=o}),"./node_modules/lodash/_createBaseFor.js":(r=>{function d(e){return function(s,o,n){for(var i=-1,a=Object(s),u=n(s),f=u.length;f--;){var c=u[e?f:++i];if(o(a[c],c,a)===!1)break}return s}}r.exports=d}),"./node_modules/lodash/_createFind.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIteratee.js"),o=e("./node_modules/lodash/isArrayLike.js"),n=e("./node_modules/lodash/keys.js");function i(a){return function(u,f,c){var p=Object(u);if(!o(u)){var _=s(f,3);u=n(u),f=function(E){return _(p[E],E,p)}}var x=a(u,f,c);return x>-1?p[_?u[x]:x]:void 0}}r.exports=i}),"./node_modules/lodash/_defineProperty.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getNative.js"),o=(function(){try{var n=s(Object,"defineProperty");return n({},"",{}),n}catch{}})();r.exports=o}),"./node_modules/lodash/_equalArrays.js":((r,d,e)=>{var s=e("./node_modules/lodash/_SetCache.js"),o=e("./node_modules/lodash/_arraySome.js"),n=e("./node_modules/lodash/_cacheHas.js"),i=1,a=2;function u(f,c,p,_,x,E){var P=p&i,O=f.length,C=c.length;if(O!=C&&!(P&&C>O))return!1;var B=E.get(f),k=E.get(c);if(B&&k)return B==c&&k==f;var Z=-1,S=!0,F=p&a?new s:void 0;for(E.set(f,c),E.set(c,f);++Z<O;){var g=f[Z],R=c[Z];if(_)var N=P?_(R,g,Z,c,f,E):_(g,R,Z,f,c,E);if(N!==void 0){if(N)continue;S=!1;break}if(F){if(!o(c,function(I,X){if(!n(F,X)&&(g===I||x(g,I,p,_,E)))return F.push(X)})){S=!1;break}}else if(!(g===R||x(g,R,p,_,E))){S=!1;break}}return E.delete(f),E.delete(c),S}r.exports=u}),"./node_modules/lodash/_equalByTag.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Symbol.js"),o=e("./node_modules/lodash/_Uint8Array.js"),n=e("./node_modules/lodash/eq.js"),i=e("./node_modules/lodash/_equalArrays.js"),a=e("./node_modules/lodash/_mapToArray.js"),u=e("./node_modules/lodash/_setToArray.js"),f=1,c=2,p="[object Boolean]",_="[object Date]",x="[object Error]",E="[object Map]",P="[object Number]",O="[object RegExp]",C="[object Set]",B="[object String]",k="[object Symbol]",Z="[object ArrayBuffer]",S="[object DataView]",F=s?s.prototype:void 0,g=F?F.valueOf:void 0;function R(N,I,X,se,Q,$,oe){switch(X){case S:if(N.byteLength!=I.byteLength||N.byteOffset!=I.byteOffset)return!1;N=N.buffer,I=I.buffer;case Z:return!(N.byteLength!=I.byteLength||!$(new o(N),new o(I)));case p:case _:case P:return n(+N,+I);case x:return N.name==I.name&&N.message==I.message;case O:case B:return N==I+"";case E:var le=a;case C:var ce=se&f;if(le||(le=u),N.size!=I.size&&!ce)return!1;var ae=oe.get(N);if(ae)return ae==I;se|=c,oe.set(N,I);var fe=i(le(N),le(I),se,Q,$,oe);return oe.delete(N),fe;case k:if(g)return g.call(N)==g.call(I)}return!1}r.exports=R}),"./node_modules/lodash/_equalObjects.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getAllKeys.js"),o=1,n=Object.prototype,i=n.hasOwnProperty;function a(u,f,c,p,_,x){var E=c&o,P=s(u),O=P.length,C=s(f),B=C.length;if(O!=B&&!E)return!1;for(var k=O;k--;){var Z=P[k];if(!(E?Z in f:i.call(f,Z)))return!1}var S=x.get(u),F=x.get(f);if(S&&F)return S==f&&F==u;var g=!0;x.set(u,f),x.set(f,u);for(var R=E;++k<O;){Z=P[k];var N=u[Z],I=f[Z];if(p)var X=E?p(I,N,Z,f,u,x):p(N,I,Z,u,f,x);if(!(X===void 0?N===I||_(N,I,c,p,x):X)){g=!1;break}R||(R=Z=="constructor")}if(g&&!R){var se=u.constructor,Q=f.constructor;se!=Q&&"constructor"in u&&"constructor"in f&&!(typeof se=="function"&&se instanceof se&&typeof Q=="function"&&Q instanceof Q)&&(g=!1)}return x.delete(u),x.delete(f),g}r.exports=a}),"./node_modules/lodash/_escapeHtmlChar.js":((r,d,e)=>{var s=e("./node_modules/lodash/_basePropertyOf.js"),o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=s(o);r.exports=n}),"./node_modules/lodash/_freeGlobal.js":((r,d,e)=>{var s=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;r.exports=s}),"./node_modules/lodash/_getAllKeys.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGetAllKeys.js"),o=e("./node_modules/lodash/_getSymbols.js"),n=e("./node_modules/lodash/keys.js");function i(a){return s(a,n,o)}r.exports=i}),"./node_modules/lodash/_getAllKeysIn.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGetAllKeys.js"),o=e("./node_modules/lodash/_getSymbolsIn.js"),n=e("./node_modules/lodash/keysIn.js");function i(a){return s(a,n,o)}r.exports=i}),"./node_modules/lodash/_getMapData.js":((r,d,e)=>{var s=e("./node_modules/lodash/_isKeyable.js");function o(n,i){var a=n.__data__;return s(i)?a[typeof i=="string"?"string":"hash"]:a.map}r.exports=o}),"./node_modules/lodash/_getMatchData.js":((r,d,e)=>{var s=e("./node_modules/lodash/_isStrictComparable.js"),o=e("./node_modules/lodash/keys.js");function n(i){for(var a=o(i),u=a.length;u--;){var f=a[u],c=i[f];a[u]=[f,c,s(c)]}return a}r.exports=n}),"./node_modules/lodash/_getNative.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIsNative.js"),o=e("./node_modules/lodash/_getValue.js");function n(i,a){var u=o(i,a);return s(u)?u:void 0}r.exports=n}),"./node_modules/lodash/_getPrototype.js":((r,d,e)=>{var s=e("./node_modules/lodash/_overArg.js"),o=s(Object.getPrototypeOf,Object);r.exports=o}),"./node_modules/lodash/_getRawTag.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Symbol.js"),o=Object.prototype,n=o.hasOwnProperty,i=o.toString,a=s?s.toStringTag:void 0;function u(f){var c=n.call(f,a),p=f[a];try{f[a]=void 0;var _=!0}catch{}var x=i.call(f);return _&&(c?f[a]=p:delete f[a]),x}r.exports=u}),"./node_modules/lodash/_getSymbols.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayFilter.js"),o=e("./node_modules/lodash/stubArray.js"),n=Object.prototype,i=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(f){return f==null?[]:(f=Object(f),s(a(f),function(c){return i.call(f,c)}))}:o;r.exports=u}),"./node_modules/lodash/_getSymbolsIn.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayPush.js"),o=e("./node_modules/lodash/_getPrototype.js"),n=e("./node_modules/lodash/_getSymbols.js"),i=e("./node_modules/lodash/stubArray.js"),a=Object.getOwnPropertySymbols,u=a?function(f){for(var c=[];f;)s(c,n(f)),f=o(f);return c}:i;r.exports=u}),"./node_modules/lodash/_getTag.js":((r,d,e)=>{var s=e("./node_modules/lodash/_DataView.js"),o=e("./node_modules/lodash/_Map.js"),n=e("./node_modules/lodash/_Promise.js"),i=e("./node_modules/lodash/_Set.js"),a=e("./node_modules/lodash/_WeakMap.js"),u=e("./node_modules/lodash/_baseGetTag.js"),f=e("./node_modules/lodash/_toSource.js"),c="[object Map]",p="[object Object]",_="[object Promise]",x="[object Set]",E="[object WeakMap]",P="[object DataView]",O=f(s),C=f(o),B=f(n),k=f(i),Z=f(a),S=u;(s&&S(new s(new ArrayBuffer(1)))!=P||o&&S(new o)!=c||n&&S(n.resolve())!=_||i&&S(new i)!=x||a&&S(new a)!=E)&&(S=function(F){var g=u(F),R=g==p?F.constructor:void 0,N=R?f(R):"";if(N)switch(N){case O:return P;case C:return c;case B:return _;case k:return x;case Z:return E}return g}),r.exports=S}),"./node_modules/lodash/_getValue.js":(r=>{function d(e,s){return e?.[s]}r.exports=d}),"./node_modules/lodash/_hasPath.js":((r,d,e)=>{var s=e("./node_modules/lodash/_castPath.js"),o=e("./node_modules/lodash/isArguments.js"),n=e("./node_modules/lodash/isArray.js"),i=e("./node_modules/lodash/_isIndex.js"),a=e("./node_modules/lodash/isLength.js"),u=e("./node_modules/lodash/_toKey.js");function f(c,p,_){p=s(p,c);for(var x=-1,E=p.length,P=!1;++x<E;){var O=u(p[x]);if(!(P=c!=null&&_(c,O)))break;c=c[O]}return P||++x!=E?P:(E=c==null?0:c.length,!!E&&a(E)&&i(O,E)&&(n(c)||o(c)))}r.exports=f}),"./node_modules/lodash/_hashClear.js":((r,d,e)=>{var s=e("./node_modules/lodash/_nativeCreate.js");function o(){this.__data__=s?s(null):{},this.size=0}r.exports=o}),"./node_modules/lodash/_hashDelete.js":(r=>{function d(e){var s=this.has(e)&&delete this.__data__[e];return this.size-=s?1:0,s}r.exports=d}),"./node_modules/lodash/_hashGet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_nativeCreate.js"),o="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function a(u){var f=this.__data__;if(s){var c=f[u];return c===o?void 0:c}return i.call(f,u)?f[u]:void 0}r.exports=a}),"./node_modules/lodash/_hashHas.js":((r,d,e)=>{var s=e("./node_modules/lodash/_nativeCreate.js"),o=Object.prototype,n=o.hasOwnProperty;function i(a){var u=this.__data__;return s?u[a]!==void 0:n.call(u,a)}r.exports=i}),"./node_modules/lodash/_hashSet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_nativeCreate.js"),o="__lodash_hash_undefined__";function n(i,a){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=s&&a===void 0?o:a,this}r.exports=n}),"./node_modules/lodash/_initCloneArray.js":(r=>{var d=Object.prototype,e=d.hasOwnProperty;function s(o){var n=o.length,i=new o.constructor(n);return n&&typeof o[0]=="string"&&e.call(o,"index")&&(i.index=o.index,i.input=o.input),i}r.exports=s}),"./node_modules/lodash/_initCloneByTag.js":((r,d,e)=>{var s=e("./node_modules/lodash/_cloneArrayBuffer.js"),o=e("./node_modules/lodash/_cloneDataView.js"),n=e("./node_modules/lodash/_cloneRegExp.js"),i=e("./node_modules/lodash/_cloneSymbol.js"),a=e("./node_modules/lodash/_cloneTypedArray.js"),u="[object Boolean]",f="[object Date]",c="[object Map]",p="[object Number]",_="[object RegExp]",x="[object Set]",E="[object String]",P="[object Symbol]",O="[object ArrayBuffer]",C="[object DataView]",B="[object Float32Array]",k="[object Float64Array]",Z="[object Int8Array]",S="[object Int16Array]",F="[object Int32Array]",g="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",I="[object Uint32Array]";function X(se,Q,$){var oe=se.constructor;switch(Q){case O:return s(se);case u:case f:return new oe(+se);case C:return o(se,$);case B:case k:case Z:case S:case F:case g:case R:case N:case I:return a(se,$);case c:return new oe;case p:case E:return new oe(se);case _:return n(se);case x:return new oe;case P:return i(se)}}r.exports=X}),"./node_modules/lodash/_initCloneObject.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseCreate.js"),o=e("./node_modules/lodash/_getPrototype.js"),n=e("./node_modules/lodash/_isPrototype.js");function i(a){return typeof a.constructor=="function"&&!n(a)?s(o(a)):{}}r.exports=i}),"./node_modules/lodash/_isFlattenable.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Symbol.js"),o=e("./node_modules/lodash/isArguments.js"),n=e("./node_modules/lodash/isArray.js"),i=s?s.isConcatSpreadable:void 0;function a(u){return n(u)||o(u)||!!(i&&u&&u[i])}r.exports=a}),"./node_modules/lodash/_isIndex.js":(r=>{var d=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function s(o,n){var i=typeof o;return n=n??d,!!n&&(i=="number"||i!="symbol"&&e.test(o))&&o>-1&&o%1==0&&o<n}r.exports=s}),"./node_modules/lodash/_isIterateeCall.js":((r,d,e)=>{var s=e("./node_modules/lodash/eq.js"),o=e("./node_modules/lodash/isArrayLike.js"),n=e("./node_modules/lodash/_isIndex.js"),i=e("./node_modules/lodash/isObject.js");function a(u,f,c){if(!i(c))return!1;var p=typeof f;return(p=="number"?o(c)&&n(f,c.length):p=="string"&&f in c)?s(c[f],u):!1}r.exports=a}),"./node_modules/lodash/_isKey.js":((r,d,e)=>{var s=e("./node_modules/lodash/isArray.js"),o=e("./node_modules/lodash/isSymbol.js"),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(u,f){if(s(u))return!1;var c=typeof u;return c=="number"||c=="symbol"||c=="boolean"||u==null||o(u)?!0:i.test(u)||!n.test(u)||f!=null&&u in Object(f)}r.exports=a}),"./node_modules/lodash/_isKeyable.js":(r=>{function d(e){var s=typeof e;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?e!=="__proto__":e===null}r.exports=d}),"./node_modules/lodash/_isMasked.js":((r,d,e)=>{var s=e("./node_modules/lodash/_coreJsData.js"),o=(function(){var i=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function n(i){return!!o&&o in i}r.exports=n}),"./node_modules/lodash/_isPrototype.js":(r=>{var d=Object.prototype;function e(s){var o=s&&s.constructor,n=typeof o=="function"&&o.prototype||d;return s===n}r.exports=e}),"./node_modules/lodash/_isStrictComparable.js":((r,d,e)=>{var s=e("./node_modules/lodash/isObject.js");function o(n){return n===n&&!s(n)}r.exports=o}),"./node_modules/lodash/_listCacheClear.js":(r=>{function d(){this.__data__=[],this.size=0}r.exports=d}),"./node_modules/lodash/_listCacheDelete.js":((r,d,e)=>{var s=e("./node_modules/lodash/_assocIndexOf.js"),o=Array.prototype,n=o.splice;function i(a){var u=this.__data__,f=s(u,a);if(f<0)return!1;var c=u.length-1;return f==c?u.pop():n.call(u,f,1),--this.size,!0}r.exports=i}),"./node_modules/lodash/_listCacheGet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_assocIndexOf.js");function o(n){var i=this.__data__,a=s(i,n);return a<0?void 0:i[a][1]}r.exports=o}),"./node_modules/lodash/_listCacheHas.js":((r,d,e)=>{var s=e("./node_modules/lodash/_assocIndexOf.js");function o(n){return s(this.__data__,n)>-1}r.exports=o}),"./node_modules/lodash/_listCacheSet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_assocIndexOf.js");function o(n,i){var a=this.__data__,u=s(a,n);return u<0?(++this.size,a.push([n,i])):a[u][1]=i,this}r.exports=o}),"./node_modules/lodash/_mapCacheClear.js":((r,d,e)=>{var s=e("./node_modules/lodash/_Hash.js"),o=e("./node_modules/lodash/_ListCache.js"),n=e("./node_modules/lodash/_Map.js");function i(){this.size=0,this.__data__={hash:new s,map:new(n||o),string:new s}}r.exports=i}),"./node_modules/lodash/_mapCacheDelete.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getMapData.js");function o(n){var i=s(this,n).delete(n);return this.size-=i?1:0,i}r.exports=o}),"./node_modules/lodash/_mapCacheGet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getMapData.js");function o(n){return s(this,n).get(n)}r.exports=o}),"./node_modules/lodash/_mapCacheHas.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getMapData.js");function o(n){return s(this,n).has(n)}r.exports=o}),"./node_modules/lodash/_mapCacheSet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getMapData.js");function o(n,i){var a=s(this,n),u=a.size;return a.set(n,i),this.size+=a.size==u?0:1,this}r.exports=o}),"./node_modules/lodash/_mapToArray.js":(r=>{function d(e){var s=-1,o=Array(e.size);return e.forEach(function(n,i){o[++s]=[i,n]}),o}r.exports=d}),"./node_modules/lodash/_matchesStrictComparable.js":(r=>{function d(e,s){return function(o){return o==null?!1:o[e]===s&&(s!==void 0||e in Object(o))}}r.exports=d}),"./node_modules/lodash/_memoizeCapped.js":((r,d,e)=>{var s=e("./node_modules/lodash/memoize.js"),o=500;function n(i){var a=s(i,function(f){return u.size===o&&u.clear(),f}),u=a.cache;return a}r.exports=n}),"./node_modules/lodash/_nativeCreate.js":((r,d,e)=>{var s=e("./node_modules/lodash/_getNative.js"),o=s(Object,"create");r.exports=o}),"./node_modules/lodash/_nativeKeys.js":((r,d,e)=>{var s=e("./node_modules/lodash/_overArg.js"),o=s(Object.keys,Object);r.exports=o}),"./node_modules/lodash/_nativeKeysIn.js":(r=>{function d(e){var s=[];if(e!=null)for(var o in Object(e))s.push(o);return s}r.exports=d}),"./node_modules/lodash/_nodeUtil.js":((r,d,e)=>{r=e.nmd(r);var s=e("./node_modules/lodash/_freeGlobal.js"),o=d&&!d.nodeType&&d,n=o&&!0&&r&&!r.nodeType&&r,i=n&&n.exports===o,a=i&&s.process,u=(function(){try{var f=n&&n.require&&n.require("util").types;return f||a&&a.binding&&a.binding("util")}catch{}})();r.exports=u}),"./node_modules/lodash/_objectToString.js":(r=>{var d=Object.prototype,e=d.toString;function s(o){return e.call(o)}r.exports=s}),"./node_modules/lodash/_overArg.js":(r=>{function d(e,s){return function(o){return e(s(o))}}r.exports=d}),"./node_modules/lodash/_overRest.js":((r,d,e)=>{var s=e("./node_modules/lodash/_apply.js"),o=Math.max;function n(i,a,u){return a=o(a===void 0?i.length-1:a,0),function(){for(var f=arguments,c=-1,p=o(f.length-a,0),_=Array(p);++c<p;)_[c]=f[a+c];c=-1;for(var x=Array(a+1);++c<a;)x[c]=f[c];return x[a]=u(_),s(i,this,x)}}r.exports=n}),"./node_modules/lodash/_root.js":((r,d,e)=>{var s=e("./node_modules/lodash/_freeGlobal.js"),o=typeof self=="object"&&self&&self.Object===Object&&self,n=s||o||Function("return this")();r.exports=n}),"./node_modules/lodash/_setCacheAdd.js":(r=>{var d="__lodash_hash_undefined__";function e(s){return this.__data__.set(s,d),this}r.exports=e}),"./node_modules/lodash/_setCacheHas.js":(r=>{function d(e){return this.__data__.has(e)}r.exports=d}),"./node_modules/lodash/_setToArray.js":(r=>{function d(e){var s=-1,o=Array(e.size);return e.forEach(function(n){o[++s]=n}),o}r.exports=d}),"./node_modules/lodash/_setToString.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseSetToString.js"),o=e("./node_modules/lodash/_shortOut.js"),n=o(s);r.exports=n}),"./node_modules/lodash/_shortOut.js":(r=>{var d=800,e=16,s=Date.now;function o(n){var i=0,a=0;return function(){var u=s(),f=e-(u-a);if(a=u,f>0){if(++i>=d)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}r.exports=o}),"./node_modules/lodash/_stackClear.js":((r,d,e)=>{var s=e("./node_modules/lodash/_ListCache.js");function o(){this.__data__=new s,this.size=0}r.exports=o}),"./node_modules/lodash/_stackDelete.js":(r=>{function d(e){var s=this.__data__,o=s.delete(e);return this.size=s.size,o}r.exports=d}),"./node_modules/lodash/_stackGet.js":(r=>{function d(e){return this.__data__.get(e)}r.exports=d}),"./node_modules/lodash/_stackHas.js":(r=>{function d(e){return this.__data__.has(e)}r.exports=d}),"./node_modules/lodash/_stackSet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_ListCache.js"),o=e("./node_modules/lodash/_Map.js"),n=e("./node_modules/lodash/_MapCache.js"),i=200;function a(u,f){var c=this.__data__;if(c instanceof s){var p=c.__data__;if(!o||p.length<i-1)return p.push([u,f]),this.size=++c.size,this;c=this.__data__=new n(p)}return c.set(u,f),this.size=c.size,this}r.exports=a}),"./node_modules/lodash/_strictIndexOf.js":(r=>{function d(e,s,o){for(var n=o-1,i=e.length;++n<i;)if(e[n]===s)return n;return-1}r.exports=d}),"./node_modules/lodash/_stringToPath.js":((r,d,e)=>{var s=e("./node_modules/lodash/_memoizeCapped.js"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=s(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(o,function(f,c,p,_){u.push(p?_.replace(n,"$1"):c||f)}),u});r.exports=i}),"./node_modules/lodash/_toKey.js":((r,d,e)=>{var s=e("./node_modules/lodash/isSymbol.js"),o=1/0;function n(i){if(typeof i=="string"||s(i))return i;var a=i+"";return a=="0"&&1/i==-o?"-0":a}r.exports=n}),"./node_modules/lodash/_toSource.js":(r=>{var d=Function.prototype,e=d.toString;function s(o){if(o!=null){try{return e.call(o)}catch{}try{return o+""}catch{}}return""}r.exports=s}),"./node_modules/lodash/_trimmedEndIndex.js":(r=>{var d=/\s/;function e(s){for(var o=s.length;o--&&d.test(s.charAt(o)););return o}r.exports=e}),"./node_modules/lodash/before.js":((r,d,e)=>{var s=e("./node_modules/lodash/toInteger.js"),o="Expected a function";function n(i,a){var u;if(typeof a!="function")throw new TypeError(o);return i=s(i),function(){return--i>0&&(u=a.apply(this,arguments)),i<=1&&(a=void 0),u}}r.exports=n}),"./node_modules/lodash/clone.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseClone.js"),o=4;function n(i){return s(i,o)}r.exports=n}),"./node_modules/lodash/constant.js":(r=>{function d(e){return function(){return e}}r.exports=d}),"./node_modules/lodash/each.js":((r,d,e)=>{r.exports=e("./node_modules/lodash/forEach.js")}),"./node_modules/lodash/eq.js":(r=>{function d(e,s){return e===s||e!==e&&s!==s}r.exports=d}),"./node_modules/lodash/escape.js":((r,d,e)=>{var s=e("./node_modules/lodash/_escapeHtmlChar.js"),o=e("./node_modules/lodash/toString.js"),n=/[&<>"']/g,i=RegExp(n.source);function a(u){return u=o(u),u&&i.test(u)?u.replace(n,s):u}r.exports=a}),"./node_modules/lodash/filter.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayFilter.js"),o=e("./node_modules/lodash/_baseFilter.js"),n=e("./node_modules/lodash/_baseIteratee.js"),i=e("./node_modules/lodash/isArray.js");function a(u,f){var c=i(u)?s:o;return c(u,n(f,3))}r.exports=a}),"./node_modules/lodash/find.js":((r,d,e)=>{var s=e("./node_modules/lodash/_createFind.js"),o=e("./node_modules/lodash/findIndex.js"),n=s(o);r.exports=n}),"./node_modules/lodash/findIndex.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseFindIndex.js"),o=e("./node_modules/lodash/_baseIteratee.js"),n=e("./node_modules/lodash/toInteger.js"),i=Math.max;function a(u,f,c){var p=u==null?0:u.length;if(!p)return-1;var _=c==null?0:n(c);return _<0&&(_=i(p+_,0)),s(u,o(f,3),_)}r.exports=a}),"./node_modules/lodash/flatten.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseFlatten.js");function o(n){var i=n==null?0:n.length;return i?s(n,1):[]}r.exports=o}),"./node_modules/lodash/forEach.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayEach.js"),o=e("./node_modules/lodash/_baseEach.js"),n=e("./node_modules/lodash/_castFunction.js"),i=e("./node_modules/lodash/isArray.js");function a(u,f){var c=i(u)?s:o;return c(u,n(f))}r.exports=a}),"./node_modules/lodash/get.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGet.js");function o(n,i,a){var u=n==null?void 0:s(n,i);return u===void 0?a:u}r.exports=o}),"./node_modules/lodash/has.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseHas.js"),o=e("./node_modules/lodash/_hasPath.js");function n(i,a){return i!=null&&o(i,a,s)}r.exports=n}),"./node_modules/lodash/hasIn.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseHasIn.js"),o=e("./node_modules/lodash/_hasPath.js");function n(i,a){return i!=null&&o(i,a,s)}r.exports=n}),"./node_modules/lodash/identity.js":(r=>{function d(e){return e}r.exports=d}),"./node_modules/lodash/includes.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIndexOf.js"),o=e("./node_modules/lodash/isArrayLike.js"),n=e("./node_modules/lodash/isString.js"),i=e("./node_modules/lodash/toInteger.js"),a=e("./node_modules/lodash/values.js"),u=Math.max;function f(c,p,_,x){c=o(c)?c:a(c),_=_&&!x?i(_):0;var E=c.length;return _<0&&(_=u(E+_,0)),n(c)?_<=E&&c.indexOf(p,_)>-1:!!E&&s(c,p,_)>-1}r.exports=f}),"./node_modules/lodash/intersection.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayMap.js"),o=e("./node_modules/lodash/_baseIntersection.js"),n=e("./node_modules/lodash/_baseRest.js"),i=e("./node_modules/lodash/_castArrayLikeObject.js"),a=n(function(u){var f=s(u,i);return f.length&&f[0]===u[0]?o(f):[]});r.exports=a}),"./node_modules/lodash/isArguments.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIsArguments.js"),o=e("./node_modules/lodash/isObjectLike.js"),n=Object.prototype,i=n.hasOwnProperty,a=n.propertyIsEnumerable,u=s((function(){return arguments})())?s:function(f){return o(f)&&i.call(f,"callee")&&!a.call(f,"callee")};r.exports=u}),"./node_modules/lodash/isArray.js":(r=>{var d=Array.isArray;r.exports=d}),"./node_modules/lodash/isArrayLike.js":((r,d,e)=>{var s=e("./node_modules/lodash/isFunction.js"),o=e("./node_modules/lodash/isLength.js");function n(i){return i!=null&&o(i.length)&&!s(i)}r.exports=n}),"./node_modules/lodash/isArrayLikeObject.js":((r,d,e)=>{var s=e("./node_modules/lodash/isArrayLike.js"),o=e("./node_modules/lodash/isObjectLike.js");function n(i){return o(i)&&s(i)}r.exports=n}),"./node_modules/lodash/isBuffer.js":((r,d,e)=>{r=e.nmd(r);var s=e("./node_modules/lodash/_root.js"),o=e("./node_modules/lodash/stubFalse.js"),n=d&&!d.nodeType&&d,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,u=a?s.Buffer:void 0,f=u?u.isBuffer:void 0,c=f||o;r.exports=c}),"./node_modules/lodash/isFunction.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGetTag.js"),o=e("./node_modules/lodash/isObject.js"),n="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";function f(c){if(!o(c))return!1;var p=s(c);return p==i||p==a||p==n||p==u}r.exports=f}),"./node_modules/lodash/isLength.js":(r=>{var d=9007199254740991;function e(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=d}r.exports=e}),"./node_modules/lodash/isMap.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIsMap.js"),o=e("./node_modules/lodash/_baseUnary.js"),n=e("./node_modules/lodash/_nodeUtil.js"),i=n&&n.isMap,a=i?o(i):s;r.exports=a}),"./node_modules/lodash/isObject.js":(r=>{function d(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}r.exports=d}),"./node_modules/lodash/isObjectLike.js":(r=>{function d(e){return e!=null&&typeof e=="object"}r.exports=d}),"./node_modules/lodash/isSet.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIsSet.js"),o=e("./node_modules/lodash/_baseUnary.js"),n=e("./node_modules/lodash/_nodeUtil.js"),i=n&&n.isSet,a=i?o(i):s;r.exports=a}),"./node_modules/lodash/isString.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGetTag.js"),o=e("./node_modules/lodash/isArray.js"),n=e("./node_modules/lodash/isObjectLike.js"),i="[object String]";function a(u){return typeof u=="string"||!o(u)&&n(u)&&s(u)==i}r.exports=a}),"./node_modules/lodash/isSymbol.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseGetTag.js"),o=e("./node_modules/lodash/isObjectLike.js"),n="[object Symbol]";function i(a){return typeof a=="symbol"||o(a)&&s(a)==n}r.exports=i}),"./node_modules/lodash/isTypedArray.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseIsTypedArray.js"),o=e("./node_modules/lodash/_baseUnary.js"),n=e("./node_modules/lodash/_nodeUtil.js"),i=n&&n.isTypedArray,a=i?o(i):s;r.exports=a}),"./node_modules/lodash/keys.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayLikeKeys.js"),o=e("./node_modules/lodash/_baseKeys.js"),n=e("./node_modules/lodash/isArrayLike.js");function i(a){return n(a)?s(a):o(a)}r.exports=i}),"./node_modules/lodash/keysIn.js":((r,d,e)=>{var s=e("./node_modules/lodash/_arrayLikeKeys.js"),o=e("./node_modules/lodash/_baseKeysIn.js"),n=e("./node_modules/lodash/isArrayLike.js");function i(a){return n(a)?s(a,!0):o(a)}r.exports=i}),"./node_modules/lodash/last.js":(r=>{function d(e){var s=e==null?0:e.length;return s?e[s-1]:void 0}r.exports=d}),"./node_modules/lodash/memoize.js":((r,d,e)=>{var s=e("./node_modules/lodash/_MapCache.js"),o="Expected a function";function n(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(o);var u=function(){var f=arguments,c=a?a.apply(this,f):f[0],p=u.cache;if(p.has(c))return p.get(c);var _=i.apply(this,f);return u.cache=p.set(c,_)||p,_};return u.cache=new(n.Cache||s),u}n.Cache=s,r.exports=n}),"./node_modules/lodash/noop.js":(r=>{function d(){}r.exports=d}),"./node_modules/lodash/once.js":((r,d,e)=>{var s=e("./node_modules/lodash/before.js");function o(n){return s(2,n)}r.exports=o}),"./node_modules/lodash/property.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseProperty.js"),o=e("./node_modules/lodash/_basePropertyDeep.js"),n=e("./node_modules/lodash/_isKey.js"),i=e("./node_modules/lodash/_toKey.js");function a(u){return n(u)?s(i(u)):o(u)}r.exports=a}),"./node_modules/lodash/sortBy.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseFlatten.js"),o=e("./node_modules/lodash/_baseOrderBy.js"),n=e("./node_modules/lodash/_baseRest.js"),i=e("./node_modules/lodash/_isIterateeCall.js"),a=n(function(u,f){if(u==null)return[];var c=f.length;return c>1&&i(u,f[0],f[1])?f=[]:c>2&&i(f[0],f[1],f[2])&&(f=[f[0]]),o(u,s(f,1),[])});r.exports=a}),"./node_modules/lodash/startsWith.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseClamp.js"),o=e("./node_modules/lodash/_baseToString.js"),n=e("./node_modules/lodash/toInteger.js"),i=e("./node_modules/lodash/toString.js");function a(u,f,c){return u=i(u),c=c==null?0:s(n(c),0,u.length),f=o(f),u.slice(c,c+f.length)==f}r.exports=a}),"./node_modules/lodash/stubArray.js":(r=>{function d(){return[]}r.exports=d}),"./node_modules/lodash/stubFalse.js":(r=>{function d(){return!1}r.exports=d}),"./node_modules/lodash/toFinite.js":((r,d,e)=>{var s=e("./node_modules/lodash/toNumber.js"),o=1/0,n=17976931348623157e292;function i(a){if(!a)return a===0?a:0;if(a=s(a),a===o||a===-o){var u=a<0?-1:1;return u*n}return a===a?a:0}r.exports=i}),"./node_modules/lodash/toInteger.js":((r,d,e)=>{var s=e("./node_modules/lodash/toFinite.js");function o(n){var i=s(n),a=i%1;return i===i?a?i-a:i:0}r.exports=o}),"./node_modules/lodash/toNumber.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseTrim.js"),o=e("./node_modules/lodash/isObject.js"),n=e("./node_modules/lodash/isSymbol.js"),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt;function p(_){if(typeof _=="number")return _;if(n(_))return i;if(o(_)){var x=typeof _.valueOf=="function"?_.valueOf():_;_=o(x)?x+"":x}if(typeof _!="string")return _===0?_:+_;_=s(_);var E=u.test(_);return E||f.test(_)?c(_.slice(2),E?2:8):a.test(_)?i:+_}r.exports=p}),"./node_modules/lodash/toString.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseToString.js");function o(n){return n==null?"":s(n)}r.exports=o}),"./node_modules/lodash/values.js":((r,d,e)=>{var s=e("./node_modules/lodash/_baseValues.js"),o=e("./node_modules/lodash/keys.js");function n(i){return i==null?[]:s(i,o(i))}r.exports=n}),"./node_modules/map-indexed-xf/js/index.js":((r,d,e)=>{"use strict";var s=e("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(d,"__esModule",{value:!0}),d.default=a;var o=s(e("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=s(e("./node_modules/@babel/runtime/helpers/createClass.js")),i=(function(){function u(f,c){(0,o.default)(this,u),this.f=f,this.xform=c,this.i=-1}return(0,n.default)(u,[{key:"@@transducer/init",value:function(){return this.xform["@@transducer/init"]()}},{key:"@@transducer/result",value:function(c){return this.xform["@@transducer/result"](c)}},{key:"@@transducer/step",value:function(c,p){return this.i++,this.xform["@@transducer/step"](c,this.f(p,this.i))}}]),u})();function a(u){return function(f){return new i(u,f)}}r.exports=d.default,r.exports.default=d.default}),"./node_modules/pdelay/js/index.js":((r,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=e;function e(s,o){return new Promise(function(n){setTimeout(function(){n(o)},s)})}}),"./node_modules/querystring-es3/decode.js":(r=>{"use strict";function d(s,o){return Object.prototype.hasOwnProperty.call(s,o)}r.exports=function(s,o,n,i){o=o||"&",n=n||"=";var a={};if(typeof s!="string"||s.length===0)return a;var u=/\+/g;s=s.split(o);var f=1e3;i&&typeof i.maxKeys=="number"&&(f=i.maxKeys);var c=s.length;f>0&&c>f&&(c=f);for(var p=0;p<c;++p){var _=s[p].replace(u,"%20"),x=_.indexOf(n),E,P,O,C;x>=0?(E=_.substr(0,x),P=_.substr(x+1)):(E=_,P=""),O=decodeURIComponent(E),C=decodeURIComponent(P),d(a,O)?e(a[O])?a[O].push(C):a[O]=[a[O],C]:a[O]=C}return a};var e=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"}}),"./node_modules/querystring-es3/encode.js":(r=>{"use strict";var d=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};r.exports=function(n,i,a,u){return i=i||"&",a=a||"=",n===null&&(n=void 0),typeof n=="object"?s(o(n),function(f){var c=encodeURIComponent(d(f))+a;return e(n[f])?s(n[f],function(p){return c+encodeURIComponent(d(p))}).join(i):c+encodeURIComponent(d(n[f]))}).join(i):u?encodeURIComponent(d(u))+a+encodeURIComponent(d(n)):""};var e=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function s(n,i){if(n.map)return n.map(i);for(var a=[],u=0;u<n.length;u++)a.push(i(n[u],u));return a}var o=Object.keys||function(n){var i=[];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.push(a);return i}}),"./node_modules/querystring-es3/index.js":((r,d,e)=>{"use strict";d.decode=d.parse=e("./node_modules/querystring-es3/decode.js"),d.encode=d.stringify=e("./node_modules/querystring-es3/encode.js")}),"./node_modules/transducers.js/transducers.js":(r=>{var d=typeof Symbol<"u",e={iterator:d?Symbol.iterator:"@@iterator"};function s(m,T){throw new Error("don't know how to "+m+" collection: "+T)}function o(m,T){return T==="iterator"?m[e.iterator]||m.next:m[e[T]]}function n(m,T){return m[e[T]]}function i(m){var T=n(m,"iterator");if(T)return T.call(m);if(m.next)return m;if(c(m))return new a(m);if(_(m))return new u(m)}function a(m){this.arr=m,this.index=0}a.prototype.next=function(){return this.index<this.arr.length?{value:this.arr[this.index++],done:!1}:{done:!0}};function u(m){this.obj=m,this.keys=Object.keys(m),this.index=0}u.prototype.next=function(){if(this.index<this.keys.length){var m=this.keys[this.index++];return{value:[m,this.obj[m]],done:!1}}return{done:!0}};var f=Object.prototype.toString,c=typeof Array.isArray=="function"?Array.isArray:function(m){return f.call(m)=="[object Array]"};function p(m){return typeof m=="function"}function _(m){return m instanceof Object&&Object.getPrototypeOf(m)===Object.getPrototypeOf({})}function x(m){return typeof m=="number"}function E(m){this["@@transducer/reduced"]=!0,this["@@transducer/value"]=m}function P(m){return m instanceof E||m&&m["@@transducer/reduced"]}function O(m){return m["@@transducer/value"]}function C(m){return P(m)?m:new E(m)}function B(m){return P(m)?O(m):m}function k(m,T,ne){if(c(m)){for(var he=ne,Ee=-1,Pe=m.length;++Ee<Pe;)if(he=T["@@transducer/step"](he,m[Ee]),P(he)){he=O(he);break}return T["@@transducer/result"](he)}else if(_(m)||o(m,"iterator")){for(var he=ne,Oe=i(m),we=Oe.next();!we.done;){if(he=T["@@transducer/step"](he,we.value),P(he)){he=O(he);break}we=Oe.next()}return T["@@transducer/result"](he)}s("iterate",m)}function Z(m,T,ne,he){return T=T(ne),he===void 0&&(he=T["@@transducer/init"]()),k(m,T,he)}function S(){var m=Array.prototype.slice.call(arguments);return function(T){for(var ne=T,he=m.length-1;he>=0;he--)ne=m[he](ne);return ne}}function F(m){var T={};return T["@@transducer/init"]=function(){throw new Error("init value unavailable")},T["@@transducer/result"]=function(ne){return ne},T["@@transducer/step"]=m,T}function g(m,T,ne){if(ne=ne??1,T)switch(ne){case 1:return function(he){return m.call(T,he)};case 2:return function(he,Ee){return m.call(T,he,Ee)};default:return m.bind(T)}else return m}function R(m,T,ne){var he=-1,Ee=m.length,Pe=Array(Ee);for(T=g(T,ne,2);++he<Ee;)Pe[he]=T(m[he],he);return Pe}function N(m,T,ne){var he=m.length,Ee=[];T=g(T,ne,2);for(var Pe=0;Pe<he;Pe++)T(m[Pe],Pe)&&Ee.push(m[Pe]);return Ee}function I(m,T){this.xform=T,this.f=m}I.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},I.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},I.prototype["@@transducer/step"]=function(m,T){return this.xform["@@transducer/step"](m,this.f(T))};function X(m,T,ne){return p(m)&&(ne=T,T=m,m=null),T=g(T,ne),m?c(m)?R(m,T,ne):ye(m,X(T)):function(he){return new I(T,he)}}function se(m,T){this.xform=T,this.f=m}se.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},se.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},se.prototype["@@transducer/step"]=function(m,T){return this.f(T)?this.xform["@@transducer/step"](m,T):m};function Q(m,T,ne){return p(m)&&(ne=T,T=m,m=null),T=g(T,ne),m?c(m)?N(m,T,ne):ye(m,Q(T)):function(he){return new se(T,he)}}function $(m,T,ne){return p(m)&&(ne=T,T=m,m=null),T=g(T,ne),Q(m,function(he){return!T(he)})}function oe(m){return Q(m,function(T){return T!=null})}function le(m){this.xform=m,this.last=void 0}le.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},le.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},le.prototype["@@transducer/step"]=function(m,T){return T!==this.last?(this.last=T,this.xform["@@transducer/step"](m,T)):m};function ce(m){return m?ye(m,ce()):function(T){return new le(T)}}function ae(m,T){this.xform=T,this.f=m}ae.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},ae.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},ae.prototype["@@transducer/step"]=function(m,T){return this.f(T)?this.xform["@@transducer/step"](m,T):new E(m)};function fe(m,T,ne){return p(m)&&(ne=T,T=m,m=null),T=g(T,ne),m?ye(m,fe(T)):function(he){return new ae(T,he)}}function ge(m,T){this.n=m,this.i=0,this.xform=T}ge.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},ge.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},ge.prototype["@@transducer/step"]=function(m,T){return this.i<this.n&&(m=this.xform["@@transducer/step"](m,T),this.i+1>=this.n&&(m=C(m))),this.i++,m};function ie(m,T){return x(m)&&(T=m,m=null),m?ye(m,ie(T)):function(ne){return new ge(T,ne)}}function z(m,T){this.n=m,this.i=0,this.xform=T}z.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},z.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},z.prototype["@@transducer/step"]=function(m,T){return this.i++<this.n?m:this.xform["@@transducer/step"](m,T)};function J(m,T){return x(m)&&(T=m,m=null),m?ye(m,J(T)):function(ne){return new z(T,ne)}}function M(m,T){this.xform=T,this.f=m,this.dropping=!0}M.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},M.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},M.prototype["@@transducer/step"]=function(m,T){if(this.dropping){if(this.f(T))return m;this.dropping=!1}return this.xform["@@transducer/step"](m,T)};function L(m,T,ne){return p(m)&&(ne=T,T=m,m=null),T=g(T,ne),m?ye(m,L(T)):function(he){return new M(T,he)}}function D(m,T){this.n=m,this.i=0,this.xform=T,this.part=new Array(m)}D.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},D.prototype["@@transducer/result"]=function(m){return this.i>0?B(this.xform["@@transducer/step"](m,this.part.slice(0,this.i))):this.xform["@@transducer/result"](m)},D.prototype["@@transducer/step"]=function(m,T){if(this.part[this.i]=T,this.i+=1,this.i===this.n){var ne=this.part.slice(0,this.n);return this.part=new Array(this.n),this.i=0,this.xform["@@transducer/step"](m,ne)}return m};function Y(m,T){return x(m)&&(T=m,m=null),m?ye(m,Y(T)):function(ne){return new D(T,ne)}}var ee={};function ue(m,T){this.f=m,this.xform=T,this.part=[],this.last=ee}ue.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},ue.prototype["@@transducer/result"]=function(m){var T=this.part.length;return T>0?B(this.xform["@@transducer/step"](m,this.part.slice(0,T))):this.xform["@@transducer/result"](m)},ue.prototype["@@transducer/step"]=function(m,T){var ne=this.f(T);return ne===this.last||this.last===ee?this.part.push(T):(m=this.xform["@@transducer/step"](m,this.part),this.part=[T]),this.last=ne,m};function re(m,T,ne){return p(m)&&(ne=T,T=m,m=null),T=g(T,ne),m?ye(m,re(T)):function(he){return new ue(T,he)}}function _e(m,T){this.sep=m,this.xform=T,this.started=!1}_e.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},_e.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},_e.prototype["@@transducer/step"]=function(m,T){if(this.started){var ne=this.xform["@@transducer/step"](m,this.sep);return P(ne)?ne:this.xform["@@transducer/step"](ne,T)}else return this.started=!0,this.xform["@@transducer/step"](m,T)};function h(m,T){return arguments.length===1?(T=m,function(ne){return new _e(T,ne)}):ye(m,h(T))}function y(m,T){this.xform=T,this.n=m}y.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},y.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},y.prototype["@@transducer/step"]=function(m,T){for(var ne=this.n,he=m,Ee=0;Ee<ne&&(he=this.xform["@@transducer/step"](he,T),!P(he));Ee++);return he};function j(m,T){return arguments.length===1?(T=m,function(ne){return new y(T,ne)}):ye(m,j(T))}function K(m,T){this.xform=T,this.n=m,this.i=-1}K.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},K.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},K.prototype["@@transducer/step"]=function(m,T){return this.i+=1,this.i%this.n===0?this.xform["@@transducer/step"](m,T):m};function w(m,T){return arguments.length===1?(T=m,function(ne){return new K(T,ne)}):ye(m,w(T))}function H(m){this.xform=m}H.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},H.prototype["@@transducer/result"]=function(m){return this.xform["@@transducer/result"](m)},H.prototype["@@transducer/step"]=function(m,T){var ne=this.xform,he={};return he["@@transducer/init"]=function(){return ne["@@transducer/init"]()},he["@@transducer/result"]=function(Ee){return Ee},he["@@transducer/step"]=function(Ee,Pe){var Oe=ne["@@transducer/step"](Ee,Pe);return P(Oe)?O(Oe):Oe},k(T,he,m)};function U(m){return new H(m)}function A(m,T){return m=g(m,T),S(X(m),U)}function b(m,T){return m.push(T),m}function G(m,T){if(c(T)&&T.length===2)m[T[0]]=T[1];else for(var ne=Object.keys(T),he=ne.length,Ee=0;Ee<he;Ee++)m[ne[Ee]]=T[ne[Ee]];return m}var W={};W["@@transducer/init"]=function(){return[]},W["@@transducer/result"]=function(m){return m},W["@@transducer/step"]=b;var q={};q["@@transducer/init"]=function(){return{}},q["@@transducer/result"]=function(m){return m},q["@@transducer/step"]=G;function pe(m,T){return T?Z(m,T,W,[]):k(m,W,[])}function me(m,T){return T?Z(m,T,q,{}):k(m,q,{})}function ve(m,T){return T?new Ae(T,m):i(m)}function ye(m,T){if(c(m))return Z(m,T,W,[]);if(_(m))return Z(m,T,q,{});if(m["@@transducer/step"]){var ne;return m["@@transducer/init"]?ne=m["@@transducer/init"]():ne=new m.constructor,Z(m,T,m,ne)}else if(o(m,"iterator"))return new Ae(T,m);s("sequence",m)}function Se(m,T,ne){if(c(m))return Z(ne,T,W,m);if(_(m))return Z(ne,T,q,m);if(m["@@transducer/step"])return Z(ne,T,m,m);s("into",m)}var je={};je["@@transducer/result"]=function(m){return P(m)?O(m):m},je["@@transducer/step"]=function(m,T){return m.items.push(T),m.rest};function be(m,T){this.xform=m(je),this.iter=T}be.prototype["@@transducer/step"]=function(m){for(var T=m.items.length;m.items.length===T;){var ne=this.iter.next();if(ne.done||P(ne.value)){this.xform["@@transducer/result"](this);break}this.xform["@@transducer/step"](m,ne.value)}};function Ae(m,T){this.iter=i(T),this.items=[],this.stepper=new be(m,i(T))}Ae.prototype[e.iterator]=function(){return this},Ae.prototype.next=function(){return this["@@transducer/step"](),this.items.length?{value:this.items.pop(),done:!1}:{done:!0}},Ae.prototype["@@transducer/step"]=function(){this.items.length||this.stepper["@@transducer/step"](this)};function De(m){for(var T=new Array(m),ne=0;ne<T.length;ne++)T[ne]=ne;return T}r.exports={reduce:k,transformer:F,Reduced:E,isReduced:P,iterator:i,push:b,merge:G,transduce:Z,seq:ye,toArray:pe,toObj:me,toIter:ve,into:Se,compose:S,map:X,filter:Q,remove:$,cat:U,mapcat:A,keep:oe,dedupe:ce,take:ie,takeWhile:fe,takeNth:w,drop:J,dropWhile:L,partition:Y,partitionBy:re,interpose:h,repeat:j,range:De,LazyTransformer:Ae}}),"./node_modules/ud/js/index.js":((r,d,e)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.defn=c,d.defobj=u,d.defonce=a,d.markReloadable=i;var s=e("./node_modules/array-range/index.js"),o=e("./node_modules/zip-object/index.js"),n=new WeakMap;function i(p){p.hot&&p.hot.accept()}function a(p,_){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";i(p);var E=n.get(p);if(E||(E=new Set,n.set(p,E)),E.has(x))throw new Error("ud functions can only be used once per module with a given key");E.add(x);var P=!1,O=void 0;return p.hot&&(p.hot.data&&p.hot.data.__ud__&&Object.prototype.hasOwnProperty.call(p.hot.data.__ud__,x)&&(O=p.hot.data.__ud__[x],P=!0),p.hot.dispose(function(C){C.__ud__||(C.__ud__={}),C.__ud__[x]=O})),P||(O=_()),O}function u(p,_){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",E=a(p,function(){return _},"--defobj-"+x);return E!==_&&f(E,_),E}function f(p,_){Object.getOwnPropertyNames(p).filter(function(E){return!Object.prototype.hasOwnProperty.call(_,E)}).forEach(function(E){delete p[E]});var x=Object.getOwnPropertyNames(_);return Object.defineProperties(p,o(x,x.map(function(E){return Object.getOwnPropertyDescriptor(_,E)}).filter(Boolean).map(function(E){var P=E.value,O=E.enumerable;return{value:P,enumerable:O,writable:!0,configurable:!0}}))),p}function c(p,_){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",E=a(p,function(){if(!p.hot)return{fn:null,wrapper:_};var P={fn:null,wrapper:null},O=s(_.length).map(function(C){return"a"+C}).join(",");return P.wrapper=new Function("shared",`
      'use strict';
      return function `.concat(_.name,"__ud_wrapper(").concat(O,`) {
        if (new.target) {
          return Reflect.construct(shared.fn, arguments, new.target);
        } else {
          return shared.fn.apply(this, arguments);
        }
      };
      `))(P),_.prototype?(P.wrapper.prototype=Object.create(_.prototype),P.wrapper.prototype.constructor=P.wrapper):P.wrapper.prototype=_.prototype,P},"--defn-shared-"+x);return E.fn=_,p.hot&&(_.prototype&&E.wrapper.prototype&&Object.getPrototypeOf(E.wrapper.prototype)!==_.prototype&&Object.setPrototypeOf(E.wrapper.prototype,_.prototype),Object.setPrototypeOf(E.wrapper,_)),E.wrapper}}),"./node_modules/zip-object/index.js":(r=>{var d=function(e,s){arguments.length==1&&(s=e[1],e=e[0]);var o={},n=0;for(n;n<e.length;n+=1)o[e[n]]=s[n];return o};r.exports=d}),"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":(r=>{function d(e,s){(s==null||s>e.length)&&(s=e.length);for(var o=0,n=new Array(s);o<s;o++)n[o]=e[o];return n}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":((r,d,e)=>{var s=e("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function o(n){if(Array.isArray(n))return s(n)}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/classCallCheck.js":(r=>{function d(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/createClass.js":((r,d,e)=>{var s=e("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function o(i,a){for(var u=0;u<a.length;u++){var f=a[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,s(f.key),f)}}function n(i,a,u){return a&&o(i.prototype,a),u&&o(i,u),Object.defineProperty(i,"prototype",{writable:!1}),i}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":(r=>{function d(e){return e&&e.__esModule?e:{default:e}}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/iterableToArray.js":(r=>{function d(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":(r=>{function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/toConsumableArray.js":((r,d,e)=>{var s=e("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),o=e("./node_modules/@babel/runtime/helpers/iterableToArray.js"),n=e("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),i=e("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");function a(u){return s(u)||o(u)||n(u)||i()}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/toPrimitive.js":((r,d,e)=>{var s=e("./node_modules/@babel/runtime/helpers/typeof.js").default;function o(n,i){if(s(n)!=="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var u=a.call(n,i||"default");if(s(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/toPropertyKey.js":((r,d,e)=>{var s=e("./node_modules/@babel/runtime/helpers/typeof.js").default,o=e("./node_modules/@babel/runtime/helpers/toPrimitive.js");function n(i){var a=o(i,"string");return s(a)==="symbol"?a:String(a)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/typeof.js":(r=>{function d(e){"@babel/helpers - typeof";return r.exports=d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r.exports.__esModule=!0,r.exports.default=r.exports,d(e)}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports}),"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":((r,d,e)=>{var s=e("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function o(n,i){if(n){if(typeof n=="string")return s(n,i);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(n,i)}}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports})},ze={};function Te(r){var d=ze[r];if(d!==void 0)return d.exports;var e=ze[r]={id:r,loaded:!1,exports:{}};return Ft[r].call(e.exports,e,e.exports,Te),e.loaded=!0,e.exports}Te.amdD=function(){throw new Error("define cannot be used indirect")},Te.amdO={},Te.n=r=>{var d=r&&r.__esModule?()=>r.default:()=>r;return Te.d(d,{a:d}),d},Te.d=(r,d)=>{for(var e in d)Te.o(d,e)&&!Te.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:d[e]})},Te.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),Te.hmd=r=>(r=Object.create(r),r.children||(r.children=[]),Object.defineProperty(r,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+r.id)}}),r),Te.o=(r,d)=>Object.prototype.hasOwnProperty.call(r,d),Te.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},Te.nmd=r=>(r.paths=[],r.children||(r.children=[]),r);var sr={};(()=>{/*!*********************************!*\
  !*** ./src/injected-js/main.ts ***!
  \*********************************/if(document.location.origin!=="https://mail.google.com")throw new Error("Should not happen: InboxSDK pageWorld.js running in document that didn't request it.");if(!document.head?.hasAttribute("data-inboxsdk-script-injected"))throw new Error("Should not happen: InboxSDK pageWorld.js running in document that didn't request it.");if(!Te.g.__InboxSDKInjected){Te.g.__InboxSDKInjected=!0;const d=Te("./src/injected-js/injected-logger.ts");let e;try{Te.amdD&&Te.amdO&&(e=Te.amdD,Te.amdD=null);const s=Te("./node_modules/ext-corb-workaround/dist/src/pageWorld.js"),o=Te("./src/injected-js/xhr-helper.ts").default,n=Te("./src/injected-js/setup-data-exposer.ts").default,i=Te("./src/injected-js/setup-event-reemitter.ts").default,a=Te("./src/injected-js/setup-error-silencer.ts").default,u=Te("./src/injected-js/setupCustomViewEventAssassin.ts").default,f=Te("./src/injected-js/setupPushStateListener.ts").default,c=Te("./src/injected-js/setupInboxCustomViewLinkFixer.ts").default,p=Te("./src/injected-js/gmail/setup-gmail-interceptor.ts").default,_=Te("./src/injected-js/gmail/setup-gmonkey-handler.ts").default;p(),_(),s.init(),o(),n(),i(),a(),u(),f(),c()}catch(s){d.error(s)}finally{e&&(Te.amdD=e)}}})()})();
//# sourceMappingURL=pageWorld.js.map

//# debugId=9b87d5aa-5ed0-5422-9f80-8850324d62fa
