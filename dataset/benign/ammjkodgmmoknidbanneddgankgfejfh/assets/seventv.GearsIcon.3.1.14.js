var Ns=Object.defineProperty;var Ls=(n,e,t)=>e in n?Ns(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var D=(n,e,t)=>(Ls(n,typeof e!="symbol"?e+"":e,t),t),Vs=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var qn=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)};var en=(n,e,t)=>(Vs(n,e,"access private method"),t);import{a6 as Si,r as de,W as Ai,i as Ci,a as Ae,f as qe,a7 as ne,a8 as $r,a9 as ot,aa as qs,ab as Fi,ac as Oi,n as Pi,ad as Ri,ae as Ii,h as yn,af as Un,g as Us,ag as Hs,ah as Dn,ai as $i,u as se,_ as ce,x as z,l as H,m as Z,e as Ce,N as at,aj as Di,M as Dr,ak as Ws,F as er,E as Mi,G as nt,al as Zs,I as Bi,Q as Mr,R as Br,t as zi,D as Mt,a2 as Gs,B as un,H as tr,L as Ys,S as Qs,w as Xs,q as Js}from"./seventv.index.3.1.14.js";var eo=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ki;const Mn=n=>Ki=n,ji=Symbol();function nr(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Ct;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Ct||(Ct={}));function fc(){const n=Si(!0),e=n.run(()=>de({}));let t=[],r=[];const i=Ai({install(s){Mn(i),i._a=s,s.provide(ji,i),s.config.globalProperties.$pinia=i,r.forEach(o=>t.push(o)),r=[]},use(s){return!this._a&&!eo?r.push(s):t.push(s),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return i}const Ni=()=>{};function ai(n,e,t,r=Ni){n.push(e);const i=()=>{const s=n.indexOf(e);s>-1&&(n.splice(s,1),r())};return!t&&Fi()&&Oi(i),i}function ht(n,...e){n.slice().forEach(t=>{t(...e)})}const to=n=>n();function rr(n,e){n instanceof Map&&e instanceof Map&&e.forEach((t,r)=>n.set(r,t)),n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],i=n[t];nr(i)&&nr(r)&&n.hasOwnProperty(t)&&!ne(r)&&!$r(r)?n[t]=rr(i,r):n[t]=r}return n}const no=Symbol();function ro(n){return!nr(n)||!n.hasOwnProperty(no)}const{assign:je}=Object;function io(n){return!!(ne(n)&&n.effect)}function so(n,e,t,r){const{state:i,actions:s,getters:o}=e,a=t.state.value[n];let l;function h(){a||(t.state.value[n]=i?i():{});const u=Ii(t.state.value[n]);return je(u,s,Object.keys(o||{}).reduce((d,c)=>(d[c]=Ai(yn(()=>{Mn(t);const f=t._s.get(n);return o[c].call(f,f)})),d),{}))}return l=Li(n,h,e,t,r,!0),l}function Li(n,e,t={},r,i,s){let o;const a=je({actions:{}},t),l={deep:!0};let h,u,d=[],c=[],f;const m=r.state.value[n];!s&&!m&&(r.state.value[n]={}),de({});let p;function g(A){let k;h=u=!1,typeof A=="function"?(A(r.state.value[n]),k={type:Ct.patchFunction,storeId:n,events:f}):(rr(r.state.value[n],A),k={type:Ct.patchObject,payload:A,storeId:n,events:f});const $=p=Symbol();Pi().then(()=>{p===$&&(h=!0)}),u=!0,ht(d,k,r.state.value[n])}const b=s?function(){const{state:k}=t,$=k?k():{};this.$patch(I=>{je(I,$)})}:Ni;function y(){o.stop(),d=[],c=[],r._s.delete(n)}function w(A,k){return function(){Mn(r);const $=Array.from(arguments),I=[],G=[];function q(Y){I.push(Y)}function j(Y){G.push(Y)}ht(c,{args:$,name:A,store:_,after:q,onError:j});let ue;try{ue=k.apply(this&&this.$id===n?this:_,$)}catch(Y){throw ht(G,Y),Y}return ue instanceof Promise?ue.then(Y=>(ht(I,Y),Y)).catch(Y=>(ht(G,Y),Promise.reject(Y))):(ht(I,ue),ue)}}const v={_p:r,$id:n,$onAction:ai.bind(null,c),$patch:g,$reset:b,$subscribe(A,k={}){const $=ai(d,A,k.detached,()=>I()),I=o.run(()=>Ae(()=>r.state.value[n],G=>{(k.flush==="sync"?u:h)&&A({storeId:n,type:Ct.direct,events:f},G)},je({},l,k)));return $},$dispose:y},_=qe(v);r._s.set(n,_);const x=(r._a&&r._a.runWithContext||to)(()=>r._e.run(()=>(o=Si()).run(e)));for(const A in x){const k=x[A];if(ne(k)&&!io(k)||$r(k))s||(m&&ro(k)&&(ne(k)?k.value=m[A]:rr(k,m[A])),r.state.value[n][A]=k);else if(typeof k=="function"){const $=w(A,k);x[A]=$,a.actions[A]=k}}return je(_,x),je(ot(_),x),Object.defineProperty(_,"$state",{get:()=>r.state.value[n],set:A=>{g(k=>{je(k,A)})}}),r._p.forEach(A=>{je(_,o.run(()=>A({store:_,app:r._a,pinia:r,options:a})))}),m&&s&&t.hydrate&&t.hydrate(_.$state,m),h=!0,u=!0,_}function oo(n,e,t){let r,i;const s=typeof e=="function";typeof n=="string"?(r=n,i=s?t:e):(i=n,r=n.id);function o(a,l){const h=qs();return a=a||(h?Ci(ji,null):null),a&&Mn(a),a=Ki,a._s.has(r)||(s?Li(r,e,i,a):so(r,i,a)),a._s.get(r)}return o.$id=r,o}function pc(n){{n=ot(n);const e={};for(const t in n){const r=n[t];(ne(r)||$r(r))&&(e[t]=Ri(n,t))}return e}}const Dt=class Dt{constructor(){D(this,"pipe",null);D(this,"ctx","context unset")}static Get(){return this.instance??(Dt.instance=new Dt)}getPrefix(){return{text:"%c[7TV]",css:"color:#ef9234;"}}print(e,t,r,i){if(this.pipe){this.pipe(e,t,r,i);return}const s=this.getPrefix();console[e](s.text+" "+t.join(" ")+` (${this.ctx})`,s.css,...r,...i??[])}setContextName(e){this.ctx=e}debug(...e){return this.print("debug",["%c[DEBUG]%c",...e],["color:#32c8e6;","color:grey"])}debugWithObjects(e,t){return this.print("debug",["%c[DEBUG]%c",...e],["color:#32c8e6;","color:grey"],t)}info(...e){return this.print("info",["%c[INFO]%c",...e],["color:#3cf051;","color:reset;"])}warn(...e){return this.print("warn",["%c[WARN]%c",...e],["color:#fac837;","color:reset;"])}error(...e){return this.print("error",["%c[ERROR]%c",...e],["color:#e63232;","color:reset;"])}};D(Dt,"instance");let wn=Dt;const te=new wn;function ao(n){n.version(2.4).stores({channels:"id,timestamp",emoteSets:"id,timestamp,priority,provider,scope",emotes:"id,timestamp,name,owner.id",cosmetics:"id,timestamp",entitlements:"id,scope,timestamp,user_id",settings:"key"}),n.version(2.5).stores({channels:"id,timestamp",emoteSets:"id,timestamp,priority,provider,scope",emotes:"id,timestamp,name,owner.id",cosmetics:"id,timestamp,kind",entitlements:"id,scope,timestamp,user_id",settings:"key"}),n.version(2.6).stores({channels:"id,timestamp",emoteSets:"id,timestamp,priority,provider,scope",emotes:"id,timestamp,name,owner.id",cosmetics:"id,timestamp,kind",entitlements:"id,scope,timestamp,user_id,platform_id",settings:"key"})}const W=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X=Object.keys,ie=Array.isArray;function le(n,e){return typeof e!="object"||X(e).forEach(function(t){n[t]=e[t]}),n}typeof Promise>"u"||W.Promise||(W.Promise=Promise);const Bt=Object.getPrototypeOf,lo={}.hasOwnProperty;function be(n,e){return lo.call(n,e)}function yt(n,e){typeof e=="function"&&(e=e(Bt(n))),(typeof Reflect>"u"?X:Reflect.ownKeys)(e).forEach(t=>{Me(n,t,e[t])})}const Vi=Object.defineProperty;function Me(n,e,t,r){Vi(n,e,le(t&&be(t,"get")&&typeof t.get=="function"?{get:t.get,set:t.set,configurable:!0}:{value:t,configurable:!0,writable:!0},r))}function mt(n){return{from:function(e){return n.prototype=Object.create(e.prototype),Me(n.prototype,"constructor",n),{extend:yt.bind(null,n.prototype)}}}}const co=Object.getOwnPropertyDescriptor;function zr(n,e){let t;return co(n,e)||(t=Bt(n))&&zr(t,e)}const uo=[].slice;function vn(n,e,t){return uo.call(n,e,t)}function qi(n,e){return e(n)}function St(n){if(!n)throw new Error("Assertion Failed")}function Ui(n){W.setImmediate?setImmediate(n):setTimeout(n,0)}function Hi(n,e){return n.reduce((t,r,i)=>{var s=e(r,i);return s&&(t[s[0]]=s[1]),t},{})}function Be(n,e){if(be(n,e))return n[e];if(!e)return n;if(typeof e!="string"){for(var t=[],r=0,i=e.length;r<i;++r){var s=Be(n,e[r]);t.push(s)}return t}var o=e.indexOf(".");if(o!==-1){var a=n[e.substr(0,o)];return a===void 0?void 0:Be(a,e.substr(o+1))}}function ve(n,e,t){if(n&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(n)))if(typeof e!="string"&&"length"in e){St(typeof t!="string"&&"length"in t);for(var r=0,i=e.length;r<i;++r)ve(n,e[r],t[r])}else{var s=e.indexOf(".");if(s!==-1){var o=e.substr(0,s),a=e.substr(s+1);if(a==="")t===void 0?ie(n)&&!isNaN(parseInt(o))?n.splice(o,1):delete n[o]:n[o]=t;else{var l=n[o];l&&be(n,o)||(l=n[o]={}),ve(l,a,t)}}else t===void 0?ie(n)&&!isNaN(parseInt(e))?n.splice(e,1):delete n[e]:n[e]=t}}function Wi(n){var e={};for(var t in n)be(n,t)&&(e[t]=n[t]);return e}const ho=[].concat;function Zi(n){return ho.apply([],n)}const Gi="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Zi([8,16,32,64].map(n=>["Int","Uint","Float"].map(e=>e+n+"Array")))).filter(n=>W[n]),fo=Gi.map(n=>W[n]);Hi(Gi,n=>[n,!0]);let Le=null;function Ut(n){Le=typeof WeakMap<"u"&&new WeakMap;const e=ir(n);return Le=null,e}function ir(n){if(!n||typeof n!="object")return n;let e=Le&&Le.get(n);if(e)return e;if(ie(n)){e=[],Le&&Le.set(n,e);for(var t=0,r=n.length;t<r;++t)e.push(ir(n[t]))}else if(fo.indexOf(n.constructor)>=0)e=n;else{const s=Bt(n);for(var i in e=s===Object.prototype?{}:Object.create(s),Le&&Le.set(n,e),n)be(n,i)&&(e[i]=ir(n[i]))}return e}const{toString:po}={};function sr(n){return po.call(n).slice(8,-1)}const or=typeof Symbol<"u"?Symbol.iterator:"@@iterator",mo=typeof or=="symbol"?function(n){var e;return n!=null&&(e=n[or])&&e.apply(n)}:function(){return null},pt={};function Ie(n){var e,t,r,i;if(arguments.length===1){if(ie(n))return n.slice();if(this===pt&&typeof n=="string")return[n];if(i=mo(n)){for(t=[];!(r=i.next()).done;)t.push(r.value);return t}if(n==null)return[n];if(typeof(e=n.length)=="number"){for(t=new Array(e);e--;)t[e]=n[e];return t}return[n]}for(e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return t}const Kr=typeof Symbol<"u"?n=>n[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Fe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Yi(n,e){Fe=n,Qi=e}var Qi=()=>!0;const go=!new Error("").stack;function lt(){if(go)try{throw lt.arguments,new Error}catch(n){return n}return new Error}function ar(n,e){var t=n.stack;return t?(e=e||0,t.indexOf(n.name)===0&&(e+=(n.name+n.message).split(`
`).length),t.split(`
`).slice(e).filter(Qi).map(r=>`
`+r).join("")):""}var Xi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],jr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Xi),bo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function gt(n,e){this._e=lt(),this.name=n,this.message=e}function Ji(n,e){return n+". Errors: "+Object.keys(e).map(t=>e[t].toString()).filter((t,r,i)=>i.indexOf(t)===r).join(`
`)}function kn(n,e,t,r){this._e=lt(),this.failures=e,this.failedKeys=r,this.successCount=t,this.message=Ji(n,e)}function Ft(n,e){this._e=lt(),this.name="BulkError",this.failures=Object.keys(e).map(t=>e[t]),this.failuresByPos=e,this.message=Ji(n,e)}mt(gt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ar(this._e,2))}},toString:function(){return this.name+": "+this.message}}),mt(kn).from(gt),mt(Ft).from(gt);var Nr=jr.reduce((n,e)=>(n[e]=e+"Error",n),{});const yo=gt;var O=jr.reduce((n,e)=>{var t=e+"Error";function r(i,s){this._e=lt(),this.name=t,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=bo[e]||t,this.inner=null)}return mt(r).from(yo),n[e]=r,n},{});O.Syntax=SyntaxError,O.Type=TypeError,O.Range=RangeError;var li=Xi.reduce((n,e)=>(n[e+"Error"]=O[e],n),{}),hn=jr.reduce((n,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(n[e+"Error"]=O[e]),n),{});function V(){}function zt(n){return n}function wo(n,e){return n==null||n===zt?e:function(t){return e(n(t))}}function rt(n,e){return function(){n.apply(this,arguments),e.apply(this,arguments)}}function vo(n,e){return n===V?e:function(){var t=n.apply(this,arguments);t!==void 0&&(arguments[0]=t);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?rt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?rt(i,this.onerror):i),s!==void 0?s:t}}function ko(n,e){return n===V?e:function(){n.apply(this,arguments);var t=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),t&&(this.onsuccess=this.onsuccess?rt(t,this.onsuccess):t),r&&(this.onerror=this.onerror?rt(r,this.onerror):r)}}function _o(n,e){return n===V?e:function(t){var r=n.apply(this,arguments);le(t,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?rt(i,this.onsuccess):i),s&&(this.onerror=this.onerror?rt(s,this.onerror):s),r===void 0?o===void 0?void 0:o:le(r,o)}}function xo(n,e){return n===V?e:function(){return e.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function Lr(n,e){return n===V?e:function(){var t=n.apply(this,arguments);if(t&&typeof t.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return t.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}hn.ModifyError=kn,hn.DexieError=gt,hn.BulkError=Ft;var Kt={};const es=100,[lr,_n,cr]=typeof Promise>"u"?[]:(()=>{let n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,Bt(n),n];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Bt(e),n]})(),ts=_n&&_n.then,dn=lr&&lr.constructor,Vr=!!cr;var ur=!1,Eo=cr?()=>{cr.then(tn)}:W.setImmediate?setImmediate.bind(null,tn):W.MutationObserver?()=>{var n=document.createElement("div");new MutationObserver(()=>{tn(),n=null}).observe(n,{attributes:!0}),n.setAttribute("i","1")}:()=>{setTimeout(tn,0)},Ot=function(n,e){At.push([n,e]),xn&&(Eo(),xn=!1)},hr=!0,xn=!0,Je=[],fn=[],dr=null,fr=zt,bt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:hi,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(n=>{try{hi(n[0],n[1])}catch{}})}},F=bt,At=[],et=0,pn=[];function S(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=V,this._lib=!1;var e=this._PSD=F;if(Fe&&(this._stackHolder=lt(),this._prev=null,this._numPrev=0),typeof n!="function"){if(n!==Kt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&mr(this,this._value))}this._state=null,this._value=null,++e.ref,rs(this,n)}const pr={get:function(){var n=F,e=En;function t(r,i){var s=!n.global&&(n!==F||e!==En);const o=s&&!ze();var a=new S((l,h)=>{qr(this,new ns(Tn(r,n,s,o),Tn(i,n,s,o),l,h,n))});return Fe&&os(a,this),a}return t.prototype=Kt,t},set:function(n){Me(this,"then",n&&n.prototype===Kt?pr:{get:function(){return n},set:pr.set})}};function ns(n,e,t,r,i){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof e=="function"?e:null,this.resolve=t,this.reject=r,this.psd=i}function rs(n,e){try{e(t=>{if(n._state===null){if(t===n)throw new TypeError("A promise cannot be resolved with itself.");var r=n._lib&&Ht();t&&typeof t.then=="function"?rs(n,(i,s)=>{t instanceof S?t._then(i,s):t.then(i,s)}):(n._state=!0,n._value=t,is(n)),r&&Wt()}},mr.bind(null,n))}catch(t){mr(n,t)}}function mr(n,e){if(fn.push(e),n._state===null){var t=n._lib&&Ht();e=fr(e),n._state=!1,n._value=e,Fe&&e!==null&&typeof e=="object"&&!e._promise&&function(r,i,s){try{r.apply(null,s)}catch(o){i&&i(o)}}(()=>{var r=zr(e,"stack");e._promise=n,Me(e,"stack",{get:()=>ur?r&&(r.get?r.get.apply(e):r.value):n.stack})}),function(r){Je.some(i=>i._value===r._value)||Je.push(r)}(n),is(n),t&&Wt()}}function is(n){var e=n._listeners;n._listeners=[];for(var t=0,r=e.length;t<r;++t)qr(n,e[t]);var i=n._PSD;--i.ref||i.finalize(),et===0&&(++et,Ot(()=>{--et==0&&Ur()},[]))}function qr(n,e){if(n._state!==null){var t=n._state?e.onFulfilled:e.onRejected;if(t===null)return(n._state?e.resolve:e.reject)(n._value);++e.psd.ref,++et,Ot(To,[t,n,e])}else n._listeners.push(e)}function To(n,e,t){try{dr=e;var r,i=e._value;e._state?r=n(i):(fn.length&&(fn=[]),r=n(i),fn.indexOf(i)===-1&&function(s){for(var o=Je.length;o;)if(Je[--o]._value===s._value)return void Je.splice(o,1)}(e)),t.resolve(r)}catch(s){t.reject(s)}finally{dr=null,--et==0&&Ur(),--t.psd.ref||t.psd.finalize()}}function ss(n,e,t){if(e.length===t)return e;var r="";if(n._state===!1){var i,s,o=n._value;o!=null?(i=o.name||"Error",s=o.message||o,r=ar(o,0)):(i=o,s=""),e.push(i+(s?": "+s:"")+r)}return Fe&&((r=ar(n._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),n._prev&&ss(n._prev,e,t)),e}function os(n,e){var t=e?e._numPrev+1:0;t<100&&(n._prev=e,n._numPrev=t)}function tn(){Ht()&&Wt()}function Ht(){var n=hr;return hr=!1,xn=!1,n}function Wt(){var n,e,t;do for(;At.length>0;)for(n=At,At=[],t=n.length,e=0;e<t;++e){var r=n[e];r[0].apply(null,r[1])}while(At.length>0);hr=!0,xn=!0}function Ur(){var n=Je;Je=[],n.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=pn.slice(0),t=e.length;t;)e[--t]()}function nn(n){return new S(Kt,!1,n)}function Q(n,e){var t=F;return function(){var r=Ht(),i=F;try{return He(t,!0),n.apply(this,arguments)}catch(s){e&&e(s)}finally{He(i,!1),r&&Wt()}}}yt(S.prototype,{then:pr,_then:function(n,e){qr(this,new ns(null,null,n,e,F))},catch:function(n){if(arguments.length===1)return this.then(null,n);var e=arguments[0],t=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?t(r):nn(r)):this.then(null,r=>r&&r.name===e?t(r):nn(r))},finally:function(n){return this.then(e=>(n(),e),e=>(n(),nn(e)))},stack:{get:function(){if(this._stack)return this._stack;try{ur=!0;var n=ss(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=n),n}finally{ur=!1}}},timeout:function(n,e){return n<1/0?new S((t,r)=>{var i=setTimeout(()=>r(new O.Timeout(e)),n);this.then(t,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Me(S.prototype,Symbol.toStringTag,"Dexie.Promise"),bt.env=as(),yt(S,{all:function(){var n=Ie.apply(null,arguments).map(rn);return new S(function(e,t){n.length===0&&e([]);var r=n.length;n.forEach((i,s)=>S.resolve(i).then(o=>{n[s]=o,--r||e(n)},t))})},resolve:n=>{if(n instanceof S)return n;if(n&&typeof n.then=="function")return new S((t,r)=>{n.then(t,r)});var e=new S(Kt,!0,n);return os(e,dr),e},reject:nn,race:function(){var n=Ie.apply(null,arguments).map(rn);return new S((e,t)=>{n.map(r=>S.resolve(r).then(e,t))})},PSD:{get:()=>F,set:n=>F=n},totalEchoes:{get:()=>En},newPSD:Ue,usePSD:kt,scheduler:{get:()=>Ot,set:n=>{Ot=n}},rejectionMapper:{get:()=>fr,set:n=>{fr=n}},follow:(n,e)=>new S((t,r)=>Ue((i,s)=>{var o=F;o.unhandleds=[],o.onunhandled=s,o.finalize=rt(function(){(function(a){function l(){a(),pn.splice(pn.indexOf(l),1)}pn.push(l),++et,Ot(()=>{--et==0&&Ur()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),n()},e,t,r))}),dn&&(dn.allSettled&&Me(S,"allSettled",function(){const n=Ie.apply(null,arguments).map(rn);return new S(e=>{n.length===0&&e([]);let t=n.length;const r=new Array(t);n.forEach((i,s)=>S.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--t||e(r)))})}),dn.any&&typeof AggregateError<"u"&&Me(S,"any",function(){const n=Ie.apply(null,arguments).map(rn);return new S((e,t)=>{n.length===0&&t(new AggregateError([]));let r=n.length;const i=new Array(r);n.forEach((s,o)=>S.resolve(s).then(a=>e(a),a=>{i[o]=a,--r||t(new AggregateError(i))}))})}));const re={awaits:0,echoes:0,id:0};var So=0,mn=[],Hn=0,En=0,Ao=0;function Ue(n,e,t,r){var i=F,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++Ao;var o=bt.env;s.env=Vr?{Promise:S,PromiseProp:{value:S,configurable:!0,writable:!0},all:S.all,race:S.race,allSettled:S.allSettled,any:S.any,resolve:S.resolve,reject:S.reject,nthen:ci(o.nthen,s),gthen:ci(o.gthen,s)}:{},e&&le(s,e),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=kt(s,n,t,r);return s.ref===0&&s.finalize(),a}function vt(){return re.id||(re.id=++So),++re.awaits,re.echoes+=es,re.id}function ze(){return!!re.awaits&&(--re.awaits==0&&(re.id=0),re.echoes=re.awaits*es,!0)}function rn(n){return re.echoes&&n&&n.constructor===dn?(vt(),n.then(e=>(ze(),e),e=>(ze(),ee(e)))):n}function Co(n){++En,re.echoes&&--re.echoes!=0||(re.echoes=re.id=0),mn.push(F),He(n,!0)}function Fo(){var n=mn[mn.length-1];mn.pop(),He(n,!1)}function He(n,e){var t=F;if((e?!re.echoes||Hn++&&n===F:!Hn||--Hn&&n===F)||ls(e?Co.bind(null,n):Fo),n!==F&&(F=n,t===bt&&(bt.env=as()),Vr)){var r=bt.env.Promise,i=n.env;_n.then=i.nthen,r.prototype.then=i.gthen,(t.global||n.global)&&(Object.defineProperty(W,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function as(){var n=W.Promise;return Vr?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(W,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject,nthen:_n.then,gthen:n.prototype.then}:{}}function kt(n,e,t,r,i){var s=F;try{return He(n,!0),e(t,r,i)}finally{He(s,!1)}}function ls(n){ts.call(lr,n)}function Tn(n,e,t,r){return typeof n!="function"?n:function(){var i=F;t&&vt(),He(e,!0);try{return n.apply(this,arguments)}finally{He(i,!1),r&&ls(ze)}}}function ci(n,e){return function(t,r){return n.call(this,Tn(t,e),Tn(r,e))}}(""+ts).indexOf("[native code]")===-1&&(vt=ze=V);const ui="unhandledrejection";function hi(n,e){var t;try{t=e.onuncatched(n)}catch{}if(t!==!1)try{var r,i={promise:e,reason:n};if(W.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ui,!0,!0),le(r,i)):W.CustomEvent&&le(r=new CustomEvent(ui,{detail:i}),i),r&&W.dispatchEvent&&(dispatchEvent(r),!W.PromiseRejectionEvent&&W.onunhandledrejection))try{W.onunhandledrejection(r)}catch{}Fe&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${n.stack||n}`)}catch{}}var ee=S.reject;function gr(n,e,t,r){if(n.idbdb&&(n._state.openComplete||F.letThrough||n._vip)){var i=n._createTransaction(e,t,n._dbSchema);try{i.create(),n._state.PR1398_maxLoop=3}catch(s){return s.name===Nr.InvalidState&&n.isOpen()&&--n._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),n._close(),n.open().then(()=>gr(n,e,t,r))):ee(s)}return i._promise(e,(s,o)=>Ue(()=>(F.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(n._state.openComplete)return ee(new O.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen)return ee(new O.DatabaseClosed);n.open().catch(V)}return n._state.dbReadyPromise.then(()=>gr(n,e,t,r))}const di="3.2.4",Xe="ï¿¿",br=-1/0,Pe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",cs="String expected.",Pt=[],Bn=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Oo=Bn,Po=Bn,us=n=>!/(dexie\.js|dexie\.min\.js)/.test(n),zn="__dbnames",Wn="readonly",Zn="readwrite";function it(n,e){return n?e?function(){return n.apply(this,arguments)&&e.apply(this,arguments)}:n:e}const hs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function sn(n){return typeof n!="string"||/\./.test(n)?e=>e:e=>(e[n]===void 0&&n in e&&delete(e=Ut(e))[n],e)}class Ro{_trans(e,t,r){const i=this._tx||F.trans,s=this.name;function o(l,h,u){if(!u.schema[s])throw new O.NotFound("Table "+s+" not part of transaction");return t(u.idbtrans,u)}const a=Ht();try{return i&&i.db===this.db?i===F.trans?i._promise(e,o,r):Ue(()=>i._promise(e,o,r),{trans:i,transless:F.transless||F}):gr(this.db,e,[this.name],o)}finally{a&&Wt()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(i=>this.hook.reading.fire(i))).then(t)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(ie(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=X(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(h=>h.compound&&t.every(u=>h.keyPath.indexOf(u)>=0)&&h.keyPath.every(u=>t.indexOf(u)>=0))[0];if(r&&this.db._maxKey!==Xe)return this.where(r.name).equals(r.keyPath.map(h=>e[h]));!r&&Fe&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(h,u){try{return s.cmp(h,u)===0}catch{return!1}}const[a,l]=t.reduce(([h,u],d)=>{const c=i[d],f=e[d];return[h||c,h||!c?it(u,c&&c.multi?m=>{const p=Be(m,d);return ie(p)&&p.some(g=>o(f,g))}:m=>o(f,Be(m,d))):u]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(l):r?this.filter(l):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ie(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=r=>{if(!r)return r;const i=Object.create(e.prototype);for(var s in r)if(be(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass(function(e){le(this,e)})}add(e,t){const{auto:r,keyPath:i}=this.schema.primKey;let s=e;return i&&r&&(s=sn(i)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:t!=null?[t]:null,values:[s]})).then(o=>o.numFailures?S.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{ve(e,i,o)}catch{}return o})}update(e,t){if(typeof e!="object"||ie(e))return this.where(":id").equals(e).modify(t);{const r=Be(e,this.schema.primKey.keyPath);if(r===void 0)return ee(new O.InvalidArgument("Given object does not contain its primary key"));try{typeof t!="function"?X(t).forEach(i=>{ve(e,i,t[i])}):t(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(t)}}put(e,t){const{auto:r,keyPath:i}=this.schema.primKey;let s=e;return i&&r&&(s=sn(i)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:t!=null?[t]:null})).then(o=>o.numFailures?S.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{ve(e,i,o)}catch{}return o})}delete(e){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:[e]})).then(t=>t.numFailures?S.reject(t.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:hs})).then(e=>e.numFailures?S.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",t=>this.core.getMany({keys:e,trans:t}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(e,t,r){const i=Array.isArray(t)?t:void 0,s=(r=r||(i?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new O.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new O.InvalidArgument("Arguments objects and keys must have the same length");const h=e.length;let u=l&&a?e.map(sn(l)):e;return this.core.mutate({trans:o,type:"add",keys:i,values:u,wantResults:s}).then(({numFailures:d,results:c,lastResult:f,failures:m})=>{if(d===0)return s?c:f;throw new Ft(`${this.name}.bulkAdd(): ${d} of ${h} operations failed`,m)})})}bulkPut(e,t,r){const i=Array.isArray(t)?t:void 0,s=(r=r||(i?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new O.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new O.InvalidArgument("Arguments objects and keys must have the same length");const h=e.length;let u=l&&a?e.map(sn(l)):e;return this.core.mutate({trans:o,type:"put",keys:i,values:u,wantResults:s}).then(({numFailures:d,results:c,lastResult:f,failures:m})=>{if(d===0)return s?c:f;throw new Ft(`${this.name}.bulkPut(): ${d} of ${h} operations failed`,m)})})}bulkDelete(e){const t=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new Ft(`${this.name}.bulkDelete(): ${r} of ${t} operations failed`,s)})}}function Rt(n){var e={},t=function(o,a){if(a){for(var l=arguments.length,h=new Array(l-1);--l;)h[l-1]=arguments[l];return e[o].subscribe.apply(null,h),n}if(typeof o=="string")return e[o]};t.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return t;function s(o,a,l){if(typeof o!="object"){var h;a||(a=xo),l||(l=V);var u={subscribers:[],fire:l,subscribe:function(d){u.subscribers.indexOf(d)===-1&&(u.subscribers.push(d),u.fire=a(u.fire,d))},unsubscribe:function(d){u.subscribers=u.subscribers.filter(function(c){return c!==d}),u.fire=u.subscribers.reduce(a,l)}};return e[o]=t[o]=u,u}X(h=o).forEach(function(d){var c=h[d];if(ie(c))s(d,h[d][0],h[d][1]);else{if(c!=="asap")throw new O.InvalidArgument("Invalid event config");var f=s(d,zt,function(){for(var m=arguments.length,p=new Array(m);m--;)p[m]=arguments[m];f.subscribers.forEach(function(g){Ui(function(){g.apply(null,p)})})})}})}}function Et(n,e){return mt(e).from({prototype:n}),e}function dt(n,e){return!(n.filter||n.algorithm||n.or)&&(e?n.justLimit:!n.replayFilter)}function Gn(n,e){n.filter=it(n.filter,e)}function Yn(n,e,t){var r=n.replayFilter;n.replayFilter=r?()=>it(r(),e()):e,n.justLimit=t&&!r}function gn(n,e){if(n.isPrimKey)return e.primaryKey;const t=e.getIndexByKeyPath(n.index);if(!t)throw new O.Schema("KeyPath "+n.index+" on object store "+e.name+" is not indexed");return t}function fi(n,e,t){const r=gn(n,e.schema);return e.openCursor({trans:t,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:r,range:n.range}})}function on(n,e,t,r){const i=n.replayFilter?it(n.filter,n.replayFilter()):n.filter;if(n.or){const s={},o=(a,l,h)=>{if(!i||i(l,h,c=>l.stop(c),c=>l.fail(c))){var u=l.primaryKey,d=""+u;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(u)),be(s,d)||(s[d]=!0,e(a,l,h))}};return Promise.all([n.or._iterate(o,t),pi(fi(n,r,t),n.algorithm,o,!n.keysOnly&&n.valueMapper)])}return pi(fi(n,r,t),it(n.algorithm,i),e,!n.keysOnly&&n.valueMapper)}function pi(n,e,t,r){var i=Q(r?(s,o,a)=>t(r(s),o,a):t);return n.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();e&&!e(s,a=>o=a,a=>{s.stop(a),o=V},a=>{s.fail(a),o=V})||i(s.value,s,a=>o=a),o()})})}function oe(n,e){try{const t=mi(n),r=mi(e);if(t!==r)return t==="Array"?1:r==="Array"?-1:t==="binary"?1:r==="binary"?-1:t==="string"?1:r==="string"?-1:t==="Date"?1:r!=="Date"?NaN:-1;switch(t){case"number":case"Date":case"string":return n>e?1:n<e?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let h=0;h<l;++h)if(i[h]!==s[h])return i[h]<s[h]?-1:1;return o===a?0:o<a?-1:1}(gi(n),gi(e));case"Array":return function(i,s){const o=i.length,a=s.length,l=o<a?o:a;for(let h=0;h<l;++h){const u=oe(i[h],s[h]);if(u!==0)return u}return o===a?0:o<a?-1:1}(n,e)}}catch{}return NaN}function mi(n){const e=typeof n;if(e!=="object")return e;if(ArrayBuffer.isView(n))return"binary";const t=sr(n);return t==="ArrayBuffer"?"binary":t}function gi(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}class Io{_read(e,t){var r=this._ctx;return r.error?r.table._trans(null,ee.bind(null,r.error)):r.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ee.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=it(t.algorithm,e)}_iterate(e,t){return on(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&le(r,e),t._ctx=r,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read(r=>on(t,e,r,t.table.core))}count(e){return this._read(t=>{const r=this._ctx,i=r.table.core;if(dt(r,!0))return i.count({trans:t,query:{index:gn(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return on(r,()=>(++s,!1),t,i).then(()=>s)}).then(e)}sortBy(e,t){const r=e.split(".").reverse(),i=r[0],s=r.length-1;function o(h,u){return u?o(h[r[u]],u-1):h[i]}var a=this._ctx.dir==="next"?1:-1;function l(h,u){var d=o(h,s),c=o(u,s);return d<c?-a:d>c?a:0}return this.toArray(function(h){return h.sort(l)}).then(t)}toArray(e){return this._read(t=>{var r=this._ctx;if(r.dir==="next"&&dt(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=gn(r,r.table.core.schema);return r.table.core.query({trans:t,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return on(r,s=>i.push(s),t,r.table.core).then(()=>i)}},e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,dt(t)?Yn(t,()=>{var r=e;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):Yn(t,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Yn(this._ctx,()=>{var t=e;return function(r,i,s){return--t<=0&&i(s),t>=0}},!0),this}until(e,t){return Gn(this._ctx,function(r,i,s){return!e(r.value)||(i(s),t)}),this}first(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,r;return Gn(this._ctx,function(i){return e(i.value)}),t=this._ctx,r=e,t.isMatch=it(t.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,i){e(i.key,i)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,i){e(i.primaryKey,i)})}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(e)}primaryKeys(e){var t=this._ctx;if(t.dir==="next"&&dt(t,!0)&&t.limit>0)return this._read(i=>{var s=gn(t,t.table.core.schema);return t.table.core.query({trans:i,values:!1,limit:t.limit,query:{index:s,range:t.range}})}).then(({result:i})=>i).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(t){return t[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return Gn(this._ctx,function(i){var s=i.primaryKey.toString(),o=be(r,s);return r[s]=!0,!o}),this}modify(e){var t=this._ctx;return this._write(r=>{var i;if(typeof e=="function")i=e;else{var s=X(e),o=s.length;i=function(p){for(var g=!1,b=0;b<o;++b){var y=s[b],w=e[y];Be(p,y)!==w&&(ve(p,y,w),g=!0)}return g}}const a=t.table.core,{outbound:l,extractKey:h}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,d=[];let c=0;const f=[],m=(p,g)=>{const{failures:b,numFailures:y}=g;c+=p-y;for(let w of X(b))d.push(b[w])};return this.clone().primaryKeys().then(p=>{const g=b=>{const y=Math.min(u,p.length-b);return a.getMany({trans:r,keys:p.slice(b,b+y),cache:"immutable"}).then(w=>{const v=[],_=[],E=l?[]:null,x=[];for(let k=0;k<y;++k){const $=w[k],I={value:Ut($),primKey:p[b+k]};i.call(I,I.value,I)!==!1&&(I.value==null?x.push(p[b+k]):l||oe(h($),h(I.value))===0?(_.push(I.value),l&&E.push(p[b+k])):(x.push(p[b+k]),v.push(I.value)))}const A=dt(t)&&t.limit===1/0&&(typeof e!="function"||e===Qn)&&{index:t.index,range:t.range};return Promise.resolve(v.length>0&&a.mutate({trans:r,type:"add",values:v}).then(k=>{for(let $ in k.failures)x.splice(parseInt($),1);m(v.length,k)})).then(()=>(_.length>0||A&&typeof e=="object")&&a.mutate({trans:r,type:"put",keys:E,values:_,criteria:A,changeSpec:typeof e!="function"&&e}).then(k=>m(_.length,k))).then(()=>(x.length>0||A&&e===Qn)&&a.mutate({trans:r,type:"delete",keys:x,criteria:A}).then(k=>m(x.length,k))).then(()=>p.length>b+y&&g(b+u))})};return g(0).then(()=>{if(d.length>0)throw new kn("Error modifying one or more objects",d,c,f);return p.length})})})}delete(){var e=this._ctx,t=e.range;return dt(e)&&(e.isPrimKey&&!Po||t.type===3)?this._write(r=>{const{primaryKey:i}=e.table.core.schema,s=t;return e.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:l,results:h,numFailures:u})=>{if(u)throw new kn("Could not delete some values",Object.keys(a).map(d=>a[d]),o-u);return o-u}))}):this.modify(Qn)}}const Qn=(n,e)=>e.value=null;function $o(n,e){return n<e?-1:n===e?0:1}function Do(n,e){return n>e?-1:n===e?0:1}function fe(n,e,t){var r=n instanceof fs?new n.Collection(n):n;return r._ctx.error=t?new t(e):new TypeError(e),r}function ft(n){return new n.Collection(n,()=>ds("")).limit(0)}function Mo(n,e,t,r,i,s){for(var o=Math.min(n.length,r.length),a=-1,l=0;l<o;++l){var h=e[l];if(h!==r[l])return i(n[l],t[l])<0?n.substr(0,l)+t[l]+t.substr(l+1):i(n[l],r[l])<0?n.substr(0,l)+r[l]+t.substr(l+1):a>=0?n.substr(0,a)+e[a]+t.substr(a+1):null;i(n[l],h)<0&&(a=l)}return o<r.length&&s==="next"?n+t.substr(n.length):o<n.length&&s==="prev"?n.substr(0,t.length):a<0?null:n.substr(0,a)+r[a]+t.substr(a+1)}function an(n,e,t,r){var i,s,o,a,l,h,u,d=t.length;if(!t.every(p=>typeof p=="string"))return fe(n,cs);function c(p){i=function(b){return b==="next"?y=>y.toUpperCase():y=>y.toLowerCase()}(p),s=function(b){return b==="next"?y=>y.toLowerCase():y=>y.toUpperCase()}(p),o=p==="next"?$o:Do;var g=t.map(function(b){return{lower:s(b),upper:i(b)}}).sort(function(b,y){return o(b.lower,y.lower)});a=g.map(function(b){return b.upper}),l=g.map(function(b){return b.lower}),h=p,u=p==="next"?"":r}c("next");var f=new n.Collection(n,()=>Ne(a[0],l[d-1]+r));f._ondirectionchange=function(p){c(p)};var m=0;return f._addAlgorithm(function(p,g,b){var y=p.key;if(typeof y!="string")return!1;var w=s(y);if(e(w,l,m))return!0;for(var v=null,_=m;_<d;++_){var E=Mo(y,w,a[_],l[_],o,h);E===null&&v===null?m=_+1:(v===null||o(v,E)>0)&&(v=E)}return g(v!==null?function(){p.continue(v+u)}:b),!1}),f}function Ne(n,e,t,r){return{type:2,lower:n,upper:e,lowerOpen:t,upperOpen:r}}function ds(n){return{type:1,lower:n,upper:n}}class fs{get Collection(){return this._ctx.table.db.Collection}between(e,t,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,t)>0||this._cmp(e,t)===0&&(r||i)&&(!r||!i)?ft(this):new this.Collection(this,()=>Ne(e,t,!r,!i))}catch{return fe(this,Pe)}}equals(e){return e==null?fe(this,Pe):new this.Collection(this,()=>ds(e))}above(e){return e==null?fe(this,Pe):new this.Collection(this,()=>Ne(e,void 0,!0))}aboveOrEqual(e){return e==null?fe(this,Pe):new this.Collection(this,()=>Ne(e,void 0,!1))}below(e){return e==null?fe(this,Pe):new this.Collection(this,()=>Ne(void 0,e,!1,!0))}belowOrEqual(e){return e==null?fe(this,Pe):new this.Collection(this,()=>Ne(void 0,e))}startsWith(e){return typeof e!="string"?fe(this,cs):this.between(e,e+Xe,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):an(this,(t,r)=>t.indexOf(r[0])===0,[e],Xe)}equalsIgnoreCase(e){return an(this,(t,r)=>t===r[0],[e],"")}anyOfIgnoreCase(){var e=Ie.apply(pt,arguments);return e.length===0?ft(this):an(this,(t,r)=>r.indexOf(t)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=Ie.apply(pt,arguments);return e.length===0?ft(this):an(this,(t,r)=>r.some(i=>t.indexOf(i)===0),e,Xe)}anyOf(){const e=Ie.apply(pt,arguments);let t=this._cmp;try{e.sort(t)}catch{return fe(this,Pe)}if(e.length===0)return ft(this);const r=new this.Collection(this,()=>Ne(e[0],e[e.length-1]));r._ondirectionchange=s=>{t=s==="next"?this._ascending:this._descending,e.sort(t)};let i=0;return r._addAlgorithm((s,o,a)=>{const l=s.key;for(;t(l,e[i])>0;)if(++i,i===e.length)return o(a),!1;return t(l,e[i])===0||(o(()=>{s.continue(e[i])}),!1)}),r}notEqual(e){return this.inAnyRange([[br,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Ie.apply(pt,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return fe(this,Pe)}const t=e.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[br,i]],null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(e.length===0)return ft(this);if(!e.every(y=>y[0]!==void 0&&y[1]!==void 0&&i(y[0],y[1])<=0))return fe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",O.InvalidArgument);const l=!t||t.includeLowers!==!1,h=t&&t.includeUppers===!0;let u,d=i;function c(y,w){return d(y[0],w[0])}try{u=e.reduce(function(y,w){let v=0,_=y.length;for(;v<_;++v){const E=y[v];if(r(w[0],E[1])<0&&r(w[1],E[0])>0){E[0]=o(E[0],w[0]),E[1]=a(E[1],w[1]);break}}return v===_&&y.push(w),y},[]),u.sort(c)}catch{return fe(this,Pe)}let f=0;const m=h?y=>i(y,u[f][1])>0:y=>i(y,u[f][1])>=0,p=l?y=>s(y,u[f][0])>0:y=>s(y,u[f][0])>=0;let g=m;const b=new this.Collection(this,()=>Ne(u[0][0],u[u.length-1][1],!l,!h));return b._ondirectionchange=y=>{y==="next"?(g=m,d=i):(g=p,d=s),u.sort(c)},b._addAlgorithm((y,w,v)=>{for(var _=y.key;g(_);)if(++f,f===u.length)return w(v),!1;return!!function(E){return!m(E)&&!p(E)}(_)||(this._cmp(_,u[f][1])===0||this._cmp(_,u[f][0])===0||w(()=>{d===i?y.continue(u[f][0]):y.continue(u[f][1])}),!1)}),b}startsWithAnyOf(){const e=Ie.apply(pt,arguments);return e.every(t=>typeof t=="string")?e.length===0?ft(this):this.inAnyRange(e.map(t=>[t,t+Xe])):fe(this,"startsWithAnyOf() only works with strings")}}function Ee(n){return Q(function(e){return jt(e),n(e.target.error),!1})}function jt(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}const Nt="storagemutated",Ve="x-storagemutated-1",We=Rt(null,Nt);class Bo{_lock(){return St(!F.global),++this._reculock,this._reculock!==1||F.global||(F.lockOwnerFor=this),this}_unlock(){if(St(!F.global),--this._reculock==0)for(F.global||(F.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{kt(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&F.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,r=this.db._state.dbOpenError;if(St(!this.idbtrans),!e&&!t)switch(r&&r.name){case"DatabaseClosedError":throw new O.DatabaseClosed(r);case"MissingAPIError":throw new O.MissingAPI(r.message,r);default:throw new O.OpenFailed(r)}if(!this.active)throw new O.TransactionInactive;return St(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Q(i=>{jt(i),this._reject(e.error)}),e.onabort=Q(i=>{jt(i),this.active&&this._reject(new O.Abort(e.error)),this.active=!1,this.on("abort").fire(i)}),e.oncomplete=Q(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&We.storagemutated.fire(e.mutatedParts)}),this}_promise(e,t,r){if(e==="readwrite"&&this.mode!=="readwrite")return ee(new O.ReadOnly("Transaction is readonly"));if(!this.active)return ee(new O.TransactionInactive);if(this._locked())return new S((s,o)=>{this._blockedFuncs.push([()=>{this._promise(e,t,r).then(s,o)},F])});if(r)return Ue(()=>{var s=new S((o,a)=>{this._lock();const l=t(o,a,this);l&&l.then&&l.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new S((s,o)=>{var a=t(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const r=S.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then(()=>r);else{t._waitingFor=r,t._waitingQueue=[];var i=t.idbtrans.objectStore(t.storeNames[0]);(function o(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=t._waitingFor;return new S((o,a)=>{r.then(l=>t._waitingQueue.push(Q(o.bind(null,l))),l=>t._waitingQueue.push(Q(a.bind(null,l)))).finally(()=>{t._waitingFor===s&&(t._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new O.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(be(t,e))return t[e];const r=this.schema[e];if(!r)throw new O.NotFound("Table "+e+" not part of transaction");const i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),t[e]=i,i}}function yr(n,e,t,r,i,s,o){return{name:n,keyPath:e,unique:t,multi:r,auto:i,compound:s,src:(t&&!o?"&":"")+(r?"*":"")+(i?"++":"")+ps(e)}}function ps(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function ms(n,e,t){return{name:n,primKey:e,indexes:t,mappedClass:null,idxByName:Hi(t,r=>[r.name,r])}}let Lt=n=>{try{return n.only([[]]),Lt=()=>[[]],[[]]}catch{return Lt=()=>Xe,Xe}};function wr(n){return n==null?()=>{}:typeof n=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>Be(r,e)}(n):e=>Be(e,n)}function bi(n){return[].slice.call(n)}let zo=0;function It(n){return n==null?":id":typeof n=="string"?n:`[${n.join("+")}]`}function Ko(n,e,t){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:h,upper:u,lowerOpen:d,upperOpen:c}=l;return h===void 0?u===void 0?null:e.upperBound(u,!!c):u===void 0?e.lowerBound(h,!!d):e.bound(h,u,!!d,!!c)}const{schema:i,hasGetAll:s}=function(l,h){const u=bi(l.objectStoreNames);return{schema:{name:l.name,tables:u.map(d=>h.objectStore(d)).map(d=>{const{keyPath:c,autoIncrement:f}=d,m=ie(c),p=c==null,g={},b={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p,compound:m,keyPath:c,autoIncrement:f,unique:!0,extractKey:wr(c)},indexes:bi(d.indexNames).map(y=>d.index(y)).map(y=>{const{name:w,unique:v,multiEntry:_,keyPath:E}=y,x={name:w,compound:ie(E),keyPath:E,unique:v,multiEntry:_,extractKey:wr(E)};return g[It(E)]=x,x}),getIndexByKeyPath:y=>g[It(y)]};return g[":id"]=b.primaryKey,c!=null&&(g[It(c)]=b.primaryKey),b})},hasGetAll:u.length>0&&"getAll"in h.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(n,t),o=i.tables.map(l=>function(h){const u=h.name;return{name:u,schema:h,mutate:function({trans:d,type:c,keys:f,values:m,range:p}){return new Promise((g,b)=>{g=Q(g);const y=d.objectStore(u),w=y.keyPath==null,v=c==="put"||c==="add";if(!v&&c!=="delete"&&c!=="deleteRange")throw new Error("Invalid operation type: "+c);const{length:_}=f||m||{length:1};if(f&&m&&f.length!==m.length)throw new Error("Given keys array must have same length as given values array.");if(_===0)return g({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const x=[],A=[];let k=0;const $=G=>{++k,jt(G)};if(c==="deleteRange"){if(p.type===4)return g({numFailures:k,failures:A,results:[],lastResult:void 0});p.type===3?x.push(E=y.clear()):x.push(E=y.delete(r(p)))}else{const[G,q]=v?w?[m,f]:[m,null]:[f,null];if(v)for(let j=0;j<_;++j)x.push(E=q&&q[j]!==void 0?y[c](G[j],q[j]):y[c](G[j])),E.onerror=$;else for(let j=0;j<_;++j)x.push(E=y[c](G[j])),E.onerror=$}const I=G=>{const q=G.target.result;x.forEach((j,ue)=>j.error!=null&&(A[ue]=j.error)),g({numFailures:k,failures:A,results:c==="delete"?f:x.map(j=>j.result),lastResult:q})};E.onerror=G=>{$(G),I(G)},E.onsuccess=I})},getMany:({trans:d,keys:c})=>new Promise((f,m)=>{f=Q(f);const p=d.objectStore(u),g=c.length,b=new Array(g);let y,w=0,v=0;const _=x=>{const A=x.target;b[A._pos]=A.result,++v===w&&f(b)},E=Ee(m);for(let x=0;x<g;++x)c[x]!=null&&(y=p.get(c[x]),y._pos=x,y.onsuccess=_,y.onerror=E,++w);w===0&&f(b)}),get:({trans:d,key:c})=>new Promise((f,m)=>{f=Q(f);const p=d.objectStore(u).get(c);p.onsuccess=g=>f(g.target.result),p.onerror=Ee(m)}),query:function(d){return c=>new Promise((f,m)=>{f=Q(f);const{trans:p,values:g,limit:b,query:y}=c,w=b===1/0?void 0:b,{index:v,range:_}=y,E=p.objectStore(u),x=v.isPrimaryKey?E:E.index(v.name),A=r(_);if(b===0)return f({result:[]});if(d){const k=g?x.getAll(A,w):x.getAllKeys(A,w);k.onsuccess=$=>f({result:$.target.result}),k.onerror=Ee(m)}else{let k=0;const $=g||!("openKeyCursor"in x)?x.openCursor(A):x.openKeyCursor(A),I=[];$.onsuccess=G=>{const q=$.result;return q?(I.push(g?q.value:q.primaryKey),++k===b?f({result:I}):void q.continue()):f({result:I})},$.onerror=Ee(m)}})}(s),openCursor:function({trans:d,values:c,query:f,reverse:m,unique:p}){return new Promise((g,b)=>{g=Q(g);const{index:y,range:w}=f,v=d.objectStore(u),_=y.isPrimaryKey?v:v.index(y.name),E=m?p?"prevunique":"prev":p?"nextunique":"next",x=c||!("openKeyCursor"in _)?_.openCursor(r(w),E):_.openKeyCursor(r(w),E);x.onerror=Ee(b),x.onsuccess=Q(A=>{const k=x.result;if(!k)return void g(null);k.___id=++zo,k.done=!1;const $=k.continue.bind(k);let I=k.continuePrimaryKey;I&&(I=I.bind(k));const G=k.advance.bind(k),q=()=>{throw new Error("Cursor not stopped")};k.trans=d,k.stop=k.continue=k.continuePrimaryKey=k.advance=()=>{throw new Error("Cursor not started")},k.fail=Q(b),k.next=function(){let j=1;return this.start(()=>j--?this.continue():this.stop()).then(()=>this)},k.start=j=>{const ue=new Promise((J,ke)=>{J=Q(J),x.onerror=Ee(ke),k.fail=ke,k.stop=Oe=>{k.stop=k.continue=k.continuePrimaryKey=k.advance=q,J(Oe)}}),Y=()=>{if(x.result)try{j()}catch(J){k.fail(J)}else k.done=!0,k.start=()=>{throw new Error("Cursor behind last entry")},k.stop()};return x.onsuccess=Q(J=>{x.onsuccess=Y,Y()}),k.continue=$,k.continuePrimaryKey=I,k.advance=G,Y(),ue},g(k)},b)})},count({query:d,trans:c}){const{index:f,range:m}=d;return new Promise((p,g)=>{const b=c.objectStore(u),y=f.isPrimaryKey?b:b.index(f.name),w=r(m),v=w?y.count(w):y.count();v.onsuccess=Q(_=>p(_.target.result)),v.onerror=Ee(g)})}}}(l)),a={};return o.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:n.transaction.bind(n),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:Lt(e),schema:i}}function vr({_novip:n},e){const t=e.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},l){return{dbcore:function(u,d){return d.reduce((c,{create:f})=>({...c,...f(c)}),u)}(Ko(s,o,l),i.dbcore)}}(n._middlewares,t,n._deps,e);n.core=r.dbcore,n.tables.forEach(i=>{const s=i.name;n.core.schema.tables.some(o=>o.name===s)&&(i.core=n.core.table(s),n[s]instanceof n.Table&&(n[s].core=i.core))})}function Sn({_novip:n},e,t,r){t.forEach(i=>{const s=r[i];e.forEach(o=>{const a=zr(o,i);(!a||"value"in a&&a.value===void 0)&&(o===n.Transaction.prototype||o instanceof n.Transaction?Me(o,i,{get(){return this.table(i)},set(l){Vi(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new n.Table(i,s))})})}function kr({_novip:n},e){e.forEach(t=>{for(let r in t)t[r]instanceof n.Table&&delete t[r]})}function jo(n,e){return n._cfg.version-e._cfg.version}function No(n,e,t,r){const i=n._dbSchema,s=n._createTransaction("readwrite",n._storeNames,i);s.create(t),s._completion.catch(r);const o=s._reject.bind(s),a=F.transless||F;Ue(()=>{F.trans=s,F.transless=a,e===0?(X(i).forEach(l=>{Xn(t,l,i[l].primKey,i[l].indexes)}),vr(n,t),S.follow(()=>n.on.populate.fire(s)).catch(o)):function({_novip:l},h,u,d){const c=[],f=l._versions;let m=l._dbSchema=xr(l,l.idbdb,d),p=!1;const g=f.filter(y=>y._cfg.version>=h);function b(){return c.length?S.resolve(c.shift()(u.idbtrans)).then(b):S.resolve()}return g.forEach(y=>{c.push(()=>{const w=m,v=y._cfg.dbschema;Er(l,w,d),Er(l,v,d),m=l._dbSchema=v;const _=gs(w,v);_.add.forEach(x=>{Xn(d,x[0],x[1].primKey,x[1].indexes)}),_.change.forEach(x=>{if(x.recreate)throw new O.Upgrade("Not yet support for changing primary key");{const A=d.objectStore(x.name);x.add.forEach(k=>_r(A,k)),x.change.forEach(k=>{A.deleteIndex(k.name),_r(A,k)}),x.del.forEach(k=>A.deleteIndex(k))}});const E=y._cfg.contentUpgrade;if(E&&y._cfg.version>h){vr(l,d),u._memoizedTables={},p=!0;let x=Wi(v);_.del.forEach(I=>{x[I]=w[I]}),kr(l,[l.Transaction.prototype]),Sn(l,[l.Transaction.prototype],X(x),x),u.schema=x;const A=Kr(E);let k;A&&vt();const $=S.follow(()=>{if(k=E(u),k&&A){var I=ze.bind(null,null);k.then(I,I)}});return k&&typeof k.then=="function"?S.resolve(k):$.then(()=>k)}}),c.push(w=>{(!p||!Oo)&&function(v,_){[].slice.call(_.db.objectStoreNames).forEach(E=>v[E]==null&&_.db.deleteObjectStore(E))}(y._cfg.dbschema,w),kr(l,[l.Transaction.prototype]),Sn(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),u.schema=l._dbSchema})}),b().then(()=>{var y,w;w=d,X(y=m).forEach(v=>{w.db.objectStoreNames.contains(v)||Xn(w,v,y[v].primKey,y[v].indexes)})})}(n,e,s,t).catch(o)})}function gs(n,e){const t={del:[],add:[],change:[]};let r;for(r in n)e[r]||t.del.push(r);for(r in e){const i=n[r],s=e[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!Bn)o.recreate=!0,t.change.push(o);else{const a=i.idxByName,l=s.idxByName;let h;for(h in a)l[h]||o.del.push(h);for(h in l){const u=a[h],d=l[h];u?u.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&t.change.push(o)}}else t.add.push([r,s])}return t}function Xn(n,e,t,r){const i=n.db.createObjectStore(e,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});return r.forEach(s=>_r(i,s)),i}function _r(n,e){n.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function xr(n,e,t){const r={};return vn(e.objectStoreNames,0).forEach(i=>{const s=t.objectStore(i);let o=s.keyPath;const a=yr(ps(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[];for(let u=0;u<s.indexNames.length;++u){const d=s.index(s.indexNames[u]);o=d.keyPath;var h=yr(d.name,o,!!d.unique,!!d.multiEntry,!1,o&&typeof o!="string",!1);l.push(h)}r[i]=ms(i,a,l)}),r}function Er({_novip:n},e,t){const r=t.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=t.objectStore(s);n._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const l=o.indexNames[a],h=o.index(l).keyPath,u=typeof h=="string"?h:"["+vn(h).join("+")+"]";if(e[s]){const d=e[s].idxByName[u];d&&(d.name=l,delete e[s].idxByName[u],e[s].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&W.WorkerGlobalScope&&W instanceof W.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}class Lo{_parseStoresSpec(e,t){X(e).forEach(r=>{if(e[r]!==null){var i=e[r].split(",").map((o,a)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return yr(l,h||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),ie(h),a===0)}),s=i.shift();if(s.multi)throw new O.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new O.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new O.Schema("Index must have a name and cannot be an empty string")}),t[r]=ms(r,s,i)}})}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?le(this._cfg.storesSource,e):e;const r=t._versions,i={};let s={};return r.forEach(o=>{le(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),t._dbSchema=s,kr(t,[t._allTables,t,t.Transaction.prototype]),Sn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],X(s),s),t._storeNames=X(s),this}upgrade(e){return this._cfg.contentUpgrade=Lr(this._cfg.contentUpgrade||V,e),this}}function Hr(n,e){let t=n._dbNamesDB;return t||(t=n._dbNamesDB=new tt(zn,{addons:[],indexedDB:n,IDBKeyRange:e}),t.version(1).stores({dbnames:"name"})),t.table("dbnames")}function Wr(n){return n&&typeof n.databases=="function"}function Tr(n){return Ue(function(){return F.letThrough=!0,n()})}function Vo(){var n;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var t=function(){return indexedDB.databases().finally(e)};n=setInterval(t,100),t()}).finally(function(){return clearInterval(n)}):Promise.resolve()}function qo(n){const e=n._state,{indexedDB:t}=n._deps;if(e.isBeingOpened||n.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?ee(e.dbOpenError):n);Fe&&(e.openCanceller._stackHolder=lt()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new O.DatabaseClosed("db.open() was cancelled")}let s=e.dbReadyResolve,o=null,a=!1;return S.race([r,(typeof navigator>"u"?S.resolve():Vo()).then(()=>new S((l,h)=>{if(i(),!t)throw new O.MissingAPI;const u=n.name,d=e.autoSchema?t.open(u):t.open(u,Math.round(10*n.verno));if(!d)throw new O.MissingAPI;d.onerror=Ee(h),d.onblocked=Q(n._fireOnBlocked),d.onupgradeneeded=Q(c=>{if(o=d.transaction,e.autoSchema&&!n._options.allowEmptyDB){d.onerror=jt,o.abort(),d.result.close();const m=t.deleteDatabase(u);m.onsuccess=m.onerror=Q(()=>{h(new O.NoSuchDatabase(`Database ${u} doesnt exist`))})}else{o.onerror=Ee(h);var f=c.oldVersion>Math.pow(2,62)?0:c.oldVersion;a=f<1,n._novip.idbdb=d.result,No(n,f/10,o,h)}},h),d.onsuccess=Q(()=>{o=null;const c=n._novip.idbdb=d.result,f=vn(c.objectStoreNames);if(f.length>0)try{const p=c.transaction((m=f).length===1?m[0]:m,"readonly");e.autoSchema?function({_novip:g},b,y){g.verno=b.version/10;const w=g._dbSchema=xr(0,b,y);g._storeNames=vn(b.objectStoreNames,0),Sn(g,[g._allTables],X(w),w)}(n,c,p):(Er(n,n._dbSchema,p),function(g,b){const y=gs(xr(0,g.idbdb,b),g._dbSchema);return!(y.add.length||y.change.some(w=>w.add.length||w.change.length))}(n,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vr(n,p)}catch{}var m;Pt.push(n),c.onversionchange=Q(p=>{e.vcFired=!0,n.on("versionchange").fire(p)}),c.onclose=Q(p=>{n.on("close").fire(p)}),a&&function({indexedDB:p,IDBKeyRange:g},b){!Wr(p)&&b!==zn&&Hr(p,g).put({name:b}).catch(V)}(n._deps,u),l()},h)}))]).then(()=>(i(),e.onReadyBeingFired=[],S.resolve(Tr(()=>n.on.ready.fire(n.vip))).then(function l(){if(e.onReadyBeingFired.length>0){let h=e.onReadyBeingFired.reduce(Lr,V);return e.onReadyBeingFired=[],S.resolve(Tr(()=>h(n.vip))).then(l)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>n).catch(l=>{e.dbOpenError=l;try{o&&o.abort()}catch{}return r===e.openCanceller&&n._close(),ee(l)}).finally(()=>{e.openComplete=!0,s()})}function Sr(n){var e=s=>n.next(s),t=i(e),r=i(s=>n.throw(s));function i(s){return o=>{var a=s(o),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(t,r):ie(l)?Promise.all(l).then(t,r):t(l)}}return i(e)()}function Uo(n,e,t){var r=arguments.length;if(r<2)throw new O.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return t=i.pop(),[n,Zi(i),t]}function bs(n,e,t,r,i){return S.resolve().then(()=>{const s=F.transless||F,o=n._createTransaction(e,t,n._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),n._state.PR1398_maxLoop=3}catch(d){return d.name===Nr.InvalidState&&n.isOpen()&&--n._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),n._close(),n.open().then(()=>bs(n,e,t,null,i))):ee(d)}const l=Kr(i);let h;l&&vt();const u=S.follow(()=>{if(h=i.call(o,o),h)if(l){var d=ze.bind(null,null);h.then(d,d)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=Sr(h))},a);return(h&&typeof h.then=="function"?S.resolve(h).then(d=>o.active?d:ee(new O.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>h)).then(d=>(r&&o._resolve(),o._completion.then(()=>d))).catch(d=>(o._reject(d),ee(d)))})}function ln(n,e,t){const r=ie(n)?n.slice():[n];for(let i=0;i<t;++i)r.push(e);return r}const Ho={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return{...n,table(e){const t=n.table(e),{schema:r}=t,i={},s=[];function o(u,d,c){const f=It(u),m=i[f]=i[f]||[],p=u==null?0:typeof u=="string"?1:u.length,g=d>0,b={...c,isVirtual:g,keyTail:d,keyLength:p,extractKey:wr(u),unique:!g&&c.unique};return m.push(b),b.isPrimaryKey||s.push(b),p>1&&o(p===2?u[0]:u.slice(0,p-1),d+1,c),m.sort((y,w)=>y.keyTail-w.keyTail),b}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const u of r.indexes)o(u.keyPath,0,u);function l(u){const d=u.query.index;return d.isVirtual?{...u,query:{index:d,range:(c=u.query.range,f=d.keyTail,{type:c.type===1?2:c.type,lower:ln(c.lower,c.lowerOpen?n.MAX_KEY:n.MIN_KEY,f),lowerOpen:!0,upper:ln(c.upper,c.upperOpen?n.MIN_KEY:n.MAX_KEY,f),upperOpen:!0})}}:u;var c,f}return{...t,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(u){const d=i[It(u)];return d&&d[0]}},count:u=>t.count(l(u)),query:u=>t.query(l(u)),openCursor(u){const{keyTail:d,isVirtual:c,keyLength:f}=u.query.index;return c?t.openCursor(l(u)).then(m=>m&&function(p){return Object.create(p,{continue:{value:function(b){b!=null?p.continue(ln(b,u.reverse?n.MAX_KEY:n.MIN_KEY,d)):u.unique?p.continue(p.key.slice(0,f).concat(u.reverse?n.MIN_KEY:n.MAX_KEY,d)):p.continue()}},continuePrimaryKey:{value(b,y){p.continuePrimaryKey(ln(b,n.MAX_KEY,d),y)}},primaryKey:{get:()=>p.primaryKey},key:{get(){const b=p.key;return f===1?b[0]:b.slice(0,f)}},value:{get:()=>p.value}})}(m)):t.openCursor(u)}}}}}};function Zr(n,e,t,r){return t=t||{},r=r||"",X(n).forEach(i=>{if(be(e,i)){var s=n[i],o=e[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=sr(s);a!==sr(o)?t[r+i]=e[i]:a==="Object"?Zr(s,o,t,r+i+"."):s!==o&&(t[r+i]=e[i])}else s!==o&&(t[r+i]=e[i])}else t[r+i]=void 0}),X(e).forEach(i=>{be(n,i)||(t[r+i]=e[i])}),t}const Wo={stack:"dbcore",name:"HooksMiddleware",level:2,create:n=>({...n,table(e){const t=n.table(e),{primaryKey:r}=t.schema;return{...t,mutate(s){const o=F.trans,{deleting:a,creating:l,updating:h}=o.table(e).hook;switch(s.type){case"add":if(l.fire===V)break;return o._promise("readwrite",()=>u(s),!0);case"put":if(l.fire===V&&h.fire===V)break;return o._promise("readwrite",()=>u(s),!0);case"delete":if(a.fire===V)break;return o._promise("readwrite",()=>u(s),!0);case"deleteRange":if(a.fire===V)break;return o._promise("readwrite",()=>function(c){return d(c.trans,c.range,1e4)}(s),!0)}return t.mutate(s);function u(c){const f=F.trans,m=c.keys||function(p,g){return g.type==="delete"?g.keys:g.keys||g.values.map(p.extractKey)}(r,c);if(!m)throw new Error("Keys missing");return(c=c.type==="add"||c.type==="put"?{...c,keys:m}:{...c}).type!=="delete"&&(c.values=[...c.values]),c.keys&&(c.keys=[...c.keys]),function(p,g,b){return g.type==="add"?Promise.resolve([]):p.getMany({trans:g.trans,keys:b,cache:"immutable"})}(t,c,m).then(p=>{const g=m.map((b,y)=>{const w=p[y],v={onerror:null,onsuccess:null};if(c.type==="delete")a.fire.call(v,b,w,f);else if(c.type==="add"||w===void 0){const _=l.fire.call(v,b,c.values[y],f);b==null&&_!=null&&(b=_,c.keys[y]=b,r.outbound||ve(c.values[y],r.keyPath,b))}else{const _=Zr(w,c.values[y]),E=h.fire.call(v,_,b,w,f);if(E){const x=c.values[y];Object.keys(E).forEach(A=>{be(x,A)?x[A]=E[A]:ve(x,A,E[A])})}}return v});return t.mutate(c).then(({failures:b,results:y,numFailures:w,lastResult:v})=>{for(let _=0;_<m.length;++_){const E=y?y[_]:m[_],x=g[_];E==null?x.onerror&&x.onerror(b[_]):x.onsuccess&&x.onsuccess(c.type==="put"&&p[_]?c.values[_]:E)}return{failures:b,results:y,numFailures:w,lastResult:v}}).catch(b=>(g.forEach(y=>y.onerror&&y.onerror(b)),Promise.reject(b)))})}function d(c,f,m){return t.query({trans:c,values:!1,query:{index:r,range:f},limit:m}).then(({result:p})=>u({type:"delete",keys:p,trans:c}).then(g=>g.numFailures>0?Promise.reject(g.failures[0]):p.length<m?{failures:[],numFailures:0,lastResult:void 0}:d(c,{...f,lower:p[p.length-1],lowerOpen:!0},m)))}}}}})};function ys(n,e,t){try{if(!e||e.keys.length<n.length)return null;const r=[];for(let i=0,s=0;i<e.keys.length&&s<n.length;++i)oe(e.keys[i],n[s])===0&&(r.push(t?Ut(e.values[i]):e.values[i]),++s);return r.length===n.length?r:null}catch{return null}}const Zo={stack:"dbcore",level:-1,create:n=>({table:e=>{const t=n.table(e);return{...t,getMany:r=>{if(!r.cache)return t.getMany(r);const i=ys(r.keys,r.trans._cache,r.cache==="clone");return i?S.resolve(i):t.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Ut(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),t.mutate(r))}}})};function Gr(n){return!("from"in n)}const Re=function(n,e){if(!this){const t=new Re;return n&&"d"in n&&le(t,n),t}le(this,arguments.length?{d:1,from:n,to:arguments.length>1?e:n}:{d:0})};function Vt(n,e,t){const r=oe(e,t);if(isNaN(r))return;if(r>0)throw RangeError();if(Gr(n))return le(n,{from:e,to:t,d:1});const i=n.l,s=n.r;if(oe(t,n.from)<0)return i?Vt(i,e,t):n.l={from:e,to:t,d:1,l:null,r:null},yi(n);if(oe(e,n.to)>0)return s?Vt(s,e,t):n.r={from:e,to:t,d:1,l:null,r:null},yi(n);oe(e,n.from)<0&&(n.from=e,n.l=null,n.d=s?s.d+1:1),oe(t,n.to)>0&&(n.to=t,n.r=null,n.d=n.l?n.l.d+1:1);const o=!n.r;i&&!n.l&&An(n,i),s&&o&&An(n,s)}function An(n,e){Gr(e)||function t(r,{from:i,to:s,l:o,r:a}){Vt(r,i,s),o&&t(r,o),a&&t(r,a)}(n,e)}function Go(n,e){const t=Ar(e);let r=t.next();if(r.done)return!1;let i=r.value;const s=Ar(n);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(oe(a.from,i.to)<=0&&oe(a.to,i.from)>=0)return!0;oe(i.from,a.from)<0?i=(r=t.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function Ar(n){let e=Gr(n)?null:{s:0,n};return{next(t){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&oe(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||oe(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function yi(n){var e,t;const r=(((e=n.r)===null||e===void 0?void 0:e.d)||0)-(((t=n.l)===null||t===void 0?void 0:t.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...n},a=n[i];n.from=a.from,n.to=a.to,n[i]=a[i],o[i]=a[s],n[s]=o,o.d=wi(o)}n.d=wi(n)}function wi({r:n,l:e}){return(n?e?Math.max(n.d,e.d):n.d:e?e.d:0)+1}yt(Re.prototype,{add(n){return An(this,n),this},addKey(n){return Vt(this,n,n),this},addKeys(n){return n.forEach(e=>Vt(this,e,e)),this},[or](){return Ar(this)}});const Yo={stack:"dbcore",level:0,create:n=>{const e=n.schema.name,t=new Re(n.MIN_KEY,n.MAX_KEY);return{...n,table:r=>{const i=n.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:l}=o,h={...i,mutate:c=>{const f=c.trans,m=f.mutatedParts||(f.mutatedParts={}),p=E=>{const x=`idb://${e}/${r}/${E}`;return m[x]||(m[x]=new Re)},g=p(""),b=p(":dels"),{type:y}=c;let[w,v]=c.type==="deleteRange"?[c.range]:c.type==="delete"?[c.keys]:c.values.length<50?[[],c.values]:[];const _=c.trans._cache;return i.mutate(c).then(E=>{if(ie(w)){y!=="delete"&&(w=E.results),g.addKeys(w);const x=ys(w,_);x||y==="add"||b.addKeys(w),(x||v)&&function(A,k,$,I){function G(q){const j=A(q.name||"");function ue(J){return J!=null?q.extractKey(J):null}const Y=J=>q.multiEntry&&ie(J)?J.forEach(ke=>j.addKey(ke)):j.addKey(J);($||I).forEach((J,ke)=>{const Oe=$&&ue($[ke]),Ye=I&&ue(I[ke]);oe(Oe,Ye)!==0&&(Oe!=null&&Y(Oe),Ye!=null&&Y(Ye))})}k.indexes.forEach(G)}(p,s,x,v)}else if(w){const x={from:w.lower,to:w.upper};b.add(x),g.add(x)}else g.add(t),b.add(t),s.indexes.forEach(x=>p(x.name).add(t));return E})}},u=({query:{index:c,range:f}})=>{var m,p;return[c,new Re((m=f.lower)!==null&&m!==void 0?m:n.MIN_KEY,(p=f.upper)!==null&&p!==void 0?p:n.MAX_KEY)]},d={get:c=>[o,new Re(c.key)],getMany:c=>[o,new Re().addKeys(c.keys)],count:u,query:u,openCursor:u};return X(d).forEach(c=>{h[c]=function(f){const{subscr:m}=F;if(m){const p=v=>{const _=`idb://${e}/${r}/${v}`;return m[_]||(m[_]=new Re)},g=p(""),b=p(":dels"),[y,w]=d[c](f);if(p(y.name||"").add(w),!y.isPrimaryKey){if(c!=="count"){const v=c==="query"&&l&&f.values&&i.query({...f,values:!1});return i[c].apply(this,arguments).then(_=>{if(c==="query"){if(l&&f.values)return v.then(({result:x})=>(g.addKeys(x),_));const E=f.values?_.result.map(a):_.result;f.values?g.addKeys(E):b.addKeys(E)}else if(c==="openCursor"){const E=_,x=f.values;return E&&Object.create(E,{key:{get:()=>(b.addKey(E.primaryKey),E.key)},primaryKey:{get(){const A=E.primaryKey;return b.addKey(A),A}},value:{get:()=>(x&&g.addKey(E.primaryKey),E.value)}})}return _})}b.add(t)}}return i[c].apply(this,arguments)}}),h}}}};class tt{constructor(e,t){this._middlewares={},this.verno=0;const r=tt.dependencies;this._options=t={addons:tt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:i}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:V,dbReadyPromise:null,cancelOpen:V,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new S(a=>{s.dbReadyResolve=a}),s.openCanceller=new S((a,l)=>{s.cancelOpen=l}),this._state=s,this.name=e,this.on=Rt(this,"populate","blocked","versionchange","close",{ready:[Lr,V]}),this.on.ready.subscribe=qi(this.on.ready.subscribe,a=>(l,h)=>{tt.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||S.resolve().then(l),h&&a(l);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(l),h&&a(l);else{a(l);const d=this;h||a(function c(){d.on.ready.unsubscribe(l),d.on.ready.unsubscribe(c)})}})}),this.Collection=(o=this,Et(Io.prototype,function(a,l){this.db=o;let h=hs,u=null;if(l)try{h=l()}catch(m){u=m}const d=a._ctx,c=d.table,f=c.hook.reading.fire;this._ctx={table:c,index:d.index,isPrimKey:!d.index||c.schema.primKey.keyPath&&d.index===c.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:d.or,valueMapper:f!==zt?f:null}})),this.Table=function(a){return Et(Ro.prototype,function(l,h,u){this.db=a,this._tx=u,this.name=l,this.schema=h,this.hook=a._allTables[l]?a._allTables[l].hook:Rt(null,{creating:[vo,V],reading:[wo,zt],updating:[_o,V],deleting:[ko,V]})})}(this),this.Transaction=function(a){return Et(Bo.prototype,function(l,h,u,d,c){this.db=a,this.mode=l,this.storeNames=h,this.schema=u,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=Rt(this,"complete","error","abort"),this.parent=c||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new S((f,m)=>{this._resolve=f,this._reject=m}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var m=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):m&&this.idbtrans&&this.idbtrans.abort(),ee(f)})})}(this),this.Version=function(a){return Et(Lo.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return Et(fs.prototype,function(l,h,u){this.db=a,this._ctx={table:l,index:h===":id"?null:h,or:u};const d=a._deps.indexedDB;if(!d)throw new O.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(c,f)=>d.cmp(f,c),this._max=(c,f)=>d.cmp(c,f)>0?c:f,this._min=(c,f)=>d.cmp(c,f)<0?c:f,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Lt(t.IDBKeyRange),this._createTransaction=(a,l,h,u)=>new this.Transaction(a,l,h,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Pt.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(Ho),this.use(Wo),this.use(Yo),this.use(Zo),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new O.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new O.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var r=t.filter(i=>i._cfg.version===e)[0];return r||(r=new this.Version(e),t.push(r),t.sort(jo),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||F.letThrough||this._vip)?e():new S((t,r)=>{if(this._state.openComplete)return r(new O.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new O.DatabaseClosed);this.open().catch(V)}this._state.dbReadyPromise.then(t,r)}).then(e)}use({stack:e,create:t,level:r,name:i}){i&&this.unuse({stack:e,name:i});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:e,name:t,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(i=>r?i.create!==r:!!t&&i.name!==t)),this}open(){return qo(this)}_close(){const e=this._state,t=Pt.indexOf(this);if(t>=0&&Pt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new S(r=>{e.dbReadyResolve=r}),e.openCanceller=new S((r,i)=>{e.cancelOpen=i})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new O.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new S((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=Q(()=>{(function({indexedDB:a,IDBKeyRange:l},h){!Wr(a)&&h!==zn&&Hr(a,l).delete(h).catch(V)})(this._deps,this.name),r()}),o.onerror=Ee(i),o.onblocked=this._fireOnBlocked};if(e)throw new O.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return X(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Uo.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,r){let i=F.trans;i&&i.db===this&&e.indexOf("!")===-1||(i=null);const s=e.indexOf("?")!==-1;let o,a;e=e.replace("!","").replace("?","");try{if(a=t.map(h=>{var u=h instanceof this.Table?h.name:h;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),e=="r"||e===Wn)o=Wn;else{if(e!="rw"&&e!=Zn)throw new O.InvalidArgument("Invalid transaction mode: "+e);o=Zn}if(i){if(i.mode===Wn&&o===Zn){if(!s)throw new O.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(h=>{if(i&&i.storeNames.indexOf(h)===-1){if(!s)throw new O.SubTransaction("Table "+h+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(h){return i?i._promise(null,(u,d)=>{d(h)}):ee(h)}const l=bs.bind(null,this,o,a,i,r);return i?i._promise(o,l,"lock"):F.trans?kt(F.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!be(this._allTables,e))throw new O.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Qo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Xo{constructor(e){this._subscribe=e}subscribe(e,t,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:r})}[Qo](){return this}}function ws(n,e){return X(e).forEach(t=>{An(n[t]||(n[t]=new Re),e[t])}),n}function Cr(n){let e,t=!1;const r=new Xo(i=>{const s=Kr(n);let o=!1,a={},l={};const h={get closed(){return o},unsubscribe:()=>{o=!0,We.storagemutated.unsubscribe(f)}};i.start&&i.start(h);let u=!1,d=!1;function c(){return X(l).some(p=>a[p]&&Go(a[p],l[p]))}const f=p=>{ws(a,p),c()&&m()},m=()=>{if(u||o)return;a={};const p={},g=function(b){s&&vt();const y=()=>Ue(n,{subscr:b,trans:null}),w=F.trans?kt(F.transless,y):y();return s&&w.then(ze,ze),w}(p);d||(We(Nt,f),d=!0),u=!0,Promise.resolve(g).then(b=>{t=!0,e=b,u=!1,o||(c()?m():(a={},l=p,i.next&&i.next(b)))},b=>{u=!1,t=!1,i.error&&i.error(b),h.unsubscribe()})};return m(),h});return r.hasValue=()=>t,r.getValue=()=>e,r}let Fr;try{Fr={indexedDB:W.indexedDB||W.mozIndexedDB||W.webkitIndexedDB||W.msIndexedDB,IDBKeyRange:W.IDBKeyRange||W.webkitIDBKeyRange}}catch{Fr={indexedDB:null,IDBKeyRange:null}}const Qe=tt;function bn(n){let e=$e;try{$e=!0,We.storagemutated.fire(n)}finally{$e=e}}yt(Qe,{...hn,delete:n=>new Qe(n,{addons:[]}).delete(),exists:n=>new Qe(n,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(n){try{return function({indexedDB:e,IDBKeyRange:t}){return Wr(e)?Promise.resolve(e.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==zn)):Hr(e,t).toCollection().primaryKeys()}(Qe.dependencies).then(n)}catch{return ee(new O.MissingAPI)}},defineClass:()=>function(n){le(this,n)},ignoreTransaction:n=>F.trans?kt(F.transless,n):n(),vip:Tr,async:function(n){return function(){try{var e=Sr(n.apply(this,arguments));return e&&typeof e.then=="function"?e:S.resolve(e)}catch(t){return ee(t)}}},spawn:function(n,e,t){try{var r=Sr(n.apply(t,e||[]));return r&&typeof r.then=="function"?r:S.resolve(r)}catch(i){return ee(i)}},currentTransaction:{get:()=>F.trans||null},waitFor:function(n,e){const t=S.resolve(typeof n=="function"?Qe.ignoreTransaction(n):n).timeout(e||6e4);return F.trans?F.trans.waitFor(t):t},Promise:S,debug:{get:()=>Fe,set:n=>{Yi(n,n==="dexie"?()=>!0:us)}},derive:mt,extend:le,props:yt,override:qi,Events:Rt,on:We,liveQuery:Cr,extendObservabilitySet:ws,getByKeyPath:Be,setByKeyPath:ve,delByKeyPath:function(n,e){typeof e=="string"?ve(n,e,void 0):"length"in e&&[].map.call(e,function(t){ve(n,t,void 0)})},shallowClone:Wi,deepClone:Ut,getObjectDiff:Zr,cmp:oe,asap:Ui,minKey:br,addons:[],connections:Pt,errnames:Nr,dependencies:Fr,semVer:di,version:di.split(".").map(n=>parseInt(n)).reduce((n,e,t)=>n+e/Math.pow(10,2*t))}),Qe.maxKey=Lt(Qe.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(We(Nt,n=>{if(!$e){let e;Bn?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Ve,!0,!0,n)):e=new CustomEvent(Ve,{detail:n}),$e=!0,dispatchEvent(e),$e=!1}}),addEventListener(Ve,({detail:n})=>{$e||bn(n)}));let $e=!1;if(typeof BroadcastChannel<"u"){const n=new BroadcastChannel(Ve);typeof n.unref=="function"&&n.unref(),We(Nt,e=>{$e||n.postMessage(e)}),n.onmessage=e=>{e.data&&bn(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){We(Nt,e=>{try{$e||(typeof localStorage<"u"&&localStorage.setItem(Ve,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(t=>t.postMessage({type:Ve,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Ve){const t=JSON.parse(e.newValue);t&&bn(t.changedParts)}});const n=self.document&&navigator.serviceWorker;n&&n.addEventListener("message",function({data:e}){e&&e.type===Ve&&bn(e.changedParts)})}S.rejectionMapper=function(n,e){if(!n||n instanceof gt||n instanceof TypeError||n instanceof SyntaxError||!n.name||!li[n.name])return n;var t=new li[n.name](e||n.message,n);return"stack"in n&&Me(t,"stack",{get:function(){return this.inner.stack}}),t},Yi(Fe,us);class Jo extends tt{constructor(){super(["seventv"].join("_"),{autoOpen:!1});D(this,"VERSION",1.7);D(this,"_ready",!1);D(this,"channels");D(this,"emoteSets");D(this,"emotes");D(this,"cosmetics");D(this,"entitlements");D(this,"settings");ao(this),this.use({name:"SetDocumentTimestamps",stack:"dbcore",create(r){return{...r,table(i){const s=r.table(i);return{...s,mutate(o){if(o.type==="put"&&Array.isArray(o.values)){const a=Date.now();o.values=o.values.map(l=>({...l,timestamp:a}))}return s.mutate(o)}}}}}})}async ready(){return new Promise((t,r)=>{if(this._ready)return t(!0);const i=async s=>{r(s),te.error("<IDB>","Failed to open database",s.toString()),s.name==="VersionError"&&te.error("<IDB>",`!! Versioning issue detected. That's a big problem. (IndexedDB/${Ze.name}) !!`)};this.open().then(()=>{t(!0)}).catch(i)})}async withErrorFallback(t,r){return new Promise((i,s)=>{t.then(o=>i(o)).catch(()=>{r().then(o=>i(o)).catch(o=>s(o))})})}async expireDocuments(t=[]){const r=Date.now(),i=1e3*60*60;te.info("<IDB>","Expiring old documents",t!=null&&t.length?`exceptions=${(t==null?void 0:t.join(","))??0}`:"");{const s=await this.channels.where("timestamp").below(r-i).and(o=>!(t!=null&&t.includes(o.id))).toArray();this.emoteSets.where("id").anyOf(s.map(o=>o.set_ids).reduce((o,a)=>o.concat(a),[])).or("timestamp").below(r-i).delete(),this.entitlements.filter(o=>!o.platform_id||!o.scope||o.scope.split(",").every(a=>!t.includes(a.split(":")[1]??""))).delete(),this.channels.where("id").anyOf(s.map(o=>o.id)).delete(),this.cosmetics.where("timestamp").below(r-i*24).delete()}}}const Ze=new Jo;let we;const vs=new wn;vs.setContextName("Worker/Pipe");let Or=null;async function ea(n){let e;const t="3.1.14",r=localStorage.getItem(Un.WORKER_ADDR);let i=null;try{i=r?JSON.parse(r):null}catch(o){te.error("Unable to parse worker address data",String(o)),localStorage.removeItem(Un.WORKER_ADDR)}if(we=typeof i=="object"&&i!==null?i[t]:null,we&&await fetch(we).then(o=>o.ok).catch(()=>!1))te.info("Connecting to existing worker",`addr=${we}`);else{we=n,we||te.error("Unable to find address to worker");const o=await fetch(we||"").then(a=>a.blob()).catch(a=>{te.error("Unable to fetch worker data",a)});if(!o)return Promise.reject("There was an error fetching worker data");te.info("Received worker data",`(${o.size} bytes)`),we=URL.createObjectURL(o),localStorage.setItem(Un.WORKER_ADDR,JSON.stringify({...i??{},[t]:we}))}return new Promise((o,a)=>{if(!we)return a("No address to worker");e=Or=new SharedWorker(we,{name:"seventv-extension"}),e.port.start(),ta(e.port),na(e.port),addEventListener("beforeunload",()=>{ks("CLOSE",{})}),o(e)})}function ks(n,e){Or&&Or.port.postMessage({type:n,data:e})}function Jn(){return{init:ea,sendMessage:ks,target:pe}}function ta(n){n.addEventListener("message",e=>{const{type:t,data:r}=e.data;switch(t){case"LOG":{const{type:i,text:s,css:o,objects:a}=r;s.splice(1,0,"%c[Worker]%c"),o.splice(1,0,...Array(2).fill("color: #ca32fc;font-weight:900")),vs.print(i,s,o,a);break}}})}function na(n){n.addEventListener("message",e=>{const{type:t,data:r}=e.data;switch(t){case"INIT":{pe.emit("ready",{});break}case"CONFIG":{pe.emit("config",r);break}case"IDENTITY_FETCHED":{const{user:i}=r;pe.emit("identity_fetched",{user:i});break}case"CHANNEL_FETCHED":{const{channel:i}=r;pe.emit("channel_fetched",i);break}case"CHANNEL_SETS_FETCHED":{const{channel:i}=r;pe.emit("channel_sets_fetched",i);break}case"COSMETIC_CREATED":{const i=r;pe.emit("cosmetic_created",i);break}case"ENTITLEMENT_CREATED":{const i=r;pe.emit("entitlement_created",i);break}case"ENTITLEMENT_DELETED":{const i=r;pe.emit("entitlement_deleted",i);break}case"STATIC_COSMETICS_FETCHED":{const{badges:i,paints:s}=r;pe.emit("static_cosmetics_fetched",{badges:i,paints:s});break}case"SYNC_TWITCH_SET":{const{out:i}=r;if(!i)return;pe.emit("twitch_emote_set_data",i);break}case"EMOTE_SET_UPDATED":pe.emit("emote_set_updated",r);break;case"USER_UPDATED":pe.emit("user_updated",r);break}})}class ra extends EventTarget{constructor(){super()}addEventListener(e,t,r){super.addEventListener(e,t,r)}removeEventListener(e,t,r){super.removeEventListener(e,t,r)}dispatchEvent(e){return super.dispatchEvent(e)}emit(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}async listenUntil(e,t){await new Promise(r=>{this.addEventListener(e,i=>{t(i)&&(this.removeEventListener(e,t),r())})})}}const pe=new ra;var ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pr={exports:{}};(function(n,e){(function(t,r){var i="1.0.37",s="",o="?",a="function",l="undefined",h="object",u="string",d="major",c="model",f="name",m="type",p="vendor",g="version",b="architecture",y="console",w="mobile",v="tablet",_="smarttv",E="wearable",x="embedded",A=500,k="Amazon",$="Apple",I="ASUS",G="BlackBerry",q="Browser",j="Chrome",ue="Edge",Y="Firefox",J="Google",ke="Huawei",Oe="LG",Ye="Microsoft",Xr="Motorola",Gt="Opera",Yt="Samsung",Jr="Sharp",Qt="Sony",Kn="Xiaomi",jn="Zebra",ei="Facebook",ti="Chromium OS",ni="Mac OS",zs=function(M,N){var R={};for(var U in M)N[U]&&N[U].length%2===0?R[U]=N[U].concat(M[U]):R[U]=M[U];return R},Xt=function(M){for(var N={},R=0;R<M.length;R++)N[M[R].toUpperCase()]=M[R];return N},ri=function(M,N){return typeof M===u?_t(N).indexOf(_t(M))!==-1:!1},_t=function(M){return M.toLowerCase()},Ks=function(M){return typeof M===u?M.replace(/[^\d\.]/g,s).split(".")[0]:r},Nn=function(M,N){if(typeof M===u)return M=M.replace(/^\s\s*/,s),typeof N===l?M:M.substring(0,A)},xt=function(M,N){for(var R=0,U,Ke,_e,B,P,xe;R<N.length&&!P;){var Vn=N[R],oi=N[R+1];for(U=Ke=0;U<Vn.length&&!P&&Vn[U];)if(P=Vn[U++].exec(M),P)for(_e=0;_e<oi.length;_e++)xe=P[++Ke],B=oi[_e],typeof B===h&&B.length>0?B.length===2?typeof B[1]==a?this[B[0]]=B[1].call(this,xe):this[B[0]]=B[1]:B.length===3?typeof B[1]===a&&!(B[1].exec&&B[1].test)?this[B[0]]=xe?B[1].call(this,xe,B[2]):r:this[B[0]]=xe?xe.replace(B[1],B[2]):r:B.length===4&&(this[B[0]]=xe?B[3].call(this,xe.replace(B[1],B[2])):r):this[B]=xe||r;R+=2}},Ln=function(M,N){for(var R in N)if(typeof N[R]===h&&N[R].length>0){for(var U=0;U<N[R].length;U++)if(ri(N[R][U],M))return R===o?r:R}else if(ri(N[R],M))return R===o?r:R;return M},js={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ii={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},si={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,Gt+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[f,Gt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+q]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[f,"Smart Lenovo "+q]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+q],g],[/\bfocus\/([\w\.]+)/i],[g,[f,Y+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,Gt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,Gt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI "+q]],[/fxios\/([-\w\.]+)/i],[g,[f,Y]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+q]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+q],g],[/samsungbrowser\/([\w\.]+)/i],[g,[f,Yt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,g],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,ei],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,j+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,j+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+q]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,Ln,js]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,Y+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,g],[/(cobalt)\/([\w\.]+)/i],[f,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,_t]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,s,_t]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,_t]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[p,Yt],[m,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[p,Yt],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[p,$],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[p,$],[m,v]],[/(macintosh);/i],[c,[p,$]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[p,Jr],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[p,ke],[m,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[p,ke],[m,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[p,Kn],[m,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[p,Kn],[m,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[p,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[p,"Vivo"],[m,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[p,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[p,Xr],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[p,Xr],[m,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[p,Oe],[m,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[p,Oe],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[p,"Lenovo"],[m,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[p,"Nokia"],[m,w]],[/(pixel c)\b/i],[c,[p,J],[m,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[p,J],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[p,Qt],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[p,Qt],[m,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[p,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[p,k],[m,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[p,k],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[c,p,[m,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[p,G],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[p,I],[m,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[p,I],[m,w]],[/(nexus 9)/i],[c,[p,"HTC"],[m,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[c,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[p,"Acer"],[m,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[p,"Meizu"],[m,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[p,"Ulefone"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,c,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,c,[m,v]],[/(surface duo)/i],[c,[p,Ye],[m,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[p,"Fairphone"],[m,w]],[/(u304aa)/i],[c,[p,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[c,[p,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[c,[p,"RCA"],[m,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[p,"Dell"],[m,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[p,"Verizon"],[m,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[p,"Barnes & Noble"],[m,v]],[/\b(tm\d{3}\w+) b/i],[c,[p,"NuVision"],[m,v]],[/\b(k88) b/i],[c,[p,"ZTE"],[m,v]],[/\b(nx\d{3}j) b/i],[c,[p,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[c,[p,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[c,[p,"Swiss"],[m,v]],[/\b((zeki)?tb.*\b) b/i],[c,[p,"Zeki"],[m,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],c,[m,v]],[/\b(ns-?\w{0,9}) b/i],[c,[p,"Insignia"],[m,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[p,"NextBook"],[m,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],c,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],c,[m,w]],[/\b(ph-1) /i],[c,[p,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[p,"Envizen"],[m,v]],[/\b(trio[-\w\. ]+) b/i],[c,[p,"MachSpeed"],[m,v]],[/\btu_(1491) b/i],[c,[p,"Rotor"],[m,v]],[/(shield[\w ]+) b/i],[c,[p,"Nvidia"],[m,v]],[/(sprint) (\w+)/i],[p,c,[m,w]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[p,Ye],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[p,jn],[m,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[p,jn],[m,w]],[/smart-tv.+(samsung)/i],[p,[m,_]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[p,Yt],[m,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Oe],[m,_]],[/(apple) ?tv/i],[p,[c,$+" TV"],[m,_]],[/crkey/i],[[c,j+"cast"],[p,J],[m,_]],[/droid.+aft(\w+)( bui|\))/i],[c,[p,k],[m,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[p,Jr],[m,_]],[/(bravia[\w ]+)( bui|\))/i],[c,[p,Qt],[m,_]],[/(mitv-\w{5}) bui/i],[c,[p,Kn],[m,_]],[/Hbbtv.*(technisat) (.*);/i],[p,c,[m,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Nn],[c,Nn],[m,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,c,[m,y]],[/droid.+; (shield) bui/i],[c,[p,"Nvidia"],[m,y]],[/(playstation [345portablevi]+)/i],[c,[p,Qt],[m,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[p,Ye],[m,y]],[/((pebble))app/i],[p,c,[m,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[p,$],[m,E]],[/droid.+; (glass) \d/i],[c,[p,J],[m,E]],[/droid.+; (wt63?0{2,3})\)/i],[c,[p,jn],[m,E]],[/(quest( 2| pro)?)/i],[c,[p,ei],[m,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[m,x]],[/(aeobc)\b/i],[c,[p,k],[m,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[m,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,ue+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[g,Ln,ii]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Ln,ii],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,ni],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,g],[/\(bb(10);/i],[g,[f,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,Y+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[f,j+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,ti],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,g]]},ye=function(M,N){if(typeof M===h&&(N=M,M=r),!(this instanceof ye))return new ye(M,N).getResult();var R=typeof t!==l&&t.navigator?t.navigator:r,U=M||(R&&R.userAgent?R.userAgent:s),Ke=R&&R.userAgentData?R.userAgentData:r,_e=N?zs(si,N):si,B=R&&R.userAgent==U;return this.getBrowser=function(){var P={};return P[f]=r,P[g]=r,xt.call(P,U,_e.browser),P[d]=Ks(P[g]),B&&R&&R.brave&&typeof R.brave.isBrave==a&&(P[f]="Brave"),P},this.getCPU=function(){var P={};return P[b]=r,xt.call(P,U,_e.cpu),P},this.getDevice=function(){var P={};return P[p]=r,P[c]=r,P[m]=r,xt.call(P,U,_e.device),B&&!P[m]&&Ke&&Ke.mobile&&(P[m]=w),B&&P[c]=="Macintosh"&&R&&typeof R.standalone!==l&&R.maxTouchPoints&&R.maxTouchPoints>2&&(P[c]="iPad",P[m]=v),P},this.getEngine=function(){var P={};return P[f]=r,P[g]=r,xt.call(P,U,_e.engine),P},this.getOS=function(){var P={};return P[f]=r,P[g]=r,xt.call(P,U,_e.os),B&&!P[f]&&Ke&&Ke.platform!="Unknown"&&(P[f]=Ke.platform.replace(/chrome os/i,ti).replace(/macos/i,ni)),P},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return U},this.setUA=function(P){return U=typeof P===u&&P.length>A?Nn(P,A):P,this},this.setUA(U),this};ye.VERSION=i,ye.BROWSER=Xt([f,g,d]),ye.CPU=Xt([b]),ye.DEVICE=Xt([c,p,m,y,w,_,v,E,x]),ye.ENGINE=ye.OS=Xt([f,g]),n.exports&&(e=n.exports=ye),e.UAParser=ye;var ut=typeof t!==l&&(t.jQuery||t.Zepto);if(ut&&!ut.ua){var Jt=new ye;ut.ua=Jt.getResult(),ut.ua.get=function(){return Jt.getUA()},ut.ua.set=function(M){Jt.setUA(M);var N=Jt.getResult();for(var R in N)ut.ua[R]=N[R]}}})(typeof window=="object"?window:ia)})(Pr,Pr.exports);var _s=Pr.exports;const sa=oo("main",{state:()=>({platform:"UNKNOWN",providers:new Set,theme:"DARK",identity:null,identityFetched:!1,appUser:null,location:null,agent:new _s.UAParser,workers:{net:null}}),actions:{setIdentity(n,e){if(this.identity&&e&&this.identity.id===e.id)return;this.platform=n,this.identity=e;const{sendMessage:t,target:r}=Jn();r.addEventListener("identity_fetched",i=>{this.identityFetched=!0,i.detail.user&&(this.appUser=i.detail.user)},{once:!0}),t("STATE",{identity:e})},setPreferredImageFormat(n){const{sendMessage:e}=Jn();e("STATE",{imageFormat:n})},setPlatform(n,e,t){this.platform=n,this.providers=new Set(e);const{sendMessage:r}=Jn();r("STATE",{platform:n,providers:e,provider_extensions:t})},setLocation(n){this.location=n}},getters:{getIdentity(n){return n.identity},getLocation(n){return n.location},browser(){return this.agent.getBrowser()},avifSupported(){return this.browser.name==="Chrome"&&parseInt(this.browser.version,10)>=100||this.browser.name==="Firefox"&&parseInt(this.browser.version,10)>=113}}}),oa=Symbol("seventv.reflection.store"),aa=Symbol("seventv.reflection.events");function xs(n,e){let t;return Object.hasOwnProperty.call(n,e)?t=Reflect.get(n,e):(t={},Reflect.set(n,e,t)),t}function Es(n){return xs(n,oa)}function Ts(n){return xs(n,aa)}function mc(n,e,t){let r,i;Ss(n,e,{value:s=>{if(r!==void 0&&s===r)return;i=Symbol();const o=i,a=typeof s=="function"?s:null;r=function(...l){return o===i?Reflect.apply(t,this,[a,...l]):a==null?void 0:a.apply(this,l)}},get:s=>r??s})}function Ss(n,e,t){var i;n=ot(n);const r=Es(n);Reflect.has(r,e)||Reflect.set(r,e,n[e]),(i=t.value)==null||i.call(t,Reflect.get(r,e)),Reflect.defineProperty(n,e,{configurable:!0,set:s=>{var l;const o=Reflect.get(r,e),a=t.set?t.set(s,o):s;Reflect.set(r,e,a),(l=t.value)==null||l.call(t,a)},get:()=>{const s=Reflect.get(r,e);return t.get?t.get(s):s}})}function gc(n,e){n=ot(n),Reflect.deleteProperty(n,e);const t=Es(n);if(Reflect.has(t,e)){const r=Reflect.get(t,e);Reflect.set(n,e,r),Reflect.deleteProperty(t,e)}}function bc(n,e,t,r,i){n=ot(n);const s=Ts(n),o=`${e}:${t}`,a=Reflect.get(s,o);a&&n.removeEventListener(t,a),n.addEventListener(t,r,{capture:i}),Reflect.set(s,o,r)}function yc(n,e,t){n=ot(n);const r=Ts(n),i=`${e}:${t}`,s=Reflect.get(r,i);s&&n.removeEventListener(t,s),Reflect.deleteProperty(r,i)}const he=qe({active:!1,ffz:null,overridesCreated:!1,profile:{ephemeral:null}});Ss(window,"ffz",{value(n){n&&(he.active=!0,he.ffz=n,la())}});async function la(){te.info("<FFZ-Compat>","FrankerFaceZ detectedâpatching for compatibility. woof");try{const n=Zt();if(!n)throw new Error("FFZ settings module not fould");n.enabled||await n.waitFor(":enabled"),ha(),As(),fa()}catch(n){te.error("<FFZ-Compat>","Error occured patching FrankerFaceZ:",n.message)}}function Zt(){if(!he.ffz)return null;const n=he.ffz.resolve("settings");return!n||typeof n.get!="function"?null:ot(n)}function ca(n){if(!he.ffz)return null;const e=Zt();return e?e.get(n)??null:null}function ua(n,e){if(!he.ffz)return;const t=Zt();if(t)return t.getChanges(n,e)}function As(){if(!he.ffz)return;const n=Zt();if(!n)return null;n.main_context.updateContext({"disable-chat-processing":!0}),te.info("<FFZ-Compat>","Disabled chat processing in FrankerFaceZ (â¯Â°â¡Â°ï¼â¯ï¸µ â»ââ»)")}function ha(){if(!he.ffz||he.overridesCreated)return;const n=Zt();if(!n)return;const e=n.__profiles.find(r=>r.name==="7TV");e&&n.deleteProfile(e);const t=n==null?void 0:n.createProfile({name:"7TV",description:"This profile was generated by 7TV and modifies some settings for compatibility, but it has no effect if 7TV is not active.",context:[],hotkey:null,pause_updates:null,toggled:!0,ephemeral:!0});if(!t){te.warn("<FFZ-Compat>","Failed to set up FrankerFaceZ profile");return}he.profile.ephemeral=t,t.set("toggled",!0),t.set("chat.scrollback-length",1),t.set("chat.tab-complete.emoji",!1),t.set("chat.tab-complete.ffz-emotes",!1),t.set("chat.mru.enabled",!1),typeof n.moveProfile=="function"&&n.moveProfile(t.id,0),te.info("<FFZ-Compat>","Patched FrankerFaceZ settings"),he.overridesCreated=!0}function da(n,e,t){const r=he.profile[n];!he.ffz||!r||r.set(e,t)}function fa(){if(!("FrankerFaceZ"in window))return;class n extends FrankerFaceZ.utilities.addon.Addon{}try{n.register({id:"7tv-emotes",name:"7TV",author:"7TV",description:"The 7TV Extension is installed! We've patched some things to make sure it works well with FrankerFaceZ.",version:"0.0.0",website:"https://7tv.app",settings:"add_ons.7tv_emotes"}),te.info("<FFZ-Compat>","Disabled FrankerFaceZ Add-On for 7TV")}catch{}}function pa(){return qe({active:he.active,getConfig:ca,getConfigChanges:ua,setConfig:da,disableChatProcessing:As})}function Cn(n){return Fi()?(Oi(n),!0):!1}function ae(n){return typeof n=="function"?n():se(n)}function wc(n){if(!ne(n))return qe(n);const e=new Proxy({},{get(t,r,i){return se(Reflect.get(n.value,r,i))},set(t,r,i){return ne(n.value[r])&&!ne(i)?n.value[r].value=i:n.value[r]=i,!0},deleteProperty(t,r){return Reflect.deleteProperty(n.value,r)},has(t,r){return Reflect.has(n.value,r)},ownKeys(){return Object.keys(n.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return qe(e)}const Fn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const vc=n=>n!=null,ma=Object.prototype.toString,kc=n=>ma.call(n)==="[object Object]",wt=()=>{},_c=ga();function ga(){var n;return Fn&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function Cs(n,e){function t(...r){return new Promise((i,s)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return t}const ba=n=>n();function Fs(n,e={}){let t,r,i=wt;const s=a=>{clearTimeout(a),i(),i=wt};return a=>{const l=ae(n),h=ae(e.maxWait);return t&&s(t),l<=0||h!==void 0&&h<=0?(r&&(s(r),r=null),Promise.resolve(a())):new Promise((u,d)=>{i=e.rejectOnCancel?d:u,h&&!r&&(r=setTimeout(()=>{t&&s(t),r=null,u(a())},h)),t=setTimeout(()=>{r&&s(r),r=null,u(a())},l)})}}function ya(n,e=!0,t=!0,r=!1){let i=0,s,o=!0,a=wt,l;const h=()=>{s&&(clearTimeout(s),s=void 0,a(),a=wt)};return d=>{const c=ae(n),f=Date.now()-i,m=()=>l=d();return h(),c<=0?(i=Date.now(),m()):(f>c&&(t||!o)?(i=Date.now(),m()):e&&(l=new Promise((p,g)=>{a=r?g:p,s=setTimeout(()=>{i=Date.now(),o=!0,p(m()),h()},Math.max(0,c-f))})),!t&&!s&&(s=setTimeout(()=>o=!0,c)),o=!1,l)}}function vi(n,e=!1,t="Timeout"){return new Promise((r,i)=>{setTimeout(e?()=>i(t):r,n)})}function xc(n,e){var t;if(typeof n=="number")return n+e;const r=((t=n.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:t[0])||"",i=n.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?n:s+i}function Ec(...n){if(n.length!==1)return Ri(...n);const e=n[0];return typeof e=="function"?$i(Dn(()=>({get:e,set:wt}))):de(e)}function Tc(n,e=1e4){return Dn((t,r)=>{let i=ae(n),s;const o=()=>setTimeout(()=>{i=ae(n),r()},ae(e));return Cn(()=>{clearTimeout(s)}),{get(){return t(),i},set(a){i=a,r(),clearTimeout(s),s=o()}}})}function wa(n,e=200,t={}){return Cs(Fs(e,t),n)}function Sc(n,e=200,t={}){const r=de(n.value),i=wa(()=>{r.value=n.value},e,t);return Ae(n,()=>i()),r}function Os(n,e,t={}){const{eventFilter:r=ba,...i}=t;return Ae(n,Cs(r,e),i)}function Ac(n,e={}){if(!ne(n))return Ii(n);const t=Array.isArray(n.value)?Array.from({length:n.value.length}):{};for(const r in n.value)t[r]=Dn(()=>({get(){return n.value[r]},set(i){var s;if((s=ae(e.replaceRef))!=null?s:!0)if(Array.isArray(n.value)){const a=[...n.value];a[r]=i,n.value=a}else{const a={...n.value,[r]:i};Object.setPrototypeOf(a,Object.getPrototypeOf(n.value)),n.value=a}else n.value[r]=i}}));return t}function va(n){Us()&&Hs(n)}function Rr(n,e=!1){function t(d,{flush:c="sync",deep:f=!1,timeout:m,throwOnTimeout:p}={}){let g=null;const y=[new Promise(w=>{g=Ae(n,v=>{d(v)!==e&&(g==null||g(),w(v))},{flush:c,deep:f,immediate:!0})})];return m!=null&&y.push(vi(m,p).then(()=>ae(n)).finally(()=>g==null?void 0:g())),Promise.race(y)}function r(d,c){if(!ne(d))return t(v=>v===d,c);const{flush:f="sync",deep:m=!1,timeout:p,throwOnTimeout:g}=c??{};let b=null;const w=[new Promise(v=>{b=Ae([n,d],([_,E])=>{e!==(_===E)&&(b==null||b(),v(_))},{flush:f,deep:m,immediate:!0})})];return p!=null&&w.push(vi(p,g).then(()=>ae(n)).finally(()=>(b==null||b(),ae(n)))),Promise.race(w)}function i(d){return t(c=>!!c,d)}function s(d){return r(null,d)}function o(d){return r(void 0,d)}function a(d){return t(Number.isNaN,d)}function l(d,c){return t(f=>{const m=Array.from(f);return m.includes(d)||m.includes(ae(d))},c)}function h(d){return u(1,d)}function u(d=1,c){let f=-1;return t(()=>(f+=1,f>=d),c)}return Array.isArray(ae(n))?{toMatch:t,toContains:l,changed:h,changedTimes:u,get not(){return Rr(n,!e)}}:{toMatch:t,toBe:r,toBeTruthy:i,toBeNull:s,toBeNaN:a,toBeUndefined:o,changed:h,changedTimes:u,get not(){return Rr(n,!e)}}}function Cc(n){return Rr(n)}function Fc(n,e=1e3,t={}){const{immediate:r=!0,immediateCallback:i=!1}=t;let s=null;const o=de(!1);function a(){s&&(clearInterval(s),s=null)}function l(){o.value=!1,a()}function h(){const u=ae(e);u<=0||(o.value=!0,i&&n(),a(),s=setInterval(n,u))}if(r&&Fn&&h(),ne(e)||typeof e=="function"){const u=Ae(e,()=>{o.value&&Fn&&h()});Cn(u)}return Cn(l),{isActive:o,pause:l,resume:h}}function Ps(n,e,t={}){const{immediate:r=!0}=t,i=de(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){i.value=!1,o()}function l(...h){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,n(...h)},ae(e))}return r&&(i.value=!0,Fn&&l()),Cn(a),{isPending:$i(i),start:l,stop:a}}function Oc(n=1e3,e={}){const{controls:t=!1,callback:r}=e,i=Ps(r??wt,n,e),s=yn(()=>!i.isPending.value);return t?{ready:s,...i}:s}function Pc(n,e,t){let r=t!=null&&t.immediate?[]:[...n instanceof Function?n():Array.isArray(n)?n:ae(n)];return Ae(n,(i,s,o)=>{const a=Array.from({length:r.length}),l=[];for(const u of i){let d=!1;for(let c=0;c<r.length;c++)if(!a[c]&&u===r[c]){a[c]=!0,d=!0;break}d||l.push(u)}const h=r.filter((u,d)=>!a[d]);e(i,r,l,h,o),r=[...i]},t)}function Rc(n,e,t={}){const{debounce:r=0,maxWait:i=void 0,...s}=t;return Os(n,e,{...s,eventFilter:Fs(r,{maxWait:i})})}function Ic(n,e,t={}){const{throttle:r=0,trailing:i=!0,leading:s=!0,...o}=t;return Os(n,e,{...o,eventFilter:ya(r,i,s)})}function ka(n,e,t={}){var l;const r=de();let i=()=>{},s=()=>{};const o=()=>{i(),s()},a=h=>{h&&(typeof t.count=="number"&&t.count--<=0&&o(),r.value=h,e==null||e(h))};return i=Cr(n).subscribe(a).unsubscribe,t.reactives&&(s=Ae(t.reactives,()=>{i(),i=Cr(n).subscribe(a).unsubscribe})),va(o),(l=t.until)==null||l.then(o),r}const De=qe({}),ge=qe({}),_a=pa(),On={Map:n=>new Map(n),Set:n=>new Set(n)};function xa(n,e){return Dn((t,r)=>({get(){return t(),De[n]??e},set(i){const s=ge[n],o=s.predicate;o&&!o(i)||(De[n]=i,r(),Ze.settings.put({key:n,type:typeof i,value:i},n).catch(a=>te.error("failed to write setting",n,"to db:",a)),typeof s.effect=="function"&&s.effect(i))}}))}Ze.ready().then(()=>ka(()=>Ze.settings.toArray(),n=>Rs(n)));async function Rs(n){for(const{key:e,value:t,timestamp:r,serialize:i}of n){const s=ge[e];s&&s.timestamp&&r&&s.timestamp>=r||(De[e]=t,ge[e]={...ge[e]??{},timestamp:r,serialize:i??!0})}}function $c(){const n=[];for(const e of Object.keys(ge)){const t=ge[e];if(t.serialize===!1){n.push(t);continue}if(typeof t.defaultValue=="object"&&!Object.keys(On).includes(t.defaultValue.constructor.name)){n.push(t);continue}}return n}async function Dc(){return Ze.ready().then(async()=>{const n=await Ze.settings.toArray(),e=Ea(n.filter(i=>i.key!=="app.version").filter(i=>i.serialize!==!1));te.debugWithObjects(["<Settings>","Serialized settings"],[e]);const t=JSON.stringify({timestamp:new Date().getTime(),settings:e}),r=new Blob([t],{type:"text/plain"});return te.info("<Settings>","Exporting settings"),URL.createObjectURL(r)})}async function Mc(n){for(const{key:e,type:t,value:r}of n)await Ze.settings.put({key:e,type:t,value:r},e).catch(i=>{throw new Error(`failed to write setting, ${e}, to db:, ${i}`)});Rs(n)}function Ea(n){const e=[];return n.forEach(t=>{ge[t.key].serialize!==!1&&(typeof t.value!="object"?e.push(t):Object.keys(On).includes(t.value.constructor.name)&&e.push({...t,constructorName:t.value.constructor.name,value:Array.from(t.value)}))}),e}function Bc(n){if(!(n.settings instanceof Array))throw new Error("invalid settings file: invalid format");const e=[];for(const{key:t,type:r,constructorName:i,value:s,timestamp:o}of n.settings){if(t==null||r==null||s==null||o==null)throw new Error("invalid settings file: missing keys");if(typeof s!==r)throw new Error(`invalid settings file: ${s} is not of type '${r}'`);if(r!=="object")e.push({key:t,type:r,value:s});else{if(!i)throw new Error("invalid settings file: missing 'constructorName' for object type");if(!Object.keys(On).includes(i))throw new Error(`invalid settings file: cannot deserialize constructor type '${i}'`);const a=On[i](s);e.push({key:t,type:r,value:a})}}return e}function Ge(n,e){return xa(n,e)}function zc(){const n=Object.keys(ge);for(let e=0;e<n.length;e++){const t=ge[Object.keys(ge)[e]];!t.ffz_key||De[t.key]||_a.getConfigChanges(t.ffz_key,r=>{De[t.key]=typeof t.ffz_transform=="function"?t.ffz_transform(r):r})}}function Kc(){function n(e){var t;for(const r of e)ge[r.key]={...r,timestamp:((t=ge[r.key])==null?void 0:t.timestamp)??void 0},["string","boolean","object","number","undefined"].includes(typeof De[r.key])&&(De[r.key]=(()=>{var s;const i=De[r.key];return i===void 0?r.defaultValue:i.constructor.name===((s=r.defaultValue)==null?void 0:s.constructor.name)?i:typeof r.transform=="function"?r.transform(i):r.defaultValue?r.defaultValue:i})()),typeof r.effect=="function"&&r.effect(De[r.key])}return{nodes:ge,register:n}}function jc(n,e,t){return{key:n,type:e,...t}}const Is=new _s.UAParser,Tt=Is.getBrowser(),Ta=qe({agent:Is,browser:Tt,avif:Tt.name==="Chrome"&&parseInt(Tt.version,10)>=100||Tt.name==="Firefox"&&parseInt(Tt.version,10)>=113,preferredFormat:"WEBP"});function Nc(){return Ta}const Sa={},Aa={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"1em",height:"1em",fill:"currentColor"},Ca=Z("path",{d:"M68.6 57.4L46 34.7 .7 80l22.6 22.6L176.7 256 23.4 409.4 .7 432 46 477.3l22.6-22.6L222 301.3 375.4 454.6 398 477.3 443.3 432l-22.6-22.6L267.3 256 420.6 102.6 443.3 80 398 34.7 375.4 57.4 222 210.7 68.6 57.4z"},null,-1),Fa=[Ca];function Oa(n,e){return z(),H("svg",Aa,Fa)}const Pa=ce(Sa,[["render",Oa]]),Ra=Ce({__name:"FormCheckbox",props:{node:{}},setup(n){const t=Ge(n.node.key);return(r,i)=>(z(),H("div",null,[at(Z("input",{id:"checkbox","onUpdate:modelValue":i[0]||(i[0]=s=>ne(t)?t.value=s:null),type:"checkbox"},null,512),[[Di,se(t)]])]))}}),Ia=["id"],$a=Ce({__name:"FormColor",props:{node:{}},setup(n){const t=Ge(n.node.key);return(r,i)=>(z(),H("div",null,[at(Z("input",{id:r.node.key,"onUpdate:modelValue":i[0]||(i[0]=s=>ne(t)?t.value=s:null),type:"color"},null,8,Ia),[[Dr,se(t)]])]))}}),Da=ce($a,[["__scopeId","data-v-3db74b5b"]]),Ma=["id"],Ba=["value"],za=Ce({__name:"FormDropdown",props:{node:{}},setup(n){const t=Ge(n.node.key);return(r,i)=>at((z(),H("select",{id:r.node.key,"onUpdate:modelValue":i[0]||(i[0]=s=>ne(t)?t.value=s:null)},[(z(!0),H(er,null,Mi(r.node.options,([s,o],a)=>(z(),H("option",{key:a,value:o??s},nt(s),9,Ba))),128))],8,Ma)),[[Ws,se(t)]])}}),Ka=ce(za,[["__scopeId","data-v-dbfda841"]]),ja={class:"inputbox"},Na=["id","valid","placeholder","type"],La=Ce({__name:"FormInput",props:{node:{}},setup(n){const e=n,t=Ge(e.node.key),r=de(t.value),i=de(!0);Ae(t,o=>r.value=o);const s=()=>{i.value=e.node.predicate?e.node.predicate(r.value):!0,i.value&&(t.value=r.value)};return(o,a)=>{var l,h;return z(),H("div",ja,[at(Z("input",{id:o.node.key,"onUpdate:modelValue":a[0]||(a[0]=u=>r.value=u),autocomplete:"noidontthinkso","data-form-type":"other",valid:i.value,placeholder:(l=o.node.options)==null?void 0:l.placeholder,type:((h=o.node.options)==null?void 0:h.type)??"inputbox",onInput:s},null,40,Na),[[Zs,r.value]])])}}}),Va=ce(La,[["__scopeId","data-v-fb4b7c57"]]),qa=n=>(Mr("data-v-c0666973"),n=n(),Br(),n),Ua=qa(()=>Z("br",null,null,-1)),Ha=Ce({__name:"FormSelect",props:{node:{}},setup(n){const e=n,t=Ge(e.node.key),r=de(t.value);return Ae(r,i=>{typeof i=="string"&&(t.value=i)}),(i,s)=>(z(),H("div",null,[(z(!0),H(er,null,Mi(e.node.options,([o],a)=>(z(),H(er,{key:a},[at(Z("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>ne(t)?t.value=l:null),class:"radio-button",type:"text"},null,512),[[Dr,se(t)]]),Bi(" "+nt(o)+" ",1),Ua],64))),128))]))}}),Wa=ce(Ha,[["__scopeId","data-v-c0666973"]]),Za={class:"seventv-slider-container"},Ga=["thresold-name"],Ya=["id","min","max","step","held"],Qa=Ce({__name:"FormSlider",props:{node:{}},setup(n){const e=n,t=de(!1),r=Ge(e.node.key),i=yn(()=>{var a;return o(r.value,(a=e.node.options)==null?void 0:a.named_thresolds)}),s=yn(()=>{var l,h;return o(r.value,(l=e.node.options)==null?void 0:l.named_values)??`${r.value}${(h=e.node.options)!=null&&h.unit?` ${e.node.options.unit}`:""}`});function o(a,l){if(l){for(let h=0;h<l.length;h++)if(a>=l[h][0]&&a<=l[h][1])return l[h][2]}}return(a,l)=>{var h,u,d;return z(),H("div",Za,[Z("span",null,nt(s.value),1),Z("div",{class:zi(["seventv-slider",{"show-thresold-name":!!i.value}]),"thresold-name":i.value},[at(Z("input",{id:a.node.key,"onUpdate:modelValue":l[0]||(l[0]=c=>ne(r)?r.value=c:null),type:"range",min:(h=a.node.options)==null?void 0:h.min,max:(u=a.node.options)==null?void 0:u.max,step:(d=a.node.options)==null?void 0:d.step,held:t.value,onMousedown:l[1]||(l[1]=c=>t.value=!0),onMouseup:l[2]||(l[2]=c=>t.value=!1)},null,40,Ya),[[Dr,se(r),void 0,{number:!0}]])],10,Ga)])}}}),Xa=ce(Qa,[["__scopeId","data-v-1bfaa17c"]]),Ja=n=>(Mr("data-v-15f87b53"),n=n(),Br(),n),el={class:"seventv-toggle-outer"},tl={key:0,class:"seventv-toggle-option"},nl=["for"],rl=["id"],il=Ja(()=>Z("div",{class:"seventv-toggle round"},null,-1)),sl={key:1,class:"seventv-toggle-option"},ol=Ce({__name:"FormToggle",props:{node:{}},setup(n){const t=Ge(n.node.key);return(r,i)=>{var s,o;return z(),H("div",el,[(s=r.node.options)!=null&&s.left?(z(),H("span",tl,nt(r.node.options.left),1)):Mt("",!0),Z("label",{class:"seventv-toggle-switch",for:r.node.key},[at(Z("input",{id:r.node.key,"onUpdate:modelValue":i[0]||(i[0]=a=>ne(t)?t.value=a:null),tabindex:"0",type:"checkbox"},null,8,rl),[[Di,se(t)]]),il],8,nl),(o=r.node.options)!=null&&o.right?(z(),H("span",sl,nt(r.node.options.right),1)):Mt("",!0)])}}}),al=ce(ol,[["__scopeId","data-v-15f87b53"]]),ll=["data-key","disabled","grid-mode"],cl={class:"label"},ul={key:0,class:"subtitle"},hl={key:0,class:"content"},dl={key:1,class:"seventv-settings-node-control"},fl=Ce({__name:"SettingsNode",props:{node:{},unseen:{type:Boolean}},emits:["seen"],setup(n,{emit:e}){var d;const t=n,r=e,{t:i,te:s}=Gs();function o(){t.unseen&&Ps(()=>r("seen"),500)}const a=Ge(t.node.key);function l(){a.value=t.node.defaultValue,Ze.settings.delete(t.node.key).catch(c=>te.error("failed to remove setting",t.node.key,"from db:",c))}const h={SELECT:Wa,DROPDOWN:Ka,CHECKBOX:Ra,INPUT:Va,COLOR:Da,TOGGLE:al,SLIDER:Xa,CUSTOM:void 0,NONE:void 0},u=h[t.node.type]??((d=t.node.custom)==null?void 0:d.component);return(c,f)=>{var m,p,g;return z(),H("div",{"data-key":c.node.key,class:"seventv-settings-node",disabled:(p=(m=c.node).disabledIf)==null?void 0:p.call(m),"grid-mode":(g=c.node.custom)==null?void 0:g.gridMode,onMouseover:o},[Z("div",cl,[Z("div",{class:zi(["title",{unseen:c.unseen}])},[Bi(nt(se(s)(c.node.label)?se(i)(c.node.label):c.node.label)+" ",1),h[c.node.type]&&se(a)!==c.node.defaultValue?(z(),un(Pa,{key:0,class:"reset-default",onClick:l})):Mt("",!0)],2),c.node.hint?(z(),H("div",ul,nt(se(s)(c.node.hint)?se(i)(c.node.hint):c.node.hint),1)):Mt("",!0)]),c.node.custom&&c.node.custom.gridMode==="new-row"?(z(),H("div",hl,[(z(),un(tr(c.node.custom.component)))])):(z(),H("div",dl,[(z(),un(tr(se(u)),{node:c.node},null,8,["node"]))]))],40,ll)}}}),Lc=ce(fl,[["__scopeId","data-v-5e6373bd"]]),pl={},ml={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"-25 -25 350 350"},gl=Z("path",{d:"M150 1.74C68.409 1.74 1.74 68.41 1.74 150S68.41 298.26 150 298.26h148.26V150.17h-.004c0-.057.004-.113.004-.17C298.26 68.409 231.59 1.74 150 1.74zm0 49c55.11 0 99.26 44.15 99.26 99.26 0 55.11-44.15 99.26-99.26 99.26-55.11 0-99.26-44.15-99.26-99.26 0-55.11 44.15-99.26 99.26-99.26z",fill:"currentColor"},null,-1),bl=Z("path",{d:"M161.388 70.076c-10.662 0-19.42 7.866-19.42 17.67 0 9.803 8.758 17.67 19.42 17.67 10.662 0 19.42-7.867 19.42-17.67 0-9.804-8.758-17.67-19.42-17.67zm45.346 24.554-.02.022-.004.002c-5.402 2.771-11.53 6.895-18.224 11.978l-.002.002-.004.002c-25.943 19.766-60.027 54.218-80.344 80.33h-.072l-1.352 1.768c-5.114 6.69-9.267 12.762-12.098 18.006l-.082.082.022.021v.002l.004.002.174.176.052-.053.102.053-.07.072c30.826 30.537 81.213 30.431 111.918-.273 30.783-30.784 30.8-81.352.04-112.152l-.005-.004zM87.837 142.216c-9.803 0-17.67 8.758-17.67 19.42 0 10.662 7.867 19.42 17.67 19.42 9.804 0 17.67-8.758 17.67-19.42 0-10.662-7.866-19.42-17.67-19.42z",fill:"currentColor"},null,-1),yl=[gl,bl];function wl(n,e){return z(),H("svg",ml,yl)}const vl=ce(pl,[["render",wl]]),kl={},_l={width:"1em",height:"1em",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xl=Z("path",{d:"M40.0716 67.9018C33.7085 68.5686 28.834 65.7635 24.3565 61.822C23.9566 61.4691 23.1627 61.4811 22.5614 61.514C22.1644 61.5349 21.7996 61.9266 21.3968 62.1001C19.6805 62.8388 18.8194 62.5038 17.5526 61.2209C16.2917 59.9439 14.8177 58.8853 13.4283 57.7399C10.4423 55.2816 7.3629 52.946 5.381 49.4381C4.42069 47.7395 3.76103 46.0379 4.08211 44.0671C4.50826 41.4354 4.49075 38.5854 5.54445 36.2408C6.84043 33.355 8.86903 30.7442 10.8947 28.289C13.1101 25.6035 15.5503 26.1537 17.2432 29.2101C18.8078 32.0361 18.9012 34.916 18.2357 37.9843C17.9321 39.3779 17.8474 40.8463 17.8679 42.2788C17.8737 42.7722 18.4225 43.5497 18.8603 43.6664C19.2923 43.78 20.1592 43.3673 20.3781 42.9397C22.074 39.6501 23.8866 36.3934 25.1855 32.9363C25.9064 31.0164 25.74 28.7376 25.921 26.6143C26.0611 24.9844 25.9123 23.3037 26.2538 21.7277C27.1878 17.4094 30.0454 14.8554 34.0179 13.4648C34.9841 13.1269 35.9269 12.7142 36.9076 12.4361C40.1446 11.518 43.2882 12.0473 45.8977 14.045C48.3787 15.944 49.771 18.7641 50.7167 21.8533C51.4202 24.1441 52.4213 26.387 53.6239 28.4505C54.4821 29.9248 55.1008 31.3752 55.0921 33.041C55.0775 35.8012 55.7284 38.3611 57.0448 40.7386C57.2842 41.1723 57.8008 41.4474 58.189 41.7973C58.3992 41.2829 58.8195 40.7536 58.7844 40.2601C58.6152 37.8827 58.2532 35.5201 58.0927 33.1456C57.9234 30.6665 61.2626 26.5365 63.6122 25.9534C65.8335 25.4031 66.572 27.2812 67.6986 28.4236C71.5165 32.2963 73.2328 37.3773 74.9141 42.4044C75.6117 44.4918 75.9006 46.7825 75.997 48.9985C76.0758 50.8198 74.6076 52.01 73.332 53.0806C70.095 55.793 66.8084 58.4217 62.9964 60.2938C61.7062 60.9278 60.6496 62.0433 59.4091 62.8118C58.8282 63.1707 57.8854 63.5954 57.4243 63.3561C55.0541 62.115 53.2561 63.5714 51.4669 64.5972C47.8504 66.6756 44.1872 68.3982 40.0775 67.9018H40.0716Z",fill:"currentColor"},null,-1),El=[xl];function Tl(n,e){return z(),H("svg",_l,El)}const Sl=ce(kl,[["render",Tl]]),Al={},Cl={width:"1em",height:"1em",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fl=Z("path",{d:"M38.7818 25.362H43.6208V39.914H38.7818M52.0805 25.362H56.9195V39.914H52.0805M23.0805 12L11 24.138V67.862H25.4831V80L37.5974 67.862H47.2415L69 46V12M64.161 43.586L54.5169 53.276H44.839L36.3792 61.776V53.276H25.4831V16.862H64.161V43.586Z",fill:"currentColor"},null,-1),Ol=[Fl];function Pl(n,e){return z(),H("svg",Cl,Ol)}const ki=ce(Al,[["render",Pl]]),Rl={},Il={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1539.02 1539.02",width:"1em",height:"1em",fill:"none"},$l=Z("polygon",{fill:"currentColor","fill-rule":"evenodd",points:"278.26 216.86 646.7 216.86 646.7 462.48 769.51 462.48 769.51 339.67 892.32 339.67 892.32 216.86 1260.75 216.86 1260.75 585.29 1137.94 585.29 1137.94 708.1 1015.13 708.1 1015.13 830.91 1137.94 830.91 1137.94 953.72 1260.75 953.72 1260.75 1322.16 892.32 1322.16 892.32 1199.35 769.51 1199.35 769.51 1076.54 646.7 1076.54 646.7 1322.16 278.26 1322.16 278.26 216.86"},null,-1),Dl=[$l];function Ml(n,e){return z(),H("svg",Il,Dl)}const Bl=ce(Rl,[["render",Ml]]),zl={},Kl={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",width:"1em",height:"1em"},jl=Z("path",{d:"M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM129.7 327.2l28.6-14.3c8.7 17.5 41.3 55.2 97.7 55.2s88.9-37.7 97.7-55.2l28.6 14.3C369.7 352.3 327.6 400 256 400s-113.7-47.7-126.3-72.8zM208.4 208c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32zm128 32c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"},null,-1),Nl=[jl];function Ll(n,e){return z(),H("svg",Kl,Nl)}const Vl=ce(zl,[["render",Ll]]),ql=Ce({__name:"Logo",props:{provider:{default:"7TV"}},setup(n){const e=n,{platform:t}=sa(),r={"7TV":Ys,FFZ:Sl,BTTV:vl,PLATFORM:{TWITCH:ki,YOUTUBE:ki,KICK:Bl}[t],EMOJI:Vl}[e.provider];return(i,s)=>(z(),un(tr(se(r))))}});function Yr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ct=Yr();function $s(n){ct=n}const Ds=/[&<>"']/,Ul=new RegExp(Ds.source,"g"),Ms=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Hl=new RegExp(Ms.source,"g"),Wl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_i=n=>Wl[n];function me(n,e){if(e){if(Ds.test(n))return n.replace(Ul,_i)}else if(Ms.test(n))return n.replace(Hl,_i);return n}const Zl=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Gl(n){return n.replace(Zl,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Yl=/(^|[^\[])\^/g;function K(n,e){n=typeof n=="string"?n:n.source,e=e||"";const t={replace:(r,i)=>(i=typeof i=="object"&&"source"in i?i.source:i,i=i.replace(Yl,"$1"),n=n.replace(r,i),t),getRegex:()=>new RegExp(n,e)};return t}function xi(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Pn={exec:()=>null};function Ei(n,e){const t=n.replace(/\|/g,(s,o,a)=>{let l=!1,h=o;for(;--h>=0&&a[h]==="\\";)l=!l;return l?"|":" |"}),r=t.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function cn(n,e,t){const r=n.length;if(r===0)return"";let i=0;for(;i<r;){const s=n.charAt(r-i-1);if(s===e&&!t)i++;else if(s!==e&&t)i++;else break}return n.slice(0,r-i)}function Ql(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return-1}function Ti(n,e,t,r){const i=e.href,s=e.title?me(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:t,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:i,title:s,text:me(o)}}function Xl(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const r=t[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class Rn{constructor(e){D(this,"options");D(this,"rules");D(this,"lexer");this.options=e||ct}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:cn(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=Xl(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=cn(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=cn(t[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",h=!1;for(;e;){let u=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,b=>" ".repeat(3*b.length)),c=e.split(`
`,1)[0],f=0;this.options.pedantic?(f=2,l=d.trimStart()):(f=t[2].search(/[^ ]/),f=f>4?1:f,l=d.slice(f),f+=t[1].length);let m=!1;if(!d&&/^ *$/.test(c)&&(a+=c+`
`,e=e.substring(c.length+1),u=!0),!u){const b=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),y=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),v=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;e;){const _=e.split(`
`,1)[0];if(c=_,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),w.test(c)||v.test(c)||b.test(c)||y.test(e))break;if(c.search(/[^ ]/)>=f||!c.trim())l+=`
`+c.slice(f);else{if(m||d.search(/[^ ]/)>=4||w.test(d)||v.test(d)||y.test(d))break;l+=`
`+c}!m&&!c.trim()&&(m=!0),a+=_+`
`,e=e.substring(_.length+1),d=c.slice(f)}}s.loose||(h?s.loose=!0:/\n *\n *$/.test(a)&&(h=!0));let p=null,g;this.options.gfm&&(p=/^\[[ xX]\] /.exec(l),p&&(g=p[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!p,checked:g,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){const d=s.items[u].tokens.filter(f=>f.type==="space"),c=d.length>0&&d.some(f=>/\n.*\n/.test(f.raw));s.loose=c}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const r={type:"table",raw:t[0],header:Ei(t[1]).map(i=>({text:i,tokens:[]})),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){let i=r.align.length,s,o,a,l;for(s=0;s<i;s++){const h=r.align[s];h&&(/^ *-+: *$/.test(h)?r.align[s]="right":/^ *:-+: *$/.test(h)?r.align[s]="center":/^ *:-+ *$/.test(h)?r.align[s]="left":r.align[s]=null)}for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=Ei(r.rows[s],r.header.length).map(h=>({text:h,tokens:[]}));for(i=r.header.length,o=0;o<i;o++)r.header[o].tokens=this.lexer.inline(r.header[o].text);for(i=r.rows.length,o=0;o<i;o++)for(l=r.rows[o],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:me(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=cn(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=Ql(t[2],"()");if(o>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),Ti(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return Ti(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let a,l,h=o,u=0;const d=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(i=d.exec(t))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){h+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(h-=l,h>0)continue;l=Math.min(l,l+h+u);const c=[...i[0]][0].length,f=e.slice(0,o+i.index+c+l);if(Math.min(o,l)%2){const p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}const m=f.slice(2,-2);return{type:"strong",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=me(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=me(t[1]),i="mailto:"+r):(r=me(t[1]),i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=me(t[0]),i="mailto:"+r;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(s!==t[0]);r=me(t[0]),t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=me(t[0]),{type:"text",raw:t[0],text:r}}}}const C={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pn,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};C._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;C._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;C.def=K(C.def).replace("label",C._label).replace("title",C._title).getRegex();C.bullet=/(?:[*+-]|\d{1,9}[.)])/;C.listItemStart=K(/^( *)(bull) */).replace("bull",C.bullet).getRegex();C.list=K(C.list).replace(/bull/g,C.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+C.def.source+")").getRegex();C._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";C._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;C.html=K(C.html,"i").replace("comment",C._comment).replace("tag",C._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();C.lheading=K(C.lheading).replace(/bull/g,C.bullet).getRegex();C.paragraph=K(C._paragraph).replace("hr",C.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C._tag).getRegex();C.blockquote=K(C.blockquote).replace("paragraph",C.paragraph).getRegex();C.normal={...C};C.gfm={...C.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};C.gfm.table=K(C.gfm.table).replace("hr",C.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C._tag).getRegex();C.gfm.paragraph=K(C._paragraph).replace("hr",C.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",C.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C._tag).getRegex();C.pedantic={...C.normal,html:K(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",C._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:K(C.normal._paragraph).replace("hr",C.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",C.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const T={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};T._punctuation="\\p{P}$+<=>`^|~";T.punctuation=K(T.punctuation,"u").replace(/punctuation/g,T._punctuation).getRegex();T.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;T.anyPunctuation=/\\[punct]/g;T._escapes=/\\([punct])/g;T._comment=K(C._comment).replace("(?:-->|$)","-->").getRegex();T.emStrong.lDelim=K(T.emStrong.lDelim,"u").replace(/punct/g,T._punctuation).getRegex();T.emStrong.rDelimAst=K(T.emStrong.rDelimAst,"gu").replace(/punct/g,T._punctuation).getRegex();T.emStrong.rDelimUnd=K(T.emStrong.rDelimUnd,"gu").replace(/punct/g,T._punctuation).getRegex();T.anyPunctuation=K(T.anyPunctuation,"gu").replace(/punct/g,T._punctuation).getRegex();T._escapes=K(T._escapes,"gu").replace(/punct/g,T._punctuation).getRegex();T._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;T._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;T.autolink=K(T.autolink).replace("scheme",T._scheme).replace("email",T._email).getRegex();T._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;T.tag=K(T.tag).replace("comment",T._comment).replace("attribute",T._attribute).getRegex();T._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;T._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;T._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;T.link=K(T.link).replace("label",T._label).replace("href",T._href).replace("title",T._title).getRegex();T.reflink=K(T.reflink).replace("label",T._label).replace("ref",C._label).getRegex();T.nolink=K(T.nolink).replace("ref",C._label).getRegex();T.reflinkSearch=K(T.reflinkSearch,"g").replace("reflink",T.reflink).replace("nolink",T.nolink).getRegex();T.normal={...T};T.pedantic={...T.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:K(/^!?\[(label)\]\((.*?)\)/).replace("label",T._label).getRegex(),reflink:K(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",T._label).getRegex()};T.gfm={...T.normal,escape:K(T.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};T.gfm.url=K(T.gfm.url,"i").replace("email",T.gfm._extended_email).getRegex();T.breaks={...T.gfm,br:K(T.br).replace("{2,}","*").getRegex(),text:K(T.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Te{constructor(e){D(this,"tokens");D(this,"options");D(this,"state");D(this,"tokenizer");D(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ct,this.options.tokenizer=this.options.tokenizer||new Rn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:C.normal,inline:T.normal};this.options.pedantic?(t.block=C.pedantic,t.inline=T.pedantic):this.options.gfm&&(t.block=C.gfm,this.options.breaks?t.inline=T.breaks:t.inline=T.gfm),this.tokenizer.rules=t}static get rules(){return{block:C,inline:T}}static lex(e,t){return new Te(t).lex(e)}static lexInline(e,t){return new Te(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,h)=>l+"    ".repeat(h.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let h;this.options.extensions.startBlock.forEach(u=>{h=u.call({lexer:this},l),typeof h=="number"&&h>=0&&(a=Math.min(a,h))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=t[t.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,s,o=e,a,l,h;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(h=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,o,h)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const d=e.slice(1);let c;this.options.extensions.startInline.forEach(f=>{c=f.call({lexer:this},d),typeof c=="number"&&c>=0&&(u=Math.min(u,c))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(h=r.raw.slice(-1)),l=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class In{constructor(e){D(this,"options");this.options=e||ct}code(e,t,r){var s;const i=(s=(t||"").match(/^\S*/))==null?void 0:s[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+me(i)+'">'+(r?e:me(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:me(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,r){const i=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){const i=xi(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+r+"</a>",s}image(e,t,r){const i=xi(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}}class Qr{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Se{constructor(e){D(this,"options");D(this,"renderer");D(this,"textRenderer");this.options=e||ct,this.options.renderer=this.options.renderer||new In,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Qr}static parse(e,t){return new Se(t).parse(e)}static parseInline(e,t){return new Se(t).parseInline(e)}parse(e,t=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=s;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,Gl(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let a="",l="";for(let u=0;u<o.header.length;u++)l+=this.renderer.tablecell(this.parseInline(o.header[u].tokens),{header:!0,align:o.align[u]});a+=this.renderer.tablerow(l);let h="";for(let u=0;u<o.rows.length;u++){const d=o.rows[u];l="";for(let c=0;c<d.length;c++)l+=this.renderer.tablecell(this.parseInline(d[c].tokens),{header:!1,align:o.align[c]});h+=this.renderer.tablerow(l)}r+=this.renderer.table(a,h);continue}case"blockquote":{const o=s,a=this.parse(o.tokens);r+=this.renderer.blockquote(a);continue}case"list":{const o=s,a=o.ordered,l=o.start,h=o.loose;let u="";for(let d=0;d<o.items.length;d++){const c=o.items[d],f=c.checked,m=c.task;let p="";if(c.task){const g=this.renderer.checkbox(!!f);h?c.tokens.length>0&&c.tokens[0].type==="paragraph"?(c.tokens[0].text=g+" "+c.tokens[0].text,c.tokens[0].tokens&&c.tokens[0].tokens.length>0&&c.tokens[0].tokens[0].type==="text"&&(c.tokens[0].tokens[0].text=g+" "+c.tokens[0].tokens[0].text)):c.tokens.unshift({type:"text",text:g+" "}):p+=g+" "}p+=this.parse(c.tokens,h),u+=this.renderer.listitem(p,m,!!f)}r+=this.renderer.list(u,a,l);continue}case"html":{const o=s;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,a=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=t?this.renderer.paragraph(a):a;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}switch(s.type){case"escape":{const o=s;r+=t.text(o.text);break}case"html":{const o=s;r+=t.html(o.text);break}case"link":{const o=s;r+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{const o=s;r+=t.image(o.href,o.title,o.text);break}case"strong":{const o=s;r+=t.strong(this.parseInline(o.tokens,t));break}case"em":{const o=s;r+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{const o=s;r+=t.codespan(o.text);break}case"br":{r+=t.br();break}case"del":{const o=s;r+=t.del(this.parseInline(o.tokens,t));break}case"text":{const o=s;r+=t.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class $t{constructor(e){D(this,"options");this.options=e||ct}preprocess(e){return e}postprocess(e){return e}}D($t,"passThroughHooks",new Set(["preprocess","postprocess"]));var qt,Ir,$n,Bs;class Jl{constructor(...e){qn(this,qt);qn(this,$n);D(this,"defaults",Yr());D(this,"options",this.setOptions);D(this,"parse",en(this,qt,Ir).call(this,Te.lex,Se.parse));D(this,"parseInline",en(this,qt,Ir).call(this,Te.lexInline,Se.parseInline));D(this,"Parser",Se);D(this,"Renderer",In);D(this,"TextRenderer",Qr);D(this,"Lexer",Te);D(this,"Tokenizer",Rn);D(this,"Hooks",$t);this.use(...e)}walkTokens(e,t){var i,s;let r=[];for(const o of e)switch(r=r.concat(t.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)r=r.concat(this.walkTokens(l.tokens,t));for(const l of a.rows)for(const h of l)r=r.concat(this.walkTokens(h.tokens,t));break}case"list":{const a=o;r=r.concat(this.walkTokens(a.items,t));break}default:{const a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{r=r.concat(this.walkTokens(a[l],t))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=t.renderers[s.name];o?t.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),r.renderer){const s=this.defaults.renderer||new In(this.defaults);for(const o in r.renderer){const a=r.renderer[o],l=o,h=s[l];s[l]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=h.apply(s,u)),d||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new Rn(this.defaults);for(const o in r.tokenizer){const a=r.tokenizer[o],l=o,h=s[l];s[l]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=h.apply(s,u)),d}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new $t;for(const o in r.hooks){const a=r.hooks[o],l=o,h=s[l];$t.passThroughHooks.has(o)?s[l]=u=>{if(this.defaults.async)return Promise.resolve(a.call(s,u)).then(c=>h.call(s,c));const d=a.call(s,u);return h.call(s,d)}:s[l]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=h.apply(s,u)),d}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Te.lex(e,t??this.defaults)}parser(e,t){return Se.parse(e,t??this.defaults)}}qt=new WeakSet,Ir=function(e,t){return(r,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=en(this,$n,Bs).call(this,!!o.silent,!!o.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(l=>e(l,o)).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>t(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));const l=e(r,o);o.walkTokens&&this.walkTokens(l,o.walkTokens);let h=t(l,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(l){return a(l)}}},$n=new WeakSet,Bs=function(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+me(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}};const st=new Jl;function L(n,e){return st.parse(n,e)}L.options=L.setOptions=function(n){return st.setOptions(n),L.defaults=st.defaults,$s(L.defaults),L};L.getDefaults=Yr;L.defaults=ct;L.use=function(...n){return st.use(...n),L.defaults=st.defaults,$s(L.defaults),L};L.walkTokens=function(n,e){return st.walkTokens(n,e)};L.parseInline=st.parseInline;L.Parser=Se;L.parser=Se.parse;L.Renderer=In;L.TextRenderer=Qr;L.Lexer=Te;L.lexer=Te.lex;L.Tokenizer=Rn;L.Hooks=$t;L.parse=L;L.options;L.setOptions;L.use;L.walkTokens;L.parseInline;Se.parse;Te.lex;const ec=n=>(Mr("data-v-9c51341a"),n=n(),Br(),n),tc={class:"seventv-changelog-inner"},nc={key:0,class:"seventv-changelog-heading"},rc=ec(()=>Z("span",null,"Changelog - 7TV",-1)),ic=["innerHTML"],sc=Ce({__name:"Changelog",props:{noHeader:{type:Boolean}},setup(n){const t=de(`### 3.1.14

-   Fixed internal configs for FireFox
-   Bump version from 3.1.13 to 3.1.14

### 3.1.13

-   Fixed an issue which led to VODs not showing emotes
-   Hide the moderation slider tooltip when dragging

### 3.1.12

-   Removed obfuscator plugin and obfuscation build steps for deterministic build output

### 3.1.11

-   Fixed some issues with FireFox having old version
-   Bumped version from 3.1.10 to 3.1.11

### 3.1.10

-   Replaced Unicode tag that gets appended for duplicate message check to not have it dropped by Twitch anymore

### 3.1.9

-   Remove hosted-site functionality
-   Use new pubsub source

### 3.1.8

-   Tomfoolery (april fools)

### 3.1.7

-   Fixed the profile redirection when clicking on a user on the Twitch dashboard
-   Fixed some keyboard shortcuts not working
-   Added an Always On autocompletion option for emotes
-   Fixed an issue where the default highlight sound would not play on Firefox

### 3.1.6

-   Fixed an issue causing Twitch chat / moderation tools to not work properly
-   Removed old kick auth
-   Fixed an issue with the Twitch chat not showing a cooldown timer

### 3.1.5

-   Entitlements like paints and badges should now better reflect what the user has equipped
-   Fixed an issue with entitlements on accounts with multiple connections
-   Fixed an issue with causing animated avatars to not work
-   Added animated avatars to 7TV user card

### 3.1.4

-   Fixed an issue with avatars not loading

### 3.1.3

-   Added option hide shared chat
-   Fixed an issue with profile picture in shared chat
-   Fixed extension login
-   Fixed an issue when users had multiple personal emote sets

### 3.1.2

-   **Implement support for the new Kick site:**
    -   Chat emotes
    -   Emote menu
    -   Emote auto-completion
    -   Cosmetics
    -   Settings
-   Added option to settings to hide Stories from the sidebar
-   Fixed settings to hide recommended channels and viewers also watch channels
-   Fixed an issue where history navigation is accidentally triggered during IME composition
-   Added option to highlight messages of specific usernames
-   Added option to highlight messages based on badges
-   Added button to user card to toggle highlighting for a users messages
-   Added mod icon for warning users to chat mod icons and user card
-   Added an option to limit the drop shadows on paints
-   Added more drop shadow settings
-   Added link to creators 7TV profile to emote cards of 7TV emotes
-   Fixed a bug that could cause issues when clicking an emoji in chat
-   Fixed an issue with emote sets not switching on channel switch
-   Fixed an issue with making users unable to chat
-   Added an option to expand sidebar on twitch when hovering

### 3.1.1

-   Fixed video player stats not showing
-   Pass rendering of animated messages to twitch
-   Add option to hide on screen celebrations
-   Fixed badge width on kick
-   Fixed an issue where settings would be hidden due to auto-filling the searchbox

### 3.1.0

-   Added rich embeds for 7TV emotes.
-   Added custom commands /search, /add, /remove and /rename to manage 7TV emotes.
-   Added /song that uses the AudD api to recognize songs. (Requires an api token from [AudD](https://audd.io/))
-   Added /refresh to reload emotes.
-   Added /nuke to moderate multiple messages at once. Can be enabled in the settings.
-   Fixed native chat width.
-   Make all setting pages searchable.

### 3.0.17

-   Reinstated animated avatars
-   Fixed an issue where links would include a period at the end
-   Added an option to hide the channel point balance button under the chat input box
-   Updated background of the current emote tab selection
-   Fixed an issue where suspicious users were not highlighted and clips not being displayed in chat
-   Fixed an issue which caused timestamps to count beyond 24 hours
-   Fixed an issue which caused scrolling to not work while scrolling through a category
-   Fixed an issue where lowercase cheers were displayed as text
-   Added an option to hide the community challenge contributions in the chat
-   Fixed extension not working on twitch for some users (React 18 support)
-   Fixed an issue where chat messages (like announcements) did not use the channel accent color
-   Fixed an issue where an emote with a long alias would cause the alias to go outside of the tooltip
-   Added an option to hide timestamps in vods
-   Fixed an issue which sometimes caused chat badges to not appear
-   Fixed an issue that caused replies in threads to not appear
-   Fixed an issue where replies in threads could not be selected
-   Fixed an issue where switching the selected emote-set would not be detected
-   Fixed an issue where the emote menu button did not appear on Kick
-   Fixed an issue which sometimes caused old messages to not appear
-   Sort emotes alphabetically with tab auto-completion on Kick
-   Removed option to hide the React button on Twitch
-   Added emote support for introduction & watch streak messages.
-   Fixed an issue that caused suspicious user highlights to not persist
-   Fixed an issue that caused returning users to not be highlighted
-   Added an option to show raider highlights
-   Added an option to show returning user highlights
-   Fixed an issue that caused international names to not always display logins
-   Fixed an issue that caused Twitch VODs to not load emotes
-   Fixed an issue that caused emote names in emote cards to overflow
-   Fixed an issue that caused certain words to not display in chat

### 3.0.16

-   Added an option to select alternating background color for chat messages
-   Added a tip to the favorite menu to help users favorite emotes if none are found
-   Fixed an issue where personal emote sets remained in cache forever
-   Fixed an issue which prevented users from using two different personal emote sets at once
-   Fixed an issue where seasonal global emotes stayed in cache permanently
-   Fixed an issue with tab auto-completion on Kick
-   Fixed emote tile width in emote menu
-   Fixed "hidden subscription status" message in the User Card
-   Fixed extraneous emote menu blank space when "Live Input Search" was enabled
-   Fixed an issue with deleting messages using mod icons
-   Fixed an issue where the extension menu displayed incorrectly in Chromium-based browsers

### 3.0.15

-   Added a backup tab to the settings menu for importing & exporting settings
-   Added an option to select the default Emote Menu tab
-   Added artist attribution to the emote card
-   Added ability to reset settings to their defaults
-   Fixed an issue where emotes would take a long time to load if external emote providers gave slow response times
-   Fixed an issue where mentioning yourself would highlight the message
-   Fixed an issue where replying to a thread starting from your own message would highlight the message
-   Fixed a regression in previous nightly build causing channel emote sets to not receive EventAPI subscriptions
-   Removed old deprecated fallback cosmetics fetching using the v2 API

### 3.0.14

-   Added a shortcut (Ctrl+E) to open the Emote Menu
-   Added shortcuts (Up/Down Arrows) to switch between providers in the Emote Menu
-   Search in the Emote Menu will now automatically open the nearest tab where matches are found
-   The input box in the Emote Menu is now focused automatically upon opening
-   Added an option to show stream stats such as latency, resolution, bitrate, etc.
-   Added an option to set click actions on the video player (pause/unpause and mute/unmute)
-   Added an option to hide player extensions
-   Added iterable tab-completion on Kick
-   Fixed a user card crash
-   Fixed an issue with the EventAPI connection closing on the first initialization
-   Fixed an issue that prevented new chatters from appearing in autocompletion
-   Fixed an issue which squished tooltips when hovering an emote on the far right side of chat
-   Fixed an issue which hid historical messages on Kick
-   Increased the default value for Message Batching from 150 to 250

### Version 3.0.13

-   Added an option to hide the new mature content dialogs on Twitch
-   Added formatting support for Hype Chat
-   Added options to hide Hype Chats and the Hype Chat button
-   Fixed an issue which prevented moderator data from loading in User Cards
-   Fixed an issue where nametags with blending paints did not correctly use the base color and appeared invisible instead
-   Kick:
    -   Added a settings menu
    -   Added an option to set a delay betweet rendering new messages (Message Batching)
    -   Added an option to set alternating backgrounds between chat messages
    -   The chat input box on Kick no longers loses focus during slow mode
    -   Zero-Width Emotes should now appear properly in Kick chat

### Version 3.0.12

-   Added colon-completion (partial emote matches with ":") on Kick
-   Added history navigation (up/down arrow) on Kick
-   Updated the auth mechanism on Kick to avoid using third-party cookies

### Version 3.0.11

-   Fixed an issue which caused chat to randomly pause on Kick

### Version 3.0.10

-   Tweaked some styling issues in the Emote Menu
-   Kick:
    -   Fixed an issue where historical messages did not consistently render
    -   Fixed an issue which caused text to become misplaced when mixed with Kick native emotes
    -   Fixed an issue with the Emote Menu & Tooltips not appearing while in theater mode
    -   Fixed some issues where the connection flow failed
    -   Long text sequences should no longer overflow outside of the chat box
    -   Adjusted emoji scale to be in line with other platforms
    -   Clicking an emoji in the Emote Menu should now correctly input the unicode instead of the name

### Version 3.0.9

-   Added support for [Kick](https://kick.com)
-   Added new feature: Paint Tool ([subscribers only](https://7tv.app/store))
-   Fixed an issue where the emote menu button was broken due to a recent Twitch change
-   Fixed an issue which sometimes caused channel emote sets to disappear
-   Fixed an issue which caused stylesheets to be duplicated when running in hosted mode

### Version 3.0.8

-   Enabled AVIF images on Firefox >= 113 by default
-   Added sub duration & account creation date in the User Card
-   Added a button to open an emote's full page from the emote card
-   Fixed an issue where clicking the upper drag region in the User Card opened the user's channel
-   Fixed user card content overflowing due to long messages
-   Fixed chat scroller being visible in the viewer list
-   Tentatively fixed an issue which caused the sidebar to crash occasionally

### Version 3.0.7

-   Added a new User Card
-   Added a tooltip to show the full message when hovering over replies in chat
-   Added a "Site Layout" menu where certain features of the Twitch website can be hidden
-   Added icons for emoji sets in the Emote Menu
-   Added an option to choose chat timestamp format
-   Fixed tooltips of nametag paints appearing even if they are disabled
-   Reinstated functionality on youtube.com

### Version 3.0.6

-   Links in chat messages now respect known TLDs instead of matching any url-like pattern
-   Added an option to show timeouts/bans directly in the chat without being a moderator
-   Added options to change what emotes are displayed in the colon list and tab-completion carousel
-   Added an option to show the text bit for BTTV and FFZ emote modifiers
-   Added an option to hide monitored suspicious user highlights
-   Added an option to hide restricted suspicious user highlights
-   Added an option to highlight your own chat messages
-   Fixed an issue in the emote menu where the previously selected provider would close if a set was empty
-   Fixed emote cards sometimes not showing who added the emote
-   Fixed an issue where the detailed emote card would clip under existing chat messages

### Version 3.0.5

-   Reply Threads should now appear properly and show all messages
-   Fixed an issue which caused tab-completion to abruptly halt when a chatter's name is selected

### Version 3.0.4

-   Added hot-patching functionality to the extension
-   Added chat rich embeds which allows twitch clips to preview in chat
-   Added a "Copy Message" button
-   Added an option to show thumbnail previews of streams when hovering over channels on the sidebar
-   Temporarily disabled the "Most Used Emotes" feature, pending a refactor. This fixes severe input lag experienced by some users
-   Made some internal changes which may decrease memory usage for some users
-   Fixed bad performance on colon-completion by limiting the amount of items shown
-   Fixed an issue which caused flickering when hovering on a deleted message
-   Fixed a compatibility issue with another extension, causing distorted scrolling behavior in the settings menu

### Version 3.0.3

-   Disabled YouTube support temporarily due an issue with request pattern

### Version 3.0.2

-   Fixed an issue which caused the chat input to increasingly slow down the page
-   Improved the look of Channel Point Redeem & Highlight messages
-   Reply threads should now function properly
-   Added an option to change how deleted messages appear
-   Fixed tab complete breaking when an emote was added both as a sub emote and 3rd party emote
-   Fixed a clash with FFZ that led to some messages not appearing correctly
-   Fixed an issue which caused sub emotes and emojis to not display in the Favorites tab
-   Fixed the Most Used Emotes tab ignoring visibility setting
-   Fixed sub emotes not showing in colon-complete while FFZ is enabled
-   Fixed an issue which caused VOD chat to crash for some users

### Version 3.0.1

-   Added an emote menu shortcut to define favorite emotes (alt+click)
-   Added a tab in the emote menu to display favorite and most used emotes
-   Added a button to open the native Twitch Emote Menu
-   Added an option to change where the 7TV Emote Menu Button appears
-   Added an option to modify the scale of emotes in chat
-   Added visual settings for highlighted messages, allows changing opacity and over-all style
-   Added an option to modify the font size in chat
-   Unpausing chat should no longer cause old messages to rapidly scroll through
-   Sidebar sub-categories in the settings menu will now highlight what's in view
-   Chat History should now load more consistently
-   Pressing escape while the emote menu is open now closes it
-   Fixed an issue where Twitch badges sometimes failed to load
-   Fixed an issue where Twitch emotes sometimes failed to load
-   Fixed an issue which caused duplicate colon-complete matches with FFZ
-   Fixed an issue that caused tab-completion to break with FFZ
-   Fixed an issue where emotes in colon-complete wouldn't load on Mozilla Firefox
-   Fixed a conflict causing emotes to sometimes display as broken images while other extensions were installed
-   Fixed an issue which prevented highlights from being saved if the "Flash Title" option was turned on
-   Fixed an issue where custom highlight sounds did not work if "Play sound on Mention" was turned off
-   Fixed an issue where custom highlight flash title did not work if "Flash Title on Mention" was turned off

### Version 3.0.0

<span style="font-size:1.5rem;">7TV has received a total overhaul. Check out what's new:</span>

#### High-Performance Chat

<span style="font-size:larger;">
We've made chat run faster, by rebuilding it from the ground up. Let your processor and memory relax, with 7TV your chat experience will be much more efficient.
</span>

<video autoplay muted loop>
 <source x-src="~/picture/cgl_display_chat.webm" />
</video>

#### New Emote Menu

<span style="font-size:larger;">The emote menu was completely redesigned, it's now divided into providers, emote sets, and even shows emojis! It also got smarter, only loading the images currently in view for much better performance.</span>

![Emote Menu](~/picture/cgl_display_emote_menu.avif)

#### New Settings Menu

<span style="font-size:larger;">7TV has just gotten much more customizable, check out the new menu and tune all the various settings to your liking!</span>

![Settings Menu](~/picture/cgl_display_settings_menu.avif)

#### Personal Emotes

<span style="font-size:larger;">7TV Subscribers can now use Personal Emotes in chat! These are emotes that can be used globally, but only by you. Get your own by <a href="https://7tv.app/store" target="_blank">subscribing</a>.</span>

![Personal Emotes](~/picture/cgl_display_personal_emotes.avif)

#### Dynamic Cosmetics

<span style="font-size:larger;">Badges, Paints & Animated Avatars will now update instantly. That's right, no more wait times!</span>

![Dynamic Cosmetics](~/picture/cgl_display_dynamic_cosmetics.avif)

#### Custom Chat Highlights

<span style="font-size:larger;">Set up custom highlights for specific phrases in chat messages, with a color, label, title flash and custom sounds. Use Regular Expressions for even greater control.</span>

![Chat Highlights](~/picture/cgl_display_highlights.avif)

#### Tab-Completion Carousel

<span style="font-size:larger;">View matches as you go when using TAB to find emotes!</span>

![Emote Carousel](~/picture/cgl_display_emote_carousel.avif)

#### AVIF Support

<span style="font-size:larger;">
We are the first emote provider to support WEBP, and as we've inspired others to do the same, we're taking the initiative of supporting AVIF (AV1 Image File Format)!
AVIF is the image variant of the AV1 Video Codec, capable of shrinking image sizes from 20% to 90% over a GIF.
</span>

AVIF will now be automatically served to users of Google Chrome 100+ (or chromium-based browsers).

![AVIF](~/picture/cgl_display_avif.svg)

#### Mod Logs

<span style="font-size:larger;">View recent mod actions with the Mod Logs menu.</span>

#### Much more to come

<span style="font-size:larger;">This is just the beginning! We've rewritten the entire extension with a modular, scalable codebase just waiting to be expanded upon. Expect many new additions to come!</span>

And of course, this is an open-source project. Anyone is welcome to submit a pull request via <a href="https://github.com/seventv/extension" target="_blank">GitHub</a>.
`),r=de(""),i=Ci(Qs,""),s=de();Xs(()=>{r.value=L.parse(t.value,{walkTokens:a=>{a.type==="image"&&a.href.charAt(0)==="~"&&i&&(a.href=o(a.href))},gfm:!0,breaks:!0}),Pi(()=>{if(!s.value)return;s.value.querySelectorAll("video").forEach(l=>{const h=l.getElementsByTagName("source")[0];h&&(h.src=o(h.getAttribute("x-src")??h.src))})})});function o(a){return a.charAt(0)==="~"&&i?i+a.slice(1):a}return(a,l)=>(z(),H("div",tc,[a.noHeader?Mt("",!0):(z(),H("div",nc,[Z("h3",null,[Js(ql,{provider:"7TV"}),rc])])),Z("div",{ref_key:"contentRef",ref:s,class:"seventv-change-notes"},[Z("span",{innerHTML:r.value},null,8,ic)],512)]))}}),Vc=ce(sc,[["__scopeId","data-v-9c51341a"]]),oc={},ac={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",fill:"currentColor",height:"1em",width:"1em"},lc=Z("path",{d:"M125 8h70l10 48.1c13.8 5.2 26.5 12.7 37.5 22L285.6 64 320 123.4l-33.9 30.3c1.3 7.3 1.9 14.7 1.9 22.3s-.7 15.1-1.9 22.3L320 228.6 285.6 288l-43.1-14.2c-11.1 9.3-23.7 16.8-37.5 22L195 344H125l-10-48.1c-13.8-5.2-26.5-12.7-37.5-22L34.4 288 0 228.6l33.9-30.3C32.7 191.1 32 183.6 32 176s.7-15.1 1.9-22.3L0 123.4 34.4 64 77.5 78.2c11.1-9.3 23.7-16.8 37.5-22L125 8zm83 168c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM632 386.4l-47.8 9.8c-4.9 13.4-12 25.8-20.9 36.7l15 44.8L517.7 512l-30.9-34c-7.4 1.3-15 2-22.7 2s-15.4-.7-22.7-2l-30.9 34-60.6-34.4 15-44.8c-8.9-10.9-16-23.3-20.9-36.7L296 386.4V317.6l47.8-9.8c4.9-13.4 12-25.8 20.9-36.7l-15-44.8L410.3 192l30.9 34c7.4-1.3 15-2 22.7-2s15.4 .7 22.7 2l30.9-34 60.6 34.4-15 44.8c8.9 10.9 16 23.3 20.9 36.7l47.8 9.8v68.7zM464 400c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48z"},null,-1),cc=[lc];function uc(n,e){return z(),H("svg",ac,cc)}const qc=ce(oc,[["render",uc]]);export{Oc as A,ka as B,Vc as C,Fc as D,Pc as E,wc as F,qc as G,ki as H,oo as I,$c as J,Dc as K,wn as L,Bc as M,Mc as N,wt as O,Cn as P,ae as Q,Fn as R,Lc as S,kc as T,_c as U,Ac as V,vc as W,xc as X,Ec as Y,ql as _,Kc as a,Jn as b,Ze as c,jc as d,pa as e,Rs as f,fc as g,Ps as h,Nc as i,Cc as j,sa as k,te as l,Pa as m,pc as n,gc as o,mc as p,Rc as q,Tc as r,zc as s,va as t,Ge as u,yc as v,Ic as w,bc as x,Ss as y,Sc as z};
