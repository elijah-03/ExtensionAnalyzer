"use strict";!function(){const{require:t}=ext.backgroundPage.getWindow(),{getBlockedPerPage:e}=t("stats"),{FilterNotifier:n}=t("filterNotifier"),{Prefs:o}=t("prefs");let s;let i={},a={facebook:["https://www.facebook.com/dialog/feed",{app_id:"475542399197328",link:"",redirect_uri:"https://www.facebook.com/",ref:"adcounter",name:i,actions:JSON.stringify([{name:i18n.getMessage("stats_share_download"),link:""}])}],gplus:["https://plus.google.com/share",{url:""}],twitter:["https://twitter.com/intent/tweet",{text:i,url:"",via:"AdblockPlus"}]};function c(){let t=document.getElementById("stats-page"),n=e(s).toLocaleString();i18n.setElementText(t,"stats_label_page",[n]);let i=document.getElementById("stats-total"),a=o.blocked_total.toLocaleString();i18n.setElementText(i,"stats_label_total",[a])}function l(t){let e=o.blocked_total;e=e<=9e3||e>=1e4?e.toLocaleString():i18n.getMessage("stats_over",9e3.toLocaleString()),ext.pages.open(function(t,e){let n=a[t][0],o=a[t][1],s=[];for(let t in o){let n=o[t];n==i&&(n=i18n.getMessage("stats_share_message",e)),s.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}return n+"?"+s.join("&")}(t.target.dataset.social,e))}function r(){o.show_statsinicon=!o.show_statsinicon,document.getElementById("show-iconnumber").setAttribute("aria-checked",o.show_statsinicon)}document.addEventListener("DOMContentLoaded",(function(){document.getElementById("share-box").addEventListener("click",l,!1);let t=document.getElementById("show-iconnumber");t.setAttribute("aria-checked",o.show_statsinicon),t.addEventListener("click",r,!1),document.querySelector("label[for='show-iconnumber']").addEventListener("click",r,!1),ext.pages.query({active:!0,lastFocusedWindow:!0},(t=>{s=t[0],c(),n.on("filter.hitCount",c),document.getElementById("stats-container").removeAttribute("hidden")}))}),!1),window.addEventListener("unload",(function(){n.off("filter.hitCount",c)}),!1)}();