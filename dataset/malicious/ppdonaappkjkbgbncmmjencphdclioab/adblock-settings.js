function Settings(){this._settingsKey="settings",this._defaults={debug_logging:!1,youtube_channel_whitelist:!1,show_advanced_options:!1,show_block_counts_help_link:!0,show_survey:!0};var t=this;this._init=new Promise((function(n){ext.storage.get(t._settingsKey,(function(e){var s=e.settings||{};t._data=$.extend(t._defaults,s),s.debug_logging&&logging(!0),n()}))})).then((function(){log("\n===SETTINGS FINISHED LOADING===\n\n")}))}Settings.prototype={set:function(t,n,e){this._data[t]=n;var s=this;ext.storage.get(this._settingsKey,(function(i){var g=i.settings||{};g[t]=n,ext.storage.set(s._settingsKey,g),void 0!==e&&"function"==typeof e&&e()}))},get_all:function(){return this._data},onload:function(){return this._init}};var _settings=new Settings;_settings.onload();var getSettings=function(){return _settings.get_all()},setSetting=function(t,n,e){_settings.set(t,n,e),"debug_logging"===t&&logging(n)},disableSetting=function(t){_settings.set(t,!1)};