const MRProvider=class{constructor(a){this.c=a,this.code="mr",setInterval(()=>this.setSongsCount(),1e3)}getItems(a){const b=new XMLHttpRequest;b.open("GET",location.href,!0),b.onload=()=>{if(200!==b.status)return a([]);const c=this.getData(b.responseText),d=c.map(a=>({id:a.trackId,name:(a.author+" - "+a.name).htmlSymDecode(),url:"https:"+a.url,pr:this.code}));a(d)},b.send()}getData(a){for(var b,c=[];b=/<script class="data-song" type="text\/plain">([^<]+)<\/script>/g.exec(a);){const a=b[1],d=JSON.parse(a);c.push(d)}return c}setSongsCount(){this.getItems(a=>{const b=a.length;chrome.runtime.sendMessage({action:"setBadge",value:b})})}};