const DEBUG=!1;!function(){let t=[];window.addEventListener("message",(e=>{if(e.source===window&&"FB_AD_PATTERNS"===e.data?.type){const n=e.data.patterns;n&&"string"==typeof n&&(t=n.split("|").map((t=>t.trim())).filter(Boolean))}}));const e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(t,n){return this._url="string"==typeof n?n:null,e.apply(this,arguments)};const n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){return this.addEventListener("load",(function(){try{if(this._url&&this._url.includes("/api/graphql")){(this.responseText?.split("\n")||[]).forEach((e=>{try{const n=function(e){return function(e){const n=[],o=new Set;function s(r){if(Array.isArray(r))for(const t of r)s(t);else if("object"==typeof r&&null!==r){for(const s of t)if(r[s]){const t=r[s];if(t&&"boolean"!=typeof t&&("string"==typeof t||"number"==typeof t)){const r=String(t);o.has(r)||(o.add(r),n.push({adId:r,adIdKey:s,rawData:e}))}}for(const t in r)s(r[t])}}return s(e),n}(e)}(JSON.parse(e));n.length>0&&window.postMessage({type:"FBA",ads:n},"*")}catch(t){false}}))}}catch(t){console.warn("‚ùå XHR processing error:",t)}})),n.apply(this,arguments)}}();