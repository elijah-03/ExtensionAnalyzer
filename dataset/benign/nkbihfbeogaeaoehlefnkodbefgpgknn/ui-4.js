LavaPack.loadBundle([[5943,{"../../../../../shared/constants/metametrics":5613,"../../../../../shared/lib/trace":5718,"../../../../../shared/modules/conversion.utils":5732,"../../../../contexts/metametrics":6855,"../../../../ducks/ramps":6885,"../../../../hooks/bridge/useBridging":6969,"../../../../hooks/ramps/useRamps/useRamps":7004,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../multichain/receive-modal":6707,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/design-system-react"),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=e("../../../../ducks/ramps"),c=g(e("../../../../hooks/ramps/useRamps/useRamps")),u=e("../../../multichain/receive-modal"),d=g(e("../../../../hooks/bridge/useBridging")),p=e("../../../../../shared/constants/metametrics"),f=e("../../../../contexts/metametrics"),m=e("../../../../../shared/modules/conversion.utils"),h=e("../../../../../shared/lib/trace");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.default=({onClose:e,token:t,chainId:n,payerAddress:g})=>{const y=(0,i.useI18nContext)(),{openBuyCryptoInPdapp:b}=(0,c.default)(),v=(0,a.useContext)(f.MetaMetricsContext),x=(0,o.useSelector)(l.getBuyableChains),{openBridgeExperience:_}=(0,d.default)(),[w,k]=(0,a.useState)(!1),E=(0,a.useMemo)(()=>!!n&&x.some(e=>String(e.chainId)===(0,m.hexToDecimal)(n)),[x,n]),T=(0,a.useCallback)(()=>{b(),v({event:p.MetaMetricsEventName.NavBuyButtonClicked,category:p.MetaMetricsEventCategory.Navigation,properties:{location:"Transaction Shield",text:"Buy",chain_id:n,token_symbol:t.symbol}}),e()},[n,b,t.symbol,v]),M=(0,a.useCallback)(()=>{(0,h.trace)({name:h.TraceName.ReceiveModal}),v({event:p.MetaMetricsEventName.NavReceiveButtonClicked,category:p.MetaMetricsEventCategory.Navigation,properties:{text:"Receive",location:"Transaction Shield",chain_id:n}}),k(!0)},[n,v]),C=(0,a.useCallback)(async()=>{_(p.MetaMetricsSwapsEventSource.TransactionShield,{symbol:t.symbol,address:t.address,chainId:n})},[t,_]),O=({label:e,iconName:t,onClick:n,id:o,disabled:i=!1})=>a.default.createElement(r.Box,{asChild:!0,"data-testid":o,className:"add-funds-modal__row flex items-center w-full gap-3 p-4",onClick:n},a.default.createElement("button",{disabled:i},a.default.createElement(r.Icon,{name:t,size:r.IconSize.Lg,color:r.IconColor.IconAlternative}),a.default.createElement(r.Text,{variant:r.TextVariant.BodyMd},e)));return a.default.createElement(s.Modal,{isOpen:!0,onClose:()=>undefined,"data-testid":"add-funds-modal",className:"add-funds-modal"},a.default.createElement(s.ModalOverlay,null),a.default.createElement(s.ModalContent,null,a.default.createElement(s.ModalHeader,{onClose:e},y("addFunds")),a.default.createElement(s.ModalBody,{className:"add-funds-modal__body",paddingLeft:0,paddingRight:0},O({id:"add-funds-modal-buy-crypto-button",label:y("addFundsModalBuyCrypto"),iconName:r.IconName.Add,onClick:T,disabled:!E}),O({id:"add-funds-modal-receive-crypto-button",label:y("addFundsModalReceiveTokens"),iconName:r.IconName.QrCode,onClick:M}),O({id:"add-funds-modal-swap-crypto-button",label:y("addFundsModalSwapTokens"),iconName:r.IconName.SwapHorizontal,onClick:C}),w&&a.default.createElement(u.ReceiveModal,{address:g,onClose:()=>k(!1)}))))}}}},{package:"$root$",file:"ui/components/app/modals/add-funds-modal/add-funds-modal.tsx"}],[5944,{"../../modal":5939,"@metamask/multichain-network-controller":2207,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=c(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("@metamask/multichain-network-controller"),s=c(e("../../modal"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{constructor(...e){super(...e),u(this,"handleDelete",async()=>{const{chainId:e,onConfirm:t,hideModal:n,removeNetwork:a,isChainToDeleteSelected:r,switchToEthereumNetwork:o,isMultichainAccountsFeatureEnabled:s}=this.props,l=(0,i.toEvmCaipChainId)(e);r&&await(null==o?void 0:o(s)),await a(l),t(),n()})}render(){const{t:e}=this.context,{networkNickname:t}=this.props;return r.default.createElement(s.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary",testId:"confirm-delete-network-modal"},r.default.createElement(s.ModalContent,{title:e("deleteNetworkTitle",[t]),description:e("deleteNetworkIntro")}))}}n.default=d,u(d,"propTypes",{hideModal:o.default.func.isRequired,removeNetwork:o.default.func.isRequired,onConfirm:o.default.func.isRequired,networkNickname:o.default.string.isRequired,chainId:o.default.string.isRequired,isChainToDeleteSelected:o.default.bool,switchToEthereumNetwork:o.default.func,isMultichainAccountsFeatureEnabled:o.default.bool}),u(d,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[5945,{"../../../../../shared/modules/selectors/networks":5753,"../../../../helpers/higher-order-components/with-modal-props":6920,"../../../../selectors":7886,"../../../../store/actions":7916,"./confirm-delete-network.component":5944,"react-redux":5021,redux:5124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=u(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../../shared/modules/selectors/networks"),l=e("../../../../selectors"),c=u(e("./confirm-delete-network.component"));function u(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(o.default,(0,a.connect)((e,t)=>{const n=(0,s.getNetworkConfigurationsByChainId)(e),a=(0,l.getIsMultichainAccountsState2Enabled)(e);let r;try{r=(0,s.getProviderConfig)(e).chainId}catch{}const{chainId:o,name:i}=n[t.target];return{chainId:o,networkNickname:i,isChainToDeleteSelected:o===r,isMultichainAccountsFeatureEnabled:a}},e=>({switchToEthereumNetwork:async()=>{await e((0,i.setEnabledNetworks)("0x1"))},removeNetwork:t=>{e((0,i.removeNetwork)(t))}})))(c.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[5946,{"./confirm-delete-network.container":5945},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-delete-network.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[5947,{"../../../../../shared/constants/metametrics":5613,"../../../../helpers/constants/zendesk-url":6911,"../../../../helpers/utils/multichain/blockExplorer":6940,"../../../../helpers/utils/util":6959,"../../../../selectors/multichain":7895,"../../../ui/identicon":6771,"../../modal":5939,"@metamask/keyring-api":2100,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=e("@metamask/keyring-api"),i=e("../../../../helpers/utils/multichain/blockExplorer"),s=f(e("../../modal")),l=e("../../../../helpers/utils/util"),c=f(e("../../../ui/identicon")),u=e("../../../../../shared/constants/metametrics"),d=f(e("../../../../helpers/constants/zendesk-url")),p=e("../../../../selectors/multichain");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.Component{constructor(...e){super(...e),h(this,"handleRemove",()=>{this.props.removeAccount(this.props.account.address).then(()=>this.props.hideModal())}),h(this,"handleCancel",()=>{this.props.hideModal()})}renderSelectedAccount(){const{t:e}=this.context,{account:t,network:n}=this.props;return a.default.createElement("div",{className:"confirm-remove-account__account"},a.default.createElement("div",{className:"confirm-remove-account__account__identicon"},a.default.createElement(c.default,{address:t.address,diameter:32})),a.default.createElement("div",{className:"confirm-remove-account__account__name"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),a.default.createElement("span",{className:"account_value"},t.metadata.name)),a.default.createElement("div",{className:"confirm-remove-account__account__address"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),a.default.createElement("span",{className:"account_value"},(0,l.addressSummary)(t.address,4,4,(0,o.isEvmAccountType)(t.type)))),a.default.createElement("div",{className:"confirm-remove-account__account__link"},a.default.createElement("a",{onClick:()=>{const e=(0,i.getMultichainAccountUrl)(t.address,n);this.context.trackEvent({category:u.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,l.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView"),"data-testid":"explorer-link"},a.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return a.default.createElement(s.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},a.default.createElement("div",null,this.renderSelectedAccount(),a.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),a.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:d.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=g,h(g,"propTypes",{hideModal:r.default.func.isRequired,removeAccount:r.default.func.isRequired,account:p.InternalAccountPropType.isRequired,network:p.MultichainNetworkPropType.isRequired}),h(g,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[5948,{"../../../../helpers/higher-order-components/with-modal-props":6920,"../../../../selectors/multichain":7895,"../../../../store/actions":7916,"./confirm-remove-account.component":5947,"react-redux":5021,redux:5124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=c(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../selectors/multichain"),l=c(e("./confirm-remove-account.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(o.default,(0,a.connect)((e,t)=>({network:(0,s.getMultichainNetwork)(e,t.account)}),e=>({removeAccount:t=>e((0,i.removeAccount)(t))})))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[5949,{"./confirm-remove-account.container":5948},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-remove-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[5950,{"../../modal":5939,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=l(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),c(this,"handleReset",()=>{this.props.resetAccount().then(()=>this.props.hideModal())})}render(){const{t:e}=this.context;return r.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},r.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=u,c(u,"propTypes",{hideModal:o.default.func.isRequired,resetAccount:o.default.func.isRequired}),c(u,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[5951,{"../../../../helpers/higher-order-components/with-modal-props":6920,"../../../../store/actions":7916,"./confirm-reset-account.component":5950,"react-redux":5021,redux:5124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(o.default,(0,a.connect)(null,e=>({resetAccount:()=>e((0,i.resetAccount)())})))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[5952,{"./confirm-reset-account.container":5951},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-reset-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[5953,{"../../../../../shared/modules/selectors/networks":5753,"../../../../../shared/modules/string-utils":5761,"../../../../ducks/metamask/metamask":6883,"../../../../helpers/constants/routes":6904,"../../../../helpers/higher-order-components/with-modal-props":6920,"../../../../hooks/useI18nContext":7047,"../../../../store/actions":7916,"../../../component-library/text":6385,"../../modal":5939,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),r=g(e("prop-types")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),s=g(e("../../modal")),l=e("../../../component-library/text"),c=g(e("../../../../helpers/higher-order-components/with-modal-props")),u=e("../../../../hooks/useI18nContext"),d=e("../../../../helpers/constants/routes"),p=e("../../../../ducks/metamask/metamask"),f=e("../../../../store/actions"),m=e("../../../../../shared/modules/string-utils"),h=e("../../../../../shared/modules/selectors/networks");function g(e){return e&&e.__esModule?e:{default:e}}const y=({hideModal:e,tokenAddress:t})=>{const n=(0,o.useNavigate)(),r=(0,u.useI18nContext)(),c=(0,i.useDispatch)(),g=(0,i.useSelector)(p.getNfts).find(({address:e})=>(0,m.isEqualCaseInsensitive)(e,t)),y=(0,i.useSelector)(h.getSelectedNetworkClientId);return a.default.createElement(s.default,{onSubmit:async()=>{if(g){await c((0,f.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0,networkClientId:y}));const{tokenId:e}=g;n(`${d.ASSET_ROUTE}/${t}/${e}`)}else c((0,f.showImportNftsModal)({tokenAddress:t,ignoreErc20Token:!0}));e()},submitText:r("yes"),onCancel:()=>e(),cancelText:r("cancel")},a.default.createElement("div",{className:"convert-token-to-nft-modal"},a.default.createElement(l.Text,{marginTop:2},r(g?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};y.propTypes={hideModal:r.default.func.isRequired,tokenAddress:r.default.string};n.default=(0,c.default)(y)}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[5954,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/zendesk-url":6911,"../../../../helpers/higher-order-components/with-modal-props":6920,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../ui/text-field":6827,"../../modal":5939,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=p(e("../../modal")),i=p(e("../../../ui/text-field")),s=e("../../../../helpers/constants/design-system"),l=p(e("../../../../helpers/higher-order-components/with-modal-props")),c=e("../../../../hooks/useI18nContext"),u=p(e("../../../../helpers/constants/zendesk-url")),d=e("../../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:r,getNextNonce:l})=>{const p=t||"number"==typeof n&&n.toString(),[f,m]=(0,a.useState)(p),h=(0,c.useI18nContext)();return a.default.createElement(o.default,{onSubmit:()=>{r(""===f?t:f),l(),e()},submitText:h("save"),onCancel:()=>e(),cancelText:h("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},a.default.createElement("div",{className:"customize-nonce-modal"},a.default.createElement("div",{className:"customize-nonce-modal__main-header"},a.default.createElement(d.Text,{className:"customize-nonce-modal__main-title",variant:s.TextVariant.headingSm,as:"h4"},h("editNonceField")),a.default.createElement(d.ButtonIcon,{iconName:d.IconName.Close,className:"customize-nonce-modal__close",size:d.ButtonIconSize.Sm,ariaLabel:h("close"),onClick:e})),a.default.createElement(d.Box,{marginTop:2,display:s.Display.InlineFlex,alignItems:s.AlignItems.center},a.default.createElement(d.Text,{variant:s.TextVariant.bodyMd,as:"h6"},h("editNonceMessage"),a.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:u.default.CUSTOMIZE_NONCE},h("learnMoreUpperCase")))),a.default.createElement(d.Box,{marginTop:4},a.default.createElement(d.Box,{alignItems:s.AlignItems.center,display:s.Display.Flex},a.default.createElement(d.Text,{variant:s.TextVariant.bodyMdBold,as:"h6",width:s.BlockSize.FiveSixths},h("editNonceField")),a.default.createElement(d.Box,{width:s.BlockSize.OneSixth},a.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__reset","data-testid":"customize-nonce-reset",onClick:()=>{m(n)}},h("reset")))),a.default.createElement("div",{className:"customize-nonce-modal__input"},a.default.createElement(i.default,{type:"number","data-testid":"custom-nonce-input",min:"0",placeholder:p,onChange:e=>{const t=e.target.value.replace(/[.,]/gu,"");m(t)},fullWidth:!0,margin:"dense",value:f,id:"custom-nonce-id"})))))};m.propTypes={hideModal:r.default.func.isRequired,customNonceValue:r.default.string,nextNonce:r.default.number,updateCustomNonce:r.default.func,getNextNonce:r.default.func};n.default=(0,l.default)(m)}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[5955,{"./customize-nonce.component":5954},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./customize-nonce.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[5956,{"../../../../../shared/lib/transactions-controller-utils":5720,"../../../component-library":6325,"../../../ui/identicon":6771,"../../../ui/text-field":6827,"../../modal":5939,"bignumber.js":3768,classnames:3913,loglevel:4643,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),c=f(e("../../../ui/identicon")),u=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new s.default(2).pow(256).minus(1).toString(10);class y extends a.PureComponent{constructor(...e){super(...e),h(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedAccount:r,tokenAmount:o,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:h}=this.props,{name:y,address:b}=r||{},{selectedOptionIsUnlimited:v}=this.state;return a.default.createElement("div",{className:"edit-approval-permission"},a.default.createElement("div",{className:"edit-approval-permission__header"},a.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),a.default.createElement("div",{className:"edit-approval-permission__account-info"},a.default.createElement("div",{className:"edit-approval-permission__account-info__account"},a.default.createElement(c.default,{address:b,diameter:32}),a.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},a.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),a.default.createElement("div",null,t("balance")))),a.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),a.default.createElement("div",{className:"edit-approval-permission__edit-section"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[h])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!v,"edit-approval-permission__edit-section__radio-button-outline--selected":v})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),v&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!v,"edit-approval-permission__edit-section__option-label--selected":v})},new s.default(o).equals(new s.default(g))?t("unlimited"):t("proposedApprovalLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[h])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(o)} ${l}`))),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":v,"edit-approval-permission__edit-section__radio-button-outline--selected":!v})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!v&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":v,"edit-approval-permission__edit-section__option-label--selected":!v})},t("customSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},a.default.createElement(u.default,{type:"number",placeholder:`${Number(m||o)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),v&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:a,customSpendLimit:r}=this.state;if(a||!r)return undefined;let i;try{i=new s.default(r)}catch(t){return o.default.debug(`Error converting '${r}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(g,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:r}=this.props,{selectedOptionIsUnlimited:o,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),c=Boolean(i===r&&!o||s);return a.default.createElement(l.default,{onSubmit:()=>{t(o?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:c},this.renderModalContent(s))}}n.default=y,h(y,"propTypes",{decimals:r.default.number,hideModal:r.default.func.isRequired,selectedAccount:r.default.object,tokenAmount:r.default.string,customTokenAmount:r.default.string,tokenSymbol:r.default.string,tokenBalance:r.default.string,setCustomAmount:r.default.func,origin:r.default.string.isRequired,requiredMinimum:r.default.instanceOf(s.default)}),h(y,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[5957,{"../../../../helpers/higher-order-components/with-modal-props":6920,"../../../../selectors":7886,"./edit-approval-permission.component":5956,"react-redux":5021,redux:5124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(o.default,(0,a.connect)(e=>{const t=e.appState.modal.modalState.props||{};return{selectedAccount:(0,i.getSelectedInternalAccount)(e),...t}}))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[5958,{"./edit-approval-permission.container":5957},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-approval-permission.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[5959,{"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,c=0;const u=e=>{const t=`anim_${++c}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach(t=>{n+=`${t} {`,Object.keys(e[t]).forEach(a=>{const r=`:${e[t][a]};`;n+=a+r}),n+="}"}),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:u({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:u({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:u({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:u({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends r.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",(e,t)=>{if(e){const n=function(a){a&&a.target!==e||(((e,t)=>{0!==p.length&&p.forEach(function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)})})(e,n),t())};((e,t)=>{0!==p.length?p.forEach(function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)}):window.setTimeout(t,0)})(e,n)}}),s(this,"handleBackdropClick",()=>{this.props.closeOnClick&&this.hide()}),s(this,"hasHidden",()=>this.state.hidden),s(this,"leave",()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)}),s(this,"enter",()=>{this.props.onShow()}),s(this,"show",()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))}),s(this,"hide",()=>{this.hasHidden()||this.setState({willHide:!0})}),s(this,"listenKeyboard",e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)}),s(this,"closeOnEsc",e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()}),s(this,"UNSAFE_componentDidMount",()=>{window.addEventListener("keydown",this.listenKeyboard,!0)}),s(this,"UNSAFE_componentWillUnmount",()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)})}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t,testId:n}=this.props,a={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},o={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},i=this.props.backdrop?r.default.createElement("div",{className:"modal__backdrop",style:a,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),r.default.createElement("span",null,r.default.createElement("div",{className:"modal",style:t,"data-testid":n},r.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:o},this.props.children)),i)}}s(f,"propTypes",{backdrop:o.default.bool,backdropStyle:o.default.object,closeOnClick:o.default.bool,contentStyle:o.default.object,keyboard:o.default.bool,modalStyle:o.default.object,onShow:o.default.func,onHide:o.default.func,children:o.default.node,testId:o.default.string}),s(f,"defaultProps",{testId:"",onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});n.default=f}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[5960,{"../../../../../shared/modules/selectors/networks":5753,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../selectors/multichain-accounts/account-tree":7890,"../../../../store/actions":7916,"../../../component-library":6325,"../../../ui/identicon":6771,"@metamask/bridge-controller":1304,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("prop-types")),r=h(e("react")),o=e("react-redux"),i=e("@metamask/bridge-controller"),s=h(e("../../../../store/actions")),l=g(e("../../../ui/identicon")),c=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../helpers/constants/routes"),p=e("../../../../../shared/modules/selectors/networks"),f=e("../../../../selectors/multichain-accounts/account-tree");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends r.Component{constructor(...e){super(...e),y(this,"state",{})}render(){const{chainId:e,token:t,hideToken:n,hideModal:a,history:o,networkConfigurationsByChainId:s,getAccountForChain:p}=this.props,{symbol:f,address:m,image:h,chainId:g}=t,y=g||e;return r.default.createElement("div",{className:"hide-token-confirmation__container"},r.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),r.default.createElement(l.default,{className:"hide-token-confirmation__identicon",diameter:45,address:m,image:h}),r.default.createElement("div",{className:"hide-token-confirmation__symbol"},f),r.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),r.default.createElement(c.Box,{display:u.Display.Flex,justifyContent:u.JustifyContent.Center,alignItems:u.AlignItems.Center,gap:4,marginTop:4,width:u.BlockSize.Full},r.default.createElement(c.Button,{variant:c.ButtonVariant.Secondary,block:!0,"data-testid":"hide-token-confirmation__cancel",onClick:()=>a()},this.context.t("cancel")),r.default.createElement(c.Button,{variant:c.ButtonVariant.Primary,block:!0,"data-testid":"hide-token-confirmation__hide",onClick:()=>{if((0,i.isNonEvmChainId)(y))n(m,undefined,y,p);else{const e=s[y],{defaultRpcEndpointIndex:t}=e,{networkClientId:a}=e.rpcEndpoints[t];n(m,a,y,p)}o.push(d.DEFAULT_ROUTE)}},this.context.t("hide"))))}}y(b,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),y(b,"propTypes",{hideToken:a.default.func.isRequired,hideModal:a.default.func.isRequired,chainId:a.default.string.isRequired,networkConfigurationsByChainId:a.default.object.isRequired,getAccountForChain:a.default.func.isRequired,token:a.default.shape({symbol:a.default.string,address:a.default.string,image:a.default.string,chainId:a.default.string}),history:a.default.object});n.default=(0,o.connect)(function(e){return{chainId:(0,p.getCurrentChainId)(e),token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history,networkConfigurationsByChainId:(0,p.getNetworkConfigurationsByChainId)(e),getAccountForChain:t=>(0,f.getInternalAccountBySelectedAccountGroupAndCaip)(e,t)}},function(e){return{hideModal:()=>e(s.hideModal()),hideToken:async(t,n,a,r)=>{if((0,i.isNonEvmChainId)(a)){const n=r(a);if(!n)return void console.warn(`No account found for chain ${a}`);await e(s.multichainIgnoreAssets([t],n.id))}else await e(s.ignoreTokens({tokensToIgnore:t,networkClientId:n,chainId:a}));e(s.hideModal())}}})(b)}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[5961,{"./hide-token-confirmation-modal":5960},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./hide-token-confirmation-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[5962,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/zendesk-url":6911,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../hold-to-reveal-button/hold-to-reveal-button":5920,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,onClose:t,onLongPressed:n,holdToRevealType:c}){const u=(0,i.useI18nContext)(),d="SRP"===c?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",p="SRP"===c?"holdToRevealSRP":"holdToRevealPrivateKey",f="SRP"===c?"holdToRevealContent":"holdToRevealContentPrivateKey",m=`${f}1`,h=`${f}2`;u("holdToRevealContentPrivateKey1"),u("holdToRevealContentPrivateKey2"),u("holdToRevealContent1"),u("holdToRevealContent2");const g=()=>a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,gap:4,marginTop:4,marginBottom:6},a.default.createElement(s.Text,{variant:r.TextVariant.bodyMd},u(m,[a.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:r.TextVariant.bodyMdBold,as:"span"},u(h))])),a.default.createElement(s.Text,{variant:r.TextVariant.bodyMdBold},u("holdToRevealContent3",[a.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:r.TextVariant.bodyMd,as:"span",display:r.Display.Inline},u("holdToRevealContent4")),a.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.ButtonVariant.Link,size:s.ButtonSize.Inherit,href:o.default.NON_CUSTODIAL_WALLET,externalLink:!0},u("holdToRevealContent5"))])));return a.default.createElement(s.Modal,{isOpen:e,onClose:t},a.default.createElement(s.ModalOverlay,null),a.default.createElement(s.ModalContent,null,a.default.createElement(s.ModalHeader,{onClose:t},u(d)),a.default.createElement(s.Container,{paddingLeft:4,paddingRight:4},a.default.createElement(g,null),a.default.createElement(l.default,{buttonText:u(p),onLongPressed:n}))))};var a=c(e("react")),r=e("../../../../helpers/constants/design-system"),o=c(e("../../../../helpers/constants/zendesk-url")),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=c(e("../../hold-to-reveal-button/hold-to-reveal-button"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.tsx"}],[5963,{"../../../../../ducks/app/app":6868,"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../../hooks/useModalProps":7051,"../../../../../store/actions":7916,"../../../../component-library":6325,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CONFIRM_TURN_ON_BACKUP_AND_SYNC_MODAL_NAME=void 0,n.ConfirmTurnOnBackupAndSyncModal=function(){const{props:e,hideModal:t}=(0,i.useModalProps)(),{enableBackupAndSync:n}=e,a=(0,c.useI18nContext)(),f=(0,o.useDispatch)(),m=()=>{t()};return r.default.createElement(s.Modal,{isOpen:!0,onClose:m,"data-testid":p.modal},r.default.createElement(s.ModalOverlay,null),r.default.createElement(s.ModalContent,{modalDialogProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column}},r.default.createElement(s.ModalHeader,{paddingBottom:4,paddingRight:4,paddingLeft:4,onClose:m},r.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,gap:4},r.default.createElement(s.Text,{variant:l.TextVariant.headingSm},a("backupAndSyncEnable")))),r.default.createElement(s.Box,{marginLeft:4,marginRight:4,marginBottom:4,display:l.Display.Flex,gap:4,flexDirection:l.FlexDirection.Column},r.default.createElement(s.Text,{variant:l.TextVariant.bodySm},a("backupAndSyncEnableConfirmation",[r.default.createElement(s.Text,{key:"basic-functionality",variant:l.TextVariant.bodySmBold,as:"span"},a("backupAndSyncBasicFunctionalityNameMention"))]))),r.default.createElement(s.ModalFooter,{containerProps:{flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.stretch}},r.default.createElement(s.Box,{display:l.Display.Flex,gap:4},r.default.createElement(s.Button,{size:s.ButtonSize.Lg,width:l.BlockSize.Half,variant:s.ButtonVariant.Secondary,"data-testid":p.cancelButton,onClick:m},a("cancel")),r.default.createElement(s.Button,{size:s.ButtonSize.Lg,width:l.BlockSize.Half,variant:s.ButtonVariant.Primary,"data-testid":p.toggleButton,onClick:async()=>{await(async()=>{await Promise.all([f((0,d.onboardingToggleBasicFunctionalityOn)()),f((0,u.toggleExternalServices)(!0))])})(),await n(),t()}},a("turnOn"))))))},n.confirmTurnOnBackupAndSyncModalTestIds=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("../../../../../hooks/useModalProps"),s=e("../../../../component-library"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../hooks/useI18nContext"),u=e("../../../../../store/actions"),d=e("../../../../../ducks/app/app");n.CONFIRM_TURN_ON_BACKUP_AND_SYNC_MODAL_NAME="CONFIRM_TURN_ON_BACKUP_AND_SYNC";const p=n.confirmTurnOnBackupAndSyncModalTestIds={modal:"confirm-turn-on-backup-and-sync-modal",toggleButton:"confirm-turn-on-backup-and-sync-toggle-button",cancelButton:"confirm-turn-on-backup-and-sync-cancel-button"}}}},{package:"$root$",file:"ui/components/app/modals/identity/confirm-turn-on-backup-and-sync-modal/confirm-turn-on-backup-and-sync-modal.tsx"}],[5964,{"./confirm-turn-on-backup-and-sync-modal":5963},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./confirm-turn-on-backup-and-sync-modal");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/modals/identity/confirm-turn-on-backup-and-sync-modal/index.ts"}],[5965,{"./confirm-turn-on-backup-and-sync-modal":5964,"./turn-on-backup-and-sync-modal":5966},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./confirm-turn-on-backup-and-sync-modal");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))});var r=e("./turn-on-backup-and-sync-modal");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))})}}},{package:"$root$",file:"ui/components/app/modals/identity/index.tsx"}],[5966,{"./turn-on-backup-and-sync-modal":5967},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./turn-on-backup-and-sync-modal");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/modals/identity/turn-on-backup-and-sync-modal/index.ts"}],[5967,{"../../../../../../shared/constants/metametrics":5613,"../../../../../contexts/metametrics":6855,"../../../../../helpers/constants/design-system":6899,"../../../../../helpers/constants/routes":6904,"../../../../../hooks/identity/useBackupAndSync":6992,"../../../../../hooks/useI18nContext":7047,"../../../../../hooks/useModalProps":7051,"../../../../../selectors":7886,"../../../../../selectors/identity/backup-and-sync":7885,"../../../../../store/actions":7916,"../../../../component-library":6325,"../confirm-turn-on-backup-and-sync-modal":5964,"@metamask/profile-sync-controller/user-storage":2388,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TURN_ON_BACKUP_AND_SYNC_MODAL_NAME=void 0,n.TurnOnBackupAndSyncModal=function(){const{hideModal:e}=(0,s.useModalProps)(),t=(0,o.useNavigate)(),n=(0,r.useDispatch)(),v=(0,f.useI18nContext)(),_=(0,a.useContext)(y.MetaMetricsContext),w=(0,r.useSelector)(m.getUseExternalServices),k=(0,r.useSelector)(l.selectIsBackupAndSyncEnabled),E=(0,r.useSelector)(l.selectIsBackupAndSyncUpdateLoading),{setIsBackupAndSyncFeatureEnabled:T,error:M}=(0,p.useBackupAndSync)(),C=()=>{_({event:b.MetaMetricsEventName.ProfileActivityUpdated,category:b.MetaMetricsEventCategory.BackupAndSync,properties:{feature_name:"Backup And Sync Carousel Modal",action:"Modal Dismissed"}}),e()};return a.default.createElement(u.Modal,{isOpen:!0,onClose:C,"data-testid":x.modal},a.default.createElement(u.ModalOverlay,null),a.default.createElement(u.ModalContent,null,a.default.createElement(u.ModalHeader,{onClose:C},v("backupAndSyncEnable")),a.default.createElement(u.ModalBody,null,a.default.createElement(u.Box,{as:"img",src:"./images/turn-on-backup-and-sync.png",width:d.BlockSize.Full,borderRadius:d.BorderRadius.MD,marginBottom:4}),a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative,marginBottom:4,as:"div"},v("backupAndSyncEnableDescription",[a.default.createElement(u.Text,{as:"a",variant:d.TextVariant.bodySm,href:"https://support.metamask.io/privacy-and-security/profile-privacy",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:d.TextColor.infoDefault},v("backupAndSyncPrivacyLink"))])),a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative,marginBottom:4,as:"div"},v("backupAndSyncEnableDescriptionUpdatePreferences",[a.default.createElement(u.Text,{as:"span",key:"backup-and-sync-enable-preferences",variant:d.TextVariant.bodySmBold},v("backupAndSyncEnableDescriptionUpdatePreferencesPath"))]))),a.default.createElement(u.ModalFooter,{paddingTop:4,onSubmit:()=>(async()=>{_({event:b.MetaMetricsEventName.ProfileActivityUpdated,category:b.MetaMetricsEventCategory.BackupAndSync,properties:{feature_name:"Backup And Sync Carousel Modal",action:"Turned On"}}),w?(k||await T(i.BACKUPANDSYNC_FEATURES.main,!0),t(c.BACKUPANDSYNC_ROUTE),e()):n((0,h.showModal)({name:g.CONFIRM_TURN_ON_BACKUP_AND_SYNC_MODAL_NAME,enableBackupAndSync:async()=>{t(c.BACKUPANDSYNC_ROUTE),await T(i.BACKUPANDSYNC_FEATURES.main,!0)}}))})(),containerProps:{flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.stretch},submitButtonProps:{children:v("backupAndSyncEnable"),loading:E,disabled:E,"data-testid":x.button}}),M&&a.default.createElement(u.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(u.Text,{as:"p",color:d.TextColor.errorDefault,paddingTop:4},v("notificationsSettingsBoxError")))))},n.turnOnBackupAndSyncModalTestIds=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),i=e("@metamask/profile-sync-controller/user-storage"),s=e("../../../../../hooks/useModalProps"),l=e("../../../../../selectors/identity/backup-and-sync"),c=e("../../../../../helpers/constants/routes"),u=e("../../../../component-library"),d=e("../../../../../helpers/constants/design-system"),p=e("../../../../../hooks/identity/useBackupAndSync"),f=e("../../../../../hooks/useI18nContext"),m=e("../../../../../selectors"),h=e("../../../../../store/actions"),g=e("../confirm-turn-on-backup-and-sync-modal"),y=e("../../../../../contexts/metametrics"),b=e("../../../../../../shared/constants/metametrics");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.TURN_ON_BACKUP_AND_SYNC_MODAL_NAME="TURN_ON_BACKUP_AND_SYNC";const x=n.turnOnBackupAndSyncModalTestIds={modal:"turn-on-backup-and-sync-modal",button:"turn-on-backup-and-sync-button"}}}},{package:"$root$",file:"ui/components/app/modals/identity/turn-on-backup-and-sync-modal/turn-on-backup-and-sync-modal.tsx"}],[5968,{"./modal":5971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[5969,{"./keyring-snap-removal-result-modal":5970},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./keyring-snap-removal-result-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/index.ts"}],[597,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function a(e){return t.exports=a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,a(e)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}}},{package:"@babel/runtime",file:"node_modules/@babel/runtime/helpers/getPrototypeOf.js"}],[5970,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../component-library":6325,"../../../component-library/modal-content/deprecated":6335,"../../../component-library/modal-header/deprecated":6344,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),c=e("../../../component-library/modal-header/deprecated"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../selectors");n.default=({isOpen:e,onClose:t})=>{const n=(0,u.useI18nContext)(),a=(0,o.useSelector)(d.getKeyringSnapRemovalResult);return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Modal,{isOpen:e,onClose:()=>t()},r.default.createElement(s.ModalOverlay,null),r.default.createElement(l.ModalContent,{modalDialogProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4}},r.default.createElement(c.ModalHeader,{onClose:t},""),r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},r.default.createElement(s.Icon,{name:"success"===a.result?s.IconName.Confirmation:s.IconName.Danger,color:"success"===a.result?i.IconColor.successDefault:i.IconColor.errorDefault,size:s.IconSize.Xl,marginBottom:4}),r.default.createElement(s.Text,{variant:i.TextVariant.bodyMdBold,textAlign:i.TextAlign.Center},n("keyringSnapRemovalResult1",[a.snapName,"failed"===a.result?n("keyringSnapRemovalResultNotSuccessful"):""]))))))}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/keyring-snap-removal-result-modal.tsx"}],[5971,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/app":5598,"../../../helpers/utils/is-mobile-view":6936,"../../../store/actions":7916,"../../multichain/network-manager":6609,"./confirm-delete-network":5946,"./confirm-remove-account":5949,"./confirm-reset-account":5952,"./convert-token-to-nft-modal/convert-token-to-nft-modal":5953,"./customize-nonce":5955,"./edit-approval-permission":5958,"./fade-modal":5959,"./hide-token-confirmation-modal":5961,"./identity":5965,"./new-account-modal":5975,"./qr-scanner":5980,"./reject-transactions":5984,"./transaction-already-confirmed":5987,"./transaction-confirmed":5989,"./turn-on-metamask-notifications/turn-on-metamask-notifications":5992,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=O(e("prop-types")),r=C(e("react")),o=e("react-redux"),i=e("../../../../app/scripts/lib/util"),s=e("../../../../shared/constants/app"),l=O(e("../../../helpers/utils/is-mobile-view")),c=C(e("../../../store/actions")),u=e("../../multichain/network-manager"),d=e("./identity"),p=O(e("./hide-token-confirmation-modal")),f=O(e("./qr-scanner")),m=O(e("./confirm-remove-account")),h=O(e("./confirm-reset-account")),g=O(e("./transaction-confirmed")),y=O(e("./confirm-delete-network")),b=O(e("./convert-token-to-nft-modal/convert-token-to-nft-modal")),v=O(e("./customize-nonce")),x=O(e("./edit-approval-permission")),_=O(e("./fade-modal")),w=O(e("./new-account-modal")),k=O(e("./reject-transactions")),E=O(e("./transaction-already-confirmed")),T=O(e("./turn-on-metamask-notifications/turn-on-metamask-notifications"));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function O(e){return e&&e.__esModule?e:{default:e}}const S={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},I={...S,width:"344px",top:"15%"},P={...S,width:"309px",top:"12.5%"},j={NEW_ACCOUNT:{contents:r.default.createElement(w.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},HIDE_TOKEN_CONFIRMATION:{contents:r.default.createElement(p.default,null),testId:"hide-token-confirmation-modal",mobileModalStyle:{width:"95%",top:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"400px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:r.default.createElement(h.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:r.default.createElement(m.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:r.default.createElement(b.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:r.default.createElement(y.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:r.default.createElement(x.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:r.default.createElement(g.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},TRANSACTION_ALREADY_CONFIRMED:{disableBackdropClick:!0,contents:r.default.createElement(E.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I}},QR_SCANNER:{contents:r.default.createElement(f.default,null),testId:"qr-scanner-modal",mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:r.default.createElement(k.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:r.default.createElement(v.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},[d.CONFIRM_TURN_ON_BACKUP_AND_SYNC_MODAL_NAME]:{contents:r.default.createElement(d.ConfirmTurnOnBackupAndSyncModal,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},[d.TURN_ON_BACKUP_AND_SYNC_MODAL_NAME]:{contents:r.default.createElement(d.TurnOnBackupAndSyncModal,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},TURN_ON_METAMASK_NOTIFICATIONS:{contents:r.default.createElement(T.default,null),mobileModalStyle:{...P},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},NETWORK_MANAGER:{contents:r.default.createElement(u.NetworkManager,null),mobileModalStyle:{...P},laptopModalStyle:{...I}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},N={backgroundColor:"var(--color-overlay-default)"};class D extends r.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=j[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1,testId:a}=e,o=e[(0,l.default)()?"mobileModalStyle":"laptopModalStyle"],i=e.contentStyle||{};return r.default.createElement(_.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:o,contentStyle:i,backdropStyle:N,closeOnClick:!n,testId:a},t)}}var A,B,R;A=D,B="propTypes",R={active:a.default.bool.isRequired,hideModal:a.default.func.isRequired,hideWarning:a.default.func.isRequired,modalState:a.default.object.isRequired},(B=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(B))in A?Object.defineProperty(A,B,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[B]=R;n.default=(0,o.connect)(function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}},function(e){return{hideModal:t=>{e(c.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(c.hideWarning())}}})(D)}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[5972,{"./multichain-account-intro-modal.component":5973,"./multichain-account-intro-modal.container":5974},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAccountIntroModal",{enumerable:!0,get:function(){return r.MultichainAccountIntroModal}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.MultichainAccountIntroModalContainer}});var a=e("./multichain-account-intro-modal.container"),r=e("./multichain-account-intro-modal.component")}}},{package:"$root$",file:"ui/components/app/modals/multichain-accounts/intro-modal/index.ts"}],[5973,{"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../component-library":6325,"../../../../component-library/lottie-animation":6331,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountIntroModal=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../helpers/constants/design-system"),i=e("../../../../component-library"),s=e("../../../../../hooks/useI18nContext"),l=e("../../../../component-library/lottie-animation");const c=r.default.memo(l.LottieAnimation);n.MultichainAccountIntroModal=r.default.memo(({isOpen:e,onViewAccounts:t,onLearnMore:n,onClose:a,isLoading:l=!1})=>{const u=(0,s.useI18nContext)();return r.default.createElement(i.Modal,{isOpen:e,onClose:a,isClosedOnOutsideClick:!0,isClosedOnEscapeKey:!0},r.default.createElement(i.ModalOverlay,null),r.default.createElement(i.ModalContent,null,r.default.createElement(i.ModalHeader,{onClose:a},u("multichainAccountsIntroductionModalTitle")),r.default.createElement(i.ModalBody,null,r.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,marginBottom:4},r.default.createElement(c,{path:"images/animations/multichain-accounts/MM_MultichainAccounts_Polycon-and-network_Lottie.json",loop:!0,autoplay:!0,className:"multichain-accounts-intro-modal__lottie-animation"})),r.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.flexStart,width:o.BlockSize.Full,gap:3},r.default.createElement(i.Box,null,r.default.createElement(i.Text,{variant:o.TextVariant.headingMd,marginBottom:2},u("multichainAccountIntroWhatTitle")),r.default.createElement(i.Text,{variant:o.TextVariant.bodyMd,color:o.TextColor.textAlternative},u("multichainAccountIntroWhatDescription"))),r.default.createElement(i.Box,null,r.default.createElement(i.Text,{variant:o.TextVariant.headingMd,marginBottom:2},u("multichainAccountIntroSameAddressTitle")),r.default.createElement(i.Text,{variant:o.TextVariant.bodyMd,color:o.TextColor.textAlternative},u("multichainAccountIntroSameAddressDescription"))))),r.default.createElement(i.ModalFooter,null,r.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:4},r.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,block:!0,onClick:t,loading:l,disabled:l},u(l?"multichainAccountIntroSettingUp":"multichainAccountIntroViewAccounts")),r.default.createElement(i.Button,{variant:i.ButtonVariant.Link,size:i.ButtonSize.Lg,block:!0,onClick:n,disabled:l},u("multichainAccountIntroLearnMore"))))))})}}},{package:"$root$",file:"ui/components/app/modals/multichain-accounts/intro-modal/multichain-account-intro-modal.component.tsx"}],[5974,{"../../../../../../shared/lib/sentry":5711,"../../../../../helpers/constants/routes":6904,"../../../../../store/actions":7916,"./multichain-account-intro-modal.component":5973,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountIntroModalContainer=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),i=e("../../../../../../shared/lib/sentry"),s=e("../../../../../store/actions"),l=e("../../../../../helpers/constants/routes"),c=e("./multichain-account-intro-modal.component");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n.MultichainAccountIntroModalContainer=({onClose:e})=>{const t=(0,r.useDispatch)(),n=(0,o.useNavigate)(),[u,d]=(0,a.useState)(!1),p=(0,a.useRef)(!1),f=(0,a.useMemo)(()=>(0,s.alignMultichainWallets)().catch(e=>(console.error("Wallet alignment failed:",e),(0,i.captureException)(e),Promise.resolve())),[]),m=(0,a.useCallback)(async()=>{d(!0);try{await Promise.all([f,new Promise(e=>setTimeout(e,2e3))])}catch(e){}finally{d(!1)}p.current||(p.current=!0,t((0,s.setMultichainAccountsIntroModalShown)(!0)),e(),n(l.ACCOUNT_LIST_PAGE_ROUTE))},[f,t,n,e]),h=(0,a.useCallback)(()=>{window.open("https://support.metamask.io/configure/accounts/multichain-accounts/","_blank","noopener,noreferrer")},[]),g=(0,a.useCallback)(async()=>{if(!p.current){p.current=!0;try{await f}catch(e){console.error("Alignment failed during modal close:",e)}t((0,s.setMultichainAccountsIntroModalShown)(!0)),e()}},[t,e,f]);(0,a.useEffect)(()=>()=>{f.catch(()=>{})},[f]);const y={isOpen:!0,onViewAccounts:m,onLearnMore:h,onClose:g,isLoading:u};return a.default.createElement(c.MultichainAccountIntroModal,y)}}}},{package:"$root$",file:"ui/components/app/modals/multichain-accounts/intro-modal/multichain-account-intro-modal.container.tsx"}],[5975,{"./new-account-modal.container":5977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./new-account-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[5976,{"../../../component-library":6325,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../component-library");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.Component{constructor(...e){super(...e),l(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),l(this,"onChange",e=>{this.setState({alias:e.target.value})}),l(this,"onSubmit",async()=>{await this.props.onSave(this.state.alias).then(this.props.hideModal)}),l(this,"onKeyPress",e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()})}render(){const{t:e}=this.context;return r.default.createElement("div",{className:"new-account-modal"},r.default.createElement("div",{className:"new-account-modal__content"},r.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),r.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),r.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),r.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),r.default.createElement("div",{className:"new-account-modal__footer"},r.default.createElement(i.Button,{variant:i.ButtonVariant.Secondary,block:!0,onClick:this.props.hideModal},e("cancel")),r.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,block:!0,onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=c,l(c,"contextTypes",{t:o.default.func}),l(c,"propTypes",{hideModal:o.default.func.isRequired,newAccountNumber:o.default.number.isRequired,onSave:o.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[5977,{"../../../../store/actions":7916,"./new-account-modal.component":5976,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),i=(a=e("./new-account-modal.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)(function(e){return{...e.appState.modal.modalState.props}},function(e){return{hideModal:()=>e((0,o.hideModal)()),createAccount:async t=>{const{address:n}=await e((0,o.addNewAccount)());return t&&e((0,o.setAccountLabel)(n,t)),await(0,o.forceUpdateMetamaskState)(e),n}}},function(e,t){const{onCreateNewAccount:n}=e,{createAccount:a}=t;return{...e,...t,onSave:e=>a(e).then(e=>{n(e)})}})(i.default)}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[5978,{"./nickname-popovers.component":5979},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nickname-popovers.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[5979,{"../../../../helpers/utils/multichain/blockExplorer":6940,"../../../../hooks/useMultichainSelector":7057,"../../../../selectors":7886,"../../../../selectors/multichain":7895,"../../../../store/actions":7916,"../../../ui/nickname-popover":6794,"../../../ui/update-nickname-popover/update-nickname-popover":6843,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=f(e("prop-types")),i=e("../../../../helpers/utils/multichain/blockExplorer"),s=e("../../../../store/actions"),l=e("../../../../selectors"),c=f(e("../../../ui/nickname-popover")),u=f(e("../../../ui/update-nickname-popover/update-nickname-popover")),d=e("../../../../selectors/multichain"),p=e("../../../../hooks/useMultichainSelector");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h="SHOW_NICKNAME_POPOVER",g="ADD_NICKNAME_POPOVER",y=({address:e,onClose:t})=>{const n=(0,r.useDispatch)(),[o,f]=(0,a.useState)(h),m=(0,r.useSelector)(l.getAddressBook).find(t=>t.address===e),y=null==m?void 0:m.name,b=(0,r.useSelector)(t=>(0,l.getInternalAccountByAddress)(t,e)),v=(0,p.useMultichainSelector)(d.getMultichainNetwork,b),x=(0,i.getMultichainAccountUrl)(e,v);return o===g?a.default.createElement(u.default,{address:e,nickname:y||null,memo:(null==m?void 0:m.memo)||null,onClose:()=>f(h),onAdd:(e,t,a)=>n((0,s.addToAddressBook)(e,t,a))}):a.default.createElement(c.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>f(g),explorerLink:x})};y.propTypes={address:o.default.string,onClose:o.default.func};n.default=y}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[598,{"./setPrototypeOf.js":611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("./setPrototypeOf.js");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports}}},{package:"@babel/runtime",file:"node_modules/@babel/runtime/helpers/inherits.js"}],[5980,{"./qr-scanner.container":5982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("./qr-scanner.container"))&&a.__esModule?a:{default:a};n.default=r.default}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[5981,{"../../../../../app/scripts/lib/util":353,"../../../../../shared/constants/app":5598,"../../../../../shared/constants/time":5635,"../../../../helpers/utils/util":6959,"../../../../helpers/utils/webcam-utils":6960,"../../../../hooks/useI18nContext":7047,"../../../../hooks/usePrevious":7068,"../../../ui/page-container/page-container-footer/page-container-footer.component":6800,"../../../ui/spinner":6817,"./scan-util":5983,"@zxing/browser":3393,loglevel:4643,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=y(e("prop-types")),o=y(e("loglevel")),i=e("@zxing/browser"),s=e("../../../../hooks/usePrevious"),l=e("../../../../hooks/useI18nContext"),c=e("../../../../../app/scripts/lib/util"),u=e("../../../../helpers/utils/util"),d=y(e("../../../../helpers/utils/webcam-utils")),p=y(e("../../../ui/page-container/page-container-footer/page-container-footer.component")),f=y(e("../../../ui/spinner")),m=e("../../../../../shared/constants/app"),h=e("../../../../../shared/constants/time"),g=e("./scan-util");function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const v={ACCESSING_CAMERA:"ACCESSING_CAMERA",NEED_TO_ALLOW_ACCESS:"NEED_TO_ALLOW_ACCESS",READY:"READY"},x="ethereum:",_=e=>{let t="unknown",n={};return e.split(x).length>1&&51===e.length?(t="address",n={address:(0,g.parseScanContent)(e)}):"0x"===e.substring(0,2).toLowerCase()&&42===e.length&&(t="address",n={address:e}),{type:t,values:n}};function w({hideModal:e,qrCodeDetected:t}){const n=(0,l.useI18nContext)(),[r,g]=(0,a.useState)(v.ACCESSING_CAMERA),y=(0,s.usePrevious)(r),[b,x]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[E,T]=(0,a.useState)(null),[M,C]=(0,a.useState)(null),O=(0,a.useCallback)(async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise(e=>setTimeout(e,2*h.SECOND)),!w)return;g(v.READY)}else w&&C(setTimeout(this.checkPermissions,h.SECOND))}catch(e){w&&x({error:e})}},[w]),S=(0,a.useCallback)(()=>{E&&(E.constructor.cleanVideoSource(),E.constructor.releaseAllStreams(),T(null))},[E]),I=(0,a.useCallback)(()=>{E&&S(e),e()},[E,e,S]),P=(0,a.useCallback)(async()=>{E||T(new i.BrowserQRCodeReader)},[E]);(0,a.useEffect)(()=>{(async()=>{if(E)try{await O(),await E.constructor.listVideoInputDevices();const e=await E.decodeOnceFromVideoDevice(undefined,"video"),a=_(e.text);w&&("unknown"===a.type?x(new Error(n("unknownQrCode"))):(t(a),I()))}catch(e){if(w)return;"NotAllowedError"===e.name?(o.default.info(`Permission denied: '${e}'`),g(v.NEED_TO_ALLOW_ACCESS)):x(e)}})()},[O,E,w,t,I,n]);const j=async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,c.getEnvironmentType)()!==m.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,u.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){w&&x({error:e})}await P()};(0,a.useEffect)(()=>{k(!0),(async()=>{await j()})()},[]),(0,a.useEffect)(()=>{(async()=>{y!==r&&(r===v.READY?await P():r===v.NEED_TO_ALLOW_ACCESS&&await O())})()},[y,r,P,O]);const N=async()=>{clearTimeout(M),E&&S(),g(v.ACCESSING_CAMERA),x(null),await j()};return a.default.createElement("div",{className:"qr-scanner"},a.default.createElement("div",{className:"qr-scanner__close",onClick:I}),b?(()=>{let e,t;return"NO_WEBCAM_FOUND"===b.type?(e=n("noWebcamFoundTitle"),t=n("noWebcamFound")):b.message===n("unknownQrCode")?t=n("unknownQrCode"):(e=n("generalCameraErrorTitle"),t=n("generalCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),e&&a.default.createElement("div",{className:"qr-scanner__title"},e),a.default.createElement("div",{className:"qr-scanner__error"},t),a.default.createElement(p.default,{onCancel:I,onSubmit:N,cancelText:n("cancel"),submitText:n("tryAgain")}))})():a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__title"},`${n("scanQrCode")}`),a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:r===v.READY?"block":"none"}}),r!==v.READY&&a.default.createElement(f.default,null))),a.default.createElement("div",{className:"qr-scanner__status"},(e=>{let t;switch(e){case v.ACCESSING_CAMERA:t=n("accessingYourCamera");break;case v.READY:t=n("scanInstructions");break;case v.NEED_TO_ALLOW_ACCESS:t=n("youNeedToAllowCameraAccess");break;default:t=n("accessingYourCamera")}return t})(r))))}w.propTypes={hideModal:r.default.func.isRequired,qrCodeDetected:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[5982,{"../../../../store/actions":7916,"./qr-scanner.component":5981,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),i=(a=e("./qr-scanner.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)(null,e=>({hideModal:()=>e((0,o.hideModal)()),qrCodeDetected:t=>e((0,o.qrCodeDetected)(t))}))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[5983,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseScanContent=function(e){const t=e.match(/^[a-zA-Z]+:(0x[0-9a-fA-F]{40})(?:@.*)?/u);if(!t)return null;return t[1]}}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/scan-util.ts"}],[5984,{"./reject-transactions.container":5986},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./reject-transactions.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[5985,{"../../modal":5939,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()})}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:a}=this.props;return r.default.createElement(o.default,{headerText:e(a?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},r.default.createElement("div",null,r.default.createElement("div",{className:"reject-transactions__description"},e(a?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=c,l(c,"contextTypes",{t:a.default.func.isRequired}),l(c,"propTypes",{onSubmit:a.default.func.isRequired,hideModal:a.default.func.isRequired,unapprovedTxCount:a.default.number.isRequired,isRequestType:a.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[5986,{"../../../../helpers/higher-order-components/with-modal-props":6920,"./reject-transactions.component":5985,"react-redux":5021,redux:5124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(o.default,(0,a.connect)((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}}))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[5987,{"./transaction-already-confirmed":5988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-already-confirmed"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/index.ts"}],[5988,{"../../../../contexts/i18n":6850,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useModalProps":7051,"../../../../selectors":7886,"../../../component-library":6325,"@metamask/etherscan-link":1994,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{hideModal:e,props:{originalTransactionId:t}}=(0,s.useModalProps)(),n=(0,a.useContext)(u.I18nContext),d=(0,r.useDispatch)(),p=(0,r.useSelector)(e=>(0,i.getTransaction)(e,t)),f=(0,r.useSelector)(i.getRpcPrefsForCurrentProvider);return a.default.createElement(l.Modal,{isOpen:!0,onClose:e},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{onClose:e},n("yourTransactionConfirmed")),a.default.createElement(l.ModalBody,null,a.default.createElement(l.Text,null,n("yourTransactionJustConfirmed"))),a.default.createElement(l.ModalFooter,{onSubmit:e,onCancel:()=>{const t=(0,o.getBlockExplorerLink)(p,f);global.platform.openTab({url:t}),d(e())},submitButtonProps:{children:n("gotIt")},cancelButtonProps:{children:n("viewOnBlockExplorer")},containerProps:{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.stretch}})))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/etherscan-link"),i=e("../../../../selectors"),s=e("../../../../hooks/useModalProps"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../contexts/i18n");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/transaction-already-confirmed.tsx"}],[5989,{"./transaction-confirmed.container":5991},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-confirmed.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[5990,{"../../../../helpers/constants/design-system":6899,"../../../component-library":6325,"../../modal":5939,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=l(e("prop-types")),o=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),u(this,"handleSubmit",()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()})}render(){const{t:e}=this.context;return a.default.createElement(o.default,{onSubmit:this.handleSubmit,submitText:e("ok")},a.default.createElement("div",{className:"transaction-confirmed__content"},a.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),a.default.createElement(i.Text,{variant:s.TextVariant.headingMd,fontWeight:s.FontWeight.Medium,textAlign:s.TextAlign.Center},`${e("confirmed")}!`),a.default.createElement(i.Text,{textAlign:s.TextAlign.Center},e("initialTransactionConfirmed"))))}}n.default=d,u(d,"contextTypes",{t:r.default.func}),u(d,"propTypes",{onSubmit:r.default.func,hideModal:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[5991,{"../../../../helpers/higher-order-components/with-modal-props":6920,"./transaction-confirmed.component":5990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("../../../../helpers/higher-order-components/with-modal-props")),r=o(e("./transaction-confirmed.component"));function o(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.default)(r.default)}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[5992,{"../../../../../shared/constants/metametrics":5613,"../../../../contexts/i18n":6850,"../../../../contexts/metamask-notifications/metamask-notifications":6853,"../../../../contexts/metametrics":6855,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../hooks/metamask-notifications/useNotifications":6997,"../../../../hooks/useModalProps":7051,"../../../../selectors/identity/backup-and-sync":7885,"../../../../selectors/metamask-notifications/metamask-notifications":7887,"../../../component-library":6325,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{hideModal:e}=(0,s.useModalProps)(),t=(0,o.useNavigate)(),n=(0,a.useContext)(i.I18nContext),y=(0,a.useContext)(c.MetaMetricsContext),{listNotifications:b}=(0,l.useMetamaskNotificationsContext)(),v=(0,r.useSelector)(d.selectIsMetamaskNotificationsEnabled),x=(0,r.useSelector)(d.getIsUpdatingMetamaskNotifications),_=(0,r.useSelector)(p.selectIsBackupAndSyncEnabled),[w,k]=(0,a.useState)(x),{enableNotifications:E,error:T}=(0,f.useEnableNotifications)(),M=()=>{e(),k(e=>(e||y({category:u.MetaMetricsEventCategory.NotificationsActivationFlow,event:u.MetaMetricsEventName.NotificationsActivated,properties:{is_profile_syncing_enabled:_,action_type:"dismissed"}}),e))};(0,a.useEffect)(()=>{v&&!T&&(t(m.NOTIFICATIONS_ROUTE),e(),b())},[v,T,t,e,b]);const C=a.default.createElement(h.Text,{as:"a",href:"https://support.metamask.io/privacy-and-security/profile-privacy",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:g.TextColor.infoDefault},n("turnOnMetamaskNotificationsMessagePrivacyLink")),O=a.default.createElement(h.Text,{as:"span",fontWeight:g.FontWeight.Bold,key:"strong-text"},n("turnOnMetamaskNotificationsMessagePrivacyBold"));return a.default.createElement(h.Modal,{isOpen:!0,onClose:()=>M()},a.default.createElement(h.ModalOverlay,null),a.default.createElement(h.ModalContent,null,a.default.createElement(h.ModalHeader,{onClose:()=>M()},n("turnOnMetamaskNotifications")),a.default.createElement(h.ModalBody,null,a.default.createElement(h.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:g.BlockSize.Full,borderRadius:g.BorderRadius.MD,marginBottom:4}),a.default.createElement(h.Text,{as:"p"},n("turnOnMetamaskNotificationsMessageFirst")),a.default.createElement(h.Text,{as:"p",paddingTop:4},n("turnOnMetamaskNotificationsMessageSecond",[C])),a.default.createElement(h.Text,{as:"p",paddingTop:4},n("turnOnMetamaskNotificationsMessageThird",[O]))),a.default.createElement(h.ModalFooter,{paddingTop:4,onSubmit:()=>(async()=>{k(!0),y({category:u.MetaMetricsEventCategory.NotificationsActivationFlow,event:u.MetaMetricsEventName.NotificationsActivated,properties:{is_profile_syncing_enabled:!0,action_type:"activated"}}),await E()})(),containerProps:{flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.stretch},submitButtonProps:{children:n("turnOnMetamaskNotificationsButton"),loading:w,disabled:w,"data-testid":"turn-on-notifications-button"}}),T&&a.default.createElement(h.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(h.Text,{as:"p",color:g.TextColor.errorDefault,paddingTop:4},n("turnOnMetamaskNotificationsError")))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),i=e("../../../../contexts/i18n"),s=e("../../../../hooks/useModalProps"),l=e("../../../../contexts/metamask-notifications/metamask-notifications"),c=e("../../../../contexts/metametrics"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../selectors/metamask-notifications/metamask-notifications"),p=e("../../../../selectors/identity/backup-and-sync"),f=e("../../../../hooks/metamask-notifications/useNotifications"),m=e("../../../../helpers/constants/routes"),h=e("../../../component-library"),g=e("../../../../helpers/constants/design-system");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/turn-on-metamask-notifications/turn-on-metamask-notifications.tsx"}],[5993,{"./visit-support-data-consent-modal":5994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./visit-support-data-consent-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/visit-support-data-consent-modal/index.ts"}],[5994,{"../../../../../shared/constants/metametrics":5613,"../../../../../shared/lib/ui-utils":5725,"../../../../contexts/metametrics":6855,"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/window":6961,"../../../../hooks/subscription/useSubscription":7022,"../../../../hooks/useI18nContext":7047,"../../../../selectors/identity/authentication":7884,"../../../../selectors/selectors":7903,"../../../component-library":6325,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../hooks/useI18nContext"),i=e("../../../../selectors/identity/authentication"),s=e("../../../../selectors/selectors"),l=e("../../../../helpers/utils/window"),c=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../../shared/constants/metametrics"),p=e("../../../../contexts/metametrics"),f=e("../../../../../shared/lib/ui-utils"),m=e("../../../../hooks/subscription/useSubscription");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=({isOpen:e,onClose:t})=>{var n;const h=(0,o.useI18nContext)(),g=(0,a.useContext)(p.MetaMetricsContext),y=(0,r.useSelector)(i.selectSessionData),b=null==y||null===(n=y.profile)||void 0===n?void 0:n.profileId,v=(0,r.useSelector)(s.getMetaMetricsId),{customerId:x}=(0,m.useUserSubscriptions)(),_=(0,a.useCallback)(e=>{t();let n=f.SUPPORT_LINK;const a=new URLSearchParams;a.append("metamask_version",e.version),e.profileId&&a.append("metamask_profile_id",e.profileId),e.metaMetricsId&&a.append("metamask_metametrics_id",e.metaMetricsId),e.shieldCustomerId&&a.append("shield_id",e.shieldCustomerId);const r=a.toString();r&&(n+=`?${r}`),g({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.SupportLinkClicked,properties:{url:n}},{contextPropsIntoEventProperties:[d.MetaMetricsContextProp.PageTitle]}),(0,l.openWindow)(n)},[t,g]),w=(0,a.useCallback)(()=>{t(),g({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.SupportLinkClicked,properties:{url:f.SUPPORT_LINK}},{contextPropsIntoEventProperties:[d.MetaMetricsContextProp.PageTitle]}),(0,l.openWindow)(f.SUPPORT_LINK)},[t,g]);return a.default.createElement(c.Modal,{isOpen:e,onClose:t,"data-testid":"visit-support-data-consent-modal",className:"visit-support-data-consent-modal"},a.default.createElement(c.ModalOverlay,null),a.default.createElement(c.ModalContent,null,a.default.createElement(c.ModalHeader,null,h("visitSupportDataConsentModalTitle")),a.default.createElement(c.ModalBody,{paddingLeft:4,paddingRight:4,className:"visit-support-data-consent-modal__body"},a.default.createElement(c.Text,{variant:u.TextVariant.bodyMd},h("visitSupportDataConsentModalDescription"))),a.default.createElement(c.ModalFooter,null,a.default.createElement(c.Box,{display:u.Display.Flex,gap:4},a.default.createElement(c.ButtonSecondary,{size:c.ButtonSecondarySize.Lg,width:u.BlockSize.Half,onClick:w,"data-testid":"visit-support-data-consent-modal-reject-button"},h("visitSupportDataConsentModalReject")),a.default.createElement(c.ButtonPrimary,{size:c.ButtonPrimarySize.Lg,width:u.BlockSize.Half,onClick:()=>_({version:"13.11.0",profileId:b,metaMetricsId:v,shieldCustomerId:x}),"data-testid":"visit-support-data-consent-modal-accept-button"},h("visitSupportDataConsentModalAccept"))))))}}}},{package:"$root$",file:"ui/components/app/modals/visit-support-data-consent-modal/visit-support-data-consent-modal.tsx"}],[5995,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/app":5598,"../../../../shared/modules/selectors/networks":5753,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"./network-list-item/network-list-item":5996,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=e("react-redux"),o=e("../../component-library"),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),l=e("../../../store/actions"),c=e("../../../../app/scripts/lib/util"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../../shared/constants/app"),p=f(e("./network-list-item/network-list-item"));function f(e){return e&&e.__esModule?e:{default:e}}n.default=function(){const e=(0,i.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,c.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP,f=(0,r.useSelector)(u.getNetworkConfigurationsByChainId);return a.default.createElement(o.Modal,{isOpen:!0,onClose:()=>t((0,l.setShowMultiRpcModal)(!1)),isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1,"data-testid":"multi-rpc-edit-modal",autoFocus:!1},a.default.createElement(o.ModalOverlay,null),a.default.createElement(o.ModalContent,null,a.default.createElement(o.ModalBody,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},a.default.createElement(o.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,borderRadius:s.BorderRadius.SM},a.default.createElement("img",{src:"/images/networks1.png"})),a.default.createElement(o.Text,{variant:s.TextVariant.bodyMdBold,textAlign:s.TextAlign.Center},e("updatedRpcForNetworks")),a.default.createElement(o.Text,{variant:s.TextVariant.bodyMd,textAlign:s.TextAlign.Center,paddingTop:2},e("supportMultiRpcInformation")),a.default.createElement(o.Box,{paddingBottom:6},a.default.createElement(o.Box,{marginTop:n?0:4,marginBottom:1},Object.values(f).map(e=>e.rpcEndpoints.length>1?a.default.createElement(p.default,{networkConfiguration:e,key:e.chainId}):null)))),a.default.createElement(o.ModalFooter,{onSubmit:()=>{t((0,l.setShowMultiRpcModal)(!1))},submitButtonProps:{children:e("accept"),block:!0}})))}}}},{package:"$root$",file:"ui/components/app/multi-rpc-edit-modal/multi-rpc-edit-modal.tsx"}],[5996,{"../../../../../shared/constants/network":5617,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../../store/actions":7916,"../../../component-library":6325,"@metamask/network-controller":2227,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/network-controller"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=e("../../../../store/actions"),u=e("../../../../../shared/constants/network");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.default=({networkConfiguration:e})=>{const t=e.rpcEndpoints[e.defaultRpcEndpointIndex],n=(0,l.useI18nContext)(),[d,p]=(0,a.useState)(!1),f=(0,r.useDispatch)(),[m,h]=(0,a.useState)();return a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,paddingBottom:4,paddingTop:4},a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,width:s.BlockSize.EightTwelfths},a.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Md,src:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.ElevenTwelfths},a.default.createElement(i.Box,{marginLeft:4},a.default.createElement(i.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,ellipsis:!0},e.name)),a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,marginLeft:4},a.default.createElement(i.Text,{padding:0,backgroundColor:s.BackgroundColor.transparent,as:"button",variant:s.TextVariant.bodySmMedium,color:s.TextColor.textAlternative,ref:e=>{h(e)},style:{width:220},textAlign:s.TextAlign.Left,onMouseLeave:()=>{p(!1)},onMouseOver:()=>{p(!0)},ellipsis:!0},t.name??new URL(t.url).host),a.default.createElement(i.Popover,{referenceElement:m,position:i.PopoverPosition.Bottom,isOpen:d,hasArrow:!0,backgroundColor:s.BackgroundColor.backgroundAlternative,paddingTop:2,paddingBottom:2},a.default.createElement(i.Text,{variant:s.TextVariant.bodyXsMedium,ellipsis:!0},t.type===o.RpcEndpointType.Infura?t.url.replace("/v3/{infuraProjectId}",""):t.url))))),a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,marginLeft:1},a.default.createElement(i.Button,{type:"button",variant:i.ButtonVariant.Link,onClick:()=>{f((0,c.toggleNetworkMenu)({isAddingNewNetwork:!1,isMultiRpcOnboarding:!0})),f((0,c.setEditedNetwork)({chainId:e.chainId,nickname:e.name}))}},n("edit"))))}}}},{package:"$root$",file:"ui/components/app/multi-rpc-edit-modal/network-list-item/network-list-item.tsx"}],[5997,{"../../../../shared/constants/bridge":5600,"../../../../shared/constants/common":5601,"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/multichain/networks":5616,"../../../../shared/constants/network":5617,"../../../../shared/lib/bridge-status/utils":5648,"../../../../shared/lib/multichain/networks":5706,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/bridge/useBridgeChainInfo":6965,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../confirm/info/row":5875,"../multichain-transaction-details-modal/helpers":5999,"@metamask/bridge-controller":1304,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/bridge-controller"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e("../../../../shared/constants/metametrics"),u=e("../../../contexts/metametrics"),d=e("../confirm/info/row"),p=e("../../../helpers/utils/util"),f=e("../multichain-transaction-details-modal/helpers"),m=e("../../../../shared/lib/multichain/networks"),h=e("../../../../shared/constants/multichain/networks"),g=e("../../../../shared/constants/network"),y=e("../../../../shared/constants/common"),b=e("../../../../shared/constants/bridge"),v=e("../../../../shared/lib/bridge-status/utils"),x=(a=e("../../../hooks/bridge/useBridgeChainInfo"))&&a.__esModule?a:{default:a};function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=({transaction:e,bridgeHistoryItem:t,onClose:n})=>{var a,_,w,k,E,T;const M=(0,s.useI18nContext)(),C=(0,r.useContext)(u.MetaMetricsContext),{quote:O,status:S}=t,{id:I,timestamp:P,from:j}=e,N=null==j||null===(a=j[0])||void 0===a?void 0:a.asset,D=null===(_=e.fees)||void 0===_||null===(_=_.find(e=>"base"===e.type))||void 0===_?void 0:_.asset;let A=M("bridgeStatusInProgress"),B=i.TextColor.primaryDefault;(0,v.isBridgeComplete)(t)?(A=M("bridgeStatusComplete"),B=i.TextColor.successDefault):(0,v.isBridgeFailed)(e,t)&&(A=M("bridgeStatusFailed"),B=i.TextColor.errorDefault);const R=(e,t)=>{if(!e||!t)return"";try{const n=(0,o.formatChainIdToCaip)(t);let a="";if((0,o.isNonEvmChainId)(t)){const t=h.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[n];t&&(a=(0,m.formatBlockExplorerTransactionUrl)(t,e.split(":").at(-1)??e))}else{const n=t.startsWith("0x")?t:`0x${Number(t).toString(16)}`,r=y.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[n];a=r?`${r}tx/${e}`:`https://etherscan.io/tx/${e}`}return a}catch(e){return console.error("Error generating block explorer URL:",e),""}},F=(e,t=18)=>{if(!e)return"0";try{const n=BigInt(e),a=BigInt(10)**BigInt(t),r=n/a,o=(n%a).toString().padStart(t,"0"),i=4,s=o.substring(0,i).replace(/0+$/u,"");return s.length>0?`${r}.${s}`:`${r}`}catch(t){return console.error("Error formatting destination token amount:",t),e.toString()}},{srcNetwork:W,destNetwork:L}=(0,x.default)({bridgeHistoryItem:t,nonEvmTransaction:e}),$=null!=W&&W.chainId?h.MULTICHAIN_NETWORK_TO_NICKNAME[W.chainId]:undefined,z=null!=W&&W.chainId?h.MULTICHAIN_TOKEN_IMAGE_MAP[W.chainId]:undefined;return r.default.createElement(l.Modal,{onClose:n,"data-testid":"multichain-bridge-transaction-details-modal",isOpen:!0,isClosedOnOutsideClick:!0,isClosedOnEscapeKey:!0},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{className:"multichain-bridge-transaction-details-modal",modalDialogProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,padding:4}},r.default.createElement(l.ModalHeader,{onClose:n,padding:0},r.default.createElement(l.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center},M("bridgeDetailsTitle")),r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},(0,f.formatTimestamp)(P))),r.default.createElement(l.Box,{paddingBottom:4},r.default.createElement(d.ConfirmInfoRowDivider,null)),r.default.createElement(l.Box,{className:"multichain-bridge-transaction-details-modal__content",style:{overflow:"auto",flex:"1"}},r.default.createElement(l.Box,null,r.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4},r.default.createElement(l.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},M("status")),r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,color:B},A)),r.default.createElement(l.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},M("transactionIdLabel")),r.default.createElement(l.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:1},r.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:i.TextVariant.bodyMd,alignItems:i.AlignItems.flexStart},as:"a",externalLink:!0,href:(0,f.getTransactionUrl)(I,(null==W?void 0:W.chainId)??e.chain)},(0,f.shortenTransactionId)(I),r.default.createElement(l.Icon,{marginLeft:2,name:l.IconName.Export,size:l.IconSize.Sm,color:i.IconColor.primaryDefault})))),(null===(w=S.destChain)||void 0===w?void 0:w.txHash)&&r.default.createElement(l.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},M("destinationTransactionIdLabel")),r.default.createElement(l.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:1},r.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:i.TextVariant.bodyMd,alignItems:i.AlignItems.flexStart},as:"a",externalLink:!0,href:R(S.destChain.txHash,(null===(k=S.destChain.chainId)||void 0===k?void 0:k.toString())??"")},(0,f.shortenTransactionId)(S.destChain.txHash),r.default.createElement(l.Icon,{marginLeft:2,name:l.IconName.Export,size:l.IconSize.Sm,color:i.IconColor.primaryDefault}))))),r.default.createElement(l.Box,{paddingTop:4,paddingBottom:4},r.default.createElement(d.ConfirmInfoRowDivider,null)),r.default.createElement(l.Box,{marginBottom:4},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium,marginBottom:2},M("bridging")),r.default.createElement(l.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center,marginBottom:2},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},M("from")),r.default.createElement(l.Box,{display:i.Display.Flex,gap:2,alignItems:i.AlignItems.center},r.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Sm,className:"multichain-bridge-transaction-details-modal__network-badge",name:$??"",src:z??"",borderColor:i.BorderColor.backgroundDefault}),r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd},$))),r.default.createElement(l.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},M("to")),r.default.createElement(l.Box,{display:i.Display.Flex,gap:2,alignItems:i.AlignItems.center},r.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Sm,className:"multichain-bridge-transaction-details-modal__network-badge",name:null!=L&&L.chainId?b.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==L?void 0:L.chainId]??"":"",src:g.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[null!=L&&L.isEvm?(0,o.formatChainIdToHex)(null==L?void 0:L.chainId):null==L?void 0:L.chainId]||"",borderColor:i.BorderColor.backgroundDefault}),r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd},null!=L&&L.chainId?b.NETWORK_TO_SHORT_NETWORK_NAME_MAP[L.chainId]:"")))),r.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4},r.default.createElement(l.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},M("youSent")),r.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexEnd},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,"data-testid":"transaction-source-amount"},(e=>{if(null!=N&&N.fungible){var t;return`${null!==(t=N.amount)&&void 0!==t&&t.startsWith("-")?N.amount.substring(1):N.amount} ${N.unit}`}if(null!=O&&O.srcTokenAmount&&null!=O&&null!==(e=O.srcAsset)&&void 0!==e&&e.symbol){return`${F(O.srcTokenAmount,O.srcAsset.decimals)} ${O.srcAsset.symbol}`}return""})()))),(0,v.isBridgeComplete)(t)&&((null===(E=S.destChain)||void 0===E?void 0:E.amount)??O.destTokenAmount)&&O.destAsset.symbol&&r.default.createElement(l.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},M("youReceived")),r.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexEnd},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,"data-testid":"transaction-dest-amount"},F((null===(T=S.destChain)||void 0===T?void 0:T.amount)??O.destTokenAmount,O.destAsset.decimals)," ",O.destAsset.symbol))),D&&D.fungible&&r.default.createElement(l.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},M("transactionTotalGasFee")),r.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexEnd},r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,"data-testid":"transaction-gas-fee"},D.amount," ",D.unit))))),r.default.createElement(l.Box,{paddingTop:4},r.default.createElement(d.ConfirmInfoRowDivider,null))),r.default.createElement(l.ModalFooter,null,r.default.createElement(l.Button,{block:!0,size:l.ButtonSize.Md,variant:l.ButtonVariant.Link,onClick:()=>{global.platform.openTab({url:R(I,null==W?void 0:W.chainId)}),C({event:c.MetaMetricsEventName.ExternalLinkClicked,category:c.MetaMetricsEventCategory.Navigation,properties:{link_type:c.MetaMetricsEventLinkType.AccountTracker,location:"Transaction Details",url_domain:(0,p.getURLHostName)(R(I,null==W?void 0:W.chainId))}})},endIconName:l.IconName.Export},M("viewOnBlockExplorer")))))}}}},{package:"$root$",file:"ui/components/app/multichain-bridge-transaction-details-modal/multichain-bridge-transaction-details-modal.tsx"}],[5998,{"../../../../shared/constants/bridge":5600,"../../../../shared/constants/multichain/networks":5616,"../../../../shared/constants/transaction":5637,"../../../../shared/lib/bridge-status/utils":5648,"../../../ducks/locale/locale":6882,"../../../helpers/constants/design-system":6899,"../../../hooks/bridge/useBridgeChainInfo":6965,"../../../hooks/useI18nContext":7047,"../../../hooks/useMultichainTransactionDisplay":7058,"../../../pages/bridge/transaction-details/segment":7151,"../../../pages/confirmations/components/simulation-details/formatAmount":7392,"../../component-library":6325,"../../multichain/activity-list-item/activity-list-item":6470,"../multichain-transaction-details-modal/helpers":5999,"../transaction-icon":6231,"../transaction-status-label/transaction-status-label":6243,"@metamask/bridge-controller":1304,"@metamask/keyring-api":2100,"bignumber.js":3768,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=T(e("react")),r=e("react-redux"),o=e("lodash"),i=e("bignumber.js"),s=e("@metamask/keyring-api"),l=e("@metamask/bridge-controller"),c=e("../../../../shared/lib/bridge-status/utils"),u=e("../../../hooks/useI18nContext"),d=e("../../../hooks/useMultichainTransactionDisplay"),p=e("../multichain-transaction-details-modal/helpers"),f=T(e("../transaction-icon")),m=T(e("../transaction-status-label/transaction-status-label")),h=e("../../multichain/activity-list-item/activity-list-item"),g=T(e("../../../pages/bridge/transaction-details/segment")),y=e("../../../helpers/constants/design-system"),b=e("../../component-library"),v=e("../../../../shared/constants/multichain/networks"),x=e("../../../../shared/constants/transaction"),_=e("../../../../shared/constants/bridge"),w=T(e("../../../hooks/bridge/useBridgeChainInfo")),k=e("../../../pages/confirmations/components/simulation-details/formatAmount"),E=e("../../../ducks/locale/locale");function T(e){return e&&e.__esModule?e:{default:e}}n.default=({transaction:e,bridgeHistoryItem:t,toggleShowDetails:n})=>{var T;const M=(0,u.useI18nContext)(),C=(0,r.useSelector)(E.getIntlLocale),O=e.status===s.TransactionStatus.Confirmed,{type:S,from:I}=e,P=null==I||null===(T=I[0])||void 0===T?void 0:T.asset,j=(0,c.isBridgeComplete)(t),N=(0,c.isBridgeFailed)(e,t),D=j||N,A=O?l.StatusTypes.COMPLETE:l.StatusTypes.PENDING;let B=null;O&&(B=j?l.StatusTypes.COMPLETE:l.StatusTypes.PENDING);const R=O?2:1,{srcNetwork:F,destNetwork:W}=(0,w.default)({bridgeHistoryItem:t,nonEvmTransaction:e}),L=null!=F&&F.chainId?v.MULTICHAIN_NETWORK_TO_NICKNAME[F.chainId]:undefined,$=null!=F&&F.chainId?v.MULTICHAIN_TOKEN_IMAGE_MAP[F.chainId]:undefined,z=(null!=W&&W.chainId?_.NETWORK_TO_SHORT_NETWORK_NAME_MAP[W.chainId]:undefined)??(null==W?void 0:W.chainId),q=z?`${M("bridgeTo")} ${z}`:(0,o.capitalize)(S);return a.default.createElement(h.ActivityListItem,{className:"multichain-bridge-transaction-list-item","data-testid":"multichain-bridge-activity-item",onClick:()=>n(e),icon:a.default.createElement(b.BadgeWrapper,{anchorElementShape:b.BadgeWrapperAnchorElementShape.circular,badge:a.default.createElement(b.AvatarNetwork,{borderColor:y.BorderColor.backgroundDefault,borderWidth:1,className:"activity-tx__network-badge","data-testid":"activity-tx-network-badge",name:L??"",size:b.AvatarNetworkSize.Xs,src:$??""}),display:y.Display.Block,positionObj:{right:-4,top:-4}},a.default.createElement(f.default,{category:x.TransactionGroupCategory.bridge,status:d.KEYRING_TRANSACTION_STATUS_KEY[e.status]??s.TransactionStatus.Submitted})),rightContent:a.default.createElement(a.default.Fragment,null,a.default.createElement(b.Text,{className:"activity-list-item__primary-currency",color:y.TextColor.textDefault,"data-testid":"transaction-list-item-primary-currency",ellipsis:!0,fontWeight:y.FontWeight.Medium,textAlign:y.TextAlign.Right,title:"Primary Currency",variant:y.TextVariant.bodyMdMedium},(()=>{if(null!=P&&P.fungible){return`-${(0,k.formatAmount)(C,new i.BigNumber(P.amount))} ${t.quote.srcAsset.symbol??P.unit}`}return""})())),title:q,subtitle:a.default.createElement(b.Box,{display:y.Display.Flex,flexDirection:y.FlexDirection.Column,gap:1},D?a.default.createElement(m.default,{date:(0,p.formatTimestamp)(e.timestamp),error:{},status:d.KEYRING_TRANSACTION_STATUS_KEY[e.status],statusOnly:!0,className:j?"transaction-status-label--confirmed":undefined}):a.default.createElement(b.Box,{marginTop:0,display:y.Display.Flex,flexDirection:y.FlexDirection.Column,gap:1,width:y.BlockSize.Full},a.default.createElement(b.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySm},M("bridgeTransactionProgress",[R])),a.default.createElement(b.Box,{display:y.Display.Flex,gap:2,width:y.BlockSize.Full},a.default.createElement(g.default,{type:A}),a.default.createElement(g.default,{type:B}))))})}}}},{package:"$root$",file:"ui/components/app/multichain-bridge-transaction-list-item/multichain-bridge-transaction-list-item.tsx"}],[5999,{"../../../../shared/constants/multichain/networks":5616,"../../../../shared/lib/multichain/networks":5706,"../../../helpers/utils/util":6959,luxon:4646},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionUrl=n.getAddressUrl=n.formatTimestamp=void 0,n.shortenTransactionId=function(e){return(0,o.shortenAddress)(e)};var a=e("luxon"),r=e("../../../../shared/constants/multichain/networks"),o=e("../../../helpers/utils/util"),i=e("../../../../shared/lib/multichain/networks");n.getTransactionUrl=(e,t)=>{const n=r.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[t];return n?(0,i.formatBlockExplorerTransactionUrl)(n,e):""};n.getAddressUrl=(e,t)=>{const n=r.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[t];return n?(0,i.formatBlockExplorerAddressUrl)(n,e):""};n.formatTimestamp=e=>{if(!e)return"";const t=e<1e12?1e3*e:e,n=a.DateTime.fromMillis(t);return`${(0,o.formatDateWithYearContext)(t,"MMM d, y","MMM d")}, ${n.toFormat("HH:mm")}`}}}},{package:"$root$",file:"ui/components/app/multichain-transaction-details-modal/helpers.ts"}],[6e3,{"./multichain-transaction-details-modal":6001},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainTransactionDetailsModal",{enumerable:!0,get:function(){return a.MultichainTransactionDetailsModal}});var a=e("./multichain-transaction-details-modal")}}},{package:"$root$",file:"ui/components/app/multichain-transaction-details-modal/index.ts"}],[6001,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../hooks/useMultichainTransactionDisplay":7058,"../../../selectors/accounts":7875,"../../component-library":6325,"../confirm/info/row":5875,"./helpers":5999,"@metamask/keyring-api":2100,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainTransactionDetailsModal=function({transaction:e,onClose:t,userAddress:n,networkConfig:y}){const b=(0,l.useI18nContext)(),v=(0,a.useContext)(d.MetaMetricsContext),{from:x,to:_,isRedeposit:w,baseFee:k,priorityFee:E,status:T,chain:M,type:C,timestamp:O,id:S}=(0,m.useMultichainTransactionDisplay)(e,y),I=(0,i.useSelector)(h.getInternalAccountsObject),P=null==I?void 0:I[e.account],j=(0,h.isNonEvmAccount)(P)?null==P?void 0:P.address:undefined,N=m.KEYRING_TRANSACTION_STATUS_KEY[T],D=(e,t)=>t?a.default.createElement(c.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Medium},e),a.default.createElement(c.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:1},a.default.createElement(c.ButtonLink,{size:c.ButtonLinkSize.Inherit,textProps:{variant:s.TextVariant.bodyMd,alignItems:s.AlignItems.flexStart},as:"a",externalLink:!0,href:(0,g.getAddressUrl)(t,M)},(0,f.shortenAddress)(t),a.default.createElement(c.Icon,{marginLeft:2,name:c.IconName.Export,size:c.IconSize.Sm,color:s.IconColor.primaryDefault,onClick:()=>navigator.clipboard.writeText((0,g.getAddressUrl)(t,M))})))):null,A=(e,t,n)=>e?a.default.createElement(c.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Medium},t),a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexEnd},a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,"data-testid":n},e.amount," ",e.unit))):null,B={[o.TransactionType.Send]:b("send"),[o.TransactionType.Receive]:b("receive"),[o.TransactionType.Swap]:b("swap"),[o.TransactionType.Unknown]:b("interaction")};return a.default.createElement(c.Modal,{onClose:t,"data-testid":"multichain-transaction-details-modal",isOpen:!0,isClosedOnOutsideClick:!0,isClosedOnEscapeKey:!0},a.default.createElement(c.ModalOverlay,null),a.default.createElement(c.ModalContent,{modalDialogProps:{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,padding:4}},a.default.createElement(c.ModalHeader,{onClose:t,padding:0},a.default.createElement(c.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center},(0,r.capitalize)(w?b("redeposit"):B[C])),a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative,textAlign:s.TextAlign.Center},(0,g.formatTimestamp)(O))),a.default.createElement(c.Box,{paddingBottom:4},a.default.createElement(p.ConfirmInfoRowDivider,null)),a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4},T&&a.default.createElement(c.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Medium},b("status")),a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,color:(e=>{switch(null==e?void 0:e.toLowerCase()){case o.TransactionStatus.Confirmed:return s.TextColor.successDefault;case o.TransactionStatus.Unconfirmed:return s.TextColor.warningDefault;case o.TransactionStatus.Failed:return s.TextColor.errorDefault;default:return s.TextColor.textDefault}})(T)},(0,r.capitalize)(b(N)))),a.default.createElement(c.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Medium},b("notificationItemTransactionId")),a.default.createElement(c.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:1},a.default.createElement(c.ButtonLink,{size:c.ButtonLinkSize.Inherit,textProps:{variant:s.TextVariant.bodyMd,alignItems:s.AlignItems.flexStart},as:"a",externalLink:!0,href:(0,g.getTransactionUrl)(S,M)},(0,g.shortenTransactionId)(S),a.default.createElement(c.Icon,{marginLeft:2,name:c.IconName.Export,size:c.IconSize.Sm,color:s.IconColor.primaryDefault,onClick:()=>navigator.clipboard.writeText((0,g.getTransactionUrl)(S,M))}))))),a.default.createElement(c.Box,{paddingTop:4,paddingBottom:4},a.default.createElement(p.ConfirmInfoRowDivider,null)),a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4},D(b("from"),C===o.TransactionType.Send?j||n:null==x?void 0:x.address),a.default.createElement(a.default.Fragment,null,D(b("to"),null==_?void 0:_.address),A(C===o.TransactionType.Swap?x:_,b("amount"),"transaction-amount")),A(k,b("networkFee"),"transaction-base-fee"),A(E,b("priorityFee"),"transaction-priority-fee"))),a.default.createElement(c.Box,{paddingTop:4},a.default.createElement(p.ConfirmInfoRowDivider,null)),a.default.createElement(c.ModalFooter,null,a.default.createElement(c.Button,{block:!0,size:c.ButtonSize.Md,variant:c.ButtonVariant.Link,onClick:()=>{global.platform.openTab({url:(0,g.getTransactionUrl)(S,M)}),v({event:u.MetaMetricsEventName.ExternalLinkClicked,category:u.MetaMetricsEventCategory.Navigation,properties:{link_type:u.MetaMetricsEventLinkType.AccountTracker,location:"Transaction Details",url_domain:(0,f.getURLHostName)((0,g.getTransactionUrl)(S,M))}})},endIconName:c.IconName.Export},b("viewDetails")))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("lodash"),o=e("@metamask/keyring-api"),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../component-library"),u=e("../../../../shared/constants/metametrics"),d=e("../../../contexts/metametrics"),p=e("../confirm/info/row"),f=e("../../../helpers/utils/util"),m=e("../../../hooks/useMultichainTransactionDisplay"),h=e("../../../selectors/accounts"),g=e("./helpers");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/multichain-transaction-details-modal/multichain-transaction-details-modal.tsx"}],[6002,{"./multiple-notifications.component":6003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multiple-notifications.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[6003,{classnames:3913,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=i(e("classnames")),o=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,o=t.filter(Boolean);return 0===o.length?null:a.default.createElement("div",{className:(0,r.default)(...n,"home-notification-wrapper--multichain",{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e})},o,a.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},o.length>1?a.default.createElement("i",{className:(0,r.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=c,l(c,"defaultProps",{children:[],classNames:[]}),l(c,"propTypes",{children:o.default.array,classNames:o.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[6004,{"./name":6010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./name"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/name/index.ts"}],[6005,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../component-library":6325,"@metamask/name-controller":2215,"ethereumjs-util":4138,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("ethereumjs-util"),o=e("@metamask/name-controller"),i=e("../../../component-library"),s=e("../../../../helpers/utils/util"),l=e("../../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}const d=(0,a.memo)(({value:e,type:t,...n})=>{const c=function(e,t){return e.length&&t===o.NameType.ETHEREUM_ADDRESS?(0,s.shortenAddress)((0,r.toChecksumAddress)(e)):e}(e,t);return a.default.createElement(i.Text,u({className:"name__value",variant:l.TextVariant.bodyMd},n),c)});n.default=d}}},{package:"$root$",file:"ui/components/app/name/name-details/formatted-value.tsx"}],[6006,{"../../../../../shared/constants/metametrics":5613,"../../../../contexts/metametrics":6855,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesMetrics=function({initialSources:e,name:t,proposedNameOptions:n,savedName:i,savedSourceId:s,selectedSourceId:l,type:c}){const u=(0,a.useContext)(r.MetaMetricsContext),d=(0,a.useCallback)((e,t={})=>{const a=[...new Set(n.map(e=>e.sourceId))],r={petname_category:c,suggested_names_sources:a,...t};u({event:e,category:o.MetaMetricsEventCategory.Petnames,properties:r})},[u,c,n]),p=(0,a.useCallback)(()=>{const e=l??null,n=(null==i?void 0:i.length)&&!(null!=t&&t.length),a=(null==i?void 0:i.length)&&(null==t?void 0:t.length)&&t!==i,r=!(null!=i&&i.length)&&(null==t?void 0:t.length);let c=null,u={};n&&(c=o.MetaMetricsEventName.PetnameDeleted,u={petname_previous_source:s}),a&&(c=o.MetaMetricsEventName.PetnameUpdated,u={petname_previous_source:s,petname_source:e}),r&&(c=o.MetaMetricsEventName.PetnameCreated,u={petname_source:e}),c&&d(c,u)},[d,t,l,i,s]);return{trackPetnamesOpenEvent:(0,a.useCallback)(()=>{d(o.MetaMetricsEventName.PetnameModalOpened,{has_petname:Boolean(null==i?void 0:i.length),suggested_names_sources:e})},[d,i,e]),trackPetnamesSaveEvent:p}};var a=e("react"),r=e("../../../../contexts/metametrics"),o=e("../../../../../shared/constants/metametrics")}}},{package:"$root$",file:"ui/components/app/name/name-details/metrics.ts"}],[6007,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useCopyToClipboard":7033,"../../../../hooks/useDisplayName":7038,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useName":7059,"../../../../hooks/useTrustSignals":7090,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../component-library":6325,"../../../ui/form-combo-field/form-combo-field":6754,"./metrics":6006,"./name-display":6008,"@metamask/name-controller":2215,"ethereumjs-util":4138,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,type:t,value:n,variation:x}){const{name:_,sourceId:k}=(0,m.useName)(n,t,x),{name:T,hasPetname:M,displayState:C,subtitle:O}=(0,h.useDisplayName)({value:n,type:t,variation:x}),S=(0,o.useSelector)(d.getNameSources,i.isEqual),[I,P]=(0,a.useState)(""),[j,N]=(0,a.useState)(!1),[D,A]=(0,a.useState)(),[B,R]=(0,a.useState)(),F=(0,o.useDispatch)(),W=(0,g.useI18nContext)(),L=function(e,t){if(!e.length)return e;if(t===r.NameType.ETHEREUM_ADDRESS)return(0,s.toChecksumAddress)(e);return e}(n,t),{proposedNames:$,initialSources:z}=function(e,t,n){const r=(0,o.useDispatch)(),{proposedNames:i}=(0,m.useName)(e,t,n),s=(0,a.useRef)(),[l,c]=(0,a.useState)();return(0,a.useEffect)(()=>{const a=()=>{s.current&&clearInterval(s.current)},o=async()=>{const a=await r((0,p.updateProposedNames)({value:e,type:t,onlyUpdateAfterDelay:!0,variation:n}));l||c(function(e,t){const n=Object.keys(e).filter(t=>{var n;return null===(n=e[t].proposedNames)||void 0===n?void 0:n.length}),a=Object.keys(t).filter(n=>{var a,r;return!(null!==(a=e[n])&&void 0!==a&&a.proposedNames)&&(null===(r=t[n].proposedNames)||void 0===r?void 0:r.length)});return[...n,...a].sort()}((null==a?void 0:a.results)??{},i))};return a(),o(),s.current=setInterval(o,w),a},[e,t,n,r,l,c]),{proposedNames:i,initialSources:l}}(n,t,x),[q,U]=(0,f.useCopyToClipboard)();(0,a.useEffect)(()=>{P(_??""),A(k??undefined),R(k?_??undefined:undefined)},[_,k,P,A]);const V=(0,a.useMemo)(()=>function(e,t,n){const a=Object.keys(e),r=a.filter(t=>{var n;return null===(n=e[t])||void 0===n||null===(n=n.proposedNames)||void 0===n?void 0:n.length}).map(a=>{var r;return((null===(r=e[a])||void 0===r?void 0:r.proposedNames)??[]).map(e=>({value:e,primaryLabel:t("nameModalMaybeProposedName",[e]),secondaryLabel:t("nameProviderProposedBy",[E(a,t,n)]),sourceId:a}))}).flat();return r.sort((e,t)=>e.secondaryLabel.toLowerCase().localeCompare(t.secondaryLabel.toLowerCase()))}($,W,S),[$,W,S]),{trackPetnamesOpenEvent:H,trackPetnamesSaveEvent:K}=(0,v.usePetnamesMetrics)({initialSources:z,name:I,proposedNameOptions:V,savedName:_,savedSourceId:k,selectedSourceId:D,type:t});(0,a.useEffect)(()=>{z&&!j&&(H(),N(!0))},[z,j,H]);const G=(0,a.useCallback)(async()=>{K(),await F((0,p.setName)({value:n,type:t,name:null!=I&&I.length?I:null,sourceId:D,variation:x})),e()},[I,D,e,K,x]),J=(0,a.useCallback)(()=>{e()},[e]),Q=(0,a.useCallback)(e=>{P(e),e!==B&&(A(undefined),R(undefined))},[P,D,A,R]),Y=(0,a.useCallback)(e=>{A(e.sourceId),R(e.value)},[A,R]),X=(0,a.useCallback)(()=>{U(L)},[U,L]),{title:Z,instructions:ee}=(()=>{let e,t;switch(C){case y.TrustSignalDisplayState.Malicious:e="nameModalTitleMalicious",t="nameInstructionsMalicious";break;case y.TrustSignalDisplayState.Warning:e="nameModalTitleWarning",t="nameInstructionsWarning";break;case y.TrustSignalDisplayState.Verified:e="nameModalTitleVerified",t="";break;case y.TrustSignalDisplayState.Petname:e="nameModalTitleSaved",t="nameInstructionsSaved";break;case y.TrustSignalDisplayState.Recognized:e="nameModalTitleRecognized",t="nameInstructionsRecognized";break;case y.TrustSignalDisplayState.Unknown:default:e="nameModalTitleNew",t="nameInstructionsNew"}return{title:W(e),instructions:t?W(t):""}})(),te=C===y.TrustSignalDisplayState.Malicious||C===y.TrustSignalDisplayState.Warning;return a.default.createElement(l.Box,null,a.default.createElement(l.Modal,{isOpen:!0,onClose:J},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{onClose:J},Z),a.default.createElement(l.ModalBody,{className:"name-details__modal-body"},a.default.createElement(l.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,marginBottom:4,marginTop:2,style:{textAlign:"center"}},a.default.createElement(b.default,{value:n,type:t,variation:x,showFullName:!0}),O&&a.default.createElement(l.Text,{as:"span",variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,style:{marginLeft:4}},O)),a.default.createElement(l.Text,{marginBottom:4,justifyContent:c.JustifyContent.spaceBetween},ee),a.default.createElement(l.FormTextField,{id:"address",className:"name-details__address",label:W("nameAddressLabel"),value:L,marginBottom:4,disabled:!0,endAccessory:a.default.createElement(l.ButtonIcon,{display:c.Display.Flex,iconName:q?l.IconName.CopySuccess:l.IconName.Copy,size:l.ButtonIconSize.Sm,onClick:X,color:c.IconColor.iconMuted,ariaLabel:W("copyAddress")})}),a.default.createElement(l.Label,{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexStart,marginBottom:2,className:"name-details__display-name"},W("nameLabel"),a.default.createElement(u.default,{hideDropdownIfNoOptions:!0,value:I,options:V,placeholder:T&&!M?W("nameSetPlaceholderSuggested",[T]):W("nameSetPlaceholder"),onChange:Q,onOptionClick:Y}))),a.default.createElement(l.ModalFooter,null,a.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,startIconName:l.IconName.Save,width:c.BlockSize.Full,onClick:G,size:l.ButtonSize.Lg},W("save")),te&&a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,marginTop:3,textAlign:c.TextAlign.Center},W("nameFooterTrustWarning"))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/name-controller"),o=e("react-redux"),i=e("lodash"),s=e("ethereumjs-util"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=x(e("../../../ui/form-combo-field/form-combo-field")),d=e("../../../../selectors"),p=e("../../../../store/actions"),f=e("../../../../hooks/useCopyToClipboard"),m=e("../../../../hooks/useName"),h=e("../../../../hooks/useDisplayName"),g=e("../../../../hooks/useI18nContext"),y=e("../../../../hooks/useTrustSignals"),b=x(e("./name-display")),v=e("./metrics");function x(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const w=2e3;const k=["ens","etherscan","lens","token"];function E(e,t,n){var a;if(k.includes(e)){return t(`nameProvider_${e}`)}return(null===(a=n[e])||void 0===a?void 0:a.label)??e}}}},{package:"$root$",file:"ui/components/app/name/name-details/name-details.tsx"}],[6008,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useDisplayName":7038,"../../../../hooks/useTrustSignals":7090,"../../../component-library":6325,"../../../ui/identicon":6771,"../../preferred-avatar":6033,"./formatted-value":6005,"./shortened-name":6009,"@metamask/design-system-react":1741,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/design-system-react"),o=m(e("classnames")),i=m(e("../../../ui/identicon")),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useDisplayName"),u=e("../../../../hooks/useTrustSignals"),d=e("../../preferred-avatar"),p=m(e("./shortened-name")),f=m(e("./formatted-value"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g.apply(null,arguments)}const y=(0,a.memo)(({value:e,type:t,preferContractSymbol:n,variation:m,handleClick:h,showFullName:y=!1,fallbackName:b,...v})=>{const{name:x,image:_,icon:w,displayState:k,isAccount:E}=(0,c.useDisplayName)({value:e,type:t,preferContractSymbol:n,variation:m});return a.default.createElement("div",{className:(0,o.default)({name:!0,name__clickable:Boolean(h)&&!E,name__saved:k===u.TrustSignalDisplayState.Petname,name__recognized_unsaved:k===u.TrustSignalDisplayState.Recognized,name__missing:k===u.TrustSignalDisplayState.Unknown,name__malicious:k===u.TrustSignalDisplayState.Malicious,name__verified:k===u.TrustSignalDisplayState.Verified,name__warning:k===u.TrustSignalDisplayState.Warning}),onClick:h},w?a.default.createElement(s.Icon,{name:w.name,className:"name__icon",size:s.IconSize.Sm,color:w.color}):_?a.default.createElement(i.default,{address:e,diameter:16,image:_}):a.default.createElement(d.PreferredAvatar,{className:"rounded-md",address:e,size:r.AvatarAccountSize.Xs}),(()=>{const n=x||b;return n?x&&y?a.default.createElement(s.Text,g({className:"name__name",variant:l.TextVariant.bodyMd},v),x):a.default.createElement(p.default,g({name:n},v)):a.default.createElement(f.default,g({value:e,type:t},v))})())});n.default=y}}},{package:"$root$",file:"ui/components/app/name/name-details/name-display.tsx"}],[6009,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../component-library"),o=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/utils/util");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const c=(0,a.memo)(({name:e,...t})=>{const n=(0,i.shortenString)(e||"",{truncatedCharLimit:12,truncatedStartChars:9,truncatedEndChars:0,skipCharacterInEnd:!0});return a.default.createElement(r.Text,l({className:"name__name",variant:o.TextVariant.bodyMd},t),n)});n.default=c}}},{package:"$root$",file:"ui/components/app/name/name-details/shortened-name.tsx"}],[6010,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../hooks/useDisplayName":7038,"../../component-library":6325,"./name-details/name-details":6007,"./name-details/name-display":6008,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../component-library"),o=e("../../../contexts/metametrics"),i=e("../../../../shared/constants/metametrics"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useDisplayName"),c=d(e("./name-details/name-display")),u=d(e("./name-details/name-details"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(null,arguments)}const m=(0,a.memo)(({value:e,type:t,preferContractSymbol:n=!1,variation:d,className:p,...m})=>{const[h,g]=(0,a.useState)(!1),y=(0,a.useContext)(o.MetaMetricsContext),{name:b,subtitle:v,isAccount:x}=(0,l.useDisplayName)({value:e,type:t,preferContractSymbol:n,variation:d});(0,a.useEffect)(()=>{y({event:i.MetaMetricsEventName.PetnameDisplayed,category:i.MetaMetricsEventCategory.Petnames,properties:{petname_category:t,has_petname:Boolean(null==b?void 0:b.length)}})},[]);const _=(0,a.useCallback)(()=>{x||g(!0)},[x,g]),w=(0,a.useCallback)(()=>{g(!1)},[g]);return a.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,className:p},h&&a.default.createElement(u.default,{value:e,type:t,variation:d,onClose:w}),a.default.createElement(c.default,f({value:e,type:t,preferContractSymbol:n,variation:d,handleClick:_},m)),v&&a.default.createElement(r.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,style:{textAlign:"right"}},v))});n.default=m}}},{package:"$root$",file:"ui/components/app/name/name.tsx"}],[6011,{"../../../../shared/constants/network":5617,"../../../contexts/i18n":6850,"../../../helpers/constants/design-system":6899,"../../component-library":6325,"../../ui/box/box":6724,"../../ui/icon-with-fallback":6762,"../../ui/identicon":6771,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),c=e("../../../contexts/i18n"),u=e("../../../../shared/constants/network"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:r,accountAddress:p,chainId:f}){const m=(0,a.useContext)(c.I18nContext),h=u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],g=h?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:2},a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},a.default.createElement(i.default,{address:p,diameter:32}),a.default.createElement(o.default,{name:e,size:16,icon:h,wrapperClassName:g})),a.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,flexDirection:s.FlexDirection.Column},a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,"data-testid":"signature-request-network-display"},e),a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold},t))),a.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexEnd,flexDirection:s.FlexDirection.Column},a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},m("balance")),a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,align:s.TextAlign.End},n," ",r)))}m.propTypes={networkName:r.default.string,accountName:r.default.string,accountBalance:r.default.string,tokenName:r.default.string,accountAddress:r.default.string,chainId:r.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[6012,{"./network-connection-banner":6013},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkConnectionBanner",{enumerable:!0,get:function(){return a.NetworkConnectionBanner}});var a=e("./network-connection-banner")}}},{package:"$root$",file:"ui/components/app/network-connection-banner/index.ts"}],[6013,{"../../../../shared/constants/metametrics":5613,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/useI18nContext":7047,"../../../hooks/useNetworkConnectionBanner":7060,"../../../store/actions":7916,"../../component-library":6325,"../../component-library/text":6385,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.NetworkConnectionBanner=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom-v5-compat"),o=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../component-library/text"),u=e("../../../hooks/useNetworkConnectionBanner"),d=e("../../../helpers/constants/routes"),p=e("../../../store/actions"),f=e("../../../../shared/constants/metametrics");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=({t:e,primaryMessageKey:t,networkConnectionBanner:n})=>a.default.createElement(c.Text,{variant:l.TextVariant.bodyXsMedium,style:{display:"inline-block",verticalAlign:"middle",paddingRight:"4px"}},e(t,[n.networkName])),g=({content:e})=>a.default.createElement(c.Text,{variant:l.TextVariant.bodyXsMedium,style:{display:"inline-block",verticalAlign:"middle"}},e),y=({t:e,isLowerCase:t,updateRpc:n})=>{const r=e("updateRpc");return a.default.createElement(s.ButtonLink,{key:"updateRpc",size:s.ButtonLinkSize.Auto,variant:l.TextVariant.bodyXsMedium,onClick:n,paddingTop:0,paddingBottom:0,style:{verticalAlign:"bottom"}},t?r[0].toLowerCase()+r.slice(1):r)},b=()=>{const e=(0,i.useI18nContext)(),t=(0,r.useNavigate)(),n=(0,o.useDispatch)(),c=(0,u.useNetworkConnectionBanner)(),m=(0,a.useCallback)(()=>{"degraded"!==c.status&&"unavailable"!==c.status||(c.trackNetworkBannerEvent({bannerType:c.status,eventName:f.MetaMetricsEventName.NetworkConnectionBannerUpdateRpcClicked,networkClientId:c.networkClientId}),n((0,p.setEditedNetwork)({chainId:c.chainId,trackRpcUpdateFromBanner:!0})),t(d.NETWORKS_ROUTE))},[c,n,t]);if("degraded"===c.status||"unavailable"===c.status){const{primaryMessage:t,secondaryMessage:n,backgroundColor:r,icon:o}=((e,t,n)=>{const r="0.25em";if("degraded"===e.status)return{primaryMessage:a.default.createElement(h,{t:t,primaryMessageKey:"stillConnectingTo",networkConnectionBanner:e}),secondaryMessage:e.isInfuraEndpoint?null:a.default.createElement(g,{content:a.default.createElement(y,{t:t,isLowerCase:!1,updateRpc:n})}),backgroundColor:l.BackgroundColor.backgroundSection,icon:{color:l.IconColor.iconDefault,name:s.IconName.Loading,verticalAdjustment:r,className:"animate-spin"}};const o=a.default.createElement(h,{t:t,primaryMessageKey:"unableToConnectTo",networkConnectionBanner:e}),i=e.isInfuraEndpoint?t("checkNetworkConnectivity"):t("checkNetworkConnectivityOr",[a.default.createElement(y,{key:"updateRpc",t:t,isLowerCase:!0,updateRpc:n})]);return{primaryMessage:o,secondaryMessage:a.default.createElement(g,{content:i}),backgroundColor:l.BackgroundColor.errorMuted,icon:{color:l.IconColor.errorDefault,name:s.IconName.Danger,verticalAdjustment:r}}})(c,e,m);return a.default.createElement(s.BannerBase,{className:"network-connection-banner",backgroundColor:r,startAccessory:a.default.createElement(s.Icon,{name:o.name,size:s.IconSize.Sm,color:o.color,className:o.className,style:{marginTop:o.verticalAdjustment},"data-testid":"icon"}),borderRadius:l.BorderRadius.MD},t,n)}return null};n.NetworkConnectionBanner=b;n.default=b}}},{package:"$root$",file:"ui/components/app/network-connection-banner/network-connection-banner.tsx"}],[6014,{"../../../helpers/constants/common":6897,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onChange:e,pwdInputTestId:t,confirmPwdInputTestId:n}){const l=(0,o.useI18nContext)(),[c,u]=(0,a.useState)(""),[d,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1),[y,b]=(0,a.useState)(""),[v,x]=(0,a.useState)(!1),_=(0,a.useCallback)(e=>{const t=f&&e!==f?l("passwordsDontMatch"):"";u(e),b(t),x(!1)},[f,l]),w=(0,a.useCallback)(e=>{const t=c===e||0===e.length?"":l("passwordsDontMatch");m(e),b(t)},[c,l]);(0,a.useEffect)(()=>{c.length>=i.PASSWORD_MIN_LENGTH&&f.length>=i.PASSWORD_MIN_LENGTH&&c===f?e(c):e("")},[c,f,e]);const k=(0,a.useCallback)(()=>{const e=c.length;e>0&&e<i.PASSWORD_MIN_LENGTH?x(!0):x(!1)},[c.length]);return a.default.createElement(r.Box,null,a.default.createElement(r.FormTextField,{label:l("newPasswordCreate"),id:"create-password-new",autoFocus:!0,autoComplete:!0,size:r.FormTextFieldSize.Lg,value:c,inputProps:{"data-testid":t||"create-password-new-input",type:d?r.InputType.Text:r.InputType.Password},onChange:e=>{_(e.target.value)},helpTextProps:{color:s.TextColor.textAlternative,"data-testid":"short-password-error"},helpText:l("passwordNotLongEnough"),onBlur:k,error:v,endAccessory:a.default.createElement(r.ButtonIcon,{iconName:d?r.IconName.EyeSlash:r.IconName.Eye,"data-testid":"show-password",type:"button",onClick:e=>{e.stopPropagation(),p(!d)},ariaLabel:l(d?"passwordToggleHide":"passwordToggleShow")})}),a.default.createElement(r.FormTextField,{label:l("confirmPassword"),id:"create-password-confirm",autoComplete:!0,marginTop:4,size:r.FormTextFieldSize.Lg,error:Boolean(y),helpTextProps:{"data-testid":"confirm-password-error"},helpText:y,value:f,inputProps:{"data-testid":n||"create-password-confirm-input",type:h?r.InputType.Text:r.InputType.Password},onChange:e=>{w(e.target.value)},endAccessory:a.default.createElement(r.ButtonIcon,{iconName:h?r.IconName.EyeSlash:r.IconName.Eye,"data-testid":"show-confirm-password",type:"button",onClick:e=>{e.stopPropagation(),g(!h)},ariaLabel:l(h?"passwordToggleHide":"passwordToggleShow")})}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../component-library"),o=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/common"),s=e("../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/password-form/password-form.tsx"}],[6015,{"./password-outdated-modal":6016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./password-outdated-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/password-outdated-modal/index.ts"}],[6016,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"../toast-master/utils":6215,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,i.useNavigate)();return r.default.createElement(c.Modal,{isOpen:!0,onClose:()=>undefined,"data-testid":"password-outdated-modal"},r.default.createElement(c.ModalOverlay,null),r.default.createElement(c.ModalContent,{alignItems:l.AlignItems.center},r.default.createElement(c.ModalHeader,null,r.default.createElement(c.Box,null,r.default.createElement(c.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.center},r.default.createElement(c.Icon,{name:c.IconName.Danger,size:c.IconSize.Xl,color:l.IconColor.warningDefault})),r.default.createElement(c.Text,{variant:l.TextVariant.headingMd,textAlign:l.TextAlign.Center,marginTop:4},e("passwordChangedRecently")),r.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginTop:4},e("passwordChangedRecentlyDescription")))),r.default.createElement(c.Box,{paddingLeft:4,paddingRight:4},r.default.createElement(c.Box,{display:l.Display.Flex,marginTop:2,gap:4},r.default.createElement(c.Button,{"data-testid":"password-changed",size:c.ButtonSize.Lg,block:!0,onClick:async()=>{await t((0,p.setShowPasswordChangeToast)(null)),await t((0,d.lockMetamask)()),n(u.DEFAULT_ROUTE)}},e("continue"))))))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("react-router-dom-v5-compat"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),c=e("../../component-library"),u=e("../../../helpers/constants/routes"),d=e("../../../store/actions"),p=e("../toast-master/utils")}}},{package:"$root$",file:"ui/components/app/password-outdated-modal/password-outdated-modal.tsx"}],[6017,{"./permission-cell":6020},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-cell"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-cell/index.js"}],[6018,{"../../../../shared/constants/snaps/permissions":5629,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"../../ui/box":6725,"../../ui/menu":6788,"../../ui/popover/popover.component":6805,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellOptions=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=m(e("../../ui/box")),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e("../../ui/menu"),u=e("../../../helpers/constants/design-system"),d=m(e("../../ui/popover/popover.component")),p=e("../../../../shared/constants/snaps/permissions"),f=e("../../../store/actions");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({snapId:e,permissionName:t,description:n})=>{const r=(0,s.useI18nContext)(),m=(0,o.useDispatch)(),h=(0,a.useRef)(!1),[g,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),x=p.DynamicSnapPermissions.includes(t);return n||x?a.default.createElement(i.default,{ref:h},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ariaLabel:r("options"),onClick:()=>{y(!0)},"data-testid":t}),g&&a.default.createElement(c.Menu,{anchorElement:h.current,onHide:()=>{y(!1)}},n&&a.default.createElement(c.MenuItem,{onClick:()=>{y(!1),v(!0)}},a.default.createElement(l.Text,{variant:u.TextVariant.bodySm,style:{whiteSpace:"nowrap"}},r("details"))),x&&a.default.createElement(c.MenuItem,{onClick:()=>{y(!1),m((0,f.revokeDynamicSnapPermissions)(e,[t]))}},a.default.createElement(l.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.errorDefault,style:{whiteSpace:"nowrap"}},r("revokePermission")))),b&&a.default.createElement(d.default,{title:r("details"),onClose:()=>{y(!1),v(!1)}},a.default.createElement(i.default,{marginLeft:4,marginRight:4,marginBottom:4},a.default.createElement(l.Text,null,n)))):null};n.PermissionCellOptions=g,g.propTypes={snapId:r.default.string.isRequired,permissionName:r.default.string.isRequired,description:r.default.oneOfType([r.default.string,r.default.object])}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-options.js"}],[6019,{"../../../../shared/constants/network":5617,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../../multichain/avatar-group":6506,"../../multichain/avatar-group/avatar-group.types":6505,"../../ui/tooltip":6835,"../preferred-avatar":6033,"@metamask/design-system-react":1741,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellStatus=void 0;var a=h(e("react")),r=h(e("prop-types")),o=e("@metamask/design-system-react"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=h(e("../../ui/tooltip")),c=e("../../multichain/avatar-group"),u=e("../../multichain/avatar-group/avatar-group.types"),d=e("../../../hooks/useI18nContext"),p=e("../../../helpers/utils/util"),f=e("../../../../shared/constants/network"),m=e("../preferred-avatar");function h(e){return e&&e.__esModule?e:{default:e}}const g=({revoked:e,approved:t,dateApproved:n,accounts:r,networks:h})=>{const g=(0,d.useI18nContext)(),y=()=>a.default.createElement(a.default.Fragment,null,h.length>0?a.default.createElement(i.Box,{as:"span",className:"permission-cell__status__accounts-group-box",display:s.Display.InlineFlex},a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},null==h?void 0:h.map((e,t)=>a.default.createElement(i.Box,{key:`${e.name}_${t}`,display:s.Display.Flex,justifyContent:s.JustifyContent.flexStart,alignItems:s.AlignItems.center,marginTop:2},a.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,src:f.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,marginLeft:2},e.name))))):a.default.createElement(i.Box,{as:"span",className:"permission-cell__status__accounts-group-box",display:s.Display.InlineFlex},a.default.createElement(l.default,{position:"bottom",html:a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},a.default.createElement(i.Text,{variant:s.TextVariant.headingSm,color:s.TextColor.textAlternative,textAlign:s.TextAlign.Center},g("accounts")),a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},r.map((e,t)=>a.default.createElement(i.Box,{key:`${e.avatarValue}_${t}`,display:s.Display.Flex,justifyContent:s.JustifyContent.flexStart,alignItems:s.AlignItems.center,marginTop:2},a.default.createElement(m.PreferredAvatar,{address:e.avatarValue,size:o.AvatarAccountSize.Xs}),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,marginLeft:2},e.avatarName)))))},a.default.createElement(c.AvatarGroup,{limit:3,members:r,avatarType:u.AvatarType.ACCOUNT,size:i.AvatarTokenSize.Xs,width:s.BlockSize.Min,borderColor:s.BorderColor.backgroundDefault,marginLeft:4,paddingLeft:4}))));return a.default.createElement(i.Text,{as:"div",className:"permission-cell__status",variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,display:s.Display.Flex},e?r&&r.length?g("permissionRevokedForAccounts",[y()]):g("permissionRevoked"):n?r&&r.length?g("approvedOnForAccounts",[(0,p.formatDate)(n,"yyyy-MM-dd"),y()]):g("approvedOn",[(0,p.formatDate)(n,"yyyy-MM-dd")]):t?g("approved"):r&&r.length?g("permissionRequestedForAccounts",[y()]):g("permissionRequested"))};n.PermissionCellStatus=g,g.propTypes={revoked:r.default.bool,approved:r.default.bool,dateApproved:r.default.number,accounts:r.default.array,networks:r.default.array}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-status.js"}],[6020,{"../../../helpers/constants/design-system":6899,"../../../selectors":7886,"../../component-library":6325,"../../ui/tooltip":6835,"./permission-cell-options":6018,"./permission-cell-status":6019,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=f(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=f(e("../../ui/tooltip")),u=e("../../../selectors"),d=e("./permission-cell-options"),p=e("./permission-cell-status");function f(e){return e&&e.__esModule?e:{default:e}}const m=({snapId:e,permissionName:t,title:n,description:r,weight:f,avatarIcon:m,dateApproved:h,revoked:g,approved:y,showOptions:b,hideStatus:v,accounts:x,chainIds:_})=>{var w;const k=l.IconName.Info;let E=s.IconColor.iconMuted,T=s.IconColor.primaryDefault,M=s.Color.primaryMuted;!g&&f<=2&&(T=s.IconColor.warningDefault,M=s.Color.warningMuted,E=s.IconColor.warningDefault),(h||y)&&(T=s.IconColor.iconMuted,M=s.Color.backgroundAlternative),g&&(T=s.IconColor.iconMuted,M=s.Color.backgroundAlternative);let C=m;"string"!=typeof m&&null!=m&&null!==(w=m.props)&&void 0!==w&&w.iconName&&(C=m.props.iconName);const O=(0,i.useSelector)(e=>(0,u.getRequestingNetworkInfo)(e,_));return a.default.createElement(l.Box,{className:"permission-cell",display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart,paddingTop:2,paddingBottom:2},a.default.createElement(l.Box,{display:s.Display.Flex},"string"==typeof C?a.default.createElement(l.AvatarIcon,{iconName:C,size:l.AvatarIconSize.Md,iconProps:{size:l.IconSize.Sm},color:T,backgroundColor:M}):C),a.default.createElement(l.Box,{display:s.Display.Flex,flexWrap:s.FlexWrap.Wrap,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full,marginLeft:4,marginRight:4},a.default.createElement(l.Text,{size:s.Size.MD,variant:s.TextVariant.bodyMd,className:(0,o.default)("permission-cell__title",{"permission-cell__title-revoked":g})},n),!v&&a.default.createElement(p.PermissionCellStatus,{revoked:g,approved:y,dateApproved:h,accounts:x,networks:O||null})),a.default.createElement(l.Box,{display:s.Display.Flex},b&&e?a.default.createElement(d.PermissionCellOptions,{snapId:e,permissionName:t,description:r}):r&&a.default.createElement(c.default,{html:a.default.createElement(l.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},r),position:"bottom"},a.default.createElement(l.Icon,{color:E,name:k,size:l.IconSize.Sm}))))};m.propTypes={snapId:r.default.string,permissionName:r.default.oneOfType([r.default.string,r.default.element]).isRequired,title:r.default.oneOfType([r.default.string.isRequired,r.default.object.isRequired]),description:r.default.oneOfType([r.default.string,r.default.object]),weight:r.default.number,avatarIcon:r.default.any.isRequired,dateApproved:r.default.number,revoked:r.default.bool,approved:r.default.bool,showOptions:r.default.bool,hideStatus:r.default.bool,accounts:r.default.array,chainIds:r.default.array};n.default=m}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell.js"}],[6021,{"./permission-connect-header":6022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-connect-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-connect-header/index.js"}],[6022,{"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../pages/confirmations/components/confirm/nav":7309,"../../component-library":6325,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../helpers/constants/design-system"),i=e("../../component-library"),s=e("../../../helpers/utils/util"),l=e("../../../pages/confirmations/components/confirm/nav");function c(e){return e&&e.__esModule?e:{default:e}}const u=({requestId:e,origin:t,iconUrl:n})=>{const r=(e=>{try{return new URL(e).hostname}catch(e){return"Unknown Origin"}})(t);return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Nav,{confirmationId:e}),a.default.createElement(i.Box,{backgroundColor:o.BackgroundColor.backgroundDefault,width:o.BlockSize.Full,alignItems:o.AlignItems.center,display:o.Display.Flex,padding:4,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},a.default.createElement(i.Box,null,n?a.default.createElement(i.AvatarFavicon,{backgroundColor:o.BackgroundColor.backgroundAlternative,size:i.IconSize.Lg,src:n,name:r}):a.default.createElement(i.AvatarBase,{size:i.IconSize.Lg,display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,color:o.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:o.BackgroundColor.backgroundAlternative},(0,s.getAvatarFallbackLetter)(r))),a.default.createElement(i.Box,{marginLeft:4,marginRight:4,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,style:{overflow:"hidden"}},a.default.createElement(i.Text,{ellipsis:!0,fontWeight:o.FontWeight.Medium},r),a.default.createElement(i.Text,{ellipsis:!0,variant:o.TextVariant.bodySm,color:o.TextColor.textAlternative},t))))};u.propTypes={requestId:r.default.string,origin:r.default.string,iconUrl:r.default.string};n.default=u}}},{package:"$root$",file:"ui/components/app/permission-connect-header/permission-connect-header.js"}],[6023,{"./permission-page-container-content":6024,"./permission-page-container.container":6028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=o(e("./permission-page-container.container")),r=o(e("./permission-page-container-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[6024,{"./permission-page-container-content.component":6025},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-page-container-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[6025,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../component-library":6325,"../../permissions-connect-permission-list":6031,"@metamask/chain-agnostic-permission":1359,"@metamask/permission-controller":2329,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/permission-controller"),i=e("@metamask/chain-agnostic-permission"),s=p(e("../../permissions-connect-permission-list")),l=e("../../../../helpers/constants/design-system"),c=e("../../../component-library"),u=e("../../../../helpers/utils/util");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.PureComponent{render(){var e,t,n;const{t:a}=this.context,{selectedPermissions:d,selectedAccounts:p,subjectMetadata:f,requestedChainIds:m,request:h}=this.props,g=p.reduce((e,t)=>(e.push({avatarValue:t.address,avatarName:t.label}),e),[]),{origin:y,subjectType:b}=f,v=b===o.SubjectType.Website?(0,u.getURLHost)(y):y,x=null===(e=h.diff)||void 0===e?void 0:e.permissionDiffMap,_=(0,i.getPermittedEthChainIds)((null==x||null===(t=x[i.Caip25EndowmentPermissionName])||void 0===t?void 0:t[i.Caip25CaveatType])??{requiredScopes:{},optionalScopes:{}});return r.default.createElement(c.Box,{className:"permission-page-container-content",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.flexStart,alignItems:l.AlignItems.center,height:l.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:l.BackgroundColor.backgroundDefault},r.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,paddingTop:4,paddingBottom:4},r.default.createElement(c.Text,{variant:l.TextVariant.headingMd,textAlign:l.TextAlign.Center},a("reviewPermissions")),r.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,textAlign:l.TextAlign.Center},a("nativeNetworkPermissionRequestDescription",[r.default.createElement(c.Text,{as:"span",key:`description_key_${v}`,fontWeight:l.FontWeight.Medium},v)]))),r.default.createElement(c.Box,{display:l.Display.Flex,backgroundColor:l.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:l.BorderRadius.XL},r.default.createElement(s.default,{isRequestApprovalPermittedChains:Boolean(null===(n=h.diff)||void 0===n?void 0:n.permissionDiffMap),permissions:d,subjectName:f.origin,accounts:g,requestedChainIds:_.length>0?_:m})))}}n.default=m,f(m,"propTypes",{request:a.default.object,subjectMetadata:a.default.shape({name:a.default.string.isRequired,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string}),selectedPermissions:a.default.object.isRequired,selectedAccounts:a.default.array,requestedChainIds:a.default.array}),f(m,"defaultProps",{request:{},selectedAccounts:[],requestedChainIds:[]}),f(m,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[6026,{"../../../hooks/useI18nContext":7047,"../../../pages/confirmations/confirmation/alerts/TemplateAlertContext":7420,"../../component-library":6325,"../../ui/page-container":6798,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionPageContainerFooter=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../hooks/useI18nContext"),i=e("../../../pages/confirmations/confirmation/alerts/TemplateAlertContext"),s=e("../../component-library"),l=e("../../ui/page-container");n.PermissionPageContainerFooter=({cancelText:e,disabled:t,onCancel:n,onSubmit:a})=>{const c=(0,o.useI18nContext)(),{hasAlerts:u,showAlertsModal:d}=(0,i.useTemplateAlertContext)();return r.default.createElement(l.PageContainerFooter,{footerClassName:"permission-page-container-footer",cancelButtonType:"default",onCancel:n,cancelText:e,onSubmit:u?d:a,submitText:c("confirm"),disabled:t,submitButtonIcon:u?s.IconName.Info:undefined})}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-footer.component.tsx"}],[6027,{"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/permissions":5621,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/permissions":6947,"../../../helpers/utils/util":6959,"../../../pages/confirmations/confirmation/alerts/TemplateAlertContext":7420,"../../../pages/permissions-connect/connect-page/utils":7719,"../../component-library":6325,"../permissions-connect-footer":6029,"../snaps/snap-privacy-warning":6103,"./permission-page-container-content":6024,"./permission-page-container-footer.component":6026,"@metamask/chain-agnostic-permission":1359,"@metamask/permission-controller":2329,"@metamask/snaps-rpc-methods":2611,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=_(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/snaps-rpc-methods"),i=e("@metamask/chain-agnostic-permission"),s=e("@metamask/permission-controller"),l=e("../../../../shared/constants/metametrics"),c=_(e("../permissions-connect-footer")),u=e("../../../../shared/constants/permissions"),d=_(e("../snaps/snap-privacy-warning")),p=e("../../../helpers/utils/util"),f=e("../../../helpers/constants/design-system"),m=e("../../component-library"),h=e("../../../pages/permissions-connect/connect-page/utils"),g=e("../../../pages/confirmations/confirmation/alerts/TemplateAlertContext"),y=e("../../../helpers/utils/permissions"),b=e("./permission-page-container-footer.component"),v=_(e("./permission-page-container-content"));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends r.Component{constructor(...e){super(...e),w(this,"state",{}),w(this,"onCancel",()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)}),w(this,"onSubmit",()=>{const{request:e,approvePermissionsRequest:t,rejectPermissionsRequest:n,selectedAccounts:a,requestedChainIds:r}=this.props,o=a.map(e=>e.address),i=(0,h.getCaip25CaveatValueFromPermissions)(e.permissions),s={...e,permissions:{...e.permissions,...(0,h.getCaip25PermissionsResponse)(i,o,r)}};Object.keys(s.permissions).length>0?t(s):n(s.metadata.id)}),w(this,"onLeftFooterClick",()=>{this.getRequestedPermissions()[i.Caip25EndowmentPermissionName]===undefined?this.goBack():this.onCancel()})}getRequestedPermissions(){var e;const{request:t}=this.props,n=(null==t||null===(e=t.diff)||void 0===e?void 0:e.permissionDiffMap)??t.permissions??{};return Object.entries(n).reduce((e,[t,n])=>t===u.RestrictedMethods.wallet_snap?(e[t]=this.getDedupedSnapPermissions(),e):(e[t]=n,e),{})}getDedupedSnapPermissions(){var e;const{request:t,currentPermissions:n}=this.props,a=(0,p.getDedupedSnaps)(t,n);return{...(null==t||null===(e=t.permissions)||void 0===e?void 0:e[o.WALLET_SNAP_PERMISSION_KEY])||{},caveats:[{type:o.SnapCaveatType.SnapIds,value:a.reduce((e,t)=>(e[t]={},e),{})}]}}showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}componentDidMount(){this.context.trackEvent({category:l.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[o.WALLET_SNAP_PERMISSION_KEY]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}goBack(){const{navigate:e,connectPath:t}=this.props;e(t)}render(){var e;const{request:t,requestMetadata:n,targetSubjectMetadata:a,selectedAccounts:o,allAccountsSelected:l,requestedChainIds:u}=this.props,p=this.getRequestedPermissions(),h=e=>{this.setState({isShowingSnapsPrivacyWarning:e})},x=()=>{h(!1),this.props.setSnapsInstallPrivacyWarningShownStatus(!0)},_=p[i.Caip25EndowmentPermissionName]?this.context.t("cancel"):this.context.t("back");return r.default.createElement(g.TemplateAlertContextProvider,{onSubmit:()=>this.onSubmit(),confirmationId:null==t||null===(e=t.metadata)||void 0===e?void 0:e.id},this.state.isShowingSnapsPrivacyWarning&&r.default.createElement(d.default,{onAccepted:()=>x(),onCanceled:()=>this.onCancel()}),r.default.createElement(v.default,{request:t,requestMetadata:n,subjectMetadata:a,selectedPermissions:p,requestedChainIds:u,selectedAccounts:o,allAccountsSelected:l}),r.default.createElement(m.Box,{display:f.Display.Flex,backgroundColor:f.BackgroundColor.backgroundAlternative,flexDirection:f.FlexDirection.Column},(null==a?void 0:a.subjectType)!==s.SubjectType.Snap&&r.default.createElement(c.default,null),r.default.createElement(b.PermissionPageContainerFooter,{onCancel:()=>this.onLeftFooterClick(),cancelText:_,onSubmit:()=>this.onSubmit(),disabled:(0,y.containsEthPermissionsAndNonEvmAccount)(o,p)})))}}n.default=k,w(k,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,selectedAccounts:a.default.array,requestedChainIds:a.default.array,allAccountsSelected:a.default.bool,currentPermissions:a.default.object,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func,request:a.default.object,requestMetadata:a.default.object,targetSubjectMetadata:a.default.shape({name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string}),navigate:a.default.func.isRequired,connectPath:a.default.string.isRequired}),w(k,"defaultProps",{request:{},requestMetadata:{},selectedAccounts:[],allAccountsSelected:!1,currentPermissions:{}}),w(k,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[6028,{"../../../selectors":7886,"./permission-page-container.component":6027,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),i=(a=e("./permission-page-container.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)((e,t)=>{var n;const{selectedAccounts:a}=t,r=(0,o.getPermissions)(e,null===(n=t.request.metadata)||void 0===n?void 0:n.origin),i=(0,o.getInternalAccounts)(e);return{allInternalAccountsSelected:Object.keys(a).length===Object.keys(i).length&&a.length>1,currentPermissions:r}})(i.default)}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[6029,{"./permissions-connect-footer.component":6030},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[6030,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/zendesk-url":6911,"../../component-library":6325,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,i=p(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),l=p(e("../../../helpers/constants/zendesk-url")),c=e("../../../helpers/constants/design-system"),u=e("../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}class f extends s.Component{render(){const{t:e}=this.context;return s.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},s.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},e("onlyConnectTrust",[s.default.createElement(u.ButtonLink,{key:"permission-connect-footer-learn-more-link",size:u.ButtonLinkSize.Inherit,target:"_blank",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))])))}}n.default=f,a=f,r="contextTypes",o={t:i.default.func},(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[6031,{"./permissions-connect-permission-list":6032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-permission-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[6032,{"../../../helpers/utils/permission":6946,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,"../permission-cell":6017,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),i=e("../../../helpers/utils/permission"),s=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),c=e("../../../helpers/utils/util"),u=p(e("../permission-cell")),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f({isRequestApprovalPermittedChains:e,permissions:t,subjectName:n,accounts:r,requestedChainIds:p}){const f=(0,s.useI18nContext)(),m=(0,o.useSelector)(l.getSnapsMetadata);return a.default.createElement(d.Box,{as:"span"},(0,i.getWeightedPermissions)({t:f,isRequestApprovalPermittedChains:e,permissions:t,getSubjectName:(0,c.getSnapName)(m),subjectName:n}).map((e,t)=>function({permission:e,index:t,accounts:n,requestedChainIds:r}){return a.default.createElement(u.default,{permissionName:e.name,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,key:`${e.permissionName}-${t}`,accounts:n,chainIds:r})}({permission:e,index:t,accounts:r,requestedChainIds:p})))}f.propTypes={permissions:r.default.object.isRequired,subjectName:r.default.string.isRequired,requestedChainIds:r.default.array,accounts:r.default.arrayOf(r.default.object),isRequestApprovalPermittedChains:r.default.boolean}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}],[6033,{"./preferred-avatar":6034},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreferredAvatar",{enumerable:!0,get:function(){return a.PreferredAvatar}});var a=e("./preferred-avatar")}}},{package:"$root$",file:"ui/components/app/preferred-avatar/index.ts"}],[6034,{"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PreferredAvatar=void 0,n.getAvatarType=c;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("@metamask/design-system-react");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(null,arguments)}n.PreferredAvatar=e=>{const t=(0,o.useSelector)(c);return r.default.createElement(i.AvatarAccount,s({},e,{variant:t}))};const l={maskicon:i.AvatarAccountVariant.Maskicon,jazzicon:i.AvatarAccountVariant.Jazzicon,blockies:i.AvatarAccountVariant.Blockies};function c({metamask:{preferences:e}}){const t=null==e?void 0:e.avatarType;return t?l[t]:undefined}}}},{package:"$root$",file:"ui/components/app/preferred-avatar/preferred-avatar.tsx"}],[6035,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/app":5598,"../../../../shared/constants/time":5635,"../../../helpers/utils/webcam-utils":6960,"../../../hooks/useI18nContext":7047,"../../ui/page-container/page-container-footer/page-container-footer.component":6800,"./enhanced-reader":6036,"@ngraveio/bc-ur":2934,loglevel:4643,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("loglevel")),o=e("@ngraveio/bc-ur"),i=m(e("prop-types")),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),c=m(e("../../../helpers/utils/webcam-utils")),u=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),f=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g="ACCESSING_CAMERA",y="NEED_TO_ALLOW_ACCESS",b="READY",v=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:i})=>{const m=(0,d.useI18nContext)(),[h,v]=(0,a.useState)(g),[x,_]=(0,a.useState)(null),[w,k]=(0,a.useState)(new o.URDecoder),[E,T]=(0,a.useState)(0);let M=null;const C=(0,a.useRef)(!1),O=async()=>{try{const{environmentReady:e}=await c.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){C.current&&_(e)}return P()},S=async()=>{try{const{permissions:e}=await c.default.checkStatus();if(e){if(await new Promise(e=>setTimeout(e,2*p.SECOND)),!C.current)return;v(b)}else C.current&&(M=setTimeout(S,p.SECOND),v(y))}catch(e){C.current&&_(e)}},I=t=>{try{if(!t||w.isComplete())return;if(w.receivePart(t),T(w.estimatedPercentComplete()),w.isComplete()){const e=w.resultUR();n(e).catch(_)}}catch(t){i(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),_(new Error(m("unknownQrCode")))}},P=()=>{try{S()}catch(e){if(!C.current)return;"NotAllowedError"===e.name?(r.default.info(`Permission denied: '${e}'`),v(y)):_(e)}};(0,a.useEffect)(()=>(C.current=!0,O(),()=>{C.current=!1,clearTimeout(M)}),[]),(0,a.useEffect)(()=>{h===b?P():h===y&&S()},[h]);const j=()=>{clearTimeout(M),v(g),_(null),k(new o.URDecoder),T(0),O()};return a.default.createElement("div",{className:"qr-scanner"},x?(()=>{let n,r;return"NO_WEBCAM_FOUND"===x.type?(n=m("noWebcamFoundTitle"),r=m("noWebcamFound")):x.message===m("unknownQrCode")?r=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):x.message===m("QRHardwareMismatchedSignId")?r=m("QRHardwareMismatchedSignId"):(n=m("generalCameraErrorTitle"),r=m("generalCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?a.default.createElement("div",{className:"qr-scanner__title"},n):null,a.default.createElement("div",{className:"qr-scanner__error","data-testid":"qr-scanner__error"},r),a.default.createElement(u.default,{onCancel:()=>{i(""),t()},onSubmit:()=>{i(""),j()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return h===g?e=m("accessingYourCamera"):h===b?e=m("QRHardwareScanInstructions"):h===y&&(e=m("youNeedToAllowCameraAccess")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement(f.default,{handleScan:I})),E>0&&a.default.createElement("div",{className:"qr-scanner__progress","data-testid":"qr-reader-progress-bar",style:{"--progress":`${Math.floor(100*E)}%`}}),e&&a.default.createElement("div",{className:"qr-scanner__status"},e))})())};v.propTypes={isReadingWallet:i.default.bool.isRequired,handleCancel:i.default.func.isRequired,handleSuccess:i.default.func.isRequired,setErrorTitle:i.default.func.isRequired};n.default=v}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/base-reader.js"}],[6036,{"../../../../shared/constants/time":5635,"../../ui/spinner":6817,"@zxing/browser":3393,"@zxing/library":3612,loglevel:4643,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@zxing/library"),o=e("@zxing/browser"),i=u(e("loglevel")),s=u(e("prop-types")),l=e("../../../../shared/constants/time"),c=u(e("../../ui/spinner"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({handleScan:e})=>{const[t,n]=(0,a.useState)(!1),s=(0,a.useMemo)(()=>{const e=new Map;return e.set(r.DecodeHintType.POSSIBLE_FORMATS,[r.BarcodeFormat.QR_CODE]),new o.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})},[]);return(0,a.useEffect)(()=>{const t=document.getElementById("video"),a=()=>{n(!0)};t.addEventListener("canplay",a);const r=s.decodeFromVideoDevice(undefined,"video",t=>{t&&e(t.getText())});return()=>{t.removeEventListener("canplay",a),r.then(e=>{e&&e.stop()}).catch(i.default.info)}},[]),a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:a.default.createElement(c.default,null))};p.propTypes={handleScan:s.default.func.isRequired};n.default=p}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/enhanced-reader.js"}],[6037,{"./qr-hardware-popover":6038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("./qr-hardware-popover"))&&a.__esModule?a:{default:a};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/index.js"}],[6038,{"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"../../ui/popover":6804,"./qr-hardware-sign-request":6039,"./qr-hardware-wallet-importer":6043,"@metamask/eth-qr-keyring":1842,"@metamask/rpc-errors":2480,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/rpc-errors"),i=e("@metamask/eth-qr-keyring"),s=e("../../../selectors"),l=f(e("../../ui/popover")),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=f(e("./qr-hardware-wallet-importer")),p=f(e("./qr-hardware-sign-request"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,c.useI18nContext)(),t=(0,r.useSelector)(s.getActiveQrCodeScanRequest),[n,f]=(0,a.useState)(""),{txData:m}=(0,r.useSelector)(e=>e.confirmTransaction),h=(0,a.useMemo)(()=>m,[null==t?void 0:t.requestId]),g=(0,r.useDispatch)(),y=(0,a.useCallback)(()=>g((0,u.cancelQrCodeScan)()),[g]),b=(0,a.useCallback)(()=>{g((0,u.rejectPendingApproval)(h.id,(0,o.serializeError)(o.providerErrors.userRejectedRequest()))),g((0,u.cancelTx)(h)),g((0,u.cancelQrCodeScan)())},[g,h]),v=(0,a.useMemo)(()=>t===i.QrScanRequestType.SIGN?e("QRHardwareSignRequestTitle"):t===i.QrScanRequestType.PAIR?e("QRHardwareWalletImporterTitle"):""!==n?n:"",[t,e,n]);return t?a.default.createElement(l.default,{title:v,onClose:t.type===i.QrScanRequestType.PAIR?y:b},t.type===i.QrScanRequestType.PAIR&&a.default.createElement(d.default,{handleCancel:y,setErrorTitle:f}),t.type===i.QrScanRequestType.SIGN&&a.default.createElement(p.default,{setErrorTitle:f,handleCancel:b,request:t.request})):null}}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-popover.js"}],[6039,{"./qr-hardware-sign-request.component":6041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("./qr-hardware-sign-request.component"))&&a.__esModule?a:{default:a};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/index.js"}],[6040,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../ui/page-container":6798,"@ngraveio/bc-ur":2934,buffer:3880,"prop-types":4893,"qrcode.react":4956,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("qrcode.react"),i=e("@ngraveio/bc-ur"),s=(a=e("prop-types"))&&a.__esModule?a:{default:a},l=e("../../../../hooks/useI18nContext"),c=e("../../../../helpers/constants/design-system"),u=e("../../../ui/page-container"),d=e("../../../component-library");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({type:e,cbor:n,cancelQRHardwareSignRequest:a,toRead:s})=>{const p=(0,l.useI18nContext)(),f=(0,r.useMemo)(()=>new i.UREncoder(new i.UR(t.from(n,"hex"),e),200),[n,e]),[m,h]=(0,r.useState)(f.nextPart());return(0,r.useEffect)(()=>{const e=setInterval(()=>{h(f.nextPart())},200);return()=>{clearInterval(e)}},[f]),r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Box,null,r.default.createElement(d.Text,{align:c.TextAlign.Center},p("QRHardwareSignRequestSubtitle"))),r.default.createElement(d.Box,{paddingTop:4,paddingBottom:4,display:c.Display.Flex,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column},r.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},r.default.createElement(o.QRCodeSVG,{value:m.toUpperCase(),size:225}))),r.default.createElement(d.Box,{paddingBottom:4,paddingLeft:4,paddingRight:4},r.default.createElement(d.Text,{align:c.TextAlign.Center},p("QRHardwareSignRequestDescription"))),r.default.createElement(u.PageContainerFooter,{onCancel:a,onSubmit:s,cancelText:p("QRHardwareSignRequestCancel"),submitText:p("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};f.propTypes={type:s.default.string.isRequired,cbor:s.default.string.isRequired,cancelQRHardwareSignRequest:s.default.func.isRequired,toRead:s.default.func.isRequired};n.default=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/player.js"}],[6041,{"../../../../store/actions":7916,"./player":6040,"./reader":6042,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("prop-types")),o=e("react-redux"),i=e("../../../../store/actions"),s=c(e("./player")),l=c(e("./reader"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=({request:e,handleCancel:t,setErrorTitle:n})=>{const r=(0,o.useDispatch)(),[c,u]=(0,a.useState)("play");(0,a.useEffect)(()=>{u("play")},[e.requestId]);const d=(0,a.useCallback)(()=>u("read"),[]),p=(0,a.useCallback)(e=>r((0,i.completeQrCodeScan)(e)),[r]);return"play"===c?(()=>{const{payload:n}=e;return a.default.createElement(s.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:d})})():a.default.createElement(l.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:p,requestId:e.requestId,setErrorTitle:n})};d.propTypes={request:r.default.object.isRequired,handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/qr-hardware-sign-request.component.js"}],[6042,{"../../../../hooks/useI18nContext":7047,"../base-reader":6035,"@keystonehq/bc-ur-registry-eth":831,"prop-types":4893,react:5080,uuid:5554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=e("@keystonehq/bc-ur-registry-eth"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("uuid")),i=u(e("prop-types")),s=u(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:i})=>{const c=(0,l.useI18nContext)();return a.default.createElement(s.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"!==t.type)throw i(c("QRHardwareInvalidTransactionTitle")),new Error(c("unknownQrCode"));const a=r.ETHSignature.fromCBOR(t.cbor).getRequestId();if(o.stringify(a)!==n)throw i(c("QRHardwareInvalidTransactionTitle")),new Error(c("QRHardwareMismatchedSignId"));return await e({type:t.type,cbor:t.cbor.toString("hex")})},setErrorTitle:i})};d.propTypes={submitQRHardwareSignature:i.default.func.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,requestId:i.default.string.isRequired,setErrorTitle:i.default.func.isRequired};n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/reader.js"}],[6043,{"./qr-hardware-wallet-importer.component":6044},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("./qr-hardware-wallet-importer.component"))&&a.__esModule?a:{default:a};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/index.js"}],[6044,{"../../../../hooks/useI18nContext":7047,"../../../../store/actions":7916,"../base-reader":6035,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("prop-types")),o=e("react-redux"),i=e("../../../../store/actions"),s=c(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=({handleCancel:e,setErrorTitle:t})=>{const n=(0,l.useI18nContext)(),r=(0,o.useDispatch)(),c=(0,a.useCallback)(e=>{try{return r((0,i.completeQrCodeScan)({type:e.type,cbor:e.cbor.toString("hex")}))}catch(e){throw t(n("QRHardwareUnknownQRCodeTitle")),e}},[r,t,n]);return a.default.createElement(s.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:c,setErrorTitle:t})};d.propTypes={handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/qr-hardware-wallet-importer.component.js"}],[6045,{"./recovery-phrase-reminder":6046},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./recovery-phrase-reminder"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/index.js"}],[6046,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"prop-types":4893,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("react-router-dom-v5-compat"),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../component-library");function u(e){return e&&e.__esModule?e:{default:e}}function d({onConfirm:e}){const t=(0,i.useI18nContext)(),n=(0,o.useNavigate)();return a.default.createElement(c.Modal,{isOpen:!0,onClose:()=>undefined},a.default.createElement(c.ModalOverlay,null),a.default.createElement(c.ModalContent,{alignItems:s.AlignItems.center},a.default.createElement(c.ModalHeader,{onClose:e},a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,gap:4},a.default.createElement(c.Icon,{name:c.IconName.Danger,size:c.IconSize.Xl,color:s.IconColor.warningDefault}),a.default.createElement(c.Text,{variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center},t("recoveryPhraseReminderTitle")))),a.default.createElement(c.ModalBody,null,a.default.createElement(c.Box,{width:s.BlockSize.Full,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,marginBottom:2},a.default.createElement("img",{src:"images/forgot-password-lock.png",width:100,height:100,alt:t("recoveryPhraseReminderTitle")})),a.default.createElement(c.Text,null,t("recoveryPhraseReminderSubText"))),a.default.createElement(c.ModalFooter,null,a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:2},a.default.createElement(c.ButtonPrimary,{size:c.ButtonSize.Lg,block:!0,onClick:()=>{const e=`${l.ONBOARDING_REVEAL_SRP_ROUTE}/?isFromReminder=true`;n(e)}},t("recoveryPhraseReminderBackupStart")),a.default.createElement(c.ButtonLink,{size:c.ButtonLinkSize.Lg,block:!0,onClick:e},t("recoveryPhraseReminderConfirm"))))))}d.propTypes={onConfirm:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/recovery-phrase-reminder.js"}],[6047,{"../../../hooks/rewards/useLinkAccountAddress":7007,"../../../hooks/useI18nContext":7047,"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/design-system-react"),o=e("../../../hooks/rewards/useLinkAccountAddress"),i=e("../../../hooks/useI18nContext");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}n.default=({account:e})=>{const t=(0,i.useI18nContext)(),{linkAccountAddress:n,isLoading:s,isError:l}=(0,o.useLinkAccountAddress)(),c=(0,a.useCallback)(async()=>{e&&await n(e)},[e,n]);return e?a.default.createElement(r.TextButton,{onClick:c,textProps:{variant:r.TextVariant.BodySm},"data-testid":"add-rewards-account-button",startAccessory:s?a.default.createElement(r.Icon,{name:r.IconName.Loading,size:r.IconSize.Sm}):a.default.createElement("img",{src:"./images/metamask-rewards-points-alternative.svg",alt:t("rewardsPointsIcon"),width:16,height:16}),endAccessory:l?a.default.createElement(r.Icon,{name:r.IconName.Refresh,size:r.IconSize.Sm,color:r.IconColor.IconAlternative}):undefined,disabled:s},t(l?"rewardsLinkAccountError":"rewardsLinkAccount")):null}}}},{package:"$root$",file:"ui/components/app/rewards/AddRewardsAccount.tsx"}],[6048,{"../../../../shared/lib/storage-helpers":5714,"../../../ducks/rewards":6887,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"./utils/constants":6061,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RewardsBadge=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/design-system-react"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../ducks/rewards"),c=e("../../../../shared/lib/storage-helpers"),u=e("./utils/constants");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.RewardsBadge=({formattedPoints:e,boxClassName:t,textClassName:n,withPointsSuffix:d=!0,useAlternativeIconColor:p=!1,allowHideBadge:f=!1,onClick:m})=>{const h=(0,s.useI18nContext)(),g=(0,r.useDispatch)(),[y,b]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),_=(0,a.useCallback)(()=>{x(!1),g((0,l.setRewardsBadgeHidden)(!0));try{(0,c.setStorageItem)(u.REWARDS_BADGE_HIDDEN,"true")}catch(e){}},[g]);return a.default.createElement(o.Box,{className:`relative flex items-center${t?` ${t}`:""}${m?" cursor-pointer":""}`,"data-testid":"rewards-points-balance",onMouseEnter:f?()=>x(!0):undefined,onMouseLeave:f?()=>x(!1):undefined},a.default.createElement(o.Box,{className:"flex items-center gap-1",onClick:m},!y&&a.default.createElement("img",{src:p?"./images/metamask-rewards-points-alternative.svg":"./images/metamask-rewards-points.svg",alt:h("rewardsPointsIcon"),width:16,height:16,onError:()=>b(!0)}),a.default.createElement(o.Text,{variant:o.TextVariant.BodySm,className:n,"data-testid":"rewards-points-balance-value"},d?h("rewardsPointsBalance",[e]):e)),f&&v&&a.default.createElement(o.Box,{className:"cursor-pointer flex items-center hover:text-text-alternative",onClick:_},a.default.createElement(i.Icon,{name:i.IconName.Close,size:i.IconSize.Sm,"aria-label":h("close")})))}}}},{package:"$root$",file:"ui/components/app/rewards/RewardsBadge.tsx"}],[6049,{"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("@metamask/design-system-react");n.default=({title:e,description:t,onDismiss:n,onConfirm:a,confirmButtonLabel:i,onConfirmLoading:s})=>r.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Row,alignItems:o.BoxAlignItems.Start,className:"bg-error-muted rounded-2xl p-4 gap-4 w-full","data-testid":"rewards-error-banner"},r.default.createElement(o.Box,{className:"w-8 h-8"},r.default.createElement(o.Icon,{name:o.IconName.Error,size:o.IconSize.Xl,className:"text-error-default"})),r.default.createElement(o.Box,{className:"flex flex-col gap-2"},r.default.createElement(o.Box,{className:"flex flex-col gap-2"},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Bold},e),r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd},t)),(n||a)&&r.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Row,className:"gap-2"},n&&r.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,onClick:n,className:"flex-1"},"Dismiss"),a&&r.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,size:o.ButtonSize.Md,onClick:a,isLoading:s,className:"flex-1"},i||"Confirm"))))}}},{package:"$root$",file:"ui/components/app/rewards/RewardsErrorBanner.tsx"}],[6050,{"../../../ducks/rewards":6887,"../../../ducks/rewards/selectors":6888,"../../../helpers/constants/design-system":6899,"../../component-library":6325,"../../multichain/toast/toast":6710,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{isOpen:e,title:t,description:n,actionText:d,onActionClick:p}=(0,a.useSelector)(l.selectErrorToast),f=(0,a.useDispatch)(),m=(0,r.useCallback)(()=>{f((0,c.setErrorToast)({isOpen:!1,title:t,description:n,actionText:d,onActionClick:p}))},[d,n,f,p,t]);if(!e)return null;return r.default.createElement(o.Box,{"data-testid":"rewards-error-toast"},r.default.createElement(u.Toast,{startAdornment:r.default.createElement(i.Icon,{name:i.IconName.Danger,color:s.IconColor.errorDefault}),text:t,description:n,actionText:d,onActionClick:p,onClose:m}))};var a=e("react-redux"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/design-system-react"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../ducks/rewards/selectors"),c=e("../../../ducks/rewards"),u=e("../../multichain/toast/toast");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/rewards/RewardsErrorToast.tsx"}],[6051,{"../../../../shared/lib/storage-helpers":5714,"../../../ducks/locale/locale":6882,"../../../ducks/rewards":6887,"../../../ducks/rewards/selectors":6888,"../../../hooks/rewards/useCandidateSubscriptionId":7005,"../../../hooks/rewards/useSeasonStatus":7009,"../../../hooks/useI18nContext":7047,"../../../store/store":7921,"../../component-library/skeleton":6371,"./RewardsBadge":6048,"./utils/constants":6061,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RewardsPointsBalance=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../ducks/locale/locale"),i=e("../../component-library/skeleton"),s=e("../../../hooks/useI18nContext"),l=e("../../../ducks/rewards"),c=e("../../../ducks/rewards/selectors"),u=e("../../../hooks/rewards/useCandidateSubscriptionId"),d=e("../../../hooks/rewards/useSeasonStatus"),p=e("../../../../shared/lib/storage-helpers"),f=e("../../../store/store"),m=e("./RewardsBadge"),h=e("./utils/constants");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.RewardsPointsBalance=()=>{const e=(0,r.useSelector)(o.getIntlLocale),t=(0,s.useI18nContext)(),n=(0,r.useDispatch)(),g=(0,r.useSelector)(c.selectRewardsEnabled),y=(0,r.useSelector)(c.selectRewardsOnboardingEnabled),b=(0,r.useSelector)(c.selectRewardsBadgeHidden),v=(0,r.useSelector)(c.selectSeasonStatus),x=(0,r.useSelector)(c.selectSeasonStatusError),_=(0,r.useSelector)(c.selectCandidateSubscriptionId),w=(0,r.useSelector)(c.selectOnboardingModalRendered),k=(0,f.useAppSelector)(e=>{var t;return null===(t=e.metamask.rewardsActiveAccount)||void 0===t?void 0:t.subscriptionId}),E=!k&&("pending"===_||"retry"===_),T="error"===_,M=Boolean(!1),C=(0,a.useCallback)(()=>{n((0,l.setOnboardingModalOpen)(!0))},[n]),{fetchCandidateSubscriptionId:O}=(0,u.useCandidateSubscriptionId)();(0,d.useSeasonStatus)({subscriptionId:_,onAuthorizationError:O}),(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,p.getStorageItem)(h.REWARDS_GTM_MODAL_SHOWN);n((0,l.setOnboardingModalRendered)("true"===e))}catch(e){n((0,l.setOnboardingModalRendered)(!0))}})()},[n]),(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,p.getStorageItem)(h.REWARDS_BADGE_HIDDEN);n((0,l.setRewardsBadgeHidden)("true"===e))}catch(e){n((0,l.setRewardsBadgeHidden)(!0))}})()},[n]),(0,a.useEffect)(()=>{M||!g||!y||null!==_||k||w||C()},[C,g,M,_,k,w,y]);const S=(0,a.useCallback)(async()=>{try{await(0,p.setStorageItem)(h.REWARDS_GTM_MODAL_SHOWN,"true")}catch(e){}},[]);if((0,a.useEffect)(()=>{if(_&&"pending"!==_&&"retry"!==_&&"error"!==_)try{S()}catch(e){}},[_,S]),!g)return null;if(!_)return b||!y?null:a.default.createElement(m.RewardsBadge,{boxClassName:"gap-1 px-1.5 bg-background-muted rounded",formattedPoints:t("rewardsSignUp"),withPointsSuffix:!1,onClick:C,allowHideBadge:!0});if(x&&(null==v||!v.balance)||T)return a.default.createElement(m.RewardsBadge,{formattedPoints:t("rewardsPointsBalance_couldntLoad"),withPointsSuffix:!1,boxClassName:"gap-1 bg-background-transparent",textClassName:"text-alternative",useAlternativeIconColor:!0});if(v&&_&&!E){var I;const t=(null===(I=v.balance)||void 0===I?void 0:I.total)??0,n=new Intl.NumberFormat(e).format(t);return a.default.createElement(m.RewardsBadge,{formattedPoints:n,boxClassName:"gap-1 px-1.5 bg-background-muted rounded",onClick:C})}return b?null:a.default.createElement(i.Skeleton,{width:"100px"})}}}},{package:"$root$",file:"ui/components/app/rewards/RewardsPointsBalance.tsx"}],[6052,{"../../../ducks/rewards":6887,"../../../hooks/useI18nContext":7047,"../../../selectors/seedless-onboarding/social-sync":7902,"../../component-library/modal-body/modal-body":6334,"./utils/constants":6061,"@metamask/design-system-react":1741,"qrcode-generator":4955,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useSelector)(l.getSocialLoginType),t=(0,c.useI18nContext)(),n=(0,s.useDispatch)(),a=(0,r.useCallback)(()=>{n((0,u.setOnboardingModalOpen)(!1))},[n]),i=(0,r.useMemo)(()=>"apple"===e?p.APPLE_ONBOARDING_URL:"google"===e?p.GOOGLE_ONBOARDING_URL:p.SRP_ONBOARDING_URL,[e]);return r.default.createElement(d.ModalBody,{className:"w-full h-full pt-8 pb-4 flex flex-col","data-testid":"rewards-onboarding-qrcode-container"},r.default.createElement(o.Box,{className:"flex flex-1 flex-col items-center justify-center gap-4"},r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,className:"text-center"},t("rewardsQRCodeTitle")),r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,className:"text-center text-alternative"},t("rewardsQRCodeDescription")),r.default.createElement(m,{data:i}),r.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,onClick:a,className:"w-full my-2"},t("gotIt"))))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/design-system-react"),i=(a=e("qrcode-generator"))&&a.__esModule?a:{default:a},s=e("react-redux"),l=e("../../../selectors/seedless-onboarding/social-sync"),c=e("../../../hooks/useI18nContext"),u=e("../../../ducks/rewards"),d=e("../../component-library/modal-body/modal-body"),p=e("./utils/constants");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({data:e})=>{const t=(0,i.default)(0,"M");return t.addData(e),t.make(),r.default.createElement(o.Box,{className:"qr-code__wrapper my-2"},r.default.createElement(o.Box,{"data-testid":"qr-code-image",className:"qr-code__image",dangerouslySetInnerHTML:{__html:t.createTableTag(5,16)}}),r.default.createElement(o.Box,{className:"qr-code__logo"},r.default.createElement("img",{src:"images/logo/metamask-fox.svg",alt:"Logo"})))}}}},{package:"$root$",file:"ui/components/app/rewards/RewardsQRCode.tsx"}],[6053,{"../../../../../shared/lib/storage-helpers":5714,"../../../../../shared/modules/selectors":5751,"../../../../ducks/rewards":6887,"../../../../ducks/rewards/selectors":6888,"../../../../ducks/rewards/types":6889,"../../../../hooks/rewards/useCandidateSubscriptionId":7005,"../../../../hooks/rewards/useGeoRewardsMetadata":7006,"../../../../hooks/useI18nContext":7047,"../../../../store/store":7921,"../../../component-library":6325,"../utils/constants":6061,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/design-system-react"),i=e("../../../../ducks/rewards/types"),s=e("../../../../ducks/rewards"),l=e("../../../component-library"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../../shared/lib/storage-helpers"),d=e("../utils/constants"),p=e("../../../../ducks/rewards/selectors"),f=e("../../../../hooks/rewards/useGeoRewardsMetadata"),m=e("../../../../hooks/rewards/useCandidateSubscriptionId"),h=e("../../../../store/store"),g=e("../../../../../shared/modules/selectors");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useDispatch)(),t=(0,c.useI18nContext)(),n=(0,a.useCallback)(async()=>{await(0,u.setStorageItem)(d.REWARDS_GTM_MODAL_SHOWN,"true")},[]);(0,a.useEffect)(()=>{n()},[n]);const y=(0,r.useSelector)(p.selectOptinAllowedForGeo),b=(0,r.useSelector)(p.selectOptinAllowedForGeoLoading),v=(0,r.useSelector)(p.selectOptinAllowedForGeoError),x=(0,r.useSelector)(p.selectCandidateSubscriptionId),_="error"===x,w=(0,h.useAppSelector)(e=>{var t;return null===(t=e.metamask.rewardsActiveAccount)||void 0===t?void 0:t.subscriptionId}),k=(0,r.useSelector)(g.isHardwareWallet),{fetchGeoRewardsMetadata:E}=(0,f.useGeoRewardsMetadata)({enabled:!w&&(!x||_)}),{fetchCandidateSubscriptionId:T}=(0,m.useCandidateSubscriptionId)(),M=(0,a.useCallback)(async()=>{e(_?(0,s.setErrorToast)({isOpen:!0,title:t("rewardsAuthFailTitle"),description:t("rewardsAuthFailDescription"),onActionClick:T,actionText:t("rewardsOnboardingIntroRewardsAuthFailRetry")}):!v||y||b||w?!1!==y?k?(0,s.setErrorToast)({isOpen:!0,title:t("rewardsOnboardingIntroHardwareWalletTitle"),description:t("rewardsOnboardingIntroHardwareWalletDescription")}):(0,s.setOnboardingActiveStep)(i.OnboardingStep.STEP1):(0,s.setErrorToast)({isOpen:!0,title:t("rewardsOnboardingIntroUnsupportedRegionTitle"),description:t("rewardsOnboardingIntroUnsupportedRegionDescription")}):(0,s.setErrorToast)({isOpen:!0,title:t("rewardsOnboardingIntroGeoCheckFailedTitle"),description:t("rewardsOnboardingIntroGeoCheckFailedDescription"),onActionClick:E,actionText:t("rewardsOnboardingIntroGeoCheckRetry")}))},[_,e,T,E,k,y,v,b,w,t]),C=(0,a.useCallback)(()=>{e((0,s.setOnboardingModalOpen)(!1))},[e]);return a.default.createElement(o.Box,{className:"w-full h-full overflow-y-auto","data-testid":"onboarding-intro-container"},a.default.createElement(o.Box,{className:"w-full h-full bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(https://images.ctfassets.net/9sy2a0egs6zh/3IxIZWE6JZHzDNhlpiLeJq/7e765a752a7ae0b90dd327ddca496175/rewards-onboarding-intro-bg.png)"}},a.default.createElement(l.ModalBody,{className:"w-full h-full pt-8 pb-4 flex flex-col"},a.default.createElement(o.Box,{className:"gap-2",flexDirection:o.BoxFlexDirection.Column,alignItems:o.BoxAlignItems.Center,"data-testid":"rewards-onboarding-intro-title"},a.default.createElement(o.Box,{className:"justify-center items-center"},a.default.createElement(o.Text,{fontFamily:o.FontFamily.Hero,variant:o.TextVariant.DisplayLg,className:"text-center text-white font-medium",style:{lineHeight:"1"}},t("rewardsOnboardingIntroTitle"))),a.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,className:"text-center text-white font-medium"},t("rewardsOnboardingIntroDescription"))),a.default.createElement(o.Box,{className:"flex justify-center items-center absolute",style:{top:"25%"},"data-testid":"rewards-onboarding-intro-image"},a.default.createElement("img",{src:"https://images.ctfassets.net/9sy2a0egs6zh/5vsF0CDPAgGRK4VpjxyKT9/e744a921a9666172aa4f92852356ca7a/rewards-onboarding-intro.png",alt:"Rewards onboarding intro",className:"w-full max-w-lg h-auto object-contain","data-testid":"intro-image"})),a.default.createElement(o.Box,{className:"flex flex-col justify-end flex-1","data-testid":"rewards-onboarding-intro-actions"},a.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,isLoading:b||"pending"===x||"retry"===x,loadingText:t(b?"rewardsOnboardingIntroStepConfirmLoadingRegion":"rewardsOnboardingIntroStepConfirmLoadingEligibility"),isDisabled:b||Boolean(w)||"pending"===x||"retry"===x,onClick:M,className:"w-full my-2 bg-white hover:bg-default-hover"},a.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,className:"text-black font-medium"},t("rewardsOnboardingIntroStepConfirm"))),a.default.createElement(o.Button,{size:o.ButtonSize.Lg,onClick:C,className:"w-full bg-gray-500 border-gray-500 hover:bg-primary-default-hover"},a.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,className:"text-white font-medium"},t("rewardsOnboardingIntroStepSkip")))))))}}}},{package:"$root$",file:"ui/components/app/rewards/onboarding/OnboardingIntroStep.tsx"}],[6054,{"../../../../../shared/constants/preferences":5622,"../../../../ducks/rewards":6887,"../../../../ducks/rewards/selectors":6888,"../../../../ducks/rewards/types":6889,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useTheme":7076,"../../../../store/store":7921,"../../../component-library":6325,"../RewardsErrorToast":6050,"../RewardsQRCode":6052,"./OnboardingIntroStep":6053,"./OnboardingStep1":6055,"./OnboardingStep2":6056,"./OnboardingStep3":6057,"./OnboardingStep4":6058,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e}){const t=(0,r.useSelector)(l.selectOnboardingModalOpen),n=(0,r.useSelector)(l.selectOnboardingActiveStep),x=(0,r.useSelector)(l.selectCandidateSubscriptionId),_=(0,m.useAppSelector)(e=>{var t;return null===(t=e.metamask.rewardsActiveAccount)||void 0===t?void 0:t.subscriptionId}),w=(0,r.useDispatch)(),k=(0,d.useTheme)(),E=(0,a.useMemo)(()=>x&&"error"!==x&&"pending"!==x&&"retry"!==x,[x]),T=(0,a.useCallback)(()=>{w((0,c.setOnboardingModalOpen)(!1)),w((0,c.setOnboardingActiveStep)(u.OnboardingStep.INTRO)),w((0,c.setOnboardingReferralCode)(null)),null==e||e()},[w,e]),M=(0,a.useCallback)(()=>{if(_||E)return a.default.createElement(f.default,null);switch(n){case u.OnboardingStep.INTRO:return a.default.createElement(h.default,null);case u.OnboardingStep.STEP1:return a.default.createElement(g.default,null);case u.OnboardingStep.STEP2:return a.default.createElement(y.default,null);case u.OnboardingStep.STEP3:return a.default.createElement(b.default,null);case u.OnboardingStep.STEP4:return a.default.createElement(v.default,null);default:return a.default.createElement(h.default,null)}},[E,n,_]);return(0,a.useEffect)(()=>{w((0,c.setOnboardingModalRendered)(!0))},[w]),a.default.createElement(o.Modal,{"data-testid":"rewards-onboarding-modal",isOpen:t,onClose:T},a.default.createElement(o.ModalOverlay,null),a.default.createElement(o.ModalContent,{alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,size:o.ModalContentSize.Md,modalDialogProps:{paddingTop:0,paddingBottom:0,style:{height:_||E?"auto":"740px",alignItems:"center",justifyContent:"center"}}},a.default.createElement(o.ModalHeader,{"data-theme":"light"===k?i.ThemeType.light:i.ThemeType.dark,"data-testid":"rewards-onboarding-modal-header",closeButtonProps:{className:"absolute z-10",style:{top:"24px",right:"12px",display:x||n!==u.OnboardingStep.INTRO?"block":"none"}},paddingBottom:0,onClose:T}),M(),a.default.createElement(p.default,null)))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../component-library"),i=e("../../../../../shared/constants/preferences"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../ducks/rewards/selectors"),c=e("../../../../ducks/rewards"),u=e("../../../../ducks/rewards/types"),d=e("../../../../hooks/useTheme"),p=x(e("../RewardsErrorToast")),f=x(e("../RewardsQRCode")),m=e("../../../../store/store"),h=x(e("./OnboardingIntroStep")),g=x(e("./OnboardingStep1")),y=x(e("./OnboardingStep2")),b=x(e("./OnboardingStep3")),v=x(e("./OnboardingStep4"));function x(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/rewards/onboarding/OnboardingModal.tsx"}],[6055,{"../../../../ducks/rewards":6887,"../../../../ducks/rewards/types":6889,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"./ProgressIndicator":6059,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@metamask/design-system-react"),s=e("../../../../ducks/rewards"),l=e("../../../../ducks/rewards/types"),c=e("../../../component-library"),u=e("../../../../hooks/useI18nContext"),d=(a=e("./ProgressIndicator"))&&a.__esModule?a:{default:a};function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useDispatch)(),t=(0,u.useI18nContext)(),n=(0,o.useCallback)(()=>{e((0,s.setOnboardingActiveStep)(l.OnboardingStep.STEP2))},[e]);return o.default.createElement(c.ModalBody,{className:"w-full h-full pt-8 pb-4 flex flex-col","data-testid":"rewards-onboarding-step1-container"},o.default.createElement(d.default,{totalSteps:4,currentStep:1,"data-testid":"rewards-onboarding-step1-progress"}),o.default.createElement(o.default.Fragment,null,o.default.createElement("svg",{className:"w-full absolute",viewBox:"0 0 393 454",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",style:{left:0,top:0}},o.default.createElement("path",{d:"M 302.98438 0 L 213.17773 113.25586 L 162.85742 113.25586 L 162.85742 224.83594 L 162.84766 224.83594 L 162.84766 113.09766 L 62.902344 113.09766 L -37.042969 226.49805 L -37.042969 339.89844 L 62.902344 339.89844 L 162.8125 226.53711 L 162.8125 339.9707 L 212.77539 339.9707 L 212.77539 340.4043 L 302.69336 453.79883 L 392.61523 453.79883 L 392.61523 340.4043 L 361.58008 301.26758 L 361.58008 224.83594 L 304.5332 224.83594 L 392.90625 113.39453 L 392.90625 0 L 302.98438 0 z ",fill:"var(--color-background-muted)"})),o.default.createElement("img",{src:"https://images.ctfassets.net/9sy2a0egs6zh/5ieKFEvd1qM3crY76W751i/ab846811e550d4a84c12a063f468f30c/rewards-onboarding-step1.png",className:"z-10 object-contain","data-testid":"rewards-onboarding-step1-image",width:"94%"})),o.default.createElement(i.Box,{className:"flex flex-col gap-2 flex-1 justify-end","data-testid":"rewards-onboarding-step1-info"},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingLg,className:"text-center"},t("rewardsOnboardingStep1Title")),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,className:"text-center text-alternative"},t("rewardsOnboardingStep1Description"))),o.default.createElement(i.Box,{className:"flex flex-col my-2","data-testid":"rewards-onboarding-step1-actions"},o.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,onClick:n,className:"w-full my-2"},t("rewardsOnboardingStepConfirm"))))}}}},{package:"$root$",file:"ui/components/app/rewards/onboarding/OnboardingStep1.tsx"}],[6056,{"../../../../ducks/rewards":6887,"../../../../ducks/rewards/types":6889,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"./ProgressIndicator":6059,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@metamask/design-system-react"),s=e("../../../../ducks/rewards"),l=e("../../../../ducks/rewards/types"),c=e("../../../component-library"),u=e("../../../../hooks/useI18nContext"),d=(a=e("./ProgressIndicator"))&&a.__esModule?a:{default:a};function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useDispatch)(),t=(0,u.useI18nContext)(),n=(0,o.useCallback)(()=>{e((0,s.setOnboardingActiveStep)(l.OnboardingStep.STEP3))},[e]);return o.default.createElement(c.ModalBody,{className:"w-full h-full pt-8 pb-4 flex flex-col","data-testid":"rewards-onboarding-step2-container"},o.default.createElement(d.default,{totalSteps:4,currentStep:2,"data-testid":"rewards-onboarding-step2-progress"}),o.default.createElement(o.default.Fragment,null,o.default.createElement("svg",{className:"w-full absolute",viewBox:"0 0 393 454",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",style:{left:0,top:0}},o.default.createElement("path",{d:"M 257.61523 0 L 121.50195 136.11328 L 121.50195 272.51562 L 30.742188 272.51562 L 30.742188 363.25781 L 166.87109 363.25781 L 166.87109 454 L 302.98438 454 L 393.72852 363.25781 L 393.71289 363.25781 L 393.71289 272.51562 L 393.73047 272.51562 L 302.79492 227.04688 L 393.73047 136.11328 L 393.73047 0 L 257.61523 0 z M 30.742188 363.25781 L -60 363.25781 L -60 454 L 30.742188 454 L 30.742188 363.25781 z M -59.998047 45.660156 L -14.626953 136.40234 L 121.48633 136.40234 L 76.115234 45.660156 L -59.998047 45.660156 z M 121.48633 181.76953 L 30.744141 272.51367 L 121.48633 272.51367 L 121.48633 181.76953 z M 212.24414 272.36914 L 212.24414 272.51562 L 165.20898 272.51562 L 212.24414 272.36914 z ",fill:"var(--color-background-muted)"})),o.default.createElement("img",{src:"https://images.ctfassets.net/9sy2a0egs6zh/2wG5gvQmC4d95TShVVpsEX/9bd7f199f47833fdc68e403a059713df/rewards-onboarding-step2.png",className:"z-10 object-contain","data-testid":"rewards-onboarding-step2-image",width:"94%"})),o.default.createElement(i.Box,{className:"flex flex-col gap-2 flex-1 justify-end","data-testid":"rewards-onboarding-step2-info"},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingLg,className:"text-center"},t("rewardsOnboardingStep2Title")),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,className:"text-center text-alternative"},t("rewardsOnboardingStep2Description"))),o.default.createElement(i.Box,{className:"flex flex-col justify-end my-2","data-testid":"rewards-onboarding-step2-actions"},o.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,onClick:n,className:"w-full my-2"},t("rewardsOnboardingStepConfirm"))))}}}},{package:"$root$",file:"ui/components/app/rewards/onboarding/OnboardingStep2.tsx"}],[6057,{"../../../../ducks/rewards":6887,"../../../../ducks/rewards/types":6889,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"./ProgressIndicator":6059,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@metamask/design-system-react"),s=e("../../../../ducks/rewards"),l=e("../../../../ducks/rewards/types"),c=e("../../../component-library"),u=e("../../../../hooks/useI18nContext"),d=(a=e("./ProgressIndicator"))&&a.__esModule?a:{default:a};function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useDispatch)(),t=(0,u.useI18nContext)(),n=(0,o.useCallback)(()=>{e((0,s.setOnboardingActiveStep)(l.OnboardingStep.STEP4))},[e]);return o.default.createElement(c.ModalBody,{className:"w-full h-full pt-8 pb-4 flex flex-col","data-testid":"rewards-onboarding-step3-container"},o.default.createElement(d.default,{totalSteps:4,currentStep:3,"data-testid":"rewards-onboarding-step3-progress"}),o.default.createElement(o.default.Fragment,null,o.default.createElement("svg",{className:"w-full absolute",viewBox:"0 0 393 454",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",style:{left:0,top:0}},o.default.createElement("path",{d:"M 294.88086 0 L 197.81836 90.767578 L 197.81836 181.53516 L 294.88086 181.53516 L 294.93555 181.48438 L 294.93555 181.54102 L 197.94922 181.54102 L 197.94922 272 L 99 272 L 0 362.99805 L 0 454 L 99 454 L 198 362.99805 L 198 362.81641 L 294.84375 272.27148 L 294.93555 272.27148 L 294.93555 362.11914 L 392 362.11914 L 392 181.35938 L 295.06836 181.35938 L 391.94336 90.767578 L 391.94336 0 L 294.88086 0 z ",fill:"var(--color-background-muted)"})),o.default.createElement("img",{src:"https://images.ctfassets.net/9sy2a0egs6zh/7ERFcIMMLMTL4EekVoOana/a03bef86b2cb4f87fc5ee84afd427d21/rewards-onboarding-step3.png",className:"z-10 object-contain","data-testid":"rewards-onboarding-step3-image",width:"94%"})),o.default.createElement(i.Box,{className:"flex flex-col gap-2 flex-1 justify-end","data-testid":"rewards-onboarding-step3-info"},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingLg,className:"text-center"},t("rewardsOnboardingStep3Title")),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,className:"text-center text-alternative"},t("rewardsOnboardingStep3Description"))),o.default.createElement(i.Box,{className:"flex flex-col justify-end my-2","data-testid":"rewards-onboarding-step3-actions"},o.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,onClick:n,className:"w-full my-2"},t("rewardsOnboardingStepConfirm"))))}}}},{package:"$root$",file:"ui/components/app/rewards/onboarding/OnboardingStep3.tsx"}],[6058,{"../../../../ducks/rewards/selectors":6888,"../../../../hooks/rewards/useOptIn":7008,"../../../../hooks/rewards/useValidateReferralCode":7010,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../ui/loading-indicator":6778,"../RewardsErrorBanner":6049,"./ProgressIndicator":6059,"./constants":6060,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/design-system-react"),o=e("react-redux"),i=e("../../../component-library"),s=e("../../../../hooks/useI18nContext"),l=e("../../../../hooks/rewards/useValidateReferralCode"),c=h(e("../../../ui/loading-indicator")),u=h(e("../RewardsErrorBanner")),d=e("../../../../hooks/rewards/useOptIn"),p=e("../../../../ducks/rewards/selectors"),f=e("./constants"),m=h(e("./ProgressIndicator"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,s.useI18nContext)(),{optinLoading:t,optinError:n,optin:h}=(0,d.useOptIn)(),g=(0,o.useSelector)(p.selectOnboardingReferralCode),{referralCode:y,setReferralCode:b,isValidating:v,isValid:x,isUnknownError:_}=(0,l.useValidateReferralCode)(g?g.trim().toUpperCase():undefined),w=(0,a.useCallback)(async()=>{await h(y)},[h,y]),k=y.length>=6&&!x&&!v&&!_,E=t||!x&&Boolean(y)||_;return a.default.createElement(i.ModalBody,{className:"w-full h-full pt-8 pb-4 flex flex-col","data-testid":"rewards-onboarding-step4-container"},a.default.createElement(m.default,{totalSteps:4,currentStep:4,"data-testid":"rewards-onboarding-step4-progress"}),n&&a.default.createElement(r.Box,{className:"pt-4"},a.default.createElement(u.default,{title:e("rewardsOnboardingStep4OptInError"),description:n})),a.default.createElement(r.Box,{className:"flex flex-col flex-1 gap-4 justify-center","data-testid":"rewards-onboarding-step4-info"},a.default.createElement("img",{src:"https://images.ctfassets.net/9sy2a0egs6zh/2W921m9iDZsozDlv1pNx4z/c04e3577afd665ae5434d8b7115c4bcc/rewards-onboarding-step4.png",className:"z-10 object-contain self-center",width:100,height:100,alt:e("rewardsOnboardingStep4Title")}),a.default.createElement(r.Text,{variant:r.TextVariant.HeadingLg,className:"text-center"},e(x?"rewardsOnboardingStep4TitleWithReferralCode":"rewardsOnboardingStep4Title")),a.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Bold,className:"text-center mt-8"},e("rewardsOnboardingStep4ReferralCodeInput")),a.default.createElement(r.Box,{className:"relative",style:{height:64}},a.default.createElement(i.TextField,{placeholder:e("rewardsOnboardingStep4ReferralCodePlaceholder"),value:y,autoCapitalize:"characters",onChange:e=>b(e.target.value),disabled:t,size:i.TextFieldSize.Lg,className:"w-full",style:{backgroundColor:t?"bg-background-pressed":"bg-background-default",borderColor:k?"border-error-default":"border-muted"},endAccessory:v?a.default.createElement(c.default,{alt:e("rewardsOptInVerifyingReferralCode"),title:e("rewardsOptInVerifyingReferralCode"),isLoading:!0,style:{width:32,height:32,left:5}}):x?a.default.createElement(r.Icon,{name:r.IconName.Confirmation,size:r.IconSize.Lg,color:r.IconColor.SuccessDefault}):y.length>=6?a.default.createElement(r.Icon,{name:r.IconName.Error,size:r.IconSize.Lg,color:r.IconColor.ErrorDefault}):null,error:k}),k&&a.default.createElement(r.Text,{variant:r.TextVariant.BodySm,className:"text-error-default"},e("rewardsOnboardingStep4ReferralCodeError"))),_&&a.default.createElement(u.default,{title:e("rewardsOnboardingStep4ReferralCodeUnknownError"),description:e("rewardsOnboardingStep4ReferralCodeUnknownErrorDescription")})),a.default.createElement(r.Box,{className:"flex flex-col justify-end my-2","data-testid":"rewards-onboarding-step4-actions"},a.default.createElement(r.Button,{variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,onClick:w,className:"w-full my-2",disabled:E,isDisabled:E,isLoading:t},e("rewardsOnboardingStepOptIn"))),a.default.createElement(r.Box,{className:"w-full flex-row mt-2","data-testid":"rewards-onboarding-step4-legal-disclaimer"},a.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Row,alignItems:r.BoxAlignItems.Center,className:"justify-center flex-wrap gap-2"},a.default.createElement(r.Text,{variant:r.TextVariant.BodySm,className:"text-alternative text-center"},e("rewardsOnboardingStep4LegalDisclaimer1")," ",a.default.createElement(r.TextButton,{size:r.TextButtonSize.BodySm,className:"text-primary-default",onClick:()=>{window.open(f.REWARDS_ONBOARD_TERMS_URL,"_blank","noopener,noreferrer")}},e("rewardsOnboardingStep4LegalDisclaimer2")),e("rewardsOnboardingStep4LegalDisclaimer3")," ",a.default.createElement(r.TextButton,{size:r.TextButtonSize.BodySm,className:"text-primary-default",onClick:()=>{window.open(f.REWARDS_ONBOARD_OPTIN_LEGAL_LEARN_MORE_URL,"_blank","noopener,noreferrer")}},e("rewardsOnboardingStep4LegalDisclaimer4")),"."," "))))}}}},{package:"$root$",file:"ui/components/app/rewards/onboarding/OnboardingStep4.tsx"}],[6059,{"../../../../hooks/useTheme":7076,"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("@metamask/design-system-react"),i=e("../../../../hooks/useTheme");n.default=({totalSteps:e,currentStep:t})=>{const n="light"===(0,i.useTheme)()?"bg-black":"bg-white";return r.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Row,justifyContent:o.BoxJustifyContent.Center,alignItems:o.BoxAlignItems.Center,className:"gap-1","data-testid":"progress-indicator-container"},Array.from({length:e},(e,a)=>r.default.createElement(o.Box,{key:a,className:"h-3 rounded-xl\n            "+(a===t-1?`w-6 ${n}`:"w-3 h-3 bg-muted")})))}}}},{package:"$root$",file:"ui/components/app/rewards/onboarding/ProgressIndicator.tsx"}],[6060,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.REWARDS_ONBOARD_TERMS_URL=n.REWARDS_ONBOARD_OPTIN_LEGAL_LEARN_MORE_URL=void 0;n.REWARDS_ONBOARD_OPTIN_LEGAL_LEARN_MORE_URL="https://support.metamask.io/manage-crypto/metamask-rewards",n.REWARDS_ONBOARD_TERMS_URL="https://go.metamask.io/rewards-terms"}}},{package:"$root$",file:"ui/components/app/rewards/onboarding/constants.ts"}],[6061,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SRP_ONBOARDING_URL=n.REWARDS_GTM_MODAL_SHOWN=n.REWARDS_BADGE_HIDDEN=n.GOOGLE_ONBOARDING_URL=n.APPLE_ONBOARDING_URL=void 0;n.REWARDS_GTM_MODAL_SHOWN="REWARDS_GTM_MODAL_SHOWN",n.REWARDS_BADGE_HIDDEN="REWARDS_BADGE_HIDDEN",n.GOOGLE_ONBOARDING_URL="https://link.metamask.io/onboarding?sig_params=type&type=google&sig=S5CFw2lW6WfLMA9ksQyqKoGNevtCHoSxqbTc4uuc8UpG4qrkLfZnUT31_dK5KWVmalm_j0RBCsJElzg_9XnB4A",n.APPLE_ONBOARDING_URL="https://link.metamask.io/onboarding?existing=true&sig_params=existing%2Ctype&type=apple&sig=XnjGKreBsg7pEP-P9NYKmJ1lNYr_GQcfT8kUMF70B9s9tG9X9vCzZ6ghLZWFqGxlmztCYQraRhOgSj7TKQrlpw",n.SRP_ONBOARDING_URL="https://link.metamask.io/onboarding?sig_params=type&type=srp&sig=nwtLGtTMWX8DFUBZaFtqONyo2gp2pglsaymliHaf5UJ4Z42H79N6d9gT-7lXq0Tk0ldaQjvKyiagABBX9eZ8bQ"}}},{package:"$root$",file:"ui/components/app/rewards/utils/constants.ts"}],[6062,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handleRewardsErrorMessage=void 0;n.handleRewardsErrorMessage=(e,t)=>{var n;if("object"!=typeof e||null===e)return t("rewardsErrorMessagesSomethingWentWrong");const a=e,r=(null==a||null===(n=a.data)||void 0===n?void 0:n.message)??(null==a?void 0:a.message);return r?r.includes("already registered")?t("rewardsErrorMessagesAccountAlreadyRegistered"):r.includes("rejected the request")?t("rewardsErrorMessagesRequestRejected"):r.includes("Failed to claim reward")?t("rewardsErrorMessagesFailedToClaimReward"):r.includes("not available")||r.includes("Network request failed")?t("rewardsErrorMessagesServiceNotAvailable"):r:t("rewardsErrorMessagesSomethingWentWrong")}}}},{package:"$root$",file:"ui/components/app/rewards/utils/handleRewardsErrorMessage.ts"}],[6063,{"./shield-entry-modal":6064},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./shield-entry-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/shield-entry-modal/index.ts"}],[6064,{"../../../../shared/constants/preferences":5622,"../../../../shared/constants/subscriptions":5632,"../../../../shared/modules/shield":5757,"../../../helpers/constants/common":6897,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/shield/metrics/useSubscriptionMetrics":7011,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"../../component-library":6325,"./shield-illustration-animation":6065,"@metamask/design-system-react":1741,"@metamask/subscription-controller":2806,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),s=e("@metamask/subscription-controller"),l=e("@metamask/design-system-react"),c=e("../../../hooks/useI18nContext"),u=e("../../component-library"),d=e("../../../store/actions"),p=e("../../../helpers/constants/routes"),f=e("../../../selectors"),m=e("../../../hooks/shield/metrics/useSubscriptionMetrics"),h=e("../../../../shared/constants/subscriptions"),g=e("../../../helpers/constants/design-system"),y=e("../../../helpers/constants/common"),b=e("../../../../shared/constants/preferences"),v=e("../../../../shared/modules/shield"),x=(a=e("./shield-illustration-animation"))&&a.__esModule?a:{default:a};function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=({skipEventSubmission:e=!1,onClose:t})=>{const n=(0,c.useI18nContext)(),a=(0,o.useDispatch)(),_=(0,i.useNavigate)(),{pathname:w,search:k}=(0,i.useLocation)(),{captureShieldEntryModalEvent:E,captureShieldCtaClickedEvent:T}=(0,m.useSubscriptionMetrics)(),M=(0,o.useSelector)(f.getShouldSubmitEventsForShieldEntryModal),C=(0,o.useSelector)(f.getModalTypeForShieldEntryModal),O=(0,o.useSelector)(f.getShieldEntryModalTriggeringCohort),S=(0,r.useCallback)(()=>{const e=(0,v.getShieldMarketingUtmParamsForMetrics)(k);return Object.keys(e).length>0?h.EntryModalSourceEnum.Marketing:O===s.COHORT_NAMES.POST_TX?h.EntryModalSourceEnum.PostTransaction:O===s.COHORT_NAMES.WALLET_HOME?h.EntryModalSourceEnum.Homepage:w.startsWith(p.SETTINGS_ROUTE)?h.EntryModalSourceEnum.Settings:h.EntryModalSourceEnum.Homepage},[O,w,k]),I=(n=h.ShieldCtaActionClickedEnum.Dismiss)=>{const r=S(),o=(0,v.getShieldMarketingUtmParamsForMetrics)(k);E({source:r,type:C,modalCtaActionClicked:n,marketingUtmParams:o}),n===h.ShieldCtaActionClickedEnum.Dismiss&&T({source:h.ShieldCtaSourceEnum.Homepage,ctaActionClicked:h.ShieldCtaActionClickedEnum.Dismiss,marketingUtmParams:o}),e?null==t||t():(M&&a((0,d.submitSubscriptionUserEvents)({event:s.SubscriptionUserEvent.ShieldEntryModalViewed,cohort:O})),a((0,d.setShowShieldEntryModalOnce)({show:!1,hasUserInteractedWithModal:!0})))};return r.default.createElement(u.Modal,{"data-testid":"shield-entry-modal",isOpen:!0,autoFocus:!1,isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1,onClose:()=>I(),className:"shield-entry-modal","data-theme":b.ThemeType.dark},r.default.createElement(u.ModalOverlay,null),r.default.createElement(u.ModalContent,{modalDialogProps:{className:"shield-entry-modal__dialog"},className:"shield-entry-modal__content"},r.default.createElement(u.ModalHeader,{onClose:()=>I(),closeButtonProps:{"data-testid":"shield-entry-modal-close-button",className:"absolute top-2 right-2"}}),r.default.createElement(u.ModalBody,{display:g.Display.Flex,alignItems:g.AlignItems.center,flexDirection:g.FlexDirection.Column,paddingTop:4,height:g.BlockSize.Full},r.default.createElement(l.Text,{fontFamily:l.FontFamily.Hero,fontWeight:l.FontWeight.Regular,className:"shield-entry-modal__title text-center text-accent04-light mb-3"},C===s.MODAL_TYPE.A?n("shieldEntryModalTitleA"):n("shieldEntryModalTitleB")),r.default.createElement(l.Text,{variant:l.TextVariant.BodyMd,fontWeight:l.FontWeight.Medium,className:"text-center text-accent04-light"},C===s.MODAL_TYPE.A?n("shieldEntryModalSubtitleA",["$10,000"]):n("shieldEntryModalSubtitleB",["$10,000"])),r.default.createElement(l.Box,{className:"flex-1 flex items-center justify-center"},r.default.createElement(x.default,{containerClassName:"shield-entry-modal-shield-illustration__container",canvasClassName:"shield-entry-modal-shield-illustration__canvas"}))),r.default.createElement(u.ModalFooter,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,paddingTop:0,className:"shield-entry-modal__footer"},r.default.createElement(l.Button,{"data-testid":"shield-entry-modal-get-started-button",size:l.ButtonSize.Lg,onClick:()=>{const e=S(),t=(0,v.getShieldMarketingUtmParamsForMetrics)(k);T({source:e,ctaActionClicked:h.ShieldCtaActionClickedEnum.Start14DayTrial,redirectToPage:p.SHIELD_PLAN_ROUTE,marketingUtmParams:t}),I(h.ShieldCtaActionClickedEnum.Start14DayTrial),_({pathname:p.SHIELD_PLAN_ROUTE,search:Object.keys(t).length>0?`?${new URLSearchParams(t).toString()}`:`?source=${e}`})},className:"w-full mb-2"},n("shieldEntryModalGetStarted")),r.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,className:"w-full mb-2",size:l.ButtonSize.Lg,onClick:()=>{const e=(0,v.getShieldMarketingUtmParamsForMetrics)(k);T({source:h.ShieldCtaSourceEnum.Homepage,ctaActionClicked:h.ShieldCtaActionClickedEnum.LearnMore,redirectToUrl:y.TRANSACTION_SHIELD_LINK,marketingUtmParams:e}),window.open(y.TRANSACTION_SHIELD_LINK,"_blank","noopener,noreferrer")}},n("learnMoreUpperCase")))))}}}},{package:"$root$",file:"ui/components/app/shield-entry-modal/shield-entry-modal.tsx"}],[6065,{"../../../contexts/rive-wasm":6857,"@metamask/design-system-react":1741,"@rive-app/react-canvas":2992,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),o=e("@metamask/design-system-react"),i=e("../../../contexts/rive-wasm");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}n.default=({containerClassName:e,canvasClassName:t})=>{const n=Boolean(!1),s=(0,i.useRiveWasmContext)(),{isWasmReady:l,error:c}=s,{buffer:u,error:d,loading:p}=(0,i.useRiveWasmFile)("./images/riv_animations/shield_illustration.riv");(0,a.useEffect)(()=>{c&&console.error("[Rive] Failed to load WASM:",c),d&&console.error("[Rive] Failed to load buffer:",d)},[c,d]);const{riveFile:f,status:m}=(0,r.useRiveFile)({buffer:u}),{rive:h,RiveComponent:g}=(0,r.useRive)({riveFile:f??undefined,stateMachines:f?"Shield_Illustration":undefined,autoplay:!1,layout:new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center})});return(0,a.useEffect)(()=>{if(h&&l&&!p&&u){const e=h.stateMachineInputs("Shield_Illustration");if(e){const t=e.find(e=>"Start"===e.name);t&&t.fire(),h.play()}}return()=>{h&&h.stop()}},[h,l,p,u]),!l||p||!u||"loading"===m||n||"failed"===m?a.default.createElement(o.Box,{className:e}):a.default.createElement(o.Box,{className:e},a.default.createElement(g,{className:t}))}}}},{package:"$root$",file:"ui/components/app/shield-entry-modal/shield-illustration-animation.tsx"}],[6066,{"../../../../../shared/constants/time":5635,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useCopyToClipboard":7033,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useTimeout":7077,"../../../component-library":6325,"../../../ui/tooltip":6835,"../show-more":6072,classnames:3913,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=m(e("classnames")),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useCopyToClipboard"),l=e("../../../component-library"),c=e("../../../../hooks/useI18nContext"),u=m(e("../../../ui/tooltip")),d=e("../show-more"),p=e("../../../../../shared/constants/time"),f=e("../../../../hooks/useTimeout");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({text:e,sensitive:t=!1,marginTop:n,marginBottom:r})=>{const m=(0,c.useI18nContext)(),[,h]=(0,s.useCopyToClipboard)(),[g,y]=(0,a.useState)(!t),[b,v]=(0,a.useState)(!1),x=(0,f.useTimeout)(()=>v(!1),3*p.SECOND,!1),_=e=>{e.stopPropagation(),y(e=>!e)};return a.default.createElement(l.Box,{display:i.Display.Flex,onClick:t&&!g?_:t=>{t.stopPropagation(),h(e),v(!0),x()},className:(0,o.default)("copyable",{sensitive:t,clicked:b,visible:g}),backgroundColor:g&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.primaryMuted,borderRadius:i.BorderRadius.LG,padding:2,marginTop:n,marginBottom:r},t&&a.default.createElement(l.Box,{marginRight:2,className:"copyable__icon"},a.default.createElement(u.default,{wrapperClassName:"copyable__tooltip",html:a.default.createElement(l.Text,null,m(g?"hideSentitiveInfo":"doNotShare")),position:"bottom"},a.default.createElement(l.Icon,{name:g?l.IconName.EyeSlash:l.IconName.Eye,onClick:_,color:g&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,"data-testid":"reveal-icon"}))),t&&!g&&a.default.createElement(l.Text,{color:i.Color.textAlternative,marginRight:2,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},m("revealSensitiveContent")),g&&a.default.createElement(d.ShowMore,{marginRight:2,buttonBackground:g&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundAlternative},a.default.createElement(l.Text,{color:g&&t?i.Color.errorAlternative:i.TextColor.textAlternative,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},e)),g&&a.default.createElement(l.Icon,{className:"copyable__icon",name:b?l.IconName.CopySuccess:l.IconName.Copy,color:g&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,marginLeft:"auto","data-testid":"copy-icon"}))};n.Copyable=g,g.propTypes={text:r.default.string,sensitive:r.default.bool,marginTop:r.default.number,marginBottom:r.default.number}}}},{package:"$root$",file:"ui/components/app/snaps/copyable/copyable.js"}],[6067,{"./copyable":6066},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Copyable",{enumerable:!0,get:function(){return a.Copyable}});var a=e("./copyable")}}},{package:"$root$",file:"ui/components/app/snaps/copyable/index.js"}],[6068,{"../../../../helpers/constants/design-system":6899,"../../../component-library":6325,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}const l=({title:e,error:t,description:n,iconName:r})=>a.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,height:o.BlockSize.Full,padding:2},r&&a.default.createElement(i.AvatarIcon,{iconName:r,size:i.AvatarIconSize.Xl,color:o.IconColor.errorDefault,backgroundColor:o.BackgroundColor.errorMuted,marginBottom:4}),a.default.createElement(i.Text,{variant:o.TextVariant.headingLg},e),n&&a.default.createElement(i.Text,{textAlign:o.TextAlign.Center},n),t&&a.default.createElement(i.BannerAlert,{marginTop:4,startAccessory:null,severity:o.Severity.Danger},a.default.createElement(i.Text,{variant:o.TextVariant.bodySm},t)));l.propTypes={title:r.default.node.isRequired,error:r.default.string,description:r.default.string,iconName:r.default.string};n.default=l}}},{package:"$root$",file:"ui/components/app/snaps/install-error/install-error.js"}],[6069,{"./keyring-snap-removal-warning":6071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./keyring-snap-removal-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/index.ts"}],[6070,{"../../../../../shared/modules/hexstring-utils":5741,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountListItem=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../../shared/modules/hexstring-utils"),l=e("../../../../hooks/useI18nContext");n.KeyringAccountListItem=({account:e,snapUrl:t})=>{const n=(0,l.useI18nContext)();return r.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,borderRadius:i.BorderRadius.MD,borderColor:i.BorderColor.borderDefault,padding:3,width:i.BlockSize.Full,"data-testid":"keyring-account-list-item"},r.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.TenTwelfths},r.default.createElement(o.Box,{flexDirection:i.FlexDirection.Column,marginBottom:2},r.default.createElement(o.Text,{color:i.TextColor.textMuted},n("keyringAccountName")),r.default.createElement(o.Text,null,e.name)),r.default.createElement(o.Box,{flexDirection:i.FlexDirection.Column},r.default.createElement(o.Text,{color:i.TextColor.textMuted},n("keyringAccountPublicAddress")),r.default.createElement(o.Text,{overflowWrap:i.OverflowWrap.Anywhere},(0,s.toChecksumHexAddress)(e.address)))),r.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center},r.default.createElement(o.ButtonIcon,{ariaLabel:"snap-url-export","data-testid":"keyring-account-link",iconName:o.IconName.Export,color:i.IconColor.primaryDefault,onClick:()=>{global.platform.openTab({url:t})}})))}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-account-list-item.tsx"}],[6071,{"../../../../../shared/modules/selectors/networks":5753,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../ui/info-tooltip":6772,"./keyring-account-list-item":6070,"@metamask/etherscan-link":1994,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({snap:e,keyringAccounts:t,onCancel:n,onClose:a,onSubmit:f,onBack:m,isOpen:h}){const g=(0,c.useI18nContext)(),[y,b]=(0,r.useState)(!1),[v,x]=(0,r.useState)(!1),[_,w]=(0,r.useState)(""),[k,E]=(0,r.useState)(!1),T=(0,i.useSelector)(d.getCurrentChainId);(0,r.useEffect)(()=>{b(0===t.length)},[t]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Modal,{isOpen:h,onClose:a},r.default.createElement(s.ModalOverlay,null),r.default.createElement(s.ModalContent,{modalDialogProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4}},r.default.createElement(s.ModalHeader,{onBack:()=>{y?b(!1):m()},onClose:()=>{b(!1),a()}},g("removeSnap")),r.default.createElement(s.ModalBody,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},r.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Warning},g("backupKeyringSnapReminder")),!1===y?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween},r.default.createElement(s.Text,null,g("removeKeyringSnap")),r.default.createElement(u.default,{contentText:g("removeKeyringSnapToolTip"),position:"top"})),t.map((e,t)=>r.default.createElement(p.KeyringAccountListItem,{key:t,account:e,snapUrl:(0,o.getAccountLink)(e.address,T)}))):r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Text,null,g("keyringSnapRemoveConfirmation",[r.default.createElement(s.Text,{key:"keyringSnapRemoveConfirmation2",fontWeight:l.FontWeight.Bold,as:"span"},e.manifest.proposedName)])),r.default.createElement(s.TextField,{value:_,onChange:t=>{var n;w(t.target.value),x((n=t.target.value,E(!1),n===e.manifest.proposedName||(E(!0),!1)))},onPaste:e=>{e.preventDefault()},error:k,inputProps:{"data-testid":"remove-snap-confirmation-input"}}))),r.default.createElement(s.ModalFooter,{onCancel:n,onSubmit:async()=>{y?v&&f():b(!0)},submitButtonProps:{id:"popoverRemoveSnapButton",danger:y,disabled:y&&!v,children:g(y?"removeSnap":"continue")},cancelButtonProps:{variant:s.ButtonVariant.Secondary,children:g("cancel")}}))))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/etherscan-link"),i=e("react-redux"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=(a=e("../../../ui/info-tooltip"))&&a.__esModule?a:{default:a},d=e("../../../../../shared/modules/selectors/networks"),p=e("./keyring-account-list-item");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-snap-removal-warning.tsx"}],[6072,{"./show-more":6073},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ShowMore",{enumerable:!0,get:function(){return a.ShowMore}});var a=e("./show-more")}}},{package:"$root$",file:"ui/components/app/snaps/show-more/index.js"}],[6073,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/snaps/useIsOverflowing":7016,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,classnames:3913,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ShowMore=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=u(e("classnames")),i=u(e("../../../../hooks/snaps/useIsOverflowing")),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(null,arguments)}const f=({children:e,className:t="",...n})=>{const r=(0,c.useI18nContext)(),{contentRef:u,isOverflowing:d}=(0,i.default)(),[f,m]=(0,a.useState)(!1),h=d&&!f;return a.default.createElement(s.Box,p({className:(0,o.default)("show-more",t),style:{position:"relative",overflow:"hidden",maxHeight:f?"none":undefined},ref:u},n),e,h&&a.default.createElement(s.Box,{style:{position:"absolute",bottom:0,right:0,background:`linear-gradient(90deg, transparent 0%, var(--color-${l.BackgroundColor.backgroundAlternative}) 33%)`}},a.default.createElement(s.Button,{className:"show-more__button",padding:0,paddingLeft:8,variant:s.ButtonVariant.Link,onClick:e=>{e.stopPropagation(),m(!0)}},a.default.createElement(s.Text,{color:l.TextColor.infoDefault},r("more")))))};n.ShowMore=f,f.propTypes={children:r.default.node,buttonBackground:r.default.string,className:r.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/show-more/show-more.js"}],[6074,{"./snap-authorship-expanded":6075},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-authorship-expanded"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/index.js"}],[6075,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../../hooks/snaps/useSafeWebsite":7017,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useOriginMetadata":7065,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../component-library":6325,"../../../ui/toggle-button":6831,"../../../ui/tooltip/tooltip":6836,"../snap-version/snap-external-pill":6192,"@metamask/snaps-utils":2781,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/snaps-utils"),r=v(e("classnames")),o=v(e("prop-types")),i=v(e("react")),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../hooks/useOriginMetadata"),p=e("../../../../selectors"),f=e("../../../../store/actions"),m=e("../../../component-library"),h=v(e("../../../ui/toggle-button")),g=v(e("../../../ui/tooltip/tooltip")),y=v(e("../snap-version/snap-external-pill")),b=e("../../../../hooks/snaps/useSafeWebsite");function v(e){return e&&e.__esModule?e:{default:e}}const x=({snapId:e,className:t,snap:n})=>{const o=(0,u.useI18nContext)(),v=(0,s.useDispatch)(),x=e&&(0,a.getSnapPrefix)(e),_=e&&(0,a.stripSnapPrefix)(e),w="npm:"===x,k=null!=n&&n.version?`/v/${null==n?void 0:n.version}`:"",E=w?`https://www.npmjs.com/package/${_}${k}`:_,T=(0,s.useSelector)(t=>(0,p.getSnapRegistryData)(t,e)),{website:M=undefined}=(null==T?void 0:T.metadata)??{},C=(0,b.useSafeWebsite)(M),O=(null==n?void 0:n.versionHistory)??[],S=O.length?O[O.length-1]:undefined,I=(0,d.useOriginMetadata)(null==S?void 0:S.origin);return i.default.createElement(m.Box,{className:(0,r.default)("snaps-authorship-expanded",t),backgroundColor:l.BackgroundColor.backgroundDefault,borderColor:l.BorderColor.borderDefault,borderWidth:1,width:l.BlockSize.Full,borderRadius:l.BorderRadius.LG},i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,paddingLeft:4,paddingTop:4,paddingBottom:4,borderColor:l.BorderColor.borderDefault,width:l.BlockSize.Full,style:{borderLeft:l.BorderStyle.none,borderRight:l.BorderStyle.none,borderTop:l.BorderStyle.none}},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("enabled")),i.default.createElement(m.Box,{style:{maxWidth:"52px"}},i.default.createElement(g.default,{interactive:!0,position:"left",html:o("snapsToggle")},i.default.createElement(h.default,{value:null==n?void 0:n.enabled,onToggle:()=>{null!=n&&n.enabled?v((0,f.disableSnap)(null==n?void 0:n.id)):v((0,f.enableSnap)(null==n?void 0:n.id))}})))),i.default.createElement(m.Box,{padding:4,width:l.BlockSize.Full},C&&i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,marginBottom:4},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("snapDetailWebsite")),i.default.createElement(m.Box,{paddingLeft:8,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexEnd},i.default.createElement(m.ButtonLink,{href:C.toString(),target:"_blank",overflowWrap:l.OverflowWrap.Anywhere},C.host))),I&&S&&i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("installOrigin")),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexEnd},i.default.createElement(m.Text,{textAlign:l.TextAlign.End},I.host),i.default.createElement(m.Text,{color:l.Color.textMuted},o("installedOn",[(0,c.formatDate)(S.date,"dd MMM yyyy")])))),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,marginTop:4},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("version")),i.default.createElement(y.default,{value:null==n?void 0:n.version,url:E}))))};x.propTypes={snapId:o.default.string,className:o.default.string,snap:o.default.object};n.default=x}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/snap-authorship-expanded.js"}],[6076,{"./snap-authorship-header":6077},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-authorship-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/index.js"}],[6077,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../component-library":6325,"../snap-icon":6087,"../snap-metadata-modal":6095,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=f(e("classnames")),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../selectors"),c=e("../../../component-library"),u=e("../snap-metadata-modal"),d=e("../../../../hooks/useI18nContext"),p=e("../snap-icon");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=({snapId:e,className:t,boxShadow:n="var(--shadow-size-md) var(--color-shadow-default)",showInfo:r=!0,startAccessory:f,endAccessory:m,onCancel:h})=>{const g=(0,d.useI18nContext)(),[y,b]=(0,a.useState)(!1),{name:v,hidden:x}=(0,i.useSelector)(t=>(0,l.getSnapMetadata)(t,e));return a.default.createElement(c.Box,{className:(0,o.default)("snaps-authorship-header",t),backgroundColor:s.BackgroundColor.backgroundDefault,width:s.BlockSize.Full,alignItems:s.AlignItems.center,display:s.Display.Flex,padding:4,style:{boxShadow:n,minHeight:"64px",zIndex:1}},e&&a.default.createElement(u.SnapMetadataModal,{snapId:e,isOpen:y,onClose:()=>b(!1)}),h&&a.default.createElement(c.ButtonIcon,{iconName:c.IconName.Close,ariaLabel:g("close"),size:c.ButtonIconSize.Md,onClick:h,color:s.IconColor.iconDefault}),f&&f,a.default.createElement(c.Box,{marginLeft:4,marginRight:4,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,style:{overflow:"hidden"},width:s.BlockSize.Full},a.default.createElement(c.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,style:{overflow:"hidden"}},a.default.createElement(p.SnapIcon,{snapId:e,avatarSize:c.IconSize.Sm}),a.default.createElement(c.Text,{color:s.TextColor.textDefault,variant:s.TextVariant.bodyMdMedium,marginLeft:2,title:v,ellipsis:!0},v))),r&&!x&&a.default.createElement(c.Box,{marginLeft:"auto"},a.default.createElement(c.AvatarIcon,{className:"snaps-authorship-header__button",iconName:c.IconName.Info,onClick:()=>b(!0),color:s.IconColor.iconDefault,backgroundColor:s.BackgroundColor.backgroundAlternative})),m&&m)};h.propTypes={snapId:r.default.string,className:r.default.string,boxShadow:r.default.string,showInfo:r.default.bool,startAccessory:r.default.element,endAccessory:r.default.element,onCancel:r.default.func};n.default=h}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/snap-authorship-header.js"}],[6078,{"./snap-authorship-pill":6079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-authorship-pill"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-pill/index.ts"}],[6079,{"../../../../helpers/constants/design-system":6899,"../../../../selectors":7886,"../../../component-library":6325,"../snap-icon":6087,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("../../../component-library"),s=e("../snap-icon"),l=e("../../../../selectors"),c=e("../../../../helpers/constants/design-system");n.default=({snapId:e,onClick:t})=>{const{name:n}=(0,o.useSelector)(t=>(0,l.getSnapMetadata)(t,e));return r.default.createElement(i.Box,{className:"snap-authorship-pill",display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,borderRadius:c.BorderRadius.pill,paddingTop:1,paddingBottom:1,paddingLeft:1,paddingRight:2,onClick:t},r.default.createElement(s.SnapIcon,{avatarSize:i.IconSize.Sm,snapId:e}),r.default.createElement(i.Text,{color:c.TextColor.primaryDefault,variant:c.TextVariant.bodyMdMedium,ellipsis:!0,paddingLeft:1},n))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-pill/snap-authorship-pill.tsx"}],[6080,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../component-library":6325,"../../../ui/tooltip/tooltip":6836,"../snap-icon":6087,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=p(e("../../../ui/tooltip/tooltip")),c=e("../../../../hooks/useI18nContext"),u=e("../../../../selectors"),d=e("../snap-icon");function p(e){return e&&e.__esModule?e:{default:e}}function f({origin:e,snapId:t}){const n=(0,c.useI18nContext)(),{name:r}=(0,o.useSelector)(e=>(0,u.getSnapMetadata)(e,t));return a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingTop:2,paddingBottom:2},a.default.createElement(d.SnapIcon,{snapId:t}),a.default.createElement(s.Box,{width:"full",paddingLeft:4,paddingRight:4},a.default.createElement(s.Text,null,n("connectSnap",[a.default.createElement(s.Text,{variant:i.TextVariant.inherit,key:"1",fontWeight:i.FontWeight.Bold},r)]))),a.default.createElement(s.Box,null,a.default.createElement(l.default,{html:a.default.createElement("div",null,n("snapConnectionWarning",[a.default.createElement("b",{key:"0"},e),a.default.createElement("b",{key:"1"},r)])),position:"bottom"},a.default.createElement(s.Icon,{color:i.IconColor.iconMuted,name:s.IconName.Info,size:s.IconSize.Sm}))))}f.propTypes={origin:r.default.string.isRequired,snapId:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-connect-cell/snap-connect-cell.js"}],[6081,{"./snap-delineator":6082},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapDelineator",{enumerable:!0,get:function(){return a.SnapDelineator}});var a=e("./snap-delineator")}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/index.js"}],[6082,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/snaps":6907,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../ui/pulse-loader/pulse-loader":6807,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapDelineator=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../helpers/constants/snaps"),c=u(e("../../../ui/pulse-loader/pulse-loader"));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}const p=({snapName:e,type:t=l.DelineatorType.default,isLoading:n=!1,isCollapsable:r=!1,isCollapsed:u=!1,children:p,onClick:f,boxProps:m,disablePadding:h=!1})=>{const g=(0,o.useI18nContext)(),y=t===l.DelineatorType.Error||t===l.DelineatorType.Warning;return a.default.createElement(s.Box,d({className:"snap-delineator__wrapper",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,borderStyle:i.BorderStyle.solid,borderColor:i.BorderColor.borderDefault,borderRadius:i.BorderRadius.LG,backgroundColor:y?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundDefault},m,{style:{minHeight:n&&"180px",...null==m?void 0:m.style}}),a.default.createElement(s.Box,{className:"snap-delineator__header",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,padding:1,style:{borderBottomWidth:u?0:1}},a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,className:"snap-delineator__header__container"},a.default.createElement(s.AvatarIcon,{iconName:s.IconName.Snaps,className:"snap-delineator__header__icon",size:s.AvatarIconSize.Xs,backgroundColor:y?i.IconColor.errorDefault:i.IconColor.infoDefault,iconProps:{color:i.IconColor.infoInverse}}),a.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textDefault,className:"snap-delineator__header__text",marginLeft:1,marginTop:0,marginBottom:0,marginRight:1,display:"block"},g((0,l.getDelineatorTitle)(t),[e]))),r&&a.default.createElement(s.Icon,{name:u?s.IconName.ArrowDown:s.IconName.ArrowUp,size:s.IconSize.Sm,color:i.IconColor.iconMuted,className:"snap-delineator__expansion-icon",onClick:f})),a.default.createElement(s.Box,{className:"snap-delineator__content",padding:!h||n?4:0,display:r&&u?i.Display.None:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:n&&i.AlignItems.center,justifyContent:n&&i.JustifyContent.center,style:{flexGrow:n&&"1"}},n?a.default.createElement(c.default,null):p))};n.SnapDelineator=p,p.propTypes={snapName:r.default.string,type:r.default.string,isCollapsable:r.default.bool,isCollapsed:r.default.bool,isLoading:r.default.bool,onClick:r.default.func,boxProps:r.default.object,children:r.default.node,disablePadding:r.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/snap-delineator.js"}],[6083,{"./snap-home-menu":6084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-home-menu"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-menu/index.js"}],[6084,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../snap-metadata-modal":6095,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../snap-metadata-modal");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({snapId:e,isSettingsAvailable:t,onSettingsClick:n,onRemoveClick:a}){const o=(0,i.useI18nContext)(),[u,d]=(0,r.useState)(),[p,f]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),g=e=>{switch(e){case"settings":n();break;case"details":h(!0);break;case"remove":a()}f(!1)},y=()=>{f(!1)};return r.default.createElement(r.default.Fragment,null,m&&r.default.createElement(c.SnapMetadataModal,{snapId:e,isOpen:m,onClose:()=>h(!1)}),r.default.createElement(s.Box,{display:l.Display.Flex},r.default.createElement(s.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},r.default.createElement(s.ButtonIcon,{iconName:s.IconName.MoreVertical,"data-testid":"snap-home-menu-button",ariaLabel:o("snapHomeMenu"),onClick:()=>{f(!p)},size:s.ButtonIconSize.Md,ref:e=>{d(e)}})),r.default.createElement(s.Popover,{referenceElement:u,isOpen:p,position:s.PopoverPosition.BottomEnd,role:s.PopoverRole.Dialog,preventOverflow:!0,padding:0,offset:[-12,-2],onClickOutside:y,onPressEscKey:y,style:{zIndex:1}},r.default.createElement(s.Box,{display:l.Display.Flex,padding:1,flexDirection:l.FlexDirection.Column,className:"snap-home-menu"},t&&r.default.createElement(s.Box,{className:"snap-home-menu__item"},r.default.createElement(s.Text,{onClick:()=>g("settings"),variant:l.TextVariant.bodyMd,padding:[1,1,2,2]},o("settings"))),r.default.createElement(s.Box,{className:"snap-home-menu__item"},r.default.createElement(s.Text,{onClick:()=>g("details"),variant:l.TextVariant.bodyMd,padding:[1,1,2,2]},o("details"))),r.default.createElement(s.Box,{className:"snap-home-menu__item"},r.default.createElement(s.Text,{onClick:()=>g("remove"),variant:l.TextVariant.bodyMd,color:l.TextColor.errorDefault,padding:[1,1,2,2]},o("remove")))))))}d.propTypes={snapId:o.default.string.isRequired,isSettingsAvailable:o.default.bool.isRequired,onSettingsClick:o.default.func.isRequired,onRemoveClick:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-menu/snap-home-menu.js"}],[6085,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../helpers/constants/snaps":6907,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../component-library":6325,"../copyable":6067,"../snap-delineator":6081,"../snap-ui-renderer":6183,"./useSnapHome":6086,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapHomeRenderer=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("react-router-dom-v5-compat"),s=e("react-redux"),l=e("../../../component-library"),c=e("../snap-ui-renderer"),u=e("../../../../selectors"),d=e("../snap-delineator"),p=e("../../../../helpers/constants/snaps"),f=e("../../../../helpers/constants/design-system"),m=e("../copyable"),h=e("../../../../hooks/useI18nContext"),g=e("../../../../store/actions"),y=e("../../../../helpers/constants/routes"),b=e("./useSnapHome");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const x=({snapId:e})=>{const t=(0,s.useDispatch)(),n=(0,h.useI18nContext)(),{name:a}=(0,s.useSelector)(t=>(0,u.getSnapMetadata)(t,e)),o=(0,s.useSelector)(u.getMemoizedUnapprovedTemplatedConfirmations),v=(0,s.useSelector)(u.getMemoizedUnapprovedConfirmations),x=(0,i.useNavigate)(),{data:_,error:w,loading:k}=(0,b.useSnapHome)({snapId:e}),E=k||w?undefined:null==_?void 0:_.id;return(0,r.useEffect)(()=>()=>E&&t((0,g.deleteInterface)(E)),[E]),(0,r.useEffect)(()=>{const t=o.find(t=>t.origin===e),n=v.find(t=>t.origin===e);t?x(`${y.CONFIRMATION_V_NEXT_ROUTE}/${t.id}`):n&&x(`${y.CONFIRM_TRANSACTION_ROUTE}/${n.id}`)},[o,v,x]),w?r.default.createElement(l.Box,{height:f.BlockSize.Full,width:f.BlockSize.Full,backgroundColor:f.BackgroundColor.backgroundAlternative,style:{overflowY:"auto"}},r.default.createElement(l.Box,{height:f.BlockSize.Full,padding:4},r.default.createElement(d.SnapDelineator,{snapName:a,type:p.DelineatorType.Error},r.default.createElement(l.Text,{variant:f.TextVariant.bodySm,marginBottom:4},n("snapsUIError",[r.default.createElement("b",{key:"0"},a)])),r.default.createElement(m.Copyable,{text:w.message})))):r.default.createElement(c.SnapUIRenderer,{snapId:e,interfaceId:E,isLoading:k,useFooter:!0})};n.SnapHomeRenderer=x,x.propTypes={snapId:o.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-page/snap-home-renderer.js"}],[6086,{"../../../../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapHome=function({snapId:e}){const t=(0,r.useDispatch)(),[n,i]=(0,a.useState)(!0),[s,l]=(0,a.useState)(undefined),[c,u]=(0,a.useState)(undefined);return(0,a.useEffect)(()=>{let n=!1;return async function(){try{u(undefined),i(!0);const a=await(0,o.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onHomePage",request:{jsonrpc:"2.0",method:" "}});n||(l(a),(0,o.forceUpdateMetamaskState)(t))}catch(e){n||u(e)}finally{n||i(!1)}}(),()=>n=!0},[e]),{data:s,error:c,loading:n}};var a=e("react"),r=e("react-redux"),o=e("../../../../store/actions")}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-page/useSnapHome.js"}],[6087,{"./snap-icon":6088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-icon");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-icon/index.ts"}],[6088,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../../selectors":7886,"../../../component-library":6325,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapIcon=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("../../../../selectors"),s=e("../../../../helpers/utils/util"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}n.SnapIcon=({snapId:e,avatarSize:t=l.IconSize.Lg,...n})=>{const a=(0,o.useSelector)(t=>(0,i.getTargetSubjectMetadata)(t,e)),{name:d}=(0,o.useSelector)(t=>(0,i.getSnapMetadata)(t,e)),p=null==a?void 0:a.iconUrl,f=(0,s.getAvatarFallbackLetter)(d);return p?r.default.createElement(l.AvatarFavicon,u({style:{backgroundColor:"var(--color-background-alternative-hover)"},src:p,name:d},n,{size:t})):r.default.createElement(l.AvatarBase,u({display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,color:c.TextColor.textAlternative,style:{borderWidth:"0px",backgroundColor:"var(--color-background-alternative-hover)"}},n,{size:t}),f)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-icon/snap-icon.tsx"}],[6089,{"./snap-install-warning":6090},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-install-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/index.js"}],[609,{"./assertThisInitialized.js":591,"./typeof.js":616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("./typeof.js").default,r=e("./assertThisInitialized.js");t.exports=function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},t.exports.__esModule=!0,t.exports.default=t.exports}}},{package:"@babel/runtime",file:"node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"}],[6090,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../permission-cell":6017,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=c(e("../../permission-cell"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({onCancel:e,onSubmit:t,warnings:n,snapName:r}){const c=(0,o.useI18nContext)(),[u,d]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!0);function m(e,t){const n=function(e){if(1===e.length)return[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,as:"span",key:"warningMessageSubject"},e[0].warningMessageSubject)];if(2===e.length){const t=e[0].warningMessageSubject,n=e[1].warningMessageSubject;return[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Normal,as:"span",key:"warningMessageSubject"},c("andForTwoItems",[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t}_and_first`},t),a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${n}_and_second`},n)]))]}return e.map((t,n)=>e.length-1===n?[]:e.length-2===n?[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Normal,as:"span",key:`${t.permissionName}_and_${n}`},c("andForListItems",[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t.permissionName}_and_first_${n}`},t.warningMessageSubject),a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t.permissionName}_and_second_first_${n}`},e[e.length-1].warningMessageSubject)]))]:[a.default.createElement("span",{key:`${t.permissionName}_${n}`},a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,as:"span"},t.warningMessageSubject,", "))])}(e);return a.default.createElement(s.Box,{as:"span",marginBottom:4},a.default.createElement(l.default,{permissionName:a.default.createElement(s.Text,null,c(t.name,[n])),title:a.default.createElement(s.Text,null,c(t.title,[n])),description:c(t.description,[a.default.createElement(s.Text,{color:i.TextColor.inherit,variant:i.TextVariant.inherit,fontWeight:i.FontWeight.Medium,key:"1"},r)]),weight:1,avatarIcon:s.IconName.Key,key:`snapInstallWarningPermissionCellKeyEntropy_${t.permissionName}`,hideStatus:!0,margin:0}))}const h={name:"snapInstallWarningPermissionNameForViewPublicKey",title:"snapInstallWarningPermissionNameForViewPublicKey",description:"snapInstallWarningPermissionDescriptionForBip32View"},g={name:"snapInstallWarningPermissionNameForEntropy",title:"snapInstallWarningPermissionNameForEntropy",description:"snapInstallWarningPermissionDescriptionForEntropy"},y=n.filter(e=>"snap_getBip32PublicKey"===e.permissionName),b=n.filter(e=>"snap_getBip32Entropy"===e.permissionName||"snap_getBip44Entropy"===e.permissionName);return a.default.createElement(s.Modal,{onClose:e,isOpen:p,className:"snap-install-warning"},a.default.createElement(s.ModalContent,null,a.default.createElement(s.ModalHeader,{onClose:e},a.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,marginBottom:4},a.default.createElement(s.AvatarIcon,{iconName:s.IconName.Danger,backgroundColor:i.BackgroundColor.warningMuted,color:i.IconColor.warningDefault,size:s.AvatarIconSize.Xl}))),a.default.createElement(s.ModalBody,null,a.default.createElement(s.Text,{paddingBottom:4,textAlign:i.TextAlign.Center,variant:i.TextVariant.headingMd,as:"h2"},c("snapInstallWarningHeading")),a.default.createElement(s.Text,{paddingBottom:4,textAlign:i.TextAlign.Left},c("snapInstallWarningCheck",[a.default.createElement(s.Text,{key:"snapNameInWarningDescription",fontWeight:i.FontWeight.Medium,as:"span"},r)])),b.length>0&&m(b,g),y.length>0&&m(y,h),a.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:4,padding:4,borderRadius:i.BorderRadius.SM,backgroundColor:u?i.BackgroundColor.infoMuted:i.BackgroundColor.backgroundAlternative},a.default.createElement(s.Checkbox,{isRequired:!0,onChange:()=>d(e=>!e),isChecked:u,label:a.default.createElement(s.Text,{as:"span"},"Install"," ",a.default.createElement(s.Text,{as:"span",fontWeight:i.FontWeight.Medium},r))}))),a.default.createElement(s.ModalFooter,{onSubmit:function(){f(!1),t()},submitButtonProps:{children:c("confirm"),disabled:!u,"data-testid":"snap-install-warning-modal-confirm"}})))}d.propTypes={onCancel:r.default.func,onSubmit:r.default.func,warnings:r.default.arrayOf({id:r.default.string,permissionName:r.default.string,warningMessageSubject:r.default.oneOfType([r.default.string,r.default.element])}),snapName:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/snap-install-warning.js"}],[6091,{"./snap-link-warning":6092},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-link-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-link-warning/index.js"}],[6092,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../component-library/modal-content/deprecated":6335,"../../../component-library/modal-header/deprecated":6344,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../component-library"),i=e("../../../component-library/modal-content/deprecated"),s=e("../../../component-library/modal-header/deprecated"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}const d=({url:e})=>{const t=new URL(e);if("https:"===t.protocol){const n=e.split(t.host);return a.default.createElement(a.default.Fragment,null,n[0],a.default.createElement("b",null,t.host),n[1])}const n=e.split(t.protocol);return a.default.createElement(a.default.Fragment,null,t.protocol,a.default.createElement("b",null,n[1]))};function p({isOpen:e,onClose:t,url:n}){const r=(0,c.useI18nContext)();return a.default.createElement(o.Modal,{isOpen:e,onClose:t},a.default.createElement(o.ModalOverlay,null),a.default.createElement(i.ModalContent,{modalDialogProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4}},a.default.createElement(s.ModalHeader,{onClose:t,childrenWrapperProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,gap:2}},a.default.createElement(o.Icon,{name:o.IconName.Danger,color:l.IconColor.warningDefault,size:o.AvatarIconSize.Xl}),a.default.createElement(o.Text,{variant:l.TextVariant.headingMd},r("leaveMetaMask")),a.default.createElement(o.Text,{textAlign:l.TextAlign.Center},r("leaveMetaMaskDesc"))),a.default.createElement(o.ButtonLink,{externalLink:!0,href:n,width:l.BlockSize.Full,textProps:{width:l.BlockSize.Full}},a.default.createElement(o.Box,{display:l.Display.Flex,FlexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundAlternative,borderColor:l.BorderColor.borderDefault,borderStyle:l.BorderStyle.solid,borderRadius:l.BorderRadius.MD,paddingTop:3,paddingBottom:3,paddingRight:4,paddingLeft:4,width:l.BlockSize.Full},a.default.createElement(o.Text,{ellipsis:!0,style:{overflow:"hidden"},color:l.TextColor.primaryDefault},a.default.createElement(d,{url:n})),a.default.createElement(o.Icon,{name:o.IconName.Export,color:l.IconColor.iconAlternative,marginLeft:2}))),a.default.createElement(o.Box,{width:l.BlockSize.Full,display:l.Display.Flex,gap:4},a.default.createElement(o.Button,{block:!0,variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Lg,onClick:t},r("back")),a.default.createElement(o.Button,{block:!0,size:o.ButtonSize.Lg,"data-testid":"modalSnapLinkButton",href:n,externalLink:!0,onClick:t},r("visitSite")))))}d.propTypes={url:r.default.string},p.propTypes={isOpen:r.default.bool,onClose:r.default.func,url:r.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-link-warning/snap-link-warning.js"}],[6093,{"./snap-list-item":6094},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-list-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-list-item/index.js"}],[6094,{"../../../../helpers/constants/design-system":6899,"../../../component-library":6325,"../snap-icon":6087,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=e("../snap-icon");function l(e){return e&&e.__esModule?e:{default:e}}const c=({name:e,packageName:t,onClick:n,snapId:r,showUpdateDot:l})=>a.default.createElement(i.Box,{className:"snap-list-item","data-testid":r,display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.spaceBetween,width:o.BlockSize.Full,padding:4,onClick:n},a.default.createElement(i.Box,{className:"snap-list-item__inner-wrapper",display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.flexStart,width:o.BlockSize.Full},a.default.createElement(i.Box,null,a.default.createElement(s.SnapIcon,{snapId:r})),a.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,width:o.BlockSize.Full,style:{overflow:"hidden"}},a.default.createElement(i.Text,{className:"snap-list-item__title",color:o.Color.textDefault,variant:o.TextVariant.bodyMd,ellipsis:!0},e),a.default.createElement(i.Text,{className:"snap-list-item__url",color:o.Color.textAlternative,variant:o.TextVariant.bodySm,ellipsis:!0},t))),l&&a.default.createElement(i.Box,{display:o.Display.Flex},a.default.createElement(i.Icon,{name:i.IconName.FullCircle,size:i.IconSize.Xs,color:o.IconColor.primaryDefault})));c.propTypes={name:r.default.string,packageName:r.default.string,onClick:r.default.func,snapId:r.default.string.isRequired,showUpdateDot:r.default.bool};n.default=c}}},{package:"$root$",file:"ui/components/app/snaps/snap-list-item/snap-list-item.js"}],[6095,{"./snap-metadata-modal":6096},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapMetadataModal",{enumerable:!0,get:function(){return a.SnapMetadataModal}});var a=e("./snap-metadata-modal")}}},{package:"$root$",file:"ui/components/app/snaps/snap-metadata-modal/index.js"}],[6096,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../../hooks/snaps/useSafeWebsite":7017,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useOriginMetadata":7065,"../../../../selectors":7886,"../../../component-library":6325,"../../../ui/tooltip":6835,"../show-more":6072,"../snap-icon":6087,"../snap-version/snap-external-pill":6192,"@metamask/snaps-utils":2781,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapMetadataModal=void 0;var a=b(e("react")),r=b(e("prop-types")),o=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../../../../selectors"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../helpers/utils/util"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../hooks/useOriginMetadata"),f=e("../show-more"),m=b(e("../snap-version/snap-external-pill")),h=e("../../../../hooks/snaps/useSafeWebsite"),g=b(e("../../../ui/tooltip")),y=e("../snap-icon");function b(e){return e&&e.__esModule?e:{default:e}}const v=({snapId:e,isOpen:t,onClose:n})=>{const r=(0,d.useI18nContext)(),b=(0,o.useSelector)(t=>(0,s.getTargetSubjectMetadata)(t,e)),{name:v,description:x}=(0,o.useSelector)(t=>(0,s.getSnapMetadata)(t,e)),_=(0,o.useSelector)(t=>(0,s.getSnap)(t,e)),w=(null==_?void 0:_.versionHistory)??[],k=w.length?w[w.length-1]:undefined,E=(0,p.useOriginMetadata)(null==k?void 0:k.origin),T=(0,i.isSnapId)(null==k?void 0:k.origin),M=(0,i.getSnapPrefix)(e),C=(0,i.stripSnapPrefix)(e),O="npm:"===M,S=null!=b&&b.version?`/v/${null==b?void 0:b.version}`:"",I=O?`https://www.npmjs.com/package/${C}${S}`:C,P=(0,o.useSelector)(t=>(0,s.getSnapRegistryData)(t,e)),{website:j=undefined}=(null==P?void 0:P.metadata)??{},N=(0,h.useSafeWebsite)(j);return a.default.createElement(l.Modal,{isOpen:t,onClose:n,className:"snap-metadata-modal"},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,{modalDialogProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column}},a.default.createElement(l.ModalHeader,{onClose:n,childrenWrapperProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,gap:2,marginBottom:6}},a.default.createElement(l.Box,null,a.default.createElement(y.SnapIcon,{snapId:e})),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,textAlign:c.TextAlign.Center},v)),a.default.createElement(l.Box,{marginLeft:4,marginRight:4},N&&a.default.createElement(l.Box,{display:c.Display.Flex,FlexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:4},r("snapDetailWebsite")),a.default.createElement(l.ButtonLink,{overflowWrap:c.OverflowWrap.Anywhere,href:N.toString(),target:"_blank",externalLink:!0,textAlign:c.TextAlign.End,ellipsis:!0},N.host)),E&&a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,marginRight:4},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:1},r("installOrigin")),k&&a.default.createElement(g.default,{html:r("installedOn",[(0,u.formatDate)(k.date,"dd MMM yyyy")]),position:"bottom"},a.default.createElement(l.Icon,{color:c.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))),a.default.createElement(l.Text,{ellipsis:!0},T?(0,i.stripSnapPrefix)(k.origin):E.host)),a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,marginRight:4},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:1},r("source")),a.default.createElement(g.default,{html:r("metadataModalSourceTooltip",[a.default.createElement(l.Text,{key:"snap-name",fontWeight:c.FontWeight.Medium,variant:c.TextVariant.inherit},v),a.default.createElement(l.Text,{key:"snap-id",fontWeight:c.FontWeight.Medium,variant:c.TextVariant.inherit},C)]),position:"bottom"},a.default.createElement(l.Icon,{color:c.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))),a.default.createElement(m.default,{value:C,url:I})),a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:4},r("version")),a.default.createElement(l.Text,{ellipsis:!0},null==b?void 0:b.version)),a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,marginTop:4},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:4},r("descriptionFromSnap",[v])),a.default.createElement(f.ShowMore,null,a.default.createElement(l.Text,null,x))))))};n.SnapMetadataModal=v,v.propTypes={snapId:r.default.string,isOpen:r.default.bool,onClose:r.default.func}}}},{package:"$root$",file:"ui/components/app/snaps/snap-metadata-modal/snap-metadata-modal.js"}],[6097,{"./snap-permission-adapter":6098},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-permission-adapter"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permission-adapter/index.js"}],[6098,{"../snap-permission-cell":6099,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var a=i(e("react")),r=i(e("prop-types")),o=i(e("../snap-permission-cell"));function i(e){return e&&e.__esModule?e:{default:e}}function s({snapId:e,permissions:t,showOptions:n,targetSubjectsMetadata:r,revoked:i,approved:s}){return t.map((t,l)=>a.default.createElement(o.default,{snapId:e,showOptions:n,connectionSubjectMetadata:r[t.connection],permission:t,index:l,key:`permissionCellDisplay_${e}_${l}`,revoked:i,approved:s}))}s.propTypes={snapId:r.default.string.isRequired,snapName:r.default.string.isRequired,permissions:r.default.array.isRequired,showOptions:r.default.bool,targetSubjectsMetadata:r.default.object,weightThreshold:r.default.number,revoked:r.default.bool,approved:r.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permission-adapter/snap-permission-adapter.js"}],[6099,{"./snap-permission-cell":6100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-permission-cell"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permission-cell/index.js"}],[6100,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../component-library":6325,"../../permission-cell":6017,"@metamask/permission-controller":2329,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("prop-types")),r=e("@metamask/permission-controller"),o=f(e("react")),i=e("react-redux"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),u=f(e("../../permission-cell")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}function m({snapId:e,showOptions:t,permission:n,connectionSubjectMetadata:a,index:f,revoked:m,approved:h}){var g;const y=(0,d.useI18nContext)();let{label:b,description:v,leftIcon:x}=n;const _=(0,i.useSelector)(p.getSnapsMetadata);if(n.connection){if((null==a?void 0:a.subjectType)===r.SubjectType.Snap){const e=(0,c.getSnapName)(_)(a.origin);b=(e=>y("snapConnectTo",[o.default.createElement(s.Text,{key:"snapConnectTo",fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit},e)]))(e),v=(e=>y("snapConnectionPermissionDescription",[o.default.createElement(s.Text,{key:`permissionSubject_${n.subjectName}`,fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit},n.subjectName),o.default.createElement(s.Text,{key:`permissionSubjectDescription_${e}`,fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit},e)]))(e)}w=null==a?void 0:a.iconUrl,k=n,x=w?o.default.createElement(s.AvatarFavicon,{backgroundColor:l.BackgroundColor.backgroundAlternative,size:s.AvatarFaviconSize.Md,iconProps:{size:s.IconSize.Sm},src:w,name:k.connection}):o.default.createElement(s.AvatarBase,{size:s.AvatarBaseSize.Md,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,color:l.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:l.BackgroundColor.backgroundAlternative},(0,c.getAvatarFallbackLetter)(k.connectionName))}var w,k;return o.default.createElement(u.default,{snapId:e,permissionName:n.permissionName,title:b,description:v,weight:n.weight,avatarIcon:x,dateApproved:null==n||null===(g=n.permissionValue)||void 0===g?void 0:g.date,key:`${n.permissionName}-${f}`,showOptions:t,revoked:m,approved:h})}m.propTypes={snapId:a.default.string.isRequired,showOptions:a.default.bool,permission:a.default.object.isRequired,connectionSubjectMetadata:a.default.object,index:a.default.number,revoked:a.default.bool,approved:a.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permission-cell/snap-permission-cell.js"}],[6101,{"./snap-permissions-list":6102},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-permissions-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/index.js"}],[6102,{"../../../../../shared/constants/permissions":5621,"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/permission":6946,"../../../../helpers/utils/util":6959,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../component-library":6325,"../snap-permission-adapter":6097,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=e("../../../../selectors"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../../shared/constants/permissions"),d=e("../../../../helpers/utils/util"),p=e("../../../../helpers/utils/permission"),f=m(e("../snap-permission-adapter"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g({snapId:e,snapName:t,permissions:n,connections:r,showOptions:m,showAllPermissions:h,onShowAllPermissions:g}){const y=(0,i.useI18nContext)(),b=(0,a.useMemo)(()=>({...n,connection_permission:r??{}}),[n,r]),v=(0,o.useSelector)(e=>(0,l.getMultipleTargetsSubjectMetadata)(e,r)),x=(0,o.useSelector)(l.getSnapsMetadata),_=(0,p.getWeightedPermissions)({t:y,permissions:b,subjectName:t,getSubjectName:(0,d.getSnapName)(x)}),[w,k]=(0,a.useState)(h||Object.keys(_).length<=u.PermissionsAbstractionThreshold),E=(0,d.getFilteredSnapPermissions)(_,u.PermissionWeightThreshold.snapInstall,u.MinPermissionAbstractionDisplayCount);return a.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,width:c.BlockSize.Full},a.default.createElement(s.Box,{className:"snap-permissions-list",width:c.BlockSize.Full},a.default.createElement(f.default,{permissions:w?_:E,snapId:e,snapName:t,showOptions:m,targetSubjectsMetadata:v})),w?null:a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.center,paddingTop:2,paddingBottom:2},a.default.createElement(s.ButtonLink,{onClick:()=>{g(),k(!0)}},y("seeAllPermissions"))))}g.propTypes={snapId:r.default.string.isRequired,snapName:r.default.string.isRequired,permissions:r.default.object.isRequired,connections:r.default.object,showOptions:r.default.bool,showAllPermissions:r.default.bool,onShowAllPermissions:r.default.func}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/snap-permissions-list.js"}],[6103,{"./snap-privacy-warning":6104},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-privacy-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/index.js"}],[6104,{"../../../../../shared/constants/terms":5634,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useScrollRequired":7070,"../../../component-library":6325,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useScrollRequired"),c=e("../../../../../shared/constants/terms");function u(e){return e&&e.__esModule?e:{default:e}}function d({onAccepted:e,onCanceled:t}){const n=(0,o.useI18nContext)(),{isScrollable:r,isScrolledToBottom:u,scrollToBottom:d,ref:p,onScroll:f}=(0,l.useScrollRequired)();return a.default.createElement(i.Modal,{onClose:()=>null,isOpen:!0,className:"snap-install-warning"},a.default.createElement(i.ModalContent,null,a.default.createElement(i.ModalBody,{className:"snap-privacy-warning"},a.default.createElement(i.Box,null,a.default.createElement(i.Box,{className:"snap-privacy-warning__header"},a.default.createElement(i.Box,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},a.default.createElement(i.AvatarIcon,{iconName:i.IconName.Info,color:s.IconColor.infoDefault,backgroundColor:s.BackgroundColor.primaryMuted,size:i.AvatarIconSize.Md})),a.default.createElement(i.Box,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},a.default.createElement(i.Text,{variant:s.TextVariant.headingMd,fontWeight:s.FontWeight.Bold},n("thirdPartySoftware")))),a.default.createElement(i.Box,{className:"snap-privacy-warning__content",ref:p,onScroll:f},a.default.createElement(i.Box,{className:"snap-privacy-warning__message"},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},n("snapsPrivacyWarningFirstMessage",[a.default.createElement(i.ButtonLink,{className:"snap-privacy-warning__content__terms-link",key:"privacyNoticeTermsOfUseLink",size:i.ButtonLinkSize.Inherit,href:c.TERMS_OF_USE_LINK,target:"_blank"},"",n("snapsTermsOfUse"),"")])),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,paddingTop:6},n("snapsPrivacyWarningSecondMessage")),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Bold,paddingTop:6},n("snapsPrivacyWarningThirdMessage"))),r&&!u?a.default.createElement(i.AvatarIcon,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:i.IconName.Arrow2Down,backgroundColor:s.BackgroundColor.infoDefault,color:s.IconColor.primaryInverse,onClick:d,style:{cursor:"pointer"}}):null))),a.default.createElement(i.ModalFooter,{onSubmit:e,onCancel:t,submitButtonProps:{children:n("accept"),disabled:!u},cancelButtonProps:{children:n("cancel")}})))}d.propTypes={onAccepted:r.default.func.isRequired,onCanceled:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js"}],[6105,{"./snap-remove-warning":6106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-remove-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/index.js"}],[6106,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../component-library/modal-content/deprecated":6335,"../../../component-library/modal-header/deprecated":6344,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../component-library/modal-content/deprecated"),l=e("../../../component-library/modal-header/deprecated"),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d({isOpen:e,onCancel:t,onSubmit:n,snapName:r}){const u=(0,o.useI18nContext)();return a.default.createElement(i.Modal,{isOpen:e,onClose:t},a.default.createElement(i.ModalOverlay,null),a.default.createElement(s.ModalContent,{modalDialogProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4}},a.default.createElement(l.ModalHeader,{onClose:t},u("pleaseConfirm")),a.default.createElement(i.Text,null,u("removeSnapConfirmation",[r])),a.default.createElement(i.Box,{width:c.BlockSize.Full,display:c.Display.Flex,gap:4},a.default.createElement(i.Button,{block:!0,variant:i.BUTTON_VARIANT.SECONDARY,size:i.BUTTON_SIZES.LG,onClick:t},u("cancel")),a.default.createElement(i.Button,{block:!0,size:i.BUTTON_SIZES.LG,id:"popoverRemoveSnapButton",danger:!0,onClick:n},u("removeSnap")))))}d.propTypes={onCancel:r.default.func,onSubmit:r.default.func,snapName:r.default.string,isOpen:r.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/snap-remove-warning.js"}],[6107,{"./snap-settings-renderer":6108},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-settings-renderer");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-settings-page/index.ts"}],[6108,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/snaps":6907,"../../../../helpers/utils/snaps":6950,"../../../../hooks/snaps/useSnapSettings":7020,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../component-library":6325,"../copyable":6067,"../snap-delineator":6081,"../snap-ui-renderer":6183,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapSettingsRenderer=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../store/actions"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../snap-delineator"),d=e("../../../../selectors"),p=e("../../../../helpers/constants/snaps"),f=e("../copyable"),m=e("../snap-ui-renderer"),h=e("../../../../hooks/snaps/useSnapSettings"),g=e("../../../../helpers/utils/snaps");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.SnapSettingsRenderer=()=>{const{pathname:e}=(0,o.useLocation)(),t=(0,r.useDispatch)(),n=(0,i.useI18nContext)(),y=(0,a.useMemo)(()=>(0,g.decodeSnapIdFromPathname)(e),[e]),{name:b}=(0,r.useSelector)(e=>(0,d.getSnapMetadata)(e,y)),{data:v,error:x,loading:_}=(0,h.useSnapSettings)({snapId:y}),w=_||x?undefined:null==v?void 0:v.id;return(0,a.useEffect)(()=>()=>{w&&t((0,s.deleteInterface)(w))},[w]),y?a.default.createElement(l.Box,{height:c.BlockSize.Full,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundDefault},x&&a.default.createElement(l.Box,{height:c.BlockSize.Full,padding:4},a.default.createElement(u.SnapDelineator,{snapName:b,type:p.DelineatorType.Error},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,marginBottom:4},n("snapsUIError",[a.default.createElement("b",{key:"0"},b)])),a.default.createElement(f.Copyable,{text:x.message}))),(w||_)&&a.default.createElement(m.SnapUIRenderer,{snapId:y,interfaceId:w,isLoading:_,contentBackgroundColor:c.BackgroundColor.backgroundDefault})):null}}}},{package:"$root$",file:"ui/components/app/snaps/snap-settings-page/snap-settings-renderer.tsx"}],[6109,{"./snap-ui-account-selector":6110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-account-selector");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-account-selector/index.ts"}],[6110,{"../../../../contexts/snaps":6860,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../multichain/account-list-item/account-list-item":6449,"../snap-ui-selector":6186,"@metamask/snaps-utils":2781,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIAccountSelector=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../snap-ui-selector"),l=e("../../../../selectors"),c=e("../../../../store/actions"),u=e("../../../../contexts/snaps"),d=(a=e("../../../multichain/account-list-item/account-list-item"))&&a.__esModule?a:{default:a},p=e("../../../../hooks/useI18nContext");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(null,arguments)}n.SnapUIAccountSelector=({chainIds:e,switchGlobalAccount:t,hideExternalAccounts:n,disabled:a,...f})=>{const h=(0,p.useI18nContext)(),{snapId:g}=(0,u.useSnapInterfaceContext)(),y=(0,o.useDispatch)(),b=(0,o.useSelector)(l.getMetaMaskAccountsOrdered),v=(0,r.useMemo)(()=>{const t=b.filter(e=>{var t;return(null===(t=e.metadata.snap)||void 0===t?void 0:t.id)===g});return(n?t:b).filter(t=>(0,i.createChainIdList)(t.scopes,e).length>0)},[b,e,n,g]),x=v.map(t=>({key:"accountId",value:{accountId:t.id,addresses:(0,i.createAccountList)(t.address,(0,i.createChainIdList)(t.scopes,e))},disabled:!1})),_=v.map((e,t)=>r.default.createElement(d.default,{account:e,selected:!1,key:t,showConnectedStatus:!1}));return r.default.createElement(s.SnapUISelector,m({className:"snap-ui-renderer__account-selector",title:h("snapUIAccountSelectorTitle"),options:x},f,{optionComponents:_,onSelect:e=>{t&&y((0,c.setSelectedInternalAccountWithoutLoading)(e.accountId))},disabled:a||0===v.length,style:{maxHeight:"89px"},itemStyle:{maxHeight:"89px"}}))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-account-selector/snap-ui-account-selector.tsx"}],[6111,{"./snap-ui-address-input":6112},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-address-input");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-address-input/index.ts"}],[6112,{"../../../../contexts/snaps":6860,"../../../../helpers/constants/design-system":6899,"../../../../hooks/snaps/useDisplayName":7014,"../../../component-library":6325,"../snap-ui-avatar":6118,"@metamask/design-system-react":1741,"@metamask/utils":2914,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIAddressInput=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("classnames"))&&a.__esModule?a:{default:a},i=e("@metamask/utils"),s=e("@metamask/design-system-react"),l=e("../../../component-library"),c=e("../../../../contexts/snaps"),u=e("../../../../helpers/constants/design-system"),d=e("../snap-ui-avatar"),p=e("../../../../hooks/snaps/useDisplayName");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(null,arguments)}const h=({label:e,displayAvatar:t,chainId:n,value:a,displayName:i,handleClear:c,disabled:p,error:f})=>r.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column},e&&r.default.createElement(l.Label,{className:(0,o.default)("mm-form-text-field__label")},e),r.default.createElement(l.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,className:"snap-ui-renderer__matched-account-info",alignItems:u.AlignItems.center,borderWidth:1,borderRadius:u.BorderRadius.LG,borderColor:u.BorderColor.borderMuted,paddingLeft:4,paddingRight:4,gap:2,style:{height:"48px",opacity:p?.5:1,cursor:p?"not-allowed":"auto"}},t&&r.default.createElement(d.SnapUIAvatar,{address:`${n}:${a}`,size:s.AvatarAccountSize.Sm}),r.default.createElement(l.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,gap:2,style:{flex:1,minWidth:0}},r.default.createElement(l.Box,{flexDirection:u.FlexDirection.Column,gap:2,style:{minWidth:0,flex:1}},r.default.createElement(l.Text,{fontWeight:u.FontWeight.Medium},i),r.default.createElement(l.Text,{variant:u.TextVariant.bodyXs,ellipsis:!0},a))),r.default.createElement(l.Icon,{className:"snap-ui-renderer__matched-account-info__clear-button",onClick:c,name:l.IconName.Close,color:u.IconColor.infoDefault,style:{cursor:p?"not-allowed":"pointer",flexShrink:0}})),f&&r.default.createElement(l.HelpText,{severity:l.HelpTextSeverity.Danger,marginTop:1},f));n.SnapUIAddressInput=({name:e,form:t,label:n,chainId:a,displayAvatar:f=!0,error:g,disabled:y,...b})=>{const{handleInputChange:v,getValue:x,focusedInput:_,setCurrentFocusedInput:w}=(0,c.useSnapInterfaceContext)(),k=(0,r.useRef)(null),E=x(e,t),{namespace:T,reference:M}=(0,i.parseCaipChainId)(a),C=e=>{if(!e)return"";if((0,i.isCaipAccountId)(e)){const{address:t}=(0,i.parseCaipAccountId)(e);return t}return e},[O,S]=(0,r.useState)(C(E)),I=(0,p.useDisplayName)({address:O,chain:{namespace:T,reference:M},chainId:a});(0,r.useEffect)(()=>{E!==undefined&&null!==E&&S(C(E))},[E]),(0,r.useEffect)(()=>{k.current&&e===_&&k.current.querySelector("input").focus()},[k]);const P=()=>{y||(S(""),v(e,"",t))};return I?r.default.createElement(h,{chainId:a,label:n,value:O,displayAvatar:f,displayName:I,handleClear:P,disabled:y,error:g}):r.default.createElement(l.FormTextField,m({ref:k,onFocus:()=>w(e),onBlur:()=>w(null),className:(0,o.default)("snap-ui-renderer__address-input",{"snap-ui-renderer__field":n!==undefined}),id:e,value:O,onChange:n=>{S(n.target.value);const r=n.target.value?`${a}:${n.target.value}`:"";v(e,r,t)},label:n,labelProps:{marginBottom:0},disabled:y,error:Boolean(g),size:l.FormTextFieldSize.Lg,helpText:g,textFieldProps:{borderRadius:u.BorderRadius.LG},startAccessory:f&&O&&(0,i.isCaipAccountId)(`${a}:${O}`)?r.default.createElement(d.SnapUIAvatar,{address:`${a}:${O}`,size:s.AvatarAccountSize.Sm}):null,endAccessory:O?r.default.createElement(l.Icon,{className:"snap-ui-renderer__address-input__clear-button",onClick:P,name:l.IconName.Close,color:u.IconColor.infoDefault,style:{cursor:y?"not-allowed":"pointer"}}):null},b))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-address-input/snap-ui-address-input.tsx"}],[6113,{"./snap-ui-address":6114},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-address");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-address/index.ts"}],[6114,{"../../../../../shared/modules/hexstring-utils":5741,"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../../hooks/snaps/useDisplayName":7014,"../../../component-library":6325,"../snap-ui-avatar":6118,"@metamask/utils":2914,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIAddress=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/utils"),o=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../helpers/utils/util"),l=e("../../../../../shared/modules/hexstring-utils"),c=e("../snap-ui-avatar"),u=e("../../../../hooks/snaps/useDisplayName");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.SnapUIAddress=({address:e,avatarSize:t,truncate:n=!0,displayName:d=!1,avatar:p=!0})=>{const f=(0,a.useMemo)(()=>(0,r.isHexString)(e)?`eip155:1:${e}`:e,[e]),m=(0,a.useMemo)(()=>(0,r.parseCaipAccountId)(f),[f]),h=(0,u.useDisplayName)(m),g="eip155"===m.chain.namespace?(0,l.toChecksumHexAddress)(m.address):m.address,y=n?(0,s.shortenAddress)(g):e;return a.default.createElement(o.Box,{className:"snap-ui-renderer__address","data-testid":"snap-ui-address",display:i.Display.Flex,alignItems:i.AlignItems.center,gap:2},p&&a.default.createElement(c.SnapUIAvatar,{address:f,size:t}),a.default.createElement(o.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.inherit,style:{lineBreak:"anywhere"}},d&&h?h:y))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-address/snap-ui-address.tsx"}],[6115,{"./snap-ui-asset-selector":6116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-asset-selector");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-asset-selector/index.ts"}],[6116,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../snap-ui-selector":6186,"./useSnapAssetDisplay":6117,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIAssetSelector=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../snap-ui-selector"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../hooks/useI18nContext"),c=e("./useSnapAssetDisplay");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}const d=({icon:e,symbol:t,name:n,balance:a,fiat:o,networkName:l,networkIcon:c})=>r.default.createElement(s.Box,{className:"snap-ui-renderer__asset-selector-option",display:i.Display.Flex,alignItems:i.AlignItems.center,width:i.BlockSize.Full,gap:4,style:{overflow:"hidden"}},r.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center},r.default.createElement(s.BadgeWrapper,{badge:r.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:l,src:c,backgroundColor:i.BackgroundColor.backgroundDefault})},r.default.createElement(s.AvatarToken,{src:e,name:t}))),r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(s.Text,{variant:i.TextVariant.bodyMdMedium,ellipsis:!0},n),r.default.createElement(s.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm,ellipsis:!0},l)),r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,marginLeft:"auto",textAlign:i.TextAlign.End,className:"snap-ui-renderer__asset-selector-option__balance"},r.default.createElement(s.Text,{variant:i.TextVariant.bodySmMedium},a),r.default.createElement(s.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},o)));n.SnapUIAssetSelector=({addresses:e,chainIds:t,disabled:n,...a})=>{const i=(0,l.useI18nContext)(),s=(0,c.useSnapAssetSelectorData)({addresses:e,chainIds:t}),p=s.map(({address:e,name:t,symbol:n})=>({key:"asset",value:{asset:e,name:t,symbol:n},disabled:!1})),f=s.map((e,t)=>r.default.createElement(d,u({},e,{key:t})));return r.default.createElement(o.SnapUISelector,u({className:"snap-ui-renderer__asset-selector",title:i("snapUIAssetSelectorTitle"),options:p,optionComponents:f,disabled:n||0===s.length},a))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-asset-selector/snap-ui-asset-selector.tsx"}],[6117,{"../../../../../shared/constants/bridge":5600,"../../../../ducks/locale/locale":6882,"../../../../hooks/useFormatters":7043,"../../../../selectors":7886,"../../../../selectors/assets":7878,"../../../../selectors/multichain":7895,"../../../../selectors/snaps":7911,"../../assets/util/formatWithThreshold":5852,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapAssetSelectorData=void 0;var a=e("@metamask/utils"),r=e("react-redux"),o=e("react"),i=e("../../../../selectors"),s=e("../../../../selectors/assets"),l=e("../../../../hooks/useFormatters"),c=e("../../../../ducks/locale/locale"),u=e("../../assets/util/formatWithThreshold"),d=e("../../../../selectors/multichain"),p=e("../../../../../shared/constants/bridge"),f=e("../../../../selectors/snaps");n.useSnapAssetSelectorData=({addresses:e,chainIds:t})=>{const n=(0,r.useSelector)(f.getMemoizedCurrentCurrency),m=(0,r.useSelector)(c.getIntlLocale),{formatTokenQuantity:h}=(0,l.useFormatters)(),g=e.map(a.parseCaipAccountId),y=(0,r.useSelector)(e=>(0,i.getMemoizedInternalAccountByAddress)(e,g[0].address)),b=(0,r.useSelector)(d.getMemoizedMultichainNetworkConfigurationsByChainId),v=(0,r.useSelector)(e=>(0,s.getMultiChainAssets)(e,y)),x=(e=0)=>(0,u.formatWithThreshold)(e,.01,m,{style:"currency",currency:n.toUpperCase()}),_=e=>{var t;const n=p.NETWORK_TO_SHORT_NETWORK_NAME_MAP[e.chainId]??(null===(t=b[e.chainId])||void 0===t?void 0:t.name);return{icon:e.image,symbol:e.symbol,name:e.title,balance:h(Number(e.balance??0),e.symbol),networkName:n,networkIcon:(0,d.getImageForChainId)(e.chainId),fiat:x(e.secondary),chainId:e.chainId,address:e.address}},w=g.map(e=>e).filter(({chainId:e})=>!t||(null==t?void 0:t.includes(e)));return(0,o.useMemo)(()=>v.filter(e=>w.some(({chainId:t,chain:{namespace:n,reference:r}})=>{if(n===a.KnownCaipNamespace.Eip155&&"0"===r){const{namespace:t}=(0,a.parseCaipChainId)(e.chainId);return t===n}return t===e.chainId})).map(_),[v])}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-asset-selector/useSnapAssetDisplay.tsx"}],[6118,{"./snap-ui-avatar":6119},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-avatar");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-avatar/index.ts"}],[6119,{"../../../../selectors/multichain-accounts":7892,"../../../../selectors/multichain-accounts/account-tree":7890,"../../preferred-avatar":6033,"@metamask/keyring-api":2100,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIAvatar=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/utils"),i=e("@metamask/keyring-api"),s=e("../../preferred-avatar"),l=e("../../../../selectors/multichain-accounts"),c=e("../../../../selectors/multichain-accounts/account-tree");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n.SnapUIAvatar=({address:e,size:t})=>{var n;const{address:u}=(0,a.useMemo)(()=>(0,o.parseCaipAccountId)(e),[e]),d=(0,r.useSelector)(l.getIsMultichainAccountsState2Enabled),p=null===(n=(0,r.useSelector)(e=>(0,c.getAccountGroupsByAddress)(e,[u]))[0])||void 0===n||null===(n=n.accounts.find(e=>(0,i.isEvmAccountType)(e.type)))||void 0===n?void 0:n.address,f=d&&p?p:e;return a.default.createElement(s.PreferredAvatar,{address:f,size:t})}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-avatar/snap-ui-avatar.tsx"}],[6120,{"./snap-ui-banner":6121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-banner");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-banner/index.ts"}],[6121,{"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIBanner=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../component-library");n.SnapUIBanner=({children:e,severity:t,title:n})=>r.default.createElement(o.BannerAlert,{severity:t,title:n},e)}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-banner/snap-ui-banner.tsx"}],[6122,{"./snap-ui-button":6123},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-button");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-button/index.ts"}],[6123,{"../../../../contexts/snaps":6860,"../../../../helpers/constants/design-system":6899,"../../../component-library":6325,"@metamask/snaps-sdk":2667,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIButton=void 0;var a=c(e("react")),r=c(e("classnames")),o=e("@metamask/snaps-sdk"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../contexts/snaps");function c(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}const d={primary:s.TextColor.infoDefault,destructive:s.TextColor.errorDefault,disabled:s.TextColor.textMuted};n.SnapUIButton=({name:e,children:t,type:n=o.ButtonType.Button,variant:c="primary",disabled:p=!1,loading:f=!1,className:m="",textVariant:h,...g})=>{const{handleEvent:y}=(0,l.useSnapInterfaceContext)(),b=d[p?"disabled":c];return a.default.createElement(i.Text,u({className:(0,r.default)(m,"snap-ui-renderer__button",{"snap-ui-renderer__button--disabled":p}),as:"button",id:e,type:n,fontWeight:s.FontWeight.Medium,onClick:t=>{n===o.ButtonType.Button&&t.preventDefault(),y({event:o.UserInputEventType.ButtonClickEvent,name:e})},color:b,disabled:p,variant:h},g),f?a.default.createElement(i.Icon,{name:i.IconName.Loading,style:{animation:"spin 1.2s linear infinite"}}):t)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-button/snap-ui-button.tsx"}],[6124,{"./snap-ui-card":6125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-card");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-card/index.ts"}],[6125,{"../../../../helpers/constants/design-system":6899,"../../../component-library":6325,"../snap-ui-image":6138,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUICard=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=e("../snap-ui-image");n.SnapUICard=({image:e,title:t,description:n,value:a,extra:l})=>r.default.createElement(i.Box,{className:"snap-ui-renderer__card",display:o.Display.Flex,justifyContent:o.JustifyContent.spaceBetween,alignItems:o.AlignItems.center,gap:2},r.default.createElement(i.Box,{display:o.Display.Flex,gap:4,alignItems:o.AlignItems.center,style:{overflow:"hidden"}},e&&r.default.createElement(s.SnapUIImage,{width:"32px",height:"32px",value:e,borderRadius:"999px"}),r.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(i.Text,{variant:o.TextVariant.bodyMdMedium,ellipsis:!0},t),n&&r.default.createElement(i.Text,{color:o.TextColor.textAlternative,ellipsis:!0},n))),r.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,textAlign:o.TextAlign.Right,style:{overflow:"hidden"}},r.default.createElement(i.Text,{variant:o.TextVariant.bodyMdMedium,ellipsis:!0},a),l&&r.default.createElement(i.Text,{color:o.TextColor.textAlternative,ellipsis:!0},l)))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-card/snap-ui-card.tsx"}],[6126,{"./snap-ui-checkbox":6127},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-checkbox");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-checkbox/index.ts"}],[6127,{"../../../../contexts/snaps":6860,"../../../../helpers/constants/design-system":6899,"../../../component-library":6325,"../../../ui/toggle-button":6831,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUICheckbox=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("classnames")),o=e("../../../../contexts/snaps"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=c(e("../../../ui/toggle-button"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}n.SnapUICheckbox=({name:e,variant:t,fieldLabel:n,label:c,error:u,form:p,disabled:f,...m})=>{const{handleInputChange:h,getValue:g}=(0,o.useSnapInterfaceContext)(),y=g(e,p),[b,v]=(0,a.useState)(y??!1);(0,a.useEffect)(()=>{y!==undefined&&null!==y&&v(y)},[y]);const x=()=>{v(!b),h(e,!b,p)};return a.default.createElement(s.Box,{className:(0,r.default)("snap-ui-renderer__checkbox",{"snap-ui-renderer__field":c!==undefined}),display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n&&a.default.createElement(s.Label,{htmlFor:e},n),"toggle"===t?a.default.createElement(l.default,d({onToggle:x,value:b,onLabel:c,offLabel:c,disabled:f},m)):a.default.createElement(s.Checkbox,d({onChange:x,isChecked:b,label:c,inputProps:{borderColor:i.BorderColor.borderMuted},isDisabled:f},m)),u&&a.default.createElement(s.HelpText,{severity:s.HelpTextSeverity.Danger,marginTop:1},u))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-checkbox/snap-ui-checkbox.tsx"}],[6128,{"./snap-ui-dropdown":6129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-dropdown");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-dropdown/index.ts"}],[6129,{"../../../../contexts/snaps":6860,"../../../../helpers/constants/design-system":6899,"../../../component-library":6325,"../../../ui/dropdown":6750,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIDropdown=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("classnames")),o=e("../../../../contexts/snaps"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=c(e("../../../ui/dropdown"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}n.SnapUIDropdown=({name:e,label:t,error:n,form:c,disabled:u,...p})=>{const{handleInputChange:f,getValue:m}=(0,o.useSnapInterfaceContext)(),h=m(e,c),[g,y]=(0,a.useState)(h??"");(0,a.useEffect)(()=>{h!==undefined&&null!==h&&y(h)},[h]);return a.default.createElement(s.Box,{className:(0,r.default)("snap-ui-renderer__dropdown",{"snap-ui-renderer__field":t!==undefined}),display:i.Display.Flex,flexDirection:i.FlexDirection.Column},t&&a.default.createElement(s.Label,{htmlFor:e},t),a.default.createElement(l.default,d({"data-testid":"snaps-dropdown",selectedOption:g,onChange:t=>{y(t),f(e,t,c)},style:{border:"1px solid var(--color-border-muted)"},disabled:u},p)),n&&a.default.createElement(s.HelpText,{severity:s.HelpTextSeverity.Danger,marginTop:1},n))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-dropdown/snap-ui-dropdown.tsx"}],[6130,{"./snap-ui-file-input":6131},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-file-input");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-file-input/index.ts"}]],[],{});