/**
* @license FireShot - Webpage Screenshots and Annotations
* Copyright (C) 2007-2025 Evgeny Vokilsus (contacts@getfireshot.com)
*/

!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="729da2f2-4f26-5733-ad1c-e176a641a5cc")}catch(e){}}();
(()=>{var u=o=>{function E(i){let n=i.getClientRects();return n.length?{x:n[0].x,y:n[0].y,width:n[0].width,height:n[0].height,clientLeft:i.clientLeft,clientTop:i.clientTop}:{x:0,y:0,width:0,height:0,clientLeft:0,clientTop:0}}function y(i,n,r){let l=document.documentElement.clientWidth===document.documentElement.scrollWidth&&document.documentElement.clientHeight===document.documentElement.scrollHeight;if(!l)return;let t,a=document.createTreeWalker(document.documentElement,NodeFilter.SHOW_ELEMENT),e;r.forEach(c=>{c.tagName="IFRAME_MOCKUP",c.getClientRects=function(){return[{left:c.x,top:c.y,width:c.width,height:c.height}]},c.scaleX=c.scales[0],c.scaleY=c.scales[1]});let d=r.values();for(;(e=a.nextNode())||(e=d.next().value);){let c=e.scaleX||1,s=e.scaleY||1;if(e.clientWidth<=window.innerWidth+20&&e.clientHeight<=window.innerHeight+20&&e.scrollWidth>0&&e.scrollHeight>0&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)&&(l&&e.clientWidth>document.documentElement.clientWidth*.5&&e.clientHeight>document.documentElement.clientHeight*.8||e.scrollWidth*c>i&&e.scrollHeight*s>n*.5||e.scrollHeight*s>n*1.5&&e.scrollWidth*c>i*.3||e.clientWidth>i*.7&&e.clientHeight>n*.7)&&(!t||t.clientWidth*t.clientHeight<e.clientWidth*e.clientHeight)&&(e.tagName==="IFRAME_MOCKUP"||g(document.defaultView.getComputedStyle(e,"")))){let h=e.getBoundingClientRect();h.width<=window.innerWidth+2&&(h.height<=window.innerHeight+2||window.innerHeight*1.5<e.scrollHeight&&e.clientHeight<=window.innerHeight+50)&&(t=e)}}return t}function g(i){let n=i.getPropertyValue("overflow-x"),r=i.getPropertyValue("overflow-y");return i&&(r!="hidden"||n!="hidden")&&f(i)}function f(i){return i.getPropertyValue("display")!="none"&&i.getPropertyValue("visibility")!="hidden"}function x(i){let n="";["transform","-webkit-transform","-o-transform","-moz-transform"].forEach(l=>{if(n===""){let t=i.getPropertyValue(l).match(/matrix\((.+)\)/i);t&&t.length>1&&(n=t[1])}});let r=n.split(",");return r.length>=3?[parseFloat(r[0]),parseFloat(r[3])]:[1,1]}function H(i,n){let r=(l,t)=>{let a=[...l.querySelectorAll(t)],e=document.createNodeIterator(l,Node.ELEMENT_NODE),d;for(;d=e.nextNode();)d.shadowRoot&&a.push(...r(d.shadowRoot,t));return a};document.querySelectorAll("iframe[fsFrameId], frame[fsFrameId]").forEach(l=>{l.removeAttribute("fsFrameId")}),r(document,"frame,iframe").forEach(l=>{let t=E(l),a=n===0&&document.scrollingElement?document.scrollingElement.scrollWidth:window.innerWidth,e=n===0&&document.scrollingElement?document.scrollingElement.scrollHeight:window.innerHeight,d=n===0&&document.scrollingElement?document.scrollingElement.scrollLeft:0,c=n===0&&document.scrollingElement?document.scrollingElement.scrollTop:0,s=document.defaultView.getComputedStyle(l,""),m=t.x+t.clientLeft+d>=0&&t.x+t.width<=a+1&&t.width<=window.innerWidth+1&&t.y+t.clientTop+c>=0&&t.y+t.height<=e+1&&t.height<=window.innerHeight+1&&f(s);t.x+=i.clientLeft+i.x,t.y+=i.clientTop+i.y;let h=x(s),w=n+"-"+(document.querySelectorAll("iframe[fsFrameId], frame[fsFrameId]").length+1);l.setAttribute("fsFrameId",w),l.contentWindow.postMessage({message:"rInfo",exts:t,scales:h,selectorId:w,fullyVisible:m,scrollingAttr:l.getAttribute("scrolling"),level:n+1},"*")})}if(!o.data||typeof o.data.message>"u")return!1;switch(o.data.message){case"rInfo":{window.removeEventListener("message",u);let i=document.scrollingElement||document.body,n=location.href.match(/chat\.google\.com\/u/)&&o.data.scrollingAttr==="no"&&o.data.exts.width>200,r=y(window.innerWidth,window.innerHeight,[]),l={level:o.data.level,selectorId:o.data.selectorId,x:o.data.exts.x,y:o.data.exts.y,width:o.data.exts.width,height:o.data.exts.height,scales:o.data.scales,clientLeft:o.data.exts.clientLeft,clientTop:o.data.exts.clientTop,clientWidth:window.innerWidth,clientHeight:window.innerHeight,scrollWidth:Math.max(i.scrollWidth,r?.scrollWidth||0),scrollHeight:Math.max(i.scrollHeight,r?.scrollHeight||0),scrollable:document.body&&g(document.defaultView.getComputedStyle(document.body,""))||n,fullyVisible:o.data.fullyVisible};chrome.runtime.sendMessage({message:"frameInfo",data:l}),H(l,o.data.level)}break}};window.addEventListener("message",u,!1);setTimeout(()=>window.removeEventListener("message",u),2e3);})();
//# sourceMappingURL=fsFrames.js.map

//# debugId=729da2f2-4f26-5733-ad1c-e176a641a5cc
