LavaPack.loadBundle([[7796,{"../../../app/scripts/lib/util":353,"../../../shared/constants/app":5598,"../../../shared/lib/deep-links/routes/shield":5665,"../../../shared/modules/environment":5736,"../../../shared/modules/hexstring-utils":5741,"../../../shared/modules/selectors/networks":5753,"../../ducks/history/history":6880,"../../ducks/metamask/metamask":6883,"../../helpers/constants/routes":6904,"../../helpers/higher-order-components/with-router-hooks/with-router-hooks":6922,"../../helpers/utils/snaps":6950,"../../helpers/utils/util":6959,"../../selectors":7886,"../../selectors/subscription/subscription":7913,"../../store/actions":7916,"./settings.component":7795,"react-redux":5021,redux:5124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),r=e("react-redux"),o=T(e("../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../selectors"),i=e("../../../shared/constants/app"),l=e("../../../app/scripts/lib/util"),c=e("../../ducks/history/history"),u=e("../../../shared/modules/hexstring-utils"),d=e("../../helpers/constants/routes"),p=e("../../../shared/modules/selectors/networks"),m=e("../../store/actions"),f=e("../../helpers/utils/util"),h=e("../../helpers/utils/snaps"),g=e("../../ducks/metamask/metamask"),y=e("../../../shared/modules/environment"),b=e("../../selectors/subscription/subscription"),C=e("../../../shared/lib/deep-links/routes/shield"),E=T(e("./settings.component"));function T(e){return e&&e.__esModule?e:{default:e}}const v={[d.ABOUT_US_ROUTE]:"about",[d.ADD_NETWORK_ROUTE]:"networks",[d.ADD_POPULAR_CUSTOM_NETWORK]:"addNetwork",[d.ADVANCED_ROUTE]:"advanced",[d.BACKUPANDSYNC_ROUTE]:"backupAndSync",[d.CONTACT_ADD_ROUTE]:"newContact",[d.CONTACT_EDIT_ROUTE]:"editContact",[d.CONTACT_LIST_ROUTE]:"contacts",[d.CONTACT_VIEW_ROUTE]:"viewContact",[d.DEVELOPER_OPTIONS_ROUTE]:"developerOptions",[d.EXPERIMENTAL_ROUTE]:"experimental",[d.GENERAL_ROUTE]:"general",[d.NETWORKS_FORM_ROUTE]:"networks",[d.NETWORKS_ROUTE]:"networks",[d.REVEAL_SRP_LIST_ROUTE]:"revealSecretRecoveryPhrase",[d.SECURITY_PASSWORD_CHANGE_ROUTE]:"securityChangePassword",[d.SECURITY_ROUTE]:"securityAndPrivacy",[d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL]:"shieldClaim",[d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE]:"shieldClaimsListTitle",[d.TRANSACTION_SHIELD_ROUTE]:"shieldTx"};n.default=(0,a.compose)(o.default,(0,r.connect)((e,t)=>{var n,a;const{location:r}=t,{pathname:o,search:m}=r,{ticker:E}=(0,p.getProviderConfig)(e),{metamask:{currencyRates:T,socialLoginEmail:_}}=e,S=(0,s.getSettingsPageSnapsIds)(e),w=(0,s.getSnapsMetadata)(e),I=null===(n=T[E])||void 0===n?void 0:n.conversionDate,x="true"===new URLSearchParams(m).get(C.SHIELD_QUERY_PARAMS.showShieldEntryModal),k=(null===(a=o.match(/[^/]+$/u))||void 0===a?void 0:a[0])||"",M=k.includes("0x"),R=Boolean(o.match(d.CONTACT_ADD_ROUTE)),A=Boolean(o.match(d.CONTACT_EDIT_ROUTE)),O=Boolean(o.match(d.REVEAL_SRP_LIST_ROUTE)),D=Boolean(o.match(d.SECURITY_PASSWORD_CHANGE_ROUTE)),P=Boolean(o.startsWith(d.TRANSACTION_SHIELD_ROUTE)),B=Boolean(o.match(d.NETWORKS_FORM_ROUTE))||Boolean(o.match(d.ADD_NETWORK_ROUTE)),N=Boolean(o.match(d.ADD_NETWORK_ROUTE)),F=Boolean(o.match(d.ADD_POPULAR_CUSTOM_NETWORK)),L=Boolean(o.match(d.SNAP_SETTINGS_ROUTE)),j=Boolean(o.match(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)),U=Boolean(o.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW.FULL)),W=Boolean(o.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)),q=(0,l.getEnvironmentType)(),$=q===i.ENVIRONMENT_TYPE_POPUP||q===i.ENVIRONMENT_TYPE_SIDEPANEL,H=Boolean(_);let K=v[o];O&&H&&(K="securitySrpWalletRecovery"),o.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW.FULL)&&(K="shieldClaimsListTitle");let V=d.SETTINGS_ROUTE;A?V=`${d.CONTACT_VIEW_ROUTE}/${k}`:M||R?V=d.CONTACT_LIST_ROUTE:B||F?V=d.NETWORKS_ROUTE:O||D?V=d.SECURITY_ROUTE:j?V=d.TRANSACTION_SHIELD_ROUTE:U?V=d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE:W&&(V=d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL);const G=(0,s.getAddressBookEntryOrAccountName)(e,!(0,u.isBurnAddress)(k)&&(0,u.isValidHexAddress)(k,{mixedCaseUseChecksum:!0})?k:""),Y=(0,s.getUseExternalServices)(e),z=(0,f.getSnapName)(w),Z=S.map(e=>({id:e,name:z(e)})),X=L&&z((0,h.decodeSnapIdFromPathname)(o));return{addNewNetwork:N,addressName:G,backRoute:V,conversionDate:I,currentPath:o,hasSubscribedToShield:(0,b.getHasSubscribedToShield)(e),isAddressEntryPage:M,isMetaMaskShieldFeatureEnabled:(0,y.getIsMetaMaskShieldFeatureEnabled)(),isPasswordChangePage:D,isPopup:$,isRevealSrpListPage:O,isSeedlessPasswordOutdated:(0,g.getIsSeedlessPasswordOutdated)(e),isTransactionShieldPage:P,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),pathnameI18nKey:K,settingsPageSnaps:Z,shouldShowShieldEntryModal:x,snapSettingsTitle:X,useExternalServices:Y}},function(e){return{toggleNetworkMenu:t=>e((0,m.toggleNetworkMenu)(t))}}))(E.default)}}},{package:"$root$",file:"ui/pages/settings/settings.container.js"}],[7797,{"../../../../components/app/preferred-avatar":6033,"../../../../components/component-library":6325,"../../../../helpers/utils/util":6959,"../../../../selectors/multichain-accounts/account-tree":7890,"@metamask/design-system-react":1741,classnames:3913,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/design-system-react"),s=e("react-redux"),i=(a=e("classnames"))&&a.__esModule?a:{default:a},l=e("../../../../components/component-library"),c=e("../../../../components/app/preferred-avatar"),u=e("../../../../selectors/multichain-accounts/account-tree"),d=e("../../../../helpers/utils/util");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=({label:e,modalTitle:t,onAccountSelect:n,impactedWalletAddress:a,disabled:p=!1})=>{const[m,f]=(0,r.useState)(!1),h=(0,s.useSelector)(u.getWalletsWithAccounts),g=(0,r.useMemo)(()=>Object.values(h).reduce((e,t)=>{const n=t.metadata.name;return e[n]||(e[n]={id:t.id,name:t.metadata.name,accounts:[]}),Object.values(t.groups).forEach(t=>{const a=t.accounts.find(e=>e.type.startsWith("eip155:"));a&&e[n].accounts.push({id:t.id,name:t.metadata.name,address:a.address,type:a.type})}),e},{}),[h]),y=(0,r.useMemo)(()=>{const e=Object.values(g).find(e=>e.accounts.some(e=>e.address.toLowerCase()===a.toLowerCase()));return e?e.accounts.find(e=>e.address.toLowerCase()===a.toLowerCase())??null:null},[g,a]);return r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,className:(0,i.default)("mb-2",{"opacity-50":p})},e),r.default.createElement(o.Box,{asChild:!0,borderColor:o.BoxBorderColor.BorderDefault,className:"w-full flex items-center gap-2 px-4 h-12 border rounded-lg",onClick:()=>f(!0),"aria-label":t},r.default.createElement("button",{"data-testid":"account-selector-button",disabled:p},y?r.default.createElement(r.default.Fragment,null,r.default.createElement(c.PreferredAvatar,{address:(null==y?void 0:y.address)??"",size:o.AvatarAccountSize.Sm}),r.default.createElement(o.Text,null,null==y?void 0:y.name)):r.default.createElement(o.Text,{color:o.TextColor.TextAlternative},t),r.default.createElement(o.Icon,{className:"ml-auto",size:o.IconSize.Sm,color:o.IconColor.IconDefault,name:o.IconName.ArrowDown}))),r.default.createElement(l.Modal,{isOpen:m,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,onClose:()=>f(!1),className:"account-selector-modal","data-testid":"account-selector-modal"},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{size:l.ModalContentSize.Sm},r.default.createElement(l.ModalHeader,{onClose:()=>f(!1)},t),r.default.createElement(l.ModalBody,{paddingRight:0,paddingLeft:0},Object.entries(g).map(([e,t])=>r.default.createElement(o.Box,{key:e},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,color:o.TextColor.TextAlternative,className:"px-4 py-2"},e),t.accounts.map(e=>r.default.createElement(o.Box,{asChild:!0,key:e.id,className:(0,i.default)("account-selector-modal__account w-full flex items-center gap-4 px-4 py-3",{"account-selector-modal__account--selected":e.address.toLowerCase()===(null==y?void 0:y.address.toLowerCase())}),onClick:()=>{n(e.address),f(!1)}},r.default.createElement("button",{"data-testid":`account-selector-account-item-${e.address.toLowerCase()}`},r.default.createElement(c.PreferredAvatar,{address:e.address??"",size:o.AvatarAccountSize.Lg}),r.default.createElement(o.Box,{className:"text-left"},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},e.name),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,fontWeight:o.FontWeight.Medium,color:o.TextColor.TextAlternative},(0,d.shortenAddress)(e.address))))))))))))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/account-selector/account-selector.tsx"}],[7798,{"./account-selector":7797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-selector"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/account-selector/index.ts"}],[7799,{"../../../../shared/lib/shield":5712,"../../../components/component-library":6325,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../asset/util":7117,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onConfirm:e,onClose:t,subscription:n}){const a=(0,i.useI18nContext)(),u=(0,c.getIsShieldSubscriptionPaused)(n);return r.default.createElement(o.Modal,{isOpen:!0,onClose:t,className:"cancel-membership-modal","data-testid":"cancel-membership-modal"},r.default.createElement(o.ModalOverlay,null),r.default.createElement(o.ModalContent,{alignItems:s.AlignItems.flexStart},r.default.createElement(o.ModalHeader,{onClose:t},a("areYouSure")),r.default.createElement(o.ModalBody,null,r.default.createElement(o.Text,{variant:s.TextVariant.bodyMd},u?a("shieldTxCancelWhenPausedDetails"):a("shieldTxCancelDetails",[r.default.createElement(o.Text,{key:"cancel-date",variant:s.TextVariant.bodyMdMedium,as:"span"},(0,l.getShortDateFormatterV2)().format(new Date(n.currentPeriodEnd)))]))),r.default.createElement(o.ModalFooter,{onSubmit:e,submitButtonProps:{"data-testid":"cancel-membership-modal-submit-button",children:a("shieldTxMembershipCancel"),danger:!0}})))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),l=e("../../asset/util"),c=e("../../../../shared/lib/shield")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/cancel-membership-modal.tsx"}],[7801,{"../../../../contexts/claims/claims":6848,"../../../../helpers/constants/routes":6904,"../claims-form":7805,"../claims-list":7808,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=e("react-router-dom-v5-compat"),o=e("../../../../contexts/claims/claims"),s=c(e("../claims-list")),i=c(e("../claims-form")),l=e("../../../../helpers/constants/routes");function c(e){return e&&e.__esModule?e:{default:e}}n.default=()=>a.default.createElement(o.ClaimsProvider,null,a.default.createElement(r.Routes,null,a.default.createElement(r.Route,{path:"/",element:a.default.createElement(s.default,null)}),a.default.createElement(r.Route,{path:l.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.RELATIVE,element:a.default.createElement(i.default,null)}),a.default.createElement(r.Route,{path:`${l.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW.RELATIVE}/:claimId`,element:a.default.createElement(i.default,{isView:!0})})))}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-area/claims-area.tsx"}],[7802,{"./claims-area":7801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./claims-area"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-area/index.ts"}],[7803,{"../../../../../app/scripts/lib/util":353,"../../../../../shared/constants/app-state":5597,"../../../../../shared/constants/subscriptions":5632,"../../../../components/app/toast-master/utils":6215,"../../../../components/component-library":6325,"../../../../components/component-library/file-uploader":6311,"../../../../components/component-library/textarea":6388,"../../../../components/ui/loading-screen":6780,"../../../../contexts/claims/claims":6848,"../../../../helpers/constants/common":6897,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../hooks/shield/metrics/useSubscriptionMetrics":7011,"../../../../hooks/shield/useClaimState":7013,"../../../../hooks/useI18nContext":7047,"../../../../selectors/shield/claims":7905,"../../../../selectors/subscription":7912,"../../../../store/actions":7916,"../account-selector":7798,"../claim-error":7800,"../network-selector":7810,"../types":7814,"./constants":7804,"./utils":7806,"@metamask/controller-utils":1383,"@metamask/design-system-react":1741,classnames:3913,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/controller-utils"),o=e("@metamask/design-system-react"),s=e("react-redux"),i=e("react-router-dom-v5-compat"),l=D(e("classnames")),c=e("../../../../hooks/useI18nContext"),u=e("../../../../contexts/claims/claims"),d=e("../../../../components/component-library/textarea"),p=e("../../../../components/component-library"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../hooks/shield/useClaimState"),h=e("../../../../../app/scripts/lib/util"),g=e("../../../../helpers/constants/routes"),y=e("../../../../store/actions"),b=D(e("../../../../components/ui/loading-screen")),C=e("../../../../components/app/toast-master/utils"),E=e("../../../../../shared/constants/app-state"),T=e("../../../../helpers/constants/common"),v=e("../../../../components/component-library/file-uploader"),_=e("../types"),S=e("../claim-error"),w=D(e("../account-selector")),I=D(e("../network-selector")),x=e("../../../../selectors/shield/claims"),k=e("../../../../hooks/shield/metrics/useSubscriptionMetrics"),M=e("../../../../../shared/constants/subscriptions"),R=e("../../../../selectors/subscription"),A=e("./constants"),O=e("./utils");function D(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}n.default=({isView:e=!1})=>{var t,n;const D=(0,c.useI18nContext)(),P=(0,s.useDispatch)(),B=(0,i.useNavigate)(),{refetchClaims:N,pendingClaims:F}=(0,u.useClaims)(),L=(0,s.useSelector)(x.getValidSubmissionWindowDays),j=(0,s.useSelector)(R.getLatestShieldSubscription),{captureShieldCtaClickedEvent:U,captureShieldClaimSubmissionEvent:W}=(0,k.useSubscriptionMetrics)(),[q,$]=(0,a.useState)(!1),{chainId:H,setChainId:K,email:V,setEmail:G,impactedWalletAddress:Y,setImpactedWalletAddress:z,impactedTransactionHash:Z,setImpactedTransactionHash:X,reimbursementWalletAddress:Q,setReimbursementWalletAddress:J,caseDescription:ee,setCaseDescription:te,files:ne,setFiles:ae,uploadedFiles:re,claimSignature:oe}=(0,f.useClaimState)(e),[se,ie]=(0,a.useState)({}),le=(0,a.useCallback)((e,t,n)=>{ie(a=>({...a,[e]:t?{key:e,msg:t,params:n}:undefined}))},[ie]),ce=(0,a.useCallback)(()=>{if(V){const e=(0,h.isValidEmail)(V);le(_.SUBMIT_CLAIM_FIELDS.EMAIL,e?undefined:A.FIELD_ERROR_MESSAGE_KEY_MAP[_.SUBMIT_CLAIM_FIELDS.EMAIL])}else{var e;le(_.SUBMIT_CLAIM_FIELDS.EMAIL,null===(e=A.ERROR_MESSAGE_MAP[_.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[V,le]),ue=(0,a.useCallback)(e=>{var t;const n=e??Y;if(!Q||!n)return void le(_.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,undefined);const a=Q.toLowerCase()===n.toLowerCase();le(_.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,a?null===(t=A.ERROR_MESSAGE_MAP[_.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES])||void 0===t?void 0:t.messageKey:undefined)},[Q,Y,le]),de=(0,a.useCallback)(()=>{if(Q){(0,r.isValidHexAddress)(Q)?ue():le(_.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,A.FIELD_ERROR_MESSAGE_KEY_MAP[_.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS])}else{var e;le(_.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,null===(e=A.ERROR_MESSAGE_MAP[_.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[Q,le,ue]),pe=(0,a.useCallback)(()=>{if(Z){const e=(0,O.isValidTransactionHash)(Z);le(_.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH,e?undefined:A.FIELD_ERROR_MESSAGE_KEY_MAP[_.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH])}else{var e;le(_.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH,null===(e=A.ERROR_MESSAGE_MAP[_.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[Z,le]),me=(0,a.useCallback)(()=>{var e;le(_.SUBMIT_CLAIM_FIELDS.CASE_DESCRIPTION,ee?undefined:null===(e=A.ERROR_MESSAGE_MAP[_.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)},[ee,le]),fe=(0,a.useMemo)(()=>Object.values(se).some(e=>e!==undefined)||!H||!V||!Y||!Z||!Q||!ee,[se,H,V,Y,Z,Q,ee]),he=(0,a.useCallback)(e=>{const{message:t,data:n}=e;if(null!=n&&n.errorsDetails)null==n||n.errorsDetails.forEach(e=>{let t="";var n;_.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED===e.errorCode?t=(null===(n=A.ERROR_MESSAGE_MAP[_.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===n?void 0:n.messageKey)??"":t=A.FIELD_ERROR_MESSAGE_KEY_MAP[e.field]??"";le(e.field,t||e.error)});else{const e=n?A.ERROR_MESSAGE_MAP[null==n?void 0:n.errorCode]:undefined;let a;if((null==n?void 0:n.errorCode)===_.SUBMIT_CLAIM_ERROR_CODES.SUBMISSION_WINDOW_EXPIRED)a=[L];if(null!=e&&e.field)return void le(e.field,e.messageKey,a);let r="";r=t===E.ClaimSubmitToastType.Errored?E.ClaimSubmitToastType.Errored:e?D(e.messageKey,a):t,P((0,C.setShowClaimSubmitToast)(r))}},[P,le,D,L]),ge=(0,a.useCallback)(async()=>{window.open(T.TRANSACTION_SHIELD_LINK,"_blank","noopener noreferrer"),U({source:M.ShieldCtaSourceEnum.Settings,ctaActionClicked:M.ShieldCtaActionClickedEnum.FindingTxHash,redirectToUrl:T.TRANSACTION_SHIELD_LINK})},[U]),ye=(0,a.useCallback)(async()=>{if(fe)return;const e=(e,t)=>{j&&W({subscriptionStatus:j.status,attachmentsCount:(null==ne?void 0:ne.length)??0,submissionStatus:e,errorMessage:t})};try{$(!0);const t=Number(H);e("started"),await(0,y.submitShieldClaim)({chainId:t.toString(),email:V,impactedWalletAddress:Y,impactedTxHash:Z,reimbursementWalletAddress:Q,description:ee,signature:oe,files:ne}),e("completed"),P((0,C.setShowClaimSubmitToast)(E.ClaimSubmitToastType.Success)),await N(),B(g.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}catch(t){he(t);e("failed",t instanceof S.SubmitClaimError?t.message:undefined)}finally{$(!1)}},[fe,H,V,Y,Z,Q,ee,ne,P,B,N,oe,he,W,j]);return a.default.createElement(o.Box,{className:"submit-claim-page flex flex-col pt-4 px-4 pb-4","data-testid":"submit-claim-page",gap:4},!e&&F.length>0&&a.default.createElement(p.BannerAlert,{severity:p.BannerAlertSeverity.Info,title:D("shieldClaimsPendingAlertTitle"),description:D("shieldClaimsPendingAlertDescription"),actionButtonLabel:D("shieldClaimsPendingAlertActionButtonLabel"),actionButtonOnClick:()=>{B(g.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}}),a.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},e?D("shieldClaimDetailsViewClaims",[a.default.createElement(o.TextButton,{key:"here-link",className:"min-w-0",asChild:!0},a.default.createElement("a",{href:T.TRANSACTION_SHIELD_LINK,target:"_blank",rel:"noopener noreferrer"},D("here")))]):D("shieldClaimDetails",[L,a.default.createElement(o.TextButton,{key:"here-link",className:"min-w-0",asChild:!0},a.default.createElement("a",{href:T.TRANSACTION_SHIELD_LINK,target:"_blank",rel:"noopener noreferrer"},D("here")))])),a.default.createElement(o.Box,null,a.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,className:"mb-2"},D("shieldClaimPersonalDetails")),a.default.createElement(o.Box,{borderColor:o.BoxBorderColor.BorderMuted,className:"w-full h-[1px] border border-b-0"})),a.default.createElement(p.FormTextField,{label:`${D("shieldClaimEmail")}*`,placeholder:"johncarpenter@sample.com",inputProps:{"data-testid":"shield-claim-email-input"},helpText:se.email?D(se.email.msg,se.email.params):D("shieldClaimEmailHelpText"),helpTextProps:{"data-testid":"shield-claim-help-text",color:m.TextColor.textAlternative},id:"email",name:"email",size:p.FormTextFieldSize.Lg,onChange:e=>G(e.target.value),onBlur:()=>ce(),value:V,error:Boolean(se.email),required:!0,width:m.BlockSize.Full,disabled:e}),a.default.createElement(p.FormTextField,{label:`${D("shieldClaimReimbursementWalletAddress")}*`,placeholder:"e.g. 0x71C...B5f6d",inputProps:{"data-testid":"shield-claim-reimbursement-wallet-address-input"},helpTextProps:{"data-testid":"shield-claim-reimbursement-wallet-address-help-text",color:m.TextColor.textAlternative},helpText:se.reimbursementWalletAddress?D(se.reimbursementWalletAddress.msg,se.reimbursementWalletAddress.params):D("shieldClaimReimbursementWalletAddressHelpText"),id:"reimbursement-wallet-address",name:"reimbursement-wallet-address",size:p.FormTextFieldSize.Lg,onChange:e=>J(e.target.value),onBlur:()=>de(),value:Q,error:Boolean(se.reimbursementWalletAddress),required:!0,width:m.BlockSize.Full,disabled:e}),a.default.createElement(o.Box,{className:"mt-4"},a.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,className:"mb-2"},D("shieldClaimIncidentDetails")),a.default.createElement(o.Box,{borderColor:o.BoxBorderColor.BorderMuted,className:"w-full h-[1px] border border-b-0"})),a.default.createElement(w.default,{label:`${D("shieldClaimImpactedWalletAddress")}*`,modalTitle:D("shieldClaimSelectAccount"),impactedWalletAddress:Y,onAccountSelect:e=>{var t;z(e);const n=(null===(t=A.ERROR_MESSAGE_MAP[_.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES])||void 0===t?void 0:t.messageKey)??"";!Q||se.reimbursementWalletAddress&&se.reimbursementWalletAddress.msg!==n||ue(e)},disabled:e}),a.default.createElement(I.default,{label:`${D("shieldClaimNetwork")}*`,modalTitle:D("shieldClaimSelectNetwork"),selectedChainId:H,onNetworkSelect:e=>{K(e)},disabled:e}),a.default.createElement(p.FormTextField,{label:`${D("shieldClaimImpactedTxHash")}*`,placeholder:"e.g. a1084235686add...q46q8wurgw",inputProps:{"data-testid":"shield-claim-impacted-tx-hash-input"},helpText:se.impactedTxHash?a.default.createElement(o.Text,{variant:o.TextVariant.BodySm,color:o.TextColor.Inherit},`${D(null===(t=se.impactedTxHash)||void 0===t?void 0:t.msg,null===(n=se.impactedTxHash)||void 0===n?void 0:n.params)} `,a.default.createElement(o.TextButton,{size:o.TextButtonSize.BodySm,className:"min-w-0",onClick:ge},D("shieldClaimImpactedTxHashHelpTextLink"))):a.default.createElement(o.Text,{variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative},`${D("shieldClaimImpactedTxHashHelpText")} `,a.default.createElement(o.TextButton,{size:o.TextButtonSize.BodySm,className:"min-w-0",onClick:ge},D("shieldClaimImpactedTxHashHelpTextLink"))),id:"impacted-tx-hash",name:"impacted-tx-hash",size:p.FormTextFieldSize.Lg,onChange:e=>X(e.target.value),onBlur:()=>pe(),value:Z,error:Boolean(se.impactedTxHash),required:!0,width:m.BlockSize.Full,disabled:e}),a.default.createElement(o.Box,{className:"flex flex-col gap-1"},a.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,className:(0,l.default)({"opacity-50":e})},`${D("shieldClaimDescription")}*`),a.default.createElement(d.Textarea,{id:"description",name:"description","data-testid":"shield-claim-description-textarea",placeholder:D("shieldClaimDescriptionPlaceholder"),onChange:e=>te(e.target.value),onBlur:()=>me(),value:ee,error:Boolean(se.caseDescription),width:m.BlockSize.Full,rows:4,resize:d.TextareaResize.Vertical,borderRadius:m.BorderRadius.LG,paddingTop:3,paddingBottom:3,maxLength:2e3,disabled:e}),se.caseDescription&&a.default.createElement(o.Text,{variant:o.TextVariant.BodySm,color:o.TextColor.ErrorDefault,className:"mt-0.5","data-testid":"shield-claim-description-error"},D(se.caseDescription.msg,se.caseDescription.params))),e?a.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Column,gap:1},a.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},D("shieldClaimFileUploader")),a.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Column,gap:2},re.map((e,t)=>{var n;return a.default.createElement(o.Box,{asChild:!0,key:e.originalname||t,alignItems:o.BoxAlignItems.Center,flexDirection:o.BoxFlexDirection.Row,backgroundColor:o.BoxBackgroundColor.BackgroundSection,paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,gap:2,className:"rounded-lg"},a.default.createElement("a",{href:e.publicUrl,target:"_blank",rel:"noopener noreferrer"},a.default.createElement(o.Icon,{name:null!==(n=e.contentType)&&void 0!==n&&n.includes("image")?o.IconName.Image:o.IconName.File,size:o.IconSize.Lg}),a.default.createElement(o.Text,{variant:o.TextVariant.BodySm},e.originalname)))}))):a.default.createElement(v.FileUploader,{id:"upload-images-file-uploader","data-testid":"upload-images-file-uploader",label:D("shieldClaimFileUploader"),onChange:e=>ae(e),accept:["application/pdf","image/png","image/jpeg"].join(","),acceptText:D("shieldClaimFileUploaderAcceptText",[A.MAX_FILE_SIZE_MB]),helpText:D("shieldClaimFileUploaderHelpText"),maxFileSize:A.MAX_FILE_SIZE_BYTES}),!e&&a.default.createElement(o.Box,{className:"settings-page__content-item-col"},a.default.createElement(o.Button,{"data-testid":"shield-claim-submit-button",variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,disabled:fe||q,onClick:ye},D("shieldClaimSubmit"))),q&&a.default.createElement(b.default,null))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/claims-form.tsx"}],[7804,{"../types":7814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MAX_FILE_SIZE_MB=n.MAX_FILE_SIZE_BYTES=n.FIELD_ERROR_MESSAGE_KEY_MAP=n.ERROR_MESSAGE_MAP=void 0;var a=e("../types");const r=n.MAX_FILE_SIZE_MB=5;n.MAX_FILE_SIZE_BYTES=1024*r*1024,n.ERROR_MESSAGE_MAP={[a.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_ELIGIBLE]:{messageKey:"shieldClaimImpactedTxHashNotEligible",field:a.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[a.SUBMIT_CLAIM_ERROR_CODES.SUBMISSION_WINDOW_EXPIRED]:{messageKey:"shieldClaimSubmissionWindowExpired"},[a.SUBMIT_CLAIM_ERROR_CODES.MAX_CLAIMS_LIMIT_EXCEEDED]:{messageKey:"shieldClaimMaxClaimsLimitExceeded"},[a.SUBMIT_CLAIM_ERROR_CODES.DUPLICATE_CLAIM_EXISTS]:{messageKey:"shieldClaimDuplicateClaimExists"},[a.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES]:{messageKey:"shieldClaimSameWalletAddressesError",field:a.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS},[a.SUBMIT_CLAIM_ERROR_CODES.FILES_SIZE_EXCEEDED]:{messageKey:"shieldClaimFileErrorSizeExceeded"},[a.SUBMIT_CLAIM_ERROR_CODES.FILES_COUNT_EXCEEDED]:{messageKey:"shieldClaimFileErrorCountExceeded"},[a.SUBMIT_CLAIM_ERROR_CODES.INVALID_FILES_TYPE]:{messageKey:"shieldClaimFileErrorInvalidType"},[a.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED]:{messageKey:"shieldClaimInvalidRequired"},[a.SUBMIT_CLAIM_ERROR_CODES.SIGNATURE_COVERAGE_NOT_COVERED]:{messageKey:"shieldClaimSignatureCoverageNotCovered"},[a.SUBMIT_CLAIM_ERROR_CODES.SIGNATURE_VERIFICATION_FAILED]:{messageKey:"shieldClaimWalletOwnershipValidationFailed"},[a.SUBMIT_CLAIM_ERROR_CODES.CHAIN_NOT_SUPPORTED]:{messageKey:"shieldClaimChainNotSupported",field:a.SUBMIT_CLAIM_FIELDS.CHAIN_ID},[a.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_FOUND]:{messageKey:"shieldClaimTransactionNotFound",field:a.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[a.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_FROM_WALLET_ADDRESS]:{messageKey:"shieldClaimTransactionNotFromWalletAddress",field:a.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[a.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_SUCCESSFUL]:{messageKey:"shieldClaimTransactionNotSuccessful",field:a.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH}},n.FIELD_ERROR_MESSAGE_KEY_MAP={[a.SUBMIT_CLAIM_FIELDS.CHAIN_ID]:"shieldClaimInvalidChainId",[a.SUBMIT_CLAIM_FIELDS.EMAIL]:"shieldClaimInvalidEmail",[a.SUBMIT_CLAIM_FIELDS.IMPACTED_WALLET_ADDRESS]:"shieldClaimInvalidWalletAddress",[a.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH]:"shieldClaimInvalidTxHash",[a.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS]:"shieldClaimInvalidWalletAddress"}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/constants.ts"}],[7805,{"./claims-form":7803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./claims-form"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/index.ts"}],[7806,{"@metamask/utils":2914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isValidTransactionHash=function(e){return 66===e.length&&(0,a.isStrictHexString)(e)};var a=e("@metamask/utils")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/utils.ts"}],[7807,{"../../../../components/component-library":6325,"../../../../components/ui/loading-screen":6780,"../../../../contexts/claims/claims":6848,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../hooks/useI18nContext":7047,"@metamask/claims-controller":1378,"@metamask/design-system-react":1741,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/design-system-react"),s=e("react-router-dom-v5-compat"),i=e("@metamask/claims-controller"),l=(a=e("../../../../components/ui/loading-screen"))&&a.__esModule?a:{default:a},c=e("../../../../components/component-library"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../contexts/claims/claims"),m=e("../../../../helpers/constants/routes");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const h={[i.ClaimStatusEnum.CREATED]:{label:"shieldClaimStatusCreated",backgroundColor:u.BackgroundColor.warningMuted,textColor:u.TextColor.warningDefault},[i.ClaimStatusEnum.SUBMITTED]:{label:"shieldClaimStatusSubmitted",backgroundColor:u.BackgroundColor.warningMuted,textColor:u.TextColor.warningDefault},[i.ClaimStatusEnum.IN_PROGRESS]:{label:"shieldClaimStatusInProgress",backgroundColor:u.BackgroundColor.warningMuted,textColor:u.TextColor.warningDefault},[i.ClaimStatusEnum.WAITING_FOR_CUSTOMER]:{label:"shieldClaimStatusWaitingForCustomer",backgroundColor:u.BackgroundColor.warningMuted,textColor:u.TextColor.warningDefault},[i.ClaimStatusEnum.APPROVED]:{label:"shieldClaimStatusApproved",backgroundColor:u.BackgroundColor.successMuted,textColor:u.TextColor.successDefault},[i.ClaimStatusEnum.REJECTED]:{label:"shieldClaimStatusRejected",backgroundColor:u.BackgroundColor.errorMuted,textColor:u.TextColor.errorDefault},[i.ClaimStatusEnum.UNKNOWN]:{label:"shieldClaimStatusUnknown",backgroundColor:u.BackgroundColor.warningMuted,textColor:u.TextColor.warningDefault}};n.default=()=>{const e=(0,d.useI18nContext)(),t=(0,s.useNavigate)(),{pendingClaims:n,historyClaims:a,isLoading:i}=(0,p.useClaims)(),f=(0,r.useCallback)(n=>{var a;const s=n.shortId.toString().padStart(3,"0");return r.default.createElement(o.Box,{asChild:!0,key:n.id,"data-testid":`claim-item-${n.id}`,backgroundColor:o.BoxBackgroundColor.BackgroundSection,className:"claim-item flex items-center justify-between w-full p-4 rounded-lg",onClick:()=>{t(`${m.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW.FULL}/${n.id}`)}},r.default.createElement("button",null,r.default.createElement(o.Box,{className:"flex items-center gap-2"},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,textAlign:o.TextAlign.Left},e("shieldClaimsNumber",[s])),n.status&&r.default.createElement(c.Tag,{borderStyle:u.BorderStyle.none,borderRadius:u.BorderRadius.SM,label:e(h[n.status].label),backgroundColor:h[n.status].backgroundColor,labelProps:{color:null===(a=h[n.status])||void 0===a?void 0:a.textColor}})),r.default.createElement(o.Box,{className:"flex items-center gap-2"},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative},e("viewDetails")),r.default.createElement(o.Icon,{name:o.IconName.ArrowRight,size:o.IconSize.Md,color:o.IconColor.IconAlternative}))))},[t,e]);return r.default.createElement(o.Box,{className:"claims-list-page w-full","data-testid":"claims-list-page"},n.length>0&&r.default.createElement(o.Box,{className:"pt-4 px-4 pb-0"},r.default.createElement(o.Text,{className:"mb-2 uppercase",variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative},e("shieldClaimsPendingTitle")),r.default.createElement(o.Box,{className:"flex flex-col gap-2"},n.map(e=>f(e)))),a.length>0&&r.default.createElement(o.Box,{className:"pt-4 px-4 pb-0"},r.default.createElement(o.Text,{className:"mb-2 uppercase",variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative},e("shieldClaimsHistoryTitle")),r.default.createElement(o.Box,{className:"flex flex-col gap-2"},a.map(e=>f(e)))),i&&r.default.createElement(l.default,null))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-list/claims-list.tsx"}],[7808,{"./claims-list":7807},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./claims-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-list/index.ts"}],[7809,{"./transaction-shield":7813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-shield"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/index.ts"}],[7810,{"./network-selector":7811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-selector"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/network-selector/index.ts"}],[7811,{"../../../../../shared/modules/selectors/networks":5753,"../../../../components/component-library":6325,"../../../../components/multichain/network-list-item":6585,"../../../../helpers/constants/design-system":6899,"../../../../selectors/multichain":7895,"../../../../selectors/shield/claims":7905,"@metamask/design-system-react":1741,classnames:3913,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("@metamask/design-system-react"),i=(a=e("classnames"))&&a.__esModule?a:{default:a},l=e("../../../../components/component-library"),c=e("../../../../../shared/modules/selectors/networks"),u=e("../../../../components/multichain/network-list-item"),d=e("../../../../selectors/multichain"),p=e("../../../../helpers/constants/design-system"),m=e("../../../../selectors/shield/claims");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=({label:e,modalTitle:t,onNetworkSelect:n,selectedChainId:a,disabled:f=!1})=>{const[h,g]=(0,r.useState)(!1),y=(0,o.useSelector)(c.getNetworkConfigurationsByChainId),b=(0,o.useSelector)(m.getSupportedNetworksForClaim),C=(0,r.useMemo)(()=>Object.values(y).filter(e=>b.includes(e.chainId)),[y,b]),E=(0,r.useMemo)(()=>C.find(e=>e.chainId===a),[C,a]);return r.default.createElement(s.Box,null,r.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,fontWeight:s.FontWeight.Medium,className:(0,i.default)("mb-2",{"opacity-50":f})},e),r.default.createElement(s.Box,{asChild:!0,borderColor:s.BoxBorderColor.BorderDefault,className:"w-full flex items-center gap-2 px-4 h-12 border rounded-lg",onClick:()=>g(!0),"aria-label":t},r.default.createElement("button",{"data-testid":"network-selector-button",disabled:f},E?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.AvatarNetwork,{src:(0,d.getImageForChainId)(E.chainId),alt:E.name,size:s.AvatarNetworkSize.Sm}),r.default.createElement(s.Text,null,E.name)):r.default.createElement(s.Text,{color:s.TextColor.TextAlternative},t),r.default.createElement(s.Icon,{className:"ml-auto",size:s.IconSize.Sm,color:s.IconColor.IconDefault,name:s.IconName.ArrowDown}))),r.default.createElement(l.Modal,{isOpen:h,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,onClose:()=>g(!1),className:"network-selector-modal","data-testid":"network-selector-modal"},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{size:l.ModalContentSize.Sm},r.default.createElement(l.ModalHeader,{onClose:()=>g(!1)},t),r.default.createElement(l.ModalBody,{paddingRight:0,paddingLeft:0},r.default.createElement(s.Box,{className:"flex flex-col w-full"},C.map(e=>{const{name:t,chainId:o}=e;return r.default.createElement(u.NetworkListItem,{key:o,name:t,selected:a===o,onClick:()=>{n(o),g(!1)},iconSrc:(0,d.getImageForChainId)(o),iconSize:s.IconSize.Sm,focus:!1,chainId:o,variant:p.TextVariant.bodyMdMedium})}))))))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/network-selector/network-selector.tsx"}],[7812,{"../../../contexts/rive-wasm":6857,"@metamask/design-system-react":1741,"@rive-app/react-canvas":2992,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),o=e("@metamask/design-system-react"),s=e("../../../contexts/rive-wasm");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}n.default=({containerClassName:e,canvasClassName:t})=>{const n=Boolean(!1),i=(0,s.useRiveWasmContext)(),{isWasmReady:l,error:c}=i,{buffer:u,error:d,loading:p}=(0,s.useRiveWasmFile)("./images/riv_animations/shield_banner.riv");(0,a.useEffect)(()=>{c&&console.error("[Rive] Failed to load WASM:",c),d&&console.error("[Rive] Failed to load buffer:",d)},[c,d]);const{riveFile:m,status:f}=(0,r.useRiveFile)({buffer:u}),{rive:h,RiveComponent:g}=(0,r.useRive)({riveFile:m??undefined,stateMachines:m?"shield_banner_illustration":undefined,autoplay:!1,layout:new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center})});return(0,a.useEffect)(()=>{if(h&&l&&!p&&u){const e=h.stateMachineInputs("shield_banner_illustration");if(e){const t=e.find(e=>"Start"===e.name);t&&t.fire(),h.play()}}return()=>{h&&h.stop()}},[h,l,p,u]),!l||p||!u||"loading"===f||n||"failed"===f?a.default.createElement(o.Box,{className:e}):a.default.createElement(o.Box,{className:e},a.default.createElement(g,{className:t}))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/shield-banner-animation.tsx"}],[7813,{"../../../../shared/constants/preferences":5622,"../../../../shared/constants/subscriptions":5632,"../../../../shared/constants/time":5635,"../../../../shared/lib/shield":5712,"../../../components/app/confirm/info/row":5875,"../../../components/app/modals/add-funds-modal/add-funds-modal":5943,"../../../components/app/name":6004,"../../../components/component-library":6325,"../../../components/component-library/skeleton":6371,"../../../components/ui/loading-screen":6780,"../../../components/ui/tooltip":6835,"../../../helpers/constants/common":6897,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/shield/metrics/useSubscriptionMetrics":7011,"../../../hooks/subscription/useSubscription":7022,"../../../hooks/subscription/useSubscriptionPricing":7023,"../../../hooks/useAsync":7029,"../../../hooks/useFormatters":7043,"../../../hooks/useI18nContext":7047,"../../../hooks/useTimeout":7077,"../../../selectors":7886,"../../../store/actions":7916,"../../asset/util":7117,"../../shield-plan/utils":7818,"./cancel-membership-modal":7799,"./shield-banner-animation":7812,"./types":7814,"@metamask/name-controller":2215,"@metamask/subscription-controller":2806,classnames:3913,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=F(e("classnames")),o=e("@metamask/subscription-controller"),s=e("react-router-dom-v5-compat"),i=e("@metamask/name-controller"),l=e("react-redux"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library/skeleton"),p=e("../../../hooks/useI18nContext"),m=e("../../../hooks/subscription/useSubscription"),f=e("../../asset/util"),h=e("../../../helpers/constants/routes"),g=e("../../../helpers/constants/common"),y=e("../../shield-plan/utils"),b=F(e("../../../components/ui/tooltip")),C=e("../../../hooks/useFormatters"),E=F(e("../../../components/ui/loading-screen")),T=F(e("../../../components/app/modals/add-funds-modal/add-funds-modal")),v=e("../../../hooks/subscription/useSubscriptionPricing"),_=e("../../../store/actions"),S=e("../../../components/app/confirm/info/row"),w=e("../../../../shared/lib/shield"),I=e("../../../hooks/useAsync"),x=e("../../../hooks/useTimeout"),k=e("../../../../shared/constants/time"),M=F(e("../../../components/app/name")),R=e("../../../hooks/shield/metrics/useSubscriptionMetrics"),A=e("../../../../shared/constants/subscriptions"),O=e("../../../../shared/constants/preferences"),D=e("../../../selectors"),P=F(e("./cancel-membership-modal")),B=e("./types"),N=F(e("./shield-banner-animation"));function F(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j.apply(null,arguments)}n.default=()=>{const e=(0,p.useI18nContext)(),t=(0,s.useNavigate)(),{search:n}=(0,s.useLocation)(),{captureShieldCtaClickedEvent:F,captureShieldErrorStateClickedEvent:L}=(0,R.useSubscriptionMetrics)(),U=(0,a.useMemo)(()=>"true"===new URLSearchParams(n).get("waitForSubscriptionCreation"),[n]),{formatCurrency:W}=(0,C.useFormatters)(),q=(0,l.useSelector)(D.getTheme)===O.ThemeType.light,{customerId:$,subscriptions:H,lastSubscription:K,loading:V}=(0,m.useUserSubscriptions)({refetch:!U}),G=(0,m.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,H),Y=(0,m.useUserLastSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,K),z=G??Y,[Z,X]=(0,a.useState)(!1);(0,a.useEffect)(()=>()=>{X(!0)},[]),(0,a.useEffect)(()=>{G&&X(!0)},[G]);const Q=(0,x.useTimeout)(()=>{Z||t(h.DEFAULT_ROUTE)},k.MINUTE,!1);(0,a.useEffect)(()=>{U&&(null==Q||Q())},[U,Q]);const{subscriptionPricing:J,loading:ee}=(0,v.useSubscriptionPricing)({refetch:!0}),te=(0,v.useSubscriptionPaymentMethods)(o.PAYMENT_TYPES.byCrypto,J),ne=(null==z?void 0:z.status)===o.SUBSCRIPTION_STATUSES.canceled,ae=(0,w.getIsShieldSubscriptionPaused)(H),re=(0,w.getIsShieldSubscriptionTrialing)(H),oe=ne||ae,se=(0,w.getIsShieldSubscriptionEndingSoon)(H),ie=!(ne||null!=G&&G.cancelAtPeriodEnd),le=(null==z?void 0:z.paymentMethod)&&(0,B.isCryptoPaymentMethod)(null==z?void 0:z.paymentMethod),ce=(0,a.useMemo)(()=>null==z?void 0:z.products.find(e=>e.name===o.PRODUCT_TYPES.SHIELD),[z]),[ue,de]=(0,m.useCancelSubscription)(G),[pe,me]=(0,m.useUnCancelSubscription)(G),[fe,he]=(0,m.useOpenGetSubscriptionBillingPortal)(z),[ge,ye]=(0,m.useUpdateSubscriptionCardPaymentMethod)({subscription:G,newRecurringInterval:null==G?void 0:G.interval}),be=U&&!G,Ce=de.pending||me.pending||he.pending||ye.pending,Ee=be||V||ee;(0,a.useEffect)(()=>{U||z||t(h.SHIELD_PLAN_ROUTE)},[U,t,z]);const[Te,ve]=(0,a.useState)(!1),[_e,Se]=(0,a.useState)(!1),we=[{icon:c.IconName.ShieldLock,title:e("shieldTxDetails1Title"),description:e("shieldTxDetails1Description")},{icon:c.IconName.Flash,title:e("shieldTxDetails2Title"),description:e("shieldTxDetails2Description")}],Ie={display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundSection,padding:4},xe=(0,a.useMemo)(()=>{var e;if(!z||!(0,B.isCryptoPaymentMethod)(z.paymentMethod))return undefined;const t=null==te||null===(e=te.chains)||void 0===e?void 0:e.find(e=>e.chainId===z.paymentMethod.crypto.chainId),n=null==t?void 0:t.tokens.find(e=>e.symbol===z.paymentMethod.crypto.tokenSymbol);return n},[te,z]),ke=(e,t,n)=>a.default.createElement(c.Box,j({as:"button","data-testid":n,className:"transaction-shield-page__row"},Ie,{justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center,width:u.BlockSize.Full,onClick:t}),Ee?a.default.createElement(d.Skeleton,{width:"50%",height:20}):a.default.createElement(c.Text,{variant:u.TextVariant.bodyMdMedium},e),Ee?a.default.createElement(d.Skeleton,{width:24,height:24,borderRadius:u.BorderRadius.full}):a.default.createElement(c.Icon,{name:c.IconName.ArrowRight,size:c.IconSize.Lg,color:u.IconColor.iconAlternative})),Me=(e,t,n)=>a.default.createElement(c.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,gap:2,justifyContent:u.JustifyContent.spaceBetween,"data-testid":n},Ee?a.default.createElement(d.Skeleton,{width:"40%",height:24}):a.default.createElement(c.Text,{variant:u.TextVariant.bodyMdMedium,color:u.TextColor.textAlternative},e),Ee?a.default.createElement(d.Skeleton,{width:"30%",height:24}):a.default.createElement(c.Text,{variant:u.TextVariant.bodyMdMedium,className:"flex-shrink-0"},t)),{value:Re}=(0,I.useAsyncResult)(async()=>{if(!xe||!z||!(0,B.isCryptoPaymentMethod)(z.paymentMethod))return undefined;return await(0,_.getSubscriptionCryptoApprovalAmount)({chainId:z.paymentMethod.crypto.chainId,paymentTokenAddress:xe.address,productType:o.PRODUCT_TYPES.SHIELD,interval:z.interval})},[xe,z]),Ae=(0,a.useMemo)(()=>z&&xe&&(0,B.isCryptoPaymentMethod)(z.paymentMethod)&&z.endDate&&ce&&Re?{chainId:z.paymentMethod.crypto.chainId,address:xe.address,approvalAmount:{approveAmount:Re.approveAmount,chainId:z.paymentMethod.crypto.chainId,paymentAddress:z.paymentMethod.crypto.payerAddress,paymentTokenAddress:xe.address}}:undefined,[ce,xe,z,Re]),{execute:Oe}=(0,m.useSubscriptionCryptoApprovalTransaction)(Ae),De=G&&(0,B.isCardPaymentMethod)(G.paymentMethod),Pe=G&&ae&&(0,B.isCryptoPaymentMethod)(G.paymentMethod)&&!G.paymentMethod.crypto.error,Be=G&&(0,B.isCryptoPaymentMethod)(G.paymentMethod)&&G.paymentMethod.crypto.error===o.CRYPTO_PAYMENT_METHOD_ERRORS.INSUFFICIENT_BALANCE,Ne=G&&(0,B.isCryptoPaymentMethod)(G.paymentMethod)&&(G.paymentMethod.crypto.error===o.CRYPTO_PAYMENT_METHOD_ERRORS.INSUFFICIENT_ALLOWANCE||(null==G?void 0:G.paymentMethod.crypto.error)===o.CRYPTO_PAYMENT_METHOD_ERRORS.APPROVAL_TRANSACTION_TOO_OLD||(null==G?void 0:G.paymentMethod.crypto.error)===o.CRYPTO_PAYMENT_METHOD_ERRORS.APPROVAL_TRANSACTION_REVERTED||(null==G?void 0:G.paymentMethod.crypto.error)===o.CRYPTO_PAYMENT_METHOD_ERRORS.APPROVAL_TRANSACTION_MAX_VERIFICATION_ATTEMPTS_REACHED),{handleClickContactSupport:Fe}=(0,m.useHandleSubscriptionSupportAction)(),Le=(0,a.useCallback)(async()=>{if(G&&L({subscriptionStatus:G.status,paymentType:G.paymentMethod.type,billingInterval:G.interval,errorCause:"payment_error",actionClicked:A.ShieldErrorStateActionClickedEnum.Cta,location:A.ShieldErrorStateLocationEnum.Settings,view:A.ShieldErrorStateViewEnum.Banner}),ne)t(h.SHIELD_PLAN_ROUTE);else if(Pe)Fe();else if(G&&(0,B.isCryptoPaymentMethod)(G.paymentMethod))if(Be)Se(!0);else{if(!Ne)throw new Error("Unknown crypto error action");await Oe()}else await ge()},[Fe,Pe,ne,t,G,Be,Ne,ge,Se,Oe,L]),je=(0,a.useMemo)(()=>{if(ae){let t="shieldTxMembershipErrorPausedUnexpected",n="shieldTxMembershipErrorPausedUnexpectedAction";return le?(t="shieldTxMembershipErrorPausedCryptoInsufficientFunds",n="shieldTxMembershipErrorPausedCryptoInsufficientFundsAction"):De&&(t="shieldTxMembershipErrorPausedCard",n="shieldTxMembershipErrorPausedCardAction"),a.default.createElement(c.BannerAlert,{description:e(t,[24]),severity:c.BannerAlertSeverity.Danger,marginBottom:4,actionButtonLabel:e(n),actionButtonOnClick:Le})}return G&&se?a.default.createElement(c.BannerAlert,{description:e("shieldTxMembershipErrorInsufficientFunds",[(0,f.getShortDateFormatterV2)().format(new Date(G.currentPeriodEnd))]),severity:c.BannerAlertSeverity.Warning,marginBottom:4,actionButtonLabel:e("shieldTxMembershipRenew"),actionButtonOnClick:Le}):null},[ae,se,G,e,De,le,Le]),Ue=(0,a.useMemo)(()=>{if(!z)return"";if(ae&&!Pe){let t="",n="";return le?(t="shieldTxMembershipErrorPausedCryptoTooltip",n="shieldTxMembershipErrorInsufficientToken"):(t="shieldTxMembershipErrorPausedCardTooltip",n="shieldTxMembershipErrorUpdateCard"),a.default.createElement(b.default,{position:"top",title:e(t)},a.default.createElement(c.ButtonLink,{startIconName:c.IconName.Danger,startIconProps:{size:c.IconSize.Md},onClick:Le,danger:!0},e(n,[(0,B.isCryptoPaymentMethod)(null==z?void 0:z.paymentMethod)?z.paymentMethod.crypto.tokenSymbol:""])))}if(se&&z)return a.default.createElement(c.ButtonLink,{className:"warning-button",startIconName:c.IconName.Danger,startIconProps:{size:c.IconSize.Md,color:u.IconColor.warningDefault},color:u.TextColor.warningDefault,onClick:Le},(0,B.isCryptoPaymentMethod)(z.paymentMethod)?z.paymentMethod.crypto.tokenSymbol:"");if((0,B.isCryptoPaymentMethod)(z.paymentMethod)){var t;const e=z.paymentMethod.crypto,n=null==te||null===(t=te.chains)||void 0===t||null===(t=t.find(t=>t.chainId===e.chainId))||void 0===t||null===(t=t.tokens.find(t=>t.symbol===e.tokenSymbol))||void 0===t?void 0:t.address;return n?a.default.createElement(M.default,{value:n,type:i.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0,variation:e.chainId,fallbackName:e.tokenSymbol}):e.tokenSymbol}return`${z.paymentMethod.card.brand.charAt(0).toUpperCase()+z.paymentMethod.card.brand.slice(1)} - ${z.paymentMethod.card.last4}`},[ae,Pe,z,le,se,e,Le,te]),We=(0,a.useCallback)(()=>{window.open(g.TRANSACTION_SHIELD_LINK,"_blank","noopener noreferrer"),F({source:A.ShieldCtaSourceEnum.Settings,ctaActionClicked:A.ShieldCtaActionClickedEnum.ViewFullBenefits,redirectToUrl:g.TRANSACTION_SHIELD_LINK})},[F]);return a.default.createElement(c.Box,{className:"transaction-shield-page","data-testid":"transaction-shield-page",width:u.BlockSize.Full,flexDirection:u.FlexDirection.Column,padding:4},(null==G?void 0:G.cancelAtPeriodEnd)&&a.default.createElement(c.Box,{className:"transaction-shield-page__notification-banner",backgroundColor:u.BackgroundColor.warningMuted,paddingTop:1,paddingBottom:1,paddingInline:4,display:u.Display.Flex,alignItems:u.AlignItems.center,gap:2,marginBottom:4},a.default.createElement(c.Icon,{name:c.IconName.Info,size:c.IconSize.Lg}),a.default.createElement(c.Text,{variant:u.TextVariant.bodySm},e("shieldTxMembershipCancelNotification",[(0,f.getShortDateFormatterV2)().format(new Date(G.currentPeriodEnd))]))),je,a.default.createElement(c.Box,{className:"transaction-shield-page__container",marginBottom:4},a.default.createElement(c.Box,j({className:(0,r.default)("transaction-shield-page__row transaction-shield-page__membership",{"transaction-shield-page__membership--loading":Ee,"transaction-shield-page__membership--inactive":oe&&!Ee,"transaction-shield-page__membership--active":!oe&&!Ee,"transaction-shield-page__membership--inactive-light":q&&oe&&!Ee})},Ie,{alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.spaceBetween,paddingRight:2}),a.default.createElement(c.Box,{width:u.BlockSize.Full,gap:Ee?2:0,display:u.Display.Flex,flexDirection:u.FlexDirection.Column},Ee?a.default.createElement(d.Skeleton,{width:"60%",height:20}):a.default.createElement(c.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,gap:3},a.default.createElement(c.Text,{variant:u.TextVariant.bodyMdBold,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-membership-status"},e(oe?"shieldTxMembershipInactive":"shieldTxMembershipActive")),re&&a.default.createElement(c.Tag,{label:e("shieldTxMembershipFreeTrial"),labelProps:{variant:u.TextVariant.bodySmMedium,color:u.TextColor.successDefault},borderStyle:u.BorderStyle.none,borderRadius:u.BorderRadius.SM,backgroundColor:u.BackgroundColor.successMuted,"data-testid":"shield-detail-trial-tag"}),ae&&a.default.createElement(c.Tag,{label:e("shieldTxMembershipPaused"),labelProps:{variant:u.TextVariant.bodySmMedium,color:u.TextColor.textAlternative},borderStyle:u.BorderStyle.none,borderRadius:u.BorderRadius.SM,backgroundColor:u.BackgroundColor.backgroundMuted,"data-testid":"shield-detail-paused-tag"})),Ee?a.default.createElement(d.Skeleton,{width:"60%",height:16}):a.default.createElement(c.Text,{variant:u.TextVariant.bodyXs,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-customer-id"},e("shieldTxMembershipId"),": ",$)),!Ee&&a.default.createElement(N.default,{containerClassName:"transaction-shield-page-shield-banner__container",canvasClassName:"transaction-shield-page-shield-banner__canvas"})),a.default.createElement(c.Box,j({className:"transaction-shield-page__row"},Ie,{flexDirection:u.FlexDirection.Column,paddingTop:2,paddingBottom:2}),we.map((e,t)=>a.default.createElement(c.Box,{key:t,display:u.Display.Flex,alignItems:u.AlignItems.center,gap:2,paddingTop:2,paddingBottom:2},Ee?a.default.createElement(d.Skeleton,{width:32,height:32,borderRadius:u.BorderRadius.full,style:{flexShrink:0}}):a.default.createElement(c.Icon,{name:e.icon,size:c.IconSize.Xl}),a.default.createElement(c.Box,{width:u.BlockSize.Full,display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:Ee?2:0},Ee?a.default.createElement(d.Skeleton,{width:"100%",height:18}):a.default.createElement(c.Text,{variant:u.TextVariant.bodySmBold},e.title),Ee?a.default.createElement(d.Skeleton,{width:"100%",height:18}):a.default.createElement(c.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative},e.description))))),ke(e("shieldTxMembershipViewFullBenefits"),We,"shield-detail-view-benefits-button"),(null==z?void 0:z.isEligibleForSupport)&&ke(e("shieldTxMembershipSubmitCase"),()=>{t(h.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)},"shield-detail-submit-case-button"),!oe&&(null==G?void 0:G.cancelAtPeriodEnd)&&ke(e("shieldTxMembershipResubscribe"),()=>{pe()},"shield-tx-membership-uncancel-button"),ie&&ke(e("shieldTxMembershipCancel"),()=>{ve(!0)},"shield-tx-membership-cancel-button"),ne&&ke(e("shieldTxMembershipRenew"),Le,"shield-detail-renew-button")),a.default.createElement(c.Box,{className:"transaction-shield-page__container"},a.default.createElement(c.Box,j({className:"transaction-shield-page__row"},Ie,{flexDirection:u.FlexDirection.Column,gap:2}),Ee?a.default.createElement(d.Skeleton,{width:"60%",height:24}):a.default.createElement(c.Text,{variant:u.TextVariant.headingSm,"data-testid":"shield-detail-billing-details-title"},e("shieldTxMembershipBillingDetails")),z?a.default.createElement(a.default.Fragment,null,Me(e("shieldTxMembershipBillingDetailsNextBilling"),ne||null!=z&&z.cancelAtPeriodEnd?"-":(0,f.getShortDateFormatterV2)().format(new Date(z.currentPeriodEnd)),"shield-detail-next-billing"),Me(e("shieldTxMembershipBillingDetailsCharges"),(0,B.isCryptoPaymentMethod)(z.paymentMethod)?`${(0,y.getProductPrice)(ce)} ${z.paymentMethod.crypto.tokenSymbol.toUpperCase()} (${z.interval===o.RECURRING_INTERVALS.year?e("shieldPlanAnnual"):e("shieldPlanMonthly")})`:`${W((0,y.getProductPrice)(ce),null==ce?void 0:ce.currency.toUpperCase(),{maximumFractionDigits:2,minimumFractionDigits:0})} (${z.interval===o.RECURRING_INTERVALS.year?e("shieldPlanAnnual"):e("shieldPlanMonthly")})`,"shield-detail-charges"),le&&Me(e("shieldTxMembershipBillingDetailsBillingAccount"),(0,B.isCryptoPaymentMethod)(z.paymentMethod)?a.default.createElement(S.ConfirmInfoRowAddress,{address:z.paymentMethod.crypto.payerAddress,chainId:z.paymentMethod.crypto.chainId,showFullName:!0}):"","shield-detail-billing-account"),Me(e("shieldTxMembershipBillingDetailsPaymentMethod"),Ue,"shield-detail-payment-method")):a.default.createElement(d.Skeleton,{width:"60%",height:24})),(null==z?void 0:z.status)!==o.SUBSCRIPTION_STATUSES.provisional&&ke(e("shieldTxMembershipBillingDetailsViewBillingHistory"),fe,"shield-detail-view-billing-history-button")),G&&Te&&a.default.createElement(P.default,{onClose:()=>ve(!1),onConfirm:async()=>{ve(!1),await ue()},subscription:G}),Ce&&a.default.createElement(E.default,null),xe&&_e&&G&&(0,B.isCryptoPaymentMethod)(G.paymentMethod)&&a.default.createElement(T.default,{onClose:()=>{Se(!1)},token:xe,chainId:G.paymentMethod.crypto.chainId,payerAddress:G.paymentMethod.crypto.payerAddress}))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/transaction-shield.tsx"}],[7814,{"@metamask/subscription-controller":2806},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SUBMIT_CLAIM_FIELDS=n.SUBMIT_CLAIM_ERROR_CODES=n.SHIELD_ICON_ARTBOARD_NAMES=void 0,n.isCardPaymentMethod=function(e){return e.type===a.PAYMENT_TYPES.byCard},n.isCryptoPaymentMethod=function(e){return e.type===a.PAYMENT_TYPES.byCrypto};var a=e("@metamask/subscription-controller");n.SUBMIT_CLAIM_FIELDS={CHAIN_ID:"chainId",EMAIL:"email",IMPACTED_WALLET_ADDRESS:"impactedWalletAddress",IMPACTED_TRANSACTION_HASH:"impactedTxHash",REIMBURSEMENT_WALLET_ADDRESS:"reimbursementWalletAddress",CASE_DESCRIPTION:"caseDescription",FILES:"files"},n.SUBMIT_CLAIM_ERROR_CODES={INTERNAL_SERVER_ERROR:"E001",VALIDATION_ERROR:"E002",RESOURCE_NOT_FOUND:"E003",DATABASE_FAILED:"E004",COVERAGE_API_NOT_CONFIGURED:"E101",TRANSACTION_NOT_ELIGIBLE:"E102",SUBMISSION_WINDOW_EXPIRED:"E103",TRANSACTION_NOT_COVERED:"E104",COVERAGE_VALIDATION_FAILED:"E105",SIGNATURE_COVERAGE_NOT_COVERED:"E106",CLAIM_VALIDATION_FAILED:"E201",MAX_CLAIMS_LIMIT_EXCEEDED:"E202",DUPLICATE_CLAIM_EXISTS:"E203",INVALID_WALLET_ADDRESSES:"E204",SIGNATURE_VERIFICATION_FAILED:"E205",FIELD_REQUIRED:"E250",FIELD_IS_NOT_STRING:"E251",FIELD_IS_NOT_NUMBER:"E252",FIELD_IS_NOT_OBJECT:"E253",FIELD_INVALID_EMAIL:"E254",FIELD_INVALID_UUID:"E255",FIELD_INVALID_TYPE:"E256",FIELD_INVALID_VALUE:"E257",FIELD_INVALID_FORMAT:"E258",FIELD_INVALID_ETHEREUM_ADDRESS:"E259",FILES_SIZE_EXCEEDED:"E301",FILES_COUNT_EXCEEDED:"E302",INVALID_FILES_TYPE:"E303",CHAIN_NOT_SUPPORTED:"E401",TRANSACTION_NOT_FOUND:"E402",TRANSACTION_NOT_FROM_WALLET_ADDRESS:"E403",TRANSACTION_NOT_SUCCESSFUL:"E404"},n.SHIELD_ICON_ARTBOARD_NAMES={PROTECTION:"Protection",PRIORITY:"Priority"}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/types.ts"}],[7815,{"./shield-plan":7817},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./shield-plan"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/shield-plan/index.ts"}],[7816,{"../../../shared/constants/network":5617,"../../../shared/constants/subscriptions":5632,"../../components/component-library":6325,"../../components/multichain/asset-picker-amount/asset-picker-modal":6493,"../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6490,"../../helpers/constants/design-system":6899,"../../hooks/useI18nContext":7047,"@metamask/subscription-controller":2806,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ShieldPaymentModal=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("classnames"))&&a.__esModule?a:{default:a},s=e("@metamask/subscription-controller"),i=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),c=e("../../components/multichain/asset-picker-amount/asset-picker-modal"),u=e("../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),d=e("../../hooks/useI18nContext"),p=e("../../../shared/constants/network"),m=e("../../../shared/constants/subscriptions");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.ShieldPaymentModal=({isOpen:e,onClose:t,selectedPaymentMethod:n,setSelectedPaymentMethod:a,availableTokenBalances:f,selectedToken:h,onAssetChange:g,hasStableTokenWithBalance:y,tokensSupported:b})=>{const C=(0,d.useI18nContext)(),[E,T]=(0,r.useState)(!1),v=(0,r.useMemo)(()=>f.length>1,[f]),_=(0,r.useCallback)(e=>{if(a(e),e===s.PAYMENT_TYPES.byCrypto){if(v)return void T(!0);g(f[0])}t()},[a,t,v,g,f]),S=(0,r.useMemo)(()=>function*(e){for(const t of f)e(t.symbol,t.address,t.chainId)&&(yield t)},[f]),w=(0,r.useMemo)(()=>{const e=[...b],t=e.pop();return e.length>0?C("shieldPlanNoFunds",[e.join(", "),t]):C("shieldPlanNoFundsOneToken",[t??m.SUBSCRIPTION_DEFAULT_PAYMENT_TOKEN])},[b,C]);return r.default.createElement(i.Modal,{isOpen:e,onClose:()=>undefined,className:"shield-payment-modal","data-testid":"shield-payment-modal"},r.default.createElement(i.ModalOverlay,null),r.default.createElement(i.ModalContent,{modalDialogProps:{padding:0}},r.default.createElement(i.ModalHeader,{onClose:t},C("shieldPlanPaymentTitle")),r.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,width:l.BlockSize.Full},r.default.createElement(i.Box,{"data-testid":"shield-payment-method-token-button",as:"button",className:(0,o.default)("payment-method-item",{"payment-method-item--selected":n===s.PAYMENT_TYPES.byCrypto}),padding:4,gap:4,backgroundColor:n===s.PAYMENT_TYPES.byCrypto?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,onClick:()=>{_(s.PAYMENT_TYPES.byCrypto)},disabled:!y},n===s.PAYMENT_TYPES.byCrypto&&r.default.createElement(i.Box,{className:"payment-method-item__selected-indicator",borderRadius:l.BorderRadius.pill,backgroundColor:l.BackgroundColor.primaryDefault}),r.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},r.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:4},y?r.default.createElement(i.BadgeWrapper,{badge:r.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,name:p.NETWORK_TO_NAME_MAP[p.CHAIN_IDS.MAINNET],src:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[p.CHAIN_IDS.MAINNET],borderColor:l.BorderColor.borderMuted})},r.default.createElement(i.AvatarToken,{name:null==h?void 0:h.symbol,src:null==h?void 0:h.image,marginTop:1,borderColor:l.BorderColor.borderMuted})):r.default.createElement(i.Icon,{size:i.IconSize.Xl,name:i.IconName.Coin}),r.default.createElement(i.Box,{textAlign:l.TextAlign.Left},r.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},C("shieldPlanPayWithToken",[y?(null==h?void 0:h.symbol)??"":"crypto"])),r.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},y?`${C("balance")}: ${(null==h?void 0:h.string)??""} ${(null==h?void 0:h.symbol)??""}`:w))),y&&v&&r.default.createElement(i.Icon,{size:i.IconSize.Md,name:i.IconName.ArrowDown}))),r.default.createElement(i.Box,{"data-testid":"shield-payment-method-card-button",as:"button",className:(0,o.default)("payment-method-item",{"payment-method-item--selected":n===s.PAYMENT_TYPES.byCard}),padding:4,gap:4,backgroundColor:n===s.PAYMENT_TYPES.byCard?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,onClick:()=>_(s.PAYMENT_TYPES.byCard)},n===s.PAYMENT_TYPES.byCard&&r.default.createElement(i.Box,{className:"payment-method-item__selected-indicator",borderRadius:l.BorderRadius.pill,backgroundColor:l.BackgroundColor.primaryDefault}),r.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},r.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:4},r.default.createElement(i.Icon,{size:i.IconSize.Xl,name:i.IconName.Card}),r.default.createElement(i.Box,{textAlign:l.TextAlign.Left},r.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},C("shieldPlanPayWithCard")),r.default.createElement(i.Box,{display:l.Display.Flex,gap:1,alignItems:l.AlignItems.center},r.default.createElement("img",{src:"./images/card-mc.svg",alt:"Mastercard"}),r.default.createElement("img",{src:"./images/card-visa.svg",alt:"Visa"}),r.default.createElement("img",{src:"./images/card-amex.svg",alt:"American Express"}))))))),r.default.createElement(c.AssetPickerModal,{isOpen:E,onClose:()=>{T(!1)},asset:h,onAssetChange:e=>{g(e),T(!1),t()},header:C("shieldPlanSelectToken"),autoFocus:!1,visibleTabs:[u.TabName.TOKENS],customTokenListGenerator:S,hideSearch:!0})))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-payment-modal.tsx"}],[7817,{"../../../shared/constants/network":5617,"../../../shared/constants/subscriptions":5632,"../../../shared/modules/shield":5757,"../../components/component-library":6325,"../../components/multichain/pages/page":6674,"../../components/ui/loading-screen":6780,"../../helpers/constants/design-system":6899,"../../helpers/constants/routes":6904,"../../hooks/subscription/useSubscription":7022,"../../hooks/subscription/useSubscriptionPricing":7023,"../../hooks/useI18nContext":7047,"../../selectors/subscription":7912,"./shield-payment-modal":7816,"./utils":7818,"@metamask/design-system-react":1741,"@metamask/subscription-controller":2806,classnames:3913,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=_(e("classnames")),o=e("@metamask/subscription-controller"),s=e("react-redux"),i=e("react-router-dom-v5-compat"),l=e("@metamask/design-system-react"),c=e("../../../shared/constants/network"),u=e("../../components/component-library"),d=e("../../components/multichain/pages/page"),p=_(e("../../components/ui/loading-screen")),m=e("../../helpers/constants/design-system"),f=e("../../helpers/constants/routes"),h=e("../../hooks/subscription/useSubscriptionPricing"),g=e("../../hooks/subscription/useSubscription"),y=e("../../hooks/useI18nContext"),b=e("../../selectors/subscription"),C=e("../../../shared/constants/subscriptions"),E=e("../../../shared/modules/shield"),T=e("./shield-payment-modal"),v=e("./utils");function _(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w.apply(null,arguments)}n.default=()=>{const e=(0,i.useNavigate)(),t=(0,y.useI18nContext)(),n=(0,s.useSelector)(b.getLastUsedShieldSubscriptionPaymentDetails),[_,S]=(0,a.useState)((null==n?void 0:n.useTestClock)??!1),I=(0,E.isDevOrUatBuild)()||(0,E.isDevOrTestEnvironment)(),{subscriptions:x,trialedProducts:k,loading:M}=(0,g.useUserSubscriptions)({refetch:!0}),R=(0,g.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,x),A=(0,E.getIsTrialedSubscription)(k,o.PRODUCT_TYPES.SHIELD);(0,a.useEffect)(()=>{R&&e(f.TRANSACTION_SHIELD_ROUTE)},[e,R]);const[O,D]=(0,a.useState)((null==n?void 0:n.plan)||o.RECURRING_INTERVALS.year),{subscriptionPricing:P,loading:B}=(0,h.useSubscriptionPricing)({refetch:!0}),N=(0,h.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,P),F=(0,h.useSubscriptionPaymentMethods)("crypto",P),L=(0,a.useMemo)(()=>null==N?void 0:N.find(e=>e.interval===O),[N,O]),{availableTokenBalances:j,pending:U}=(0,h.useAvailableTokenBalances)({paymentChains:null==F?void 0:F.chains,price:L,productType:o.PRODUCT_TYPES.SHIELD}),W=j.length>0,[q,$]=(0,a.useState)(()=>W?null!=n&&n.type?n.type:o.PAYMENT_TYPES.byCrypto:o.PAYMENT_TYPES.byCard),H=(0,a.useMemo)(()=>{var e;return{defaultPaymentType:j.length>0?o.PAYMENT_TYPES.byCrypto:o.PAYMENT_TYPES.byCard,defaultPaymentCurrency:(null===(e=j[0])||void 0===e?void 0:e.symbol)||"USD",defaultBillingInterval:o.RECURRING_INTERVALS.year}},[j]),[K,V]=(0,a.useState)(()=>j[0]);(0,a.useEffect)(()=>{if(U||K||0===j.length)return;const e=null==n?void 0:n.paymentTokenAddress,t=null==n?void 0:n.type,a=null==n?void 0:n.plan;let r=j[0];e&&t===o.PAYMENT_TYPES.byCrypto&&a===O&&(r=j.find(t=>t.address===e)||j[0]),V(r)},[U,j,K,V,n,O]),(0,a.useEffect)(()=>{V(undefined)},[O,V]);const G=null==K?void 0:K.address;(0,a.useEffect)(()=>{const e=null==n?void 0:n.type;G&&e!==o.PAYMENT_TYPES.byCard?$(o.PAYMENT_TYPES.byCrypto):$(o.PAYMENT_TYPES.byCard)},[G,$,n]);const Y=(0,a.useMemo)(()=>{const e=(null==F?void 0:F.chains)??[];return[...new Set(e.flatMap(e=>e.tokens.map(e=>e.symbol)))]},[null==F?void 0:F.chains]),{handleSubscription:z,subscriptionResult:Z}=(0,g.useHandleSubscription)({selectedPaymentMethod:q,selectedToken:K,selectedPlan:O,defaultOptions:H,isTrialed:A,useTestClock:_}),X=M||B||Z.pending,Q=(0,a.useMemo)(()=>(null==N?void 0:N.map(e=>{const n=e.interval===o.RECURRING_INTERVALS.year,a=(0,v.getProductPrice)(e);return{id:e.interval,label:n?t("shieldPlanAnnual"):`${t("shieldPlanMonthly")}${q===o.PAYMENT_TYPES.byCrypto?"*":""}`,price:t(n?"shieldPlanAnnualPrice":"shieldPlanMonthlyPrice",[`$${a}`])}}).sort((e,t)=>e.id===o.RECURRING_INTERVALS.year?-1:1))??[],[N,q,t]),J=(0,a.useMemo)(()=>{const e=[];return A||e.push(t("shieldPlanDetails1",[(null==L?void 0:L.trialPeriodDays)??C.SUBSCRIPTION_DEFAULT_TRIAL_PERIOD_DAYS])),e.push(t("shieldPlanDetails2",["$10k"])),e.push(t("shieldPlanDetails3")),e},[t,A,L]),[ee,te]=(0,a.useState)(!1),ne={display:m.Display.Flex,justifyContent:m.JustifyContent.spaceBetween,alignItems:m.AlignItems.center,backgroundColor:m.BackgroundColor.backgroundSection,padding:4};return a.default.createElement(d.Page,{className:"shield-plan-page","data-testid":"shield-plan-page"},a.default.createElement(d.Header,{textProps:{variant:m.TextVariant.headingSm},startAccessory:a.default.createElement(u.ButtonIcon,{size:u.ButtonIconSize.Md,ariaLabel:t("back"),iconName:u.IconName.ArrowLeft,onClick:()=>{e(f.SETTINGS_ROUTE,{replace:!0})},"data-testid":"shield-plan-back-button"})},t("shieldPlanTitle")),X&&a.default.createElement(p.default,null),P&&a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Content,null,a.default.createElement(u.Box,{display:m.Display.Grid,gap:2,marginBottom:4,paddingTop:2,className:"shield-plan-page__plans"},Q.map(e=>a.default.createElement(u.Box,w({as:"button",key:e.id},ne,{borderRadius:m.BorderRadius.LG,className:(0,r.default)("shield-plan-page__plan",{"shield-plan-page__plan--selected":e.id===O}),"data-testid":`shield-plan-${e.label.toLowerCase()}-button`,onClick:()=>D(e.id)}),a.default.createElement("div",{className:"shield-plan-page__radio"}),a.default.createElement(u.Box,{textAlign:m.TextAlign.Left,className:"shield-plan-page__radio-label"},a.default.createElement(u.Text,{variant:m.TextVariant.bodySm},e.label),a.default.createElement(u.Text,{variant:m.TextVariant.headingMd,className:"shield-plan-page__plan-price"},e.price)),e.id===o.RECURRING_INTERVALS.year&&a.default.createElement(u.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,justifyContent:m.JustifyContent.center,paddingInline:2,borderRadius:m.BorderRadius.SM,className:"shield-plan-page__save-badge"},a.default.createElement(u.Text,{variant:m.TextVariant.bodyXsMedium,color:m.TextColor.iconInverse},t("shieldPlanSave")))))),a.default.createElement(u.Box,{className:"shield-plan-page__group",marginBottom:4},a.default.createElement(u.Box,w({as:"button",className:"shield-plan-page__row"},ne,{onClick:()=>te(!0),width:m.BlockSize.Full}),a.default.createElement(u.Text,{variant:m.TextVariant.bodyLgMedium},t("shieldPlanPayWith")),a.default.createElement(u.Box,{display:m.Display.Flex,gap:2,alignItems:m.AlignItems.center},q===o.PAYMENT_TYPES.byCrypto&&K?a.default.createElement(u.BadgeWrapper,{badge:a.default.createElement(u.AvatarNetwork,{size:u.AvatarNetworkSize.Xs,name:c.NETWORK_TO_NAME_MAP[K.chainId],src:c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[K.chainId],borderColor:m.BorderColor.borderMuted})},a.default.createElement(u.AvatarToken,{name:(null==K?void 0:K.symbol)||"",src:(null==K?void 0:K.image)||"",borderColor:m.BorderColor.borderMuted})):a.default.createElement(u.Icon,{size:u.IconSize.Xl,name:u.IconName.Card}),a.default.createElement(u.Text,{variant:m.TextVariant.bodyLgMedium},q===o.PAYMENT_TYPES.byCrypto?(null==K?void 0:K.symbol)||"":t("shieldPlanCard")),a.default.createElement(u.Icon,{size:u.IconSize.Md,name:u.IconName.ArrowDown})))),a.default.createElement(u.Box,{className:"shield-plan-page__group"},a.default.createElement(u.Box,w({className:"shield-plan-page__row"},ne,{display:m.Display.Block}),a.default.createElement(u.Text,{variant:m.TextVariant.bodyLgMedium,marginBottom:4},t("shieldPlanDetails")),a.default.createElement(u.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Column,gap:2},J.map((e,t)=>a.default.createElement(u.Box,{key:t,display:m.Display.Flex,gap:2},a.default.createElement(u.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,style:{height:"1lh"}},a.default.createElement(u.Icon,{size:u.IconSize.Sm,name:u.IconName.Check,color:m.IconColor.primaryDefault})),a.default.createElement(u.Text,{variant:m.TextVariant.bodyMd},e))))),q===o.PAYMENT_TYPES.byCrypto&&O===o.RECURRING_INTERVALS.month&&a.default.createElement(u.Text,{variant:m.TextVariant.bodySm,color:m.TextColor.textAlternative,marginTop:4},"* ",t("shieldPlanCryptoMonthlyNote"))),a.default.createElement(T.ShieldPaymentModal,{isOpen:ee,onClose:()=>te(!1),selectedToken:K,selectedPaymentMethod:q,hasStableTokenWithBalance:W,setSelectedPaymentMethod:$,onAssetChange:V,availableTokenBalances:j,tokensSupported:Y})),a.default.createElement(d.Footer,{className:"shield-plan-page__footer",flexDirection:m.FlexDirection.Column,gap:3,backgroundColor:m.BackgroundColor.backgroundMuted},I&&a.default.createElement(l.Checkbox,{label:"Enable Stripe Test clocks (for development and testing only)",labelProps:{variant:l.TextVariant.BodySm},onChange:()=>S(!_),id:"stripe-test-clocks",isSelected:_}),a.default.createElement(u.Button,{size:u.ButtonSize.Lg,variant:u.ButtonVariant.Primary,block:!0,onClick:z,"data-testid":"shield-plan-continue-button"},t("continue")),a.default.createElement(u.Text,{variant:m.TextVariant.bodySm,color:m.TextColor.textAlternative,textAlign:m.TextAlign.Center},O===o.RECURRING_INTERVALS.year?t("shieldPlanFooterNoteYearly"):t("shieldPlanFooterNoteMonthly")))))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-plan.tsx"}],[7818,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getProductPrice=function(e){return e.unitAmount/10**e.unitDecimals}}}},{package:"$root$",file:"ui/pages/shield-plan/utils.ts"}],[7819,{"./smart-transaction-status-page":7821},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SmartTransactionStatusPage",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./smart-transaction-status-page"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/index.ts"}],[7820,{"../../../components/component-library":6325,"../../../components/component-library/lottie-animation":6331,"../../../helpers/constants/design-system":6899,"@metamask/smart-transactions-controller":2523,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SmartTransactionStatusAnimation=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/smart-transactions-controller"),o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library/lottie-animation");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c="images/animations/smart-transaction-status",u={Failed:{path:`${c}/failed.lottie.json`,loop:!1},Confirmed:{path:`${c}/confirmed.lottie.json`,loop:!1},SubmittingIntro:{path:`${c}/submitting-intro.lottie.json`,loop:!1},SubmittingLoop:{path:`${c}/submitting-loop.lottie.json`,loop:!0},Processing:{path:`${c}/processing.lottie.json`,loop:!0}};n.SmartTransactionStatusAnimation=({status:e})=>{const[t,n]=(0,a.useState)(!0);let l;if(e===r.SmartTransactionStatuses.PENDING)l=t?u.SubmittingIntro:u.SubmittingLoop;else switch(e){case r.SmartTransactionStatuses.SUCCESS:l=u.Confirmed;break;case r.SmartTransactionStatuses.REVERTED:case r.SmartTransactionStatuses.UNKNOWN:l=u.Failed;break;default:l=u.Processing}const c=(0,a.useCallback)(()=>{e===r.SmartTransactionStatuses.PENDING&&t&&n(!1)},[e,t]);return a.default.createElement(o.Box,{display:s.Display.Flex,style:{width:"96px",height:"96px"}},a.default.createElement(i.LottieAnimation,{path:l.path,loop:l.loop,autoplay:!0,onComplete:c}))}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-animation.tsx"}],[7821,{"../../../../shared/constants/notifications":5618,"../../../../shared/constants/urls":5638,"../../../../shared/modules/conversion.utils":5732,"../../../components/component-library":6325,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"../../confirmations/components/simulation-details":7393,"./smart-transaction-status-animation":7820,"@metamask/smart-transactions-controller":2523,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.showRemainingTimeInMinAndSec=n.default=n.SmartTransactionStatusPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/smart-transactions-controller"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../../selectors"),u=e("../../../../shared/constants/urls"),d=e("../../../store/actions"),p=e("../../../../shared/modules/conversion.utils"),m=e("../../confirmations/components/simulation-details"),f=e("../../../../shared/constants/notifications"),h=e("./smart-transaction-status-animation");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.showRemainingTimeInMinAndSec=e=>{if(!Number.isInteger(e))return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`};const y=({description:e})=>e?a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,className:"smart-transaction-status-page__description"},a.default.createElement(s.Text,{marginTop:2,color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},e)):null,b=({portfolioSmartTransactionStatusUrl:e,isSmartTransactionPending:t,onCloseExtension:n})=>{const r=(0,l.useI18nContext)(),o=(0,a.useCallback)(()=>{if(!e)return;const a=window.innerWidth>f.NOTIFICATION_WIDTH;t&&!a||n(),global.platform.openTab({url:e})},[t,n,e]);return e?a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,marginTop:2},a.default.createElement(s.Button,{type:"link",variant:s.ButtonVariant.Link,onClick:o},r("viewTransaction"))):null},C=({isDapp:e,onCloseExtension:t})=>{const n=(0,l.useI18nContext)();return e?a.default.createElement(s.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:t,width:i.BlockSize.Full,marginTop:3},n("closeExtension")):null},E=({isDapp:e,isSmartTransactionPending:t})=>{const n=(0,l.useI18nContext)();return e&&t?a.default.createElement(s.Text,{marginTop:2,color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},n("closeWindowAnytime")):null},T=({isDapp:e,onViewActivity:t})=>{const n=(0,l.useI18nContext)();return e?null:a.default.createElement(s.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:t,width:i.BlockSize.Full,marginTop:3},n("viewActivity"))},v=({isDapp:e,isSmartTransactionPending:t,onCloseExtension:n,onViewActivity:r})=>a.default.createElement(s.Box,{className:"smart-transaction-status-page__footer",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,padding:4,paddingBottom:0},a.default.createElement(E,{isDapp:e,isSmartTransactionPending:t}),a.default.createElement(C,{isDapp:e,onCloseExtension:n}),a.default.createElement(T,{isDapp:e,onViewActivity:r})),_=({title:e})=>a.default.createElement(s.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.headingMd,as:"h4",fontWeight:i.FontWeight.Bold},e),S=({requestState:e,onCloseExtension:t=()=>null,onViewActivity:n=()=>null})=>{var f,g,C,E;const T=(0,l.useI18nContext)(),S=(0,r.useDispatch)(),{smartTransaction:w,isDapp:I,txId:x}=e,k=!w||w.status===o.SmartTransactionStatuses.PENDING,M=(null==w?void 0:w.status)===o.SmartTransactionStatuses.SUCCESS,R=Boolean(null==w||null===(f=w.status)||void 0===f?void 0:f.startsWith(o.SmartTransactionStatuses.CANCELLED)),A=null==w?void 0:w.chainId,O=(0,r.useSelector)(e=>(0,c.getFullTxData)(e,x))||{},{title:D,description:P}=(({t:e,isSmartTransactionPending:t,isSmartTransactionSuccess:n,isSmartTransactionCancelled:a})=>t?{title:e("smartTransactionPending"),iconName:s.IconName.Clock,iconColor:i.IconColor.primaryDefault}:n?{title:e("smartTransactionSuccess"),iconName:s.IconName.Confirmation,iconColor:i.IconColor.successDefault}:a?{title:e("smartTransactionCancelled"),description:e("smartTransactionCancelledDescription"),iconName:s.IconName.Danger,iconColor:i.IconColor.errorDefault}:{title:e("smartTransactionError"),description:e("smartTransactionErrorDescription"),iconName:s.IconName.Danger,iconColor:i.IconColor.errorDefault})({t:T,isSmartTransactionPending:k,isSmartTransactionSuccess:M,isSmartTransactionCancelled:R});(0,a.useEffect)(()=>{S((0,d.hideLoadingIndication)())},[S]);const B=(null===(g=O.simulationData)||void 0===g||null===(g=g.tokenBalanceChanges)||void 0===g?void 0:g.length)>0||(null===(C=O.simulationData)||void 0===C?void 0:C.nativeBalanceChange),N=null==w?void 0:w.uuid,F=N&&A?`${u.BaseUrl.Portfolio}/networks/${Number((0,p.hexToDecimal)(A))}/smart-transactions/${N}`:undefined;return a.default.createElement(s.Box,{className:"smart-transaction-status-page",height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,borderStyle:i.BorderStyle.none,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,marginBottom:0},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,style:{flexGrow:1}},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,width:i.BlockSize.Full},a.default.createElement(h.SmartTransactionStatusAnimation,{status:null==w?void 0:w.status}),a.default.createElement(_,{title:D}),a.default.createElement(y,{description:P}),a.default.createElement(b,{portfolioSmartTransactionStatusUrl:F,isSmartTransactionPending:k,onCloseExtension:t})),B&&a.default.createElement(s.Box,{width:i.BlockSize.Full},a.default.createElement(m.SimulationDetails,{transaction:O,smartTransactionStatus:null==w||null===(E=w.status)||void 0===E?void 0:E.toLowerCase()}))),a.default.createElement(v,{isDapp:I,isSmartTransactionPending:k,onCloseExtension:t,onViewActivity:n}))};n.SmartTransactionStatusPage=S;n.default=S}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-page.tsx"}],[7822,{"../../../components/component-library":6325,"../../../helpers/constants/design-system":6899,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system");const i=({url:e,onSubmit:t})=>r.default.createElement(o.ButtonIcon,{"data-testid":"snap-account-redirect-url-icon",onClick:()=>{global.platform.openTab({url:e}),null==t||t()},iconName:o.IconName.Export,color:s.IconColor.primaryDefault,size:o.ButtonIconSize.Sm,ariaLabel:""});n.default=r.default.memo(i)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/redirect-url-icon.tsx"}],[7823,{"../../../components/component-library":6325,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"./snap-account-redirect-message":7824,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),i=l(e("./snap-account-redirect-message"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=({url:e,snapName:t,isBlockedUrl:n,message:l,onSubmit:c})=>{const u=(0,s.useI18nContext)();return a.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,paddingTop:4},a.default.createElement(r.Box,{gap:4,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},a.default.createElement(r.Text,{"data-testid":"snap-account-redirect-content-title",textAlign:o.TextAlign.Center,variant:o.TextVariant.headingLg,paddingBottom:2},u("snapAccountRedirectFinishSigningTitle")),n?a.default.createElement(r.Box,{display:o.Display.Flex,paddingLeft:4,paddingRight:4},a.default.createElement(r.BannerAlert,{severity:r.BannerAlertSeverity.Danger,"data-testid":"snap-account-redirect-content-blocked-url-banner"},a.default.createElement(r.Text,null,u("snapUrlIsBlocked",[a.default.createElement(r.Button,{variant:r.ButtonVariant.Link,size:r.ButtonSize.Inherit,onClick:()=>global.platform.openTab({url:"https://support.metamask.io/troubleshooting/deceptive-site-ahead-when-trying-to-connect-to-a-site/"}),key:"snap-url-is-blocked-learn-more-button"},u("learnMore"))])))):null,!1===n?a.default.createElement(r.Text,{"data-testid":"snap-account-redirect-content-description",textAlign:o.TextAlign.Center,variant:o.TextVariant.bodyMd},u("snapAccountRedirectSiteDescription",[t])):null,(e.length>0||l.length>0)&&!1===n?a.default.createElement(i.default,{snapName:t,url:e,message:l,onSubmit:c}):null))}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-context.tsx"}],[7824,{"../../../components/app/snaps/snap-delineator":6081,"../../../components/component-library":6325,"../../../helpers/constants/design-system":6899,"./url-display-box":7825,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),s=e("../../../components/app/snaps/snap-delineator"),i=l(e("./url-display-box"));function l(e){return e&&e.__esModule?e:{default:e}}const c=({snapName:e,url:t,message:n,onSubmit:l})=>a.default.createElement(s.SnapDelineator,{"data-testid":"snap-account-redirect-message-container",snapName:e},""!==n?a.default.createElement(o.Text,{variant:r.TextVariant.bodyMd,"data-testid":"snap-account-redirect-message"},n):null,t.length>0?a.default.createElement(o.Box,{paddingTop:2,display:r.Display.Flex},a.default.createElement(i.default,{url:t,onSubmit:l})):null);n.default=a.default.memo(c)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-message.tsx"}],[7825,{"../../../components/component-library":6325,"../../../helpers/constants/design-system":6899,"./redirect-url-icon":7822,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),s=i(e("./redirect-url-icon"));function i(e){return e&&e.__esModule?e:{default:e}}const l=({url:e,onSubmit:t})=>a.default.createElement(o.Box,{display:r.Display.InlineFlex,backgroundColor:r.BackgroundColor.backgroundDefault,alignItems:r.AlignItems.center,borderWidth:1,borderRadius:r.BorderRadius.SM,borderColor:r.BorderColor.borderDefault,paddingRight:4},a.default.createElement(o.Text,{"data-testid":"snap-account-redirect-url-display-box",padding:2,variant:r.TextVariant.bodyMd,color:r.TextColor.primaryDefault},e),a.default.createElement(s.default,{url:e,onSubmit:t}));n.default=a.default.memo(l)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/url-display-box.tsx"}],[7826,{"./snap-account-redirect":7827},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapAccountRedirect",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-account-redirect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/index.ts"}],[7827,{"../../components/app/snaps/snap-authorship-header":6076,"../../components/component-library":6325,"../../helpers/constants/design-system":6899,"./components/snap-account-redirect-context":7823,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),s=l(e("../../components/app/snaps/snap-authorship-header")),i=l(e("./components/snap-account-redirect-context"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=({url:e,snapId:t,snapName:n,isBlockedUrl:l,message:c,onSubmit:u})=>a.default.createElement(r.Box,{className:"create-snap-account-page",height:o.BlockSize.Full,width:o.BlockSize.Full,borderStyle:o.BorderStyle.none,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},a.default.createElement(s.default,{snapId:t}),a.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,height:o.BlockSize.Full,padding:4},a.default.createElement(i.default,{url:e,onSubmit:u,snapId:t,snapName:n,isBlockedUrl:l,message:c})))}}},{package:"$root$",file:"ui/pages/snap-account-redirect/snap-account-redirect.tsx"}],[7828,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringSnapRemovalResultStatus=void 0;n.KeyringSnapRemovalResultStatus={Success:"success",Failed:"failed",None:"none"}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/constants.ts"}],[7829,{"./snap-view":7831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-view"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/index.js"}],[7830,{"../../../components/app/connected-sites-list":5894,"../../../components/app/snaps/keyring-snap-removal-warning":6069,"../../../components/app/snaps/show-more":6072,"../../../components/app/snaps/snap-authorship-expanded":6074,"../../../components/app/snaps/snap-delineator":6081,"../../../components/app/snaps/snap-permissions-list":6101,"../../../components/app/snaps/snap-remove-warning":6105,"../../../components/app/snaps/snap-update-alert":6190,"../../../components/component-library":6325,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../helpers/constants/snaps":6907,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"./constants":7828,"@metamask/snaps-utils":2781,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043,semver:5411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=w(e("prop-types")),s=e("react-router-dom-v5-compat"),i=w(e("semver")),l=e("@metamask/snaps-utils"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=w(e("../../../components/app/snaps/snap-authorship-expanded")),p=w(e("../../../components/app/snaps/snap-remove-warning")),m=w(e("../../../components/app/connected-sites-list")),f=w(e("../../../components/app/snaps/keyring-snap-removal-warning")),h=e("../../../store/actions"),g=e("../../../selectors"),y=e("../../../components/component-library"),b=w(e("../../../components/app/snaps/snap-permissions-list")),C=e("../../../components/app/snaps/snap-delineator"),E=e("../../../helpers/constants/snaps"),T=w(e("../../../components/app/snaps/snap-update-alert")),v=e("../../../helpers/constants/routes"),_=e("../../../components/app/snaps/show-more"),S=e("./constants");function w(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function x({snapId:e,initRemove:t,resetInitRemove:n}){const o=(0,s.useNavigate)(),w=(0,c.useI18nContext)(),I=(0,r.useSelector)(g.getSnaps),x=(0,r.useDispatch)(),k=Object.entries(I).map(([e,t])=>t).find(t=>t.id===e),[M,R]=(0,a.useState)(!1),[A,O]=(0,a.useState)(!1),[D,P]=(0,a.useState)([]),B=(0,r.useSelector)(g.getMemoizedMetaMaskInternalAccounts),N=(0,r.useSelector)(e=>(0,g.getSubjectsWithSnapPermission)(e,null==k?void 0:k.id)),F=(0,r.useSelector)(e=>k&&(0,g.getPermissions)(e,k.id)),{name:L,description:j}=(0,r.useSelector)(t=>(0,g.getSnapMetadata)(t,e));let U=!1;U=Boolean(null==F?void 0:F.snap_manageAccounts),(0,a.useEffect)(()=>{U&&(async()=>{const e=await(0,h.getSnapAccountsById)(k.id),t=Object.values(B).filter(t=>e.includes(t.address.toLowerCase()));P(t)})()},[null==k?void 0:k.id,B,U]);const W=(0,r.useSelector)(e=>k?(0,g.getSnapLatestVersion)(e,null==k?void 0:k.id):null),q=!!W&&i.default.gt(W,k.version);return(0,a.useEffect)(()=>{t&&(R(!0),n())},[t,n]),a.default.createElement(y.Box,null,q&&a.default.createElement(T.default,{snapName:L,onUpdateClick:async()=>{const e={[k.id]:{version:W}},t=await x((0,h.updateSnap)("MetaMask",e));t&&o(`${v.CONNECT_ROUTE}/${t}`)},bannerAlertProps:{marginBottom:4}}),a.default.createElement(d.default,{snapId:k.id,snap:k}),a.default.createElement(y.Box,{className:"snap-view__content__description",marginTop:[4,7]},a.default.createElement(C.SnapDelineator,{type:E.DelineatorType.Description,snapName:L},a.default.createElement(_.ShowMore,{buttonBackground:u.BackgroundColor.backgroundDefault},a.default.createElement(y.Text,null,j)))),a.default.createElement(y.Box,{className:"snap-view__content__permissions",marginTop:12},a.default.createElement(y.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:1},w("permissions")),a.default.createElement(b.default,{snapId:e,snapName:L,permissions:F??{},showOptions:!0,showAllPermissions:!0})),a.default.createElement(y.Box,{className:"snap-view__content__connected-sites",marginTop:12},a.default.createElement(y.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:2},N.every(e=>(0,l.isSnapId)(e.origin))?w("connectedSnaps"):N.some(e=>(0,l.isSnapId)(e.origin))?w("connectedSitesAndSnaps"):w("connectedSites")),a.default.createElement(m.default,{connectedSubjects:N,onDisconnect:e=>{var t;t=e,k.id,x((0,h.disconnectOriginFromSnap)(t,k.id))}})),a.default.createElement(y.Box,{className:"snap-view__content__remove",marginTop:12},a.default.createElement(y.Text,{variant:u.TextVariant.bodyLgMedium,color:u.TextColor.textDefault},w("removeSnap")),a.default.createElement(y.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textDefault},w("removeSnapDescription")),a.default.createElement(y.Box,{marginTop:4,display:u.Display.Flex,justifyContent:u.JustifyContent.center},a.default.createElement(y.Button,{className:"snap-view__content__remove-button",danger:"true",variant:y.ButtonVariant.Secondary,width:u.BlockSize.Full,size:y.ButtonSize.Lg,onClick:()=>R(!0),"data-testid":"remove-snap-button",disabled:k.preinstalled&&!1===k.removable},a.default.createElement(y.Text,{color:u.TextColor.inherit,variant:u.TextVariant.bodyMd,flexWrap:u.FlexWrap.NoWrap,ellipsis:!0,style:{overflow:"hidden"},paddingTop:3,paddingBottom:3},`${w("remove")} ${L}`)),a.default.createElement(p.default,{isOpen:M&&(!U||0===D.length)&&!A,onCancel:()=>R(!1),onSubmit:async()=>{await x((0,h.removeSnap)(k.id))},snapName:L}),a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{snap:k,keyringAccounts:D,snapUrl:k.url,onCancel:()=>R(!1),onClose:()=>R(!1),onBack:()=>R(!1),onSubmit:async()=>{try{O(!0),await x((0,h.removeSnap)(k.id)),R(!1),x((0,h.showKeyringSnapRemovalModal)({snapName:L,result:S.KeyringSnapRemovalResultStatus.Success}))}catch{R(!1),x((0,h.showKeyringSnapRemovalModal)({snapName:L,result:S.KeyringSnapRemovalResultStatus.Failed}))}finally{O(!1)}},isOpen:M&&U&&D.length>0})))))}x.propTypes={snapId:o.default.string.isRequired,initRemove:o.default.bool,resetInitRemove:o.default.func};n.default=x}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-settings.js"}],[7831,{"../../../components/app/snaps/snap-authorship-header":6076,"../../../components/app/snaps/snap-home-menu":6083,"../../../components/app/snaps/snap-home-page/snap-home-renderer":6085,"../../../components/component-library":6325,"../../../components/multichain/pages/page":6674,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../selectors":7886,"./snap-settings":7830,"@metamask/utils":2914,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/utils"),s=e("react-router-dom-v5-compat"),i=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../selectors"),u=e("../../../components/component-library"),d=e("../../../components/multichain/pages/page"),p=g(e("../../../components/app/snaps/snap-authorship-header")),m=g(e("../../../components/app/snaps/snap-home-menu")),f=e("../../../components/app/snaps/snap-home-page/snap-home-renderer"),h=g(e("./snap-settings"));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.default=function(){const e=(0,s.useNavigate)(),t=(0,s.useLocation)(),{pathname:n}=t,g=decodeURIComponent(n.match(/[^/]+$/u)[0]),y=(0,r.useSelector)(c.getSnaps),b=Object.entries(y).map(([e,t])=>t).find(e=>e.id===g);(0,a.useEffect)(()=>{b||e(l.SNAPS_ROUTE)},[e,b]);const C=(0,r.useSelector)(e=>b&&(0,c.getPermissions)(e,b.id)),E=C&&(0,o.hasProperty)(C,"endowment:page-home"),[T,v]=(0,a.useState)(!E),[_,S]=(0,a.useState)(!1);if(!b)return null;const w=()=>{b.preinstalled&&b.hidden?e(l.DEFAULT_ROUTE):T&&E?v(!1):e(l.SNAPS_ROUTE)};return a.default.createElement("div",{className:"snap-view"},a.default.createElement(d.Page,{backgroundColor:i.BackgroundColor.backgroundDefault},!b.hideSnapBranding&&a.default.createElement(p.default,{snapId:g,showInfo:!1,startAccessory:a.default.createElement(u.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},a.default.createElement(u.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:u.ButtonIconSize.Md,onClick:w})),endAccessory:!b.hidden&&a.default.createElement(m.default,{snapId:g,onSettingsClick:()=>{v(!0)},onRemoveClick:()=>{S(!0),v(!0)},isSettingsAvailable:!b.preinstalled})}),a.default.createElement(d.Content,{backgroundColor:i.BackgroundColor.backgroundDefault,className:"snap-view__content",marginTop:T?4:0,padding:T?4:0},T?a.default.createElement(h.default,{snapId:g,initRemove:_,resetInitRemove:()=>{S(!1)}}):a.default.createElement(f.SnapHomeRenderer,{snapId:g}))))}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-view.js"}],[7832,{"./snap-list":7833},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/index.js"}],[7833,{"../../../components/app/snaps/snap-list-item":6093,"../../../components/component-library":6325,"../../../components/multichain/pages/page":6674,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../helpers/utils/settings-search":6949,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("react-router-dom-v5-compat"),i=(a=e("../../../components/app/snaps/snap-list-item"))&&a.__esModule?a:{default:a},l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../helpers/utils/settings-search"),m=e("../../../components/component-library"),f=e("../../../components/multichain/pages/page"),h=e("../../../helpers/utils/util");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,l.useI18nContext)(),t=(0,s.useNavigate)(),n=(0,r.useRef)();(0,r.useEffect)(()=>{(0,p.handleSettingsRefs)(e,e("snaps"),n)},[n,e]);const a=(0,o.useSelector)(d.getSnapsList),g=(0,o.useSelector)(d.getAllSnapAvailableUpdates);return r.default.createElement("div",{className:"snaps"},r.default.createElement(f.Page,{backgroundColor:c.BackgroundColor.backgroundDefault},r.default.createElement(f.Header,{backgroundColor:c.BackgroundColor.backgroundDefault,startAccessory:r.default.createElement(m.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:"sm",onClick:()=>t(u.DEFAULT_ROUTE)})},e("snaps")),r.default.createElement(f.Content,{backgroundColor:c.BackgroundColor.backgroundDefault,className:"snaps__content"},r.default.createElement(m.Box,{className:"snaps__content__list",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,height:c.BlockSize.Full},a.length>0&&r.default.createElement("div",{className:"snaps__content__list__body"},r.default.createElement("div",{className:"snaps__content__list__wrapper"},a.map(e=>r.default.createElement(i.default,{className:"snaps__content__list-item",key:e.key,packageName:e.packageName,name:e.name,onClick:()=>{(e=>{t((0,h.getSnapRoute)(e.id))})(e)},snapId:e.id,showUpdateDot:g.get(e.id)})))),a.length<=5&&r.default.createElement(m.Box,{display:c.Display.Flex,height:c.BlockSize.Full,flexDirection:c.FlexDirection.Row,flexWrap:c.FlexWrap.Wrap,justifyContent:c.JustifyContent.center,className:"snaps__content__list__container--snaps-info-content"},a.length<1&&r.default.createElement(m.Box,{className:"snaps__content__list__container--no-snaps_inner",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},r.default.createElement(m.Icon,{name:m.IconName.Snaps,color:c.IconColor.iconMuted,className:"snaps__content__list__no-snaps_icon",size:m.IconSize.Inherit}),r.default.createElement(m.Text,{color:c.Color.textMuted,align:c.TextAlign.Center,marginTop:4},e("noSnaps"))),r.default.createElement(m.Box,{display:c.Display.Flex,width:c.BlockSize.Full,height:c.BlockSize.Min}),r.default.createElement(m.Box,{className:"snaps__content__list__container--no-snaps_banner-tip",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},r.default.createElement(m.BannerTip,{logoType:m.BannerTipLogoType.Greeting,description:e("extendWalletWithSnaps"),descriptionProps:{variant:c.TextVariant.bodyMd}},r.default.createElement(m.ButtonLink,{size:c.Size.auto,href:"https://snaps.metamask.io/",target:"_blank",endIconName:m.IconName.Export},`${e("discoverSnaps")}`))))))))}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/snap-list.js"}],[7834,{"../../../shared/constants/metametrics":5613,"../../components/app/srp-details-modal":6195,"../../components/app/srp-input-import":6197,"../../components/component-library":6325,"../../contexts/metametrics":6855,"../../helpers/constants/design-system":6899,"../../hooks/useI18nContext":7047,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),s=e("../../hooks/useI18nContext"),i=d(e("../../components/app/srp-input-import")),l=d(e("../../components/app/srp-details-modal")),c=e("../../../shared/constants/metametrics"),u=e("../../contexts/metametrics");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=({error:e,setSecretRecoveryPhrase:t,onClearCallback:n})=>{const d=(0,s.useI18nContext)(),p=(0,a.useContext)(u.MetaMetricsContext),[m,f]=(0,a.useState)(!1),h=(0,a.useCallback)(()=>{p({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),f(!0)},[p]);return a.default.createElement(a.default.Fragment,null,m&&a.default.createElement(l.default,{onClose:()=>f(!1)}),a.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:4,height:o.BlockSize.Full},a.default.createElement(r.Box,{display:o.Display.Flex,alignItems:o.AlignItems.center},a.default.createElement(r.Text,{variant:o.TextVariant.bodyMd,color:o.TextColor.textAlternative},d("typeYourSRP")),a.default.createElement(r.ButtonIcon,{iconName:r.IconName.Info,size:r.ButtonIconSize.Sm,color:o.IconColor.iconAlternative,onClick:h,ariaLabel:"info"})),a.default.createElement(r.Box,{width:o.BlockSize.Full},a.default.createElement("form",{onSubmit:e=>e.preventDefault()},a.default.createElement(i.default,{onChange:t,onClearCallback:n}),e&&a.default.createElement(r.Box,{marginTop:2},a.default.createElement(r.Text,{"data-testid":"import-srp-error",variant:o.TextVariant.bodySm,color:o.TextColor.errorDefault},e))))))}}}},{package:"$root$",file:"ui/pages/srp-input-form/index.tsx"}],[7835,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/selectors":5751,"../../../components/component-library":6325,"../../../components/ui/box":6725,"../../../components/ui/pulse-loader":6806,"../../../contexts/i18n":6850,"../../../contexts/metametrics":6855,"../../../ducks/swaps/swaps":6895,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../selectors/selectors":7903,"../swaps-footer":7861,"./swap-step-icon":7837,"lodash/isEqual":4622,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useContext)(i.I18nContext),t=(0,o.useNavigate)(),n=(0,r.useDispatch)(),E=(0,r.useSelector)(l.getFetchParams,s.default),{destinationTokenInfo:T,sourceTokenInfo:v}=(null==E?void 0:E.metaData)||{},_=(0,r.useSelector)(l.getApproveTxParams,r.shallowEqual),S=(0,r.useSelector)(c.isHardwareWallet),w=(0,r.useSelector)(c.getHardwareWalletType),I=(0,r.useSelector)(u.getSmartTransactionsOptInStatusForMetrics),x=(0,r.useSelector)(u.getSmartTransactionsEnabled),k=(0,r.useSelector)(l.getCurrentSmartTransactionsEnabled),M=Boolean(_),R=(0,a.useContext)(g.MetaMetricsContext);(0,a.useEffect)(()=>{R({event:"Awaiting Signature(s) on a HW wallet",category:y.MetaMetricsEventCategory.Swaps,sensitiveProperties:{needs_two_confirmations:M,token_from:null==v?void 0:v.symbol,token_from_amount:null==E?void 0:E.value,token_to:null==T?void 0:T.symbol,request_type:null!=E&&E.balanceError?"Quote":"Order",slippage:null==E?void 0:E.slippage,custom_slippage:2===(null==E?void 0:E.slippage),is_hardware_wallet:S,hardware_wallet_type:w,stx_enabled:x,current_stx_enabled:k,stx_user_opt_in:I}})},[]);const A=e(M?"swapTwoTransactions":"swapConfirmWithHwWallet");return a.default.createElement("div",{className:"awaiting-signatures"},a.default.createElement(m.default,{paddingLeft:8,paddingRight:8,height:f.BLOCK_SIZES.FULL,justifyContent:f.JustifyContent.center,display:f.DISPLAY.FLEX,className:"awaiting-signatures__content"},a.default.createElement(m.default,{marginTop:3,marginBottom:4},a.default.createElement(p.default,null)),a.default.createElement(b.Text,{color:f.TextColor.textDefault,variant:f.TextVariant.headingMd,as:"h3"},A),M&&a.default.createElement(a.default.Fragment,null,a.default.createElement(b.Text,{variant:f.TextVariant.bodyMdBold,marginTop:2},e("swapToConfirmWithHwWallet")),a.default.createElement("ul",{className:"awaiting-signatures__steps"},a.default.createElement("li",null,a.default.createElement(C.default,{stepNumber:1}),e("swapAllowSwappingOf",[a.default.createElement(b.Text,{as:"span",variant:f.TextVariant.bodyMdBold,key:"allowToken"},null==T?void 0:T.symbol)])),a.default.createElement("li",null,a.default.createElement(C.default,{stepNumber:2}),e("swapFromTo",[a.default.createElement(b.Text,{as:"span",variant:f.TextVariant.bodyMdBold,key:"tokenFrom"},null==v?void 0:v.symbol),a.default.createElement(b.Text,{as:"span",variation:f.TextVariant.bodyMdBold,key:"tokenTo"},null==T?void 0:T.symbol)]))),a.default.createElement(b.Text,{variant:f.TextVariant.bodyMd},e("swapGasFeesSplit")))),a.default.createElement(h.default,{onSubmit:async()=>{await n((0,l.prepareToLeaveSwaps)()),t(d.PREPARE_SWAP_ROUTE)},submitText:e("cancel"),hideCancel:!0}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),s=E(e("lodash/isEqual")),i=e("../../../contexts/i18n"),l=e("../../../ducks/swaps/swaps"),c=e("../../../selectors/selectors"),u=e("../../../../shared/modules/selectors"),d=e("../../../helpers/constants/routes"),p=E(e("../../../components/ui/pulse-loader")),m=E(e("../../../components/ui/box")),f=e("../../../helpers/constants/design-system"),h=E(e("../swaps-footer")),g=e("../../../contexts/metametrics"),y=e("../../../../shared/constants/metametrics"),b=e("../../../components/component-library"),C=E(e("./swap-step-icon"));function E(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[7836,{"./awaiting-signatures":7835},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./awaiting-signatures"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/index.js"}],[7837,{"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var a=o(e("react")),r=o(e("prop-types"));function o(e){return e&&e.__esModule?e:{default:e}}function s({stepNumber:e=1}){switch(e){case 1:return a.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),a.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"}));case 2:return a.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),a.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"}));default:return undefined}}s.propTypes={stepNumber:r.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/swap-step-icon.js"}],[7838,{"../../../../shared/constants/common":5601,"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/swaps":5633,"../../../../shared/lib/ui-utils":5725,"../../../../shared/modules/selectors":5751,"../../../../shared/modules/selectors/networks":5753,"../../../../shared/modules/swaps.utils":5762,"../../../components/ui/mascot":6786,"../../../components/ui/pulse-loader":6806,"../../../contexts/i18n":6850,"../../../contexts/metametrics":6855,"../../../ducks/metamask/metamask":6883,"../../../ducks/swaps/swaps":6895,"../../../helpers/constants/routes":6904,"../../../helpers/utils/build-types":6925,"../../../selectors":7886,"../../../selectors/selectors":7903,"../../../store/actions":7916,"../create-new-swap":7844,"../swaps-footer":7861,"../swaps.util":7864,"../view-on-block-explorer":7865,"./quotes-timeout-icon":7840,"./swap-failure-icon":7841,"./swap-success-icon":7842,"@metamask/etherscan-link":1994,events:4180,"lodash/isEqual":4622,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=F;var a=N(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=N(e("prop-types")),i=e("react-router-dom-v5-compat"),l=N(e("lodash/isEqual")),c=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/modules/selectors/networks"),f=e("../../../ducks/metamask/metamask"),h=e("../../../selectors"),g=e("../../../selectors/selectors"),y=e("../../../../shared/modules/selectors"),b=e("../../../ducks/swaps/swaps"),C=N(e("../../../components/ui/mascot")),E=e("../../../../shared/constants/swaps"),T=e("../../../../shared/constants/common"),v=e("../../../../shared/modules/swaps.utils"),_=N(e("../../../components/ui/pulse-loader")),S=e("../../../helpers/utils/build-types"),w=e("../../../helpers/constants/routes"),I=e("../../../store/actions"),x=e("../swaps.util"),k=N(e("../swaps-footer")),M=N(e("../create-new-swap")),R=N(e("../view-on-block-explorer")),A=e("../../../../shared/lib/ui-utils"),O=N(e("./swap-failure-icon")),D=N(e("./swap-success-icon")),P=N(e("./quotes-timeout-icon"));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function N(e){return e&&e.__esModule?e:{default:e}}function F({swapComplete:e,errorKey:t,txHash:n,tokensReceived:s,submittingSwap:B,txId:N}){var F,L;const j=(0,r.useContext)(u.I18nContext),U=(0,r.useContext)(d.MetaMetricsContext),W=(0,i.useNavigate)(),q=(0,o.useDispatch)(),$=(0,o.useSelector)(g.getHDEntropyIndex),H=(0,r.useRef)(new a.default),{swapMetaData:K}=(0,o.useSelector)(e=>(0,h.getFullTxData)(e,N))||{},V=(0,o.useSelector)(b.getFetchParams,l.default),G=(0,o.useSelector)(b.getFromTokenInputValue),Y=(0,o.useSelector)(b.getMaxSlippage),z=(0,o.useSelector)(b.getUsedQuote,l.default),Z=(0,o.useSelector)(b.getApproveTxParams,o.shallowEqual),X=(0,o.useSelector)(b.getUsedSwapsGasPrice),Q=(0,o.useSelector)(f.getCurrentCurrency),J=(0,o.useSelector)(h.getUSDConversionRate),ee=(0,o.useSelector)(m.getCurrentChainId),te=(0,o.useSelector)(h.getRpcPrefsForCurrentProvider,o.shallowEqual),[ne,ae]=(0,r.useState)(!1),re=(null==z||null===(F=z.destinationTokenInfo)||void 0===F?void 0:F.symbol)||(null==K?void 0:K.token_to);let oe;if(z&&X){var se,ie;oe=(0,x.getRenderableNetworkFeesForQuote)({tradeGas:z.gasEstimateWithRefund||z.averageGas,approveGas:(null==Z?void 0:Z.gas)||"0x0",gasPrice:X,currentCurrency:Q,conversionRate:J,tradeValue:null==z||null===(se=z.trade)||void 0===se?void 0:se.value,sourceSymbol:null==z||null===(ie=z.sourceTokenInfo)||void 0===ie?void 0:ie.symbol,sourceAmount:z.sourceAmount,chainId:ee}).rawNetworkFees}const le=(0,o.useSelector)(h.isHardwareWallet),ce=(0,o.useSelector)(h.getHardwareWalletType),ue=(0,o.useSelector)(y.getSmartTransactionsOptInStatusForMetrics),de=(0,o.useSelector)(y.getSmartTransactionsEnabled),pe=(0,o.useSelector)(b.getCurrentSmartTransactionsEnabled),me=(null==K?void 0:K.slippage)||(null==z?void 0:z.slippage),fe={token_from:(null==K?void 0:K.token_from)||(null==z||null===(L=z.sourceTokenInfo)||void 0===L?void 0:L.symbol),token_from_amount:null==K?void 0:K.token_from_amount,token_to:re,request_type:null!=V&&V.balanceError?"Quote":"Order",slippage:me,custom_slippage:2===me,gas_fees:oe,is_hardware_wallet:le,hardware_wallet_type:ce,stx_enabled:de,current_stx_enabled:pe,stx_user_opt_in:ue},he=te.blockExplorerUrl??T.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ee]??null,ge=(0,c.getBlockExplorerLink)({hash:n,chainId:ee},{blockExplorerUrl:he});let ye,be,Ce,Ee,Te;t===E.OFFLINE_FOR_MAINTENANCE?(ye=j("offlineForMaintenance"),Ce=j("metamaskSwapsOfflineDescription"),Ee=j("close"),be=r.default.createElement(O.default,null)):t===E.SWAP_FAILED_ERROR?(ye=j("swapFailedErrorTitle"),Ce=j("swapFailedErrorDescriptionWithSupportLink",[r.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:A.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{U({category:p.MetaMetricsEventCategory.Swaps,event:p.MetaMetricsEventName.SupportLinkClicked,properties:{url:A.SUPPORT_LINK}},{contextPropsIntoEventProperties:[p.MetaMetricsContextProp.PageTitle]})}},new URL(A.SUPPORT_LINK).hostname)]),Ee=j("tryAgain"),be=r.default.createElement(O.default,null),Te=ge&&r.default.createElement(R.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:fe})):t===E.QUOTES_EXPIRED_ERROR?(ye=j("swapQuotesExpiredErrorTitle"),Ce=j("swapQuotesExpiredErrorDescription"),Ee=j("tryAgain"),be=r.default.createElement(P.default,null),ne||(ae(!0),U({event:"Quotes Timed Out",category:p.MetaMetricsEventCategory.Swaps,sensitiveProperties:fe,properties:{hd_entropy_index:$}}))):t===E.ERROR_FETCHING_QUOTES?(ye=j("swapFetchingQuotesErrorTitle"),Ce=j("swapFetchingQuotesErrorDescription"),Ee=j("back"),be=r.default.createElement(O.default,null)):t===E.QUOTES_NOT_AVAILABLE_ERROR?(ye=j("swapQuotesNotAvailableErrorTitle"),Ce=j("swapQuotesNotAvailableErrorDescription"),Ee=j("tryAgain"),be=r.default.createElement(O.default,null)):t===E.CONTRACT_DATA_DISABLED_ERROR?(ye=j("swapContractDataDisabledErrorTitle"),Ce=j("swapContractDataDisabledErrorDescription"),Ee=j("tryAgain"),be=r.default.createElement(O.default,null)):t||e?!t&&e&&(ye=j("swapTransactionComplete"),be=r.default.createElement(D.default,null),Ee=j("close"),Ce=j("swapTokenAvailable",[r.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${s||""} ${re}`)]),Te=ge&&r.default.createElement(R.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:fe})):(ye=j("swapProcessing"),be=r.default.createElement(_.default,null),Ee=j("swapsViewInActivity"),Ce=j("swapOnceTransactionHasProcess",[r.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol","data-testid":"awaiting-swap-amount-and-symbol"},re)]),Te=ge&&r.default.createElement(R.default,{blockExplorerUrl:ge,sensitiveTrackingProperties:fe})),(0,r.useEffect)(()=>{t&&q((0,I.stopPollingForQuotes)())},[q,t]);return r.default.createElement("div",{className:"awaiting-swap"},r.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&((0,S.isFlask)()||(0,S.isBeta)()?r.default.createElement("div",{className:"awaiting-swap__mascot"},r.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"})):r.default.createElement(C.default,{animationEventEmitter:H.current,width:"90",height:"90"})),r.default.createElement("div",{className:"awaiting-swap__status-image"},be),r.default.createElement("div",{className:"awaiting-swap__header","data-testid":"awaiting-swap-header"},ye),r.default.createElement("div",{className:"awaiting-swap__main-description","data-testid":"awaiting-swap-main-description"},Ce),Te),!t&&e?r.default.createElement(M.default,{sensitiveTrackingProperties:fe}):null,r.default.createElement(k.default,{onSubmit:async()=>{t===E.OFFLINE_FOR_MAINTENANCE?(await q((0,b.prepareToLeaveSwaps)()),W(w.DEFAULT_ROUTE)):t===E.QUOTES_EXPIRED_ERROR?(q((0,b.prepareForRetryGetQuotes)()),await q((0,b.fetchQuotesAndSetQuoteState)(W,G,Y,U))):t?await q((0,b.navigateBackToPrepareSwap)(W)):((0,v.isSwapsDefaultTokenSymbol)(re,ee)||e||await q((0,I.setDefaultHomeActiveTabName)("activity")),W(w.DEFAULT_ROUTE))},onCancel:async()=>await q((0,b.navigateBackToPrepareSwap)(W)),submitText:Ee,disabled:B,hideCancel:t!==E.QUOTES_EXPIRED_ERROR}))}F.propTypes={swapComplete:s.default.bool,txHash:s.default.string,tokensReceived:s.default.string,errorKey:s.default.oneOf([E.QUOTES_EXPIRED_ERROR,E.SWAP_FAILED_ERROR,E.ERROR_FETCHING_QUOTES,E.QUOTES_NOT_AVAILABLE_ERROR,E.OFFLINE_FOR_MAINTENANCE,E.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:s.default.bool,txId:s.default.string}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[7839,{"./awaiting-swap":7838},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./awaiting-swap"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/index.js"}],[7840,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/quotes-timeout-icon.js"}],[7841,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-failure-icon.js"}],[7842,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-success-icon.js"}],[7843,{"../../../../shared/constants/metametrics":5613,"../../../components/ui/box":6725,"../../../contexts/i18n":6850,"../../../contexts/metametrics":6855,"../../../ducks/swaps/swaps":6895,"../../../helpers/constants/routes":6904,"../../../selectors":7886,"../../../selectors/selectors":7903,"lodash/isEqual":4622,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=g(e("prop-types")),s=e("react-router-dom-v5-compat"),i=g(e("lodash/isEqual")),l=g(e("../../../components/ui/box")),c=e("../../../contexts/i18n"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../../ducks/swaps/swaps"),m=e("../../../helpers/constants/routes"),f=e("../../../selectors"),h=e("../../../selectors/selectors");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b({sensitiveTrackingProperties:e}){const t=(0,a.useContext)(c.I18nContext),n=(0,a.useContext)(u.MetaMetricsContext),o=(0,r.useSelector)(h.getHDEntropyIndex),g=(0,r.useDispatch)(),y=(0,s.useNavigate)(),b=(0,r.useSelector)(f.getSwapsDefaultToken,i.default);return a.default.createElement(l.default,{marginBottom:3,className:"create-new-swap"},a.default.createElement("button",{onClick:async()=>{n({event:d.MetaMetricsEventName.MakeAnotherSwap,category:d.MetaMetricsEventCategory.Swaps,sensitiveProperties:e,properties:{hd_entropy_index:o}}),y(m.DEFAULT_ROUTE),await g((0,p.navigateBackToPrepareSwap)(y)),g((0,p.setSwapsFromToken)(b))}},t("makeAnotherSwap")))}b.propTypes={sensitiveTrackingProperties:o.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/create-new-swap.js"}],[7844,{"./create-new-swap":7843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./create-new-swap"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/index.js"}],[7845,{"../../../ducks/swaps/swaps":6895,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwapsFeatureFlags=function(){const e=(0,r.useDispatch)();(0,a.useEffect)(()=>{(async()=>{await e((0,o.fetchSwapsLivenessAndFeatureFlags)())})()},[e])};var a=e("react"),r=e("react-redux"),o=e("../../../ducks/swaps/swaps")}}},{package:"$root$",file:"ui/pages/swaps/hooks/useSwapsFeatureFlags.ts"}],[7846,{"../../../../shared/modules/selectors/networks":5753,"../../../ducks/swaps/swaps":6895,"../../../selectors":7886,"../../../store/actions":7916,"../swaps.util":7864,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)(l.getCurrentChainId),n=(0,r.useSelector)(c.getIsSwapsChain),u=(0,r.useSelector)(c.checkNetworkAndAccountSupports1559),d=(0,r.useSelector)(c.getUseExternalServices);(0,a.useEffect)(()=>n&&d?((0,o.fetchTokens)(t).then(t=>{e((0,i.setSwapsTokens)(t))}).catch(e=>console.error(e)),(0,o.fetchTopAssets)(t).then(t=>{e((0,s.setTopAssets)(t))}),(0,o.fetchAggregatorMetadata)(t).then(t=>{e((0,s.setAggregatorMetadata)(t))}),u||e((0,s.fetchAndSetSwapsGasPriceInfo)()),()=>{e((0,s.prepareToLeaveSwaps)())}):undefined,[e,t,u,n,d])};var a=e("react"),r=e("react-redux"),o=e("../swaps.util"),s=e("../../../ducks/swaps/swaps"),i=e("../../../store/actions"),l=e("../../../../shared/modules/selectors/networks"),c=e("../../../selectors")}}},{package:"$root$",file:"ui/pages/swaps/hooks/useUpdateSwapsState.ts"}],[7847,{"../../../shared/constants/metametrics":5613,"../../../shared/constants/swaps":5633,"../../../shared/lib/transactions-controller-utils":5720,"../../../shared/modules/selectors":5751,"../../../shared/modules/selectors/networks":5753,"../../components/component-library":6325,"../../components/ui/box":6725,"../../contexts/i18n":6850,"../../contexts/metametrics":6855,"../../ducks/swaps/swaps":6895,"../../helpers/constants/design-system":6899,"../../helpers/constants/routes":6904,"../../helpers/higher-order-components/feature-toggled-route":6915,"../../hooks/useGasFeeEstimates":7044,"../../hooks/useSafeNavigation":7069,"../../selectors":7886,"../../selectors/selectors":7903,"../../store/actions":7916,"./awaiting-signatures":7836,"./awaiting-swap":7839,"./hooks/useUpdateSwapsState":7846,"./loading-swaps-quotes":7849,"./notification-page/notification-page":7852,"./smart-transaction-status":7855,"@metamask/transaction-controller":2868,lodash:4635,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=B;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=D(e("prop-types")),o=e("react-redux"),s=e("react-router-dom-v5-compat"),i=e("lodash"),l=e("@metamask/transaction-controller"),c=e("../../contexts/i18n"),u=e("../../hooks/useSafeNavigation"),d=e("../../selectors/selectors"),p=e("../../../shared/modules/selectors/networks"),m=e("../../ducks/swaps/swaps"),f=e("../../selectors"),h=e("../../../shared/modules/selectors"),g=e("../../helpers/constants/routes"),y=e("../../../shared/constants/swaps"),b=e("../../store/actions"),C=e("../../hooks/useGasFeeEstimates"),E=D(e("../../helpers/higher-order-components/feature-toggled-route")),T=e("../../../shared/constants/metametrics"),v=e("../../contexts/metametrics"),_=e("../../../shared/lib/transactions-controller-utils"),S=e("../../components/component-library"),w=D(e("../../components/ui/box")),I=e("../../helpers/constants/design-system"),x=D(e("./hooks/useUpdateSwapsState")),k=D(e("./awaiting-signatures")),M=D(e("./smart-transaction-status")),R=D(e("./awaiting-swap")),A=D(e("./loading-swaps-quotes")),O=D(e("./notification-page/notification-page"));function D(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function B({location:e}){var t,n,r,D;const P=(0,a.useContext)(c.I18nContext),{navigate:B,location:N}=(0,u.useSafeNavigation)(),F=e||N,L=(0,o.useDispatch)(),j=(0,a.useContext)(v.MetaMetricsContext),U=(0,o.useSelector)(d.getHDEntropyIndex),{pathname:W}=F,q=W===g.AWAITING_SWAP_ROUTE,$=W===g.AWAITING_SIGNATURES_ROUTE,H=W===g.SWAPS_ERROR_ROUTE,K=W===g.LOADING_QUOTES_ROUTE,V=W===g.SMART_TRANSACTION_STATUS_ROUTE,G=W===g.PREPARE_SWAP_ROUTE,[Y,z]=(0,a.useState)(!1),Z=(0,o.useSelector)(m.getFetchParams,i.isEqual),{destinationTokenInfo:X={}}=(null==Z?void 0:Z.metaData)||{},Q=(0,o.useSelector)(m.getBackgroundSwapRouteState),J=(0,o.useSelector)(d.getSelectedAccount,o.shallowEqual),ee=(0,o.useSelector)(m.getQuotes,i.isEqual),te=(0,o.useSelector)(m.getLatestAddedTokenTo,i.isEqual),ne=(0,o.useSelector)(f.getCurrentNetworkTransactions,o.shallowEqual),ae=(0,o.useSelector)(m.getTradeTxId),re=(0,o.useSelector)(m.getApproveTxId),oe=(0,o.useSelector)(m.getAggregatorMetadata,o.shallowEqual),se=(0,o.useSelector)(m.getFetchingQuotes);let ie=(0,o.useSelector)(m.getSwapsErrorKey);const le=(0,o.useSelector)(m.getSwapsFeatureIsLive),ce=(0,o.useSelector)(p.getCurrentChainId),ue=(0,o.useSelector)(d.getIsSwapsChain),de=(0,o.useSelector)(m.getReviewSwapClickedTimestamp),pe=Boolean(de),me=(0,o.useSelector)(h.getSmartTransactionsOptInStatusForMetrics),fe=(0,o.useSelector)(h.getSmartTransactionsEnabled),he=(0,o.useSelector)(m.getCurrentSmartTransactionsEnabled),ge=(0,o.useSelector)(m.getCurrentSmartTransactionsError),ye=(0,o.useSelector)(p.getSelectedNetworkClientId);(0,a.useEffect)(()=>{ue||(async()=>{await L((0,m.prepareToLeaveSwaps)()),B(g.DEFAULT_ROUTE)})()},[ue,L,B]),(0,C.useGasFeeEstimates)();const{address:be}=J,Ce=re&&ne.find(({id:e})=>re===e),Ee=ae&&ne.find(({id:e})=>ae===e),Te=(null==Ee?void 0:Ee.txReceipt)&&(0,_.getSwapsTokensReceivedFromTxMeta)(null==X?void 0:X.symbol,Ee,null==X?void 0:X.address,be,null==X?void 0:X.decimals,Ce,ce),ve=(null==Ee?void 0:Ee.status)===l.TransactionStatus.confirmed,_e=(null==Ce?void 0:Ce.status)===l.TransactionStatus.failed||"0x0"===(null==Ce||null===(t=Ce.txReceipt)||void 0===t?void 0:t.status),Se=(null==Ee?void 0:Ee.status)===l.TransactionStatus.failed||"0x0"===(null==Ee||null===(n=Ee.txReceipt)||void 0===n?void 0:n.status),we=_e||Se;we&&ie!==y.CONTRACT_DATA_DISABLED_ERROR&&(ie=y.SWAP_FAILED_ERROR);const Ie=(0,a.useRef)();(0,a.useEffect)(()=>{Ie.current=()=>{!te||q&&!we||L((0,b.ignoreTokens)({tokensToIgnore:te,dontShowLoadingIndicator:!0,networkClientId:ye}))}},[we,L,te,X,Z,q,ye]),(0,a.useEffect)(()=>()=>{Ie.current()},[]),(0,x.default)();const xe=(0,o.useSelector)(d.isHardwareWallet),ke=(0,o.useSelector)(d.getHardwareWalletType),Me=(0,a.useRef)();(0,a.useEffect)(()=>{Me.current=()=>{var e,t;j({event:T.MetaMetricsEventName.ExitedSwaps,category:T.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==Z||null===(e=Z.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==Z?void 0:Z.value,request_type:null==Z?void 0:Z.balanceError,token_to:null==Z||null===(t=Z.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==Z?void 0:Z.slippage,custom_slippage:2!==(null==Z?void 0:Z.slippage),current_screen:W.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:xe,hardware_wallet_type:ke,stx_enabled:fe,current_stx_enabled:he,stx_user_opt_in:me},properties:{hd_entropy_index:U}})}}),(0,a.useEffect)(()=>((async()=>{await L((0,m.fetchSwapsLivenessAndFeatureFlags)())})(),()=>{Me.current()}),[L]),(0,a.useEffect)(()=>{ie&&!H&&pe&&B(g.SWAPS_ERROR_ROUTE)},[B,ie,H,pe]);const Re=(0,a.useRef)();(0,a.useEffect)(()=>{const e=()=>(Ie.current(),K&&L((0,m.prepareToLeaveSwaps)()),null);return K&&!Re.current&&(Re.current=!0,window.addEventListener("beforeunload",e)),()=>window.removeEventListener("beforeunload",e)},[L,K]);const Ae=(0,a.useCallback)(()=>{var e,t;j({event:"Error Smart Transactions",category:T.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==Z||null===(e=Z.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==Z?void 0:Z.value,request_type:null==Z?void 0:Z.balanceError,token_to:null==Z||null===(t=Z.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==Z?void 0:Z.slippage,custom_slippage:2!==(null==Z?void 0:Z.slippage),current_screen:W.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:xe,hardware_wallet_type:ke,stx_enabled:fe,current_stx_enabled:he,stx_user_opt_in:me,stx_error:ge}})},[ge,he,j,null==Z?void 0:Z.balanceError,null==Z||null===(r=Z.destinationTokenInfo)||void 0===r?void 0:r.symbol,null==Z?void 0:Z.slippage,null==Z||null===(D=Z.sourceTokenInfo)||void 0===D?void 0:D.symbol,null==Z?void 0:Z.value,ke,xe,W,fe,me]);if((0,a.useEffect)(()=>{ge&&!Y&&(z(!0),Ae())},[ge,Ae,Y]),!ue)return a.default.createElement(a.default.Fragment,null);const Oe=async()=>{Ie.current(),B(g.DEFAULT_ROUTE,{state:{stayOnHomePage:!0}}),L((0,m.clearSwapsState)()),await L((0,b.resetBackgroundSwapsState)())};return a.default.createElement("div",{className:"swaps"},a.default.createElement("div",{className:"swaps__container"},a.default.createElement("div",{className:"swaps__header"},a.default.createElement(w.default,{display:I.DISPLAY.FLEX,justifyContent:I.JustifyContent.center,marginLeft:4,width:I.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:e=>{"Enter"===e.key&&Oe()}},!q&&!$&&!V&&a.default.createElement(S.Icon,{name:S.IconName.Arrow2Left,size:S.IconSize.Lg,color:I.IconColor.iconAlternative,onClick:Oe,style:{cursor:"pointer"},title:P("cancel")})),a.default.createElement("div",{className:"swaps__title"},P("swap")),a.default.createElement(w.default,{display:I.DISPLAY.FLEX,justifyContent:I.JustifyContent.center,marginRight:4,width:I.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:e=>{"Enter"===e.key&&L((0,m.setTransactionSettingsOpened)(!0))}},G&&a.default.createElement(S.Icon,{name:S.IconName.Setting,size:S.IconSize.Lg,color:I.IconColor.iconAlternative,onClick:()=>{L((0,m.setTransactionSettingsOpened)(!0))},style:{cursor:"pointer"},title:P("transactionSettings")}))),a.default.createElement("div",{className:"swaps__content"},a.default.createElement(s.Routes,null,a.default.createElement(s.Route,{path:g.PREPARE_SWAP_ROUTE,element:a.default.createElement(E.default,{redirectRoute:g.SWAPS_MAINTENANCE_ROUTE,flag:le,element:a.default.createElement(s.Navigate,{to:`${g.CROSS_CHAIN_SWAP_ROUTE}${g.PREPARE_SWAP_ROUTE}`,replace:!0})})}),a.default.createElement(s.Route,{path:g.SWAPS_ERROR_ROUTE,element:ie?a.default.createElement(R.default,{swapComplete:!1,errorKey:ie,txHash:null==Ee?void 0:Ee.hash,txId:null==Ee?void 0:Ee.id,submittedTime:null==Ee?void 0:Ee.submittedTime}):a.default.createElement(s.Navigate,{to:g.PREPARE_SWAP_ROUTE,replace:!0})}),a.default.createElement(s.Route,{path:g.SWAPS_NOTIFICATION_ROUTE,element:ie?a.default.createElement(O.default,{notificationKey:ie}):a.default.createElement(s.Navigate,{to:g.PREPARE_SWAP_ROUTE,replace:!0})}),a.default.createElement(s.Route,{path:g.LOADING_QUOTES_ROUTE,element:a.default.createElement(E.default,{redirectRoute:g.SWAPS_MAINTENANCE_ROUTE,flag:le,element:oe?a.default.createElement(A.default,{loadingComplete:!se&&Boolean(Object.values(ee).length),onDone:async()=>{await L((0,b.setBackgroundSwapRouteState)("")),ie===y.ERROR_FETCHING_QUOTES||ie===y.QUOTES_NOT_AVAILABLE_ERROR?(L((0,b.setSwapsErrorKey)(y.QUOTES_NOT_AVAILABLE_ERROR)),B(g.SWAPS_ERROR_ROUTE)):B(g.PREPARE_SWAP_ROUTE)},aggregatorMetadata:oe}):a.default.createElement(s.Navigate,{to:g.PREPARE_SWAP_ROUTE,replace:!0})})}),a.default.createElement(s.Route,{path:g.SWAPS_MAINTENANCE_ROUTE,element:!1===le?a.default.createElement(R.default,{errorKey:y.OFFLINE_FOR_MAINTENANCE}):a.default.createElement(s.Navigate,{to:g.PREPARE_SWAP_ROUTE,replace:!0})}),a.default.createElement(s.Route,{path:g.AWAITING_SIGNATURES_ROUTE,element:a.default.createElement(k.default,null)}),a.default.createElement(s.Route,{path:g.SMART_TRANSACTION_STATUS_ROUTE,element:a.default.createElement(M.default,{txId:null==Ee?void 0:Ee.id})}),a.default.createElement(s.Route,{path:g.AWAITING_SWAP_ROUTE,element:"awaiting"===Q||Ee?a.default.createElement(R.default,{swapComplete:ve,txHash:null==Ee?void 0:Ee.hash,tokensReceived:Te,txId:null==Ee?void 0:Ee.id,submittingSwap:"awaiting"===Q&&!(re||ae)}):a.default.createElement(s.Navigate,{to:g.DEFAULT_ROUTE,replace:!0})})))))}B.propTypes={location:r.default.object}}}},{package:"$root$",file:"ui/pages/swaps/index.js"}],[7848,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"loading-swaps-quotes__background-1","data-testid":"loading-swaps-quotes-background-1"},r.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),r.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),r.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),r.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),r.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),r.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),r.default.createElement("div",{className:"loading-swaps-quotes__background-2","data-testid":"loading-swaps-quotes-background-2"},r.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),r.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#FFE466"}),r.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),r.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/background-animation.js"}],[7849,{"./loading-swaps-quotes":7850},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./loading-swaps-quotes"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/index.js"}],[7850,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/selectors":5751,"../../../components/component-library":6325,"../../../components/ui/mascot":6786,"../../../contexts/i18n":6850,"../../../contexts/metametrics":6855,"../../../ducks/swaps/swaps":6895,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/build-types":6925,"../../../selectors/selectors":7903,"../swaps-footer":7861,"./background-animation":7848,events:4180,lodash:4635,"lodash/isEqual":4622,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=S;var a=_(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=_(e("prop-types")),i=e("lodash"),l=e("react-router-dom-v5-compat"),c=_(e("lodash/isEqual")),u=e("../../../ducks/swaps/swaps"),d=e("../../../selectors/selectors"),p=e("../../../../shared/modules/selectors"),m=e("../../../contexts/i18n"),f=e("../../../contexts/metametrics"),h=_(e("../../../components/ui/mascot")),g=e("../../../../shared/constants/metametrics"),y=_(e("../swaps-footer")),b=e("../../../components/component-library"),C=e("../../../helpers/constants/design-system"),E=e("../../../helpers/utils/build-types"),T=_(e("./background-animation"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function S({aggregatorMetadata:e,loadingComplete:t,onDone:n}){var s,v;const _=(0,r.useContext)(m.I18nContext),S=(0,r.useContext)(f.MetaMetricsContext),w=(0,o.useDispatch)(),I=(0,o.useSelector)(d.getHDEntropyIndex),x=(0,l.useNavigate)(),k=(0,r.useRef)(new a.default),M=(0,o.useSelector)(u.getFetchParams,c.default),R=(0,o.useSelector)(u.getQuotesFetchStartTime),A=(0,o.useSelector)(d.isHardwareWallet),O=(0,o.useSelector)(d.getHardwareWalletType),D=(0,o.useSelector)(p.getSmartTransactionsOptInStatusForMetrics),P=(0,o.useSelector)(p.getSmartTransactionsEnabled),B=(0,o.useSelector)(u.getCurrentSmartTransactionsEnabled),N={event:"Quotes Request Cancelled",category:g.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==M||null===(s=M.sourceTokenInfo)||void 0===s?void 0:s.symbol,token_from_amount:null==M?void 0:M.value,request_type:null==M?void 0:M.balanceError,token_to:null==M||null===(v=M.destinationTokenInfo)||void 0===v?void 0:v.symbol,slippage:null==M?void 0:M.slippage,custom_slippage:2!==(null==M?void 0:M.slippage),response_time:Date.now()-R,is_hardware_wallet:A,hardware_wallet_type:O,stx_enabled:P,current_stx_enabled:B,stx_user_opt_in:D},properties:{hd_entropy_index:I}},[F]=(0,r.useState)(()=>(0,i.shuffle)(Object.keys(e))),L=F.length,j=(0,r.useRef)(),U=j.current,[W,q]=(0,r.useState)(0),[$,H]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e;e=t?20:500+Math.floor(1500*Math.random());const a=setTimeout(()=>{W<L?q(W+1):W===L&&t&&n()},e);return function(){clearTimeout(a)}},[W,t,n,L]),(0,r.useEffect)(()=>{if(U){const{top:e,left:t,width:n,height:a}=U.getBoundingClientRect();H({x:t+n/2,y:e+a/2})}},[U]),r.default.createElement("div",{className:"loading-swaps-quotes"},r.default.createElement("div",{className:"loading-swaps-quotes__content"},r.default.createElement(r.default.Fragment,null,r.default.createElement(b.Text,{variant:C.TextVariant.bodyXs,"data-testid":"loading-swaps-quotes-quote-counter",color:C.TextColor.textAlternative,marginTop:1,display:C.Display.Flex,justifyContent:C.JustifyContent.center,width:C.BlockSize.Full,marginBottom:1},r.default.createElement("span",null,_("swapFetchingQuoteNofN",[Math.min(W+1,L),L]))),r.default.createElement(b.Text,{variant:C.TextVariant.headingSm,"data-testid":"loading-swaps-quotes-quote-name-check",color:C.TextColor.textDefault,display:C.Display.Flex,justifyContent:C.JustifyContent.center,width:C.BlockSize.Full,textTransform:C.TextTransform.Capitalize},r.default.createElement("span",null,_("swapFetchingQuotes"))),r.default.createElement("div",{className:"loading-swaps-quotes__loading-bar-container"},r.default.createElement("div",{className:"loading-swaps-quotes__loading-bar",style:{width:100/L*W+"%"}}))),r.default.createElement("div",{className:"loading-swaps-quotes__animation"},r.default.createElement(T.default,null),r.default.createElement("div",{className:"loading-swaps-quotes__mascot-container",ref:j},(0,E.isFlask)()||(0,E.isBeta)()?r.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"}):r.default.createElement(h.default,{animationEventEmitter:k.current,width:"90",height:"90",lookAtTarget:$})))),r.default.createElement(y.default,{submitText:_("back"),onSubmit:async()=>{S(N),await w((0,u.navigateBackToPrepareSwap)(x))},hideCancel:!0}))}S.propTypes={loadingComplete:s.default.bool.isRequired,onDone:s.default.func.isRequired,aggregatorMetadata:s.default.objectOf(s.default.shape({title:s.default.string,color:s.default.string,icon:s.default.string}))}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/loading-swaps-quotes.js"}],[7851,{"../../../components/ui/mascot":6786,"../../../helpers/utils/build-types":6925,events:4180,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=c(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=c(e("prop-types")),s=c(e("../../../components/ui/mascot")),i=e("../../../helpers/utils/build-types");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function u({height:e,width:t}){const n=(0,r.useRef)(new a.default);return r.default.createElement("div",{className:"mascot-background-animation__animation"},r.default.createElement("div",{className:"mascot-background-animation__background-1","data-testid":"mascot-background-animation-background-1"},r.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),r.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),r.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),r.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),r.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),r.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),r.default.createElement("div",{className:"mascot-background-animation__background-2","data-testid":"mascot-background-animation-background-2"},r.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),r.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#FFE466"}),r.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),r.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))),r.default.createElement("div",{className:"mascot-background-animation__mascot-container","data-testid":"mascot-background-animation-mascot-container"},(0,i.isFlask)()||(0,i.isBeta)()?r.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:t??"42",height:e??"42"}):r.default.createElement(s.default,{animationEventEmitter:n.current,width:t??"42",height:e??"42",followMouse:!1})))}u.propTypes={height:o.default.string,width:o.default.string}}}},{package:"$root$",file:"ui/pages/swaps/mascot-background-animation/mascot-background-animation.js"}],[7852,{"../../../../shared/constants/swaps":5633,"../../../components/component-library":6325,"../../../components/ui/box":6725,"../../../contexts/i18n":6850,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../store/actions":7916,"../swaps-footer":7861,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),s=h(e("prop-types")),i=e("../../../contexts/i18n"),l=e("../../../store/actions"),c=h(e("../../../components/ui/box")),u=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library"),p=e("../../../helpers/constants/routes"),m=h(e("../swaps-footer")),f=e("../../../../shared/constants/swaps");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y({notificationKey:e}){const t=(0,a.useContext)(i.I18nContext),n=(0,o.useNavigate)(),s=(0,r.useDispatch)();let h="",g="",y="";return e===f.QUOTES_EXPIRED_ERROR&&(h=t("swapAreYouStillThere"),g=t("swapAreYouStillThereDescription"),y=t("swapShowLatestQuotes")),a.default.createElement("div",{className:"notification-page"},a.default.createElement(c.default,{alignItems:u.AlignItems.center,display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.COLUMN,marginTop:10,marginLeft:4,marginRight:4,textAlign:u.TEXT_ALIGN.CENTER,className:"notification-page__content"},a.default.createElement(c.default,{marginTop:8,marginBottom:4},a.default.createElement(d.Icon,{name:d.IconName.Warning,color:u.IconColor.iconMuted,className:"notification-page__warning-icon"})),a.default.createElement(d.Text,{variant:u.TextVariant.bodyLgMedium,as:"h2"},h),a.default.createElement(d.Text,{variant:u.TextVariant.bodyMd,as:"h6"},g)),a.default.createElement(m.default,{onSubmit:async()=>{await s((0,l.setSwapsErrorKey)("")),n(p.PREPARE_SWAP_ROUTE)},submitText:y,hideCancel:!0,showTermsOfService:!0}))}y.propTypes={notificationKey:s.default.oneOf([f.QUOTES_EXPIRED_ERROR])}}}},{package:"$root$",file:"ui/pages/swaps/notification-page/notification-page.js"}],[7853,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M14.4946 6.14779C14.4863 5.93594 14.3991 5.69108 14.2539 5.53666L9.51334 0.49958C9.1921 0.21091 8.57613 0.0917437 8.21709 0.425509C7.86344 0.754237 7.87396 1.39178 8.22627 1.72181L11.5595 5.25889L1.1618 5.25889C0.670919 5.25889 0.272949 5.65687 0.272949 6.14779C0.272949 6.6387 0.670919 7.03668 1.1618 7.03668L11.5595 7.03668L8.22627 10.5738C7.92297 10.8776 7.86691 11.5376 8.21709 11.8701C8.56718 12.2025 9.20529 12.0963 9.51334 11.796L14.2539 6.75891C14.4161 6.58653 14.4952 6.38428 14.4946 6.14779Z",fill:"var(--color-text-muted)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/arrow-icon.js"}],[7854,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.5805 6.55143C36.1394 8.11033 37.3994 9.91222 38.3237 11.8681C38.7066 12.6782 39.0318 13.5148 39.2968 14.3714L39.3242 14.4606C39.4816 14.9785 39.6171 15.5037 39.73 16.0347C40.6511 20.3654 40.0335 24.9029 37.9511 28.8509C35.6001 33.308 31.5749 36.6487 26.7609 38.138C24.3773 38.8754 21.8717 39.1361 19.3873 38.9052C16.9029 38.6743 14.4883 37.9563 12.2813 36.7922C10.2608 35.7264 8.52045 34.3588 7.08333 32.7636C5.61245 31.1448 4.43054 29.2824 3.59178 27.2574C3.32329 26.6092 2.89685 25.2767 2.89685 25.2767H6.89583C7.68667 27.4068 8.96033 29.362 10.6288 30.9609L10.6318 30.96C11.5096 31.8005 12.501 32.5516 13.595 33.1786C15.8742 34.483 18.4736 35.1864 21.1455 35.1864C25.1768 35.1864 29.0429 33.585 31.8935 30.7345C34.744 27.8839 36.3455 24.0177 36.3455 19.9865C36.3455 18.7267 36.1891 17.483 35.8871 16.2814C35.8206 16.017 35.7471 15.7546 35.6666 15.4945C34.4752 11.6432 31.8027 8.42306 28.237 6.54231C24.6713 4.66156 20.5045 4.27429 16.6533 5.46571C12.8837 6.63189 9.71868 9.21706 7.82253 12.6699L12.8961 15.307L3.28331 18.3447L0.245605 8.73191L4.45005 10.9171C6.81537 6.56278 10.7905 3.30177 15.5303 1.83546C17.3658 1.26761 19.2587 0.986653 21.1455 0.986694C26.1846 0.986694 31.0173 2.98824 34.5805 6.55143Z",fill:"var(--color-primary-default)"}),r.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1252 22.1036L14.7107 18.689L12.0926 21.3257L18.1252 27.3584L30.2322 15.2515L27.614 12.6148L18.1252 22.1036Z",fill:"var(--color-primary-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/canceled-icon.js"}],[7855,{"./smart-transaction-status":7857},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./smart-transaction-status"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/index.js"}],[7856,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.6806 6.55143C36.2395 8.11033 37.4995 9.91222 38.4238 11.8681C38.8067 12.6782 39.1319 13.5148 39.3969 14.3714L39.4243 14.4606C39.5817 14.9785 39.7172 15.5037 39.8301 16.0347C40.7512 20.3654 40.1336 24.9029 38.0512 28.8509C35.7002 33.308 31.675 36.6487 26.861 38.138C24.4773 38.8754 21.9718 39.1361 19.4874 38.9052C17.003 38.6743 14.5884 37.9563 12.3814 36.7922C10.3609 35.7264 8.62055 34.3588 7.18343 32.7636C5.71254 31.1448 4.53064 29.2824 3.69188 27.2574C3.42339 26.6092 2.99695 25.2767 2.99695 25.2767H6.99592C7.78677 27.4068 9.06042 29.362 10.7289 30.9609L10.7319 30.96C11.6097 31.8005 12.6011 32.5516 13.6951 33.1786C15.9743 34.483 18.5737 35.1864 21.2456 35.1864C25.2769 35.1864 29.143 33.585 31.9936 30.7345C34.8441 27.8839 36.4456 24.0177 36.4456 19.9865C36.4456 18.7267 36.2892 17.483 35.9872 16.2814C35.9207 16.017 35.8471 15.7546 35.7667 15.4945C34.5753 11.6432 31.9028 8.42306 28.3371 6.54231C24.7714 4.66156 20.6046 4.27429 16.7534 5.46571C12.9838 6.63189 9.81878 9.21706 7.92263 12.6699L12.9962 15.307L3.3834 18.3447L0.345703 8.73191L4.55015 10.9171C6.91547 6.56278 10.8906 3.30177 15.6304 1.83546C17.4659 1.26761 19.3588 0.986653 21.2456 0.986694C26.2847 0.986694 31.1174 2.98824 34.6806 6.55143Z",fill:"var(--color-error-default)"}),r.default.createElement("path",{d:"M18.5849 19.9869L15.1454 23.4264L17.9845 26.2655L21.424 22.826L24.8635 26.2655L27.7026 23.4264L24.2631 19.9869L27.7026 16.5473L24.8635 13.7082L21.424 17.1478L17.9845 13.7082L15.1454 16.5473L18.5849 19.9869Z",fill:"var(--color-error-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/reverted-icon.js"}],[7857,{"../../../../shared/constants/common":5601,"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/transaction":5637,"../../../../shared/lib/transactions-controller-utils":5720,"../../../../shared/modules/selectors":5751,"../../../../shared/modules/selectors/networks":5753,"../../../components/component-library":6325,"../../../components/ui/box":6725,"../../../components/ui/url-icon":6844,"../../../contexts/i18n":6850,"../../../contexts/metametrics":6855,"../../../ducks/swaps/swaps":6895,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../selectors":7886,"../../../selectors/selectors":7903,"../../../store/actions":7916,"../create-new-swap":7844,"../swaps-footer":7861,"../swaps.util":7864,"../view-on-block-explorer":7865,"./arrow-icon":7853,"./canceled-icon":7854,"./reverted-icon":7856,"./success-icon":7858,"./timer-icon":7859,"./unknown-icon":7860,"@metamask/etherscan-link":1994,lodash:4635,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,B,N,F,L,j,U;const[W,q]=(0,a.useState)(!1),$=(0,a.useContext)(l.I18nContext),H=(0,o.useNavigate)(),K=(0,r.useDispatch)(),V=(0,r.useSelector)(k.getHDEntropyIndex),G=(0,r.useSelector)(c.getFetchParams,i.isEqual)||{},{destinationTokenInfo:Y={},sourceTokenInfo:z={}}=(null==G?void 0:G.metaData)||{},Z=(0,r.useSelector)(d.isHardwareWallet),X=(0,r.useSelector)(d.getHardwareWalletType),Q=(0,r.useSelector)(c.getUsedQuote,i.isEqual),J=(0,r.useSelector)(c.getCurrentSmartTransactions,i.isEqual),ee=(0,r.useSelector)(u.getCurrentChainId),te=(0,r.useSelector)(d.getRpcPrefsForCurrentProvider,r.shallowEqual),ne=(0,r.useSelector)(c.getSwapsNetworkConfig,r.shallowEqual),ae=(0,r.useSelector)(p.getSmartTransactionsEnabled),re=(0,r.useSelector)(c.getCurrentSmartTransactionsEnabled),oe=te.blockExplorerUrl??m.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ee]??null;let se,ie,le=T.SmartTransactionStatus.pending,ce={};if(J&&J.length>0){var ue,de,pe;ce=J[J.length-1],se=null===(ue=ce)||void 0===ue?void 0:ue.uuid,le=(null===(de=ce)||void 0===de?void 0:de.status)||T.SmartTransactionStatus.pending,ie=null===(pe=ce)||void 0===pe||null===(pe=pe.statusMetadata)||void 0===pe?void 0:pe.cancellationFeeWei}const[me,fe]=(0,a.useState)(ne.stxStatusDeadline),he={needs_two_confirmations:!0,token_from:z.symbol??(null===(e=ce)||void 0===e?void 0:e.sourceTokenSymbol),token_from_amount:(null==G?void 0:G.value)??(null===(t=ce)||void 0===t?void 0:t.swapTokenValue),token_to:Y.symbol??(null===(n=ce)||void 0===n?void 0:n.destinationTokenSymbol),request_type:null!=G&&G.balanceError?"Quote":"Order",slippage:null==G?void 0:G.slippage,custom_slippage:2===(null==G?void 0:G.slippage),is_hardware_wallet:Z,hardware_wallet_type:X,stx_enabled:ae,current_stx_enabled:re,stx_user_opt_in:(0,r.useSelector)(p.getSmartTransactionsOptInStatusForMetrics)};let ge;var ye;null!=Q&&Q.destinationAmount&&(ge=(0,x.calcTokenAmount)(null==Q?void 0:Q.destinationAmount,Y.decimals??(null===(ye=ce)||void 0===ye?void 0:ye.destinationTokenDecimals)).toPrecision(8));const be=(0,a.useContext)(S.MetaMetricsContext),Ce=le===T.SmartTransactionStatus.pending,Ee=Ce||le===T.SmartTransactionStatus.success,Te=null===(B=ce)||void 0===B||null===(B=B.statusMetadata)||void 0===B?void 0:B.minedHash;(0,a.useEffect)(()=>{be({event:"STX Status Page Loaded",category:E.MetaMetricsEventCategory.Swaps,sensitiveProperties:he,properties:{hd_entropy_index:V}})},[]),(0,a.useEffect)(()=>{let e;if(Ce&&se){const t=()=>{const t=Math.round((Date.now()-ce.time)/1e3);if(t>ne.stxStatusDeadline)return fe(0),void clearInterval(e);fe(ne.stxStatusDeadline-t)};e=setInterval(t,1e3),t()}return()=>clearInterval(e)},[K,Ce,se,ce.time,ne.stxStatusDeadline]),(0,a.useEffect)(()=>{K((0,C.setBackgroundSwapRouteState)("smartTransactionStatus")),setTimeout(()=>{K((0,C.stopPollingForQuotes)())},1e3)},[K]);let ve,_e,Se,we,Ie=$("stxPendingPrivatelySubmittingSwap");Ce&&(W?Ie=$("stxTryingToCancel"):ie>0&&(Ie=$("stxPendingPubliclySubmittingSwap")));if(le===T.SmartTransactionStatus.success){var xe,ke;if(Ie=$("stxSuccess"),Y.symbol||null!==(xe=ce)&&void 0!==xe&&xe.destinationTokenSymbol)ve=$("stxSuccessDescription",[Y.symbol??(null===(ke=ce)||void 0===ke?void 0:ke.destinationTokenSymbol)]);Se=a.default.createElement(M.default,null)}else"cancelled_user_cancelled"===le||(null===(N=ce)||void 0===N||null===(N=N.statusMetadata)||void 0===N?void 0:N.minedTx)===T.SmartTransactionStatus.cancelled?(Ie=$("stxUserCancelled"),ve=$("stxUserCancelledDescription"),Se=a.default.createElement(A.default,null)):le.startsWith("cancelled")||le.includes("deadline_missed")?(Ie=$("stxCancelled"),ve=$("stxCancelledDescription"),_e=$("stxCancelledSubDescription"),Se=a.default.createElement(A.default,null)):"unknown"===le?(Ie=$("stxUnknown"),ve=$("stxUnknownDescription"),Se=a.default.createElement(O.default,null)):"reverted"===le&&(Ie=$("stxFailure"),ve=$("stxFailureDescription",[a.default.createElement("a",{className:"smart-transaction-status__support-link",key:"smart-transaction-status-support-link",href:"https://support.metamask.io",target:"_blank",rel:"noopener noreferrer"},$("customerSupport"))]),Se=a.default.createElement(R.default,null));Te&&se&&(we=(0,s.getBlockExplorerLink)({hash:Te,chainId:ee},{blockExplorerUrl:oe}));const Me=ce.cancellable&&!W,Re=()=>a.default.createElement(g.default,{marginBottom:0},a.default.createElement("a",{className:"smart-transaction-status__cancel-swap-link",href:"#",onClick:e=>{null==e||e.preventDefault(),q(!0),be({event:"Cancel STX",category:E.MetaMetricsEventCategory.Swaps,sensitiveProperties:he,properties:{hd_entropy_index:V}}),K((0,c.cancelSwapsSmartTransaction)(se))}},$("attemptToCancelSwapForFree")));return a.default.createElement("div",{className:"smart-transaction-status"},a.default.createElement(g.default,{paddingLeft:8,paddingRight:8,height:b.BLOCK_SIZES.FULL,justifyContent:b.JustifyContent.flexStart,display:b.DISPLAY.FLEX,className:"smart-transaction-status__content"},a.default.createElement(g.default,{marginTop:10,marginBottom:0,display:b.DISPLAY.FLEX,justifyContent:b.JustifyContent.center,alignItems:b.AlignItems.center},a.default.createElement(h.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySm,as:"h6"},`${(null==G?void 0:G.value)&&Number(G.value).toFixed(5)} `),a.default.createElement(h.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySmBold,as:"h6",marginLeft:1,marginRight:2},z.symbol??(null===(F=ce)||void 0===F?void 0:F.sourceTokenSymbol)),z.iconUrl?a.default.createElement(y.default,{url:z.iconUrl,className:"smart-transactions-status-summary__icon",name:z.symbol??(null===(L=ce)||void 0===L?void 0:L.destinationTokenSymbol),fallbackClassName:"smart-transactions-status-summary__icon-fallback"}):null,a.default.createElement(g.default,{display:b.DISPLAY.BLOCK,marginLeft:2,marginRight:2},a.default.createElement(D.default,null)),Y.iconUrl?a.default.createElement(y.default,{url:Y.iconUrl,className:"smart-transactions-status-summary__icon",name:Y.symbol??(null===(j=ce)||void 0===j?void 0:j.destinationTokenSymbol),fallbackClassName:"smart-transactions-status-summary__icon-fallback"}):null,a.default.createElement(h.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySm,as:"h6",marginLeft:2},`~${ge&&Number(ge).toFixed(5)} `),a.default.createElement(h.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySmBold,as:"h6",marginLeft:1},Y.symbol??(null===(U=ce)||void 0===U?void 0:U.destinationTokenSymbol))),a.default.createElement(g.default,{marginTop:3,className:"smart-transaction-status__spacer-box--top"}),Se&&a.default.createElement(g.default,{marginTop:3,marginBottom:2},Se),Ce&&a.default.createElement(g.default,{marginTop:7,marginBottom:1,display:b.DISPLAY.FLEX,justifyContent:b.JustifyContent.center,alignItems:b.AlignItems.center},a.default.createElement(P.default,null),a.default.createElement(h.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySm,as:"h6",marginLeft:1},`${$("stxSwapCompleteIn")} `),a.default.createElement(h.Text,{color:b.TextColor.textAlternative,variant:b.TextVariant.bodySmBold,as:"h6",marginLeft:1,className:"smart-transaction-status__remaining-time"},(0,_.showRemainingTimeInMinAndSec)(me))),a.default.createElement(h.Text,{"data-testid":"swap-smart-transaction-status-header",color:b.TextColor.textDefault,variant:b.TextVariant.headingSm,as:"h4",fontWeight:b.FontWeight.Bold},Ie),Ce&&a.default.createElement("div",{className:"smart-transaction-status__loading-bar-container"},a.default.createElement("div",{className:"smart-transaction-status__loading-bar",style:{width:100/ne.stxStatusDeadline*(ne.stxStatusDeadline-me)+"%"}})),ve&&a.default.createElement(h.Text,{"data-testid":"swap-smart-transaction-status-description",variant:b.TextVariant.bodySm,as:"h6",marginTop:we&&1,color:b.TextColor.textAlternative},ve),we&&a.default.createElement(I.default,{blockExplorerUrl:we,sensitiveTrackingProperties:he}),a.default.createElement(g.default,{marginTop:3,className:"smart-transaction-status__spacer-box--bottom"}),_e&&a.default.createElement(h.Text,{variant:b.TextVariant.bodySm,as:"h6",marginTop:8,color:b.TextColor.textAlternative},_e)),Me&&se&&Ce&&a.default.createElement(Re,null),le===T.SmartTransactionStatus.success?a.default.createElement(w.default,{sensitiveTrackingProperties:he}):null,a.default.createElement(v.default,{onSubmit:async()=>{Ee?(await K((0,c.prepareToLeaveSwaps)()),H(f.DEFAULT_ROUTE)):H(f.PREPARE_SWAP_ROUTE)},onCancel:async()=>{await K((0,c.prepareToLeaveSwaps)()),H(f.DEFAULT_ROUTE)},submitText:$(Ee?"close":"tryAgain"),hideCancel:Ee,cancelText:$("close"),className:"smart-transaction-status__swaps-footer"}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),s=e("@metamask/etherscan-link"),i=e("lodash"),l=e("../../../contexts/i18n"),c=e("../../../ducks/swaps/swaps"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../selectors"),p=e("../../../../shared/modules/selectors"),m=e("../../../../shared/constants/common"),f=e("../../../helpers/constants/routes"),h=e("../../../components/component-library"),g=B(e("../../../components/ui/box")),y=B(e("../../../components/ui/url-icon")),b=e("../../../helpers/constants/design-system"),C=e("../../../store/actions"),E=e("../../../../shared/constants/metametrics"),T=e("../../../../shared/constants/transaction"),v=B(e("../swaps-footer")),_=e("../swaps.util"),S=e("../../../contexts/metametrics"),w=B(e("../create-new-swap")),I=B(e("../view-on-block-explorer")),x=e("../../../../shared/lib/transactions-controller-utils"),k=e("../../../selectors/selectors"),M=B(e("./success-icon")),R=B(e("./reverted-icon")),A=B(e("./canceled-icon")),O=B(e("./unknown-icon")),D=B(e("./arrow-icon")),P=B(e("./timer-icon"));function B(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/smart-transaction-status.js"}],[7858,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.5457 19.8983C34.5457 23.9296 32.9443 27.7958 30.0937 30.6463C27.2432 33.4969 23.377 35.0983 19.3457 35.0983C15.3144 35.0983 11.4482 33.4969 8.59768 30.6463C5.74713 27.7958 4.1457 23.9296 4.1457 19.8983C4.1457 15.867 5.74713 12.0008 8.59768 9.15029C11.4482 6.29974 15.3144 4.69832 19.3457 4.69832C20.7897 4.69832 22.1957 4.90732 23.5257 5.28732L26.5087 2.30432C24.3047 1.39232 21.8917 0.898315 19.3457 0.898315C16.8506 0.898315 14.3799 1.38977 12.0747 2.3446C9.76953 3.29944 7.67499 4.69897 5.91067 6.46329C2.34748 10.0265 0.345703 14.8592 0.345703 19.8983C0.345703 24.9374 2.34748 29.7702 5.91067 33.3333C7.67499 35.0977 9.76953 36.4972 12.0747 37.452C14.3799 38.4069 16.8506 38.8983 19.3457 38.8983C24.3848 38.8983 29.2175 36.8965 32.7807 33.3333C36.3439 29.7702 38.3457 24.9374 38.3457 19.8983H34.5457ZM11.5747 16.2503L8.8957 18.9483L17.4457 27.4983L36.4457 8.49832L33.7667 5.80032L17.4457 22.1213L11.5747 16.2503Z",fill:"var(--color-success-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/success-icon.js"}],[7859,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M7.36621 0.0810547C3.62012 0.0810547 0.584961 3.11621 0.584961 6.8623C0.584961 10.6084 3.62012 13.6436 7.36621 13.6436C11.1123 13.6436 14.1475 10.6084 14.1475 6.8623C14.1475 3.11621 11.1123 0.0810547 7.36621 0.0810547ZM7.36621 12.3311C4.33105 12.3311 1.89746 9.89746 1.89746 6.8623C1.89746 3.85449 4.33105 1.39355 7.36621 1.39355C10.374 1.39355 12.835 3.85449 12.835 6.8623C12.835 9.89746 10.374 12.3311 7.36621 12.3311ZM9.03418 9.4873C9.19824 9.59668 9.38965 9.56934 9.49902 9.40527L10.0186 8.72168C10.1279 8.55762 10.1006 8.36621 9.93652 8.25684L8.13184 6.91699V3.03418C8.13184 2.87012 7.96777 2.70605 7.80371 2.70605H6.92871C6.7373 2.70605 6.60059 2.87012 6.60059 3.03418V7.5459C6.60059 7.62793 6.62793 7.7373 6.70996 7.79199L9.03418 9.4873Z",fill:"var(--color-primary-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/timer-icon.js"}],[7860,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return r.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("circle",{cx:"19.1533",cy:"19.2715",r:"17.1",stroke:"var(--color-primary-default)",strokeWidth:"3.8"}),r.default.createElement("path",{d:"M16.712 21.5034C16.712 20.7834 16.88 20.1834 17.216 19.7034C17.568 19.2074 18.08 18.7274 18.752 18.2634C19.008 18.0874 19.264 17.9274 19.52 17.7834C19.776 17.6394 20 17.4874 20.192 17.3274C20.4 17.1514 20.56 16.9674 20.672 16.7754C20.8 16.5674 20.864 16.3194 20.864 16.0314C20.864 15.5354 20.688 15.1594 20.336 14.9034C20 14.6474 19.592 14.5194 19.112 14.5194C18.616 14.5194 18.16 14.6794 17.744 14.9994C17.344 15.3034 17.144 15.7674 17.144 16.3914H13.52C13.52 15.6394 13.664 14.9354 13.952 14.2794C14.24 13.6074 14.632 13.0314 15.128 12.5514C15.64 12.0554 16.232 11.6634 16.904 11.3754C17.592 11.0874 18.328 10.9434 19.112 10.9434C19.896 10.9434 20.616 11.0794 21.272 11.3514C21.944 11.6234 22.512 11.9834 22.976 12.4314C23.456 12.8794 23.824 13.3994 24.08 13.9914C24.352 14.5674 24.488 15.1754 24.488 15.8154C24.488 16.2314 24.456 16.6234 24.392 16.9914C24.344 17.3594 24.24 17.7114 24.08 18.0474C23.936 18.3834 23.728 18.7114 23.456 19.0314C23.184 19.3514 22.84 19.6634 22.424 19.9674C21.784 20.4474 21.272 20.8234 20.888 21.0954C20.52 21.3674 20.336 21.6474 20.336 21.9354V21.9594H16.712V21.5034ZM18.512 28.4634C18.16 28.4634 17.824 28.3994 17.504 28.2714C17.2 28.1274 16.928 27.9434 16.688 27.7194C16.464 27.4794 16.28 27.2074 16.136 26.9034C16.008 26.5834 15.944 26.2474 15.944 25.8954C15.944 25.5434 16.008 25.2154 16.136 24.9114C16.28 24.5914 16.464 24.3194 16.688 24.0954C16.928 23.8554 17.2 23.6714 17.504 23.5434C17.824 23.3994 18.16 23.3274 18.512 23.3274C18.864 23.3274 19.192 23.3994 19.496 23.5434C19.816 23.6714 20.088 23.8554 20.312 24.0954C20.552 24.3194 20.736 24.5914 20.864 24.9114C21.008 25.2154 21.08 25.5434 21.08 25.8954C21.08 26.2474 21.008 26.5834 20.864 26.9034C20.736 27.2074 20.552 27.4794 20.312 27.7194C20.088 27.9434 19.816 28.1274 19.496 28.2714C19.192 28.3994 18.864 28.4634 18.512 28.4634Z",fill:"var(--color-primary-default)"}))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/unknown-icon.js"}],[7861,{"./swaps-footer":7862},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./swaps-footer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/swaps-footer/index.js"}],[7862,{"../../../components/ui/page-container/page-container-footer":6799,"../../../contexts/i18n":6850,classnames:3913,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=l(e("prop-types")),o=l(e("classnames")),s=e("../../../contexts/i18n"),i=l(e("../../../components/ui/page-container/page-container-footer"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({onCancel:e,hideCancel:t,onSubmit:n,submitText:r,disabled:l,showTermsOfService:c,showTopBorder:u,className:d="",cancelText:p}){const m=(0,a.useContext)(s.I18nContext);return a.default.createElement("div",{className:"swaps-footer"},a.default.createElement("div",{className:(0,o.default)("swaps-footer__buttons",d,{"swaps-footer__buttons--border":u})},a.default.createElement(i.default,{onCancel:e,hideCancel:t,cancelText:p||m("back"),onSubmit:n,submitText:r,footerClassName:(0,o.default)("swaps-footer__custom-page-container-footer-class",d),footerButtonClassName:(0,o.default)("swaps-footer__custom-page-container-footer-button-class",{"swaps-footer__custom-page-container-footer-button-class--single":t}),disabled:l})),c&&a.default.createElement("div",{className:"swaps-footer__bottom-text",onClick:()=>global.platform.openTab({url:"https://metamask.io/terms.html"})},m("termsOfService")))}u.propTypes={onCancel:r.default.func,hideCancel:r.default.bool,onSubmit:r.default.func,submitText:r.default.string,disabled:r.default.bool,showTermsOfService:r.default.bool,showTopBorder:r.default.bool,className:r.default.string,cancelText:r.default.string}}}},{package:"$root$",file:"ui/pages/swaps/swaps-footer/swaps-footer.js"}],[7865,{"./view-on-block-explorer":7866},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./view-on-block-explorer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/view-on-block-explorer/index.js"}],[7866,{"../../../../shared/constants/metametrics":5613,"../../../components/ui/box":6725,"../../../contexts/i18n":6850,"../../../contexts/metametrics":6855,"../../../helpers/utils/util":6959,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=u(e("../../../components/ui/box")),s=e("../../../contexts/i18n"),i=e("../../../helpers/utils/util"),l=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({blockExplorerUrl:e,sensitiveTrackingProperties:t}){const n=(0,a.useContext)(s.I18nContext),r=(0,a.useContext)(l.MetaMetricsContext),u=(0,i.getURLHostName)(e);return a.default.createElement(o.default,{marginTop:6,className:"view-on-block-explorer"},a.default.createElement("button",{onClick:()=>{r({event:c.MetaMetricsEventName.ExternalLinkClicked,category:c.MetaMetricsEventCategory.Swaps,sensitiveProperties:t,properties:{link_type:c.MetaMetricsEventLinkType.TransactionBlockExplorer,location:"Swap Transaction",url_domain:u}}),global.platform.openTab({url:e})}},n("viewOnCustomBlockExplorer",[n("blockExplorerSwapAction"),u])))}p.propTypes={blockExplorerUrl:r.default.string.isRequired,sensitiveTrackingProperties:r.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/view-on-block-explorer/view-on-block-explorer.js"}],[7867,{"../../../../shared/lib/trust-signals":5724,"../../../selectors":7886,"../../confirmations/context/confirm":7449,"../../confirmations/hooks/useSignatureEventFragment":7559,"../../confirmations/hooks/useTransactionEventFragment":7564,"../../confirmations/utils":7585,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTrustSignalMetrics=function(){const{currentConfirmation:e}=(0,s.useConfirmContext)(),{updateSignatureEventFragment:t}=(0,u.useSignatureEventFragment)(),{updateTransactionEventFragment:n}=(0,c.useTransactionEventFragment)(),d=(0,a.useMemo)(()=>function(e){if(!e)return null;if(!(0,i.isSignatureTransactionType)(e)){var t;return(null===(t=e.txParams)||void 0===t?void 0:t.to)??null}try{var n,a;const t=null==e||null===(n=e.msgParams)||void 0===n?void 0:n.data,r="string"==typeof t?JSON.parse(t):t;if(null!=r&&null!==(a=r.domain)&&void 0!==a&&a.verifyingContract)return r.domain.verifyingContract}catch(e){}return null}(e),[e]),p=null==e?void 0:e.chainId,m=(0,r.useSelector)(e=>{if(!d||!p)return undefined;const t=(0,l.mapChainIdToSupportedEVMChain)(p);if(!t)return undefined;const n=(0,l.createCacheKey)(t,d);return(0,o.getAddressSecurityAlertResponse)(e,n)}),{properties:f,anonymousProperties:h}=(0,a.useMemo)(()=>m?{properties:{address_alert_response:m.result_type},anonymousProperties:{address_label:m.label||undefined}}:{properties:{},anonymousProperties:{}},[m]),g=(0,a.useCallback)(()=>{if(!m||!e)return;const a=(null==e?void 0:e.id)??"";(0,i.isSignatureTransactionType)(e)?(t({properties:f}),h.address_label&&t({sensitiveProperties:h})):(n({properties:f},a),h.address_label&&n({sensitiveProperties:h},a))},[m,e,f,h,t,n]);(0,a.useEffect)(()=>{g()},[g])};var a=e("react"),r=e("react-redux"),o=e("../../../selectors"),s=e("../../confirmations/context/confirm"),i=e("../../confirmations/utils"),l=e("../../../../shared/lib/trust-signals"),c=e("../../confirmations/hooks/useTransactionEventFragment"),u=e("../../confirmations/hooks/useSignatureEventFragment")}}},{package:"$root$",file:"ui/pages/trust-signals/hooks/useTrustSignalMetrics.ts"}],[7868,{"../../components/component-library":6325,"../../helpers/constants/design-system":6899,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({startFrom:e,onCountdownEnd:t}){const[n,s]=(0,a.useState)(e);return(0,a.useEffect)(()=>{const e=setInterval(()=>{s(n=>n<=0?(clearInterval(e),t(),0):n-1)},1e3);return()=>clearInterval(e)},[t]),a.default.createElement(o.Text,{variant:r.TextVariant.inherit,color:r.TextColor.inherit,as:"span"},i(n))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../helpers/constants/design-system"),o=e("../../components/component-library");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=e=>{if(e<=60)return`${e} seconds.`;const t=e%60;return`${Math.floor(e/3600)}:${Math.floor(e%3600/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}.`}}}},{package:"$root$",file:"ui/pages/unlock-page/formatted-counter.tsx"}],[7869,{"./unlock-page.container":7872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("./unlock-page.container"))&&a.__esModule?a:{default:a};n.default=r.default}}},{package:"$root$",file:"ui/pages/unlock-page/index.js"}],[7870,{"../../components/component-library":6325,"../../helpers/constants/design-system":6899,"../../hooks/useI18nContext":7047,"../../selectors":7886,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,onRestore:t}){const n=(0,s.useI18nContext)(),a=(0,o.useSelector)(c.getIsSocialLoginFlow);return r.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"reset-password-modal","data-testid":"reset-password-modal"},r.default.createElement(i.ModalOverlay,null),r.default.createElement(i.ModalContent,{alignItems:l.AlignItems.center},r.default.createElement(i.ModalHeader,{onClose:e},n("forgotPasswordModalTitle")),a?r.default.createElement(i.Box,{paddingInline:4},r.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,marginBottom:4},n("forgotPasswordSocialDescription")),r.default.createElement(i.Box,{as:"ul",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4,marginBottom:6},r.default.createElement(i.Box,{display:l.Display.Flex,gap:4,as:"li"},r.default.createElement(i.Icon,{name:i.IconName.FaceId,size:i.IconSize.Md,color:l.IconColor.iconMuted,style:{marginTop:"2px"}}),r.default.createElement(i.Text,{variant:l.TextVariant.bodyMd},n("forgotPasswordSocialStep1",[r.default.createElement(i.Text,{variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Bold,key:"reset-password-step-1-biometrics"},n("forgotPasswordSocialStep1Biometrics"))]))),r.default.createElement(i.Box,{display:l.Display.Flex,gap:4,as:"li"},r.default.createElement(i.Icon,{name:i.IconName.SecurityKey,size:i.IconSize.Md,color:l.IconColor.iconMuted,style:{marginTop:"2px"}}),r.default.createElement(i.Text,{variant:l.TextVariant.bodyMd},n("forgotPasswordSocialStep2",[r.default.createElement(i.Text,{variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Bold,key:"reset-password-step-2-srp"},n("secretRecoveryPhrase"))])))),r.default.createElement(i.Button,{"data-testid":"reset-password-modal-button",variant:i.ButtonVariant.Primary,onClick:t,size:i.ButtonSize.Lg,block:!0,danger:!0},n("forgotPasswordModalButton"))):r.default.createElement(i.Box,{paddingInline:4},r.default.createElement(i.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:2},r.default.createElement("img",{src:"images/forgot-password-lock.png",width:154,height:154,alt:n("forgotPasswordModalTitle"),style:{alignSelf:"center"}})),r.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,marginBottom:4},n("forgotPasswordModalDescription1")),r.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,marginBottom:6},n("forgotPasswordModalDescription2")),r.default.createElement(i.Button,{"data-testid":"reset-password-modal-button",variant:i.ButtonVariant.Primary,onClick:t,size:i.ButtonSize.Lg,block:!0,danger:!0},n("forgotPasswordModalButton")))))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../hooks/useI18nContext"),i=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),c=e("../../selectors")}}},{package:"$root$",file:"ui/pages/unlock-page/reset-password-modal.tsx"}],[7871,{"../../../shared/constants/metametrics":5613,"../../../shared/constants/onboarding":5620,"../../../shared/lib/trace":5718,"../../../shared/lib/ui-utils":5725,"../../components/app/connections-removed-modal":5898,"../../components/component-library":6325,"../../components/ui/mascot":6786,"../../components/ui/metafox-logo/horizontal-logo":6791,"../../contexts/metametrics":6855,"../../helpers/constants/design-system":6899,"../../helpers/constants/routes":6904,"../../helpers/utils/build-types":6925,"../onboarding-flow/welcome/fox-appear-animation":7709,"../onboarding-flow/welcome/login-error-modal":7710,"../onboarding-flow/welcome/types":7713,"./formatted-counter":7868,"./reset-password-modal":7870,"./unlock-page.util":7873,"@metamask/seedless-onboarding-controller":2500,events:4180,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("events"),r=x(e("react")),o=S(e("prop-types")),s=e("@metamask/seedless-onboarding-controller"),i=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),c=S(e("../../components/ui/mascot")),u=e("../../helpers/constants/routes"),d=e("../../../shared/constants/metametrics"),p=e("../../helpers/utils/build-types"),m=e("../../../shared/lib/ui-utils"),f=e("../../../shared/lib/trace"),h=e("../../../shared/constants/onboarding"),g=e("../../contexts/metametrics"),y=S(e("../onboarding-flow/welcome/login-error-modal")),b=e("../onboarding-flow/welcome/types"),C=S(e("../../components/ui/metafox-logo/horizontal-logo")),E=S(e("../../components/app/connections-removed-modal")),T=e("./unlock-page.util"),v=S(e("./reset-password-modal")),_=S(e("./formatted-counter"));function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}const k=(0,r.lazy)(()=>Promise.resolve().then(()=>x(e("../onboarding-flow/welcome/fox-appear-animation"))));class M extends r.Component{constructor(...e){super(...e),w(this,"state",{password:"",error:null,showResetPasswordModal:!1,isLocked:!1,isSubmitting:!1,unlockDelayPeriod:0,showLoginErrorModal:!1,showConnectionsRemovedModal:!1}),w(this,"failed_attempts",0),w(this,"animationEventEmitter",new a.EventEmitter),w(this,"handleSubmit",async e=>{e.preventDefault(),e.stopPropagation();const{password:t,isSubmitting:n}=this.state,{onSubmit:a,isOnboardingCompleted:r}=this.props;if(""===t||n)return;this.setState({error:null,isSubmitting:!0});const o=this.isSocialImportRehydration();if(o)this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationPasswordAttempted,properties:{account_type:"social",biometrics:!1}});else if(!r){var s,i,l;null===(s=(i=this.context).bufferedTrace)||void 0===s||s.call(i,{name:f.TraceName.OnboardingPasswordLoginAttempt,op:f.TraceOperation.OnboardingUserJourney,parentContext:null===(l=this.props.onboardingParentContext)||void 0===l?void 0:l.current})}try{var c,u,p,m,h,g;if(await a(t),o)this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationCompleted,properties:{account_type:"social",biometrics:!1,failed_attempts:this.failed_attempts}}),null===(c=(u=this.context).bufferedEndTrace)||void 0===c||c.call(u,{name:f.TraceName.OnboardingExistingSocialLogin});if(!r)null===(p=(m=this.context).bufferedEndTrace)||void 0===p||p.call(m,{name:f.TraceName.OnboardingPasswordLoginAttempt}),null===(h=(g=this.context).bufferedEndTrace)||void 0===h||h.call(g,{name:f.TraceName.OnboardingJourneyOverall});this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.AppUnlocked,properties:{failed_attempts:this.failed_attempts}},{isNewVisit:!0})}catch(e){await this.handleLoginError(e,o)}finally{this.setState({isSubmitting:!1})}}),w(this,"handleLoginError",async(e,t=!1)=>{const{t:n}=this.context,{message:a,data:r}=e,{isOnboardingCompleted:o}=this.props;(null==r?void 0:r.numberOfAttempts)!==undefined&&(this.failed_attempts=r.numberOfAttempts);let i,l=a,c=0,u=!1,p=!1;var m,h,g,y;o||(null===(m=(h=this.context).bufferedTrace)||void 0===m||m.call(h,{name:f.TraceName.OnboardingPasswordLoginError,op:f.TraceOperation.OnboardingError,tags:{errorMessage:a},parentContext:this.props.onboardingParentContext.current}),null===(g=(y=this.context).bufferedEndTrace)||void 0===g||g.call(y,{name:f.TraceName.OnboardingPasswordLoginError}));switch(a){case"Incorrect password":case s.SeedlessOnboardingControllerErrorMessage.IncorrectPassword:l=n("unlockPageIncorrectPassword"),i="incorrect_password";break;case s.SeedlessOnboardingControllerErrorMessage.TooManyLoginAttempts:this.setState({isLocked:!0}),l=n("unlockPageTooManyFailedAttempts"),i="too_many_login_attempts",c=r.remainingTime;break;case s.SeedlessOnboardingControllerErrorMessage.OutdatedPassword:l=n("passwordChangedRecently"),i="outdated_password";break;case s.SeedlessOnboardingControllerErrorMessage.AuthenticationError:case s.SeedlessOnboardingControllerErrorMessage.InvalidRevokeToken:case s.SeedlessOnboardingControllerErrorMessage.InvalidRefreshToken:o&&(l=a,u=!0);break;case s.SeedlessOnboardingControllerErrorMessage.MaxKeyChainLengthExceeded:l=a,p=!0;break;default:l=a}i&&(await this.props.forceUpdateMetamaskState(),t&&this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationPasswordFailed,properties:{account_type:"social",failed_attempts:this.failed_attempts,error_type:i}}),this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.AppUnlockedFailed,properties:{reason:i,failed_attempts:this.failed_attempts}})),this.setState({error:l,unlockDelayPeriod:c,showLoginErrorModal:u,showConnectionsRemovedModal:p})}),w(this,"renderMascot",()=>(0,p.isFlask)()||(0,p.isBeta)()?r.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"115",height:"115"}):r.default.createElement(c.default,{animationEventEmitter:this.animationEventEmitter,width:"170",height:"170"})),w(this,"renderHelpText",()=>{const{error:e,unlockDelayPeriod:t}=this.state;return e?r.default.createElement(i.Box,{className:"unlock-page__help-text",display:l.Display.Flex,flexDirection:l.FlexDirection.Column},e&&r.default.createElement(i.Text,{"data-testid":"unlock-page-help-text",variant:l.TextVariant.bodySm,textAlign:l.TextAlign.Left,color:l.TextColor.errorDefault},e,t>0&&r.default.createElement(_.default,{startFrom:t,onCountdownEnd:()=>this.setState({isLocked:!1,error:null,unlockDelayPeriod:0})}))):null}),w(this,"onForgotPasswordOrLoginWithDiffMethods",async()=>{const{isSocialLoginFlow:e,navigate:t,isOnboardingCompleted:n}=this.props;if(!n&&e)return this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.UseDifferentLoginMethodClicked,properties:{account_type:"social"}}),await this.props.loginWithDifferentMethod(),await this.props.forceUpdateMetamaskState(),void t(u.ONBOARDING_WELCOME_ROUTE,{replace:!0});this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.ForgotPasswordClicked,properties:{account_type:e?"social":"metamask"}}),this.setState({showResetPasswordModal:!0})}),w(this,"onRestoreWallet",async()=>{const{isSocialLoginFlow:e}=this.props;this.context.trackEvent({category:d.MetaMetricsEventCategory.Accounts,event:d.MetaMetricsEventName.ResetWallet,properties:{account_type:e?"social":"metamask"}}),this.props.onRestore()}),w(this,"onResetWallet",async()=>{this.setState({showLoginErrorModal:!1,showConnectionsRemovedModal:!1,showResetPasswordModal:!1}),await this.props.resetWallet(),await this.props.forceUpdateMetamaskState(),this.props.navigate(u.DEFAULT_ROUTE,{replace:!0})})}isSocialImportRehydration(){return this.props.firstTimeFlowType===h.FirstTimeFlowType.socialImport&&!this.props.isOnboardingCompleted}UNSAFE_componentWillMount(){const{isUnlocked:e,navigate:t,location:n,navState:a}=this.props;if(e){var r;let e=u.DEFAULT_ROUTE;const o=(null===(r=n.state)||void 0===r?void 0:r.from)||(null==a?void 0:a.from);if(null!=o&&o.pathname){const t=o.search||"";e=o.pathname+t}t(e)}}async componentDidMount(){const{isOnboardingCompleted:e,isSocialLoginFlow:t}=this.props;if(e)await this.props.checkIsSeedlessPasswordOutdated();else if(t){await this.props.getIsSeedlessOnboardingUserAuthenticated()||this.props.navigate(u.ONBOARDING_WELCOME_ROUTE,{replace:!0})}}handleInputChange(e){const{target:t}=e;this.setState({password:t.value,error:null});const n=t,a=n.getBoundingClientRect(),r=(0,T.getCaretCoordinates)(n,n.selectionEnd??0);this.animationEventEmitter.emit("point",{x:a.left+r.left-n.scrollLeft,y:a.top+r.top-n.scrollTop})}render(){const{password:e,error:t,isLocked:n,showResetPasswordModal:a,showLoginErrorModal:o,showConnectionsRemovedModal:s}=this.state,{isOnboardingCompleted:c,isSocialLoginFlow:u}=this.props,{t:f}=this.context,h=f("needHelpLinkText"),g=u&&!c,T=Boolean(!1);return r.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,backgroundColor:l.BackgroundColor.backgroundDefault,width:l.BlockSize.Full,paddingBottom:12},a&&r.default.createElement(v.default,{onClose:()=>this.setState({showResetPasswordModal:!1}),onRestore:this.onRestoreWallet}),o&&r.default.createElement(y.default,{onDone:this.onResetWallet,loginError:b.LOGIN_ERROR.RESET_WALLET}),s&&r.default.createElement(E.default,{onConfirm:this.onResetWallet}),r.default.createElement(i.Box,{as:"form",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,padding:4,width:l.BlockSize.Full,className:"unlock-page","data-testid":"unlock-page",onSubmit:this.handleSubmit},r.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,width:l.BlockSize.Full,alignItems:l.AlignItems.center},r.default.createElement(i.Box,{className:"unlock-page__mascot-container",marginBottom:(0,p.isBeta)()||(0,p.isFlask)()?6:0},g?this.renderMascot():r.default.createElement(C.default,{className:"unlock-page__mascot-container__horizontal-logo "+(this.props.isPopup?"unlock-page__mascot-container__horizontal-logo--popup":"")}),(0,p.isBeta)()?r.default.createElement(i.Text,{className:"unlock-page__mascot-container__beta",backgroundColor:l.BackgroundColor.primaryDefault,color:l.TextColor.primaryInverse,padding:1,borderRadius:l.BorderRadius.LG,textTransform:l.TextTransform.Uppercase,fontWeight:l.FontWeight.Medium},f("beta")):null),g&&r.default.createElement(i.Text,{"data-testid":"unlock-page-title",as:"h1",variant:l.TextVariant.displayMd,marginBottom:12,fontWeight:l.FontWeight.Medium,color:l.TextColor.textDefault,textAlign:l.TextAlign.Center},f("welcomeBack")),r.default.createElement(i.FormTextField,{id:"password",placeholder:this.props.isSocialLoginFlow?f("enterYourPasswordSocialLoginFlow"):f("enterYourPassword"),size:i.FormTextFieldSize.Lg,placeholderColor:l.TextColor.textDefault,inputProps:{"data-testid":"unlock-password","aria-label":f("password")},textFieldProps:{disabled:n},onChange:e=>this.handleInputChange(e),type:i.TextFieldType.Password,value:e,error:Boolean(t),helpText:this.renderHelpText(),autoComplete:!0,autoFocus:!0,width:l.BlockSize.Full,marginBottom:4}),r.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,block:!0,type:"submit","data-testid":"unlock-submit",disabled:!e||n,marginBottom:6},this.context.t("unlock")),r.default.createElement(i.Button,{variant:i.ButtonVariant.Link,"data-testid":"unlock-forgot-password-button",key:"import-account",type:"button",onClick:this.onForgotPasswordOrLoginWithDiffMethods,marginBottom:4,color:g?l.TextColor.textDefault:l.TextColor.primaryDefault},f(g?"useDifferentLoginMethod":"forgotPassword")),r.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault},f("needHelp",[r.default.createElement(i.Button,{variant:i.ButtonVariant.Link,color:l.TextColor.primaryDefault,href:m.SUPPORT_LINK,type:"button",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",onClick:()=>{this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.SupportLinkClicked,properties:{url:m.SUPPORT_LINK}},{contextPropsIntoEventProperties:[d.MetaMetricsContextProp.PageTitle]})}},h)])))),!T&&!g&&r.default.createElement(r.Suspense,{fallback:r.default.createElement(i.Box,null)},r.default.createElement(k,null)))}}w(M,"contextTypes",{trackEvent:o.default.func,bufferedTrace:o.default.func,bufferedEndTrace:o.default.func,t:o.default.func}),w(M,"propTypes",{navigate:o.default.func.isRequired,location:o.default.object.isRequired,navState:o.default.object,isUnlocked:o.default.bool,isOnboardingCompleted:o.default.bool,onRestore:o.default.func,onSubmit:o.default.func,checkIsSeedlessPasswordOutdated:o.default.func,getIsSeedlessOnboardingUserAuthenticated:o.default.func,forceUpdateMetamaskState:o.default.func,isSocialLoginFlow:o.default.bool,onboardingParentContext:o.default.object,loginWithDifferentMethod:o.default.func,firstTimeFlowType:o.default.string,resetWallet:o.default.func,isPopup:o.default.bool});n.default=(0,g.withMetaMetrics)(M)}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.component.js"}],[7872,{"../../../app/scripts/lib/util":353,"../../../shared/constants/app":5598,"../../contexts/navigation-state":6856,"../../ducks/metamask/metamask":6883,"../../helpers/constants/routes":6904,"../../helpers/higher-order-components/with-router-hooks/with-router-hooks":6922,"../../selectors":7886,"../../store/actions":7916,"./unlock-page.component":7871,"prop-types":4893,react:5080,"react-redux":5021,redux:5124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.UnlockPageConnected=void 0;var a=e("react-redux"),r=g(e("react")),o=g(e("prop-types")),s=e("redux"),i=e("../../../app/scripts/lib/util"),l=e("../../../shared/constants/app"),c=e("../../helpers/constants/routes"),u=e("../../store/actions"),d=e("../../selectors"),p=e("../../ducks/metamask/metamask"),m=g(e("../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),f=e("../../contexts/navigation-state"),h=g(e("./unlock-page.component"));function g(e){return e&&e.__esModule?e:{default:e}}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(null,arguments)}const b=n.UnlockPageConnected=(0,s.compose)(m.default,(0,a.connect)(e=>{const{metamask:{isUnlocked:t}}=e;return{isUnlocked:t,isSocialLoginFlow:(0,d.getIsSocialLoginFlow)(e),isOnboardingCompleted:(0,p.getCompletedOnboarding)(e),firstTimeFlowType:(0,d.getFirstTimeFlowType)(e)}},e=>({tryUnlockMetamask:t=>e((0,u.tryUnlockMetamask)(t)),markPasswordForgotten:()=>e((0,u.markPasswordForgotten)()),forceUpdateMetamaskState:()=>(0,u.forceUpdateMetamaskState)(e),loginWithDifferentMethod:()=>e((0,u.resetOnboarding)()),checkIsSeedlessPasswordOutdated:()=>e((0,u.checkIsSeedlessPasswordOutdated)()),resetWallet:()=>e((0,u.resetWallet)()),getIsSeedlessOnboardingUserAuthenticated:()=>e((0,u.getIsSeedlessOnboardingUserAuthenticated)())}),(e,t,n)=>{const{markPasswordForgotten:a,tryUnlockMetamask:r,...o}=t,{navigate:s,onSubmit:u,location:d,navState:p,...m}=n,f=(0,i.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP;return{...e,...o,...m,onRestore:async()=>{var e,t;(await a(),s(c.RESTORE_VAULT_ROUTE),f)&&(null===(e=(t=global.platform).openExtensionInBrowser)||void 0===e||e.call(t,c.RESTORE_VAULT_ROUTE))},onSubmit:u||(async e=>{var t;await r(e);let n=c.DEFAULT_ROUTE;const a=(null===(t=d.state)||void 0===t?void 0:t.from)||(null==p?void 0:p.from);if(null!=a&&a.pathname){const e=a.search||"";n=a.pathname+e}s(n)}),navigate:s,location:d,navState:p,isPopup:f}}))(h.default),C=e=>{const t=(0,f.useNavState)();return r.default.createElement(b,y({},e,{navState:t}))};C.propTypes={navigate:o.default.func.isRequired,location:o.default.object.isRequired};n.default=C}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.container.js"}],[7873,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaretCoordinates=function(e,t){const n=document.createElement("div");n.id="password-mirror-div",document.body.appendChild(n);const a=window.getComputedStyle(e);n.textContent=new Array(t+1).join("");const r=document.createElement("span");r.textContent="",n.appendChild(r);const o={top:r.offsetTop+parseInt(a.borderTopWidth,10),left:r.offsetLeft+parseInt(a.borderLeftWidth,10)};return document.body.removeChild(n),o}}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.util.js"}],[7874,{reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsUsingPaymaster=function(e){var t;const n=s(e);if(!n)return!1;const a=null===(t=n.userOperation)||void 0===t?void 0:t.paymasterAndData;return Boolean(null==a?void 0:a.length)&&"0x"!==a},n.getUserOperation=s,n.getUserOperations=r,n.selectUserOperationMetadata=n.selectPaymasterData=n.selectPaymasterAddress=void 0;var a=e("reselect");function r(e){return e.metamask.userOperations||{}}const o=n.selectUserOperationMetadata=(0,a.createSelector)(r,(e,t)=>t,(e,t)=>e[t]);function s(e){var t;const n=null===(t=e.confirmTransaction)||void 0===t?void 0:t.txData;if(!n)return undefined;const{id:a,isUserOperation:o}=n;if(!o)return undefined;return r(e)[a]}const i=n.selectPaymasterData=(0,a.createSelector)(o,e=>{var t;const n=null==e||null===(t=e.userOperation)||void 0===t?void 0:t.paymasterAndData;return"0x"===n?undefined:n});n.selectPaymasterAddress=(0,a.createSelector)(i,e=>null==e?void 0:e.slice(0,42))}}},{package:"$root$",file:"ui/selectors/account-abstraction.ts"}],[7876,{"./shared":7904,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectAlerts=o,n.selectConfirmedAlertKeys=function(e,t){const{confirmed:n}=e.confirmAlerts??{},a=(null==n?void 0:n[t])||{};return Object.keys(a).filter(e=>a[e])},n.selectGeneralAlerts=n.selectFieldAlerts=void 0;var a=e("reselect"),r=e("./shared");function o(e,t){var n;return(null===(n=e.confirmAlerts)||void 0===n?void 0:n.alerts[t])??r.EMPTY_ARRAY}n.selectGeneralAlerts=(0,a.createSelector)((e,t)=>o(e,t),e=>e.filter(e=>!e.field)),n.selectFieldAlerts=(0,a.createSelector)((e,t)=>o(e,t),e=>e.filter(e=>e.field))}}},{package:"$root$",file:"ui/selectors/alerts.ts"}],[7878,{"../../shared/constants/multichain/assets":5615,"../../shared/constants/network":5617,"../../shared/lib/asset-utils":5647,"../../shared/modules/selectors/util":5755,"../components/app/assets/util/calculateTokenBalance":5848,"../components/app/assets/util/calculateTokenFiatAmount":5849,"../ducks/metamask/metamask":6883,"../pages/asset/util":7117,"./accounts":7875,"./multichain":7895,"./multichain-accounts/account-tree":7890,"./multichain/networks":7896,"./selectors":7903,"./shared":7904,"@metamask/assets-controllers":1233,"@metamask/keyring-api":2100,"@metamask/utils":2914,"bignumber.js":3768,lodash:4635,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountAssets=_,n.getAllIgnoredAssets=w,n.getAssetsBySelectedAccountGroupWithTronResources=n.getAssetsBySelectedAccountGroup=n.getAsset=void 0,n.getAssetsMetadata=S,n.getAssetsRates=I,n.getDefiPositions=function(e){var t;return null==e||null===(t=e.metamask)||void 0===t?void 0:t.allDeFiPositions},n.getHistoricalMultichainAggregatedBalance=void 0,n.getHistoricalPrices=x,n.selectBalancePercentChangeByAccountGroup=n.selectBalanceForAllWallets=n.selectBalanceChangeForAllWallets=n.selectBalanceChangeBySelectedAccountGroup=n.selectBalanceChangeByAccountGroup=n.selectBalanceByWallet=n.selectBalanceBySelectedAccountGroup=n.selectBalanceByAccountGroup=n.getTokenByAccountAndAddressAndChainId=n.getTokenBalancesEvm=n.getMultichainNativeTokenBalance=n.getMultichainNativeAssetType=n.getMultichainAggregatedBalance=n.getMultiChainAssets=void 0;var a=e("@metamask/assets-controllers"),r=e("@metamask/keyring-api"),o=e("@metamask/utils"),s=e("bignumber.js"),i=e("lodash"),l=e("reselect"),c=e("../../shared/constants/network"),u=e("../../shared/modules/selectors/util"),d=e("../components/app/assets/util/calculateTokenBalance"),p=e("../components/app/assets/util/calculateTokenFiatAmount"),m=e("../ducks/metamask/metamask"),f=e("../pages/asset/util"),h=e("../../shared/lib/asset-utils"),g=e("../../shared/constants/multichain/assets"),y=e("./accounts"),b=e("./multichain"),C=e("./shared"),E=e("./selectors"),T=e("./multichain/networks"),v=e("./multichain-accounts/account-tree");function _(e){return e.metamask.accountsAssets}function S(e){return e.metamask.assetsMetadata}function w(e){return e.metamask.allIgnoredAssets??C.EMPTY_OBJECT}function I(e){return e.metamask.conversionRates}function x(e){return e.metamask.historicalPrices}n.getTokenBalancesEvm=(0,u.createDeepEqualSelector)(E.getTokensAcrossChainsByAccountAddressSelector,E.getNativeTokenCachedBalanceByChainIdSelector,m.getTokenBalances,(e,t)=>t,E.getMarketData,E.getCurrencyRates,E.getPreferences,E.getIsTokenNetworkFilterEqualCurrentNetwork,E.getCurrentNetwork,(e,t,n,a,r,o,s,i,l)=>{const{hideZeroBalanceTokens:u}=s,m=n[a],f=c.TEST_CHAINS.includes(l.chainId),h=Object.fromEntries(Object.entries(e).filter(([e])=>f?c.TEST_CHAINS.includes(e):!c.TEST_CHAINS.includes(e))),g=[];return Object.entries(h).forEach(([e,n])=>{const a=e;n.forEach(e=>{const{isNative:n,address:s,decimals:l}=e,c=(0,d.calculateTokenBalance)({isNative:n,chainId:a,address:s,decimals:l,nativeBalances:t,selectedAccountTokenBalancesAcrossChains:m})||"0",f=(0,p.calculateTokenFiatAmount)({token:e,chainId:a,balance:c,marketData:r,currencyRates:o});if(!u||"0"!==c||e.isNative&&i){let t;t=e.isNative?"ETH"===e.symbol?"Ethereum":e.symbol:e.name||e.symbol,g.push({...e,address:e.address,balance:c,tokenFiatAmount:f,chainId:a,string:String(c),secondary:0,title:t})}})}),g});const k=n.getMultiChainAssets=(0,u.createDeepEqualSelector)((e,t)=>t,b.getMultichainBalances,_,S,I,E.getPreferences,(e,t,n,a,r,i)=>{const{hideZeroBalanceTokens:l}=i,c=(null==n?void 0:n[e.id])||[],u=null==t?void 0:t[e.id],d=[];return c.forEach(e=>{var t,n;const{chainId:i,assetNamespace:c}=(0,o.parseCaipAssetType)(e),p="slip44"===c,m=(null==u?void 0:u[e])||{amount:"0",unit:""},f=null==r||null===(t=r[e])||void 0===t?void 0:t.rate,h=f?new s.BigNumber(m.amount).times(f).toNumber():null,g={name:m.unit,symbol:m.unit||"",fungible:!0,units:[{name:e,symbol:m.unit||"",decimals:0}]},y=a[e]||g,b=(null===(n=y.units[0])||void 0===n?void 0:n.decimals)||0;l&&"0"===m.amount&&!p||d.push({title:y.name,address:e,symbol:y.symbol,image:y.iconUrl,decimals:b,chainId:i,isNative:p,balance:m.amount,secondary:h,string:"",tokenFiatAmount:h,isStakeable:!1})}),d}),M=(n.getTokenByAccountAndAddressAndChainId=(0,u.createDeepEqualSelector)(e=>e,(e,t)=>t,(e,t,n)=>n,(e,t,n,a)=>a,(e,t,n,a)=>{const r=(0,h.isEvmChainId)(a);if(!n&&!r)return null;const o=t??(r?(0,y.getSelectedInternalAccount)(e):(0,v.getInternalAccountBySelectedAccountGroupAndCaip)(e,a)),s=r?(0,E.getSelectedAccountTokensAcrossChains)(e):(0,i.groupBy)(k(e,o),"chainId");return(0,f.findAssetByAddress)(s,n,a)}),{amount:0,unit:""}),R=(n.getMultichainAggregatedBalance=(0,u.createDeepEqualSelector)((e,t)=>t,b.getMultichainBalances,_,I,(e,t,n,a)=>{const{id:r}=e??{},o=r&&(null==n?void 0:n[r])||[],i=r?null==t?void 0:t[r]:{};let l=new s.BigNumber(0);return o.forEach(e=>{var t;const n=(null==i?void 0:i[e])||M,r=(null==a||null===(t=a[e])||void 0===t?void 0:t.rate)||"0",o=new s.BigNumber(n.amount).times(r);l=l.plus(o)}),l.toNumber()}),n.getHistoricalMultichainAggregatedBalance=(0,u.createDeepEqualSelector)((e,t)=>t,b.getMultichainBalances,_,I,(e,t,n,a)=>{const r=(null==n?void 0:n[e.id])||[],o=null==t?void 0:t[e.id],i={PT1H:{balance:0,percentChange:0,amountChange:0},P1D:{balance:0,percentChange:0,amountChange:0},P7D:{balance:0,percentChange:0,amountChange:0},P14D:{balance:0,percentChange:0,amountChange:0},P30D:{balance:0,percentChange:0,amountChange:0},P200D:{balance:0,percentChange:0,amountChange:0},P1Y:{balance:0,percentChange:0,amountChange:0}};let l=new s.BigNumber(0);r.forEach(e=>{var t;const n=(null==o?void 0:o[e])||M,r=null==a?void 0:a[e];if(null!=r&&null!==(t=r.marketData)&&void 0!==t&&t.pricePercentChange&&r.rate){const{pricePercentChange:e}=r.marketData,t=new s.BigNumber(n.amount).times(r.rate||"0");l=l.plus(t),Object.entries(e).forEach(([e,n])=>{if(e in i){const a=t.div(Number((1+n/100).toFixed(8))).toNumber();i[e].balance+=a}})}});const c=l.toNumber();return Object.entries(i).forEach(([e,t])=>{if(0!==c){const e=c-t.balance,n=e/t.balance*100;t.amountChange=Number(e.toFixed(8)),t.percentChange=Number(n.toFixed(8))}}),i}),n.getMultichainNativeAssetType=(0,u.createDeepEqualSelector)(y.getSelectedInternalAccount,_,T.getSelectedMultichainNetworkConfiguration,(e,t,n)=>((null==t?void 0:t[e.id])||[]).find(e=>{const{chainId:t,assetNamespace:a}=(0,o.parseCaipAssetType)(e);return t===n.chainId&&"slip44"===a}))),A=(n.getMultichainNativeTokenBalance=(0,u.createDeepEqualSelector)((e,t)=>t,b.getMultichainBalances,R,(e,t,n)=>{if(!e)return M;const a=null==t?void 0:t[e.id];return n&&null!=a&&a[n]?a[n]:M}),e=>e.metamask??C.EMPTY_OBJECT),O=Object.freeze({wallets:{},selectedAccountGroup:""}),D=(0,l.createSelector)([e=>A(e).accountTree,e=>A(e).accountGroupsMetadata,e=>A(e).accountWalletsMetadata],(e,t,n)=>({accountTree:e??O,accountGroupsMetadata:t??C.EMPTY_OBJECT,accountWalletsMetadata:n??C.EMPTY_OBJECT})),P=(0,l.createSelector)([e=>A(e).internalAccounts],e=>({internalAccounts:e??{accounts:{},selectedAccount:""}})),B=(0,l.createSelector)([m.getTokenBalances],e=>({tokenBalances:e})),N=(0,l.createSelector)([E.getMarketData],e=>({marketData:e})),F=(0,l.createSelector)([I,x],(e,t)=>({conversionRates:e??C.EMPTY_OBJECT,historicalPrices:t??C.EMPTY_OBJECT})),L=(0,l.createSelector)([b.getMultichainBalances],e=>({balances:e})),j=(0,l.createSelector)([_,S,w],(e,t,n)=>({accountsAssets:e,assetsMetadata:t,allIgnoredAssets:n})),U=(0,l.createSelector)([e=>A(e).allTokens],e=>({allTokens:e??C.EMPTY_OBJECT,allIgnoredTokens:C.EMPTY_OBJECT,allDetectedTokens:C.EMPTY_OBJECT})),W=(0,l.createSelector)([m.getCurrentCurrency,E.getCurrencyRates],(e,t)=>({currentCurrency:e??"usd",currencyRates:t??C.EMPTY_OBJECT})),q=(0,l.createSelector)([E.getEnabledNetworks],e=>e),$=n.selectBalanceForAllWallets=(0,l.createSelector)([D,P,B,N,F,L,j,U,W,q],(e,t,n,r,o,s,i,l,c,u)=>(0,a.calculateBalanceForAllWallets)(e,t,n,r,o,s,i,l,c,u));n.selectBalanceChangeForAllWallets=e=>(0,l.createSelector)([D,P,B,N,F,L,j,U,W,q],(t,n,r,o,s,i,l,c,u,d)=>(0,a.calculateBalanceChangeForAllWallets)(t,n,r,o,s,i,l,c,u,d,e));const H=(e,t)=>(0,l.createSelector)([D,P,B,N,F,L,j,U,W,q],(n,r,o,s,i,l,c,u,d,p)=>(0,a.calculateBalanceChangeForAccountGroup)(n,r,o,s,i,l,c,u,d,p,e,t));n.selectBalanceChangeByAccountGroup=H;n.selectBalancePercentChangeByAccountGroup=(e,t)=>(0,l.createSelector)([H(e,t)],e=>e.percentChange);n.selectBalanceChangeBySelectedAccountGroup=e=>(0,l.createSelector)([D,P,B,N,F,L,j,U,W,q],(t,n,r,o,s,i,l,c,u,d)=>{var p;const m=null==t||null===(p=t.accountTree)||void 0===p?void 0:p.selectedAccountGroup;return m?(0,a.calculateBalanceChangeForAccountGroup)(t,n,r,o,s,i,l,c,u,d,m,e):null});n.selectBalanceBySelectedAccountGroup=(0,l.createSelector)([D,$],(e,t)=>{var n;const a=null==e||null===(n=e.accountTree)||void 0===n?void 0:n.selectedAccountGroup;if(!a)return null;const r=a.split("/")[0],o=t.wallets[r]??null,{userCurrency:s}=t;return null!=o&&o.groups[a]?o.groups[a]:{walletId:r,groupId:a,totalBalanceInUserCurrency:0,userCurrency:s}});n.selectBalanceByAccountGroup=e=>(0,l.createSelector)([$],t=>{const n=e.split("/")[0],a=t.wallets[n]??null,{userCurrency:r}=t;return null!=a&&a.groups[e]?a.groups[e]:{walletId:n,groupId:e,totalBalanceInUserCurrency:0,userCurrency:r}});n.selectBalanceByWallet=e=>(0,l.createSelector)([$],t=>{const n=t.wallets[e]??null,{userCurrency:a}=t;return n?{walletId:e,totalBalanceInUserCurrency:n.totalBalanceInUserCurrency,userCurrency:a,groups:n.groups}:{walletId:e,totalBalanceInUserCurrency:0,userCurrency:a,groups:{}}});const K=({metamask:e})=>{const t={accountTree:e.accountTree,internalAccounts:e.internalAccounts,allTokens:e.allTokens,allIgnoredTokens:e.allIgnoredTokens,tokenBalances:e.tokenBalances,marketData:e.marketData,currencyRates:e.currencyRates,currentCurrency:e.currentCurrency,networkConfigurationsByChainId:e.networkConfigurationsByChainId,accountsByChainId:e.accountsByChainId};let n={accountsAssets:{},assetsMetadata:{},allIgnoredAssets:{},balances:{},conversionRates:{}};return n={accountsAssets:e.accountsAssets,assetsMetadata:e.assetsMetadata,allIgnoredAssets:e.allIgnoredAssets,balances:e.balances,conversionRates:e.conversionRates},{...t,...n}},V=n.getAssetsBySelectedAccountGroup=(0,u.createDeepEqualSelector)(K,e=>{const t={...(0,a.selectAssetsBySelectedAccountGroup)(e)};return Object.values(r.TrxScope).forEach(e=>{t[e]&&(t[e]=t[e].filter(e=>{var t;return!e.chainId.startsWith("tron:")||!g.TRON_RESOURCE_SYMBOLS_SET.has(null===(t=e.symbol)||void 0===t?void 0:t.toLowerCase())}))}),t});n.getAssetsBySelectedAccountGroupWithTronResources=(0,u.createDeepEqualSelector)(K,e=>(0,a.selectAssetsBySelectedAccountGroup)(e)),n.getAsset=(0,l.createSelector)([V,(e,t,n)=>t,(e,t,n)=>n],(e,t,n)=>{const a=e[n];return null==a?void 0:a.find(e=>e.assetId===t)})}}},{package:"$root$",file:"ui/selectors/assets.ts"}],[7881,{"../../shared/modules/selectors/networks":5753,"../../shared/modules/selectors/util":5755,"./multichain":7895,"./selectors":7903,"@metamask/keyring-api":2100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDappActiveNetwork=void 0;var a=e("@metamask/keyring-api"),r=e("../../shared/modules/selectors/networks"),o=e("../../shared/modules/selectors/util"),s=e("./selectors"),i=e("./multichain");n.getDappActiveNetwork=(0,o.createDeepEqualSelector)(s.getOrderedConnectedAccountsForActiveTab,s.getOriginOfCurrentTab,s.getAllDomains,r.getNetworkConfigurationsByChainId,i.getMultichainNetworkConfigurationsByChainId,(e,t,n,r,o)=>{if(!e||0===e.length)return null;const s=e[0];if((0,a.isEvmAccountType)(s.type)){if(!t||!n)return null;const e=n[t];if(!e)return null;for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const n=r[t];if(n.rpcEndpoints.some(t=>t.networkClientId===e))return{...n,isEvm:!0}}}else{const e=s.scopes.find(e=>e.startsWith("solana:"));if(e){const t=o[e];if(t)return{...t,isEvm:!1}}}return null})}}},{package:"$root$",file:"ui/selectors/dapp.ts"}],[7883,{"../../../shared/modules/string-utils":5761,"@metamask/gator-permissions-controller":2016,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenTransferPermissionsByOrigin=n.getPermissionMetaDataByOrigin=n.getPermissionGroupMetaData=n.getPendingRevocations=n.getGatorPermissionsMap=n.getAggregatedGatorPermissionsCountAcrossAllChains=n.getAggregatedGatorPermissionByChainId=void 0;var a=e("reselect"),r=e("@metamask/gator-permissions-controller"),o=e("../../../shared/modules/string-utils");const s=["native-token-stream","erc20-token-stream","native-token-periodic","erc20-token-periodic"],i=e=>e.metamask,l=n.getGatorPermissionsMap=(0,a.createSelector)([i],e=>(0,r.deserializeGatorPermissionsMap)(e.gatorPermissionsMapSerialized));n.getAggregatedGatorPermissionsCountAcrossAllChains=(0,a.createSelector)([l,(e,t)=>t],(e,t)=>"token-transfer"===t?s.reduce((t,n)=>t+function(e,t){const n=Object.values(e[t]).flat();for(const e of n)if(!e)throw new Error(`Undefined values present in the gatorPermissionsMap for permission type: ${t}`);return n.length}(e,n),0):0);n.getPermissionGroupMetaData=(0,a.createSelector)([l,(e,t)=>t],(e,t)=>{if("token-transfer"===t){const t=s.reduce((t,n)=>{return function(e,t){const n={...e};for(const[e,a]of Object.entries(t))n[e]=(n[e]||0)+a;return n}(t,(a=e[n],Object.values(a).flat().reduce((e,t)=>{const{permissionResponse:n}=t;return e[n.chainId]=(e[n.chainId]||0)+1,e},{})));var a},{});return Object.entries(t).map(([e,t])=>({chainId:e,count:t}))}return[]});const c=(e,t,n)=>{if(!e[n])return[];const a=decodeURIComponent(t);return Object.values(e[n]).flat().filter(e=>{if(!e)throw new Error(`Undefined values present in the gatorPermissionsMap for permission type: ${n}`);return(0,o.isEqualCaseInsensitive)(decodeURIComponent(e.siteOrigin),a)})},u=(e,t)=>{const n=s.flatMap(n=>c(e,t,n)),a=new Set(n.map(e=>e.permissionResponse.chainId));return{count:n.length,chains:Array.from(a)}};n.getPermissionMetaDataByOrigin=(0,a.createSelector)([l,(e,t)=>t],(e,t)=>({tokenTransfer:u(e,t)})),n.getTokenTransferPermissionsByOrigin=(0,a.createSelector)([l,(e,t)=>t],(e,t)=>s.flatMap(n=>c(e,t,n))),n.getAggregatedGatorPermissionByChainId=(0,a.createSelector)([l,(e,t)=>t],(e,{aggregatedPermissionType:t,chainId:n})=>"token-transfer"===t?s.flatMap(t=>e[t][n]||[]):(console.warn(`Unknown aggregated permission type: ${t}`),[])),n.getPendingRevocations=(0,a.createSelector)([i],e=>e.pendingRevocations)}}},{package:"$root$",file:"ui/selectors/gator-permissions/gator-permissions.ts"}],[7884,{reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectSessionData=n.selectIsSignedIn=void 0;var a=e("reselect");const r=e=>e.metamask;n.selectIsSignedIn=(0,a.createSelector)([r],e=>e.isSignedIn),n.selectSessionData=(0,a.createSelector)([r],e=>{var t;return e.srpSessionData?null===(t=Object.entries(e.srpSessionData))||void 0===t||null===(t=t[0])||void 0===t?void 0:t[1]:undefined})}}},{package:"$root$",file:"ui/selectors/identity/authentication.ts"}],[7885,{reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectIsContactSyncingEnabled=n.selectIsBackupAndSyncUpdateLoading=n.selectIsBackupAndSyncEnabled=n.selectIsAccountSyncingEnabled=void 0;var a=e("reselect");const r=e=>e.metamask;n.selectIsBackupAndSyncEnabled=(0,a.createSelector)([r],e=>e.isBackupAndSyncEnabled),n.selectIsBackupAndSyncUpdateLoading=(0,a.createSelector)([r],e=>e.isBackupAndSyncUpdateLoading),n.selectIsAccountSyncingEnabled=(0,a.createSelector)([r],e=>e.isAccountSyncingEnabled),n.selectIsContactSyncingEnabled=(0,a.createSelector)([r],e=>e.isContactSyncingEnabled)}}},{package:"$root$",file:"ui/selectors/identity/backup-and-sync.ts"}],[7887,{"../../../shared/modules/selectors/util":5755,"../remote-feature-flags":7900,"@metamask/notification-services-controller/notification-services":2248,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsCheckingAccountsPresence=n.getFeatureAnnouncementsUnreadCount=n.getFeatureAnnouncementsReadCount=void 0,n.getIsNotificationEnabledByDefaultFeatureFlag=function(e){const{assetsEnableNotificationsByDefaultV2:t}=(0,s.getRemoteFeatureFlags)(e),n=t&&"object"==typeof t&&"value"in t&&Boolean(t.value);return Boolean(n)},n.selectIsMetamaskNotificationsFeatureSeen=n.selectIsMetamaskNotificationsEnabled=n.selectIsFeatureAnnouncementsEnabled=n.isFetchingMetamaskNotifications=n.getValidNotificationAccounts=n.getSnapNotificationsUnreadCount=n.getSnapNotificationsReadCount=n.getOnChainMetamaskNotificationsUnreadCount=n.getOnChainMetamaskNotificationsReadCount=n.getMetamaskNotificationsUnreadCount=n.getMetamaskNotificationsReadList=n.getMetamaskNotifications=n.getMetamaskNotificationById=n.getIsUpdatingMetamaskNotificationsAccount=n.getIsUpdatingMetamaskNotifications=void 0;var a=e("reselect"),r=e("@metamask/notification-services-controller/notification-services"),o=e("../../../shared/modules/selectors/util"),s=e("../remote-feature-flags");const i=e=>({...r.defaultState,...e.metamask});const l=n.getMetamaskNotifications=(0,a.createSelector)([i],e=>e.metamaskNotificationsList);n.getMetamaskNotificationById=e=>(0,o.createDeepEqualSelector)([l],t=>t.find(t=>t.id===e));n.getMetamaskNotificationsReadList=(0,a.createSelector)([i],e=>e.metamaskNotificationsReadList),n.getMetamaskNotificationsUnreadCount=(0,a.createSelector)([l],e=>e?e.filter(e=>!e.isRead).length:0),n.getFeatureAnnouncementsUnreadCount=(0,a.createSelector)([l],e=>e?e.filter(e=>!e.isRead&&e.type===r.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT).length:0),n.getFeatureAnnouncementsReadCount=(0,a.createSelector)([l],e=>e?e.filter(e=>e.isRead&&e.type===r.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT).length:0),n.getSnapNotificationsUnreadCount=(0,a.createSelector)([l],e=>e?e.filter(e=>!e.isRead&&e.type===r.TRIGGER_TYPES.SNAP).length:0),n.getSnapNotificationsReadCount=(0,a.createSelector)([l],e=>e?e.filter(e=>e.isRead&&e.type===r.TRIGGER_TYPES.SNAP).length:0),n.getOnChainMetamaskNotificationsUnreadCount=(0,a.createSelector)([l],e=>e?e.filter(e=>!e.isRead&&e.type!==r.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT&&e.type!==r.TRIGGER_TYPES.SNAP).length:0),n.getOnChainMetamaskNotificationsReadCount=(0,a.createSelector)([l],e=>e?e.filter(e=>e.isRead&&e.type!==r.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT&&e.type!==r.TRIGGER_TYPES.SNAP).length:0),n.selectIsMetamaskNotificationsFeatureSeen=(0,a.createSelector)([i],e=>e.isMetamaskNotificationsFeatureSeen),n.selectIsMetamaskNotificationsEnabled=(0,a.createSelector)([i],e=>e.isNotificationServicesEnabled),n.selectIsFeatureAnnouncementsEnabled=(0,a.createSelector)([i],e=>e.isFeatureAnnouncementsEnabled),n.getIsUpdatingMetamaskNotifications=(0,a.createSelector)([i],e=>e.isUpdatingMetamaskNotifications),n.isFetchingMetamaskNotifications=(0,a.createSelector)([i],e=>e.isFetchingMetamaskNotifications),n.getIsUpdatingMetamaskNotificationsAccount=(0,a.createSelector)([i],e=>e.isUpdatingMetamaskNotificationsAccount),n.getIsCheckingAccountsPresence=(0,a.createSelector)([i],e=>e.isCheckingAccountsPresence),n.getValidNotificationAccounts=(0,a.createSelector)([i],e=>e.subscriptionAccountsSeen)}}},{package:"$root$",file:"ui/selectors/metamask-notifications/metamask-notifications.ts"}],[7889,{"..":7886,"../../../shared/lib/accounts/snaps":5644,"../../../shared/lib/snaps/snaps":5713,"../../../shared/modules/selectors/util":5755,"../../../shared/modules/string-utils":5761,"../assets":7878,"@metamask/keyring-api":2100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapAccountsByKeyringId=n.getShouldShowSeedPhraseReminder=void 0;var a=e("@metamask/keyring-api"),r=e(".."),o=e("../../../shared/modules/selectors/util"),s=e("../assets"),i=e("../../../shared/lib/accounts/snaps"),l=e("../../../shared/modules/string-utils"),c=e("../../../shared/lib/snaps/snaps");const u=(0,o.createDeepEqualSelector)((e,t)=>t,r.getMetaMaskHdKeyrings,(e,t)=>{var n;const[a]=t;return!!a&&(!!a.accounts.find(t=>(0,l.isEqualCaseInsensitive)(e.address,t))||!(!e.metadata.snap||!(0,i.isMultichainWalletSnap)(e.metadata.snap.id)||(null===(n=e.options)||void 0===n?void 0:n.entropySource)!==a.metadata.id))});n.getShouldShowSeedPhraseReminder=(0,o.createDeepEqualSelector)(e=>e,(e,t)=>t,r.getSelectedAccountTokensAcrossChains,r.getCrossChainMetaMaskCachedBalances,(e,t)=>(0,s.getMultichainAggregatedBalance)(e,t),(e,t)=>u(e,t),(e,t,n,r,o,s)=>{const{seedPhraseBackedUp:i,dismissSeedBackUpReminder:l}=e.metamask;if(!t||!s)return!1;let c=!1;c=(0,a.isEvmAccountType)(t.type)?Object.values(n).some(e=>e.some(e=>e.balance&&parseInt(e.balance,16)>0))||Object.values(r).some(e=>(null==e?void 0:e[t.address])&&parseInt(null==e?void 0:e[t.address],16)>0):o>0;return!1===i&&c&&!1===l}),n.getSnapAccountsByKeyringId=(0,o.createDeepEqualSelector)(r.getInternalAccounts,(e,t)=>t,(e,t)=>e.filter(e=>{var n;return e.metadata.snap&&(0,c.isSnapPreinstalled)(e.metadata.snap.id)&&(null===(n=e.options)||void 0===n?void 0:n.entropySource)===t}))}}},{package:"$root$",file:"ui/selectors/multi-srp/multi-srp.ts"}],[7890,{"../../../shared/modules/selectors/util":5755,"../../helpers/utils/network-helper":6942,"../accounts":7875,"../multichain/networks":7896,"../selectors":7903,"./utils":7893,"@metamask/account-api":1159,"@metamask/keyring-api":2100,"@metamask/utils":2914,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getWalletsWithAccountsSimplified=n.getWalletsWithAccounts=n.getWalletIdAndNameByAccountAddress=n.getWallet=n.getSingleAccountGroups=n.getSelectedAccountGroup=n.getNormalizedGroupsMetadata=n.getNetworkAddressCount=n.getMultichainAccountsToScopesMap=n.getMultichainAccountsByWalletId=n.getMultichainAccountGroups=n.getMultichainAccountGroupById=n.getInternalAccountsFromGroupById=n.getInternalAccountListSpreadByScopesByGroupId=n.getInternalAccountBySelectedAccountGroupAndCaip=n.getInternalAccountByGroupAndCaip=n.getIconSeedAddressesByAccountGroups=n.getIconSeedAddressByAccountGroupId=n.getCaip25IdByAccountGroupAndScope=n.getAllAccountGroups=n.getAccountTree=n.getAccountGroupsByScopes=n.getAccountGroupsByAddress=n.getAccountGroupWithInternalAccounts=void 0;var a=e("@metamask/account-api"),r=e("@metamask/keyring-api"),o=e("reselect"),s=e("@metamask/utils"),i=e("../../../shared/modules/selectors/util"),l=e("../selectors"),c=e("../accounts"),u=e("../multichain/networks"),d=e("../../helpers/utils/network-helper"),p=e("./utils");const m=e=>e.metamask.accountTree;n.getAccountTree=m;const f=(e,t,n,a,r,o,s)=>{const i=new Set(r),l=new Set(o),c=new Set(n.map(e=>e.id)),u=e.reduce((e,t)=>(e[t.id]=t,e),{}),{wallets:d}=t;return Object.entries(d).reduce((e,[t,n])=>{e[t]={id:t,type:n.type,metadata:n.metadata,groups:{}};const r=Array.from(new Set(Object.values(n.groups).flatMap(e=>e.accounts)));return Object.entries(n.groups).forEach(([n,o],d)=>{const p=s(o.accounts,d,r,u).map(e=>{const t={...u[e]};return t.pinned=i.has(t.address),t.hidden=l.has(t.address),t.active=a.id===t.id&&c.has(t.id),t});e[t].groups[n]={id:n,type:o.type,metadata:o.metadata,accounts:p}}),e},{})},h=n.getWalletsWithAccounts=(0,i.createDeepEqualSelector)(l.getMetaMaskAccountsOrdered,m,l.getOrderedConnectedAccountsForActiveTab,c.getSelectedInternalAccount,l.getPinnedAccountsList,l.getHiddenAccountsList,(e,t,n,a,r,o)=>f(e,t,n,a,r,o,e=>e)),g=(n.getNormalizedGroupsMetadata=(0,i.createDeepEqualSelector)(m,c.getInternalAccountsObject,(e,t)=>{const{wallets:n}=e,a={};for(const e of Object.values(n))for(const n of Object.values(e.groups)){var r;a[n.id]={name:(null===(r=n.metadata)||void 0===r||null===(r=r.name)||void 0===r?void 0:r.toLowerCase())??"",accounts:n.accounts.map(e=>{var n;return(null===(n=t[e])||void 0===n?void 0:n.address.toLowerCase())??""})}}return a}),n.getWalletsWithAccountsSimplified=(0,i.createDeepEqualSelector)(l.getMetaMaskAccountsOrdered,m,l.getOrderedConnectedAccountsForActiveTab,c.getSelectedInternalAccount,l.getPinnedAccountsList,l.getHiddenAccountsList,(e,t,n,a,r,o)=>f(e,t,n,a,r,o,(e,t,n,a)=>0===t?Object.keys(a).filter(e=>n.includes(e)):[])),n.getWalletIdAndNameByAccountAddress=(0,i.createDeepEqualSelector)(h,(e,t)=>t,(e,t)=>{for(const[n,a]of Object.entries(e))for(const e of Object.values(a.groups)){if(e.accounts.find(e=>e.address.toLowerCase()===t.toLowerCase()))return{id:n,name:a.metadata.name}}return null}),n.getMultichainAccountGroupById=(0,i.createDeepEqualSelector)(m,(e,t)=>t,(e,t)=>{if(!t)return undefined;const{wallets:n}=e,a=n[(0,p.extractWalletIdFromGroupId)(t)];return null==a?void 0:a.groups[t]}),n.getAllAccountGroups=(0,i.createDeepEqualSelector)(m,e=>{const{wallets:t}=e;return Object.values(t).flatMap(e=>Object.values(e.groups).map(t=>({...t,walletName:e.metadata.name,walletId:e.id})))})),y=n.getMultichainAccountGroups=(0,i.createDeepEqualSelector)(g,e=>e.filter(e=>e.id.startsWith(a.AccountWalletType.Entropy))),b=(n.getSingleAccountGroups=(0,i.createDeepEqualSelector)(g,e=>e.filter(e=>!e.id.startsWith(a.AccountWalletType.Entropy))),n.getAccountGroupWithInternalAccounts=(0,i.createDeepEqualSelector)(g,c.getInternalAccounts,(e,t)=>e.map(e=>({...e,accounts:e.accounts.map(e=>t.find(t=>t.id===e)).filter(e=>e!==undefined)})))),C=n.getMultichainAccountsToScopesMap=(0,i.createDeepEqualSelector)(y,c.getInternalAccounts,(e,t)=>{const n=new Map;return e.forEach(e=>{const a=new Map;Object.values(e.accounts).forEach(e=>{const n=t.find(t=>t.id===e);if(!n)return;const[r]=n.scopes;if(r){const[e,t]=r.split(":");a.set(r,`${e}:${t}:${n.address}`)}}),n.set(e.id,a)}),n}),E=(n.getCaip25IdByAccountGroupAndScope=(0,i.createDeepEqualSelector)(C,(e,t,n)=>({accountGroup:t,scope:n}),(e,{accountGroup:t,scope:n})=>{const a=e.get(t.id);return a?a.get(n):undefined}),n.getAccountGroupsByScopes=(0,i.createDeepEqualSelector)(b,(e,t)=>t,(e,t)=>{const{cleanedScopes:n,hasEvmScope:a}=t.reduce((e,t)=>{const[n]=t.split(":");return n===s.KnownCaipNamespace.Eip155?e.hasEvmScope=!0:e.cleanedScopes.push(t),e},{cleanedScopes:[],hasEvmScope:!1});if(a)return e;const r=new Map;return n.forEach(t=>{const n=e.filter(e=>e.accounts.some(e=>e.scopes.includes(t)));r.set(t,n)}),Array.from(r.values()).flat()}),(e,t)=>{for(const n of Object.values(e))if(n.groups[t])return n.groups[t];return null}),T=(e,t,n)=>{if(!e)return null;const a=(0,p.getSanitizedChainId)(t);for(const t of e.accounts){const e=n[t];if(null!=e&&e.scopes.includes(a))return e}return null},v=(n.getInternalAccountByGroupAndCaip=(0,i.createDeepEqualSelector)(m,c.getInternalAccountsObject,(e,t,n)=>({groupId:t,caipChainId:n}),(e,t,{groupId:n,caipChainId:a})=>{const{wallets:r}=e,o=E(r,n);return T(o,a,t)}),n.getSelectedAccountGroup=(0,i.createDeepEqualSelector)(m,e=>e.selectedAccountGroup)),_=(n.getInternalAccountBySelectedAccountGroupAndCaip=(0,i.createDeepEqualSelector)(m,c.getInternalAccountsObject,v,(e,t)=>t,(e,t,n,a)=>{if(!n)return null;const{wallets:r}=e,o=E(r,n);return T(o,a,t)}),n.getWallet=(0,o.createSelector)(e=>{var t;return null===(t=e.metamask)||void 0===t||null===(t=t.accountTree)||void 0===t?void 0:t.wallets},(e,t)=>t,(e,t)=>null==e?void 0:e[t]),n.getMultichainAccountsByWalletId=(0,o.createSelector)(m,(e,t)=>t,(e,t)=>{const n=e.wallets[t];return null==n?void 0:n.groups}),n.getInternalAccountsFromGroupById=(0,o.createSelector)(m,c.getInternalAccountsObject,(e,t)=>t,(e,t,n)=>{if(!n)return[];const{wallets:a}=e,r=E(a,n);return r?r.accounts.map(e=>t[e]).filter(e=>Boolean(e)):[]})),S=(n.getAccountGroupsByAddress=(0,i.createDeepEqualSelector)([b,(e,t)=>new Set(t.map(e=>e.toLowerCase()))],(e,t)=>{const n=new Set;return e.forEach(e=>{e.accounts.some(e=>t.has(e.address.toLowerCase()))&&n.add(e)}),[...n]}),n.getInternalAccountListSpreadByScopesByGroupId=(0,i.createDeepEqualSelector)([_,u.getMultichainNetworkConfigurationsByChainId],(e,t)=>{const n=t[0],a=new Set(Object.keys(n).filter(e=>e.startsWith(s.KnownCaipNamespace.Eip155)&&!(0,d.isTestNetwork)(e))),o=[];return e.forEach(e=>{(e.type===r.EthAccountType.Eoa?[...a]:e.scopes||[]).forEach(t=>{var a;(0,d.isTestNetwork)(t)||o.push({account:e,scope:t,networkName:(null===(a=n[t])||void 0===a?void 0:a.name)||"Unknown Network"})})}),o})),w=(n.getNetworkAddressCount=(0,i.createDeepEqualSelector)([S],e=>e?e.length:0),n.getIconSeedAddressByAccountGroupId=(0,i.createDeepEqualSelector)([_],e=>{if(!e||0===e.length)return"";for(const t of e)if((0,r.isEvmAccountType)(t.type))return t.address;return e[0].address}));n.getIconSeedAddressesByAccountGroups=(e,t)=>{const n={};return t.forEach(t=>{try{const a=w(e,t.id);n[t.id]=a}catch(e){n[t.id]=""}}),n}}}},{package:"$root$",file:"ui/selectors/multichain-accounts/account-tree.ts"}],[7893,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSanitizedChainId=n.extractWalletIdFromGroupId=void 0;n.getSanitizedChainId=e=>e.startsWith("eip155")?"eip155:0":e;n.extractWalletIdFromGroupId=e=>{if(!e)throw new Error("Account group ID is required");if(e.startsWith("snap:")){if(e.includes("@")&&e.includes("/")){const t=e.lastIndexOf("/");return e.substring(0,t)}if(e.includes("/")){return e.split("/").slice(0,-1).join("/")}return e}return e.split("/")[0]}}}},{package:"$root$",file:"ui/selectors/multichain-accounts/utils.ts"}],[7894,{"./multichain-accounts/account-tree":7890},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSelectedAccountGroupMultichainTransactions=function(e,t){const n=e.metamask.nonEvmTransactions,r=(0,a.getSelectedAccountGroup)(e),o=(0,a.getAccountGroupWithInternalAccounts)(e).find(e=>e.id===r),s=null==o?void 0:o.accounts.map(e=>e.id),i=[];if(s&&s.length>0)for(const e of s){const a=(null==n?void 0:n[e])??{};for(const e of t??[]){const t=null==a?void 0:a[e];null!=t&&t.transactions&&Array.isArray(t.transactions)&&i.push(...t.transactions)}}return{transactions:i}};var a=e("./multichain-accounts/account-tree")}}},{package:"$root$",file:"ui/selectors/multichain-transactions.ts"}],[7897,{"../remote-feature-flags":7900,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectAdditionalNetworksBlacklistFeatureFlag=void 0;var a=e("reselect"),r=e("../remote-feature-flags");n.selectAdditionalNetworksBlacklistFeatureFlag=(0,a.createSelector)(r.getRemoteFeatureFlags,e=>{const t=e.additionalNetworksBlacklist;return Array.isArray(t)?t:[]})}}},{package:"$root$",file:"ui/selectors/network-blacklist/network-blacklist.ts"}],[7898,{"./selectors":7903,"./shared":7904,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getNftContractsByAddressOnCurrentChain=n.getNftContractsByAddressByChain=void 0,n.getNftsByChainByAccount=s,n.selectAllNftsFlat=void 0;var a=e("reselect"),r=e("./selectors"),o=e("./shared");function s(e){return e.metamask.allNfts??o.EMPTY_OBJECT}const i=n.getNftContractsByAddressByChain=(0,a.createSelector)(function(e){return e.metamask.allNftContracts??o.EMPTY_OBJECT},e=>Object.keys(e).map(t=>Object.keys(e[t]).map(n=>e[t][n].map(e=>({...e,chainId:n})))).flat().flat().reduce((e,t)=>{const{chainId:n,...a}=t,r=e[n]??{};return e[n]=r,r[a.address.toLowerCase()]=a,e},{}));n.getNftContractsByAddressOnCurrentChain=(0,a.createSelector)(e=>(0,r.getMemoizedCurrentChainId)(e),i,(e,t)=>t[e]??{}),n.selectAllNftsFlat=(0,a.createSelector)(s,e=>Object.values(e).reduce((e,t)=>{const n=Object.values(t);return e.concat(...n)},[]))}}},{package:"$root$",file:"ui/selectors/nft.ts"}],[7905,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSupportedNetworksForClaim=function(e){return e.metamask.claimsConfigurations.supportedNetworks},n.getValidSubmissionWindowDays=function(e){return e.metamask.claimsConfigurations.validSubmissionWindowDays}}}},{package:"$root$",file:"ui/selectors/shield/claims.ts"}],[7906,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function a(e,t){var n,a;const r=null===(n=e.metamask.coverageResults)||void 0===n?void 0:n[t];return null!=r&&null!==(a=r.results)&&void 0!==a&&a.length?r.results[0]:undefined}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoverageMetrics=function(e,t){const n=a(e,t);return null==n?void 0:n.metrics},n.getCoverageStatus=function(e,t){const n=a(e,t);return{status:null==n?void 0:n.status,reasonCode:null==n?void 0:n.reasonCode}}}}},{package:"$root$",file:"ui/selectors/shield/coverage.ts"}],[7907,{"../../shared/modules/selectors/util":5755,"./transactions":7914,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectUnapprovedMessages=n.selectUnapprovedMessage=void 0;var a=e("reselect"),r=e("../../shared/modules/selectors/util"),o=e("./transactions");const s=n.selectUnapprovedMessages=(0,a.createSelector)(o.unapprovedPersonalMsgsSelector,o.unapprovedTypedMessagesSelector,(e,t)=>({...e,...t})),i=(0,a.createSelector)(s,(e,t)=>t,(e,t)=>e[t]);n.selectUnapprovedMessage=(0,r.createDeepEqualSelector)(i,e=>e)}}},{package:"$root$",file:"ui/selectors/signatures.ts"}],[7908,{"../../../shared/modules/selectors/util":5755,"../accounts":7875,"../selectors":7903,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMemoizedAccountName=n.getAccountNameFromState=void 0;var a=e("reselect"),r=e("../selectors"),o=e("../accounts"),s=e("../../../shared/modules/selectors/util");const i=n.getAccountNameFromState=(0,a.createSelector)([o.getInternalAccounts,(e,t)=>t],r.getAccountName);n.getMemoizedAccountName=(0,s.createDeepEqualSelector)([i],e=>e)}}},{package:"$root$",file:"ui/selectors/snaps/accounts.ts"}],[7909,{"../../../shared/modules/selectors/util":5755,"../../../shared/modules/string-utils":5761},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMemoizedFullAddressBook=n.getFullAddressBook=n.getAddressBookEntryByNetwork=n.getAddressBookByNetwork=void 0;var a=e("../../../shared/modules/selectors/util"),r=e("../../../shared/modules/string-utils");const o=e=>e.metamask.addressBook;n.getFullAddressBook=o;const s=n.getMemoizedFullAddressBook=(0,a.createDeepEqualSelector)([o],e=>e),i=n.getAddressBookByNetwork=(0,a.createDeepEqualSelector)([s,(e,t)=>t],(e,t)=>e[t]?Object.values(e[t]):[]);n.getAddressBookEntryByNetwork=(0,a.createDeepEqualSelector)([(e,t,n)=>i(e,n),(e,t)=>t],(e,t)=>e.find(e=>(0,r.isEqualCaseInsensitive)(e.address,t)))}}},{package:"$root$",file:"ui/selectors/snaps/address-book.ts"}],[7910,{"../../../shared/modules/selectors/util":5755,"../../ducks/metamask/metamask":6883},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMemoizedCurrentCurrency=void 0;var a=e("../../../shared/modules/selectors/util"),r=e("../../ducks/metamask/metamask");n.getMemoizedCurrentCurrency=(0,a.createDeepEqualSelector)([r.getCurrentCurrency],e=>e)}}},{package:"$root$",file:"ui/selectors/snaps/currency.ts"}],[7911,{"./accounts":7908,"./address-book":7909,"./currency":7910},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./address-book");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))});var r=e("./accounts");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))});var o=e("./currency");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))})}}},{package:"$root$",file:"ui/selectors/snaps/index.ts"}],[7912,{"./subscription":7913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./subscription");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))})}}},{package:"$root$",file:"ui/selectors/subscription/index.ts"}],[7913,{"../../../shared/lib/shield":5712,"@metamask/subscription-controller":2806},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHasShieldEntryModalShownOnce=function(e){return Boolean(null!==e.metamask.showShieldEntryModalOnce)},n.getHasSubscribedToShield=function(e){const t=(0,r.getShieldSubscription)(e.metamask.subscriptions),n=e.metamask.lastSubscription&&(0,r.getShieldSubscription)(e.metamask.lastSubscription);return Boolean(t)||Boolean(n)},n.getIsActiveShieldSubscription=function(e){return(0,r.getIsShieldSubscriptionActive)(e.metamask.subscriptions)},n.getLastUsedShieldSubscriptionPaymentDetails=function(e){var t;return null===(t=e.metamask.lastSelectedPaymentMethod)||void 0===t?void 0:t[a.PRODUCT_TYPES.SHIELD]},n.getLatestShieldSubscription=function(e){const{subscriptions:t,lastSubscription:n}=e.metamask,a=(0,r.getShieldSubscription)(t);if(n&&!a)return(0,r.getShieldSubscription)(n);return a},n.getSubscriptionPricing=function(e){return e.metamask.pricing},n.getUserSubscriptions=function(e){return{customerId:e.metamask.customerId,subscriptions:e.metamask.subscriptions,trialedProducts:e.metamask.trialedProducts,lastSubscription:e.metamask.lastSubscription}};var a=e("@metamask/subscription-controller"),r=e("../../../shared/lib/shield")}}},{package:"$root$",file:"ui/selectors/subscription/subscription.ts"}],[7918,{"../background-connection":7917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.submitRevocation=n.fetchAndUpdateGatorPermissions=n.checkDelegationDisabled=n.addPendingRevocation=void 0;var a=e("../background-connection");n.fetchAndUpdateGatorPermissions=async e=>await(0,a.submitRequestToBackground)("fetchAndUpdateGatorPermissions",e?[e]:[]);n.addPendingRevocation=async({txId:e,permissionContext:t})=>{await(0,a.submitRequestToBackground)("addPendingRevocation",[{txId:e,permissionContext:t}])};n.submitRevocation=async({permissionContext:e})=>{await(0,a.submitRequestToBackground)("submitRevocation",[{permissionContext:e}])};n.checkDelegationDisabled=async(e,t,n)=>await(0,a.submitRequestToBackground)("checkDelegationDisabled",[e,t,n])}}},{package:"$root$",file:"ui/store/controller-actions/gator-permissions-controller.ts"}],[7919,{"../actions":7916,"../background-connection":7917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.multichainAssetsRatesStartPolling=async function(e){const t=await(0,r.submitRequestToBackground)("multichainAssetsRatesStartPolling",[{accountId:e}]);return await(0,a.addPollingTokenToAppState)(t),t},n.multichainAssetsRatesStopPollingByPollingToken=async function(e){await(0,r.submitRequestToBackground)("multichainAssetsRatesStopPollingByPollingToken",[e]),await(0,a.removePollingTokenFromAppState)(e)};var a=e("../actions"),r=e("../background-connection")}}},{package:"$root$",file:"ui/store/controller-actions/multichain-asset-rates-controller.ts"}],[7920,{"../background-connection":7917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAtomicBatchSupported=async function(...e){return await(0,a.submitRequestToBackground)("isAtomicBatchSupported",e)},n.startIncomingTransactionPolling=async function(){return await(0,a.submitRequestToBackground)("startIncomingTransactionPolling")},n.stopIncomingTransactionPolling=async function(){return await(0,a.submitRequestToBackground)("stopIncomingTransactionPolling")},n.updateAtomicBatchData=async function(e){return await(0,a.submitRequestToBackground)("updateAtomicBatchData",[e])},n.updateBatchTransactions=async function(...e){return await(0,a.submitRequestToBackground)("updateBatchTransactions",e)},n.updateSelectedGasFeeToken=async function(...e){return await(0,a.submitRequestToBackground)("updateSelectedGasFeeToken",e)};var a=e("../background-connection")}}},{package:"$root$",file:"ui/store/controller-actions/transaction-controller.ts"}],[7921,{"../ducks":6881,"@reduxjs/toolkit":2986,"react-redux":5021,"remote-redux-devtools":3875},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=[];null;return(0,r.configureStore)({reducer:o.default,middleware:e=>e({serializableCheck:!1,immutableCheck:!1}),devTools:!1,enhancers:t,preloadedState:e})},n.useAppSelector=void 0;var a=e("react-redux"),r=e("@reduxjs/toolkit"),o=(s(e("remote-redux-devtools")),s(e("../ducks")));function s(e){return e&&e.__esModule?e:{default:e}}n.useAppSelector=a.useSelector}}},{package:"$root$",file:"ui/store/store.ts"}],[829,{"@ethereumjs/util":672,"@keystonehq/bc-ur-registry":851,buffer:3880,hdkey:4393,uuid:5554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var a,r=e("@keystonehq/bc-ur-registry"),o=e("uuid"),s=(a=e("hdkey"))&&"object"==typeof a&&"default"in a?a.default:a,i=e("@ethereumjs/util");const l={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:c,RegistryTypes:u}=r.extend;var d,p;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(p=n.DataType||(n.DataType={}))[p.transaction=1]="transaction",p[p.typedData=2]="typedData",p[p.personalMessage=3]="personalMessage",p[p.typedTransaction=4]="typedTransaction";class m extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>l.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new r.DataItem(this.requestId,u.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new r.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,a,s,i,l,c,u){const d=a.replace(/[m|M]\//,"").split("/"),p=new r.CryptoKeypath(d.map(e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new r.PathComponent({index:t,hardened:n})}),t.from(s,"hex"));return new m({requestId:i?t.from(o.parse(i)):undefined,signData:e,dataType:n,derivationPath:p,chainId:l,address:c?t.from(c.replace("0x",""),"hex"):undefined,origin:u||undefined})}}m.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],a=t[d.dataType],o=r.CryptoKeypath.fromDataItem(t[d.derivationPath]),s=t[d.chainId]?t[d.chainId]:undefined,i=t[d.address]?t[d.address]:undefined,l=t[d.requestId]?t[d.requestId].getData():undefined,c=t[d.origin]?t[d.origin]:undefined;return new m({requestId:l,signData:n,dataType:a,chainId:s,derivationPath:o,address:i,origin:c})},m.fromCBOR=e=>{const t=c(e);return m.fromDataItem(t)};const{RegistryTypes:f,decodeToDataItem:h}=r.extend;var g;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(g||(g={}));class y extends r.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>l.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[g.requestId]=new r.DataItem(this.requestId,f.UUID.getTag())),this.origin&&(e[g.origin]=this.origin),e[g.signature]=this.signature,new r.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}y.fromDataItem=e=>{const t=e.getData(),n=t[g.signature],a=t[g.requestId]?t[g.requestId].getData():undefined;return new y(n,a,t[g.origin])},y.fromCBOR=e=>{const t=h(e);return y.fromDataItem(t)};const{decodeToDataItem:b}=r.extend;var C;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(C||(C={}));class E extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>l.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[C.chainId]=this.chainId,e[C.name]=this.name,e[C.contractAddress]=this.contractAddress,e[C.contractName]=this.contractName,e[C.mediaData]=this.mediaData,new r.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,a,r){return new E({chainId:e,contractAddress:t,contractName:n,mediaData:r,name:a})}}E.fromDataItem=e=>{const t=e.getData(),n=t[C.chainId],a=t[C.name],r=t[C.mediaData],o=t[C.contractAddress],s=t[C.contractName];return new E({chainId:n,name:a,contractAddress:o,contractName:s,mediaData:r})},E.fromCBOR=e=>{const t=b(e);return E.fromDataItem(t)};const T=(e,n)=>{const a=s.fromExtendedKey(e).derive(n),r="0x"+t.from(i.publicToAddress(a.publicKey,!0)).toString("hex");return i.toChecksumAddress(r)};r.patchTags(Object.values(l).filter(e=>!!e.getTag()).map(e=>e.getTag())),Object.keys(r).forEach(function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})}),n.ETHNFTItem=E,n.ETHSignature=y,n.EthSignRequest=m,n.findHDPathFromAddress=(e,t,n,a)=>{for(let r=0;r<n;r++){const n=T(t,`M/0/${r}`);if(e.toLowerCase()==n.toLowerCase())return`${a}/0/${r}`}return null},n.generateAddressFromXpub=T}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[830,{"@ethereumjs/util":672,"@keystonehq/bc-ur-registry":851,buffer:3880,hdkey:4393,uuid:5554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var a,r=e("@keystonehq/bc-ur-registry"),o=e("uuid"),s=(a=e("hdkey"))&&"object"==typeof a&&"default"in a?a.default:a,i=e("@ethereumjs/util");const l={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:c,RegistryTypes:u}=r.extend;var d,p;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(p=n.DataType||(n.DataType={}))[p.transaction=1]="transaction",p[p.typedData=2]="typedData",p[p.personalMessage=3]="personalMessage",p[p.typedTransaction=4]="typedTransaction";class m extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>l.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new r.DataItem(this.requestId,u.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new r.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,a,s,i,l,c,u){const d=a.replace(/[m|M]\//,"").split("/"),p=new r.CryptoKeypath(d.map(e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new r.PathComponent({index:t,hardened:n})}),t.from(s,"hex"));return new m({requestId:i?t.from(o.parse(i)):void 0,signData:e,dataType:n,derivationPath:p,chainId:l,address:c?t.from(c.replace("0x",""),"hex"):void 0,origin:u||void 0})}}m.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],a=t[d.dataType],o=r.CryptoKeypath.fromDataItem(t[d.derivationPath]),s=t[d.chainId]?t[d.chainId]:void 0,i=t[d.address]?t[d.address]:void 0,l=t[d.requestId]?t[d.requestId].getData():void 0;return new m({requestId:l,signData:n,dataType:a,chainId:s,derivationPath:o,address:i,origin:t[d.origin]?t[d.origin]:void 0})},m.fromCBOR=e=>{const t=c(e);return m.fromDataItem(t)};const{RegistryTypes:f,decodeToDataItem:h}=r.extend;var g;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(g||(g={}));class y extends r.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>l.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[g.requestId]=new r.DataItem(this.requestId,f.UUID.getTag())),this.origin&&(e[g.origin]=this.origin),e[g.signature]=this.signature,new r.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}y.fromDataItem=e=>{const t=e.getData(),n=t[g.signature],a=t[g.requestId]?t[g.requestId].getData():void 0;return new y(n,a,t[g.origin])},y.fromCBOR=e=>{const t=h(e);return y.fromDataItem(t)};const{decodeToDataItem:b}=r.extend;var C;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(C||(C={}));class E extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>l.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[C.chainId]=this.chainId,e[C.name]=this.name,e[C.contractAddress]=this.contractAddress,e[C.contractName]=this.contractName,e[C.mediaData]=this.mediaData,new r.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,a,r){return new E({chainId:e,contractAddress:t,contractName:n,mediaData:r,name:a})}}E.fromDataItem=e=>{const t=e.getData();return new E({chainId:t[C.chainId],name:t[C.name],contractAddress:t[C.contractAddress],contractName:t[C.contractName],mediaData:t[C.mediaData]})},E.fromCBOR=e=>{const t=b(e);return E.fromDataItem(t)};const T=(e,n)=>{const a=s.fromExtendedKey(e).derive(n),r="0x"+t.from(i.publicToAddress(a.publicKey,!0)).toString("hex");return i.toChecksumAddress(r)};r.patchTags(Object.values(l).filter(e=>!!e.getTag()).map(e=>e.getTag())),Object.keys(r).forEach(function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})}),n.ETHNFTItem=E,n.ETHSignature=y,n.EthSignRequest=m,n.findHDPathFromAddress=(e,t,n,a)=>{for(let r=0;r<n;r++){const n=T(t,"M/0/"+r);if(e.toLowerCase()==n.toLowerCase())return`${a}/0/${r}`}return null},n.generateAddressFromXpub=T}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[831,{"./bc-ur-registry-eth.cjs.development.js":829,"./bc-ur-registry-eth.cjs.production.min.js":830},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[832,{"./RegistryItem":843,"./RegistryType":844,"./lib":854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Bytes=void 0;const a=e("./lib"),r=e("./RegistryItem"),o=e("./RegistryType");class s extends r.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>o.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new a.DataItem(this.bytes)}}n.Bytes=s,s.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new s(t)},s.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return s.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[833,{".":851,"./RegistryItem":843,"./RegistryType":844,"./lib":854,buffer:3880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoAccount=void 0;const a=e("."),r=e("./lib"),o=e("./RegistryItem"),s=e("./RegistryType");var i;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(i||(i={}));class l extends o.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[i.outputDescriptors]=this.outputDescriptors.map(e=>e.toDataItem())),new r.DataItem(e)}}}n.CryptoAccount=l,l.fromDataItem=e=>{const n=e.getData(),r=t.alloc(4),o=n[i.masterFingerprint];o&&r.writeUInt32BE(o,0);const s=n[i.outputDescriptors].map(e=>a.CryptoOutput.fromDataItem(e));return new l(r,s)},l.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return l.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[834,{"./RegistryItem":843,"./RegistryType":844,"./lib":854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoCoinInfo=n.Network=n.Type=void 0;const a=e("./lib"),r=e("./RegistryItem"),o=e("./RegistryType");var s,i,l;!function(e){e.type="1",e.network="2"}(s||(s={})),function(e){e[e.bitcoin=0]="bitcoin"}(i=n.Type||(n.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(l=n.Network||(n.Network={}));class c extends r.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||i.bitcoin,this.getNetwork=()=>this.network||l.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[s.type]=this.type),this.network&&(e[s.network]=this.network),new a.DataItem(e)}}}n.CryptoCoinInfo=c,c.fromDataItem=e=>{const t=e.getData(),n=t[s.type],a=t[s.network];return new c(n,a)},c.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[835,{"./RegistryItem":843,"./RegistryType":844,"./lib":854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoECKey=void 0;const a=e("./lib"),r=e("./RegistryItem"),o=e("./RegistryType");var s;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(s||(s={}));class i extends r.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[s.curve]=this.curve),this.privateKey!==undefined&&(e[s.private]=this.privateKey),e[s.data]=this.data,new a.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}n.CryptoECKey=i,i.fromDataItem=e=>{const t=e.getData(),n=t[s.curve],a=t[s.private],r=t[s.data];if(!r)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new i({data:r,curve:n,privateKey:a})},i.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return i.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[836,{"./CryptoCoinInfo":834,"./CryptoKeypath":837,"./RegistryItem":843,"./RegistryType":844,"./lib":854,bs58check:3884,buffer:3880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoHDKey=void 0;const a=e("bs58check"),r=e("./CryptoCoinInfo"),o=e("./CryptoKeypath"),s=e("./lib"),i=e("./RegistryItem"),l=e("./RegistryType");var c;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(c||(c={}));class u extends i.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,n,r;let o,s,i=0,l=t.alloc(4).fill(0);if(this.isMaster())o=t.from("0488ADE4","hex"),s=0,i=0;else{s=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(n=this.getOrigin())||void 0===n?void 0:n.getDepth());const a=null===(r=this.getOrigin())||void 0===r?void 0:r.getComponents(),c=a[a.length-1];c&&(i=c.isHardened()?c.getIndex()+2147483648:c.getIndex(),this.getParentFingerprint()&&(l=this.getParentFingerprint())),o=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const c=t.alloc(1);c.writeUInt8(s,0);const u=t.alloc(4);u.writeUInt32BE(i,0);const d=this.getChainCode(),p=this.getKey();return(0,a.encode)(t.concat([o,c,l,u,d,p]))},this.getRegistryType=()=>l.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,n,a,r,o,s;let i="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(i+=`${null===(a=null===(n=this.getOrigin())||void 0===n?void 0:n.getSourceFingerprint())||void 0===a?void 0:a.toString("hex")}/${null===(r=this.getOrigin())||void 0===r?void 0:r.getPath()}`),i+=this.getBip32Key(),this.getChildren()&&(null===(o=this.getChildren())||void 0===o?void 0:o.getPath())&&(i+=`/${null===(s=this.getChildren())||void 0===s?void 0:s.getPath()}`),i},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[c.is_master]=!0,e[c.key_data]=this.key,e[c.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[c.is_private]=this.privateKey),e[c.key_data]=this.key,this.chainCode&&(e[c.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[c.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[c.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[c.children]=t}this.parentFingerprint&&(e[c.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[c.name]=this.name),this.note!==undefined&&(e[c.note]=this.note)}return new s.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}n.CryptoHDKey=u,u.fromDataItem=e=>{const n=e.getData(),a=!!n[c.is_master],s=n[c.is_private],i=n[c.key_data],l=n[c.chain_code],d=n[c.use_info]?r.CryptoCoinInfo.fromDataItem(n[c.use_info]):undefined,p=n[c.origin]?o.CryptoKeypath.fromDataItem(n[c.origin]):undefined,m=n[c.children]?o.CryptoKeypath.fromDataItem(n[c.children]):undefined,f=n[c.parent_fingerprint];let h=undefined;f&&(h=t.alloc(4),h.writeUInt32BE(f,0));const g=n[c.name],y=n[c.note];return new u({isMaster:a,isPrivateKey:s,key:i,chainCode:l,useInfo:d,origin:p,children:m,parentFingerprint:h,name:g,note:y})},u.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return u.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[837,{"./PathComponent":842,"./RegistryItem":843,"./RegistryType":844,"./lib":854,buffer:3880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoKeypath=void 0;const a=e("./lib"),r=e("./PathComponent"),o=e("./RegistryItem"),s=e("./RegistryType");var i;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(i||(i={}));class l extends o.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map(e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach(e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())}),e[i.components]=t,this.sourceFingerprint&&(e[i.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[i.depth]=this.depth),new a.DataItem(e)}}}n.CryptoKeypath=l,l.fromDataItem=e=>{const n=e.getData(),a=[],o=n[i.components];if(o)for(let e=0;e<o.length;e+=2){const t=o[e+1],n=o[e];"number"==typeof n?a.push(new r.PathComponent({index:n,hardened:t})):a.push(new r.PathComponent({hardened:t}))}const s=n[i.source_fingerprint];let c;s&&(c=t.alloc(4),c.writeUInt32BE(s,0));const u=n[i.depth];return new l(a,c,u)},l.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return l.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[838,{"./CryptoECKey":835,"./CryptoHDKey":836,"./MultiKey":841,"./RegistryItem":843,"./RegistryType":844,"./ScriptExpression":845,"./lib":854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoOutput=void 0;const a=e("./CryptoECKey"),r=e("./CryptoHDKey"),o=e("./lib"),s=e("./MultiKey"),i=e("./RegistryItem"),l=e("./RegistryType"),c=e("./ScriptExpression");class u extends i.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>l.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof r.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof a.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof s.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof a.CryptoECKey||this.cryptoKey instanceof r.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach(t=>{const n=t.getTag();e.getTag()===undefined?e.setTag(n):e=new o.DataItem(e,n)}),e}}}n.CryptoOutput=u,u.fromDataItem=e=>{const t=[];let n=e;for(;;){let e=n.getTag();const a=c.ScriptExpression.fromTag(e);if(!a)break;if(t.push(a),!(n.getData()instanceof o.DataItem))break;n=n.getData(),e=n.getTag()}const i=t.length;if(i>0&&(t[i-1].getExpression()===c.ScriptExpressions.MULTISIG.getExpression()||t[i-1].getExpression()===c.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=s.MultiKey.fromDataItem(n);return new u(t,e)}if(n.getTag()===l.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=r.CryptoHDKey.fromDataItem(n);return new u(t,e)}{const e=a.CryptoECKey.fromDataItem(n);return new u(t,e)}},u.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[839,{"./RegistryItem":843,"./RegistryType":844,"./lib":854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoPSBT=void 0;const a=e("./lib"),r=e("./RegistryItem"),o=e("./RegistryType");class s extends r.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new a.DataItem(this.psbt)}}n.CryptoPSBT=s,s.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new s(t)},s.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return s.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[840,{"..":851,"../RegistryType":844,"../errors":846,"@ngraveio/bc-ur":2934},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URRegistryDecoder=void 0;const a=e("@ngraveio/bc-ur"),r=e(".."),o=e("../RegistryType"),s=e("../errors");class i extends a.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case o.RegistryTypes.BYTES.getType():return r.Bytes.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_HDKEY.getType():return r.CryptoHDKey.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_KEYPATH.getType():return r.CryptoKeypath.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_COIN_INFO.getType():return r.CryptoCoinInfo.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_ECKEY.getType():return r.CryptoECKey.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_OUTPUT.getType():return r.CryptoOutput.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_PSBT.getType():return r.CryptoPSBT.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_ACCOUNT.getType():return r.CryptoAccount.fromCBOR(e.cbor);default:throw new s.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}n.URRegistryDecoder=i}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[841,{"./CryptoECKey":835,"./CryptoHDKey":836,"./RegistryItem":843,"./RegistryType":844,"./lib/DataItem":852},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultiKey=void 0;const a=e("./CryptoECKey"),r=e("./CryptoHDKey"),o=e("./lib/DataItem"),s=e("./RegistryItem"),i=e("./RegistryType");var l;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(l||(l={}));class c extends s.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[l.threshold]=this.threshold;const t=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t});return e[l.keys]=t,new o.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(e=>e.getOutputDescriptorContent()).join(",")].join(",")}}n.MultiKey=c,c.fromDataItem=e=>{const t=e.getData(),n=t[l.threshold],o=t[l.keys],s=[];return o.forEach(e=>{e.getTag()===i.RegistryTypes.CRYPTO_HDKEY.getTag()?s.push(r.CryptoHDKey.fromDataItem(e)):e.getTag()===i.RegistryTypes.CRYPTO_ECKEY.getTag()&&s.push(a.CryptoECKey.fromDataItem(e))}),new c(n,s)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[842,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PathComponent=void 0;class a{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&0!==(this.index&a.HARDENED_BIT))throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}n.PathComponent=a,a.HARDENED_BIT=2147483648}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[843,{"./lib":854,"@ngraveio/bc-ur":2934},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryItem=void 0;const a=e("@ngraveio/bc-ur"),r=e("./lib");n.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,r.encodeDataItem)(this.toDataItem())},this.toUR=()=>new a.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{const r=this.toUR();return new a.UREncoder(r,e,t,n)}}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[844,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryTypes=n.RegistryType=void 0;class a{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}n.RegistryType=a,n.RegistryTypes={UUID:new a("uuid",37),BYTES:new a("bytes",undefined),CRYPTO_HDKEY:new a("crypto-hdkey",303),CRYPTO_KEYPATH:new a("crypto-keypath",304),CRYPTO_COIN_INFO:new a("crypto-coin-info",305),CRYPTO_ECKEY:new a("crypto-eckey",306),CRYPTO_OUTPUT:new a("crypto-output",308),CRYPTO_PSBT:new a("crypto-psbt",310),CRYPTO_ACCOUNT:new a("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new a("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new a("qr-hardware-call",1201),KEY_DERIVATION_CALL:new a("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new a("key-derivation-schema",1302)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[845,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptExpressions=n.ScriptExpression=void 0;class a{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}n.ScriptExpression=a,a.fromTag=e=>Object.values(n.ScriptExpressions).find(t=>t.getTag()===e),n.ScriptExpressions={SCRIPT_HASH:new a(400,"sh"),WITNESS_SCRIPT_HASH:new a(401,"wsh"),PUBLIC_KEY:new a(402,"pk"),PUBLIC_KEY_HASH:new a(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new a(404,"wpkh"),COMBO:new a(405,"combo"),MULTISIG:new a(406,"multi"),SORTED_MULTISIG:new a(407,"sortedmulti"),ADDRESS:new a(307,"addr"),RAW_SCRIPT:new a(408,"raw")}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[846,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UnknownURTypeError=void 0;class a extends Error{constructor(e){super(e)}}n.UnknownURTypeError=a}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js"}],[847,{"../CryptoHDKey":836,"../RegistryItem":843,"../RegistryType":844,"../lib":854,buffer:3880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoMultiAccounts=void 0;const a=e("../RegistryType"),r=e("../CryptoHDKey"),o=e("../RegistryItem"),s=e("../lib");var i;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"}(i||(i={}));class l extends o.RegistryItem{constructor(e,t,n,r,o){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.deviceId=r,this.version=o,this.getRegistryType=()=>a.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[i.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(e[i.keys]=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),this.device&&(e[i.device]=this.device),this.deviceId&&(e[i.deviceId]=this.deviceId),this.version&&(e[i.version]=this.version),new s.DataItem(e)}}}n.CryptoMultiAccounts=l,l.fromDataItem=e=>{const n=e.getData(),a=t.alloc(4),o=n[i.masterFingerprint];o&&a.writeUInt32BE(o,0);const s=n[i.keys].map(e=>r.CryptoHDKey.fromDataItem(e)),c=n[i.device],u=n[i.deviceId],d=n[i.version];return new l(a,s,c,u,d)},l.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return l.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/CryptoMultiAccounts.js"}],[848,{"../CryptoKeypath":837,"../RegistryItem":843,"../RegistryType":844,"../lib":854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyDerivationSchema=n.DerivationAlgorithm=n.Curve=void 0;const a=e("../RegistryType"),r=e("../RegistryItem"),o=e("../lib"),s=e("../CryptoKeypath");var i,l,c;!function(e){e[e.keyPath=1]="keyPath",e[e.curve=2]="curve",e[e.algo=3]="algo",e[e.chainType=4]="chainType"}(i||(i={})),function(e){e[e.secp256k1=0]="secp256k1",e[e.ed25519=1]="ed25519"}(l=n.Curve||(n.Curve={})),function(e){e[e.slip10=0]="slip10",e[e.bip32ed25519=1]="bip32ed25519"}(c=n.DerivationAlgorithm||(n.DerivationAlgorithm={}));class u extends r.RegistryItem{constructor(e,t=l.secp256k1,n=c.slip10,r){super(),this.keypath=e,this.curve=t,this.algo=n,this.chainType=r,this.getRegistryType=()=>a.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getChainType=()=>this.chainType,this.toDataItem=()=>{const e={},t=this.getKeypath().toDataItem();return t.setTag(this.getKeypath().getRegistryType().getTag()),e[i.keyPath]=t,e[i.curve]=this.curve,e[i.algo]=this.algo,this.chainType&&(e[i.chainType]=this.chainType),new o.DataItem(e)}}}n.KeyDerivationSchema=u,u.fromDataItem=e=>{const t=e.getData(),n=s.CryptoKeypath.fromDataItem(t[i.keyPath]),a=t[i.curve],r=t[i.algo],o=t[i.chainType];return new u(n,a,r,o)},u.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/DerivationSchema.js"}],[849,{"../RegistryItem":843,"../RegistryType":844,"../lib":854,"./DerivationSchema":848},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyDerivation=void 0;const a=e("../RegistryType"),r=e("../RegistryItem"),o=e("../lib"),s=e("./DerivationSchema");var i;!function(e){e[e.schemas=1]="schemas"}(i||(i={}));class l extends r.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>a.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const e={};return e[i.schemas]=this.schemas.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}),new o.DataItem(e)}}}n.KeyDerivation=l,l.fromDataItem=e=>{const t=e.getData()[i.schemas].map(e=>s.KeyDerivationSchema.fromDataItem(e));return new l(t)},l.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/KeyDerivation.js"}],[850,{"../RegistryItem":843,"../RegistryType":844,"../lib":854,"./KeyDerivation":849},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QRHardwareCall=n.QRHardwareCallVersion=n.QRHardwareCallType=void 0;const a=e("../RegistryType"),r=e("../RegistryItem"),o=e("../lib"),s=e("./KeyDerivation");var i,l;!function(e){e[e.type=1]="type",e[e.params=2]="params",e[e.origin=3]="origin",e[e.version=4]="version"}(i||(i={})),function(e){e[e.KeyDerivation=0]="KeyDerivation"}(l=n.QRHardwareCallType||(n.QRHardwareCallType={})),function(e){e[e.V0=0]="V0",e[e.V1=1]="V1"}(n.QRHardwareCallVersion||(n.QRHardwareCallVersion={}));class c extends r.RegistryItem{constructor(e,t,n,r){super(),this.type=e,this.params=t,this.origin=n,this.version=r,this.getRegistryType=()=>a.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};e[i.type]=this.type;const t=this.params.toDataItem();return t.setTag(this.params.getRegistryType().getTag()),e[i.params]=t,this.origin&&(e[i.origin]=this.origin),this.version&&(e[i.version]=this.version),new o.DataItem(e)}}}n.QRHardwareCall=c,c.fromDataItem=e=>{const t=e.getData(),n=t[i.type]||l.KeyDerivation;let a;if(n===l.KeyDerivation)a=s.KeyDerivation.fromDataItem(t[i.params]);const r=t[i.origin],o=t[i.version];return new c(n,a,r,o)},c.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/QRHardwareCall.js"}],[851,{"./Bytes":832,"./CryptoAccount":833,"./CryptoCoinInfo":834,"./CryptoECKey":835,"./CryptoHDKey":836,"./CryptoKeypath":837,"./CryptoOutput":838,"./CryptoPSBT":839,"./Decoder":840,"./MultiKey":841,"./PathComponent":842,"./RegistryItem":843,"./RegistryType":844,"./ScriptExpression":845,"./errors":846,"./extended/CryptoMultiAccounts":847,"./extended/DerivationSchema":848,"./extended/KeyDerivation":849,"./extended/QRHardwareCall":850,"./lib":854,"./patchCBOR":855,"./types":856,"./utils":857,"buffer/":3888,tslib:5509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.extend=n.PathComponent=n.ScriptExpressions=n.MultiKey=n.CryptoPSBT=n.CryptoOutput=n.CryptoECKey=n.CryptoCoinInfoNetwork=n.CryptoCoinInfoType=n.CryptoCoinInfo=n.CryptoKeypath=n.CryptoMultiAccounts=n.CryptoHDKey=n.CryptoAccount=n.Bytes=n.URRegistryDecoder=n.DataItem=void 0;const a=e("tslib");e("./patchCBOR");const r=e("buffer/");Object.defineProperty(n,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});const o=e("./CryptoHDKey");Object.defineProperty(n,"CryptoHDKey",{enumerable:!0,get:function(){return o.CryptoHDKey}});const s=e("./CryptoKeypath");Object.defineProperty(n,"CryptoKeypath",{enumerable:!0,get:function(){return s.CryptoKeypath}});const i=e("./CryptoCoinInfo");Object.defineProperty(n,"CryptoCoinInfo",{enumerable:!0,get:function(){return i.CryptoCoinInfo}}),Object.defineProperty(n,"CryptoCoinInfoType",{enumerable:!0,get:function(){return i.Type}}),Object.defineProperty(n,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return i.Network}});const l=e("./CryptoECKey");Object.defineProperty(n,"CryptoECKey",{enumerable:!0,get:function(){return l.CryptoECKey}});const c=e("./Bytes");Object.defineProperty(n,"Bytes",{enumerable:!0,get:function(){return c.Bytes}});const u=e("./CryptoOutput");Object.defineProperty(n,"CryptoOutput",{enumerable:!0,get:function(){return u.CryptoOutput}});const d=e("./CryptoPSBT");Object.defineProperty(n,"CryptoPSBT",{enumerable:!0,get:function(){return d.CryptoPSBT}});const p=e("./CryptoAccount");Object.defineProperty(n,"CryptoAccount",{enumerable:!0,get:function(){return p.CryptoAccount}});const m=e("./Decoder");Object.defineProperty(n,"URRegistryDecoder",{enumerable:!0,get:function(){return m.URRegistryDecoder}});const f=e("./MultiKey");Object.defineProperty(n,"MultiKey",{enumerable:!0,get:function(){return f.MultiKey}});const h=e("./ScriptExpression");Object.defineProperty(n,"ScriptExpressions",{enumerable:!0,get:function(){return h.ScriptExpressions}});const g=e("./PathComponent");Object.defineProperty(n,"PathComponent",{enumerable:!0,get:function(){return g.PathComponent}});const y=e("./RegistryItem"),b=e("./RegistryType"),C=e("./lib");var E=e("./lib");Object.defineProperty(n,"DataItem",{enumerable:!0,get:function(){return E.DataItem}});const T=e("./utils"),v=e("./extended/CryptoMultiAccounts");Object.defineProperty(n,"CryptoMultiAccounts",{enumerable:!0,get:function(){return v.CryptoMultiAccounts}});const _={URRegistryDecoder:m.URRegistryDecoder,Bytes:c.Bytes,CryptoAccount:p.CryptoAccount,CryptoHDKey:o.CryptoHDKey,CryptoMultiAccounts:v.CryptoMultiAccounts,CryptoKeypath:s.CryptoKeypath,CryptoCoinInfo:i.CryptoCoinInfo,CryptoCoinInfoType:i.Type,CryptoCoinInfoNetwork:i.Network,CryptoECKey:l.CryptoECKey,CryptoOutput:u.CryptoOutput,CryptoPSBT:d.CryptoPSBT,MultiKey:f.MultiKey,ScriptExpressions:h.ScriptExpressions,PathComponent:g.PathComponent},S={addReader:C.addReader,addSemanticDecode:C.addSemanticDecode,addSemanticEncode:C.addSemanticEncode,addWriter:C.addWriter,patchTags:T.patchTags},w={RegistryTypes:b.RegistryTypes,RegistryItem:y.RegistryItem,RegistryType:b.RegistryType,decodeToDataItem:C.decodeToDataItem,encodeDataItem:C.encodeDataItem,cbor:S};n.extend=w,(0,a.__exportStar)(e("./errors"),n),(0,a.__exportStar)(e("./Decoder"),n),(0,a.__exportStar)(e("./lib"),n),(0,a.__exportStar)(e("./CryptoAccount"),n),(0,a.__exportStar)(e("./CryptoPSBT"),n),(0,a.__exportStar)(e("./CryptoHDKey"),n),(0,a.__exportStar)(e("./extended/CryptoMultiAccounts"),n),(0,a.__exportStar)(e("./extended/QRHardwareCall"),n),(0,a.__exportStar)(e("./extended/KeyDerivation"),n),(0,a.__exportStar)(e("./extended/DerivationSchema"),n),(0,a.__exportStar)(e("./CryptoOutput"),n),(0,a.__exportStar)(e("./CryptoCoinInfo"),n),(0,a.__exportStar)(e("./CryptoECKey"),n),(0,a.__exportStar)(e("./MultiKey"),n),(0,a.__exportStar)(e("./CryptoKeypath"),n),(0,a.__exportStar)(e("./patchCBOR"),n),(0,a.__exportStar)(e("./PathComponent"),n),(0,a.__exportStar)(e("./RegistryItem"),n),(0,a.__exportStar)(e("./RegistryType"),n),(0,a.__exportStar)(e("./types"),n),(0,a.__exportStar)(e("./utils"),n),n.default=_}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/index.js"}],[852,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataItem=void 0;n.DataItem=class{constructor(e,t){this.setTag=e=>{this.tag=e},this.clearTag=()=>{this.tag=undefined},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js"}],[853,{"./DataItem":852,buffer:3880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){!function(e,n){"function"==typeof define&&define.amd?define([],n):void 0!==t&&t.exports?t.exports=n():e.CBOR=n()}(this,function(){const{DataItem:t}=e("./DataItem");var a=function(){function e(e){this.$hex=e}e.prototype={length:function(){return this.$hex.length/2},toString:function(e){if(!e||"hex"===e||16===e)return this.$hex;if("utf-8"===e){for(var t="",n=0;n<this.$hex.length;n+=2)t+="%"+this.$hex.substring(n,n+2);return decodeURIComponent(t)}if("latin"===e){for(t=[],n=0;n<this.$hex.length;n+=2)t.push(parseInt(this.$hex.substring(n,n+2),16));return String.fromCharCode.apply(String,t)}throw new Error("Unrecognised format: "+e)}},e.fromLatinString=function(t){for(var n="",a=0;a<t.length;a++){var r=t.charCodeAt(a).toString(16);1===r.length&&(r="0"+r),n+=r}return new e(n)},e.fromUtf8String=function(t){for(var n=encodeURIComponent(t),a="",r=0;r<n.length;r++)if("%"===n.charAt(r))a+=n.substring(r+1,r+3),r+=2;else{var o=n.charCodeAt(r).toString(16);o.length<2&&(o="0"+o),a+=o}return new e(a)};var a=[],r={},o=function(e){return function(){throw new Error(e+" not implemented")}};function s(){}function i(){}function l(e,t){var n=e.value;return n<24?n:24==n?t.readByte():25==n?t.readUint16():26==n?t.readUint32():27==n?t.readUint64():31==n?null:void o("Additional info: "+n)()}function c(e,t,n){var a=e<<5;t<24?n.writeByte(a|t):t<256?(n.writeByte(24|a),n.writeByte(t)):t<65536?(n.writeByte(25|a),n.writeUint16(t)):t<4294967296?(n.writeByte(26|a),n.writeUint32(t)):(n.writeByte(27|a),n.writeUint64(t))}s.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var e=this.readUint16(),t=(32767&e)>>10,n=1023&e,a=32768&e;if(31===t)return 0===n?a?-Infinity:Infinity:NaN;var r=t?Math.pow(2,t-25)*(1024+n):Math.pow(2,-24)*n;return a?-r:r},readFloat32:function(){var e=this.readUint32(),t=(2147483647&e)>>23,n=8388607&e,a=2147483648&e;if(255===t)return 0===n?a?-Infinity:Infinity:NaN;var r=t?Math.pow(2,t-23-127)*(8388608+n):Math.pow(2,-149)*n;return a?-r:r},readFloat64:function(){var e=this.readUint32(),t=e>>20&2047,n=4294967296*(1048575&e)+this.readUint32(),a=2147483648&e;if(2047===t)return 0===n?a?-Infinity:Infinity:NaN;var r=t?Math.pow(2,t-52-1023)*(4503599627370496+n):Math.pow(2,-1074)*n;return a?-r:r},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},i.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},writeUint32:function(e){this.writeUint16(e>>16&65535),this.writeUint16(65535&e)},writeUint64:function(e){if(e>=9007199254740992||e<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+e+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(e%4294967296)},writeString:o("writeString"),canWriteBinary:function(e){return!1},writeBinary:o("writeChunk")};var u=new Error;function d(e){var t=function(e){var t=e.readByte();return{type:t>>5,value:31&t}}(e);switch(t.type){case 0:return l(t,e);case 1:return-1-l(t,e);case 2:return e.readChunk(l(t,e));case 3:return e.readChunk(l(t,e)).toString("utf-8");case 4:case 5:var n=l(t,e),a=[];if(null!==n){5===t.type&&(n*=2);for(var o=0;o<n;o++)a[o]=d(e)}else for(var s;(s=d(e))!==u;)a.push(s);if(5===t.type){var i={};for(o=0;o<a.length;o+=2)i[a[o]]=a[o+1];return i}return a;case 6:var c=l(t,e),p=r[c];a=d(e);return p?p(a):a;case 7:if(25===t.value)return e.readFloat16();if(26===t.value)return e.readFloat32();if(27===t.value)return e.readFloat64();switch(l(t,e)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return undefined;case null:return u;default:throw new Error("Unknown fixed value: "+t.value)}default:throw new Error("Unsupported header: "+JSON.stringify(t))}throw new Error("not implemented yet")}function p(e,t){for(var n=0;n<a.length;n++){var r=a[n].fn(e);if(r!==undefined)return c(6,a[n].tag,t),p(r,t)}if(e&&"function"==typeof e.toCBOR&&(e=e.toCBOR()),!1===e)c(7,20,t);else if(!0===e)c(7,21,t);else if(null===e)c(7,22,t);else if(e===undefined)c(7,23,t);else if("number"==typeof e)Math.floor(e)===e&&e<9007199254740992&&e>-9007199254740992?e<0?c(1,-1-e,t):c(0,e,t):(!function(e,t,n){n.writeByte(e<<5|t)}(7,27,t),t.writeFloat64(e));else if("string"==typeof e)t.writeString(e,function(e){c(3,e,t)});else if(t.canWriteBinary(e))t.writeBinary(e,function(e){c(2,e,t)});else{if("object"!=typeof e)throw new Error("CBOR encoding not supported: "+e);if(h.config.useToJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),Array.isArray(e)){c(4,e.length,t);for(n=0;n<e.length;n++)p(e[n],t)}else{var o=Object.keys(e);c(5,o.length,t);for(n=0;n<o.length;n++){const a=parseInt(o[n]);isNaN(a)?(p(o[n],t),p(e[o[n]],t)):(p(a,t),p(e[o[n]],t))}}}}var m=[],f=[],h={config:{useToJSON:!0},addWriter:function(e,t){"string"==typeof e?f.push(function(n){if(e===n)return t(n)}):f.push(e)},addReader:function(e,t){"string"==typeof e?m.push(function(n,a){if(e===a)return t(n,a)}):m.push(e)},encode:function(e,t){for(var n=0;n<f.length;n++){var a=(0,f[n])(t);if(a)return p(e,a),a.result()}throw new Error("Unsupported output format: "+t)},encodeDataItem:function(e,t){for(var n=0;n<f.length;n++){var a=(0,f[n])(t);if(a)return e.getTag()!==undefined?(p(e,a),a.result()):(p(e.getData(),a),a.result())}throw new Error("Unsupported output format: "+t)},decode:function(e,t){for(var n=0;n<m.length;n++){var a=(0,m[n])(e,t);if(a)return d(a)}throw new Error("Unsupported input format: "+t)},decodeToDataItem:function(e,n){for(var a=0;a<m.length;a++){var r=(0,m[a])(e,n);if(r){const e=d(r);return e instanceof t?e:new t(e)}}throw new Error("Unsupported input format: "+n)},addSemanticEncode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return a.push({tag:e,fn:t}),this},addSemanticDecode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return r[e]=t,this}};function g(e){this.buffer=e,this.pos=0}function y(e){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=e}function b(e){this.hex=e,this.pos=0}function C(e){this.$hex="",this.finalFormat=e||"hex"}return g.prototype=Object.create(s.prototype),g.prototype.peekByte=function(){return this.buffer[this.pos]},g.prototype.readByte=function(){return this.buffer[this.pos++]},g.prototype.readUint16=function(){var e=this.buffer.readUInt16BE(this.pos);return this.pos+=2,e},g.prototype.readUint32=function(){var e=this.buffer.readUInt32BE(this.pos);return this.pos+=4,e},g.prototype.readFloat32=function(){var e=this.buffer.readFloatBE(this.pos);return this.pos+=4,e},g.prototype.readFloat64=function(){var e=this.buffer.readDoubleBE(this.pos);return this.pos+=8,e},g.prototype.readChunk=function(e){var t=n.alloc(e);return this.buffer.copy(t,0,this.pos,this.pos+=e),t},y.prototype=Object.create(i.prototype),y.prototype.writeByte=function(e){this.latestBuffer[this.latestBufferOffset++]=e,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},y.prototype.writeFloat32=function(e){var t=n.alloc(4);t.writeFloatBE(e,0),this.writeBuffer(t)},y.prototype.writeFloat64=function(e){var t=n.alloc(8);t.writeDoubleBE(e,0),this.writeBuffer(t)},y.prototype.writeString=function(e,t){var a=n.from(e,"utf-8");t(a.length),this.writeBuffer(a)},y.prototype.canWriteBinary=function(e){return e instanceof n},y.prototype.writeBinary=function(e,t){t(e.length),this.writeBuffer(e)},y.prototype.writeBuffer=function(e){if(!(e instanceof n))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=e.length?(e.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=e.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(e),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(e),this.byteLength+=e.length},y.prototype.result=function(){for(var e=n.alloc(this.byteLength),t=0,a=0;a<this.completeBuffers.length;a++){var r=this.completeBuffers[a];r.copy(e,t,0,r.length),t+=r.length}return this.latestBufferOffset&&this.latestBuffer.copy(e,t,0,this.latestBufferOffset),this.stringFormat?e.toString(this.stringFormat):e},"function"==typeof n&&(h.addReader(function(e,t){return n.isBuffer(e)?new g(e):"hex"===t||"base64"===t?new g(n.from(e,t)):void 0}),h.addWriter(function(e){return e&&"buffer"!==e?"hex"===e||"base64"===e?new y(e):void 0:new y})),b.prototype=Object.create(s.prototype),b.prototype.peekByte=function(){var e=this.hex.substring(this.pos,2);return parseInt(e,16)},b.prototype.readByte=function(){var e=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(e,16)},b.prototype.readChunk=function(t){var a=this.hex.substring(this.pos,this.pos+2*t);return this.pos+=2*t,"function"==typeof n?n.from(a,"hex"):new e(a)},C.prototype=Object.create(i.prototype),C.prototype.writeByte=function(e){if(e<0||e>255)throw new Error("Byte value out of range: "+e);var t=e.toString(16);1==t.length&&(t="0"+t),this.$hex+=t},C.prototype.canWriteBinary=function(t){return t instanceof e||"function"==typeof n&&t instanceof n},C.prototype.writeBinary=function(t,a){if(t instanceof e)a(t.length()),this.$hex+=t.$hex;else{if(!("function"==typeof n&&t instanceof n))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");a(t.length),this.$hex+=t.toString("hex")}},C.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof n?n.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(t,n){var a=e.fromUtf8String(t);n(a.length()),this.$hex+=a.$hex},h.addReader(function(t,n){return t instanceof e||t.$hex?new b(t.$hex):"hex"===n?new b(t):void 0}),h.addWriter(function(e){if("hex"===e)return new C}),h}();return a.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),a})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"}],[854,{"./DataItem":852,"./cbor-sync":853},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataItem=n.addWriter=n.addReader=n.addSemanticEncode=n.addSemanticDecode=n.decodeToDataItem=n.encodeDataItem=void 0;var a=e("./cbor-sync");Object.defineProperty(n,"encodeDataItem",{enumerable:!0,get:function(){return a.encodeDataItem}}),Object.defineProperty(n,"decodeToDataItem",{enumerable:!0,get:function(){return a.decodeToDataItem}}),Object.defineProperty(n,"addSemanticDecode",{enumerable:!0,get:function(){return a.addSemanticDecode}}),Object.defineProperty(n,"addSemanticEncode",{enumerable:!0,get:function(){return a.addSemanticEncode}}),Object.defineProperty(n,"addReader",{enumerable:!0,get:function(){return a.addReader}}),Object.defineProperty(n,"addWriter",{enumerable:!0,get:function(){return a.addWriter}});var r=e("./DataItem");Object.defineProperty(n,"DataItem",{enumerable:!0,get:function(){return r.DataItem}})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"}],[855,{"./RegistryType":844,"./ScriptExpression":845,"./utils":857},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const a=e("./utils"),r=e("./RegistryType"),o=e("./ScriptExpression"),s=Object.values(r.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),i=Object.values(o.ScriptExpressions).map(e=>e.getTag());(0,a.patchTags)(s.concat(i))}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"}],[856,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[857,{"./lib":854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.patchTags=void 0;const a=e("./lib"),r=[];n.patchTags=e=>{e.forEach(e=>{r.find(t=>t===e)||((0,a.addSemanticEncode)(e,t=>{if(t instanceof a.DataItem&&t.getTag()===e)return t.getData()}),(0,a.addSemanticDecode)(e,t=>new a.DataItem(t,e)),r.push(e))})}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[858,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
!function(e,a){"object"==typeof n&&void 0!==t?t.exports=a():"function"==typeof define&&define.amd?define(a):(e="undefined"!=typeof globalThis?globalThis:e||self)["@kurkle/color"]=a()}(this,function(){function e(e){return e+.5|0}const t=(e,t,n)=>Math.max(Math.min(e,n),t);function n(n){return t(e(2.55*n),0,255)}function a(n){return t(e(255*n),0,255)}function r(n){return t(e(n/2.55)/100,0,1)}function o(n){return t(e(100*n),0,100)}const s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},i=[..."0123456789ABCDEF"],l=e=>i[15&e],c=e=>i[(240&e)>>4]+i[15&e],u=e=>(240&e)>>4==(15&e);function d(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*s[e[1]],g:255&17*s[e[2]],b:255&17*s[e[3]],a:5===n?17*s[e[4]]:255}:7!==n&&9!==n||(t={r:s[e[1]]<<4|s[e[2]],g:s[e[3]]<<4|s[e[4]],b:s[e[5]]<<4|s[e[6]],a:9===n?s[e[7]]<<4|s[e[8]]:255})),t}function p(e){var t=(e=>u(e.r)&&u(e.g)&&u(e.b)&&u(e.a))(e)?l:c;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):undefined}const m=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function f(e,t,n){const a=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-a*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function h(e,t,n){const a=(a,r=(a+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[a(5),a(3),a(1)]}function g(e,t,n){const a=f(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)a[r]*=1-t-n,a[r]+=t;return a}function y(e){const t=e.r/255,n=e.g/255,a=e.b/255,r=Math.max(t,n,a),o=Math.min(t,n,a),s=(r+o)/2;let i,l,c;return r!==o&&(c=r-o,l=s>.5?c/(2-r-o):c/(r+o),i=function(e,t,n,a,r){return e===r?(t-n)/a+(t<n?6:0):t===r?(n-e)/a+2:(e-t)/a+4}(t,n,a,c,r),i=60*i+.5),[0|i,l||0,s]}function b(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(a)}function C(e,t,n){return b(f,e,t,n)}function E(e,t,n){return b(g,e,t,n)}function T(e,t,n){return b(h,e,t,n)}function v(e){return(e%360+360)%360}function _(e){const t=m.exec(e);let r,o=255;if(!t)return;t[5]!==r&&(o=t[6]?n(+t[5]):a(+t[5]));const s=v(+t[2]),i=+t[3]/100,l=+t[4]/100;return r="hwb"===t[1]?E(s,i,l):"hsv"===t[1]?T(s,i,l):C(s,i,l),{r:r[0],g:r[1],b:r[2],a:o}}function S(e,t){var n=y(e);n[0]=v(n[0]+t),n=C(n),e.r=n[0],e.g=n[1],e.b=n[2]}function w(e){if(!e)return;const t=y(e),n=t[0],a=o(t[1]),s=o(t[2]);return e.a<255?`hsla(${n}, ${a}%, ${s}%, ${r(e.a)})`:`hsl(${n}, ${a}%, ${s}%)`}const I={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},x={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let k;function M(e){k||(k=function(){const e={},t=Object.keys(x),n=Object.keys(I);let a,r,o,s,i;for(a=0;a<t.length;a++){for(s=i=t[a],r=0;r<n.length;r++)o=n[r],i=i.replace(o,I[o]);o=parseInt(x[s],16),e[i]=[o>>16&255,o>>8&255,255&o]}return e}(),k.transparent=[0,0,0,0]);const t=k[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const R=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function A(e){const a=R.exec(e);let r,o,s,i=255;if(a){if(a[7]!==r){const e=+a[7];i=a[8]?n(e):t(255*e,0,255)}return r=+a[1],o=+a[3],s=+a[5],r=255&(a[2]?n(r):t(r,0,255)),o=255&(a[4]?n(o):t(o,0,255)),s=255&(a[6]?n(s):t(s,0,255)),{r:r,g:o,b:s,a:i}}}function O(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${r(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const D=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,P=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function B(e,t,n){if(e){let a=y(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,0===t?360:1)),a=C(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function N(e,t){return e?Object.assign(t||{},e):e}function F(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=a(e[3]))):(t=N(e,{r:0,g:0,b:0,a:1})).a=a(t.a),t}class L{constructor(e){if(e instanceof L)return e;const t=typeof e;let n;var a;"object"===t?n=F(e):"string"===t&&(n=d(e)||M(e)||("r"===(a=e).charAt(0)?A(a):_(a))),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=N(this._rgb);return e&&(e.a=r(e.a)),e}set rgb(e){this._rgb=F(e)}rgbString(){return this._valid?O(this._rgb):undefined}hexString(){return this._valid?p(this._rgb):undefined}hslString(){return this._valid?w(this._rgb):undefined}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let r;const o=t===r?.5:t,s=2*o-1,i=n.a-a.a,l=((s*i===-1?s:(s+i)/(1+s*i))+1)/2;r=1-l,n.r=255&l*n.r+r*a.r+.5,n.g=255&l*n.g+r*a.g+.5,n.b=255&l*n.b+r*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const o=P(r(e.r)),s=P(r(e.g)),i=P(r(e.b));return{r:a(D(o+n*(P(r(t.r))-o))),g:a(D(s+n*(P(r(t.g))-s))),b:a(D(i+n*(P(r(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new L(this.rgb)}alpha(e){return this._rgb.a=a(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const t=this._rgb,n=e(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=n,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return B(this._rgb,2,e),this}darken(e){return B(this._rgb,2,-e),this}saturate(e){return B(this._rgb,1,e),this}desaturate(e){return B(this._rgb,1,-e),this}rotate(e){return S(this._rgb,e),this}}function j(e){return new L(e)}var U=Object.freeze({__proto__:null,Color:L,default:j,round:e,lim:t,p2b:n,b2p:function(n){return t(e(n/2.55),0,100)},n2b:a,b2n:r,n2p:o,hexParse:d,hexString:p,rgb2hsl:y,hsl2rgb:C,hwb2rgb:E,hsv2rgb:T,hueParse:_,rotate:S,hslString:w,nameParse:M,rgbParse:A,rgbString:O});return Object.assign(j,U)})}}},{package:"chart.js>@kurkle/color",file:"node_modules/@kurkle/color/dist/color.cjs"}],[859,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(()=>{var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{LavaDome:()=>fe,toLavaDomeToken:()=>me});const r=e("react");var o=t.n(r);const{Object:s,Array:i,Function:l,Math:c,parseInt:u,WeakMap:d,Error:p,JSON:m,navigation:f}=globalThis,{defineProperties:h,assign:g,getOwnPropertyDescriptor:y,entries:b,create:C,hasOwn:E}=s,{from:T}=i,{random:v}=c,{stringify:_}=m,S=(e,t,n)=>e&&l.prototype.call.bind(y(e,t)[n]),w=S(globalThis?.Node?.prototype,"ownerDocument","get"),I=S(globalThis?.EventTarget?.prototype,"addEventListener","value"),x=S(globalThis?.DocumentFragment?.prototype,"replaceChildren","value"),k=S(globalThis?.Element?.prototype,"attachShadow","value"),M=S(globalThis?.Document?.prototype,"createElement","value"),R=S(globalThis?.Node?.prototype,"appendChild","value"),A=S(globalThis?.Node?.prototype,"textContent","set"),O=S(globalThis?.Element?.prototype,"setAttribute","value"),D=S(globalThis?.String?.prototype,"toUpperCase","value"),P=S(globalThis?.String?.prototype,"includes","value"),B=S(globalThis?.Array?.prototype,"map","value"),N=S(globalThis?.Array?.prototype,"join","value"),F=S(globalThis?.Array?.prototype,"keys","value"),L=S(globalThis?.Array?.prototype,"at","value"),j=S(globalThis?.WeakMap?.prototype,"get","value"),U=S(globalThis?.WeakMap?.prototype,"set","value"),W=S(globalThis?.Number?.prototype,"toFixed","value"),q=S(globalThis?.NavigateEvent?.prototype,"destination","get"),$=S(globalThis?.NavigationDestination?.prototype,"url","get"),H=S(globalThis?.Event?.prototype,"preventDefault","value"),K=S(globalThis?.Event?.prototype,"stopPropagation","value"),V={isInnerInstance:Symbol("isInnerInstance"),unsafeOpenModeShadow:"unsafeOpenModeShadow"},G="abcdefghijklmnopqrstuvwxyz",Y="0123456789",z="!@#$%^&*()?.;:\"'[]{}+=-_/",Z={letters:G,digits:Y,symbols:z,alphanumeric:G+Y,all:G+D(G)+Y+z},{letters:X,alphanumeric:Q,all:J}=Z,ee=(e,t)=>e[u(W(v()*t))],te=e=>ee(X,26)+N(B(T(F(i(e))),()=>ee(Q,36)),"");function ne(e,t,n=""){return e=N(B(b(e),([e,t])=>`${e}: ${t} !important`),"; "),function(){const a=M(document,t());return O(a,"style",e),A(a,n),a}}const ae=e=>()=>e(),re=ae(ne({"font-family":te(20),"-webkit-user-modify":"unset","-webkit-user-select":"none","user-select":"none"},()=>te(7))),oe=ae(ne({top:"-10px",right:"-10px",position:"fixed","font-size":"1px"},()=>"span",J)),se=ae(ne({display:"none"},()=>"iframe")),ie=new d;function le(e,t){t=function(e={}){const{unsafeOpenModeShadow:t,isInnerInstance:n}=V,a=(e=>function(t,n,a){const r=e[t];return E(e,t)?typeof r!==n?a:r:a})(g(C(null),e)),r=C(null);return r.isInnerInstance=a(n,"boolean",!1),r.unsafeOpenModeShadow=a(t,"boolean",!1),r}(t),h(this,{text:{value:function(e){if("string"!=typeof e)throw new p(`LavaDomeCore: first argument must be a string, instead got ${_(e)}`);if(void 0===L(T(e),1))return A(r,e);R(n,a),B(T(e),e=>{const n=M(document,"span");t[V.isInnerInstance]=!0,new le(n,t).text(e),R(r,n)}),R(r,oe())}}});const n=function(e,t){const{unsafeOpenModeShadow:n,isInnerInstance:a}=t;let r=j(ie,e);if(!r){const t={mode:"closed"};n&&(t.mode="open",a||console.warn("LavaDome:",`Initiated with "${V.unsafeOpenModeShadow}" set to true.`,"This leaves LavaDome fully vulnerable, ONLY USE FOR TESTING!")),r=k(e,t),U(ie,e,r)}return r}(e,t);x(n);const a=se();I(a,"load",()=>{if(w(a)!==document)throw x(n),new p("LavaDomeCore: The document to which LavaDome was originally introduced must be the same as the one this instance is inserted to")});const r=re();R(n,r)}f?.addEventListener("navigate",e=>{const t=$(q(e));if(P(t,":~:"))throw H(e),K(e),new p("LavaDomeCore: in-app redirection to text-fragments links is blocked to ensure security")});const{all:ce}=Z,ue=new d,de=new d,pe=C(null),me=e=>{if("string"!=typeof e)throw new Error(`LavaDomeReact: first argument must be a string, instead got ${_(e)}`);if(!E(pe,e)){const t=C(null);pe[e]=t,U(ue,t,e)}return pe[e]},fe=({text:e,unsafeOpenModeShadow:t})=>{const n=e,a=(0,r.useRef)(null);return o().createElement("span",{ref:a,__source:{fileName:"/Users/weizman/Documents/lavamoat/lavadome/packages/react/src/lavadome.jsx",lineNumber:57,columnNumber:9},__self:void 0},o().createElement(he,{host:a,token:n,unsafeOpenModeShadow:t,__source:{fileName:"/Users/weizman/Documents/lavamoat/lavadome/packages/react/src/lavadome.jsx",lineNumber:58,columnNumber:13},__self:void 0}))};function he({host:e,token:t,unsafeOpenModeShadow:n}){const a=function(e){const t=j(ue,e);if(!E(pe,t))throw new Error("LavaDomeReact: first argument must be a valid LavaDome token (replace \"text={'secret'}\" with \"text={toLavaDomeToken('secret')}\")");return t}(t),s=function(e){let t=j(de,e);return t||(t=C(null),U(de,e,t)),t}(t);return(0,r.useEffect)(()=>{new le(e.current,{unsafeOpenModeShadow:n}).text(a)},[s]),o().createElement(o().Fragment,null)}var ge=n;for(var ye in a)ge[ye]=a[ye];a.__esModule&&Object.defineProperty(ge,"__esModule",{value:!0})})()}}},{package:"@lavamoat/lavadome-react",file:"node_modules/@lavamoat/lavadome-react/build/main.js"}],[951,{"../InputBase":969,"../styles/withStyles":1043,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,"@material-ui/utils":1123,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),l=(r(e("prop-types")),r(e("clsx"))),c=(e("@material-ui/utils"),r(e("../InputBase"))),u=r(e("../styles/withStyles")),d=function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:a,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:a}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}};n.styles=d;var p=i.forwardRef(function(e,t){var n=e.disableUnderline,a=e.classes,r=e.fullWidth,u=void 0!==r&&r,d=e.inputComponent,p=void 0===d?"input":d,m=e.multiline,f=void 0!==m&&m,h=e.type,g=void 0===h?"text":h,y=(0,s.default)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(c.default,(0,o.default)({classes:(0,o.default)({},a,{root:(0,l.default)(a.root,!n&&a.underline),underline:null}),fullWidth:u,inputComponent:p,multiline:f,ref:t,type:g},y))});p.muiName="Input";var m=(0,u.default)(d,{name:"MuiFilledInput"})(p);n.default=m}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FilledInput/FilledInput.js"}],[952,{"./FilledInput":951,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./FilledInput"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FilledInput/index.js"}],[953,{"../InputBase/utils":970,"../styles/withStyles":1043,"../utils/capitalize":1047,"../utils/isMuiElement":1053,"./FormControlContext":954,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),l=(r(e("prop-types")),r(e("clsx"))),c=e("../InputBase/utils"),u=r(e("../styles/withStyles")),d=r(e("../utils/capitalize")),p=r(e("../utils/isMuiElement")),m=r(e("./FormControlContext")),f={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};n.styles=f;var h=i.forwardRef(function(e,t){var n,a=e.children,r=e.classes,u=e.className,f=e.color,h=void 0===f?"primary":f,g=e.component,y=void 0===g?"div":g,b=e.disabled,C=void 0!==b&&b,E=e.error,T=void 0!==E&&E,v=e.fullWidth,_=void 0!==v&&v,S=e.focused,w=e.hiddenLabel,I=void 0!==w&&w,x=e.margin,k=void 0===x?"none":x,M=e.required,R=void 0!==M&&M,A=e.size,O=e.variant,D=void 0===O?"standard":O,P=(0,s.default)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),B=i.useState(function(){var e=!1;return a&&i.Children.forEach(a,function(t){if((0,p.default)(t,["Input","Select"])){var n=(0,p.default)(t,["Select"])?t.props.input:t;n&&(0,c.isAdornedStart)(n.props)&&(e=!0)}}),e}),N=B[0],F=B[1],L=i.useState(function(){var e=!1;return a&&i.Children.forEach(a,function(t){(0,p.default)(t,["Input","Select"])&&(0,c.isFilled)(t.props,!0)&&(e=!0)}),e}),j=L[0],U=L[1],W=i.useState(!1),q=W[0],$=W[1],H=S!==undefined?S:q;C&&H&&$(!1);var K=i.useCallback(function(){U(!0)},[]),V=i.useCallback(function(){U(!1)},[]),G={adornedStart:N,setAdornedStart:F,color:h,disabled:C,error:T,filled:j,focused:H,fullWidth:_,hiddenLabel:I,margin:("small"===A?"dense":undefined)||k,onBlur:function(){$(!1)},onEmpty:V,onFilled:K,onFocus:function(){$(!0)},registerEffect:n,required:R,variant:D};return i.createElement(m.default.Provider,{value:G},i.createElement(y,(0,o.default)({className:(0,l.default)(r.root,u,"none"!==k&&r["margin".concat((0,d.default)(k))],_&&r.fullWidth),ref:t},P),a))}),g=(0,u.default)(f,{name:"MuiFormControl"})(h);n.default=g}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormControl/FormControl.js"}],[954,{"@babel/runtime/helpers/interopRequireWildcard":601,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.useFormControl=function(){return r.useContext(o)},n.default=void 0;var r=a(e("react")),o=r.createContext();var s=o;n.default=s}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormControl/FormControlContext.js"}],[955,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.props,n=e.states,a=e.muiFormControl;return n.reduce(function(e,n){return e[n]=t[n],a&&void 0===t[n]&&(e[n]=a[n]),e},{})}}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormControl/formControlState.js"}],[956,{"./FormControl":953,"./useFormControl":957,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"useFormControl",{enumerable:!0,get:function(){return o.default}});var r=a(e("./FormControl")),o=a(e("./useFormControl"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormControl/index.js"}],[957,{"./FormControlContext":954,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return o.useContext(s.default)};var o=r(e("react")),s=a(e("./FormControlContext"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormControl/useFormControl.js"}],[958,{"../FormControl/formControlState":955,"../FormControl/useFormControl":957,"../styles/withStyles":1043,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/objectWithoutProperties")),s=r(e("@babel/runtime/helpers/extends")),i=a(e("react")),l=(r(e("prop-types")),r(e("clsx"))),c=r(e("../FormControl/formControlState")),u=r(e("../FormControl/useFormControl")),d=r(e("../styles/withStyles")),p=function(e){return{root:(0,s.default)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}};n.styles=p;var m=i.forwardRef(function(e,t){var n=e.children,a=e.classes,r=e.className,d=e.component,p=void 0===d?"p":d,m=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,o.default)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),f=(0,u.default)(),h=(0,c.default)({props:e,muiFormControl:f,states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(p,(0,s.default)({className:(0,l.default)(a.root,("filled"===h.variant||"outlined"===h.variant)&&a.contained,r,h.disabled&&a.disabled,h.error&&a.error,h.filled&&a.filled,h.focused&&a.focused,h.required&&a.required,"dense"===h.margin&&a.marginDense),ref:t},m)," "===n?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}),f=(0,d.default)(p,{name:"MuiFormHelperText"})(m);n.default=f}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormHelperText/FormHelperText.js"}],[959,{"./FormHelperText":958,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./FormHelperText"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormHelperText/index.js"}],[960,{"../FormControl/formControlState":955,"../FormControl/useFormControl":957,"../styles/withStyles":1043,"../utils/capitalize":1047,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/objectWithoutProperties")),s=r(e("@babel/runtime/helpers/extends")),i=a(e("react")),l=(r(e("prop-types")),r(e("clsx"))),c=r(e("../FormControl/formControlState")),u=r(e("../FormControl/useFormControl")),d=r(e("../utils/capitalize")),p=r(e("../styles/withStyles")),m=function(e){return{root:(0,s.default)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}};n.styles=m;var f=i.forwardRef(function(e,t){var n=e.children,a=e.classes,r=e.className,p=(e.color,e.component),m=void 0===p?"label":p,f=(e.disabled,e.error,e.filled,e.focused,e.required,(0,o.default)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),h=(0,u.default)(),g=(0,c.default)({props:e,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]});return i.createElement(m,(0,s.default)({className:(0,l.default)(a.root,a["color".concat((0,d.default)(g.color||"primary"))],r,g.disabled&&a.disabled,g.error&&a.error,g.filled&&a.filled,g.focused&&a.focused,g.required&&a.required),ref:t},f),n,g.required&&i.createElement("span",{"aria-hidden":!0,className:(0,l.default)(a.asterisk,g.error&&a.error)},"","*"))}),h=(0,p.default)(m,{name:"MuiFormLabel"})(f);n.default=h}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormLabel/FormLabel.js"}],[961,{"./FormLabel":960,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./FormLabel"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/FormLabel/index.js"}],[962,{"../styles/useTheme":1042,"../transitions/utils":1046,"../utils/useForkRef":1060,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,"@babel/runtime/helpers/slicedToArray":612,"prop-types":4893,react:5080,"react-transition-group":5072},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/slicedToArray")),i=r(e("@babel/runtime/helpers/objectWithoutProperties")),l=a(e("react")),c=(r(e("prop-types")),e("react-transition-group")),u=r(e("../styles/useTheme")),d=e("../transitions/utils"),p=r(e("../utils/useForkRef"));function m(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var f={entering:{opacity:1,transform:m(1)},entered:{opacity:1,transform:"none"}},h=l.forwardRef(function(e,t){var n=e.children,a=e.disableStrictModeCompat,r=void 0!==a&&a,h=e.in,g=e.onEnter,y=e.onEntered,b=e.onEntering,C=e.onExit,E=e.onExited,T=e.onExiting,v=e.style,_=e.timeout,S=void 0===_?"auto":_,w=e.TransitionComponent,I=void 0===w?c.Transition:w,x=(0,i.default)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),k=l.useRef(),M=l.useRef(),R=(0,u.default)(),A=R.unstable_strictMode&&!r,O=l.useRef(null),D=(0,p.default)(n.ref,t),P=(0,p.default)(A?O:undefined,D),B=function(e){return function(t,n){if(e){var a=A?[O.current,t]:[t,n],r=(0,s.default)(a,2),o=r[0],i=r[1];i===undefined?e(o):e(o,i)}}},N=B(b),F=B(function(e,t){(0,d.reflow)(e);var n,a=(0,d.getTransitionProps)({style:v,timeout:S},{mode:"enter"}),r=a.duration,o=a.delay;"auto"===S?(n=R.transitions.getAutoHeightDuration(e.clientHeight),M.current=n):n=r,e.style.transition=[R.transitions.create("opacity",{duration:n,delay:o}),R.transitions.create("transform",{duration:.666*n,delay:o})].join(","),g&&g(e,t)}),L=B(y),j=B(T),U=B(function(e){var t,n=(0,d.getTransitionProps)({style:v,timeout:S},{mode:"exit"}),a=n.duration,r=n.delay;"auto"===S?(t=R.transitions.getAutoHeightDuration(e.clientHeight),M.current=t):t=a,e.style.transition=[R.transitions.create("opacity",{duration:t,delay:r}),R.transitions.create("transform",{duration:.666*t,delay:r||.333*t})].join(","),e.style.opacity="0",e.style.transform=m(.75),C&&C(e)}),W=B(E);return l.useEffect(function(){return function(){clearTimeout(k.current)}},[]),l.createElement(I,(0,o.default)({appear:!0,in:h,nodeRef:A?O:undefined,onEnter:F,onEntered:L,onEntering:N,onExit:U,onExited:W,onExiting:j,addEndListener:function(e,t){var n=A?e:t;"auto"===S&&(k.current=setTimeout(n,M.current||0))},timeout:"auto"===S?null:S},x),function(e,t){return l.cloneElement(n,(0,o.default)({style:(0,o.default)({opacity:0,transform:m(.75),visibility:"exited"!==e||h?undefined:"hidden"},f[e],v,n.props.style),ref:P},t))})});h.muiSupportAuto=!0;var g=h;n.default=g}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/Grow/Grow.js"}],[963,{"./Grow":962,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./Grow"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/Grow/index.js"}],[964,{"../InputBase":969,"../styles/withStyles":1043,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,"@material-ui/utils":1123,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),l=(r(e("prop-types")),r(e("clsx"))),c=(e("@material-ui/utils"),r(e("../InputBase"))),u=r(e("../styles/withStyles")),d=function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}};n.styles=d;var p=i.forwardRef(function(e,t){var n=e.disableUnderline,a=e.classes,r=e.fullWidth,u=void 0!==r&&r,d=e.inputComponent,p=void 0===d?"input":d,m=e.multiline,f=void 0!==m&&m,h=e.type,g=void 0===h?"text":h,y=(0,s.default)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(c.default,(0,o.default)({classes:(0,o.default)({},a,{root:(0,l.default)(a.root,!n&&a.underline),underline:null}),fullWidth:u,inputComponent:p,multiline:f,ref:t,type:g},y))});p.muiName="Input";var m=(0,u.default)(d,{name:"MuiInput"})(p);n.default=m}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/Input/Input.js"}],[965,{"./Input":964,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./Input"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/Input/index.js"}],[966,{"../FormControl/FormControlContext":954,"../Typography":1008,"../styles/withStyles":1043,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),l=(r(e("prop-types")),r(e("clsx"))),c=r(e("../Typography")),u=r(e("../styles/withStyles")),d=a(e("../FormControl/FormControlContext")),p={root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}};n.styles=p;var m=i.forwardRef(function(e,t){var n=e.children,a=e.classes,r=e.className,u=e.component,p=void 0===u?"div":u,m=e.disablePointerEvents,f=void 0!==m&&m,h=e.disableTypography,g=void 0!==h&&h,y=e.position,b=e.variant,C=(0,s.default)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),E=(0,d.useFormControl)()||{},T=b;return b&&E.variant,E&&!T&&(T=E.variant),i.createElement(d.default.Provider,{value:null},i.createElement(p,(0,o.default)({className:(0,l.default)(a.root,r,"end"===y?a.positionEnd:a.positionStart,f&&a.disablePointerEvents,E.hiddenLabel&&a.hiddenLabel,"filled"===T&&a.filled,"dense"===E.margin&&a.marginDense),ref:t},C),"string"!=typeof n||g?n:i.createElement(c.default,{color:"textSecondary"},n)))}),f=(0,u.default)(p,{name:"MuiInputAdornment"})(m);n.default=f}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/InputAdornment/InputAdornment.js"}],[967,{"./InputAdornment":966,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./InputAdornment"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/InputAdornment/index.js"}],[968,{"../FormControl/FormControlContext":954,"../FormControl/formControlState":955,"../TextareaAutosize":1004,"../styles/withStyles":1043,"../utils/capitalize":1047,"../utils/useForkRef":1060,"./utils":970,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,"@material-ui/utils":1123,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/objectWithoutProperties")),s=r(e("@babel/runtime/helpers/extends")),i=e("@material-ui/utils"),l=a(e("react")),c=(r(e("prop-types")),r(e("clsx"))),u=r(e("../FormControl/formControlState")),d=a(e("../FormControl/FormControlContext")),p=r(e("../styles/withStyles")),m=r(e("../utils/capitalize")),f=r(e("../utils/useForkRef")),h=r(e("../TextareaAutosize")),g=e("./utils"),y=function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},a={opacity:"0 !important"},r={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,s.default)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus:-ms-input-placeholder":r,"&:focus::-ms-input-placeholder":r},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}};n.styles=y;var b="undefined"==typeof window?l.useEffect:l.useLayoutEffect,C=l.forwardRef(function(e,t){var n=e["aria-describedby"],a=e.autoComplete,r=e.autoFocus,p=e.classes,y=e.className,C=(e.color,e.defaultValue),E=e.disabled,T=e.endAdornment,v=(e.error,e.fullWidth),_=void 0!==v&&v,S=e.id,w=e.inputComponent,I=void 0===w?"input":w,x=e.inputProps,k=void 0===x?{}:x,M=e.inputRef,R=(e.margin,e.multiline),A=void 0!==R&&R,O=e.name,D=e.onBlur,P=e.onChange,B=e.onClick,N=e.onFocus,F=e.onKeyDown,L=e.onKeyUp,j=e.placeholder,U=e.readOnly,W=e.renderSuffix,q=e.rows,$=e.rowsMax,H=e.rowsMin,K=e.maxRows,V=e.minRows,G=e.startAdornment,Y=e.type,z=void 0===Y?"text":Y,Z=e.value,X=(0,o.default)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Q=null!=k.value?k.value:Z,J=l.useRef(null!=Q).current,ee=l.useRef(),te=l.useCallback(function(e){0},[]),ne=(0,f.default)(k.ref,te),ae=(0,f.default)(M,ne),re=(0,f.default)(ee,ae),oe=l.useState(!1),se=oe[0],ie=oe[1],le=(0,d.useFormControl)();var ce=(0,u.default)({props:e,muiFormControl:le,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ce.focused=le?le.focused:se,l.useEffect(function(){!le&&E&&se&&(ie(!1),D&&D())},[le,E,se,D]);var ue=le&&le.onFilled,de=le&&le.onEmpty,pe=l.useCallback(function(e){(0,g.isFilled)(e)?ue&&ue():de&&de()},[ue,de]);b(function(){J&&pe({value:Q})},[Q,pe,J]);l.useEffect(function(){pe(ee.current)},[]);var me=I,fe=(0,s.default)({},k,{ref:re});"string"!=typeof me?fe=(0,s.default)({inputRef:re,type:z},fe,{ref:null}):A?!q||K||V||$||H?(fe=(0,s.default)({minRows:q||V,rowsMax:$,maxRows:K},fe),me=h.default):me="textarea":fe=(0,s.default)({type:z},fe);return l.useEffect(function(){le&&le.setAdornedStart(Boolean(G))},[le,G]),l.createElement("div",(0,s.default)({className:(0,c.default)(p.root,p["color".concat((0,m.default)(ce.color||"primary"))],y,ce.disabled&&p.disabled,ce.error&&p.error,_&&p.fullWidth,ce.focused&&p.focused,le&&p.formControl,A&&p.multiline,G&&p.adornedStart,T&&p.adornedEnd,"dense"===ce.margin&&p.marginDense),onClick:function(e){ee.current&&e.currentTarget===e.target&&ee.current.focus(),B&&B(e)},ref:t},X),G,l.createElement(d.default.Provider,{value:null},l.createElement(me,(0,s.default)({"aria-invalid":ce.error,"aria-describedby":n,autoComplete:a,autoFocus:r,defaultValue:C,disabled:ce.disabled,id:S,onAnimationStart:function(e){pe("mui-auto-fill-cancel"===e.animationName?ee.current:{value:"x"})},name:O,placeholder:j,readOnly:U,required:ce.required,rows:q,value:Q,onKeyDown:F,onKeyUp:L},fe,{className:(0,c.default)(p.input,k.className,ce.disabled&&p.disabled,A&&p.inputMultiline,ce.hiddenLabel&&p.inputHiddenLabel,G&&p.inputAdornedStart,T&&p.inputAdornedEnd,"search"===z&&p.inputTypeSearch,"dense"===ce.margin&&p.inputMarginDense),onBlur:function(e){D&&D(e),k.onBlur&&k.onBlur(e),le&&le.onBlur?le.onBlur(e):ie(!1)},onChange:function(e){if(!J){var t=e.target||ee.current;if(null==t)throw new Error((0,i.formatMuiErrorMessage)(1));pe({value:t.value})}for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];k.onChange&&k.onChange.apply(k,[e].concat(a)),P&&P.apply(void 0,[e].concat(a))},onFocus:function(e){ce.disabled?e.stopPropagation():(N&&N(e),k.onFocus&&k.onFocus(e),le&&le.onFocus?le.onFocus(e):ie(!0))}}))),T,W?W((0,s.default)({},ce,{startAdornment:G})):null)}),E=(0,p.default)(y,{name:"MuiInputBase"})(C);n.default=E}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/InputBase/InputBase.js"}],[969,{"./InputBase":968,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./InputBase"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/InputBase/index.js"}],[970,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function a(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}Object.defineProperty(n,"__esModule",{value:!0}),n.hasValue=a,n.isFilled=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];return e&&(a(e.value)&&""!==e.value||t&&a(e.defaultValue)&&""!==e.defaultValue)},n.isAdornedStart=function(e){return e.startAdornment}}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/InputBase/utils.js"}],[971,{"../FormControl/formControlState":955,"../FormControl/useFormControl":957,"../FormLabel":961,"../styles/withStyles":1043,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),l=(r(e("prop-types")),r(e("clsx"))),c=r(e("../FormControl/formControlState")),u=r(e("../FormControl/useFormControl")),d=r(e("../styles/withStyles")),p=r(e("../FormLabel")),m=function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}};n.styles=m;var f=i.forwardRef(function(e,t){var n=e.classes,a=e.className,r=e.disableAnimation,d=void 0!==r&&r,m=(e.margin,e.shrink),f=(e.variant,(0,s.default)(e,["classes","className","disableAnimation","margin","shrink","variant"])),h=(0,u.default)(),g=m;void 0===g&&h&&(g=h.filled||h.focused||h.adornedStart);var y=(0,c.default)({props:e,muiFormControl:h,states:["margin","variant"]});return i.createElement(p.default,(0,o.default)({"data-shrink":g,className:(0,l.default)(n.root,a,h&&n.formControl,!d&&n.animated,g&&n.shrink,"dense"===y.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[y.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},f))}),h=(0,d.default)(m,{name:"MuiInputLabel"})(f);n.default=h}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/InputLabel/InputLabel.js"}],[972,{"./InputLabel":971,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./InputLabel"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/InputLabel/index.js"}],[973,{"../styles/withStyles":1043,"./ListContext":974,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,clsx:1020,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),l=(r(e("prop-types")),r(e("clsx"))),c=r(e("../styles/withStyles")),u=r(e("./ListContext")),d={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}};n.styles=d;var p=i.forwardRef(function(e,t){var n=e.children,a=e.classes,r=e.className,c=e.component,d=void 0===c?"ul":c,p=e.dense,m=void 0!==p&&p,f=e.disablePadding,h=void 0!==f&&f,g=e.subheader,y=(0,s.default)(e,["children","classes","className","component","dense","disablePadding","subheader"]),b=i.useMemo(function(){return{dense:m}},[m]);return i.createElement(u.default.Provider,{value:b},i.createElement(d,(0,o.default)({className:(0,l.default)(a.root,r,m&&a.dense,!h&&a.padding,g&&a.subheader),ref:t},y),g,n))}),m=(0,c.default)(d,{name:"MuiList"})(p);n.default=m}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/List/List.js"}],[974,{"@babel/runtime/helpers/interopRequireWildcard":601,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("react")).createContext({});var o=r;n.default=o}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/List/ListContext.js"}],[975,{"./List":973,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./List"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/List/index.js"}],[976,{"../MenuList":978,"../Popover":991,"../styles/useTheme":1042,"../styles/withStyles":1043,"../utils/deprecatedPropType":1051,"../utils/setRef":1056,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,"@material-ui/utils":1123,clsx:1020,"prop-types":4893,react:5080,"react-dom":4971,"react-is":1023},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.styles=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),l=(e("react-is"),r(e("prop-types")),r(e("clsx"))),c=(e("@material-ui/utils"),r(e("../styles/withStyles"))),u=r(e("../Popover")),d=r(e("../MenuList")),p=a(e("react-dom")),m=r(e("../utils/setRef")),f=r(e("../styles/useTheme")),h=(r(e("../utils/deprecatedPropType")),{vertical:"top",horizontal:"right"}),g={vertical:"top",horizontal:"left"},y={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}};n.styles=y;var b=i.forwardRef(function(e,t){var n=e.autoFocus,a=void 0===n||n,r=e.children,c=e.classes,y=e.disableAutoFocusItem,b=void 0!==y&&y,C=e.MenuListProps,E=void 0===C?{}:C,T=e.onClose,v=e.onEntering,_=e.open,S=e.PaperProps,w=void 0===S?{}:S,I=e.PopoverClasses,x=e.transitionDuration,k=void 0===x?"auto":x,M=e.TransitionProps,R=(M=void 0===M?{}:M).onEntering,A=(0,s.default)(M,["onEntering"]),O=e.variant,D=void 0===O?"selectedMenu":O,P=(0,s.default)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),B=(0,f.default)(),N=a&&!b&&_,F=i.useRef(null),L=i.useRef(null),j=-1;i.Children.map(r,function(e,t){i.isValidElement(e)&&(e.props.disabled||("menu"!==D&&e.props.selected||-1===j)&&(j=t))});var U=i.Children.map(r,function(e,t){return t===j?i.cloneElement(e,{ref:function(t){L.current=p.findDOMNode(t),(0,m.default)(e.ref,t)}}):e});return i.createElement(u.default,(0,o.default)({getContentAnchorEl:function(){return L.current},classes:I,onClose:T,TransitionProps:(0,o.default)({onEntering:function(e,t){F.current&&F.current.adjustStyleForScrollbar(e,B),v&&v(e,t),R&&R(e,t)}},A),anchorOrigin:"rtl"===B.direction?h:g,transformOrigin:"rtl"===B.direction?h:g,PaperProps:(0,o.default)({},w,{classes:(0,o.default)({},w.classes,{root:c.paper})}),open:_,ref:t,transitionDuration:k},P),i.createElement(d.default,(0,o.default)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),T&&T(e,"tabKeyDown"))},actions:F,autoFocus:a&&(-1===j||b),autoFocusItem:N,variant:D},E,{className:(0,l.default)(c.list,E.className)}),U))}),C=(0,c.default)(y,{name:"MuiMenu"})(b);n.default=C}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/Menu/Menu.js"}],[977,{"../List":975,"../utils/getScrollbarSize":1052,"../utils/ownerDocument":1054,"../utils/useForkRef":1060,"@babel/runtime/helpers/extends":596,"@babel/runtime/helpers/interopRequireDefault":600,"@babel/runtime/helpers/interopRequireWildcard":601,"@babel/runtime/helpers/objectWithoutProperties":607,"prop-types":4893,react:5080,"react-dom":4971,"react-is":1023},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireWildcard"),r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime/helpers/extends")),s=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=a(e("react")),l=(e("react-is"),r(e("prop-types")),a(e("react-dom"))),c=r(e("../utils/ownerDocument")),u=r(e("../List")),d=r(e("../utils/getScrollbarSize")),p=r(e("../utils/useForkRef"));function m(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function f(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function h(e,t){if(t===undefined)return!0;var n=e.innerText;return n===undefined&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function g(e,t,n,a,r,o){for(var s=!1,i=r(e,t,!!t&&n);i;){if(i===e.firstChild){if(s)return;s=!0}var l=!a&&(i.disabled||"true"===i.getAttribute("aria-disabled"));if(i.hasAttribute("tabindex")&&h(i,o)&&!l)return void i.focus();i=r(e,i,n)}}var y="undefined"==typeof window?i.useEffect:i.useLayoutEffect,b=i.forwardRef(function(e,t){var n=e.actions,a=e.autoFocus,r=void 0!==a&&a,b=e.autoFocusItem,C=void 0!==b&&b,E=e.children,T=e.className,v=e.disabledItemsFocusable,_=void 0!==v&&v,S=e.disableListWrap,w=void 0!==S&&S,I=e.onKeyDown,x=e.variant,k=void 0===x?"selectedMenu":x,M=(0,s.default)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),R=i.useRef(null),A=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});y(function(){r&&R.current.focus()},[r]),i.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function(e,t){var n=!R.current.style.width;if(e.clientHeight<R.current.clientHeight&&n){var a="".concat((0,d.default)(!0),"px");R.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=a,R.current.style.width="calc(100% + ".concat(a,")")}return R.current}}},[]);var O=i.useCallback(function(e){R.current=l.findDOMNode(e)},[]),D=(0,p.default)(O,t),P=-1;i.Children.forEach(E,function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===k&&e.props.selected||-1===P)&&(P=t))});var B=i.Children.map(E,function(e,t){if(t===P){var n={};return C&&(n.autoFocus=!0),e.props.tabIndex===undefined&&"selectedMenu"===k&&(n.tabIndex=0),i.cloneElement(e,n)}return e});return i.createElement(u.default,(0,o.default)({role:"menu",ref:D,className:T,onKeyDown:function(e){var t=R.current,n=e.key,a=(0,c.default)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),g(t,a,w,_,m);else if("ArrowUp"===n)e.preventDefault(),g(t,a,w,_,f);else if("Home"===n)e.preventDefault(),g(t,null,w,_,m);else if("End"===n)e.preventDefault(),g(t,null,w,_,f);else if(1===n.length){var r=A.current,o=n.toLowerCase(),s=performance.now();r.keys.length>0&&(s-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&o!==r.keys[0]&&(r.repeating=!1)),r.lastTime=s,r.keys.push(o);var i=a&&!r.repeating&&h(a,r);r.previousKeyMatched&&(i||g(t,a,!1,_,m,r))?e.preventDefault():r.previousKeyMatched=!1}I&&I(e)},tabIndex:r?0:-1},M),B)}),C=b;n.default=C}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/MenuList/MenuList.js"}],[978,{"./MenuList":977,"@babel/runtime/helpers/interopRequireDefault":600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./MenuList"))}}},{package:"@material-ui/core",file:"node_modules/@material-ui/core/MenuList/index.js"}]],[],{});