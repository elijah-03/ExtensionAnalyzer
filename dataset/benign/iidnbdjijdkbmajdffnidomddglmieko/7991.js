try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2d54a61b-d132-41a5-9000-a2e7a7ac6325",e._sentryDebugIdIdentifier="sentry-dbid-2d54a61b-d132-41a5-9000-a2e7a7ac6325")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"4.43.1"};(self.webpackChunk=self.webpackChunk||[]).push([[7991],{97991:(e,t,n)=>{n.r(t),System.register([],function(e){"use strict";return{execute:function(){e({getSplitSentences:async function({text:e,language:t},r){try{!function(e){if(0===e.trim().length)throw W.emptyText()}(e),function(e){if(!e||0===e.trim().length)throw W.invalidLanguage(e)}(t),function(){const e=n.get("ON_DEVICE_SENTENCE_SPLITTER_CONFIG");if(!e)throw W.notConfigured();if(!e.enabled)throw W.notEnabled({config:e})}(),r&&function(e){a=e}(r);const s=await j.getInstance(e,t);if(!s)throw z("No splitting result returned",H.SPLITTING_ERROR,{text:e,language:t});return{sentences:(null==s?void 0:s.sentences)||[],language:t,isOnDevice:!0}}catch(n){if(n instanceof W)throw n;if(n instanceof Error)throw z(n,H.SPLITTING_ERROR,{text:e,language:t});throw z("string"==typeof n?n:"Unknown error occurred",H.UNKNOWN_ERROR,{text:e,language:t})}},setOnDeviceSentenceSplitterConfig:function(e){n.set("ON_DEVICE_SENTENCE_SPLITTER_CONFIG",e)}});const t=new Map;t.set("PLATFORM_TYPE",""),t.set("PLATFORM_VERSION",""),t.set("IS_PREMIUM_USER",""),t.set("USER_ID_TOKEN",""),t.set("INPUT_LANGUAGE",""),t.set("REGIONAL_LANGUAGE",""),t.set("DEVICE_ID",""),t.set("GC_BATCH","4"),t.set("SS_BATCH","4"),t.set("PERSONALISATION_UPDATED_AT",""),t.set("PERSONALIZATION",""),t.set("VALID_START_SENTENCE_REGEX",""),t.set("VALID_END_SENTENCE_REGEX",""),t.set("GC_RESPONSE_POST_PROCESS",""),t.set("RECOMMENDATION_DISABLED_CATEGORIES",""),t.set("RECOMMENDATION_PRE_VALIDATE_CHECK",""),t.set("RECOMMENDATION_SENTENCES_PER_BATCH","5"),t.set("RECOMMENDATION_MIN_TEXT_LENGTH","10"),t.set("MAX_RECOMMENDATION_CONCURRENT_REQUESTS","6"),t.set("ENABLE_RECOMMENDATION_CONTEXT","false"),t.set("DISABLE_GC_AFTER_FIX_ERROR","false"),t.set("ON_DEVICE_LANGUAGE_CONFIG",""),t.set("ON_DEVICE_SENTENCE_SPLITTER_CONFIG","");class n{static get(e){return t.get(e)}static set(e,n){return t.set(e,n)}constructor(){}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{get modelId(){return this._modelId}get isSkipped(){return Boolean(this._skipReason)}get skipReason(){return this._skipReason}get apiResponse(){return this._apiResponse}get isCached(){return this._apiResponse._cached||!1}async _skipLoad(e,t){this._skipReason=e,t&&await t()}constructor(){r(this,"_modelId",""),r(this,"_skipReason",void 0),r(this,"_apiResponse",{data:null,_cached:!1})}}let a=null;function i({eventName:e,data:t}){a&&a({eventName:e,data:t})}let o,c;const l=new WeakMap,u=new WeakMap,d=new WeakMap,E=new WeakMap,_=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),m(l.get(this))}:function(...t){return m(e.apply(f(this),t))}:function(t,...n){const r=e.call(f(this),t,...n);return d.set(r,t.sort?t.sort():[t]),m(r)}}function p(e){return"function"==typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});u.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,h):e);var t}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{t(m(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&l.set(t,e)}).catch(()=>{}),_.set(t,e),t}(e);if(E.has(e))return E.get(e);const t=p(e);return t!==e&&(E.set(e,t),_.set(t,e)),t}const f=e=>_.get(e);const N=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],O=new Map;function R(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(O.get(t))return O.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=T.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!N.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,s?"readwrite":"readonly");let i=a.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),s&&a.done]))[0]};return O.set(t,a),a}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}h=(e=>({...e,get:(t,n,r)=>R(t,n)||e.get(t,n,r),has:(t,n)=>!!R(t,n)||e.has(t,n)}))(h);const S="product-gc",y=3,w={cache:"cache",correctedSentences:"correctedSentences",lockedRecommendationMapping:"lockedRecommendationMapping"};class b{async get(e,t){var n;return null===(n=await this.dbPromise)||void 0===n?void 0:n.get(t,e).then(e=>null==e?void 0:e.data)}async set(e,t,n){var r,s;const a={data:t,type:(null==t||null===(r=t.value)||void 0===r?void 0:r.type)||"default",date:+(new Date).setHours(0,0,0,0)};await(null===(s=await this.dbPromise)||void 0===s?void 0:s.put(n,a,e))}async delete(e,t){var n;await(null===(n=await this.dbPromise)||void 0===n?void 0:n.delete(t,e))}async clear(e){var t;await(null===(t=await this.dbPromise)||void 0===t?void 0:t.clear(e))}async deleteOldData(e){try{var t;const n=10,r=+(new Date).setDate((new Date).getDate()-n),s=null===(t=await this.dbPromise)||void 0===t?void 0:t.transaction(e,"readwrite"),a=null==s?void 0:s.store,i=null==a?void 0:a.index("date"),o=IDBKeyRange.upperBound(r);let c=await(null==i?void 0:i.openKeyCursor(o));for(;c;)null==a||a.delete(c.primaryKey),c=await c.continue()}catch(e){}}async getDatabaseSize(e){const t=await this.dbPromise,n=null==t?void 0:t.transaction(e,"readonly"),r=null==n?void 0:n.store;return(null==r?void 0:r.count())||0}async getByType(e,t=w.cache){const n=await this.dbPromise;if(!n)return[];const r=n.transaction(t,"readonly").store.index("type"),s=[];let a=await r.openCursor(IDBKeyRange.only(e));for(;a;)s.push(a.value.data),a=await a.continue();return s}async deleteByType(e,t=w.cache){const n=await this.dbPromise;if(!n)return;const r=n.transaction(t,"readwrite"),s=r.store,a=s.index("type");let i=await a.openKeyCursor(IDBKeyRange.only(e));for(;i;)s.delete(i.primaryKey),i=await i.continue();await r.done}constructor(){I(this,"dbPromise",void 0),I(this,"isAvailable","undefined"!=typeof indexedDB),this.isAvailable?this.dbPromise=new Promise((e,t)=>{(function(e,t,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const i=indexedDB.open(e,t),o=m(i);return r&&i.addEventListener("upgradeneeded",e=>{r(m(i.result),e.oldVersion,e.newVersion,m(i.transaction))}),n&&i.addEventListener("blocked",()=>n()),o.then(e=>{a&&e.addEventListener("close",()=>a()),s&&e.addEventListener("versionchange",()=>s())}).catch(()=>{}),o})(S,y,{upgrade(e,t,n,r){try{if(!e.objectStoreNames.contains(w.cache)){const t=e.createObjectStore(w.cache);t.createIndex("date","date"),t.createIndex("type","type",{unique:!1})}if(e.objectStoreNames.contains(w.cache)){const e=r.objectStore(w.cache);e.indexNames.contains("type")||e.createIndex("type","type",{unique:!1})}if(!e.objectStoreNames.contains(w.correctedSentences)){e.createObjectStore(w.correctedSentences).createIndex("date","date")}if(!e.objectStoreNames.contains(w.lockedRecommendationMapping)){e.createObjectStore(w.lockedRecommendationMapping).createIndex("date","date")}}catch(e){}},blocked(){e(null)},blocking(){},terminated(){}}).then(t=>{e(t||null)}).catch(t=>{e(null)})}):this.dbPromise=Promise.resolve(null)}}const v=new Map;class C{async get(e){return v.get(e)}async set(e,t){await v.set(e,t)}async delete(e){await v.delete(e)}async clear(){await v.clear()}async getDatabaseSize(){return v.size}async deleteByType(e){for(const[t,n]of v.entries())n.type===e&&v.delete(t)}async getByType(e){const t=[];for(const[n,r]of v.entries())r.type===e&&t.push(n);return t}constructor(){var e,t,n;n=!0,(t="isAvailable")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}}const D=(e,t,n)=>{if("number"!=typeof n||n<=0)throw new Error(`timedPromise: Encountered invalid timeout value. Got ${n}`);return new Promise((r,s)=>{const a=setTimeout(()=>{r({timedOut:!0,value:t})},n);e.then(e=>{clearTimeout(a),r({timedOut:!1,value:e})}).catch(e=>{clearTimeout(a),s(e)})})},L=w.correctedSentences;(async()=>{try{const e=new b,t=e.dbPromise,n=await D(t,null,3e3);if(e.isAvailable&&n.value)return e.deleteOldData(L),e}catch(e){}new C})();const P=w.lockedRecommendationMapping;(async()=>{try{const e=new b,t=e.dbPromise,n=await D(t,null,3e3);if(e.isAvailable&&n.value)return e.deleteOldData(P),e}catch(e){}new C})();const A=w.cache;let x=(async()=>{try{const e=new b,t=e.dbPromise,n=await D(t,null,3e3);if(e.isAvailable&&n.value)return e.deleteOldData(A),e}catch(e){}return new C})();const k=async e=>{try{const t=await x.then(t=>t.get(e,A));if(!t)return;const n="string"==typeof t?JSON.parse(t):t;let{value:r}=n;const{expireAt:s}=n;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){}if(!s)return r;const a=(new Date).getTime();return a>new Date(s).getTime()?void await x.then(t=>t.delete(e,A)):r}catch(e){return}},M=async(e,t,n)=>{try{const r=n?new Date((new Date).getTime()+n).toISOString():void 0;await x.then(n=>n.set(e,{expireAt:r,value:t},A))}catch(e){return}};var G=function(e){return e.DEBUG_LOG="debugLog",e.ON_DEVICE_SENTENCE_SPLITTER_INIT="on_device_sentence_splitter_init",e.ON_DEVICE_SENTENCE_SPLITTER_INIT_ERROR="on_device_sentence_splitter_init_error",e.ON_DEVICE_SENTENCE_SPLIT_COMPLETE="on_device_sentence_split_complete",e.ON_DEVICE_SENTENCE_SPLIT_ERROR="on_device_sentence_split_error",e.ON_DEVICE_SENTENCE_SPLIT_TOGGLE="on_device_sentence_split_toggle",e.ON_DEVICE_SEGMENTER_SENTENCE_SPLIT_COMPLETE="on_device_segmenter_sentence_split_complete",e.ON_DEVICE_SEGMENTER_SENTENCE_SPLIT_ERROR="on_device_segmenter_sentence_split_error",e.ON_DEVICE_LANG_DETECT_COMPLETE="on_device_lang_detect_complete",e.ON_DEVICE_LANG_DETECT_ERROR="on_device_lang_detect_error",e.ON_DEVICE_LANG_DETECT_TIMEOUT="on_device_lang_detect_timeout",e.ON_DEVICE_LANG_DETECT_TOGGLE="on_device_lang_detect_toggle",e.LOCK_ID_TO_RECOMMENDATION_KEY_MAP_NON_EXISTS="LOCK_ID_TO_RECOMMENDATION_KEY_MAP_NON_EXISTS",e.RECOMMENDATION_UNLOCK_FAILED="RECOMMENDATION_UNLOCK_FAILED",e.GC_MODEL_STATS="gc_model_stats",e}({}),B=function(e){return e.recommendationNone="recommendation:none",e.recommendationPremium="recommendation:premium",e.recommendationLocked="recommendation:locked",e.recommendationUpsell="recommendation:upsell",e["detect-language:on-device"]="detect-language:on-device",e["sentence-splitter:on-device"]="sentence-splitter:on-device",e}({});class U{}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends U{static getInstance(){return V.instance||(V.instance=new V),V.instance}getModel(){if(!this.module)throw new Error("Segmentation module not initialized");return this.module}async process({input:e,language:t="English"}){return this.getModel().segmentText(e,t)}_preProcess(e){return e}_postProcess(e){return e}convertPattern(e){let t="g",n=e;return/^\(\?i\)/.test(e)&&(t+="i",n=e.replace(/^\(\?i\)/,"")),/\(\?[a-z]*:?/.test(n),{pattern:n,flags:t}}parseSRX(e){if("undefined"!=typeof DOMParser)try{return this.parseSRXWithDOMParser(e)}catch(e){}return this.parseSRXWithRegex(e)}parseSRXWithDOMParser(e){const t=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("languagerule"),n={};for(const e of t){const t=e.getAttribute("languagerulename");if(!t)continue;const a={breaks:[],non_breaks:[]},i=e.getElementsByTagName("rule");for(const e of i){var r,s;const t="no"!==e.getAttribute("break"),n=(null===(r=e.getElementsByTagName("beforebreak")[0])||void 0===r?void 0:r.textContent)||"",i=(null===(s=e.getElementsByTagName("afterbreak")[0])||void 0===s?void 0:s.textContent)||"";(t?a.breaks:a.non_breaks).push([n,i])}n[t]=a}for(const e of["English","Catalan","Spanish"])n[e]||(n[e]={breaks:[],non_breaks:[]}),n[e].breaks.push(["\\n",""]);return n}decodeXMLEntities(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'")}parseSRXWithRegex(e){const t={},n=e.replace(/<!--[\s\S]*?-->/g,""),r=/<languagerule\s+languagerulename="([^"]+)">([\s\S]*?)<\/languagerule>/g;let s;for(;null!==(s=r.exec(n));){const e=s[1],n=s[2],r={breaks:[],non_breaks:[]},a=/<rule\s+break="([^"]+)">([\s\S]*?)<\/rule>/g;let i;for(;null!==(i=a.exec(n));){const e="no"!==i[1],t=i[2],n=t.match(/<beforebreak>([\s\S]*?)<\/beforebreak>/),s=t.match(/<afterbreak>([\s\S]*?)<\/afterbreak>/),a=n?this.decodeXMLEntities(n[1]):"",o=s?this.decodeXMLEntities(s[1]):"";(e?r.breaks:r.non_breaks).push([a,o])}t[e]=r}for(const e of["English","Catalan","Spanish"])t[e]||(t[e]={breaks:[],non_breaks:[]}),t[e].breaks.push(["\\n",""]);return t}async getBreakPoints(e,t){const n=new Set;for(const[r,s]of t){const t=this.convertPattern(r),a=this.convertPattern(s),i=new RegExp(`(${t.pattern})(${a.pattern})`,t.flags.includes("i")||a.flags.includes("i")?"gi":"g");let o;for(;null!==(o=i.exec(e));)n.add(o.index+o[1].length)}return new Promise(e=>setTimeout(()=>e(n),0))}async extractSegments(e,t){const n=await this.getBreakPoints(e,t.non_breaks),r=await this.getBreakPoints(e,t.breaks),s=Array.from(r).filter(e=>!n.has(e)).sort((e,t)=>e-t),a=[];let i="";const o=[0,...s],c=[...s,e.length];for(let t=0;t<o.length;t++){const n=e.slice(o[t],c[t]),r=n.trim();if(!r){i+=n;continue}const s=n.indexOf(r),l=o[t]+s,u=l+r.length,d=n.slice(0,s),E=n.slice(s+r.length);a.push({text:r,start:l,end:u,whitespace:i+d}),i=E}return a}async loadSRXFile(){const e=n.get("ON_DEVICE_SENTENCE_SPLITTER_CONFIG"),t=await fetch(e.srxPath);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);this.srxText=await t.text();return this.parseSRX(this.srxText)}createSegmentationModule(e){return{rules:e,segmentText:async(t,n="English")=>{if(!e||!e[n])throw new Error(`SRX rules not loaded or language '${n}' not found`);if(!t.trim())throw new Error("Please enter some text to segment.");try{const r=await this.extractSegments(t,e[n]);return{sentences:r,fullOutput:r.map(e=>e.text).join("\n")}}catch(e){throw e}}}}async initialize(){return this.initialized?Promise.resolve(this.module):(this.loadingPromise||(this.loadingPromise=(async()=>{try{const e=await this.loadSRXFile();return this.module=this.createSegmentationModule(e),this.initialized=!0,this.module}catch(e){this.initialized=!1;const t=e instanceof Error?e.message:"Unknown error occurred";throw new Error(`Failed to initialize Segmentation module: ${t}`)}finally{this.loadingPromise=null}})()),this.loadingPromise)}constructor(){super(),F(this,"module",null),F(this,"initialized",!1),F(this,"loadingPromise",null),F(this,"srxText",null)}}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}F(V,"instance",null);class j extends s{static async getInstance(e,t){return await new j(e,t)._load()}_isLanguageSupported(e){return e.toLowerCase()in j.SEGMENTER_LANGUAGE_MAP}_getLanguageName(e){return j.SEGMENTER_LANGUAGE_MAP[e.toLowerCase()]}get sentences(){return this._sentences}_beforeLoad(){return this._isLanguageSupported(this._language)?(this._language=this._getLanguageName(this._language)||"",this._text?void(this._text=function(e){try{return e.replace(/\u00A0/g," ").replace(/\u200B/g,"")}catch(t){return e}}(this._text)):(""===this._text&&(this._sentences=[{text:"",start:0,end:-1}]),void this._skipLoad("shortCircuit",()=>{}))):(this._sentences=[],void this._skipLoad("shortCircuit",()=>{}))}async _afterLoad(){}async _load(){if(this._beforeLoad(),this.isSkipped)return this;const e=await this.generateCacheKey(),t=await this.retrieveFromCache(e);if(t)return this._sentences=t,this;try{return await this.segmenterManager.initialize(),this._sentences=await this.processSentences(),await this.cacheResults(e),this}catch(e){return this.handleError(e),this}}async generateCacheKey(){return await async function(e){try{const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}catch(e){return""}}(j.CACHE_PREFIX+this._text)}async retrieveFromCache(e){const t=await k(e);return(null==t?void 0:t.data.sentences)||null}async cacheResults(e){const t={data:{sentences:this._sentences},type:B["sentence-splitter:on-device"]};await M(e,t,j.CACHE_TTL)}async processSentences(){const e=await Promise.race([this.createTimeoutPromise(),this.executeSentenceProcessing()]);return this.mapSentencesToOffsets(this._text,e)}createTimeoutPromise(){return new Promise((e,t)=>setTimeout(()=>t(new Error("fallback timeout")),this.fallbackThreshold))}async executeSentenceProcessing(){const e=performance.now(),t=await this.segmenterManager.process({input:this._text,language:this._language}),n=performance.now()-e;return this.trackPerformance(n),t.sentences.map(e=>e.text)}trackPerformance(e){e>this.slowThreshold&&this.notifySlowProcessing(e),this.notifyProcessingComplete(e)}notifySlowProcessing(e){i({eventName:G.ON_DEVICE_SENTENCE_SPLIT_TOGGLE,data:{value:!1,timeTaken:e,reason:"slowThreshold",modelId:this._modelId}})}notifyProcessingComplete(e){i({eventName:G.ON_DEVICE_SEGMENTER_SENTENCE_SPLIT_COMPLETE,data:{timeTaken:e,textLength:this._text.length,modelId:this._modelId}})}handleError(e){const t=e instanceof Error?e.message:"Unknown error";i({eventName:G.ON_DEVICE_SEGMENTER_SENTENCE_SPLIT_ERROR,data:{error:t,textLength:this._text.length,modelId:this._modelId}})}mapSentencesToOffsets(e,t){let n=0;return t.map(t=>{const r=e.indexOf(t,n),s=r+t.length-1;return n=r+t.length,{text:t,start:r,end:s}})}constructor(e,t){super(),K(this,"segmenterManager",void 0),K(this,"_text",void 0),K(this,"_language",void 0),K(this,"_sentences",[]),K(this,"slowThreshold",void 0),K(this,"fallbackThreshold",void 0),this._text=e,this._modelId="segmenter",this._language=t,this.segmenterManager=V.getInstance();const r=n.get("ON_DEVICE_SENTENCE_SPLITTER_CONFIG");this.slowThreshold=(null==r?void 0:r.slowThreshold)||j.DEFAULT_SLOW_THRESHOLD,this.fallbackThreshold=(null==r?void 0:r.fallbackThreshold)||j.DEFAULT_FALLBACK_THRESHOLD}}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}K(j,"DEFAULT_SLOW_THRESHOLD",150),K(j,"DEFAULT_FALLBACK_THRESHOLD",400),K(j,"CACHE_PREFIX","SENTENCE_SPLITTER_SEGMENTER"),K(j,"CACHE_TTL",864e5),K(j,"SEGMENTER_LANGUAGE_MAP",{en:"English",de:"German",fr:"French",es:"Spanish",nl:"Dutch",pt:"Portuguese"});const H=e("ErrorCode",{CONFIGURATION_ERROR:"CONFIGURATION_ERROR",MODEL_LOADING_ERROR:"MODEL_LOADING_ERROR",SPLITTING_ERROR:"SPLITTING_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"});class W extends Error{getFormattedMessage(){const e=Object.keys(this.context).length>0?` | Context: ${JSON.stringify(this.context)}`:"";return`${this.name}: ${this.message}${e}`}toJSON(){return{name:this.name,message:this.message,code:this.code,context:this.context,isOperational:this.isOperational,stack:this.stack}}static emptyText(){return new W("Input text cannot be empty or whitespace only",H.VALIDATION_ERROR,{},!0)}static invalidLanguage(e){return new W("Language parameter is required and cannot be empty",H.VALIDATION_ERROR,{language:e},!0)}static notConfigured(){return new W("On-device sentence splitter configuration is not set",H.CONFIGURATION_ERROR,{},!0)}static notEnabled(e={}){return new W("On-device sentence splitter is not enabled in configuration",H.CONFIGURATION_ERROR,e,!0)}static unknownError(e,t={}){const n="string"==typeof e?e:e.message;return new W(`Unknown error occurred: ${n}`,H.UNKNOWN_ERROR,t,!1)}constructor(e,t=H.UNKNOWN_ERROR,n={},r=!0){super(e),X(this,"code",void 0),X(this,"context",void 0),X(this,"isOperational",void 0),Object.setPrototypeOf(this,W.prototype),this.name="OnDeviceSentenceSplitterError",this.code=t,this.context=n,this.isOperational=r}}function z(e,t=H.UNKNOWN_ERROR,n={}){if(e instanceof W)return e;const r="string"==typeof e?e:e.message;return new W(r,t,n)}e("OnDeviceSentenceSplitterError",W)}}})}}]);
//# sourceMappingURL=sourceMap/7991.js.map