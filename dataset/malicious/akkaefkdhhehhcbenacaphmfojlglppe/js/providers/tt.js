const TTProvider=class extends AbstractProvider{handleSearchResult(a=[]){this.videos=a.map(a=>({vid:a.vid,title:a.title,ext:a.ext,url:a.url,provider:"xx",quality:a.type})).filter(({ext:a})=>"mpg"!==a).filter(a=>a.url.includes("tiktokcdn.com")&&""===a.title).map(a=>({...a,title:a.title?a.title:"TikTok video"})),this.setBadge(),this.passMediaBack({videos:this.videos})}search(){chrome.runtime.sendMessage({action:"getTabVideos"},a=>this.handleSearchResult(a))}registerMediaUpdateListener(a){this.mediaUpdateListener=a}itinializeMessageListeners(){chrome.runtime.onMessage.addListener(a=>{"pageUpdated"===a.action&&chrome.runtime.sendMessage({action:"getTabVideos"},a=>this.handleSearchResult(a))})}};