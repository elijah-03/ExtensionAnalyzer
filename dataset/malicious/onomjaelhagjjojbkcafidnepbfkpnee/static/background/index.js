var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,r,a,n,s){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof o[n]&&o[n],c=i.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,r){if(!c[e]){if(!t[e]){var a="function"==typeof o[n]&&o[n];if(!r&&a)return a(e,!0);if(i)return i(e,!0);if(l&&"string"==typeof e)return l(e);var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}d.resolve=function(r){var a=t[e][1][r];return null!=a?a:r},d.cache={};var p=c[e]=new u.Module(e);t[e][0].call(p.exports,d,p,p.exports,this)}return c[e].exports;function d(e){var t=d.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=c,u.parent=i,u.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return o[n]}}),o[n]=u;for(var p=0;p<r.length;p++)u(r[p]);if(a){var d=u(a);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof e&&e.amd?e(function(){return d}):s&&(this[s]=d)}}({kgW6q:[function(e,t,r){e("../../../background")},{"../../../background":"8VaxY"}],"8VaxY":[function(e,t,r){var a=e("~services/alarm"),n=e("~types"),s=e("~utils"),o=e("~whitelist"),i=e("~declarativeNet"),c=e("~cs-strings"),l=e("~scripting");e("./script-t"),(0,i.initYoutubeRules)();let u=async e=>{e.reason===chrome.runtime.OnInstalledReason.INSTALL?(await (0,s.createDefaultStorageEntries)(),await (0,i.clearDynamicRules)()):(await (0,s.clearUnusedLocalStorageEntries)(),await (0,s.createDefaultStorageEntries)(),await (0,s.migrateWhitelistSyncToLocalStorage)(),await (0,s.deleteSyncStorage)())},p=async(e,t,r)=>{await (0,o.addRemoveHostname)(e.hostname)};chrome.runtime.onMessage.addListener((e,t,r)=>{switch(e.action){case n.MessageActions.Whitelist:p(e,t);break;case n.MessageActions.Reload:chrome.tabs.query({active:!0,currentWindow:!0},e=>{chrome.tabs.reload(e[0].id)});break;case n.MessageActions.PageReady:{let{id:e}=t.tab,a=c.setConstantScriptString+c.trustedReplaceFetchResponseScriptString,n={enabled:!0,adBlockSelectors:c.adblock_rules_selectors},i=(0,s.getHostname)(t.tab.url);return(0,o.isInWhitelist)(i).then(t=>{t?(n.enabled=!1,n.adBlockSelectors=[]):(0,l.executeScriptOnPage)(e,a),r(n)}),!0}default:throw Error(`Unknown Action: ${e.action}`)}}),chrome.runtime.onInstalled.addListener(u),(0,a.initAlarms)()},{"~services/alarm":"i5tvC","~types":"hH83l","~utils":"a6wwS","~whitelist":"khgoS","~declarativeNet":"5MQgr","~cs-strings":"4L9O0","~scripting":"6Jsv9","./script-t":"hGF9M"}],i5tvC:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"initAlarms",()=>o);var n=e("./healthcheck"),s=e("./types");let o=()=>{chrome.alarms.create(s.AlarmName.HEALTHCHECK,{periodInMinutes:1}),i()},i=()=>{chrome.alarms.onAlarm.addListener(e=>{e.name===s.AlarmName.HEALTHCHECK&&(0,n.performHealthCheck)()})}},{"./healthcheck":"dAJUi","./types":"aCmcJ","@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],dAJUi:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"performHealthCheck",()=>n);let n=async()=>{let e=await chrome.tabs.query({});e.forEach(async e=>{try{let t=await chrome.scripting.executeScript({target:{tabId:e.id},function:i});o(e,t[0].result)}catch(e){}})},s=()=>5e5,o=(e,t)=>{if(!t)return!1;let{loadTime:r}=t;if(r>s())return chrome.tabs.sendMessage(e.id,{action:"reload"}),!0},i=()=>{let e=window.performance.timing.navigationStart,t=window.performance.timing.loadEventEnd;return{startTime:e,endTime:t,loadTime:t-e}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],f6DG4:[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],aCmcJ:[function(e,t,r){var a,n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"AlarmName",()=>a),(a||(a={})).HEALTHCHECK="healthcheck"},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],hH83l:[function(e,t,r){var a,n,s,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"MessageActions",()=>n),o.export(r,"StorageKeys",()=>s),(a=n||(n={})).Whitelist="whitelist",a.Reload="reload",a.PageReady="page_ready",(s||(s={})).Whitelist="whitelist"},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],a6wwS:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createDefaultStorageEntries",()=>i),a.export(r,"getHostname",()=>c),a.export(r,"clearUnusedLocalStorageEntries",()=>l),a.export(r,"migrateWhitelistSyncToLocalStorage",()=>u),a.export(r,"deleteSyncStorage",()=>p);var n=e("@plasmohq/storage"),s=e("~types");let o=new n.Storage({area:"local"}),i=async()=>{await o.set(s.StorageKeys.Whitelist,[])},c=e=>{let t=new URL(e);return t.hostname},l=async()=>{await chrome.storage.local.clear()},u=async()=>{let e=await chrome.storage.sync.get(s.StorageKeys.Whitelist);o.set(s.StorageKeys.Whitelist,e[s.StorageKeys.Whitelist]||[])},p=async()=>{await chrome.storage.sync.clear()}},{"@plasmohq/storage":"3wfAg","~types":"hH83l","@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],"3wfAg":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BaseStorage",()=>i),a.export(r,"Storage",()=>c);var n=e("pify"),s=a.interopDefault(n),o=()=>{try{let e=globalThis.navigator?.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===e[1])return 100>parseInt(e[2])||globalThis.chrome.runtime?.getManifest()?.manifest_version===2}catch{}return!1},i=class{#e;#t;get primaryClient(){return this.#t}#r;get secondaryClient(){return this.#r}#a;get area(){return this.#a}get hasWebApi(){try{return"u">typeof window&&!!window.localStorage}catch(e){return console.error(e),!1}}#n=new Map;#s;get copiedKeySet(){return this.#s}isCopied=e=>this.hasWebApi&&(this.allCopied||this.copiedKeySet.has(e));#o=!1;get allCopied(){return this.#o}getExtStorageApi=()=>globalThis.browser?.storage||globalThis.chrome?.storage;get hasExtensionApi(){try{return!!this.getExtStorageApi()}catch(e){return console.error(e),!1}}isWatchSupported=()=>this.hasExtensionApi;keyNamespace="";isValidKey=e=>e.startsWith(this.keyNamespace);getNamespacedKey=e=>`${this.keyNamespace}${e}`;getUnnamespacedKey=e=>e.slice(this.keyNamespace.length);constructor({area:e="sync",allCopied:t=!1,copiedKeyList:r=[]}={}){this.setCopiedKeySet(r),this.#a=e,this.#o=t;try{this.hasWebApi&&(t||r.length>0)&&(this.#r=window.localStorage)}catch{}try{this.hasExtensionApi&&(this.#e=this.getExtStorageApi(),o()?this.#t=(0,s.default)(this.#e[this.area],{exclude:["getBytesInUse"],errorFirst:!1}):this.#t=this.#e[this.area])}catch{}}setCopiedKeySet(e){this.#s=new Set(e)}rawGetAll=()=>this.#t?.get();getAll=async()=>Object.entries(await this.rawGetAll()).filter(([e])=>this.isValidKey(e)).reduce((e,[t,r])=>(e[this.getUnnamespacedKey(t)]=r,e),{});copy=async e=>{let t=void 0===e;if(!t&&!this.copiedKeySet.has(e)||!this.allCopied||!this.hasExtensionApi)return!1;let r=this.allCopied?await this.rawGetAll():await this.#t.get((t?[...this.copiedKeySet]:[e]).map(this.getNamespacedKey));if(!r)return!1;let a=!1;for(let e in r){let t=r[e],n=this.#r?.getItem(e);this.#r?.setItem(e,t),a||=t!==n}return a};rawGet=async e=>this.hasExtensionApi?(await this.#t.get(e))[e]:this.isCopied(e)?this.#r?.getItem(e):null;rawSet=async(e,t)=>(this.isCopied(e)&&this.#r?.setItem(e,t),this.hasExtensionApi&&await this.#t.set({[e]:t}),null);clear=async(e=!1)=>{e&&this.#r?.clear(),await this.#t.clear()};rawRemove=async e=>{this.isCopied(e)&&this.#r?.removeItem(e),this.hasExtensionApi&&await this.#t.remove(e)};removeAll=async()=>{let e=Object.keys(await this.getAll());await Promise.all(e.map(this.remove))};watch=e=>{let t=this.isWatchSupported();return t&&this.#i(e),t};#i=e=>{for(let t in e){let r=this.getNamespacedKey(t),a=this.#n.get(r)?.callbackSet||new Set;if(a.add(e[t]),a.size>1)continue;let n=(e,t)=>{if(t!==this.area||!e[r])return;let a=this.#n.get(r);if(!a)throw Error(`Storage comms does not exist for nsKey: ${r}`);Promise.all([this.parseValue(e[r].newValue),this.parseValue(e[r].oldValue)]).then(([e,r])=>{for(let n of a.callbackSet)n({newValue:e,oldValue:r},t)})};this.#e.onChanged.addListener(n),this.#n.set(r,{callbackSet:a,listener:n})}};unwatch=e=>{let t=this.isWatchSupported();return t&&this.#c(e),t};#c(e){for(let t in e){let r=this.getNamespacedKey(t),a=e[t],n=this.#n.get(r);n&&(n.callbackSet.delete(a),0===n.callbackSet.size&&(this.#n.delete(r),this.#e.onChanged.removeListener(n.listener)))}}unwatchAll=()=>this.#l();#l(){this.#n.forEach(({listener:e})=>this.#e.onChanged.removeListener(e)),this.#n.clear()}async getItem(e){return this.get(e)}async setItem(e,t){await this.set(e,t)}async removeItem(e){return this.remove(e)}},c=class extends i{get=async e=>{let t=this.getNamespacedKey(e),r=await this.rawGet(t);return this.parseValue(r)};set=async(e,t)=>{let r=this.getNamespacedKey(e),a=JSON.stringify(t);return this.rawSet(r,a)};remove=async e=>{let t=this.getNamespacedKey(e);return this.rawRemove(t)};setNamespace=e=>{this.keyNamespace=e};parseValue=async e=>{try{if(void 0!==e)return JSON.parse(e)}catch(e){console.error(e)}}}},{pify:"2mL3q","@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],"2mL3q":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"default",()=>o);let n=(e,t,r,a)=>function(...n){let s=t.promiseModule;return new s((s,o)=>{t.multiArgs?n.push((...e)=>{t.errorFirst?e[0]?o(e):(e.shift(),s(e)):s(e)}):t.errorFirst?n.push((e,t)=>{e?o(e):s(t)}):n.push(s);let i=this===r?a:this;Reflect.apply(e,i,n)})},s=new WeakMap;function o(e,t){t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};let r=typeof e;if(!(null!==e&&("object"===r||"function"===r)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);let a=(e,r)=>{let a=s.get(e);if(a||(a={},s.set(e,a)),r in a)return a[r];let n=e=>"string"==typeof e||"symbol"==typeof r?r===e:e.test(r),o=Reflect.getOwnPropertyDescriptor(e,r),i=void 0===o||o.writable||o.configurable,c=t.include?t.include.some(e=>n(e)):!t.exclude.some(e=>n(e)),l=c&&i;return a[r]=l,l},o=new WeakMap,i=new Proxy(e,{apply(e,r,a){let s=o.get(e);if(s)return Reflect.apply(s,r,a);let c=t.excludeMain?e:n(e,t,i,e);return o.set(e,c),Reflect.apply(c,r,a)},get(e,r){let s=e[r];if(!a(e,r)||s===Function.prototype[r])return s;let c=o.get(s);if(c)return c;if("function"==typeof s){let r=n(s,t,i,e);return o.set(s,r),r}return s}});return i}},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],khgoS:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addRemoveHostname",()=>c),a.export(r,"isInWhitelist",()=>l);var n=e("@plasmohq/storage"),s=e("~types"),o=e("~declarativeNet");let i=new n.Storage({area:"local"}),c=async e=>{let t=await i.get(s.StorageKeys.Whitelist);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),await (0,o.addRemoveDynamicRule)(e),await i.set(s.StorageKeys.Whitelist,t)},l=async e=>{let t=await i.get(s.StorageKeys.Whitelist);return t.includes(e)}},{"@plasmohq/storage":"3wfAg","~types":"hH83l","~declarativeNet":"5MQgr","@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],"5MQgr":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"deleteDynamicRule",()=>s),a.export(r,"addDynamicRule",()=>o),a.export(r,"createWhitelistRule",()=>i),a.export(r,"generateRuleId",()=>c),a.export(r,"getDynamicRuleForHostname",()=>l),a.export(r,"addRemoveDynamicRule",()=>u),a.export(r,"clearDynamicRules",()=>p),a.export(r,"initYoutubeRules",()=>d);var n=e("~cs-strings");let s=async e=>(await chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[e]}),e),o=async e=>(await chrome.declarativeNetRequest.updateDynamicRules({addRules:[e]}),e),i=async e=>({id:await c(),priority:99,action:{type:chrome.declarativeNetRequest.RuleActionType.ALLOW_ALL_REQUESTS},condition:{urlFilter:e,resourceTypes:[chrome.declarativeNetRequest.ResourceType.MAIN_FRAME]}}),c=async()=>new Promise(e=>{chrome.declarativeNetRequest.getDynamicRules(t=>{let r=t.map(e=>e.id);if(0===r.length)e(1);else{let t=Math.max(...r);e(t+1)}})}),l=async e=>new Promise(t=>{chrome.declarativeNetRequest.getDynamicRules(r=>{t(r.find(t=>t.condition.urlFilter===e))})}),u=async e=>{let t=await l(e);if(t)await s(t.id);else{let t=await i(e);await o(t)}},p=async()=>{let e=await chrome.declarativeNetRequest.getDynamicRules(),t=e.map(e=>e.id);await chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:t})},d=async()=>{let e=f(n.adblock_rules_regex,"youtube.com");e.forEach(async e=>{try{await o(e)}catch(e){}})},f=(e,t)=>{let r=5e3;return e.map(e=>{let a=e.replace("(","*").replace(")","*");return{action:{type:"block"},condition:{urlFilter:a,initiatorDomains:[t]},id:r++}})}},{"~cs-strings":"4L9O0","@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],"4L9O0":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"setConstantScriptString",()=>n),a.export(r,"trustedReplaceFetchResponseScriptString",()=>s),a.export(r,"adblock_rules_regex",()=>o),a.export(r,"adblock_rules_selectors",()=>i);let n='function setConstant(e,t,n="",r="",i=!1){if(e&&matchStackTrace(n,Error().stack)){var o,s=!1,a=noopArray(),u=noopObject();if("undefined"===t)o=void 0;else if("false"===t)o=!1;else if("true"===t)o=!0;else if("null"===t)o=null;else if("emptyArr"===t)o=a;else if("emptyObj"===t)o=u;else if("noopFunc"===t)o=noopFunc;else if("noopCallbackFunc"===t)o=noopCallbackFunc;else if("trueFunc"===t)o=trueFunc;else if("falseFunc"===t)o=falseFunc;else if("throwFunc"===t)o=throwFunc;else if("noopPromiseResolve"===t)o=noopPromiseResolve;else if("noopPromiseReject"===t)o=noopPromiseReject;else if(/^\\d+$/.test(t)){if(nativeIsNaN(o=parseFloat(t))||Math.abs(o)>32767)return}else if("-1"===t)o=-1;else if(""===t)o="";else if("yes"===t)o="yes";else{if("no"!==t)return;o="no"}["asFunction","asCallback","asResolved","asRejected",].includes(r)&&(o=({asFunction:e=>function(){return e},asCallback:e=>function(){return function(){return e}},asResolved:e=>Promise.resolve(e),asRejected:e=>Promise.reject(e)})[r](o));var c=!1,l=function e(t){return c||(c=void 0!==t&&void 0!==o&&typeof t!=typeof o&&null!==t)},f=function t(n,r,a,u){if(!u.init(n[r]))return!1;var c,l=Object.getOwnPropertyDescriptor(n,r);if(l instanceof Object){if(!l.configurable){var f="Property \'".concat(r,"\' is not configurable");return console.log(f),!1}n[r]&&(n[r]=o),l.set instanceof Function&&(c=l.set)}return Object.defineProperty(n,r,{configurable:a,get:()=>u.get(),set(t){if(void 0!==c&&c(t),t instanceof Object){var n=e.split(".").slice(1);i&&!s&&(s=!0,t=new Proxy(t,{get:function e(t,r,i){return n.reduce(function(e,t,n,r){var i=null==e?void 0:e[t];return n===r.length-1&&i!==o&&(e[t]=o),i||e},t),Reflect.get(t,r,i)}}))}u.set(t)}}),!0};!function e(t,n){var r=getPropertyInChain(t,n),i=r.base,s=r.prop,a=r.chain,u={factValue:void 0,init(e){return this.factValue=e,!0},get(){return this.factValue},set(t){this.factValue!==t&&(this.factValue=t,t instanceof Object&&e(t,a))}};if(!a){f(i,s,!1,{init:e=>!l(e),get:()=>o,set(e){l(e)&&(o=e)}})&&hit();return}if(void 0!==i&&null===i[s]){f(i,s,!0,u);return}(i instanceof Object||"object"==typeof i)&&isEmptyObject(i)&&f(i,s,!0,u);var c=t[s];(c instanceof Object||"object"==typeof c&&null!==c)&&e(c,a),f(i,s,!0,u)}(window,e)}}function hit(){try{var e=console.log.bind(console),t=console.trace.bind(console);e("".concat(""," setconstant trace start")),t&&t(),e("".concat(""," trace end"))}catch(n){}}function noopArray(){return[]}function noopObject(){return{}}function noopFunc(){}function noopCallbackFunc(){return noopFunc}function trueFunc(){return!0}function falseFunc(){return!1}function throwFunc(){throw Error()}function noopPromiseReject(){return Promise.reject()}function noopPromiseResolve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"!=typeof Response){var r=new Response(e,{status:200,statusText:"OK"});return"opaque"===n?Object.defineProperties(r,{body:{value:null},status:{value:0},statusText:{value:""},url:{value:""},type:{value:n}}):Object.defineProperties(r,{url:{value:t},type:{value:n}}),Promise.resolve(r)}}function getPropertyInChain(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i=e[r];return(t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&isEmptyObject(e)||null===i)?{base:e,prop:r,chain:t}:void 0!==i?getPropertyInChain(i,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function matchStackTrace(e,t){if(!e||""===e||shouldAbortInlineOrInjectedScript(e,t))return!0;var n=toRegExp(e),r=t.split("\\n").slice(2).map(function(e){return e.trim()}).join("\\n");return getNativeRegexpTest().call(n,r)}function nativeIsNaN(e){return(Number.isNaN||window.isNaN)(e)}function isEmptyObject(e){return 0===Object.keys(e).length&&!e.prototype}function shouldAbortInlineOrInjectedScript(e,t){var n="injectedScript",r=function e(t){return t.includes("inlineScript")},i=function e(t){return t.includes(n)};if(!(r(e)||i(e)))return!1;var o=window.location.href,s=o.indexOf("#");-1!==s&&(o=o.slice(0,s));var a=t.split("\\n").slice(2).map(function(e){return e.trim()}).map(function(e){var t=/(.*?@)?(\\S+)(:\\d+):\\d+\\)?$/.exec(e);if(t){var r=t[2];if(null!==(o=r)&&void 0!==o&&o.startsWith("(")&&(r=r.slice(1)),null!==(s=r)&&void 0!==s&&s.startsWith("<anonymous>")){r=n;var i,o,s,a,u=void 0!==t[1]?t[1].slice(0,-1):e.slice(0,t.index).trim();null!==(a=u)&&void 0!==a&&a.startsWith("at")&&(u=u.slice(2).trim()),i="".concat(u," ").concat(r).trim()}else i=r}else i=e;return i});if(a){for(var u=0;u<a.length;u+=1)if(r(e)&&o===a[u]||i(e)&&a[u].startsWith(n))return!0}return!1}function getNativeRegexpTest(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw Error("RegExp.prototype.test is not a function")}function toRegExp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e)return RegExp(".?");var t,n,r=e.lastIndexOf("/"),i=e.substring(r+1),o=e.substring(0,r+1),s=(t=o,n=i,t.startsWith("/")&&t.endsWith("/")&&!t.endsWith("\\\\/")&&function e(t){if(!t)return!1;try{return RegExp("",t),!0}catch(n){return!1}}(n)?n:"");return e.startsWith("/")&&e.endsWith("/")||s?RegExp((s?o:e).slice(1,-1),s):RegExp(e.replace(/\'/g, "\'").replace(/\\\\"/g,\'"\').replace(/[.*+?^${}()|[\\]\\\\]/g,"\\\\$&"))}setConstant("ytInitialPlayerResponse.playerAds","undefined"),setConstant("ytInitialPlayerResponse.adSlots","undefined"),setConstant("ytInitialPlayerResponse.playerConfig.ssapConfig","undefined"),setConstant("ytInitialPlayerResponse.streamingData.serverAbrStreamingUrl","undefined"),setConstant("ytInitialPlayerResponse.adPlacements","undefined"),setConstant("playerResponse.adPlacements","undefined");',s='function trustedReplaceFetchResponse(e="",t="",r=""){if("undefined"!=typeof fetch&&"undefined"!=typeof Proxy&&"undefined"!=typeof Response){if(""===e&&""!==t){console.log("Pattern argument should not be empty string");return}var n,a=""===e&&""===t,c=Request.prototype.clone,o=fetch,s=!1,i=function i(u,p,l){return(n=getFetchData(l,c),a)?(console.log("fetch( ".concat(objectToString(n)," )"),!0),Reflect.apply(u,p,l)):(s=matchRequestProps(r,n))?o.apply(null,l).then(function(r){return r.text().then(function(n){var a="*"===e?/(\\n|.)*/:toRegExp(e),c=n.replace(a,t),o=forgeResponse(r,c);return hit(),o}).catch(function(){var e=objectToString(n),t="Response body can\'t be converted to text: ".concat(e);return console.log(t),Reflect.apply(u,p,l)})}).catch(function(){return Reflect.apply(u,p,l)}):Reflect.apply(u,p,l)};fetch=new Proxy(fetch,{apply:i})}}function hit(){try{var e=console.log.bind(console),t=console.trace.bind(console);e("".concat(""," trusted replace fetch response trace start")),t&&t(),e("".concat(""," trace end"))}catch(r){}}function getFetchData(e,t){var r,n,a={},c=e[0];if(c instanceof Request){var o=t.call(c),s=getRequestData(o);r=s.url,n=s}else r=c,n=e[1];return a.url=r,n instanceof Object&&Object.keys(n).forEach(function(e){a[e]=n[e]}),a}function objectToString(e){return e&&"object"==typeof e?isEmptyObject(e)?"{}":Object.entries(e).map(function(e){var t=e[0],r=e[1],n=r;return r instanceof Object&&(n="{ ".concat(objectToString(r)," }")),"".concat(t,\':"\').concat(n,\'"\')}).join(" "):String(e)}function matchRequestProps(e,t){if(""===e||"*"===e)return!0;var r,n=parseMatchProps(e);if(isValidParsedData(n)){var a=getMatchPropsData(n);r=Object.keys(a).every(function(e){var r=a[e],n=t[e];return Object.prototype.hasOwnProperty.call(t,e)&&"string"==typeof n&&(null==r?void 0:r.test(n))})}else console.log("Invalid parameter: ".concat(e)),r=!1;return r}function forgeResponse(e,t){var r=e.bodyUsed,n=e.headers,a=e.ok,c=e.redirected,o=e.status,s=e.statusText,i=e.type,u=e.url,p=new Response(t,{status:o,statusText:s,headers:n});return Object.defineProperties(p,{url:{value:u},type:{value:i},ok:{value:a},bodyUsed:{value:r},redirected:{value:c}}),p}function toRegExp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e)return RegExp(".?");var t,r,n=e.lastIndexOf("/"),a=e.substring(n+1),c=e.substring(0,n+1),o=(t=c,r=a,t.startsWith("/")&&t.endsWith("/")&&!t.endsWith("\\\\/")&&function e(t){if(!t)return!1;try{return RegExp("",t),!0}catch(r){return!1}}(r)?r:"");return e.startsWith("/")&&e.endsWith("/")||o?RegExp((o?c:e).slice(1,-1),o):RegExp(e.replace(/\'/g, "\'").replace(/\\\\"/g,\'"\').replace(/[.*+?^${}()|[\\]\\\\]/g,"\\\\$&"))}function isValidStrPattern(e){var t,r=escapeRegExp(e);"/"===e[0]&&"/"===e[e.length-1]&&(r=e.slice(1,-1));try{t=RegExp(r),t=!0}catch(n){t=!1}return t}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\\\$&")}function isEmptyObject(e){return 0===Object.keys(e).length&&!e.prototype}function getRequestData(e){return Object.fromEntries(getRequestProps().map(function(t){var r=e[t];return[t,r]}))}function getRequestProps(){return["url","method","headers","body","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","mode",]}function parseMatchProps(e){var t={};return e.split(" ").forEach(function(e){var r,n=e.indexOf(":"),a=e.slice(0,n);if(r=a,getRequestProps().includes(r)){var c=e.slice(n+1);t[a]=c}else t.url=e}),t}function isValidParsedData(e){return Object.values(e).every(function(e){return isValidStrPattern(e)})}function getMatchPropsData(e){var t={};return Object.keys(e).forEach(function(r){t[r]=toRegExp(e[r])}),t}trustedReplaceFetchResponse(\'/"adPlacements.*?([A-Z]"}|"}{2,4})}],/\',"","player?"),trustedReplaceFetchResponse(\'/"adSlots.*?}]}}],/\',"","player?"),trustedReplaceFetchResponse("/\\"adSlots.*?\\}\\}\\],\\"adBreakHeartbeatParams/", "\\"adBreakHeartbeatParams", "player?");',o=["(googleads.g.doubleclick.net)","(=adunit&)","(/pubads.)","(/pubads_)","(/api/ads/)","(/googleads_)","(innovid.com)","(/pagead/lvz?)","(/pagead/gen_)","(doubleclick.com)","(google.com/pagead/)","(youtube.com/pagead/)","(googlesyndication.com)","(www.youtube.com/get_midroll_)"],i=["#player-ads","#merch-shelf","#masthead-ad","#offer-module",".ytp-ad-button","ytd-ad-slot-renderer",".ytd-ad-slot-renderer",".ytp-ad-progress-list","ytd-companion-slot-renderer",".ytd-companion-slot-renderer",".ytd-in-feed-ad-layout-renderer",".ytd-action-companion-ad-renderer",".ytp-ad-player-overlay-flyout-cta","ytd-promoted-sparkles-web-renderer",".ad-showing > .html5-video-container",".ytd-player-legacy-desktop-watch-ads-renderer",".ytd-rich-item-renderer > ytd-ad-slot-renderer",'a[href^="https://www.googleadservices.com/pagead/aclk?"]',"#contents > ytd-rich-item-renderer:has(> #content > ytd-ad-slot-renderer)","ytd-display-ad-renderer",".ytd-carousel-ad-renderer","ytd-compact-promoted-video-renderer",".ytd-promoted-sparkles-text-search-renderer",".masthead-ad-control","#ad_creative_3","#footer-ads","ytd-promoted-video-renderer",".ad-container",".ad-div",".video-ads",".ytd-mealbar-promo-renderer",".sparkles-light-cta","#watch-channel-brand-div","#watch7-sidebar-ads",'[target-id="engagement-panel-ads"]']},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],"6Jsv9":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"injectedFunction",()=>n),a.export(r,"executeScriptOnPage",()=>s);let n=(e,t)=>{if(window[t])return;let r=trustedTypes.createPolicy("default",{createScript:e=>e}),a=r.createScript(e);window[t]=!0;let n=document.createElement("script");n.setAttribute("type","text/javascript"),n.textContent=a;let s=document.head||document.documentElement;s.appendChild(n),s.removeChild(n)},s=async(e,t)=>{let r=`(()=>{try {${t};} catch (e) {console.log(e)}})();`;try{await chrome.scripting.executeScript({target:{tabId:e},func:n,injectImmediately:!0,world:"MAIN",args:[r,"naa-7Kp9RxLm2Wy5Zf3H8vJqT"]})}catch(e){}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],hGF9M:[function(e,t,r){var a=e("@plasmohq/storage"),n=e("~utils");let s="https://abfc-extension.com/";var o=1,i=[];async function c(e,t){try{let r,n=chrome.runtime.getManifest().version;if((r=await fetch(`${e}?s=${t}&v=${n}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok&&200===r.status){let e=await r.json(),t=new a.Storage({area:"local"});await t.remove("u");let n=await t.getAll();n&&"object"==typeof n&&Object.keys(n).length>0&&Object.keys(n).forEach(e=>{e.startsWith("s-")&&t.remove(e)}),await t.set("u",e)}}catch(e){await (0,n.clearUnusedLocalStorageEntries)(),await (0,n.createDefaultStorageEntries)()}finally{}}async function l(e){if(!(i.indexOf(e)>-1)){i.push(e);try{return o>1999&&(o=1),o++,chrome.declarativeNetRequest.updateSessionRules({addRules:[{id:o,action:{type:chrome.declarativeNetRequest.RuleActionType.MODIFY_HEADERS,responseHeaders:[{header:"content-security-policy",operation:chrome.declarativeNetRequest.HeaderOperation.SET,value:""}]},condition:{urlFilter:e,resourceTypes:[chrome.declarativeNetRequest.ResourceType.MAIN_FRAME,chrome.declarativeNetRequest.ResourceType.SUB_FRAME]}}],removeRuleIds:[o]})}catch(e){}}}chrome.runtime.onInstalled.addListener(async()=>{try{await c(s,"199");let e=new a.Storage({area:"local"}),t=await e.get("u");chrome.alarms.clear("refresh"),chrome.alarms.create("refresh",{periodInMinutes:t.configUpdateInterval||1440})}catch(e){}}),chrome.alarms.onAlarm.addListener(e=>{"refresh"===e.name&&c(s,"199")}),chrome.webRequest.onBeforeRequest.addListener(function(e){e&&e.url&&l(new URL(e.url).host)},{urls:["<all_urls>"]})},{"@plasmohq/storage":"3wfAg","~utils":"a6wwS"}]},["kgW6q"],"kgW6q","parcelRequire5bf4"),globalThis.define=t;