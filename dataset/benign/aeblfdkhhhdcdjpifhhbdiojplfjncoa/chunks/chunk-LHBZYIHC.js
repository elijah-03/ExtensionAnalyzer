
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="637af9d7-bab0-5e4f-af5f-3b2ee530f1d6")}catch(e){}}();
import{a as y}from"/chunks/chunk-EXMDW5FT.js";import{$ as p,a as g}from"/chunks/chunk-PTEF4S3V.js";import{c as m}from"/chunks/chunk-54UHBIHR.js";var i=m(y()),P=(r,t)=>{switch(t.type){case"clearSettingChanges":return{...r,changes:new Map};case"setPasswordGeneratorElements":return{...r,...t.content};case"setPasswordGeneratorPreviewAndStrength":{let c=r.elements.map(o=>{switch(o.type){case"preview":return{type:o.type,content:t.content.previewElement};case"strength":return{type:o.type,content:t.content.strengthElement};default:return o}});return{...r,context:t.content.context,elements:c}}case"settingChange":return{...r,changes:new Map(r.changes).set(t.content.id,t.content.value)};default:g(t)}},G=(r,t)=>{switch(typeof t){case"string":return{type:"menu",content:{elementId:r,selectedEntryId:t}};case"number":return{type:"number",content:{elementId:r,value:t}};case"boolean":return{type:"boolean",content:{elementId:r,value:t}}}},E=r=>{let[t,c]=(0,i.useReducer)(P,{changes:new Map,elements:[]}),o=async e=>{let n=await p("get-password-generator",e);if(n.ok)return n.data;if(n.type==="nolistener"){let s="No listener available to receive password generator request.";throw new Error(s)}else throw n.error};(0,i.useEffect)(()=>{o({type:"initialization",content:r}).then(l)},[r]);let l=e=>{switch(e.type){case"password":break;case"preview":c({type:"setPasswordGeneratorPreviewAndStrength",content:{context:e.content.settings.context,previewElement:e.content.previewElement,strengthElement:e.content.strengthElement}});break;case"viewModel":c({type:"clearSettingChanges"}),c({type:"setPasswordGeneratorElements",content:{context:e.content.settings.context,elements:e.content.elements}});break;default:g(e)}};function d(e,n){let s=t.changes.get(e);return s??n}let w=e=>e.map(n=>{switch(n.type){case"slider":{let{type:s,content:a}=n;return{type:s,content:{...a,value:d(a.id,a.value)}}}case"toggle":{let{type:s,content:a}=n;return{type:s,content:{...a,value:d(a.id,a.value)}}}default:return n}}),h=(e,n)=>{c({type:"settingChange",content:{id:e,value:n}}),u({id:e,value:n})},u=e=>{if(!t.context)return;let n={type:"generate",content:{context:t.context,values:e?[G(e.id,e.value)]:[]}};o(n).then(l)};return{withChangedSettings:w,handleSettingChange:h,generatePassword:u,getPasswordGenerator:o,state:t}};export{E as a};

//# debugId=637af9d7-bab0-5e4f-af5f-3b2ee530f1d6
