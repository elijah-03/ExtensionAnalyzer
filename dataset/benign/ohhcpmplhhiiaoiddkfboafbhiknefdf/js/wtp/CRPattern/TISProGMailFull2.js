function TSWMGmailFull2FilterContentEditable(e){for(var t=e.parentNode,a=0;t&&a++<10;){if(t.tagName&&"DIV"==t.tagName.toUpperCase()&&t.attributes.contenteditable&&"true"==t.attributes.contenteditable.value)return!0;t=t.parentNode}return!1}function TSWMMGmailShowRatingResultUI(){var e=this.level;return g_oRatingLevel[e]!=g_oImgDefine.Safe&&g_oRatingLevel[e]!=g_oImgDefine.Neutral&&g_oRatingLevel[e]!=g_oImgDefine.Trusted}function TSWMGmailFetchTargetURL(e,t){if("http://www.google.com/url?q="==t.substr(0,28))return decodeURIComponent(t.substr(28,t.indexOf("&",28)-28));if("https://www.google.com/url?q="==t.substr(0,29))return decodeURIComponent(t.substr(29,t.indexOf("&",29)-29));if(pGoogle=/(^google\.)|(\.google\.)|(\/google\.)/,t&&(t.indexOf(".google.")>0||pGoogle.test(t)))return"";var a=new RegExp("^(http|https|ftp|ftps)://","i"),r=new RegExp("^(http|https)://"+e,"i");return a.test(t)&&!r.test(t)?t:""}function TSWMGmailParseAdv(e){var t=new CreateTSRLocatedObject(null,null,"div",null);t.appendAttribute("class","^vb"),t.multiMatches=!0;var a=new CreateTSRLocatedObject(e,t,"div",null);a.appendAttribute("class","^oM");var r=a.findElement();if(r)for(var l=GetAllTSRLocatedNodes(r),n=0;n<l.length;n++){var i=l[n],o=i.firstChild?i.firstChild:null;if(o){var s=o.href,u=i.getAttribute("Rate");u&&"1"==u||(i.setAttribute("Rate","1"),CreateTSRResultObject(i.firstChild,s,null))}}}function TSWMGmailParseBottomAdv(e){var t=new CreateTSRLocatedObject(e,null,"div",null);t.appendAttribute("class","^Zs"),t.multiMatches=!0;var a=t.findElement();if(a)for(var r=GetAllTSRLocatedNodes(a),l=0;l<r.length;l++){var n=r[l],i=n.firstChild?n.firstChild:null;if(i){var o=i.firstChild.href,s=n.getAttribute("Rate");s&&"1"==s||(n.setAttribute("Rate","1"),CreateTSRResultObject(n.firstChild.firstChild,o,null))}}}function TSWMGmailParseResult(e){var t,a=new CreateTSRLocatedObject(null,null,"A",null);if(t=new CreateTSRLocatedObject(e,a,"BODY",null).findElement())for(var r=GetAllTSRLocatedNodes(t),l=e.location.host,n=0;n<r.length;n++){var i=TSWMGmailFetchTargetURL(l,r[n].href),o=r[n];if(0!=i.length&&(!(o.parentNode&&o.parentNode.tagName&&o.parentNode.className&&"LI"==o.parentNode.tagName.toUpperCase())||"GBT"!=o.parentNode.className.toUpperCase()&&"GBMTC"!=o.parentNode.className.toUpperCase())){var s=r[n].getAttribute("Rate");s&&"1"==s||(r[n].setAttribute("Rate","1"),TSWMGmailFull2FilterContentEditable(r[n])||CreateTSRResultObject(r[n],i,null,TSWMMGmailShowRatingResultUI))}}}function TSRParse(){var e=g_oEnv.Parser.iResultNumber;return TSWMGmailParseResult(document),TSWMGmailParseAdv(document),TSWMGmailParseBottomAdv(document),TrendMicro.TB.ReduceNewNode(e+1),g_oEnv.Parser.rgobjSearchResult}g_bIsNeedCheckSPan=!0,TSRTagFlowID();