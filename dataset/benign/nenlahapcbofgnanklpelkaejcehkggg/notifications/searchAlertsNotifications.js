import{L as f}from"../chunks/chunk-2PV5HFH3.js";import{a as b}from"../chunks/chunk-PFBRUDBV.js";import{b as v}from"../chunks/chunk-BDOU7XT6.js";import"../chunks/chunk-AGWLSUX4.js";import{a as h}from"../chunks/chunk-IPZXBZPC.js";import{c as p}from"../chunks/chunk-D3B67B3M.js";import{q as u}from"../chunks/chunk-KJBXKQ52.js";import{h as m}from"../chunks/chunk-4XUWKJYA.js";import"../chunks/chunk-QWQLNDJC.js";import{F as r,z as S}from"../chunks/chunk-K2PA57PF.js";import"../chunks/chunk-ECXCPAF6.js";import"../chunks/chunk-CBPLEXH3.js";import"../chunks/chunk-AYDLOBCW.js";import"../chunks/chunk-JENJKWHP.js";import"../chunks/chunk-53OM6ECF.js";import"../chunks/chunk-KUOYBGP4.js";import"../chunks/chunk-PDIOZR2P.js";import"../chunks/chunk-WO6N5TBT.js";import"../chunks/chunk-BTBTC4NL.js";import{e as t}from"../chunks/chunk-3GYLW4KZ.js";var d=t(S()),y=t(b());var o=t(r());function k({onActivated:e,closeModal:a,offer:s}){let[n,l]=(0,d.useState)(!0),C=(0,y.useSpinDelay)(n);return(0,o.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-black bg-opacity-50",children:(0,o.jsxs)("div",{className:"relative w-[450px] h-[500px] bg-white",children:[(0,o.jsx)("button",{onClick:()=>{f({name:"su_modal_v1",type:"su_modal_v1_dismiss"}),a()},"aria-label":"Close",className:"absolute top-2 right-2 p-2",children:(0,o.jsx)(p,{className:"h-4 w-4"})}),C&&(0,o.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,o.jsx)(h,{className:"w-6 h-6"})}),(0,o.jsx)(v,{closeModal:a,onLoadComplete:O=>{l(!1)},onSignUpComplete:e,iframeLandingPagePath:"/lp/signup/embed/search-alerts",requestPayload:{offer:s}})]})})}function i({onActivated:e,offer:a}){let[s,n]=(0,d.useState)(!0);function l(){n(!1),chrome.runtime.sendMessage({type:"embeddedSignUpCookieRevertSameSiteProperty"})}if(s)return f({name:"su_modal_attempt_v1"}),(0,o.jsx)(k,{onActivated:e,closeModal:l,offer:a})}var P=t(r()),c=m.select("searchAlertsOrder");function N(e){return!!e&&typeof e=="object"&&e!==null&&"key"in e&&"tld"in e}function g(){let e=c.get();N(e)&&(u({appName:"searchAlertsActivationNotification",app:(0,P.jsx)(i,{offer:e}),blankSlate:!0}),c.off("update",g))}function A(){c.on("update",g)}document.readyState!=="loading"?A():document.addEventListener("DOMContentLoaded",A);
