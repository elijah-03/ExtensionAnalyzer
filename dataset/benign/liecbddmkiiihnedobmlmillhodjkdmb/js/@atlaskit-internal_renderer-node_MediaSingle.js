/*! For license information please see @atlaskit-internal_renderer-node_MediaSingle.js.LICENSE.txt */

!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b8c5c8ea-345e-55d8-a67a-13f400986edd")}catch(e){}}();
(self.webpackChunk_loomhq_chrome_extension=self.webpackChunk_loomhq_chrome_extension||[]).push([[69878],{24620:(e,t,i)=>{"use strict";i.d(t,{A:()=>v});var n=i(87584),r=i(24672),a=i(92860),o=i(98674),d=i(79400),l=i.n(d),s=i(60906),u=i(9375),c=i(9e4),h=24;i(81723);var f=i(17206),p=i(5236);function v(e){var t=e.layout,i=e.width,d=e.height,v=e.containerWidth,g=void 0===v?i:v,m=e.isLoading,w=void 0!==m&&m,x=e.pctWidth,y=e.size,_=e.className,A=e.children,b=e.nodeType,E=void 0===b?"mediaSingle":b,I=e.fullWidthMode,C=e.lineLength,S=e.hasFallbackContainer,M=void 0===S||S,L=e.handleMediaSingleRef,T=e.isInsideOfInlineExtension,W=void 0!==T&&T,k=e.dataAttributes,O="pixel"===(null==y?void 0:y.widthType),j=(null==y?void 0:y.width)||x,D=a.Children.toArray(A);!j&&(0,f.F4)(t,i,C)&&(j=O?C/2:50);var F,z,R=void 0===i;if(j){var N=function(e,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return"pixel"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"percentage")?e:Math.ceil((t+i)*(e/100)-i)}(j,C,null==y?void 0:y.widthType,h);R?i=N-s.ed:void 0!==i&&(d=d/i*N,i=N)}else R&&(i=s.sD-s.ed);R?F=d:void 0!==i&&(z="".concat((d/i*100).toFixed(3),"%"),"embedCard"===E&&(z="calc(".concat(z," + 32px)")));var q=(0,r.A)(D,2),B=q[0],P=q[1];return(0,o.jsx)("div",(0,n.A)({ref:L,css:(0,p.$x)({width:i,layout:t,containerWidth:g,mediaSingleWidth:j,fullWidthMode:I,isExtendedResizeExperienceOn:O,isInsideOfInlineExtension:W,nodeType:E})},(0,u.fg)("platform_editor_fix_image_size_diff_during_ssr")?{}:{"data-layout":t},{"data-width":j,"data-width-type":(null==y?void 0:y.widthType)||"percentage","data-node-type":E,"data-vc":"media-single",className:l()("rich-media-item mediaSingleView-content-wrap","image-".concat(t),_,{"is-loading":w,"rich-media-wrapped":"wrap-left"===t||"wrap-right"===t})},k,c.Pj),(0,o.jsx)(p.mh,{hasFallbackContainer:M,height:F,paddingBottom:z},B),P)}},79400:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=o(e,a(i)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=o(t,i));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},97044:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A,getMediaContainerWidth:()=>y});var n=i(87584),r=i(24672),a=i(92860),o=i(98674),d=i(5063),l=i(24620),s=i(95674),u=i(60906),c=i(62084),h=i(9375),f=i(2551),p=i(72833),v=i(95492),g=(0,o.css)({transition:"all 0.1s linear"}),m=(0,o.css)({marginLeft:"50%",transform:"translateX(-50%)"}),w=function(e){if(!e)return!1;var t=e.props||{},i=t.nodeType,n=t.type;return"media"===i||["external","file","link"].indexOf(n)>=0},x=function(e){var t=a.Children.toArray(e),i=(0,r.A)(t,1)[0];return i&&!w(i)&&i.props.children?x(i.props.children):i},y=function(e,t){if(!e)switch(t){case"full-width":return u.xD;case"wide":return u.r_;default:return u.xI}return e},_=function(e){var t=e.rendererAppearance,i=e.featureFlags,n=e.isInsideOfBlockNode,d=e.layout,w=e.width,x=e.widthType,_=e.allowCaptions,A=void 0!==_&&_,b=e.isInsideOfInlineExtension,E=void 0!==b&&b,I=e.dataAttributes,C=e.media,S=e.caption,M=e.editorAppearance,L=a.useState({width:0,height:0}),T=(0,r.A)(L,2),W=T[0],k=T[1],O=a.useRef(null),j=a.useCallback((function(e){var t=e.width,i=e.height;k({width:t,height:i})}),[]),D=C.props,F=D.width,z=void 0===F?250:F,R=D.height,N=void 0===R?200:R;if("external"===D.type){var q=W.width,B=W.height;null===z&&(z=q||250),null===N&&(N=B||200)}null===z&&(z=250,N=200);var P="full-page"===t,H="full-width"===t,V=P?2*f.g:0,X=(0,a.useCallback)((function(e){var i=y(e,d),r=(0,c.f)()&&w&&"number"==typeof w&&(0,h.fg)("platform_editor_fix_image_size_diff_during_ssr")?Math.max(w,i):i,a=N/z*r,o={width:"".concat(r,"px"),height:"".concat(a,"px")},l=i;n||"comment"===t||(l=i-V>=u.xI?u.xI:i-V);var s=Math.min(u.xD,i-V);return{cardDimensions:o,lineLength:H?s:l}}),[N,H,n,d,V,t,z,w]),$=(0,a.useMemo)((function(){return{width:z,height:N}}),[N,z]),G=(0,p.Wu)().setHoverTarget,J=(0,v.dN)(),K=J.cancelTimeout,Q=J.initiateTimeout,U=J.setIsWithinRange,Y=P||H;(0,a.useEffect)((function(){var e=O.current,t=function(e){K(),0===e.buttons&&(G&&G(e.target),U(!0))},i=function(){Q()};return e&&Y&&(e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",i)),function(){e&&Y&&(e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",i))}}),[G,Y,K,Q,U]);var Z,ee,te=(0,a.useContext)(s.Sb).width,ie=y(te,d),ne=(0,a.useMemo)((function(){return X(ie)}),[X,ie]),re=ne.cardDimensions,ae=ne.lineLength;return Z=a.cloneElement(C,{resizeMode:"stretchy-fit",cardDimensions:re,originalDimensions:$,onExternalImageLoaded:j,disableOverlay:!0,featureFlags:i,mediaSingleElement:O.current}),ee="full-width"===d||"wide"===d?[g,m]:[g],(0,o.jsx)(l.A,{css:ee,handleMediaSingleRef:O,layout:d,width:z,height:N,lineLength:n?ie:ae,containerWidth:ie,size:{width:w,widthType:x},fullWidthMode:H,isInsideOfInlineExtension:E,dataAttributes:I,editorAppearance:M},(0,o.jsx)(a.Fragment,null,Z),A&&S)};const A=(0,d.Ay)((function(e){var t,i=e.children,d=a.Children.toArray(i),l=(0,r.A)(d,2),s=l[0],u=l[1];if(w(s))t=s;else{var c=x(s.props.children);if(!c)return s;t=c}return(0,o.jsx)(_,(0,n.A)({},e,{media:t,caption:u}))}))}}]);
//# sourceMappingURL=@atlaskit-internal_renderer-node_MediaSingle.js.map
//# debugId=b8c5c8ea-345e-55d8-a67a-13f400986edd
