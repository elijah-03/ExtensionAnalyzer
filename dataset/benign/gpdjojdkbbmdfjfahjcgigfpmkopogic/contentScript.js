(()=>{(()=>{var Wt={531:function(z,H){var O,se,w;(function(Z,Q){if(!0)se=[z],O=Q,w=typeof O=="function"?O.apply(H,se):O,w!==void 0&&(z.exports=w);else var ie})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(Z){var Q,ie;if(!((ie=(Q=globalThis.chrome)==null?void 0:Q.runtime)!=null&&ie.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser=="undefined"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const Ce="The message port closed before a response was received.",Ne=D=>{const J={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(J).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class Ae extends WeakMap{constructor(g,h=void 0){super(h),this.createItem=g}get(g){return this.has(g)||this.set(g,this.createItem(g)),super.get(g)}}const Me=E=>E&&typeof E=="object"&&typeof E.then=="function",we=(E,g)=>(...h)=>{D.runtime.lastError?E.reject(new Error(D.runtime.lastError.message)):g.singleCallbackArg||h.length<=1&&g.singleCallbackArg!==!1?E.resolve(h[0]):E.resolve(h)},re=E=>E==1?"argument":"arguments",Je=(E,g)=>function(_,...x){if(x.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${re(g.minArgs)} for ${E}(), got ${x.length}`);if(x.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${re(g.maxArgs)} for ${E}(), got ${x.length}`);return new Promise((C,N)=>{if(g.fallbackToNoCallback)try{_[E](...x,we({resolve:C,reject:N},g))}catch(f){console.warn(`${E} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,f),_[E](...x),g.fallbackToNoCallback=!1,g.noCallback=!0,C()}else g.noCallback?(_[E](...x),C()):_[E](...x,we({resolve:C,reject:N},g))})},Fe=(E,g,h)=>new Proxy(g,{apply(_,x,C){return h.call(x,E,...C)}});let K=Function.call.bind(Object.prototype.hasOwnProperty);const oe=(E,g={},h={})=>{let _=Object.create(null),x={has(N,f){return f in E||f in _},get(N,f,M){if(f in _)return _[f];if(!(f in E))return;let P=E[f];if(typeof P=="function")if(typeof g[f]=="function")P=Fe(E,E[f],g[f]);else if(K(h,f)){let G=Je(f,h[f]);P=Fe(E,E[f],G)}else P=P.bind(E);else if(typeof P=="object"&&P!==null&&(K(g,f)||K(h,f)))P=oe(P,g[f],h[f]);else if(K(h,"*"))P=oe(P,g[f],h["*"]);else return Object.defineProperty(_,f,{configurable:!0,enumerable:!0,get(){return E[f]},set(G){E[f]=G}}),P;return _[f]=P,P},set(N,f,M,P){return f in _?_[f]=M:E[f]=M,!0},defineProperty(N,f,M){return Reflect.defineProperty(_,f,M)},deleteProperty(N,f){return Reflect.deleteProperty(_,f)}},C=Object.create(E);return new Proxy(C,x)},le=E=>({addListener(g,h,..._){g.addListener(E.get(h),..._)},hasListener(g,h){return g.hasListener(E.get(h))},removeListener(g,h){g.removeListener(E.get(h))}}),fe=new Ae(E=>typeof E!="function"?E:function(h){const _=oe(h,{},{getContent:{minArgs:0,maxArgs:0}});E(_)}),Re=new Ae(E=>typeof E!="function"?E:function(h,_,x){let C=!1,N,f=new Promise(q=>{N=function(U){C=!0,q(U)}}),M;try{M=E(h,_,N)}catch(q){M=Promise.reject(q)}const P=M!==!0&&Me(M);if(M!==!0&&!P&&!C)return!1;const G=q=>{q.then(U=>{x(U)},U=>{let ce;U&&(U instanceof Error||typeof U.message=="string")?ce=U.message:ce="An unexpected error occurred",x({__mozWebExtensionPolyfillReject__:!0,message:ce})}).catch(U=>{console.error("Failed to send onMessage rejected reply",U)})};return G(P?M:f),!0}),Ue=({reject:E,resolve:g},h)=>{D.runtime.lastError?D.runtime.lastError.message===Ce?g():E(new Error(D.runtime.lastError.message)):h&&h.__mozWebExtensionPolyfillReject__?E(new Error(h.message)):g(h)},Le=(E,g,h,..._)=>{if(_.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${re(g.minArgs)} for ${E}(), got ${_.length}`);if(_.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${re(g.maxArgs)} for ${E}(), got ${_.length}`);return new Promise((x,C)=>{const N=Ue.bind(null,{resolve:x,reject:C});_.push(N),h.sendMessage(..._)})},qe={devtools:{network:{onRequestFinished:le(fe)}},runtime:{onMessage:le(Re),onMessageExternal:le(Re),sendMessage:Le.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:Le.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Y={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return J.privacy={network:{"*":Y},services:{"*":Y},websites:{"*":Y}},oe(D,qe,J)};Z.exports=Ne(chrome)}else Z.exports=globalThis.browser})}},Ze={};function Qe(z){var H=Ze[z];if(H!==void 0)return H.exports;var O=Ze[z]={exports:{}};return Wt[z].call(O.exports,O,O.exports,Qe),O.exports}var Ca={};(()=>{"use strict";var z=(e=>(e.PRODUCTION="production",e.DEVELOPMENT="development",e))(z||{}),H=(e=>(e.SAFARI="safari",e.CHROME="chrome",e.CHROME_GROWTH="chrome_growth",e.EDGE="edge",e.FIREFOX="firefox",e))(H||{}),O=(e=>(e[e.API_REQUEST=0]="API_REQUEST",e[e.LIFECYCLE_EVENT=1]="LIFECYCLE_EVENT",e))(O||{}),se=(e=>(e[e.SHOW_SIDEBAR_APP=0]="SHOW_SIDEBAR_APP",e[e.UNLOAD_SIDEBAR_APP=1]="UNLOAD_SIDEBAR_APP",e[e.SETUP_OATH_FLOW=2]="SETUP_OATH_FLOW",e[e.CHECK_OAUTH_STATE=3]="CHECK_OAUTH_STATE",e[e.KEEP_ALIVE_PING=4]="KEEP_ALIVE_PING",e))(se||{}),w=(e=>(e[e.TOGGLE_SIDEBAR_APP=0]="TOGGLE_SIDEBAR_APP",e[e.SHOW_SIDEBAR_APP=1]="SHOW_SIDEBAR_APP",e[e.UNLOAD_SIDEBAR_APP=2]="UNLOAD_SIDEBAR_APP",e[e.HANDLE_CONTEXT_MENU_SAVE_ACTION=3]="HANDLE_CONTEXT_MENU_SAVE_ACTION",e[e.KEEP_ALIVE_PONG=4]="KEEP_ALIVE_PONG",e))(w||{}),Z=(e=>(e[e.MOUNT_SAVEPICKER_APP=0]="MOUNT_SAVEPICKER_APP",e[e.MOUNT_SIDEBAR_APP=1]="MOUNT_SIDEBAR_APP",e))(Z||{}),Q=(e=>(e[e.FETCH_CONFIG=0]="FETCH_CONFIG",e[e.FETCH_USER=1]="FETCH_USER",e[e.FETCH_BOARDS=2]="FETCH_BOARDS",e[e.FETCH_BOARD_SECTIONS=3]="FETCH_BOARD_SECTIONS",e[e.FETCH_EXPERIMENT=4]="FETCH_EXPERIMENT",e[e.CREATE_BOARD=5]="CREATE_BOARD",e[e.CREATE_BOARD_SECTION=6]="CREATE_BOARD_SECTION",e[e.CREATE_OR_REPIN_PIN=7]="CREATE_OR_REPIN_PIN",e[e.CREATE_LOGS=8]="CREATE_LOGS",e[e.LOG_EVENT=9]="LOG_EVENT",e[e.FETCH_EXTENSION_SETTINGS=10]="FETCH_EXTENSION_SETTINGS",e[e.UPDATE_EXTENSION_SETTINGS=11]="UPDATE_EXTENSION_SETTINGS",e[e.REPORT_BUG=12]="REPORT_BUG",e[e.FETCH_EXPERIENCES=13]="FETCH_EXPERIENCES",e[e.UPDATE_EXPERIENCES=14]="UPDATE_EXPERIENCES",e[e.REVOKE_OAUTH_TOKEN=15]="REVOKE_OAUTH_TOKEN",e[e.CLEAR_BACKGROUND_STATE=16]="CLEAR_BACKGROUND_STATE",e))(Q||{}),ie=(e=>(e.SUCCESS="success",e.WAITING="waiting",e))(ie||{}),Ce=(e=>(e.PUBLIC="public",e.SECRET="secret",e))(Ce||{}),Ne=(e=>(e[e.SignIn=0]="SignIn",e[e.ImagePicker=1]="ImagePicker",e[e.BoardPicker=2]="BoardPicker",e[e.BoardCreate=3]="BoardCreate",e[e.BoardSectionPicker=4]="BoardSectionPicker",e[e.BoardSectionCreate=5]="BoardSectionCreate",e[e.PinCreate=6]="PinCreate",e[e.ReportBug=7]="ReportBug",e[e.Settings=8]="Settings",e[e.ErrorBannedDomain=9]="ErrorBannedDomain",e[e.ErrorNoPinDomain=10]="ErrorNoPinDomain",e))(Ne||{}),D=(e=>(e[e.FROM_CONTEXT_MENU=0]="FROM_CONTEXT_MENU",e[e.FROM_PRIMARY_ACTION_BUTTON=1]="FROM_PRIMARY_ACTION_BUTTON",e[e.FROM_SAVE_PICKER=2]="FROM_SAVE_PICKER",e))(D||{}),J=(e=>(e[e.BANNED_DOMAIN=0]="BANNED_DOMAIN",e[e.NO_PIN_DOMAIN=1]="NO_PIN_DOMAIN",e))(J||{});const Ae="pinterest-save-extension",Me="https://help.pinterest.com/en/save-extension/oauth-access-token",we=null,re={[D.FROM_CONTEXT_MENU]:"context_menu",[D.FROM_PRIMARY_ACTION_BUTTON]:"pinterest_button",[D.FROM_SAVE_PICKER]:"hover"},Je=2048,Fe=1447723,K=/^https?:\/\/([a-z]*\.|)pinterest\.(at|(c(a|h|l|o(\.(kr|uk)|m(|\.(au|mx)))))|d(e|k)|es|fr|i(e|t)|jp|nz|p(h|t)|se|ru)\//,oe="https://pinterest.com",le=/pin\/(\d+|[0-9a-zA-Z\-_]{40,})(\/\?.*)?/,fe=new RegExp(K.source+le.source),Re=e=>e&&e.match(fe),Ue={allowPinterestRepinning:!1,allowWhatsApp:!1},Le=".pinterest.com",qe={cctld:"/secure/autologin/"},Y=10,E=250,g=[/^https?:\/\/mail\.aol\.com\//,/^https?:\/\/(.*?\.|)atmail\.com\//,/^https?:\/\/(.*?\.|)contactoffice\.com\//,/^https?:\/\/(.*?\.|)fastmail\.fm\//,/^https?:\/\/(.*?\.|)webmail\.gandi\.net\//,/^https?:\/\/outlook\.live\.com\//,/^https?:\/\/(.*?\.|)mail\.live\.com\//,/^https?:\/\/post\.pinterest\.com\//,/^https?:\/\/mail\.ukr\.net\//,/^https?:\/\/outlook\.office\.com\//,/^https?:\/\/mail\.google\.com\//,/^https?:\/\/inbox\.google\.com\//,/^https?:\/\/(.*?\.|)hushmail\.com\//,/^https?:\/\/(.*?\.|)laposte\.fr\//,/^https?:\/\/mail\.lycos\.com\//,/^https?:\/\/(.*?\.|)mail\.com\//,/^https?:\/\/(.*?\.|)mail\.ru\//,/^https?:\/\/(.*?\.|)opolis\.eu\//,/^https?:\/\/(.*?\.|)outlook\.com\//,/^https?:\/\/(.*?\.|)nokiamail\.com\//,/^https?:\/\/apps\.rackspace\.com\//,/^https?:\/\/mail\.rediff\.com\//,/^https?:\/\/(.*?\.|)runbox\.com\//,/^https?:\/\/mail\.sify\.com\//,/^https?:\/\/webmail\.thexyz\.com\//,/^https?:\/\/login\.yahoo\.com\//,/^https?:\/\/mail\.yahoo\.com\//,/^https?:\/\/mail\.yandex\.com\//],h=/^https?:\/\//,_=["png","jpg","jpeg","gif","webp"],x=new RegExp(`^data:image\\/(${_.join("|")});base64`),C=new RegExp(`^image\\/(${_.join("|")})$`),N=/^blob:/,M=[...[/^https?:\/\/(.*?\.|)craigslist\.org\//,/^https?:\/\/(.*?\.|)chase\.com\//,/^https?:\/\/plus\.google\.com\//,/^https?:\/\/accounts\.google\.com\//,/^https?:\/\/myaccount\.google\.com\//,/^https?:\/\/docs\.google\.com\//,/^https?:\/\/gmx\.com\//],...g],P=[/08fb2eb6424d/,/1529ad2b2cc8/,/1847807c0ea1/,/1d1d5ffa1d50/,/20c46b653b00/,/25f7c9982cea/,/293aa4f9b3d0/,/32aa39d04eb4/,/415215dcadbf/,/540b2374abf1/,/6f145d4255cf/,/71c1f4783e6d/,/79f57d83d54a/,/820a6e7baa0f/,/85ae87da6618/,/871de03c9980/,/8c2d5961f7af/,/8de5d416e5d2/,/95fa195f8b6a/,/9e2089d8b8f2/,/cefdc93047b7/,/dbafdf055617/,/eefa602a72ed/,/efa3a2deb839/],G="0123456789abcdef",q=e=>e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514,U=e=>{const t=Array(e.length>>2);for(let n=0;n<t.length;n++)t[n]=0;for(let n=0;n<e.length*8;n+=8)t[n>>5]|=(e.charCodeAt(n/8)&255)<<24-n%32;return t},ce=e=>{let t="";for(let n=0;n<e.length*32;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t},V=(e,t)=>{const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535},ke=(e,t)=>e<<t|e>>>32-t,Xt=(e,t,n,u)=>e<20?t&n|~t&u:e<40?t^n^u:e<60?t&n|t&u|n&u:t^n^u,Zt=(e,t)=>{e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;const n=Array(80);let u=1732584193,a=-271733879,s=-1732584194,i=271733878,o=-1009589776;for(let r=0;r<e.length;r+=16){const c=u,m=a,A=s,l=i,d=o;for(let p=0;p<80;p++){p<16?n[p]=e[r+p]:n[p]=ke(n[p-3]^n[p-8]^n[p-14]^n[p-16],1);const B=V(V(ke(u,5),Xt(p,a,s,i)),V(V(o,n[p]),q(p)));o=i,i=s,s=ke(a,30),a=u,u=B}u=V(u,c),a=V(a,m),s=V(s,A),i=V(i,l),o=V(o,d)}return[u,a,s,i,o]},Qt=e=>ce(Zt(U(e),e.length*8)),Jt=e=>{let t="";for(let n=0;n<e.length;n++){const u=e.charCodeAt(n);t=t+G.charAt(u>>>4&15)+G.charAt(u&15)}return t};function et(e){return Jt(Qt(e))}function he({currentConfig:e,pinmarkletDebugger:t,str:n}){return e.sha||(t("setting up hash repo"),e.sha={}),e.sha[n]||(e.sha[n]=et(n)),e.sha[n]}function tt({currentUrl:e}){return M.find(t=>e.match(t))}function nt(e){const t=e.split("/");let n=[];if(t[2]){const u=t[2].split(".");if(u.length>1){const a=[...u].reverse();n=a.map((s,i)=>i===0?null:[...a.slice(0,i),s].reverse().join(".")).filter(Boolean)}}return n}function ut({currentUrl:e}){return tt({currentUrl:e})?!1:!nt(e).find(u=>{const a=et(u);return P.find(s=>a.match(s))})}function qt({currentConfig:e,currentUrl:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return tt({currentUrl:t})?(u({reason:"disallowed_domain_list_match"}),!1):!nt(t).find(i=>{const o=he({currentConfig:e,str:i,pinmarkletDebugger:n});return P.find(r=>o.match(r))})}function en(e){console.log(`%cP%c ${e}`,"color:#fff;background:#E60023;font-weight:bold;border-radius:2px;display:inline-block;padding:0 4px;","")}function Na(e,t){t?console.timeEnd(e):console.time(e)}const F={PIN_CREATE:1,VIEW:13,BOARD_CREATE:20,USER_FOLLOW:45,CLICK:101,SAVE_BROWSER_PIN_IMAGES_REQUESTED:14563,SAVE_BROWSER_PIN_IMAGES_FOUND:2900,SAVE_BROWSER_PIN_IMAGES_NOT_FOUND:2901,PIN_CREATE_FAILURE:7564,PIN_CREATE_ATTEMPTED:14564,USER_ACTIVE:7137,INSTALL:8219,BROWSER_SESSION:8221,UPDATE:8222,BROWSER_EXTENSION_BOOKMARKS_FOUND:9001,BROWSER_EXTENSION_BOOKMARKS_CREATE_SUCCESS:9002,OFFSITE_SAVE_ENTER:14703,OFFSITE_SAVE_BOARDS_LOADED:15401,OFFSITE_SAVE_BOARDS_NOT_LOADED:15402,USER_LOGIN_SUCCESS:38,USER_LOGIN_FAILED:39,USER_LOGIN_ATTEMPT:50,USER_LOGOUT_SUCCESS:8112},at={BOARD_PICKER:21,VISUAL_SEARCH:43,BROWSER_EXTENSION:192,IMAGE_PICKER:268,CREATE_BOARD:269,PIN_CREATE_SUCCESS:270,FOLLOW_FROM_SAVE:271,FOLLOW_FROM_SAVE_SUCCESS:272,BOARD_SECTION_CREATE:274,BOARD_SECTION_PICKER:275,BROWSER_EXTENSION_OPTIONS:276,HOVER_BOARD_OPENER:277,HOVER_BOARD_PICKER:278,VISUAL_SEARCH_RESULTS:279,BROWSER_EXTENSION_REPORT_BUG:280,BOARD_PICKER_ALL_BOARDS:3989},de={PIN_BOARD:5,BOARD_COVER:36,BOARD_PICKER:67,CREATE_BUTTON:44,PIN_SAVE_BUTTON:48,NEXT_BUTTON:96,SECTION_COVER:11854,SAVE_BUTTON:12018,VISIT_BUTTON:12796,PRIMARY_ACTION_BUTTON:13004,SHARE_EXTENSION_IMAGE:701,PROFILE_AVATAR:1242},Ma={BROWSER_EXTENSION:8},wa={OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:7},Fa={VIEWING_IPS:0,FEATURE_ISSUE:1,PUBLISH_ISSUE:2,USER_COMPREHENSION:3,OTHER:4,BROWSER_EXTENSION_ISSUE:5};var $=Qe(531),tn=Object.defineProperty,st=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable,it=(e,t,n)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_e=(e,t)=>{for(var n in t||(t={}))nn.call(t,n)&&it(e,n,t[n]);if(st)for(var n of st(t))un.call(t,n)&&it(e,n,t[n]);return e};const rt=e=>{const{type:t,action:n,payload:u,onSuccess:a,onError:s}=e;$.runtime.sendMessage({type:t,action:n,payload:u}).then(i=>{i!=null&&i.error?s&&s(i.error):a&&a(i)},i=>{s&&s(i)})},je=({elementObjectTypes:e,elementValue:t})=>{var n;return((n=Object.entries(e).find(([,u])=>u===t))==null?void 0:n[0])||""},ot=({eventType:e,viewType:t,auxData:n,element:u,objectIdStr:a})=>{z.DEVELOPMENT==="production"&&en(`[CONTEXT_LOG] event:${je({elementObjectTypes:F,elementValue:e})} view:${je({elementObjectTypes:at,elementValue:t})} element:${je({elementObjectTypes:de,elementValue:u})} auxData:${n?JSON.stringify(n):""} pinId:${a||""}`);for(const s in n)(typeof n[s]=="number"||typeof n[s]=="boolean")&&(n[s]=String(n[s]));rt({type:O.API_REQUEST,action:Q.LOG_EVENT,payload:_e(_e(_e(_e({eventType:e},t&&{viewType:t}),u&&{element:u}),a&&{objectIdStr:a}),n&&{auxData:n})})},L=({eventType:e,viewType:t,auxData:n,element:u,objectIdStr:a})=>{ot({eventType:e,viewType:t,element:u,auxData:n,objectIdStr:a})},Ra=({eventType:e,viewType:t,auxData:n,element:u,objectIdStr:a})=>{ot({eventType:e,viewType:t,element:u,auxData:n,objectIdStr:a})},Ua=({tab:e,type:t,action:n,payload:u})=>{tabs.sendMessage(e,{type:t,action:n,payload:u})},lt=({element:e,action:t,payload:n})=>{e.postMessage({target:Ae,action:t,payload:n},"*")};function ee(){return[1e7,1e3,4e3,8e3,1e11].join("").replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}const dt=e=>document.cookie.split(";").reduce((t,n)=>{const u=n.trim().split("=");return u[0]===e?decodeURIComponent(u[1]):t},"");function an(){let e=dt("access_token");const t=dt("state"),n=ee();if(!e||!t||typeof e!="string"||e.length<10)return!1;e=e.replace(/"/g,""),$.runtime.sendMessage({type:O.LIFECYCLE_EVENT,action:se.SETUP_OATH_FLOW,payload:{accessToken:e,state:t}}).then(u=>{var a;((a=u==null?void 0:u.data)==null?void 0:a.status)===ie.SUCCESS&&(L({eventType:F.USER_LOGIN_SUCCESS,auxData:{funnel_uuid:n}}),window.close())},()=>{L({eventType:F.USER_LOGIN_FAILED,auxData:{funnel_uuid:n}})})}const sn=e=>e.toString().replace(/^(http:\/\/|https:\/\/)?([^/?#]*).*$/,"$2");var rn=Object.defineProperty,ct=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,mt=(e,t,n)=>t in e?rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t)=>{for(var n in t||(t={}))on.call(t,n)&&mt(e,n,t[n]);if(ct)for(var n of ct(t))ln.call(t,n)&&mt(e,n,t[n]);return e},dn=(e,t,n)=>new Promise((u,a)=>{var s=r=>{try{o(n.next(r))}catch(c){a(c)}},i=r=>{try{o(n.throw(r))}catch(c){a(c)}},o=r=>r.done?u(r.value):Promise.resolve(r.value).then(s,i);o((n=n.apply(e,t)).next())});const ze=["config","extensionSettings","boards"],cn={isSaveButtonInjected:!1,isSaveButtonDisplayed:!1,isAppIframeInjected:!1,isAppIframeDisplayed:!1,lastScrollTime:0,saveButton:{},appIframe:{}};function mn(e){let t=e;const n=()=>t,u=o=>{t=Et(Et({},t),o)},a=()=>{var o,r;(o=t.appIframeMutationObserver)==null||o.disconnect(),(r=t.saveButtonMutationObserver)==null||r.disconnect()};return{getContentScriptState:n,setContentScriptState:u,clearContentState:()=>{a(),t=e},clearAppIframeState:()=>{var o;t.isAppIframeInjected=e.isAppIframeInjected,t.isAppIframeDisplayed=e.isAppIframeDisplayed,(o=t.appIframeMutationObserver)==null||o.disconnect(),t.appIframeMutationObserver=e.appIframeMutationObserver,t.appIframe=e.appIframe}}}function En(){return dn(this,null,function*(){const e=yield $.storage.local.get(ze);for(const t of ze)if(t==="boards"){const n=(e[t]||[])[0];y({lastSavedToBoard:n})}else y({[t]:e[t]});$.storage.local.onChanged.addListener(t=>{const n=Object.keys(t);for(const u of ze)if(n.includes(u))if(u==="boards"){const a=(t[u].newValue||[])[0];y({lastSavedToBoard:a})}else y({[u]:t[u].newValue})})})}const{getContentScriptState:b,setContentScriptState:y,clearContentState:La,clearAppIframeState:gt}=mn(cn),gn={en:{noPinDomain:"Sorry, pinning is not allowed from this domain. Please contact the site operator if you have any questions.",noPinMeta:"Sorry, pinning is not allowed from this page. Please contact the site operator if you have any questions.",noPinnablesFound:"Sorry, couldn't find any pinnable things on this page."},cs:{noPinDomain:"Je n\xE1m l\xEDto. Z t\xE9to dom\xE9ny nen\xED mo\u017En\xE9 p\u0159id\xE1vat piny. S dotazy se obracejte na provozovatele webu.",noPinMeta:"Je n\xE1m l\xEDto. Z t\xE9to str\xE1nky nen\xED mo\u017En\xE9 p\u0159id\xE1vat piny. S dotazy se obracejte na provozovatele webu.",noPinnablesFound:"Je n\xE1m l\xEDto. Na t\xE9to str\xE1nce jsme nenalezli \u017E\xE1dn\xFD obsah, kter\xFD by bylo mo\u017En\xE9 p\u0159ipnout."},da:{noPinDomain:"Det er ikke muligt at tilf\xF8je pins fra dom\xE6net. Kontakt websitets ejer, hvis du har sp\xF8rgsm\xE5l.",noPinMeta:"Det er ikke tilladt at s\xE6tte pins op fra denne side. Kontakt websitets ejer, hvis du har sp\xF8rgsm\xE5l.",noPinnablesFound:"Der er ikke rigtigt noget at s\xE6tte op p\xE5 denne side."},de:{noPinDomain:"Es tut uns leid, aber von dieser Domain kann nichts gepinnt werden. Bitte kontaktiere den Website-Betreiber, falls du weitere Fragen hast.",noPinMeta:"Es tut uns leid, aber von dieser Seite kann nichts gepinnt werden. Bitte kontaktiere den Website-Betreiber, falls du weitere Fragen hast.",noPinnablesFound:"Es tut uns leid, aber wir konnten auf dieser Seite nichts finden, was du pinnen k\xF6nntest."},es:{noPinDomain:"Lo sentimos, no est\xE1 permitido pinear desde este dominio. Ponte en contacto con el operador del sitio si tienes alguna pregunta.",noPinMeta:"Lo sentimos, no est\xE1 permitido pinear desde esta p\xE1gina. Ponte en contacto con el operador del sitio si tienes alguna pregunta.",noPinnablesFound:"Lo sentimos, no hemos encontrado ning\xFAn elemento que se pueda pinear en esta p\xE1gina."},"es-mx":{noPinDomain:"Lamentablemente, no est\xE1 permitido pinear desde este dominio. Si quieres hacer consultas, comun\xEDcate con el operador del sitio.",noPinMeta:"Lamentablemente, no est\xE1 permitido pinear desde esta p\xE1gina. Si quieres hacer consultas, comun\xEDcate con el operador del sitio.",noPinnablesFound:"Lamentablemente, no se encontraron cosas para pinear en esta p\xE1gina."},el:{noPinDomain:"\u039B\u03C5\u03C0\u03AC\u03BC\u03B1\u03B9, \u03B4\u03B5\u03BD \u03B5\u03C0\u03B9\u03C4\u03C1\u03AD\u03C0\u03B5\u03C4\u03B1\u03B9 \u03C4\u03BF \u03BA\u03B1\u03C1\u03C6\u03AF\u03C4\u03C3\u03C9\u03BC\u03B1 \u03B1\u03C0\u03CC \u03B1\u03C5\u03C4\u03CC\u03BD \u03C4\u03BF\u03BD \u03C4\u03BF\u03BC\u03AD\u03B1. \u0395\u03C0\u03B9\u03BA\u03BF\u03B9\u03BD\u03C9\u03BD\u03AE\u03C3\u03C4\u03B5 \u03BC\u03B5 \u03C4\u03BF \u03B4\u03B9\u03B1\u03C7\u03B5\u03B9\u03C1\u03B9\u03C3\u03C4\u03AE \u03C4\u03B7\u03C2 \u03B9\u03C3\u03C4\u03BF\u03C3\u03B5\u03BB\u03AF\u03B4\u03B1\u03C2 \u03B1\u03BD \u03AD\u03C7\u03B5\u03C4\u03B5 \u03B1\u03C0\u03BF\u03C1\u03AF\u03B5\u03C2.",noPinMeta:"\u039B\u03C5\u03C0\u03AC\u03BC\u03B1\u03B9, \u03B4\u03B5\u03BD \u03B5\u03C0\u03B9\u03C4\u03C1\u03AD\u03C0\u03B5\u03C4\u03B1\u03B9 \u03C4\u03BF \u03BA\u03B1\u03C1\u03C6\u03AF\u03C4\u03C3\u03C9\u03BC\u03B1 \u03B1\u03C0\u03CC \u03B1\u03C5\u03C4\u03AE\u03BD \u03C4\u03B7 \u03C3\u03B5\u03BB\u03AF\u03B4\u03B1. \u0395\u03C0\u03B9\u03BA\u03BF\u03B9\u03BD\u03C9\u03BD\u03AE\u03C3\u03C4\u03B5 \u03BC\u03B5 \u03C4\u03BF \u03B4\u03B9\u03B1\u03C7\u03B5\u03B9\u03C1\u03B9\u03C3\u03C4\u03AE \u03C4\u03B7\u03C2 \u03B9\u03C3\u03C4\u03BF\u03C3\u03B5\u03BB\u03AF\u03B4\u03B1\u03C2 \u03B1\u03BD \u03AD\u03C7\u03B5\u03C4\u03B5 \u03B1\u03C0\u03BF\u03C1\u03AF\u03B5\u03C2.",noPinnablesFound:"\u039B\u03C5\u03C0\u03AC\u03BC\u03B1\u03B9, \u03B4\u03B5\u03BD \u03AE\u03C4\u03B1\u03BD \u03B4\u03C5\u03BD\u03B1\u03C4\u03AE \u03B7 \u03B5\u03CD\u03C1\u03B5\u03C3\u03B7 \u03C3\u03C4\u03BF\u03B9\u03C7\u03B5\u03AF\u03C9\u03BD \u03C0\u03BF\u03C5 \u03BC\u03C0\u03BF\u03C1\u03BF\u03CD\u03BD \u03BD\u03B1 \u03BA\u03B1\u03C1\u03C6\u03B9\u03C4\u03C3\u03C9\u03B8\u03BF\u03CD\u03BD \u03C3\u03B5 \u03B1\u03C5\u03C4\u03AE\u03BD \u03C4\u03B7 \u03C3\u03B5\u03BB\u03AF\u03B4\u03B1."},fi:{noPinDomain:"Et voi tehd\xE4 Pin-lis\xE4yksi\xE4 t\xE4st\xE4 verkkotunnuksesta. Jos sinulla on kysytt\xE4v\xE4\xE4, ota yhteytt\xE4 sivuston yll\xE4pit\xE4j\xE4\xE4n.",noPinMeta:"Et voi tehd\xE4 Pin-lis\xE4yksi\xE4 t\xE4lt\xE4 sivulta. Jos sinulla on kysytt\xE4v\xE4\xE4, ota yhteytt\xE4 sivuston yll\xE4pit\xE4j\xE4\xE4n.",noPinnablesFound:"Sivulta ei valitettavasti l\xF6ydy sis\xE4lt\xF6\xE4, jota voi lis\xE4t\xE4."},fr:{noPinDomain:"D\xE9sol\xE9, mais vous ne pouvez pas \xE9pingler les contenus de ce domaine. Pour toute question, veuillez contacter l'administrateur du site.",noPinMeta:"D\xE9sol\xE9, mais vous ne pouvez pas \xE9pingler les contenus de cette page. Pour toute question, veuillez contacter l'administrateur du site.",noPinnablesFound:"D\xE9sol\xE9, mais aucun contenu susceptible d'\xEAtre \xE9pingl\xE9 n'a \xE9t\xE9 trouv\xE9 sur cette page."},id:{noPinDomain:"Maaf, Anda tidak diizinkan mengepin dari domain ini. Hubungi operator situs jika Anda memiliki pertanyaan.",noPinMeta:"Maaf, Anda tidak diizinkan mengepin dari halaman ini. Silakan hubungi operator situs jika Anda memiliki pertanyaan.",noPinnablesFound:"Maaf, tidak ada yang bisa dipin dari halaman ini."},it:{noPinDomain:"Ci dispiace, ma l'aggiunta di Pin non \xE8 consentita da questo dominio. Se hai domande, contatta il gestore del sito.",noPinMeta:"Ci dispiace, ma l'aggiunta di Pin non \xE8 consentita da questa pagina. Se hai domande, contatta il gestore del sito.",noPinnablesFound:"Spiacenti, impossibile trovare immagini o video che \xE8 possibile aggiungere ai Pin in questa pagina."},hi:{noPinDomain:"\u0915\u094D\u0937\u092E\u093E \u0915\u0930\u0947\u0902, \u0907\u0938 \u0921\u094B\u092E\u0947\u0928 \u0938\u0947 \u092A\u093F\u0928 \u0932\u0917\u093E\u0928\u0947 \u0915\u0940 \u0905\u0928\u0941\u092E\u0924\u093F \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u0905\u0917\u0930 \u0906\u092A\u0915\u093E \u0915\u094B\u0908 \u092A\u094D\u0930\u0936\u094D\u0928 \u0939\u0948\u0902, \u0924\u094B \u0915\u0943\u092A\u092F\u093E \u0938\u093E\u0907\u091F \u0911\u092A\u0930\u0947\u091F\u0930 \u0938\u0947 \u0938\u0902\u092A\u0930\u094D\u0915 \u0915\u0930\u0947\u0902\u0964",noPinMeta:"\u0915\u094D\u0937\u092E\u093E \u0915\u0930\u0947\u0902, \u0907\u0938 \u092A\u0947\u091C \u0938\u0947 \u092A\u093F\u0928 \u0932\u0917\u093E\u0928\u0947 \u0915\u0940 \u0905\u0928\u0941\u092E\u0924\u093F \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u0905\u0917\u0930 \u0906\u092A\u0915\u093E \u0915\u094B\u0908 \u092A\u094D\u0930\u0936\u094D\u0928 \u0939\u0948\u0902, \u0924\u094B \u0915\u0943\u092A\u092F\u093E \u0938\u093E\u0907\u091F \u0911\u092A\u0930\u0947\u091F\u0930 \u0938\u0947 \u0938\u0902\u092A\u0930\u094D\u0915 \u0915\u0930\u0947\u0902\u0964",noPinnablesFound:"\u0915\u094D\u0937\u092E\u093E \u0915\u0930\u0947\u0902, \u0907\u0938 \u092A\u0947\u091C \u092A\u0930 \u0915\u094B\u0908 \u092D\u0940 \u092A\u093F\u0928 \u0932\u0917\u093E\u0928\u0947 \u0935\u093E\u0932\u0940 \u091A\u0940\u095B \u0928\u0939\u0940\u0902 \u092E\u093F\u0932 \u0938\u0915\u0940\u0964"},hu:{noPinDomain:"Sajn\xE1ljuk, ebb\u0151l a tartom\xE1nyb\xF3l nem lehet pinelni. K\xE9rj\xFCk, k\xE9rd\xE9seiddel fordulj az oldal \xFCzemeltet\u0151j\xE9hez.",noPinMeta:"Sajn\xE1ljuk, err\u0151l az oldalr\xF3l nem lehet pinelni. K\xE9rj\xFCk, k\xE9rd\xE9seiddel fordulj az oldal \xFCzemeltet\u0151j\xE9hez.",noPinnablesFound:"Sajn\xE1ljuk, ezen az oldalon nem tal\xE1lhat\xF3 semmilyen pinelhet\u0151 dolog."},ja:{noPinDomain:"\u3057\u8A33\u3042\u308A\u307E\u305B\u3093\u3002HTML \u4EE5\u5916\u306E\u30DA\u30FC\u30B8\u3067\u30D4\u30F3\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\u3002\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3088\u3046\u3068\u8A66\u307F\u3066\u3044\u308B\u5834\u5408\u306F\u3001pinterest.com \u306B\u30A2\u30AF\u30BB\u30B9\u3057\u3066\u304F\u3060\u3055\u3044\u3002",noPinMeta:"\u3053\u306E\u30DA\u30FC\u30B8\u304B\u3089\u306E\u30D4\u30F3\u306F\u8A31\u53EF\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u3054\u8CEA\u554F\u304C\u3042\u308B\u5834\u5408\u306F\u3001\u30B5\u30A4\u30C8\u904B\u55B6\u8005\u306B\u304A\u554F\u3044\u5408\u308F\u305B\u304F\u3060\u3055\u3044\u3002",noPinnablesFound:"\u7533\u3057\u8A33\u3054\u3056\u3044\u307E\u305B\u3093\u3001\u3053\u306E\u30DA\u30FC\u30B8\u3067\u30D4\u30F3\u3067\u304D\u308B\u30A2\u30A4\u30C6\u30E0\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002"},ko:{noPinDomain:"\uC8C4\uC1A1\uD569\uB2C8\uB2E4. \uC774 \uB3C4\uBA54\uC778\uC5D0\uC11C\uB294 \uD540\uD558\uAE30\uAC00 \uD5C8\uC6A9\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uC9C8\uBB38\uC774 \uC788\uC73C\uC2DC\uBA74 \uC0AC\uC774\uD2B8 \uC6B4\uC601\uC790\uC5D0\uAC8C \uBB38\uC758\uD558\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.",noPinMeta:"\uC8C4\uC1A1\uD569\uB2C8\uB2E4. \uC774 \uD398\uC774\uC9C0\uC5D0\uC11C\uB294 \uD540\uD558\uAE30\uAC00 \uD5C8\uC6A9\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uC9C8\uBB38\uC774 \uC788\uC73C\uC2DC\uBA74 \uC0AC\uC774\uD2B8 \uC6B4\uC601\uC790\uC5D0\uAC8C \uBB38\uC758\uD558\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.",noPinnablesFound:"\uC8C4\uC1A1\uD569\uB2C8\uB2E4. \uC774 \uD398\uC774\uC9C0\uC5D0\uC11C \uD540\uD560 \uC218 \uC788\uB294 \uAC83\uC744 \uCC3E\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4."},ms:{noPinDomain:"Maaf, mengepin tidak dibenarkan dari domain ini. Sila hubungi pengendali laman jika anda ada sebarang solan.",noPinMeta:"Maaf, mengepin tidak dibenarkan dari halaman ini. Sila hubungi pengendali laman jika anda ada sebarang soalan.",noPinnablesFound:"Maaf, tidak dapat mencari sebarang imej yang boleh dipin pada halaman ini."},nb:{noPinDomain:"Beklager, pinning er ikke tillatt fra dette domenet. Ta kontakt med webmasteren hvis du har sp\xF8rsm\xE5l.",noPinMeta:"Beklager, pinning er ikke tillatt fra denne siden. Ta kontakt med webmasteren hvis du har sp\xF8rsm\xE5l.",noPinnablesFound:"Beklager, kunne ikke finne noen ting som kunne pinnes p\xE5 denne siden."},nl:{noPinDomain:"Sorry, het is niet toegestaan om vanaf dit domein te pinnen. Neem contact op met de beheerder van deze website als je vragen hebt.",noPinMeta:"Sorry, het is niet toegestaan om vanaf dit domein te pinnen. Neem contact op met de beheerder van deze website als je vragen hebt.",noPinnablesFound:"Sorry, er is niets wat je kunt pinnen op deze pagina."},pl:{noPinDomain:"Niestety przypinanie z tej domeny jest niedozwolone. Skontaktuj si\u0119 z operatorem witryny, je\u015Bli masz pytania.",noPinMeta:"Niestety przypinanie z tej strony jest niedozwolone. Skontaktuj si\u0119 z operatorem witryny, je\u015Bli masz pytania.",noPinnablesFound:"Niestety na tej stronie nie ma \u017Cadnych rzeczy do przypinania."},pt:{noPinDomain:"Lamentamos, mas n\xE3o \xE9 permitido afixar pins a partir deste dom\xEDnio. Em caso de d\xFAvidas, contacta o operador do site.",noPinMeta:"Lamentamos, mas n\xE3o \xE9 permitido afixar pins a partir desta p\xE1gina. Em caso de d\xFAvidas, contacta o operador do site.",noPinnablesFound:"Lamentamos, mas n\xE3o foi poss\xEDvel encontrar nesta p\xE1gina nenhum conte\xFAdo que possa ser afixado."},"pt-br":{noPinDomain:"N\xE3o \xE9 poss\xEDvel pinar a partir deste dom\xEDnio. Entre em contato com o operador do site se tiver d\xFAvidas.",noPinMeta:"N\xE3o \xE9 poss\xEDvel pinar a partir desta p\xE1gina. Entre em contato com o operador do site se tiver d\xFAvidas.",noPinnablesFound:"N\xE3o foi poss\xEDvel encontrar nesta p\xE1gina conte\xFAdo que possa ser pinado."},ro:{noPinDomain:"Ne pare r\u0103u, nu se pot ad\u0103uga Pinuri de pe acest site. Te rug\u0103m s\u0103-l contactezi pe operatorul site-ului dac\u0103 ai \xEEntreb\u0103ri.",noPinMeta:"Ne pare r\u0103u, nu se pot ad\u0103uga Pinuri de pe aceast\u0103 pagin\u0103. Te rug\u0103m s\u0103-l contactezi pe operatorul site-ului dac\u0103 ai \xEEntreb\u0103ri.",noPinnablesFound:"Ne pare r\u0103u, nu am putut g\u0103si con\u021Binut pentru ad\u0103ugat ca Pinuri pe aceast\u0103 pagin\u0103."},ru:{noPinDomain:"\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u043F\u0440\u0438\u043A\u0430\u043B\u044B\u0432\u0430\u043D\u0438\u0435 \u041F\u0438\u043D\u043E\u0432 \u0432 \u0434\u0430\u043D\u043D\u043E\u043C \u0434\u043E\u043C\u0435\u043D\u0435 \u043D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E. \u0421\u043E \u0432\u0441\u0435\u043C\u0438 \u0432\u043E\u043F\u0440\u043E\u0441\u0430\u043C\u0438 \u043E\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044C \u043A \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0443 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0430.",noPinMeta:"\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u043F\u0440\u0438\u043A\u0430\u043B\u044B\u0432\u0430\u043D\u0438\u0435 \u041F\u0438\u043D\u043E\u0432 \u0441 \u0434\u0430\u043D\u043D\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B \u043D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E. \u0421\u043E \u0432\u0441\u0435\u043C\u0438 \u0432\u043E\u043F\u0440\u043E\u0441\u0430\u043C\u0438 \u043E\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044C \u043A \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0443 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0430.",noPinnablesFound:"\u041D\u0430 \u044D\u0442\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 \u043D\u0435\u0442 \u043D\u0438\u0447\u0435\u0433\u043E, \u0447\u0442\u043E \u043C\u043E\u0436\u043D\u043E \u0431\u044B\u043B\u043E \u0431\u044B \u043F\u0440\u0438\u043A\u043E\u043B\u043E\u0442\u044C."},sk:{noPinDomain:"Prep\xE1\u010Dte, z tejto dom\xE9ny si nem\xF4\u017Eete prip\xEDna\u0165 piny. Kontaktujte prev\xE1dzkovate\u013Ea str\xE1nky, ak m\xE1te nejak\xE9 ot\xE1zky.",noPinMeta:"Prep\xE1\u010Dte, z tejto str\xE1nky si nem\xF4\u017Eete prip\xEDna\u0165 piny. Kontaktujte prev\xE1dzkovate\u013Ea str\xE1nky, ak m\xE1te nejak\xE9 ot\xE1zky.",noPinnablesFound:"Prep\xE1\u010Dte, na tejto str\xE1nke sme nena\u0161li ni\u010D na pripnutie."},sv:{noPinDomain:"Tyv\xE4rr g\xE5r det inte att pinna fr\xE5n den h\xE4r dom\xE4nen. Kontakta webbplatsoperat\xF6ren om du har fr\xE5gor.",noPinMeta:"Det g\xE5r inte att pinna fr\xE5n den h\xE4r sidan. Kontakta webbplatsoperat\xF6ren om du har fr\xE5gor.",noPinnablesFound:"Det gick inte att hitta n\xE5got p\xE5 den h\xE4r sidan som g\xE5r att pinna."},th:{noPinDomain:"\u0E02\u0E2D\u0E2D\u0E20\u0E31\u0E22 \u0E42\u0E14\u0E40\u0E21\u0E19\u0E19\u0E35\u0E49\u0E44\u0E21\u0E48\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E1B\u0E31\u0E01\u0E1E\u0E34\u0E19 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E14\u0E39\u0E41\u0E25\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C\u0E2B\u0E32\u0E01\u0E21\u0E35\u0E02\u0E49\u0E2D\u0E2A\u0E07\u0E2A\u0E31\u0E22",noPinMeta:"\u0E02\u0E2D\u0E2D\u0E20\u0E31\u0E22 \u0E40\u0E1E\u0E08\u0E19\u0E35\u0E49\u0E44\u0E21\u0E48\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E1B\u0E31\u0E01\u0E1E\u0E34\u0E19 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E14\u0E39\u0E41\u0E25\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C\u0E2B\u0E32\u0E01\u0E21\u0E35\u0E02\u0E49\u0E2D\u0E2A\u0E07\u0E2A\u0E31\u0E22",noPinnablesFound:"\u0E02\u0E2D\u0E2D\u0E20\u0E31\u0E22 \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E2D\u0E30\u0E44\u0E23\u0E17\u0E35\u0E48\u0E1B\u0E31\u0E01\u0E1E\u0E34\u0E19\u0E44\u0E14\u0E49\u0E43\u0E19\u0E40\u0E1E\u0E08\u0E19\u0E35\u0E49"},tl:{noPinDomain:"Sorry, hindi allowed ang pinning sa domain na 'to. Paki-contact ang site operator kung may tanong ka.",noPinMeta:"Sorry, hindi allowed ang pinning mula sa page na 'to. Paki-contact ang site operator kung may tanong ka.",noPinnablesFound:"Sorry, walang makitang puwedeng i-pin sa page na 'to."},tr:{noPinDomain:"\xDCzg\xFCn\xFCz, bu alan ad\u0131ndan pinlemeye izin verilmiyor. Sorular\u0131n\u0131z varsa, l\xFCtfen site operat\xF6r\xFCne ba\u015Fvurun.",noPinMeta:"\xDCzg\xFCn\xFCz, bu sayfadan pinlemeye izin verilmiyor. Sorular\u0131n\u0131z varsa, l\xFCtfen site operat\xF6r\xFCne ba\u015Fvurun.",noPinnablesFound:"\xDCzg\xFCn\xFCz, bu sayfada pinlenebilecek bir \u015Fey bulunamad\u0131."},uk:{noPinDomain:"\u041D\u0430 \u0436\u0430\u043B\u044C, \u043F\u0440\u0438\u043A\u043E\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0456\u043D\u0438 \u0437 \u0446\u044C\u043E\u0433\u043E \u0434\u043E\u043C\u0435\u043D\u0443 \u043D\u0435 \u043C\u043E\u0436\u043D\u0430. \u042F\u043A\u0449\u043E \u0443 \u0432\u0430\u0441 \u0432\u0438\u043D\u0438\u043A\u043B\u0438 \u0437\u0430\u043F\u0438\u0442\u0430\u043D\u043D\u044F, \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440\u043E\u043C \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443.",noPinMeta:"\u041D\u0430 \u0436\u0430\u043B\u044C, \u043F\u0440\u0438\u043A\u043E\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0456\u043D\u0438 \u0437 \u0446\u0456\u0454\u0457 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438 \u043D\u0435 \u043C\u043E\u0436\u043D\u0430. \u042F\u043A\u0449\u043E \u0443 \u0432\u0430\u0441 \u0432\u0438\u043D\u0438\u043A\u043B\u0438 \u0437\u0430\u043F\u0438\u0442\u0430\u043D\u043D\u044F, \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440\u043E\u043C \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443.",noPinnablesFound:"\u041D\u0430 \u0436\u0430\u043B\u044C, \u043C\u0438 \u043D\u0435 \u0437\u043C\u043E\u0433\u043B\u0438 \u0437\u043D\u0430\u0439\u0442\u0438 \u043D\u0430 \u0446\u0456\u0439 \u0441\u0442\u043E\u0440\u0456\u043D\u0446\u0456 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u044C, \u044F\u043A\u0456 \u043C\u043E\u0436\u043D\u0430 \u0431\u0443\u043B\u043E \u0431 \u043F\u0440\u0438\u043A\u043E\u043B\u043E\u0442\u0438."},vi:{noPinDomain:"R\u1EA5t ti\u1EBFc, kh\xF4ng cho ph\xE9p ghim t\u1EEB mi\u1EC1n n\xE0y. Vui l\xF2ng li\xEAn h\u1EC7 ng\u01B0\u1EDDi \u0111i\u1EC1u h\xE0nh trang web n\u1EBFu b\u1EA1n c\xF3 th\u1EAFc m\u1EAFc.",noPinMeta:"R\u1EA5t ti\u1EBFc, kh\xF4ng cho ph\xE9p ghim t\u1EEB trang n\xE0y. Vui l\xF2ng li\xEAn h\u1EC7 ng\u01B0\u1EDDi \u0111i\u1EC1u h\xE0nh trang web n\u1EBFu b\u1EA1n c\xF3 th\u1EAFc m\u1EAFc.",noPinnablesFound:"R\u1EA5t ti\u1EBFc, kh\xF4ng th\u1EC3 t\xECm th\u1EA5y th\u1EE9 g\xEC ghim \u0111\u01B0\u1EE3c tr\xEAn trang n\xE0y."},zh:{noPinDomain:"\u62B1\u6B49\uFF0C\u4E0D\u5141\u8BB8\u4ECE\u6B64\u57DF\u6536\u85CF Pin \u56FE\u3002\u5982\u6709\u7591\u8651\u8BF7\u8054\u7CFB\u7F51\u7AD9\u8FD0\u8425\u5546\u3002",noPinMeta:"\u62B1\u6B49\uFF0C\u4E0D\u5141\u8BB8\u4ECE\u6B64\u57DF\u6536\u85CF Pin \u56FE\u3002\u5982\u6709\u7591\u8651\u8BF7\u8054\u7CFB\u7F51\u7AD9\u8FD0\u8425\u5546\u3002",noPinnablesFound:"\u62B1\u6B49\uFF0C\u672A\u5728\u6B64\u9875\u9762\u4E2D\u627E\u5230\u53EF\u6536\u85CF\u7684 Pin \u56FE\u3002"},"zh-tw":{noPinDomain:"\u62B1\u6B49\uFF01\u4E0D\u5141\u8A31\u5F9E\u6B64\u7DB2\u57DF\u6536\u85CF\u91D8\u5716\u3002\u82E5\u6709\u7591\u554F\uFF0C\u8ACB\u806F\u7D61\u7DB2\u7AD9\u71DF\u904B\u5546\u3002",noPinMeta:"\u62B1\u6B49\uFF01\u4E0D\u5141\u8A31\u5F9E\u6B64\u7DB2\u9801\u6536\u85CF\u91D8\u5716\u3002\u82E5\u6709\u7591\u554F\uFF0C\u8ACB\u806F\u7D61\u7DB2\u7AD9\u71DF\u904B\u5546\u3002",noPinnablesFound:"\u62B1\u6B49\uFF01\u5728\u6B64\u7DB2\u9801\u4E0A\u627E\u4E0D\u5230\u4EFB\u4F55\u53EF\u6536\u85CF\u91D8\u5716\u7684\u5167\u5BB9\u3002"}},pn="v6.1.1",An={client:"web",config:{domain:"www",force:null,guid:null,noCancel:null,noHeader:null,pinbox:null,pinMethod:"bookmarklet",quality:30,quiet:!1,render:null,share:null,via:null},currentUrl:"",data:{config:null,img:{},link:{},meta:{},rich:{},script:[],thumb:[]},errorMessages:gn.en,extended:!1,experiments:Ue,imagesLoadingCount:0,insta:{},lang:"en",ogDescription:null,ogSiteName:null,override:{allowImagelessPinCreation:!0,link:!1,og:!1,runDefaultScraping:!0},sha:null,startTime:0};function fn(e){let t;const n=()=>t||u(),u=()=>(typeof structuredClone=="function"?t=structuredClone(e):t=JSON.parse(JSON.stringify(e)),t.startTime=Date.now(),t);return{getConfig:n,initConfig:u}}const{getConfig:za,initConfig:hn}=fn(An),_n={id:"PIN_"+new Date().getTime(),version:pn},pt="data-pinterest-pinmarklet-rendered",At=5e3,te=237,W=Object.freeze({INVALID:"invalid",LOADING:"loading",ERROR:"error",OK:"ok",FILTERED:"filtered"}),Ie=/news\.google\.co|google\.co(m|\...)\/(search|shopping|finance)/,He=/^https?:\/\/yandex\..*/,Be=/^https:\/\/ya.ru(\/.*)?/,Se=/^https?:\/\/www\.bing\..*/,In=/\.yahoo\.co.*/;function Bn({currentConfig:e,pinmarkletLogger:t}){let n="";function u(a){if(!n)for(const s in a){const i=a[s];typeof i=="object"?u(i):typeof i=="string"&&s.match(/^gtin/i)&&(n=i.replace(/^0+/,""))}}e.data.script.forEach(a=>{u(a)}),n&&(e.data.gtin=n,t({reason:"gtin_found",extras:{gtin:n}}))}function ft({element:e,attribute:t}){return!e||!t?null:e.getAttribute(t)}function me(e){if(!e)return"";const t=(Array.isArray(e)?e[0]:e).trim();if(t.match(/\s/))return t;const n=t.split("#")[0].split("?")[0],u=new RegExp(`\\.(${_.join("|")})$`);return n.match(/^http?s:\/\//)||n.match(u)?"":n}function Ee({currentConfig:e,browserWindow:t,imageElement:n,imageless:u}){return([()=>{var m;return me((m=t.getSelection())==null?void 0:m.toString())},()=>{if(n&&n.src){const m=me(ft({element:n,attribute:"data-pin-description"}));return m||(n.title||t.document.title||"").trim()}},()=>me(e.data.meta.description||e.data.meta.title),()=>me(e.ogDescription),()=>me(t.document.title),()=>{var m;if(u)return(m=e.currentUrl.split("/").pop())==null?void 0:m.split("#")[0].split("?")[0].split(".")[0]}].find(m=>m())||(()=>""))()}function Sn({h:e,s:t,v:n}){let u,a,s;e=e/60;const i=Math.floor(e),o=e-i,r=n*(1-t),c=n*(1-t*o),m=n*(1-t*(1-o));switch(i){case 0:u=n,a=m,s=r;break;case 1:u=c,a=n,s=r;break;case 2:u=r,a=n,s=m;break;case 3:u=r,a=c,s=n;break;case 4:u=m,a=r,s=n;break;case 5:u=n,a=r,s=c;break;default:}function A(l){return("00"+Math.round(l*255).toString(16)).substr(-2,2)}return"#"+A(u)+A(a)+A(s)}function Pn({browserWindow:e,currentConfig:t,pinmarkletDebugger:n}){const u=t.currentUrl.split("/")[2];return{color:Sn({h:parseInt(he({currentConfig:t,pinmarkletDebugger:n,str:u}).substr(0,3),16)%360,s:.25,v:.75}),description:Ee({currentConfig:t,browserWindow:e,imageless:!0}),height:te,score:te*te,siteName:t.ogSiteName||u,status:W.OK,url:t.currentUrl,width:te}}function ht({browserWindow:e,currentConfig:t}){t.data.close&&(typeof t.extendedClose=="function"?t.extendedClose():t.config.quiet||e.setTimeout(()=>{e.alert(t.data.close)},10))}const xn="https://assets.pinterest.com/ext/grid.html?",vn=Object.entries({display:"block",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",bottom:"0",right:"0",margin:"0",clip:"0","z-index":"2147483647"}).reduce((e,[t,n])=>e+`${t}: ${n};`,"");function Dn(e){const t=e.createElement("IFRAME");return t.id=`${_n.id}_grid`,t.src=xn+new Date().getTime(),t.frameBorder="0",t.style=vn,t}function bn({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){const a=new Date().getTime(),{document:s}=e,{body:i}=s,o=i.style.overflow;i.style.overflow="hidden",n("Popping the unauthed grid"),t.data.config=t.config,t.data.browserExtensionInstalled=ft({attribute:"data-pinterest-extension-installed",element:i});const r=Dn(s),c=()=>{i.style.overflow=o,i.removeAttribute(pt),r.parentNode&&r.parentNode===i&&i.removeChild(r)},m=window.setTimeout(()=>{u({reason:"iframe_timeout"}),c(),t.data.close=t.errorMessages.noPinnablesFound,ht({currentConfig:t,browserWindow:e})},At);r.onload=()=>{var A;const l=new Date().getTime()-a;n(`Grid render time: ${l}`),u({reason:"grid_rendered",time:l}),(A=r.contentWindow)==null||A.postMessage(JSON.stringify(t.data),r.src),e.addEventListener("message",d=>{window.clearTimeout(m),d.data==="x"&&c()}),r.focus()},i.setAttribute(pt,"true"),i.appendChild(r)}var On=(e=>(e[e.CLOSE=0]="CLOSE",e[e.IOS_SHARE=1]="IOS_SHARE",e[e.BROWSER_EXTENSION=2]="BROWSER_EXTENSION",e[e.GRID=3]="GRID",e))(On||{});function yn({currentConfig:e,browserWindow:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return n(e.data),u({reason:"scan_complete",count:e.data.thumb.length,time:new Date().getTime()-e.startTime}),e.data.close?(ht({browserWindow:t,currentConfig:e}),0):e.config.share?(n("Sending results to IOS share extension"),t.document.body.setAttribute(e.config.share,JSON.stringify(e.data)),1):e.config.render&&typeof t[e.config.render]=="function"?(n(`Sending results to ${e.config.render}`),t[e.config.render](e.data),2):(n("Sending results to our default iframe grid overlay"),bn({browserWindow:t,currentConfig:e,pinmarkletDebugger:n,pinmarkletLogger:u}),3)}const Pe=e=>e.client==="extension"&&e.experiments.allowPinterestRepinning&&e.currentUrl.match(K);var Tn=Object.defineProperty,_t=Object.getOwnPropertySymbols,Cn=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable,It=(e,t,n)=>t in e?Tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bt=(e,t)=>{for(var n in t||(t={}))Cn.call(t,n)&&It(e,n,t[n]);if(_t)for(var n of _t(t))Nn.call(t,n)&&It(e,n,t[n]);return e};const ne={MultimediaFinal:2,MultimediaInitial:3,PinId:10,PinMeOnly:1e6,PinUrl:4,SmallSize:.5,WithinViewport:20};function Mn(e){Object.keys(e.data.img).forEach(t=>{const n=e.data.img[t],u=n.modifiers,a=Bt(Bt({},n),u?{mod:u}:{});delete a.modifiers,e.data.img[t]=a}),e.data.thumb.forEach(t=>{t.mod=t.modifiers,delete t.modifiers}),e.data.config||delete e.data.config}const wn=30,Fn=({currentConfig:e,scoredImages:t})=>{if(Pe(e))return t.filter(a=>!!a);const n=t.filter(Boolean).sort((a,s)=>{const i=a.score||0,o=s.score||0;return i<o?1:i>o?-1:0});return n.filter(a=>{var s;return a.score&&a.score>(((s=n[0])==null?void 0:s.score)||0)/wn})};function Rn(e){return!![Ie,Se,Be,In].find(t=>e.match(t))}function Un({browserWindow:e,currentConfig:t,onResult:n,pinmarkletDebugger:u,pinmarkletLogger:a}){const s=Object.entries(t.data.img).map(([l,d])=>{var p,B,I,v,k,R,j,ae,Te,pe,Vt,Kt,Yt,$t;if(d.status!==W.OK)return null;if(d.url=t.data.url&&Rn(t.data.url)?"":t.data.url,(p=d.modifiers)!=null&&p.description&&(d.description=d.modifiers.description),(B=d.modifiers)!=null&&B.ogDescription){const Ta=Array.isArray(d.modifiers.ogDescription)?d.modifiers.ogDescription[0]:d.modifiers.ogDescription;d.description=Ta}(I=d.modifiers)!=null&&I.pinDescription&&(d.description=d.modifiers.pinDescription),d.description&&d.description.length>500&&(d.description=d.description.substring(0,500)),(v=d.modifiers)!=null&&v.url&&(d.url=d.modifiers.url),(k=d.modifiers)!=null&&k.pinUrl&&(d.url=d.modifiers.pinUrl),d.media=d.src;const S={multiplier:1,height:d.height||1,width:d.width||1};return S.width>S.height?S.width=S.height:S.height>S.width*3&&(S.height=S.width*3),(R=d.modifiers)!=null&&R.multimedia&&(S.multiplier=S.multiplier*ne.MultimediaInitial),((j=d.modifiers)!=null&&j.pinUrl||(ae=d.modifiers)!=null&&ae.pinMedia)&&(S.multiplier=S.multiplier*ne.PinUrl),(Te=d.modifiers)!=null&&Te.pinMeOnly&&(S.multiplier=S.multiplier*ne.PinMeOnly),(pe=d.modifiers)!=null&&pe.pinId&&((Vt=d.modifiers)!=null&&Vt.suppressPinIdBonus||(S.multiplier=S.multiplier*ne.PinId),d.dataPinId=d.modifiers.pinId,d.id=d.modifiers.pinId,t.override.allowImagelessPinCreation=!1),(!d.width||d.width<te)&&(S.multiplier=S.multiplier*ne.SmallSize),(Kt=d.modifiers)!=null&&Kt.multimedia&&(t.override.allowImagelessPinCreation=!1,S.multiplier=S.multiplier*ne.MultimediaFinal),(Yt=d.modifiers)!=null&&Yt.withinViewport&&(S.multiplier=S.multiplier*ne.WithinViewport),d.score=S.height*S.width*S.multiplier-((($t=d.modifiers)==null?void 0:$t.sourceOrder)||0),d});if(t.override.allowImagelessPinCreation){const l=Pn({browserWindow:e,currentConfig:t,pinmarkletDebugger:u});t.data.imageless=l,s.push(l),s.length===1&&a({reason:"imageless_only"})}t.data.thumb=Fn({currentConfig:t,scoredImages:s});const i=({key:l,val:d})=>{t.data.rich[l]?u(`Ignoring duplicate rich data: ${l} - ${d}`):(u(`Adding rich data: ${l} - ${d}`),t.data.rich[l]=d)},{pin:o,og:r,description:c}=t.data.meta;[o,r].filter(Boolean).forEach(l=>{l.title&&i({key:"title",val:l.title}),l.description&&i({key:"description",val:l.description}),l.url&&i({key:"url",val:l.url})}),c&&typeof c=="string"&&i({key:"description",val:c});const{document:{title:m}}=e;m&&typeof m=="string"&&i({key:"title",val:m});const{canonical:A}=t.data.link;if(A&&i({key:"url",val:A}),Object.keys(t.insta).length>0){t.data.script.forEach(p=>{p.author&&p.author.alternateName&&(t.insta.username=p.author.alternateName)}),t.data.rich.instagram=t.insta;const l={reason:"insta_found",extras:{media_id:t.insta.id,owner_id:t.insta.owner,username:t.insta.username}},d=t.insta.hashtags;d&&(l.extras.hashtags=d),a(l)}if(Bn({currentConfig:t,pinmarkletLogger:a}),Mn(t),n)return n(t.data);yn({browserWindow:e,currentConfig:t,pinmarkletDebugger:u,pinmarkletLogger:a})}function Ln({browserWindow:e,currentConfig:t,onResult:n,pinmarkletDebugger:u,pinmarkletLogger:a}){const s=()=>{const i=()=>Un({browserWindow:e,currentConfig:t,onResult:n,pinmarkletDebugger:u,pinmarkletLogger:a});t.imagesLoadingCount?(u("images left to load: "+t.imagesLoadingCount),Date.now()<t.startTime+At?e.setTimeout(s,10):(u("Timed out, rendering what we have."),a({reason:"imageLoadingTimeout"}),i())):i()};return s}function xe(e){return`https://www.youtube.com/watch?v=${e}`}function Ge(e){return`https://img.youtube.com/vi/${e}/hqdefault.jpg`}var ve=(e,t,n)=>new Promise((u,a)=>{var s=r=>{try{o(n.next(r))}catch(c){a(c)}},i=r=>{try{o(n.throw(r))}catch(c){a(c)}},o=r=>r.done?u(r.value):Promise.resolve(r.value).then(s,i);o((n=n.apply(e,t)).next())});const kn=new RegExp("^https?:\\/\\/(([a-z]{1,3}|latest)\\.|)pinterest\\.(at|(c(a|h|l|o(\\.(kr|uk)|m(|\\.(au|mx)))))|d(e|k)|es|fr|i(e|t)|jp|nz|p(h|t)|se|ru)\\/pin\\/(?<id>.*)\\/.*");function jn({currentConfig:e,hashedUrl:t,src:n}){return()=>{e.imagesLoadingCount--,Object.keys(e.data.img).forEach(u=>{var a,s;((a=e.data.img[u].modifiers)==null?void 0:a.pinMedia)===n&&((s=e.data.img[u].modifiers)==null||delete s.pinMedia)}),e.data.img[t].status=W.ERROR}}const zn=["image/png","image/jpg","image/jpeg","image/gif"];function Hn(e){return ve(this,null,function*(){return(yield(yield fetch(e)).blob()).type})}function Gn(e){return ve(this,arguments,function*({client:t,currentConfig:n,img:u}){if(u.width<90||u.height<90)return{acceptable:!1,reason:"Image dimensions are both too small."};if(u.width<120&&u.height<120)return{acceptable:!1,reason:"One image dimension is too small."};if(t!=="extension"&&u.width>u.height*3)return{acceptable:!1,reason:"Image is too wide."};if(t==="extension"){const a=u.src.match(h),s=u.src.match(x),i=!!n.experiments.allowWhatsApp&&u.src.match(N)&&zn.includes(yield Hn(u.src));if(!a&&!s&&!i)return{acceptable:!1,reason:"Image source is not http, https, or base64 or blob with image mimeType."}}else if(!u.src.match(h))return{acceptable:!1,reason:"Image source does not begin with http/https."};return{acceptable:!0}})}function Vn({currentConfig:e,hashedUrl:t,img:n,modifiers:u,pinmarkletDebugger:a,preventImagelessPinCreation:s,src:i,updatedSrc:o}){return()=>ve(this,null,function*(){const{client:r}=e,{acceptable:c,reason:m}=yield Gn({client:r,currentConfig:e,img:n});if(!c)return e.data.img[t]={status:W.FILTERED,reason:m,src:i.substring(0,64)},i.length>64&&(e.data.img[t].src=e.data.img[t].src+"..."),e.imagesLoadingCount--,{status:W.FILTERED};s&&(e.override.allowImagelessPinCreation=!1);const A={status:"loaded",height:n.naturalHeight||0,width:n.naturalWidth||0,src:n.src};if(A.height>te&&A.width>te&&(e.override.allowImagelessPinCreation=!1),Object.keys(A).forEach(l=>{const d=A;d[l]&&(e.data.img[t][l]=d[l])}),i===e.currentUrl&&(e.data.img[t].description="",e.override.allowImagelessPinCreation=!1),o){a(`Image source changed from ${o} to ${i}`);const l=he({currentConfig:e,pinmarkletDebugger:a,str:o});e.data.img[l]=e.data.img[t],u&&(e.data.img[l].modifiers=u),e.data.img[l].src=i,e.data.img[l].height=A.height,e.data.img[l].width=A.width,e.data.img[t]=e.data.img[l],delete e.data.img[l]}return e.data.img[t].status=W.OK,e.imagesLoadingCount--,{status:"success"}})}function T(e){return ve(this,arguments,function*({currentConfig:t,modifiers:n,pinmarkletDebugger:u,pinmarkletLogger:a,preventImagelessPinCreation:s,src:i,updatedSrc:o}){var r,c,m;const A=(m=(c=(r=n==null?void 0:n.url)==null?void 0:r.match(kn))==null?void 0:c.groups)==null?void 0:m.id;if(A&&parseInt(A,10)&&(n.pinId=A,n.suppressPinIdBonus=!0),!i)return{imageLoaded:!1,reason:"noSrc"};if(!qt({currentConfig:t,currentUrl:i,pinmarkletDebugger:u,pinmarkletLogger:a}))return{imageLoaded:!1,reason:"domainNotAllowed"};const d=he({currentConfig:t,pinmarkletDebugger:u,str:i});if(t.data.img[d])return{imageLoaded:!1,reason:"imageAlreadyLoaded"};if(i.split("#")[0].split("?")[0].split(".").pop()==="svg")return t.data.img[d]={src:i,status:W.INVALID,reason:"SVG images are not supported on Pinterest"},{imageLoaded:!0,reason:"unsupportedSvgFormat"};const B=new Image;return t.imagesLoadingCount++,t.data.img[d]={modifiers:n||{},status:W.LOADING},B.onerror=jn({currentConfig:t,hashedUrl:d,src:i}),B.onload=Vn({currentConfig:t,hashedUrl:d,img:B,modifiers:n,pinmarkletDebugger:u,preventImagelessPinCreation:s,src:i,updatedSrc:o}),B.src=i,{imageLoaded:!0}})}const St={youtube:/^(https?:|)\/\/www\.youtube\.com\/embed\//,instagram:/^https?:\/\/www\.instagram\.com\/p\//};function Pt(e){return e.split("/")[4]}function Kn({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return[...e.document.getElementsByTagName("IFRAME")].map(a=>{if(a.getAttribute("nopin")||a.getAttribute("data-pin-nopin"))return{status:"nopin"};const s=a.getAttribute("src");if(!s)return{status:"Missing src"};if(!s.match(/^(https?:|)\/\//))return{status:"Invalid src"};const i=Ee({currentConfig:t,browserWindow:e}),o=s.split("#")[0].split("?")[0];if(o.match(St.youtube)){const r=Pt(o);return r?(n(`Found a YouTube player: ${a.src}`),T({currentConfig:t,modifiers:{multimedia:!0,url:xe(r),description:i},pinmarkletDebugger:n,pinmarkletLogger:u,src:Ge(r)}),{status:"YouTube embed -- loading image...",id:r}):{status:"YouTube embed -- missing embed id"}}if(o.match(St.instagram)){const r=Pt(o);return r?(n(`Found an Instagram embed: ${a.src}`),T({currentConfig:t,modifiers:{url:`https://www.instagram.com/p/${r}/`,description:i},pinmarkletDebugger:n,pinmarkletLogger:u,src:`https://instagram.com/p/${r}/media/?size=l`}),{status:"Instagram embed -- loading image...",id:r}):{status:"Instagram embed -- missing embed id"}}return{status:"No match"}})}var Yn=(e,t,n)=>new Promise((u,a)=>{var s=r=>{try{o(n.next(r))}catch(c){a(c)}},i=r=>{try{o(n.throw(r))}catch(c){a(c)}},o=r=>r.done?u(r.value):Promise.resolve(r.value).then(s,i);o((n=n.apply(e,t)).next())});const $n=50,Wn=/url\("?(.*?)"?\)/,Xn=/image-set\((.*?)\)/,Zn=/['"]?(.*?)['"]? \d+x/;function Qn(e){const t=new Set;return e.querySelectorAll("*").forEach(u=>{if(u instanceof Element){const s=window.getComputedStyle(u,null).getPropertyValue("background-image"),i=s.match(Wn);i&&t.add(i[1]);const o=s.match(Xn);o&&o[1].split(",").map(c=>{const m=c.trim().match(Zn);return m?m[1]:null}).filter(Boolean).forEach(c=>{c&&t.add(c)})}}),Array.from(t)}function Jn(e){return Yn(this,null,function*(){return(yield Promise.all(e.map(n=>new Promise(u=>{const a=new Image;a.onload=()=>{const s=a;s.getAttribute=()=>null,s.getBoundingClientRect=()=>new DOMRect,s.isBgImage=!0,u(s)},a.onerror=()=>{u(null)},a.src=n,setTimeout(()=>{u(null)},$n)})))).filter(n=>n!==null)})}function qn({currentConfig:e,pinmarkletDebugger:t,pinmarkletLogger:n}){var u;if(t("og found"),!((u=e.data.meta.og)!=null&&u.image))return{status:"noDataMetaOgImage"};const a={};if(typeof e.data.meta.og.image=="string")t("og:image found"),a.ogMedia=e.data.meta.og.image;else{let i;Array.isArray(e.data.meta.og.image)?(t("og:image array found; using the first element"),i=e.data.meta.og.image[0]):i=e.data.meta.og.image,typeof i=="string"?(t("og:image found in object"),a.ogMedia=i):i.secure_url&&typeof i.secure_url=="string"?(t("og:secure_url found"),a.ogMedia=i.secure_url):i["~"]&&typeof i["~"]=="string"&&(t("og:~ found"),a.ogMedia=i["~"])}e.data.meta.og.url&&(typeof e.data.meta.og.url=="string"?a.ogUrl=e.data.meta.og.url:(t("More than one og:url found"),a.ogUrl=e.data.meta.og.url[0]),t("og:url found")),e.data.meta.og.site_name&&(typeof e.data.meta.og.site_name=="string"?e.ogSiteName=e.data.meta.og.site_name:(t("More than one og:site_name found"),e.ogSiteName=e.data.meta.og.site_name[0]));const s=e.data.meta.og.description||e.data.meta.og.title;return s&&(t("og:title or og:description found"),a.ogDescription=s,typeof a.ogDescription=="string"?e.ogDescription=a.ogDescription:(t("More than one og:description found"),e.ogDescription=a.ogDescription[0])),t("loading og:image"),T({currentConfig:e,src:a.ogMedia,modifiers:a,pinmarkletDebugger:t,pinmarkletLogger:n}),{status:"success",modifiers:a}}const eu=/^https?:\/\/twitter\.com\//,tu=/^https?:\/\/pbs\.twimg\.com\/media\//,nu=/^(https?:|)\/\/i.ytimg.com\/vi\//,uu=/^https?:\/\/i\.pinimg\.com\//,De={status:"nopin"};function xt({browserWindow:e,currentConfig:t,getImageWitinViewport:n,imgElement:u,idx:a,pinmarkletDebugger:s,pinmarkletLogger:i}){var o;if(!u.currentSrc)return{status:"noCurrentSrc"};if(u.getAttribute("nopin")||u.getAttribute("data-pin-nopin"))return De;const r=n(u.getBoundingClientRect()),c={description:Ee({browserWindow:e,currentConfig:t,imageElement:u}),sourceOrder:a,withinViewport:r},m=u.parentElement;if((m==null?void 0:m.tagName)==="A"&&m.href){const I=m;t.currentUrl.split("/")[2]===I.href.split("/")[2]&&(I.href.match(new RegExp(`(^javascript|\\.(${_.join("|")}))`))||(c.url=I.href))}if(Pe(t)){if(!u.currentSrc.match(uu))return De;let I=!1,v=u.parentElement;for(;v;){if(v.tagName==="A"){const R=v.getAttribute("href");if(R&&R.match(le)){const j=new URL(oe+R);j.search="",c.url=j.toString(),I=!0;break}else return De}v=v.parentElement}if(!I&&t.currentUrl.match(fe)){const k=new URL(t.currentUrl);k.search="",c.url=k.toString(),I=!0}if(!I)return De}u.getAttribute("data-pin-me-only")&&(c.pinMeOnly=!0);const l=u.getAttribute("data-pin-id");l&&(c.pinId=l);const d=u.getAttribute("data-pin-description");d&&(c.pinDescription=d);const p=u.getAttribute("data-pin-url");p&&(c.pinUrl=p);const B=u.getAttribute("data-pin-media");if(B?(c.pinMedia=B,B===u.currentSrc?T({currentConfig:t,modifiers:c,pinmarkletDebugger:s,pinmarkletLogger:i,src:u.currentSrc}):T({currentConfig:t,modifiers:c,pinmarkletDebugger:s,pinmarkletLogger:i,src:B,updatedSrc:u.currentSrc})):T({currentConfig:t,modifiers:c,pinmarkletDebugger:s,pinmarkletLogger:i,src:u.currentSrc}),t.currentUrl.match(eu)&&u.currentSrc.match(tu)){let I=u.parentElement;for(;I!=null&&I.tagName;){const v=I.getAttribute("data-permalink-path");if(v){c.url="https://twitter.com"+v;const k=(o=I==null?void 0:I.parentElement)==null?void 0:o.getElementsByTagName("P")[0].textContent;k&&(c.description=k),I=null}I=I==null?void 0:I.parentElement}}if(u.currentSrc.match(nu)){const I=u.currentSrc.split("/vi/");if(I.length){const v=I[1].split("/")[0];v&&T({currentConfig:t,modifiers:{multimedia:!0,url:xe(v)},pinmarkletDebugger:s,pinmarkletLogger:i,src:`https://i.ytimg.com/vi/${v}/hqdefault.jpg`,updatedSrc:u.currentSrc})}}return{status:"success",modifiers:c}}var au=(e,t,n)=>new Promise((u,a)=>{var s=r=>{try{o(n.next(r))}catch(c){a(c)}},i=r=>{try{o(n.throw(r))}catch(c){a(c)}},o=r=>r.done?u(r.value):Promise.resolve(r.value).then(s,i);o((n=n.apply(e,t)).next())});function su(e){return"isBgImage"in e&&!!e.isBgImage}function iu({viewportHeight:e,viewportWidth:t}){const n=a=>a.top-e>0?!1:a.top>0||a.top+a.height>0,u=a=>!(a.right<0||a.left>t);return a=>n(a)&&u(a)}function ru(e){return au(this,arguments,function*({browserWindow:t,currentConfig:n,pinmarkletDebugger:u,pinmarkletLogger:a}){const s=t.document.querySelectorAll("[data-pin-me-only]");if(s.length)return xt({browserWindow:t,currentConfig:n,getImageWitinViewport:()=>!0,imgElement:s[0],idx:0,pinmarkletDebugger:u,pinmarkletLogger:a}),{count:1,status:"pinMeOnly"};n.override.og?u("og overridden"):qn({currentConfig:n,pinmarkletDebugger:u,pinmarkletLogger:a});const i=t.document.getElementsByTagName("IMG"),o=(yield Jn(Qn(t.document))).map(l=>({currentSrc:l.currentSrc,width:l.width,height:l.height,getAttribute:()=>null,getBoundingClientRect:()=>null,isBgImage:!0})),r=new Map,c=[...i,...o];Pe(n)&&c.forEach(l=>{var d;const p=(d=l.currentSrc)==null?void 0:d.split("/").pop();p&&!r.has(p)&&r.set(p,l)});const m=c.filter(l=>{var d;const p=(d=l.currentSrc)==null?void 0:d.split("/").pop();return!Pe(n)||!p?!0:r.get(p)===l}),A=iu({viewportHeight:t.innerHeight,viewportWidth:t.innerWidth});return m.forEach((l,d)=>{xt({browserWindow:t,currentConfig:n,getImageWitinViewport:p=>su(l)?!0:A(p),idx:d,imgElement:l,pinmarkletDebugger:u,pinmarkletLogger:a})}),{count:i.length,status:"imagesProcessed"}})}function ou({currentConfig:e,pageDocument:t}){const n=[...t.getElementsByTagName("LINK")].find(u=>{const{rel:a,href:s}=u;return!!(a&&a.toLowerCase()==="canonical"&&s)});n&&(e.data.link.canonical=n.href,e.data.url=n.href)}const lu=/^https?:\/\/www\.amazon\.com\//,du="data-fling-asin";function cu({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){const{currentUrl:a}=t;return a.match(lu)?!![...e.document.getElementsByTagName("IMG")].find(i=>{const o=i.getAttribute(du);return o&&a.match(o)?(T({currentConfig:t,src:i.currentSrc,modifiers:{url:`https://www.amazon.com/dp/${o}/`,description:Ee({browserWindow:e,currentConfig:t,imageElement:i})},preventImagelessPinCreation:!0,pinmarkletDebugger:n,pinmarkletLogger:u}),!0):!1}):!1}const mu=/^https?:\/\/www\.amazon\.com((\/|.*)\/dp\/)/;function Eu({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){var a;if(!t.currentUrl.match(mu))return!1;const s=(a=e.document.getElementById("imgTagWrapperId"))==null?void 0:a.getElementsByTagName("IMG")[0];return s&&T({currentConfig:t,src:s.src,modifiers:{url:t.data.link.canonical,description:Ee({browserWindow:e,currentConfig:t,imageElement:s})},preventImagelessPinCreation:!0,pinmarkletDebugger:n,pinmarkletLogger:u}),!!s}function Ve({browserWindow:e,processorFn:t}){const n=e.document.querySelectorAll("[data-pin-me-only]");return n.length?(t(n[0]),{count:1,status:"pinMeOnly"}):!1}function Ke({browserWindow:e,processorFn:t}){return[...e.document.getElementsByTagName("IMG")].map(n=>n.alt?(t(n),!0):!1)}var gu=Object.defineProperty,vt=Object.getOwnPropertySymbols,pu=Object.prototype.hasOwnProperty,Au=Object.prototype.propertyIsEnumerable,Dt=(e,t,n)=>t in e?gu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fu=(e,t)=>{for(var n in t||(t={}))pu.call(t,n)&&Dt(e,n,t[n]);if(vt)for(var n of vt(t))Au.call(t,n)&&Dt(e,n,t[n]);return e};function hu({currentConfig:e,imgTag:t,pinmarkletDebugger:n,pinmarkletLogger:u}){const a=Ye(t,e.currentUrl);T({src:t.dataset.src||t.src,modifiers:fu({description:t.alt},a?{url:a}:{}),preventImagelessPinCreation:!0,currentConfig:e,pinmarkletDebugger:n,pinmarkletLogger:u}),e.override.runDefaultScraping=!1}function _u({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){if(!t.currentUrl.match(Ie))return!1;const a=o=>hu({currentConfig:t,imgTag:o,pinmarkletDebugger:n,pinmarkletLogger:u});return Ve({browserWindow:e,processorFn:a})?!0:!!Ke({browserWindow:e,processorFn:a}).find(Boolean)}var Iu=Object.defineProperty,bt=Object.getOwnPropertySymbols,Bu=Object.prototype.hasOwnProperty,Su=Object.prototype.propertyIsEnumerable,Ot=(e,t,n)=>t in e?Iu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pu=(e,t)=>{for(var n in t||(t={}))Bu.call(t,n)&&Ot(e,n,t[n]);if(bt)for(var n of bt(t))Su.call(t,n)&&Ot(e,n,t[n]);return e};function xu({currentConfig:e,imgTag:t,pinmarkletDebugger:n,pinmarkletLogger:u}){const a=Ye(t,e.currentUrl);T({src:t.dataset.src||t.src,modifiers:Pu({description:t.alt},a?{url:a}:{}),preventImagelessPinCreation:!0,currentConfig:e,pinmarkletDebugger:n,pinmarkletLogger:u}),e.override.runDefaultScraping=!1}function vu({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){if(!t.currentUrl.match(He)&&!t.currentUrl.match(Be))return!1;const a=o=>xu({currentConfig:t,imgTag:o,pinmarkletDebugger:n,pinmarkletLogger:u});return Ve({browserWindow:e,processorFn:a})?!0:!!Ke({browserWindow:e,processorFn:a}).find(Boolean)}const Du=/^https?:\/\/m\.youtube\.com\//,bu=/^(https?:|)\/\/(www|m)\.youtube\.com\/watch?/;function Ou({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return t.currentUrl.match(Du)?!![...e.document.getElementsByTagName("A")].map(s=>{var i,o;if((i=s.href)!=null&&i.match(bu)){const r=(o=s.href.split("v=")[1])==null?void 0:o.split("&")[0].split("#")[0];return r?(n(`found a YouTube video: ${s.href}`),T({currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u,preventImagelessPinCreation:!0,src:Ge(r),modifiers:{description:e.document.title,multimedia:!0,url:xe(r)}}),!0):!1}return!1}).find(Boolean):!1}const yu=/^https?:\/\/(www|m)\.youtube\.com\/watch?/;function Tu({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){var a;if(!t.currentUrl.match(yu))return!1;const s=(a=t.currentUrl.split("v=")[1])==null?void 0:a.split("&")[0].split("#")[0];return s?(n(`Found a YouTube page: ${t.currentUrl}`),T({currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u,preventImagelessPinCreation:!0,src:Ge(s),modifiers:{description:e.document.title,multimedia:!0,url:xe(s)}}),!0):!1}var Cu=Object.defineProperty,yt=Object.getOwnPropertySymbols,Nu=Object.prototype.hasOwnProperty,Mu=Object.prototype.propertyIsEnumerable,Tt=(e,t,n)=>t in e?Cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wu=(e,t)=>{for(var n in t||(t={}))Nu.call(t,n)&&Tt(e,n,t[n]);if(yt)for(var n of yt(t))Mu.call(t,n)&&Tt(e,n,t[n]);return e};const Ga=5;function Fu({currentConfig:e,imgTag:t,pinmarkletDebugger:n,pinmarkletLogger:u}){const{targetUrl:a,description:s}=Nt(t,e.currentUrl);T({src:t.dataset.src||t.src,modifiers:wu({description:s},a?{url:a}:{}),preventImagelessPinCreation:!0,currentConfig:e,pinmarkletDebugger:n,pinmarkletLogger:u}),e.override.runDefaultScraping=!1}function Ru({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){if(!t.currentUrl.match(Se))return!1;const a=o=>Fu({currentConfig:t,imgTag:o,pinmarkletDebugger:n,pinmarkletLogger:u});return Ve({browserWindow:e,processorFn:a})?!0:!!Ke({browserWindow:e,processorFn:a}).find(Boolean)}function Uu({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}){return!![cu,Eu,Tu,Ou,_u,Ru,vu].find(s=>s({browserWindow:e,currentConfig:t,pinmarkletDebugger:n,pinmarkletLogger:u}))}function Lu({browserWindow:e,currentConfig:t,onResult:n,pageDocument:u,pinmarkletDebugger:a,pinmarkletLogger:s}){a("Initing"),t.data.url=t.currentUrl,Uu({browserWindow:e,currentConfig:t,pinmarkletDebugger:a,pinmarkletLogger:s})||(Kn({browserWindow:e,currentConfig:t,pinmarkletDebugger:a,pinmarkletLogger:s}),t.override.runDefaultScraping&&ru({browserWindow:e,currentConfig:t,pinmarkletDebugger:a,pinmarkletLogger:s}),t.override.link||ou({currentConfig:t,pageDocument:u}));const i=Ln({browserWindow:e,currentConfig:t,onResult:n,pinmarkletDebugger:a,pinmarkletLogger:s});e.setTimeout(i,100)}function ku(e){return e.reduce((t,n)=>{const u=n.k.split(":");let a=t;return u.forEach(s=>{typeof a[s]=="undefined"&&(a[s]={}),a=a[s]}),typeof a["~"]=="undefined"?a["~"]=n.v:Array.isArray(a["~"])?a["~"].push(n.v):typeof a["~"]=="string"&&(a["~"]=[a["~"]],a["~"].push(n.v)),t},{})}function Ct({obj:e,parentObj:t,parentKey:n}){for(const u in e)typeof e[u]=="object"?typeof e[u][0]=="string"?t[n]=e[u]:Ct({obj:e[u],parentObj:e,parentKey:u}):Object.keys(e).length===1&&(t[n]=e[u]);return e}function ju(e){const t=e.getElementsByTagName("META"),n=[];let u=!1;return[...t].forEach(a=>{const s=a.getAttribute("content"),i=a.getAttribute("property")||a.getAttribute("name");s&&i&&(i.toLowerCase()==="pinterest"&&s.toLowerCase()==="nopin"?u=a.getAttribute("description")||!0:a.getAttribute("data-pin-nopin")||n.push({k:i,v:s}))}),{metaKVPairs:n,pinterestNoPin:u}}function zu(e){return e.sort((t,n)=>t.k>n.k?1:t.k<n.k?-1:0),Ct({obj:ku(e),parentObj:null,parentKey:null})}function Hu({currentConfig:e,pinmarkletDebugger:t,pinmarkletLogger:n,metadata:u}){var a,s,i,o,r,c,m;const A={};if(u.pin){const l=u.pin;t("data-pin found"),l.url&&(t("data-pin-url found"),A.pinUrl=l.url,e.override.link=!0),l.description&&(t("data-pin-description found"),A.pinDescription=l.description),l.title&&(t("data-pin-title found"),A.pinTitle=l.title),l.id&&(t("data-pin-id found"),A.pinId=l.id,e.override.allowImagelessPinCreation=!1),l.media&&(t("data-pin-media found"),A.pinMedia=l.media,t("loading data-pin-media"),T({currentConfig:e,pinmarkletDebugger:t,pinmarkletLogger:n,src:l.media,modifiers:A}))}if((a=u.instapp)!=null&&a.owner_user_id&&((o=(i=(s=u.al)==null?void 0:s.ios)==null?void 0:i.url)!=null&&o.match("="))&&(e.insta={owner:u.instapp.owner_user_id,id:(m=(c=(r=u.al)==null?void 0:r.ios)==null?void 0:c.url)==null?void 0:m.split("=")[1]},u.instapp.hashtags&&(e.insta.hashtags=u.instapp.hashtags.toString())),e.data.meta.og){const l=e.data.meta.og;if(typeof l.image!="string"){const d=Array.isArray(l.image)?l.image[0]:l.image;typeof d!="string"&&typeof(d==null?void 0:d.secure_url)=="string"&&(e.data.meta.og.image=d.secure_url)}Array.isArray(l.description)&&(e.data.meta.og.description=l.description[0]),Array.isArray(l.title)&&(e.data.meta.og.title=l.title[0]),Array.isArray(l.url)&&(e.data.meta.og.url=l.url[0]),Array.isArray(l.image)&&(e.data.meta.og.image=l.image[0])}}function Gu(e){return[...e.getElementsByTagName("SCRIPT")].map(t=>({type:t.type,innerText:t.innerText}))}function Vu({currentConfig:e,pinmarkletDebugger:t,scriptTags:n}){n.forEach(u=>{if(u.type==="application/ld+json"){const{innerText:a}=u;if(a)try{e.data.script.push(JSON.parse(a))}catch(s){t("Could not parse linked data."),t(a)}}})}function Ku({currentConfig:e,pageDocument:t,pinmarkletDebugger:n}){const u=Gu(t);Vu({currentConfig:e,pinmarkletDebugger:n,scriptTags:u})}const Yu=[/password/gi];function $u(e){const[t,n]=e.split("#")[0].split("?");let u="?",a="";return n&&(a=n.split("&").reduce((s,i)=>{const[o,r]=i.split("=");return o&&r&&!Yu.find(c=>o.match(c))&&(s+=`${u}${o}=${r}`,u="&"),s},"")),t+a}const be=8,ge=()=>{};function Wu(e){const{navigator:t}=e;return!t.userAgent.match(" MSIE ")}function Xu({pageDocument:e}){const t=$u(e.URL),n=ut({currentUrl:t}),{metaKVPairs:u,pinterestNoPin:a}=ju(e);return{currentUrl:t,isDomainAllowed:n,pinterestNoPin:a,metaKVPairs:u}}function Zu({browserWindow:e,client:t,currentUrl:n,experiments:u,isDisableImagelessSave:a,isDisableOgImageLoad:s,metaKVPairs:i,onResult:o}){const r=hn();r.currentUrl=n,r.client=t,r.experiments=u,a&&(r.override.allowImagelessPinCreation=!1),s&&(r.override.og=!0);const{document:c}=e;Ku({currentConfig:r,pageDocument:c,pinmarkletDebugger:ge});const m=zu(i);r.data.meta=m,Hu({currentConfig:r,metadata:m,pinmarkletDebugger:ge,pinmarkletLogger:ge}),Lu({browserWindow:e,currentConfig:r,onResult:o,pageDocument:c,pinmarkletDebugger:ge,pinmarkletLogger:ge})}function Qu(e){let t=0,n=e,u="";for(;t<be&&!u;){const a=n==null?void 0:n.parentNode;if(!a||a.tagName==="BODY")break;if((a==null?void 0:a.tagName)==="A"){const s=a.href;s.match(/^http?s:\/\//)&&!s.match(Ie)&&!s.match(/google\.co|google\.co(m|\...)\/imgres/)&&(u=s)}else a!=null&&a.getAttribute("data-lpage")&&(u=a.getAttribute("data-lpage")||"");n=a,t++}return u}function Ju(e){const t=e.parentNode;let n="";if((t==null?void 0:t.tagName)==="A"){const u=new URLSearchParams(t.href).get("img_url");u&&!u.match(He)&&!u.match(Be)&&(n=u)}return n}function Nt(e,t){let n="",u=e.alt;if(t.match(/^https?:\/\/www\.bing\.com\/search/)){let a=0,s=e.parentNode;for(;a<be&&!n;){if((s==null?void 0:s.tagName)==="A"){const i=s.href,o=s.getAttribute("t3"),r=[i,o].find(c=>c&&!c.match(Se));r&&(n=r)}s=s==null?void 0:s.parentNode,a++}}else if(t.match(/^https?:\/\/www\.bing\.com\/images/)){let a=0,s=e.parentNode;for(;a<be&&!n;){if((s==null?void 0:s.tagName)==="A"){const i=s.getAttribute("m");if(i){const o=JSON.parse(i),r=o.purl,c=o.t;r&&(n=r),c&&(u=c)}}s=s==null?void 0:s.parentNode,a++}}else if(!t.match(/^https?:\/\/www\.bing\.com\/shop/)){if(t.match(/^https?:\/\/www\.bing\.com\/videos/)){let a=0,s=e.parentNode;for(;a<be&&!n;){const i=s.getAttribute("ourl");i&&(n=i),s=s==null?void 0:s.parentNode,a++}}}return{targetUrl:n,description:u}}function Ye(e,t){return t.match(Ie)?Qu(e):t.match(He)||t.match(Be)?Ju(e):t.match(Se)?Nt(e,t).targetUrl:t}const qu=120,Mt="data-pin-me-only";function $e(e){const t=[];for(const[n,u]of Object.entries(e))t.push(`${n}:${u} !important`);return t.join(";")}function ea(){const e={};return t=>{if(!t.currentSrc)return!1;if(t.currentSrc in e)return e[t.currentSrc];const n=qu;let u;return t.naturalHeight<n||t.naturalWidth<n||t.height<n||t.width<n?u=!1:u=!0,e[t.currentSrc]=u,u}}const wt=ea();function Ft(e,t){const n=new MutationObserver((u,a)=>{const s=["style","class"],{attributeName:i,target:o}=u[0];i&&s.includes(i)&&(a.disconnect(),t(o))});return n.observe(e,{attributes:!0}),n}function Rt({allowedMutatedAttrs:e,mutatedStyle:t}){return t?$e(Object.fromEntries(e.map(n=>{const u=t.getPropertyValue(n);return u?[n,u]:[]}))):""}const Oe=()=>!!(document!=null&&document.body&&document.URL.match(K)),ta=()=>{const{config:{extensionVersion:e}={}}=b();document.body.setAttribute("data-pinterest-extension-installed",e||"xx")},na=()=>(document==null?void 0:document.body)&&document.URL.startsWith(Me);function We(){const{hoveredImage:e}=b();e==null||e.setAttribute(Mt,"true")}function Xe(){const{hoveredImage:e}=b();e==null||e.removeAttribute(Mt)}function ua(e){const t=Ye(e,document.URL);return{src:e.currentSrc,description:e.title||document.title,url:t}}function aa({hoveredImage:e}){const t=new URL(document.URL),n=(e==null?void 0:e.className)==="link-bubble-drive-thumbnail-image"&&t.hostname.endsWith("docs.google.com"),u=t.hostname.endsWith("canva.com");return n||u}function Ut(){const{extensionSettings:e}=b();return(e==null?void 0:e.hideHoverButtons)===!0}function sa({browserWindow:e,experiments:t}){return new Promise((n,u)=>{const a=Wu(e);if(!e||!e.document){u(new Error("Invalid browser window or document"));return}if(!a){u(new Error("Invalid browser"));return}const{currentUrl:s,isDomainAllowed:i,pinterestNoPin:o,metaKVPairs:r}=Xu({pageDocument:e.document});if(!t.allowPinterestRepinning&&Oe()||!i){u(new Error("Domain not allowed"));return}if(o){u(new Error("Pinterest noPin"));return}if(r===null){u(new Error("Failed to scrape metadata"));return}Zu({browserWindow:e,client:"extension",currentUrl:s,experiments:t,isDisableImagelessSave:!0,isDisableOgImageLoad:t.allowPinterestRepinning&&Oe(),metaKVPairs:r,onResult:c=>{n(c)}})})}var ia=Object.defineProperty,ra=Object.defineProperties,oa=Object.getOwnPropertyDescriptors,Lt=Object.getOwnPropertySymbols,la=Object.prototype.hasOwnProperty,da=Object.prototype.propertyIsEnumerable,kt=(e,t,n)=>t in e?ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ca=(e,t)=>{for(var n in t||(t={}))la.call(t,n)&&kt(e,n,t[n]);if(Lt)for(var n of Lt(t))da.call(t,n)&&kt(e,n,t[n]);return e},ma=(e,t)=>ra(e,oa(t)),Ea=(e,t,n)=>new Promise((u,a)=>{var s=r=>{try{o(n.next(r))}catch(c){a(c)}},i=r=>{try{o(n.throw(r))}catch(c){a(c)}},o=r=>r.done?u(r.value):Promise.resolve(r.value).then(s,i);o((n=n.apply(e,t)).next())}),X=(e=>(e[e.SAVEPICKER=0]="SAVEPICKER",e[e.SIDEBAR=1]="SIDEBAR",e))(X||{});const ga=$e({width:"100%",height:"100%",position:"fixed",top:"0",bottom:"0",right:"0",left:"0","z-index":9007199254740991,"background-color":"transparent",border:"0px",display:"none","color-scheme":H.SAFARI==="chrome"?"normal":"none",margin:"0",clip:"auto",opacity:"1",padding:"0"}),pa=e=>e.view===1,ue=e=>{var t;const{funnelId:n,view:u}=e,{isAppIframeInjected:a,hoveredImage:s,saveButton:i,appIframe:o}=b();let r=0,c=0;if(u===0&&i){const d=i.getBoundingClientRect();r=d.left,c=d.top}const m=(t=document.querySelector('meta[name="color-scheme"]'))==null?void 0:t.content,A=()=>Ea(void 0,null,function*(){switch(u){case 0:{const{lastSavedToBoard:{id:d,name:p}={}}=b();if(!d||!p)break;const B=ma(ca({},ua(s)),{x:r,y:c,boardId:d,boardName:p,funnelId:n,documentColorScheme:m});l.style.display="block",y({isAppIframeDisplayed:!0}),l.contentWindow&&setTimeout(()=>{lt({element:l.contentWindow,action:Z.MOUNT_SAVEPICKER_APP,payload:B})},100)}break;case 1:if(l.contentWindow&&pa(e)){const{config:d}=b(),{entryType:p}=e,B=({errorType:R,payload:j})=>{l.style.display="block",y({isAppIframeDisplayed:!0});const ae={buildTarget:"chrome",entryType:p,errorType:R,funnelId:n,isAuthenticated:!!(d!=null&&d.isAuthenticated),thumb:[],url:document.URL,documentColorScheme:m};lt({element:l.contentWindow,action:Z.MOUNT_SIDEBAR_APP,payload:j||ae})};L({eventType:F.SAVE_BROWSER_PIN_IMAGES_REQUESTED,auxData:{funnel_uuid:n}});const I=window,v=H.SAFARI!=="chrome",k=H.SAFARI!=="chrome";try{const R=yield sa({browserWindow:I,experiments:{allowPinterestRepinning:k,allowWhatsApp:v}}),{thumb:j=[],url:ae=""}=R,Te={buildTarget:"chrome",entryType:p,funnelId:n,isAuthenticated:!!(d!=null&&d.isAuthenticated),thumb:j,url:ae,documentColorScheme:m},pe=j.length;L({eventType:pe>0?F.SAVE_BROWSER_PIN_IMAGES_FOUND:F.SAVE_BROWSER_PIN_IMAGES_NOT_FOUND,auxData:{funnel_uuid:n,image_count:pe,url:ae}}),B({payload:Te})}catch(R){if(R instanceof Error)switch(R.message){case"Domain not allowed":B({errorType:J.BANNED_DOMAIN});break;case"Pinterest noPin":B({errorType:J.NO_PIN_DOMAIN});break;default:}}}break;default:break}});let l;if(a&&o)l=o,A();else{l=document.createElement("iframe");const d=$.runtime.getURL("/index.html");l.src=d,l.onload=()=>{A()};const p=B=>{const I=Rt({allowedMutatedAttrs:["display"],mutatedStyle:B==null?void 0:B.style});l.setAttribute("style",`${ga};${I}`),l.removeAttribute("class");const v=Ft(l,p);y({appIframeMutationObserver:v})};p(),y({appIframe:l,isAppIframeInjected:!0}),document.body.appendChild(l)}},Aa=/^https?:\/\/www\.instagram\.com\//,jt=e=>e.match(Aa)!==null,fa=e=>{if(zt(e))return e;const n=Array.from(e.getElementsByTagName("img")).filter(wt);return n.length===1?n[0]:null},ha=e=>{const t=[e,e.previousSibling];for(const n of t)if(n instanceof HTMLElement){const u=fa(n);if(u)return u}return null},_a=({element:e,url:t})=>jt(t)?ha(e):null,Ia=$e({"border-radius":"10px","text-indent":"12px",width:"auto",height:"20px",padding:"0px 8px","text-align":"center","vertical-align":"middle",font:'bold 11px / 20px "Helvetica Neue", Helvetica, sans-serif',color:"rgb(255, 255, 255)",background:'url("data:image/svg+xml;base64,PHN2ZyBpZD0ic291cmNlIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iNiIgY3k9IjYiIHI9IjYiIGZpbGw9IiNFNjAwMjMiPjwvY2lyY2xlPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTAgNkMwIDguNTYxNSAxLjYwNTUgMTAuNzQ4NSAzLjg2NSAxMS42MDlDMy44MSAxMS4xNDA1IDMuNzUxNSAxMC4zNjggMy44Nzc1IDkuODI2QzMuOTg2IDkuMzYgNC41NzggNi44NTcgNC41NzggNi44NTdDNC41NzggNi44NTcgNC4zOTk1IDYuNDk5NSA0LjM5OTUgNS45N0M0LjM5OTUgNS4xNCA0Ljg4MDUgNC41MiA1LjQ4IDQuNTJDNS45OSA0LjUyIDYuMjM2IDQuOTAyNSA2LjIzNiA1LjM2MUM2LjIzNiA1Ljg3MzUgNS45MDk1IDYuNjM5NSA1Ljc0MSA3LjM1QzUuNjAwNSA3Ljk0NDUgNi4wMzk1IDguNDI5NSA2LjYyNTUgOC40Mjk1QzcuNjg3IDguNDI5NSA4LjUwMzUgNy4zMSA4LjUwMzUgNS42OTRDOC41MDM1IDQuMjYzNSA3LjQ3NTUgMy4yNjQgNi4wMDggMy4yNjRDNC4zMDkgMy4yNjQgMy4zMTE1IDQuNTM4NSAzLjMxMTUgNS44NTZDMy4zMTE1IDYuMzY5NSAzLjUwOSA2LjkxOTUgMy43NTYgNy4yMTlDMy44MDQ1IDcuMjc4NSAzLjgxMiA3LjMzIDMuNzk3NSA3LjM5MDVDMy43NTIgNy41Nzk1IDMuNjUxIDcuOTg1IDMuNjMxNSA4LjA2OEMzLjYwNSA4LjE3NyAzLjU0NSA4LjIwMDUgMy40MzE1IDguMTQ3NUMyLjY4NTUgNy44MDA1IDIuMjE5NSA2LjcxIDIuMjE5NSA1LjgzNEMyLjIxOTUgMy45NDk1IDMuNTg4IDIuMjE5NSA2LjE2NTUgMi4yMTk1QzguMjM3NSAyLjIxOTUgOS44NDggMy42OTYgOS44NDggNS42NjlDOS44NDggNy43Mjc1IDguNTUwNSA5LjM4NDUgNi43NDg1IDkuMzg0NUM2LjE0MyA5LjM4NDUgNS41NzQ1IDkuMDY5NSA1LjM3OTUgOC42OThDNS4zNzk1IDguNjk4IDUuMDggOS44MzkgNS4wMDc1IDEwLjExOEM0Ljg2NjUgMTAuNjYgNC40NzU1IDExLjM0NiA0LjIzMyAxMS43MzU1QzQuNzkyIDExLjkwNzUgNS4zODUgMTIgNiAxMkM5LjMxMzUgMTIgMTIgOS4zMTM1IDEyIDZDMTIgMi42ODY1IDkuMzEzNSAwIDYgMEMyLjY4NjUgMCAwIDIuNjg2NSAwIDZaIiBmaWxsPSJ3aGl0ZSI+PC9wYXRoPgo8L3N2Zz4=") 4px 50% / 12px 12px no-repeat rgb(230, 0, 35)',position:"absolute",opacity:1,"z-index":9007199254740990,display:"none",cursor:"pointer",border:"none","-webkit-font-smoothing":"antialiased",top:"0",left:"0"});function Ba(){var e;const{isSaveButtonInjected:t}=b();if(t)return;const n=document.createElement("span");n.innerText=(e=$.i18n)==null?void 0:e.getMessage("saveButtonText");const u=r=>{const c=Rt({allowedMutatedAttrs:["display","top","left"],mutatedStyle:r==null?void 0:r.style});n.setAttribute("style",`${Ia};${c}`),n.removeAttribute("class");const m=Ft(n,u);y({saveButtonMutationObserver:m})};u();const a=r=>((r==null?void 0:r.naturalWidth)||0)+Y>=E&&((r==null?void 0:r.width)||0)+Y>=E,s=()=>{const{saveButtonHideTimeout:r,config:c,hoveredImage:m,lastSavedToBoard:A}=b();if(window.clearTimeout(r),!(c!=null&&c.isAuthenticated)||!(A!=null&&A.id)||!a(m)){const l=ee();We(),ue({entryType:D.FROM_SAVE_PICKER,funnelId:l,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.SAVE_BUTTON,auxData:{funnel_uuid:l,url:document.URL}})}},i=()=>{const{saveButtonHideTimeout:r,config:c,lastSavedToBoard:m,lastScrollTime:A}=b();if(window.clearTimeout(r),c!=null&&c.isAuthenticated&&(m!=null&&m.id)){const l=Date.now()-10;if(A<l){const{hoveredImage:d,isAppIframeInjected:p}=b();if(!p&&a(d)){const B=ee();ue({view:X.SAVEPICKER,funnelId:B}),y({isAppIframeInjected:!0}),We(),L({eventType:F.VIEW,viewType:at.HOVER_BOARD_OPENER,auxData:{funnel_uuid:B,url:document.URL}}),L({eventType:F.OFFSITE_SAVE_ENTER,auxData:{domain:location.hostname,entry_type:re[D.FROM_SAVE_PICKER],funnel_uuid:B,url:document.URL}})}}}},o=()=>{const{isAppIframeDisplayed:r,appIframe:c}=b();if(!r&&c&&Object.keys(c).length!==0){try{document.body.removeChild(c)}catch(m){}gt()}};n==null||n.addEventListener("click",s),n==null||n.addEventListener("mouseover",i),n==null||n.addEventListener("mouseout",o),y({saveButton:n,isSaveButtonInjected:!0}),document.body.appendChild(n)}const Sa=1*60*1e3;function ye(){const{appIframe:e}=b();try{document.body.removeChild(e)}catch(t){}gt(),Xe()}const Pa=e=>e.action===w.SHOW_SIDEBAR_APP,xa=e=>{const{type:t,action:n}=e,{isAppIframeDisplayed:u}=b();if(t===O.LIFECYCLE_EVENT)switch(n){case w.TOGGLE_SIDEBAR_APP:if(u)ye();else{Xe();const a=ee();ue({entryType:D.FROM_PRIMARY_ACTION_BUTTON,funnelId:a,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.PRIMARY_ACTION_BUTTON,auxData:{domain:sn(document.URL),funnel_uuid:a,url:document.URL}})}break;case w.SHOW_SIDEBAR_APP:if(Pa(e)){const{payload:a}=e,{funnelId:s}=a;ue({entryType:D.FROM_SAVE_PICKER,funnelId:s,view:X.SIDEBAR})}break;case w.HANDLE_CONTEXT_MENU_SAVE_ACTION:{We();const a=ee();ue({entryType:D.FROM_CONTEXT_MENU,funnelId:a,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.PIN_SAVE_BUTTON,auxData:{funnel_uuid:a,url:document.URL}})}break;case w.UNLOAD_SIDEBAR_APP:ye();break;default:break}},zt=e=>e.tagName==="IMG"&&wt(e),va=({element:e})=>zt(e)?e:null,Da=({isImproveIgHover:e})=>t=>{const n=t.target,{saveButton:u,isSaveButtonInjected:a,saveButtonHideTimeout:s}=b(),i=[va];e&&i.unshift(_a);const o=i.map(r=>r({element:n,url:document.URL})).find(r=>r!==null)||null;if(o){Xe(),y({hoveredImage:o});const r=o.getAttribute("data-pin-nopin")||o.getAttribute("nopin");if(Ut()||aa({hoveredImage:o})||r)return;a||Ba();const{top:c,left:m}=o.getBoundingClientRect(),A=Math.round(c+window.scrollY)+Y,l=Math.round(m+window.scrollX)+Y;y({isSaveButtonDisplayed:!0});const{saveButton:d}=b();d.style.display="block",d.style.top=`${A}px`,d.style.left=`${l}px`,window.clearTimeout(s)}else o===u&&window.clearTimeout(s)},Ht=()=>{const{isSaveButtonDisplayed:t,saveButtonHideTimeout:n,saveButton:u}=b();t&&(window.clearTimeout(n),y({saveButtonHideTimeout:window.setTimeout(()=>{u.style.display="none",y({isSaveButtonDisplayed:!1})},100)}))},Gt=()=>{y({lastScrollTime:Date.now()})},ba=()=>{setInterval(()=>{rt({type:O.LIFECYCLE_EVENT,action:se.KEEP_ALIVE_PING,payload:{now:Date.now()}})},Sa)},Oa=e=>{const{type:t,action:n}=e;if(t===O.LIFECYCLE_EVENT){const{isAppIframeDisplayed:u}=b();switch(n){case w.TOGGLE_SIDEBAR_APP:if(u)ye();else{const a=ee();ue({entryType:D.FROM_PRIMARY_ACTION_BUTTON,funnelId:a,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.PRIMARY_ACTION_BUTTON,auxData:{funnel_uuid:a,url:document.URL}})}break;case w.HANDLE_CONTEXT_MENU_SAVE_ACTION:{const a=ee();ue({entryType:D.FROM_CONTEXT_MENU,funnelId:a,view:X.SIDEBAR}),L({eventType:F.CLICK,element:de.PIN_SAVE_BUTTON,auxData:{funnel_uuid:a,url:document.URL}})}break;case w.UNLOAD_SIDEBAR_APP:ye();break;default:break}}};var ya=(e,t,n)=>new Promise((u,a)=>{var s=r=>{try{o(n.next(r))}catch(c){a(c)}},i=r=>{try{o(n.throw(r))}catch(c){a(c)}},o=r=>r.done?u(r.value):Promise.resolve(r.value).then(s,i);o((n=n.apply(e,t)).next())});(()=>ya(void 0,null,function*(){var e,t;if(yield En(),na())return an(),!1;if(Oe()||!ut({currentUrl:document.URL})){const u=Oe()?"Pinterest":"banned";return ta(),$.runtime.onMessage.addListener(Oa),!1}$.runtime.onMessage.addListener(xa);const n=!!jt(document.URL);(e=document.body)==null||e.addEventListener("mouseover",Da({isImproveIgHover:n})),Ut()||((t=document.body)==null||t.addEventListener("mouseout",Ht),window==null||window.addEventListener("blur",Ht),window==null||window.addEventListener("scroll",Gt,{passive:!1}),document==null||document.addEventListener("wheel",Gt,{passive:!1})),ba()}))()})()})();})();
