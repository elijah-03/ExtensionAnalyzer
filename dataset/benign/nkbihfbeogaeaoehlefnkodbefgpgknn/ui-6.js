LavaPack.loadBundle([[6409,{"../../../../shared/constants/app-state":5597,"../../../../shared/constants/metametrics":5613,"../../../../shared/lib/trace":5718,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/multichain-accounts/account-tree":7890,"../../../store/actions":7916,"../../component-library":6325,"../../component-library/text-field-search/text-field-search":6380,"../../multichain/account-menu":6456,"../multichain-accounts-tree":6417,"@metamask/keyring-api":2100,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountListMenu=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/keyring-api"),s=e("../../component-library"),i=e("../../component-library/text-field-search/text-field-search"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../contexts/metametrics"),d=e("../../../selectors"),p=e("../../../store/actions"),m=e("../../../../shared/constants/metametrics"),f=e("../../../../shared/lib/trace"),h=e("../../../../shared/constants/app-state"),g=e("../../../selectors/multichain-accounts/account-tree"),y=e("../multichain-accounts-tree"),v=e("../../multichain/account-menu");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.MultichainAccountListMenu=({onClose:e,privacyMode:t=!1,showAccountCreation:n=!0,accountListItemProps:k,allowedAccountTypes:b=[r.EthAccountType.Eoa,r.EthAccountType.Erc4337,r.BtcAccountType.P2pkh,r.BtcAccountType.P2sh,r.BtcAccountType.P2wpkh,r.BtcAccountType.P2tr,r.SolAccountType.DataAccount,r.TrxAccountType.Eoa]})=>{const C=(0,l.useI18nContext)(),T=(0,a.useContext)(u.MetaMetricsContext),x=(0,o.useSelector)(d.getHDEntropyIndex);(0,a.useEffect)(()=>{(0,f.endTrace)({name:f.TraceName.AccountList})},[]);const w=(0,o.useSelector)(d.getAllChainsToPoll),A=(0,o.useSelector)(d.getSelectedInternalAccount),M=(0,o.useSelector)(d.getConnectedSubjectsForAllAddresses),E=(0,o.useSelector)(d.getOriginOfCurrentTab),_=(0,o.useDispatch)(),S=(0,o.useSelector)(g.getWalletsWithAccountsSimplified),I=(0,o.useSelector)(d.getDefaultHomeActiveTabName),[O,P]=(0,a.useState)(""),N=(0,a.useCallback)(t=>{e(),T({category:m.MetaMetricsEventCategory.Navigation,event:m.MetaMetricsEventName.NavAccountSwitched,properties:{location:"Main Menu",hd_entropy_index:x}}),(0,f.endTrace)({name:h.ACCOUNT_OVERVIEW_TAB_KEY_TO_TRACE_NAME_MAP[I]}),(0,f.trace)({name:h.ACCOUNT_OVERVIEW_TAB_KEY_TO_TRACE_NAME_MAP[I]}),_((0,p.setSelectedAccount)(t.address)),_((0,p.detectNfts)(w))},[_,e,T,I,x,w]),B=(0,a.useCallback)(e=>P(e.target.value),[]);return a.default.createElement(v.AccountMenu,{onClose:e,showAccountCreation:n},a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4,paddingTop:0},a.default.createElement(i.TextFieldSearch,{size:s.TextFieldSearchSize.Sm,width:c.BlockSize.Full,placeholder:C("search"),value:O,onChange:B,clearButtonOnClick:()=>P(""),"data-testid":"multichain-account-menu-search-bar"})),a.default.createElement(s.Box,{className:"multichain-account-menu-popover__list"},a.default.createElement(y.MultichainAccountsTree,{wallets:S,allowedAccountTypes:b,connectedSites:M,currentTabOrigin:E,privacyMode:t,accountTreeItemProps:k,searchPattern:O,selectedAccount:A,onClose:e,onAccountTreeItemClick:N})))}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-account-list-menu/multichain-account-list-menu.tsx"}],[6410,{"./multichain-account-list":6411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAccountList",{enumerable:!0,get:function(){return a.MultichainAccountList}});var a=e("./multichain-account-list")}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-account-list/index.ts"}],[6411,{"../../../../shared/constants/app-state":5597,"../../../../shared/constants/metametrics":5613,"../../../../shared/lib/trace":5718,"../../../contexts/metametrics":6855,"../../../helpers/constants/connected-sites":6898,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/useFormatters":7043,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/assets":7878,"../../../selectors/multichain-accounts/account-tree":7890,"../../../store/actions":7916,"../../component-library":6325,"../add-multichain-account":6398,"../multichain-account-cell":6404,"../multichain-account-edit-modal":6406,"../multichain-account-menu":6413,"@metamask/account-api":1159,"@metamask/utils":2914,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountList=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/account-api"),r=e("react-redux"),s=e("react-router-dom-v5-compat"),i=e("@metamask/utils"),c=e("../../component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=e("../multichain-account-cell"),p=e("../../../store/actions"),m=e("../../../helpers/constants/routes"),f=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/lib/trace"),g=e("../../../../shared/constants/app-state"),y=e("../../../selectors"),v=e("../../../contexts/metametrics"),k=e("../multichain-account-menu"),b=e("../add-multichain-account"),C=e("../multichain-account-edit-modal"),T=e("../../../selectors/multichain-accounts/account-tree"),x=e("../../../helpers/constants/connected-sites"),w=e("../../../selectors/assets"),A=e("../../../hooks/useFormatters");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}n.MultichainAccountList=({wallets:e,selectedAccountGroups:t,handleAccountClick:n,isInSearchMode:M=!1,displayWalletHeader:E=!0,showAccountCheckbox:_=!1,showConnectionStatus:S=!1})=>{const I=!_,O=(0,r.useDispatch)(),P=(0,s.useNavigate)(),N=(0,a.useContext)(v.MetaMetricsContext),B=(0,l.useI18nContext)(),D=(0,r.useSelector)(y.getDefaultHomeActiveTabName),{formatCurrencyWithMinThreshold:j}=(0,A.useFormatters)(),R=(0,r.useSelector)(w.selectBalanceForAllWallets),L=(0,r.useSelector)(y.getHDEntropyIndex),{privacyMode:F}=(0,r.useSelector)(y.getPreferences);(0,a.useEffect)(()=>{(0,h.endTrace)({name:h.TraceName.AccountList})},[]);const[$,W]=(0,a.useState)(!1),[z,V]=(0,a.useState)(undefined),[U,G]=(0,a.useState)(null),H=(0,r.useSelector)(y.getAllPermittedAccountsForCurrentTab),K=(0,a.useMemo)(()=>S?H.map(e=>(0,i.parseCaipAccountId)(e).address):[],[H,S]),q=(0,a.useCallback)(e=>S&&0!==K.length?(0,T.getAccountGroupsByAddress)(e,K):[],[S,K]),Y=(0,r.useSelector)(q),[J,X]=(0,a.useState)(!1),Q=(0,a.useCallback)(()=>{W(!1),V(undefined)},[W,V]),Z=(0,a.useCallback)(e=>{V(e),W(!0),G(null)},[W,V]),ee=(0,a.useCallback)(e=>{G(t=>t===e?null:e)},[]),te=(0,a.useMemo)(()=>new Set(t),[t]),{pinnedGroups:ne,hiddenGroups:ae}=(0,a.useMemo)(()=>{const t=[],n=[];return Object.entries(e).forEach(([e,a])=>{Object.entries(a.groups||{}).forEach(([a,o])=>{o.metadata.pinned?t.push({groupId:a,groupData:o,walletId:e}):o.metadata.hidden&&n.push({groupId:a,groupData:o,walletId:e})})}),{pinnedGroups:t,hiddenGroups:n}},[e]),oe=(0,a.useMemo)(()=>{const t=n??(e=>{N({category:f.MetaMetricsEventCategory.Navigation,event:f.MetaMetricsEventName.NavAccountSwitched,properties:{location:"Main Menu",hd_entropy_index:L}}),(0,h.endTrace)({name:g.ACCOUNT_OVERVIEW_TAB_KEY_TO_TRACE_NAME_MAP[D]}),(0,h.trace)({name:g.ACCOUNT_OVERVIEW_TAB_KEY_TO_TRACE_NAME_MAP[D]}),O((0,p.setSelectedMultichainAccount)(e)),P(m.DEFAULT_ROUTE)}),r=(n,o,r,s=!1)=>{var i,l;const u=null==R||null===(i=R.wallets)||void 0===i||null===(i=i[r])||void 0===i||null===(i=i.groups)||void 0===i?void 0:i[n],p=(null==u?void 0:u.totalBalanceInUserCurrency)??0,m=(null==u?void 0:u.userCurrency)??"",f=Y.find(e=>e.id===n);let h;return S&&f&&(h=te.has(n)?x.STATUS_CONNECTED:x.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT),a.default.createElement(c.Box,{className:"multichain-account-menu-popover__list--menu-item",key:`multichain-account-cell-${n}`},a.default.createElement(d.MultichainAccountCell,{accountId:n,accountName:o.metadata.name,accountNameString:o.metadata.name,balance:j(p,m),selected:te.has(n),onClick:t,connectionStatus:h,privacyMode:F,walletName:s?null===(l=e[r])||void 0===l||null===(l=l.metadata)||void 0===l?void 0:l.name:undefined,startAccessory:_?a.default.createElement(c.Box,{marginRight:4},a.default.createElement(c.Checkbox,{isChecked:te.has(n),onChange:()=>{t(n)}})):undefined,endAccessory:I?a.default.createElement(k.MultichainAccountMenu,{accountGroupId:n,isRemovable:!1,handleAccountRenameAction:Z,isOpen:U===n,onToggle:()=>ee(n)}):undefined}))},s=[];if(ne.length>0){const e=a.default.createElement(c.Box,{key:"pinned-header","data-testid":"multichain-account-tree-pinned-header",display:u.Display.Flex,alignItems:u.AlignItems.center,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2},a.default.createElement(c.Text,{variant:u.TextVariant.bodyMdMedium,color:u.TextColor.textAlternative},B("pinned")));s.push(e),ne.forEach(({groupId:e,groupData:t,walletId:n})=>{s.push(r(e,t,n,!0))})}const i=E||ne.length>0,l=Object.entries(e).reduce((e,[t,n])=>{var s;const l=null===(s=n.metadata)||void 0===s?void 0:s.name,d=a.default.createElement(c.Box,{key:`wallet-header-${t}`,"data-testid":"multichain-account-tree-wallet-header",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2},a.default.createElement(c.Text,{variant:u.TextVariant.bodyMdMedium,color:u.TextColor.textAlternative},l)),p=Object.entries(n.groups||{}).flatMap(([e,n])=>{var a,o;return(null===(a=n.metadata)||void 0===a?void 0:a.pinned)||(null===(o=n.metadata)||void 0===o?void 0:o.hidden)?[]:[r(e,n,t)]});M||n.type!==o.AccountWalletType.Entropy||p.push(a.default.createElement(b.AddMultichainAccount,{walletId:t,key:`add-multichain-account-${t}`}));return[...e,i&&p.length>0?d:null,...p]},[]);if(s.push(...l),ae.length>0){const e=a.default.createElement(c.Box,{key:"hidden-header",as:"button",onClick:()=>X(!J),backgroundColor:u.BackgroundColor.backgroundDefault,display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,width:u.BlockSize.Full,className:"hidden-accounts-list","data-testid":"multichain-account-tree-hidden-header"},a.default.createElement(c.Text,{variant:u.TextVariant.bodyMdMedium,color:u.TextColor.textAlternative},B("hidden")," (",ae.length,")"),a.default.createElement(c.Icon,{name:J?c.IconName.ArrowUp:c.IconName.ArrowDown,size:c.IconSize.Sm,color:u.IconColor.iconDefault}));s.push(e),J&&ae.forEach(({groupId:e,groupData:t,walletId:n})=>{s.push(r(e,t,n,!0))})}return s},[n,e,ne,ae,N,L,D,O,P,M,E,R,j,te,F,_,Z,ee,U,S,Y,B,J]);return a.default.createElement(a.default.Fragment,null,oe,$&&a.default.createElement(C.MultichainAccountEditModal,{key:z,isOpen:$,onClose:Q,accountGroupId:z}))}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-account-list/multichain-account-list.tsx"}],[6412,{"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../component-library":6325,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountMenuItems=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("classnames"))&&a.__esModule?a:{default:a},s=e("../../component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.MultichainAccountMenuItems=({menuConfig:e})=>{const t=(0,c.useI18nContext)(),n=(0,o.useMemo)(()=>e.map((e,n,a)=>{const c=n===a.length-1,l=Boolean(e.disabled);return!l&&o.default.createElement(s.Box,{key:e.textKey,className:(0,r.default)("multichain-account-cell-menu-item",{"multichain-account-cell-menu-item--with-border":!c,"multichain-account-cell-menu-item--disabled":l,"multichain-account-cell-menu-item--enabled":!l}),paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:3,display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center,onClick:e.onClick,"aria-label":t(e.textKey)},o.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.bodyMdMedium,color:e.textColor},t(e.textKey)),o.default.createElement(s.Icon,{name:e.iconName,size:s.IconSize.Md}))}),[e,t]);return o.default.createElement(o.default.Fragment,null,n)}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-account-menu-items/multichain-account-menu-items.tsx"}],[6413,{"./multichain-account-menu":6414},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAccountMenu",{enumerable:!0,get:function(){return a.MultichainAccountMenu}});var a=e("./multichain-account-menu")}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-account-menu/index.ts"}],[6414,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../selectors/multichain-accounts/account-tree":7890,"../../../store/actions":7916,"../../component-library":6325,"../multichain-account-menu-items/multichain-account-menu-items":6412,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountMenu=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),r=e("react-redux"),s=e("../../component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),l=e("../multichain-account-menu-items/multichain-account-menu-items"),u=e("../../../store/actions"),d=e("../../../selectors/multichain-accounts/account-tree");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.MultichainAccountMenu=({accountGroupId:e,isRemovable:t,buttonBackgroundColor:n,handleAccountRenameAction:p,isOpen:m=!1,onToggle:f})=>{const h=(0,o.useNavigate)(),g=(0,r.useDispatch)(),y=(0,a.useRef)(null),v=(0,r.useSelector)(d.getAccountTree),k=(0,a.useMemo)(()=>{const{wallets:t}=v;for(const a of Object.values(t)){var n;const t=null===(n=a.groups)||void 0===n?void 0:n[e];if(t)return t.metadata}return null},[v,e]),b=(null==k?void 0:k.pinned)??!1,C=(null==k?void 0:k.hidden)??!1,T=(0,a.useMemo)(()=>{const n=e=>{e.stopPropagation(),e.preventDefault()},a=[{textKey:"accountDetails",iconName:s.IconName.Details,onClick:t=>{t.stopPropagation();const n=`${c.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE}/${encodeURIComponent(e)}`;h(n)}},{textKey:"rename",iconName:s.IconName.Edit,onClick:t=>{t.stopPropagation(),t.preventDefault(),p&&p(e)}},{textKey:"addresses",iconName:s.IconName.QrCode,onClick:t=>{t.stopPropagation(),t.preventDefault();const n=`${c.MULTICHAIN_ACCOUNT_ADDRESS_LIST_PAGE_ROUTE}/${encodeURIComponent(e)}`;h(n)}},{textKey:b?"unpin":"pinToTop",iconName:b?s.IconName.Unpin:s.IconName.Pin,onClick:async t=>{t.stopPropagation(),t.preventDefault(),C&&await g((0,u.setAccountGroupHidden)(e,!1)),await g((0,u.setAccountGroupPinned)(e,!b)),null==f||f()}},{textKey:C?"showAccount":"hideAccount",iconName:C?s.IconName.Eye:s.IconName.EyeSlash,onClick:async t=>{t.stopPropagation(),t.preventDefault(),b&&await g((0,u.setAccountGroupPinned)(e,!1)),await g((0,u.setAccountGroupHidden)(e,!C)),null==f||f()}}];return t&&a.push({textKey:"remove",iconName:s.IconName.Trash,onClick:n,textColor:i.TextColor.errorDefault}),a},[e,p,h,t,b,C,g,f]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Box,{className:"multichain-account-cell-popover-menu-button",ref:y,display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:n||i.BackgroundColor.backgroundMuted,borderRadius:i.BorderRadius.LG,padding:1,onClick:e=>{e.stopPropagation(),null==f||f()}},a.default.createElement(s.Icon,{className:"multichain-account-cell-popover-menu-button-icon",name:s.IconName.MoreVertical})),a.default.createElement(s.Popover,{className:"multichain-account-cell-popover-menu",isOpen:m,position:s.PopoverPosition.LeftStart,referenceElement:y.current,matchWidth:!1,borderRadius:i.BorderRadius.LG,isPortal:!0,flip:!0,onClickOutside:f},a.default.createElement(s.ModalFocus,{restoreFocus:!0,initialFocusRef:y},a.default.createElement(l.MultichainAccountMenuItems,{menuConfig:T}))))}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-account-menu/multichain-account-menu.tsx"}],[6415,{"./multichain-account-network-group":6416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAccountNetworkGroup",{enumerable:!0,get:function(){return a.MultichainAccountNetworkGroup}});var a=e("./multichain-account-network-group")}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-account-network-group/index.ts"}],[6416,{"../../../../shared/constants/network":5617,"../../../../shared/modules/network.utils":5745,"../../../selectors/multichain-accounts/account-tree":7890,"../../component-library":6325,"../../multichain/avatar-group":6506,"../../multichain/avatar-group/avatar-group.types":6505,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountNetworkGroup=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/design-system-react"),s=e("../../../../shared/constants/network"),i=e("../../../../shared/modules/network.utils"),c=e("../../../selectors/multichain-accounts/account-tree"),l=e("../../multichain/avatar-group"),u=e("../../component-library"),d=e("../../multichain/avatar-group/avatar-group.types");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.MultichainAccountNetworkGroup=({groupId:e,chainIds:t,excludeTestNetworks:n=!0,limit:p=4,className:m})=>{const f=(0,o.useSelector)(t=>e?(0,c.getInternalAccountListSpreadByScopesByGroupId)(t,e):[]),h=(0,a.useMemo)(()=>{if(t&&!e)return t;if(e&&f.length>0){const e=new Set;if(f.forEach(t=>{e.add(t.scope)}),t){const n=new Set(t);return Array.from(e).filter(e=>n.has(e))}return Array.from(e)}return[]},[t,e,f]),g=(0,a.useMemo)(()=>{const e={"eip155:1":1,"0x1":1,"eip155:59144":2,"0xe708":2,"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":3,"bip122:000000000019d6689c085ae165831e93":4};return[...h].sort((t,n)=>(e[t]||999)-(e[n]||999)).map(e=>{let t=e;if(e.startsWith("eip155:"))try{t=(0,i.convertCaipToHexChainId)(e)}catch{t=e}return{avatarValue:s.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[t]}}).filter(e=>e.avatarValue).slice(0,p)},[h,n,p]);return a.default.createElement(r.Box,{style:{flexShrink:1,width:"fit-content"},flexDirection:r.BoxFlexDirection.Row,alignItems:r.BoxAlignItems.Center},a.default.createElement(l.AvatarGroup,{limit:p,size:u.AvatarTokenSize.Xs,members:g,avatarType:d.AvatarType.NETWORK,className:m}))}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-account-network-group/multichain-account-network-group.tsx"}],[6417,{"./multichain-accounts-tree":6418},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAccountsTree",{enumerable:!0,get:function(){return a.MultichainAccountsTree}});var a=e("./multichain-accounts-tree")}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-accounts-tree/index.ts"}],[6418,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../component-library":6325,"../../multichain/account-list-item":6451,"../../multichain/account-list-menu/hidden-account-list":6453,"./utils":6419,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAccountsTree=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),r=e("../../component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../multichain/account-list-item"),c=e("../../multichain/account-list-menu/hidden-account-list"),l=e("../../../helpers/constants/routes"),u=e("./utils");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(null,arguments)}n.MultichainAccountsTree=({wallets:e,allowedAccountTypes:t,connectedSites:n,currentTabOrigin:d,privacyMode:m,accountTreeItemProps:f,searchPattern:h,selectedAccount:g,onClose:y,onAccountTreeItemClick:v})=>{const k=(0,o.useNavigate)(),b=(0,a.useCallback)(e=>{k(l.WALLET_DETAILS_ROUTE.replace(":id",encodeURIComponent(e))),y()},[k,y]),C=(0,a.useMemo)(()=>{let o=!1;const l=Object.entries(e).reduce((e,[c,l])=>{var k;const C=null===(k=l.metadata)||void 0===k?void 0:k.name,T=a.default.createElement(r.Box,{key:`wallet-header-${c}`,"data-testid":"multichain-account-tree-wallet-header",display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,paddingLeft:4,paddingRight:4},a.default.createElement(r.Text,{variant:s.TextVariant.bodySm,fontWeight:s.FontWeight.Medium,color:s.TextColor.textAlternative},C),a.default.createElement(r.ButtonLink,{size:r.ButtonLinkSize.Sm,color:s.TextColor.primaryDefault,fontWeight:s.FontWeight.Medium,onClick:()=>b(c),style:{fontSize:"0.875rem"}},"Details")),x=Object.entries(l.groups||{}).flatMap(([e,s])=>{const c=s.accounts.filter(e=>{const n=!h||(0,u.matchesSearchPattern)(h,e),a=t.includes(e.type);return o||(o=e.hidden),n&&a&&!e.hidden});if(0===c.length)return[];const l=c.sort((e,t)=>Number(t.pinned)-Number(e.pinned)).map(e=>{var t;const o=null===(t=n[e.address])||void 0===t?void 0:t.find(({origin:e})=>e===d);return a.default.createElement(r.Box,{className:"multichain-account-menu-popover__list--menu-item",key:`box-${e.id}`},a.default.createElement(i.AccountListItem,p({onClick:v,account:e,key:`account-list-item-${e.id}`,selected:g.id===e.id,closeMenu:y,connectedAvatar:null==o?void 0:o.iconUrl,menuType:i.AccountListItemMenuTypes.Account,currentTabOrigin:d,isActive:e.active,privacyMode:m,isPinned:e.pinned,showAccountLabels:!1},f)))});return[a.default.createElement(r.Box,{key:`account-group-${e}`,marginBottom:4,style:{borderBottom:"1px solid var(--color-border-muted)"}},l)]});return 0===x.length?e:[...e,T,...x]},[]);return o&&l.push(a.default.createElement(c.HiddenAccountList,{onClose:y})),l},[e,h,t,n,y,d,m,f,g,v,b]);return a.default.createElement(a.default.Fragment,null,C)}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-accounts-tree/multichain-accounts-tree.tsx"}],[6419,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.matchesSearchPattern=void 0;n.matchesSearchPattern=(e,t)=>{const n=e.toLowerCase();return t.metadata.name.toLowerCase().includes(n)||t.address.toLowerCase().includes(n)}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-accounts-tree/utils.ts"}],[6420,{"../../../../shared/modules/network.utils":5745,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../selectors/multichain":7895,"../../component-library":6325,"@metamask/bridge-controller":1304,"@metamask/utils":2914,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MultichainAddressRow=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/utils"),r=e("@metamask/bridge-controller"),s=e("../../../helpers/constants/design-system"),i=e("../../component-library"),c=e("../../../helpers/utils/util"),l=e("../../../selectors/multichain"),u=e("../../../../shared/modules/network.utils"),d=e("../../../hooks/useI18nContext");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=({chainId:e,networkName:t,address:n,copyActionParams:p,qrActionParams:m,className:f=""})=>{const h=(0,d.useI18nContext)(),g=(0,l.getImageForChainId)(e.startsWith(o.KnownCaipNamespace.Eip155)?(0,u.convertCaipToHexChainId)(e):e),y=(0,c.shortenAddress)(n),[v,k]=(0,a.useState)(y),[b,C]=(0,a.useState)(i.IconName.Copy),[T,x]=(0,a.useState)(!1),w=(0,a.useRef)(null);(0,a.useEffect)(()=>{k(y)},[n,y]),(0,a.useEffect)(()=>()=>{w.current&&(clearTimeout(w.current),w.current=null)},[]);return a.default.createElement(i.Box,{className:`multichain-address-row ${f}`,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween,padding:4,gap:4,"data-testid":"multichain-address-row",backgroundColor:T?s.BackgroundColor.successMuted:s.BackgroundColor.backgroundDefault},a.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Md,name:t,src:g,borderRadius:s.BorderRadius.LG,"data-testid":"multichain-address-row-network-icon"}),a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexStart,style:{flex:1,minWidth:0}},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.textDefault,"data-testid":"multichain-address-row-network-name",ellipsis:!0,width:s.BlockSize.Full},t),a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:T?s.TextColor.successDefault:s.TextColor.textAlternative,"data-testid":"multichain-address-row-address"},v)),a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:2},a.default.createElement(i.ButtonIcon,{iconName:b,size:i.ButtonIconSize.Md,onClick:()=>{w.current&&clearTimeout(w.current),x(!0),p.callback(),k(p.message),C(i.IconName.CopySuccess),w.current=window.setTimeout(()=>{k(y),C(i.IconName.Copy),w.current=null,x(!1)},1e3)},ariaLabel:h("copyAddressShort"),color:T?s.IconColor.successDefault:s.IconColor.iconDefault,"data-testid":"multichain-address-row-copy-button"}),m?a.default.createElement(i.ButtonIcon,{iconName:i.IconName.QrCode,size:i.ButtonIconSize.Md,onClick:()=>{null==m||m.callback(n,t,(0,r.formatChainIdToCaip)(e),g)},ariaLabel:"Show QR code",color:s.IconColor.iconDefault,"data-testid":"multichain-address-row-qr-button"}):null))};n.MultichainAddressRow=m;n.default=m}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-address-row/multichain-address-row.tsx"}],[6421,{"./multichain-aggregated-list-row":6422,"./multichain-hovered-address-rows-hovered-list":6423},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAggregatedAddressListRow",{enumerable:!0,get:function(){return a.MultichainAggregatedAddressListRow}}),Object.defineProperty(n,"MultichainHoveredAddressRowsList",{enumerable:!0,get:function(){return o.MultichainHoveredAddressRowsList}});var a=e("./multichain-aggregated-list-row"),o=e("./multichain-hovered-address-rows-hovered-list")}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-address-rows-hovered-list/index.ts"}],[6422,{"../../../../app/scripts/lib/multichain/address":282,"../../../../shared/modules/selectors/networks":5753,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../multichain-account-network-group":6415,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAggregatedAddressListRow=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/design-system-react"),r=e("react-redux"),s=e("../../../helpers/utils/util"),i=e("../../../hooks/useI18nContext"),c=e("../../../../shared/modules/selectors/networks"),l=e("../multichain-account-network-group"),u=e("../../../../app/scripts/lib/multichain/address");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.MultichainAggregatedAddressListRow=({chainIds:e,address:t,copyActionParams:n,className:d=""})=>{const p=(0,i.useI18nContext)(),m=(0,s.shortenAddress)((0,u.normalizeSafeAddress)(t)),[f,h]=(0,a.useState)(m),[g,y]=(0,a.useState)(o.IconName.Copy),[v,k]=(0,a.useState)(!1),[b,C]=(0,a.useState)(!1),T=(0,a.useRef)(null);(0,a.useEffect)(()=>{h(m)},[t,m]),(0,a.useEffect)(()=>()=>{T.current&&(clearTimeout(T.current),T.current=null)},[]);const x=(0,r.useSelector)(t=>(0,c.getNetworksByScopes)(t,e)),w=(0,a.useMemo)(()=>{var t,n;return"Bitcoin"===(null===(t=x[0])||void 0===t?void 0:t.name)?p("networkNameBitcoinSegwit"):e.some(e=>e.startsWith("eip155:"))?p("networkNameEthereum"):null===(n=x[0])||void 0===n?void 0:n.name},[e,p,x]),A=(0,a.useMemo)(()=>v?o.BoxBackgroundColor.SuccessMuted:b?o.BoxBackgroundColor.BackgroundMuted:o.BoxBackgroundColor.BackgroundDefault,[v,b]);return a.default.createElement(o.Box,{className:`multichain-aggregated-address-row ${d}`,flexDirection:o.BoxFlexDirection.Row,alignItems:o.BoxAlignItems.Center,justifyContent:o.BoxJustifyContent.Between,gap:3,paddingTop:1,paddingBottom:1,"data-testid":"multichain-address-row",backgroundColor:A,onClick:e=>{e.stopPropagation(),T.current&&clearTimeout(T.current),k(!0),n.callback(),h(n.message),y(o.IconName.CopySuccess),T.current=setTimeout(()=>{h(m),y(o.IconName.Copy),T.current=null,k(!1)},1e3)},onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1)},a.default.createElement(o.Box,{gap:3,flexDirection:o.BoxFlexDirection.Row,alignItems:o.BoxAlignItems.Center},a.default.createElement(l.MultichainAccountNetworkGroup,{chainIds:e,limit:4}),a.default.createElement(o.Text,{variant:o.TextVariant.BodySm,fontWeight:o.FontWeight.Bold},w)),a.default.createElement(o.Box,{gap:1,flexDirection:o.BoxFlexDirection.Row,justifyContent:o.BoxJustifyContent.End,alignItems:o.BoxAlignItems.Center},a.default.createElement(o.Text,{variant:o.TextVariant.BodyXs,fontWeight:o.FontWeight.Medium,textAlign:o.TextAlign.Right,color:v?o.TextColor.SuccessDefault:b?o.TextColor.PrimaryDefaultHover:o.TextColor.TextAlternative,style:{width:"100px"}},f),a.default.createElement(o.Icon,{name:g,size:o.IconSize.Xs,color:v?o.IconColor.SuccessDefault:b?o.IconColor.PrimaryDefault:o.IconColor.IconAlternative,"aria-label":p("copyAddressShort")})))}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-address-rows-hovered-list/multichain-aggregated-list-row.tsx"}],[6423,{"../../../../app/scripts/lib/multichain/address":282,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/useCopyToClipboard":7033,"../../../hooks/useFormatters":7043,"../../../hooks/useI18nContext":7047,"../../../selectors/assets":7878,"../../../selectors/multichain-accounts/account-tree":7890,"../../component-library":6325,"./multichain-aggregated-list-row":6422,"@metamask/design-system-react":1741,react:5080,"react-redux":5021,"react-router-dom":5048},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MultichainHoveredAddressRowsList=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/design-system-react"),s=e("react-router-dom"),i=e("../../../helpers/constants/design-system"),c=e("../../component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../hooks/useCopyToClipboard"),d=e("../../../selectors/multichain-accounts/account-tree"),p=e("../../../helpers/constants/routes"),m=e("../../../selectors/assets"),f=e("../../../hooks/useFormatters"),h=e("../../../../app/scripts/lib/multichain/address"),g=e("./multichain-aggregated-list-row");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const v=new Map([["eip155:1",0],["bip122:000000000019d6689c085ae165831e93",1],["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",2],["tron:0x2b6653dc",3]]),k=({groupId:e,children:t,showAccountHeaderAndBalance:n=!0,hoverCloseDelay:y=50})=>{const k=(0,l.useI18nContext)(),[,b]=(0,u.useCopyToClipboard)(),C=(0,s.useHistory)(),[T,x]=(0,a.useState)(!1),[w,A]=(0,a.useState)(null),[M,E]=(0,a.useState)(c.PopoverPosition.BottomStart),_=(0,a.useRef)(null),S=(0,o.useSelector)(d.getAllAccountGroups),I=(0,o.useSelector)(m.selectBalanceForAllWallets),{balance:O,currency:P,accountGroup:N}=(0,a.useMemo)(()=>{var t;const n=S.find(t=>t.id===e),a=null==I||null===(t=I.wallets)||void 0===t||null===(t=t[null==n?void 0:n.walletId])||void 0===t||null===(t=t.groups)||void 0===t?void 0:t[e];return{balance:(null==a?void 0:a.totalBalanceInUserCurrency)??0,currency:(null==a?void 0:a.userCurrency)??"",accountGroup:n}},[I,e,S]),{formatCurrencyWithMinThreshold:B}=(0,f.useFormatters)(),D=(0,o.useSelector)(t=>(0,d.getInternalAccountListSpreadByScopesByGroupId)(t,e)),j=(0,a.useCallback)(()=>{if(!w)return c.PopoverPosition.BottomStart;const e=w.getBoundingClientRect();return window.innerHeight-e.bottom<400?c.PopoverPosition.TopStart:c.PopoverPosition.BottomStart},[w]),R=(0,a.useCallback)(()=>{_.current&&(clearTimeout(_.current),_.current=null),E(j()),x(!0)},[j]),L=(0,a.useCallback)(()=>{_.current=setTimeout(()=>{x(!1)},y)},[y]);(0,a.useEffect)(()=>()=>{_.current&&clearTimeout(_.current)},[]);const F=(0,a.useCallback)(e=>{const t=e.reduce((e,t)=>{const n=t.account.address;return e[n]||(e[n]={account:t.account,scopes:[]}),e[n].scopes.push(t.scope),e},{}),n=[];Object.values(t).forEach(({account:e,scopes:t})=>{const a=t.filter(e=>e.startsWith("eip155:")),o=t.filter(e=>!e.startsWith("eip155:"));a.length>0&&n.push({scopes:a,account:e}),o.forEach(t=>{n.push({scopes:[t],account:e})})});const a=[],o=[];return n.forEach(e=>{let t=-1;for(const n of e.scopes){const e=v.get(n);if(e!==undefined){t=e;break}}t>-1&&a[t]===undefined?a[t]=e:o.push(e)}),[...a.filter(Boolean),...o]},[]),$=(0,a.useCallback)((e,t)=>a.default.createElement(g.MultichainAggregatedAddressListRow,{key:`${e.account.address}-${t}`,chainIds:e.scopes.slice(0,4),address:e.account.address,copyActionParams:{message:k("multichainAccountAddressCopied"),callback:()=>{b((0,h.normalizeSafeAddress)(e.account.address))}}}),[b,k]),W=(0,a.useCallback)(t=>{t.stopPropagation(),C.push(`${p.MULTICHAIN_ACCOUNT_ADDRESS_LIST_PAGE_ROUTE}/${encodeURIComponent(e)}`)},[e,C]),z=(0,a.useMemo)(()=>F(D).map((e,t)=>$(e,t)),[D,$,F]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(r.Box,{ref:A,onMouseEnter:R,onMouseLeave:L},t),a.default.createElement(c.Popover,{referenceElement:w,isOpen:T,position:M,hasArrow:!0,backgroundColor:i.BackgroundColor.backgroundDefault,onMouseEnter:R,onMouseLeave:L,preventOverflow:!0,isPortal:!0,offset:[0,3],style:{zIndex:99999,maxHeight:"400px",minWidth:"320px"}},a.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column,"data-testid":"multichain-address-rows-list"},n&&a.default.createElement(r.Box,{marginBottom:2,flexDirection:r.BoxFlexDirection.Row,justifyContent:r.BoxJustifyContent.Between},a.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Bold},null==N?void 0:N.metadata.name),a.default.createElement(r.Text,{variant:r.TextVariant.BodySm,fontWeight:r.FontWeight.Medium,color:r.TextColor.TextAlternative},B(O,P))),a.default.createElement(r.Box,{marginBottom:2},z),a.default.createElement(r.Button,{variant:r.ButtonVariant.Secondary,onClick:W},a.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Row,alignItems:r.BoxAlignItems.Center,gap:4},a.default.createElement(r.Text,{variant:r.TextVariant.BodySm,fontWeight:r.FontWeight.Medium},k("multichainAddressViewAll")),a.default.createElement(r.Icon,{name:r.IconName.Arrow2Right,size:r.IconSize.Sm}))))))};n.MultichainHoveredAddressRowsList=k;n.default=k}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-address-rows-hovered-list/multichain-hovered-address-rows-hovered-list.tsx"}],[6424,{"./multichain-address-rows-list":6425},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainAddressRowsList",{enumerable:!0,get:function(){return a.MultichainAddressRowsList}});var a=e("./multichain-address-rows-list")}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-address-rows-list/index.ts"}],[6425,{"../../../helpers/constants/design-system":6899,"../../../hooks/useCopyToClipboard":7033,"../../../hooks/useI18nContext":7047,"../../../selectors/multichain-accounts/account-tree":7890,"../../component-library":6325,"../multichain-address-row/multichain-address-row":6420,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.MultichainAddressRowsList=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),i=e("../../component-library"),c=e("../../../hooks/useCopyToClipboard"),l=e("../multichain-address-row/multichain-address-row"),u=e("../../../selectors/multichain-accounts/account-tree");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=["eip155:1","bip122:000000000019d6689c085ae165831e93","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","tron:0x2b6653dc","eip155:59144"],m=({groupId:e,onQrClick:t})=>{const n=(0,r.useI18nContext)(),[d,m]=a.default.useState(""),[,f]=(0,c.useCopyToClipboard)(),h=(0,o.useSelector)(t=>(0,u.getInternalAccountListSpreadByScopesByGroupId)(t,e)),g=(0,a.useCallback)(e=>{const t=[],n=[];return e.forEach(e=>{const a=p.findIndex(t=>t===e.scope);a>=0?t[a]=e:n.push(e)}),[...t.filter(Boolean),...n]},[]),y=(0,a.useMemo)(()=>{let e=h;if(d.trim()){const t=d.toLowerCase();e=e.filter(({networkName:e,account:n})=>e.toLowerCase().includes(t)||n.address.toLowerCase().includes(t))}return g(e)},[h,d,g]),v=(0,a.useCallback)((e,o)=>a.default.createElement(l.MultichainAddressRow,{key:`${e.account.address}-${e.scope}-${o}`,chainId:e.scope,networkName:e.networkName,address:e.account.address,copyActionParams:{message:n("multichainAccountAddressCopied"),callback:()=>{f(e.account.address)}},qrActionParams:{callback:t}}),[f,t,n]),k=(0,a.useMemo)(()=>y.map((e,t)=>v(e,t)),[y,v]);return a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,"data-testid":"multichain-address-rows-list"},a.default.createElement(i.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(i.TextFieldSearch,{size:i.TextFieldSearchSize.Lg,placeholder:n("searchNetworks"),value:d,onChange:e=>{m(e.target.value)},clearButtonOnClick:()=>{m("")},width:s.BlockSize.Full,borderWidth:0,marginBottom:2,backgroundColor:s.BackgroundColor.backgroundMuted,borderRadius:s.BorderRadius.LG,"data-testid":"multichain-address-rows-list-search"})),a.default.createElement(i.Box,null,y.length>0?k:a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative,textAlign:s.TextAlign.Center,paddingTop:8,"data-testid":"multichain-address-rows-list-empty-message"},n(d?"noNetworksFound":"noNetworksAvailable"))))};n.MultichainAddressRowsList=m;n.default=m}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-address-rows-list/multichain-address-rows-list.tsx"}],[6426,{"./multichain-private-key-list":6427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainPrivateKeyList",{enumerable:!0,get:function(){return a.MultichainPrivateKeyList}});var a=e("./multichain-private-key-list")}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-private-key-list/index.ts"}],[6427,{"../../../helpers/constants/design-system":6899,"../../../hooks/useCopyToClipboard":7033,"../../../hooks/useI18nContext":7047,"../../../selectors/multichain-accounts/account-tree":7890,"../../../store/actions":7916,"../../component-library":6325,"../multichain-address-row/multichain-address-row":6420,"@metamask/keyring-controller":2110,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainPrivateKeyList=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/keyring-controller"),s=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/design-system"),c=e("../../component-library"),l=e("../../../hooks/useCopyToClipboard"),u=e("../multichain-address-row/multichain-address-row"),d=e("../../../selectors/multichain-accounts/account-tree"),p=e("../../../store/actions");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.MultichainPrivateKeyList=({groupId:e,goBack:t})=>{const n=(0,s.useI18nContext)(),m=(0,o.useDispatch)(),[f,h]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[v,k]=(0,a.useState)(!1),[b,C]=(0,a.useState)({}),T=(0,a.useCallback)(()=>{C({}),h(""),y(!1),k(!1)},[]);(0,a.useEffect)(()=>()=>{T()},[T]);const[,x]=(0,l.useCopyToClipboard)(),w=(0,o.useSelector)(t=>(0,d.getInternalAccountListSpreadByScopesByGroupId)(t,e)),A=(0,o.useSelector)(t=>(0,d.getInternalAccountsFromGroupById)(t,e)),M=(0,a.useCallback)(e=>{h(e.target.value)},[h]),E=(0,a.useCallback)(async()=>{try{await(0,p.verifyPassword)(f),y(!1),k(!0)}catch(e){y(!0),k(!1)}},[f]),_=(0,a.useCallback)(async()=>{const e=A.filter(e=>(e=>e.metadata.keyring.type===r.KeyringTypes.hd||e.metadata.keyring.type===r.KeyringTypes.simple)(e)).map(e=>e.address),t=await m((0,p.exportAccounts)(f,e)),n=await e.reduce((e,n,a)=>(e[n]=t[a],e),{});C(n)},[A,m,f]),S=(0,a.useCallback)(async()=>{await E(),await _()},[E,_]),I=(0,a.useCallback)(()=>{T(),t()},[T,t]),O=(0,a.useMemo)(()=>a.default.createElement(c.Box,{paddingTop:8,paddingBottom:4},a.default.createElement(c.Box,null,a.default.createElement(c.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault},n("enterYourPassword")),a.default.createElement(c.TextField,{type:c.TextFieldType.Password,placeholder:n("password"),size:c.TextFieldSize.Lg,value:f,onChange:M,error:g,width:i.BlockSize.Full,testId:"multichain-private-key-password-input"}),g?a.default.createElement(c.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.errorDefault,"data-testid":"wrong-password-msg"},n("wrongPassword")):null),a.default.createElement(c.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,gap:4,paddingBottom:2,paddingTop:8},a.default.createElement(c.Button,{block:!0,"data-testid":"cancel-button",onClick:I,size:c.ButtonSize.Lg,variant:c.ButtonVariant.Secondary},n("cancel")),a.default.createElement(c.Button,{block:!0,"data-testid":"confirm-button",onClick:S,size:c.ButtonSize.Lg,variant:c.ButtonVariant.Primary},n("confirm")))),[M,I,S,f,n,g]),P=(0,a.useCallback)((e,t)=>{const o=b[e.account.address];if(!o)return a.default.createElement(a.default.Fragment,null);return a.default.createElement(u.MultichainAddressRow,{key:`${e.account.address}-${e.scope}-${t}`,chainId:e.scope,networkName:e.networkName,address:e.account.address,copyActionParams:{message:n("multichainAccountPrivateKeyCopied"),callback:()=>{x(o)}}})},[x,b,n]),N=(0,a.useMemo)(()=>w.map((e,t)=>P(e,t)),[w,P]);return a.default.createElement(c.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,"data-testid":"multichain-private-keyring-list"},v?N:O)}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-private-key-list/multichain-private-key-list.tsx"}],[6428,{"../../../../helpers/constants/design-system":6899,"../../../app/preferred-avatar":6033,"../../../component-library":6325,"@metamask/design-system-react":1741,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainAvatarGroupType=n.MultichainAvatarGroup=void 0;var a=l(e("react")),o=l(e("classnames")),r=e("@metamask/design-system-react"),s=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),c=e("../../../app/preferred-avatar");function l(e){return e&&e.__esModule?e:{default:e}}let u=n.MultichainAvatarGroupType=function(e){return e.ACCOUNT="ACCOUNT",e.NETWORK="NETWORK",e}({});n.MultichainAvatarGroup=({type:e,className:t="",limit:n=4,members:l=[]})=>{const d=l.slice(0,n),p=l.length>n,m=`+${(l.length-n).toLocaleString()}`;return a.default.createElement(i.Box,{alignItems:s.AlignItems.center,display:s.Display.Flex,className:(0,o.default)("multichain-avatar-group",t),"data-testid":"avatar-group",gap:1},a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:1},d.map((t,n)=>a.default.createElement(i.Box,{borderRadius:s.BorderRadius.full,key:n},e===u.ACCOUNT&&a.default.createElement(c.PreferredAvatar,{"data-testid":`avatar-${n}`,size:r.AvatarAccountSize.Xs,address:t.avatarValue}),e===u.NETWORK&&a.default.createElement(i.AvatarNetwork,{"data-testid":`network-avatar-${n}`,src:t.avatarValue,name:t.symbol??"",size:i.AvatarNetworkSize.Xs})))),p&&a.default.createElement(i.Box,{paddingLeft:1,display:s.Display.Flex,alignItems:s.AlignItems.center},a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},m)))}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-site-cell/avatar-group/multichain-avatar-group.tsx"}],[6429,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../selectors/multichain-accounts/account-tree":7890,"../../app/preferred-avatar":6033,"../../component-library":6325,"../../multichain/edit-networks-modal":6553,"../../multichain/pages/review-permissions-page/site-cell/site-cell-connection-list-item":6679,"./tool-tip/multichain-site-cell-tooltip":6430,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainSiteCell=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/design-system-react"),s=e("../../../helpers/constants/design-system"),i=e("../../app/preferred-avatar"),c=e("../../../hooks/useI18nContext"),l=e("../../component-library"),u=e("../../multichain/edit-networks-modal"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../selectors/multichain-accounts/account-tree"),f=e("../../multichain/pages/review-permissions-page/site-cell/site-cell-connection-list-item"),h=e("./tool-tip/multichain-site-cell-tooltip");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.MultichainSiteCell=({nonTestNetworks:e,testNetworks:t,supportedAccountGroups:n,showEditAccounts:g,onSelectChainIds:y,selectedAccountGroupIds:v,selectedChainIds:k,isConnectFlow:b,hideAllToasts:C=()=>undefined})=>{const T=(0,c.useI18nContext)(),x=(0,a.useContext)(d.MetaMetricsContext),w=[...e,...t],A=(0,o.useSelector)(e=>{if(v.length>0&&v[0])try{return(0,m.getIconSeedAddressByAccountGroupId)(e,v[0])}catch(e){return""}return""}),[M,E]=(0,a.useState)(!1),_=w.filter(({caipChainId:e})=>k.includes(e)),S=k.length,I=(0,a.useMemo)(()=>{var e;return 1===v.length?T("connectedWithAccountName",[(null===(e=n.find(e=>e.id===v[0]))||void 0===e?void 0:e.metadata.name)||""]):T("connectedWithAccount",[v.length])},[v,n,T]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Box,{padding:4,gap:4,backgroundColor:s.BackgroundColor.backgroundDefault,borderRadius:s.BorderRadius.LG},a.default.createElement(f.SiteCellConnectionListItem,{title:T("accountsPermissionsTitle"),iconName:l.IconName.Eye,connectedMessage:I,unconnectedMessage:T("requestingFor",[v.length]),isConnectFlow:b,onClick:()=>{null==C||C(),x({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (permissions tab), Permissions toast, Permissions (dapp)"}}),g()},paddingBottomValue:2,paddingTopValue:0,content:1===v.length?a.default.createElement(i.PreferredAvatar,{address:A,size:r.AvatarAccountSize.Xs}):a.default.createElement(h.MultichainSiteCellTooltip,{accountGroups:n.filter(e=>v.includes(e.id))})}),a.default.createElement(f.SiteCellConnectionListItem,{title:T("permission_walletSwitchEthereumChain"),iconName:l.IconName.Global,connectedMessage:T("connectedWithNetwork",[S]),unconnectedMessage:T("requestingFor"),isConnectFlow:b,onClick:()=>{null==C||C(),E(!0),x({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.ViewPermissionedNetworks,properties:{location:"Connect view (permissions tab), Permissions toast, Permissions (dapp)"}})},paddingTopValue:2,paddingBottomValue:0,content:a.default.createElement(h.MultichainSiteCellTooltip,{networks:_})})),M&&a.default.createElement(u.EditNetworksModal,{nonTestNetworks:e,testNetworks:t,defaultSelectedChainIds:k,onClose:()=>E(!1),onSubmit:y}))}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-site-cell/multichain-site-cell.tsx"}],[6430,{"../../../../../shared/constants/network":5617,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../../selectors/multichain-accounts/account-tree":7890,"../../../app/preferred-avatar/preferred-avatar":6034,"../../../component-library":6325,"../avatar-group/multichain-avatar-group":6428,"@metamask/design-system-react":1741,react:5080,"react-redux":5021,"react-tippy":5062},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainSiteCellTooltip=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-tippy"),s=e("@metamask/design-system-react"),i=e("../../../../helpers/constants/design-system"),c=e("../../../component-library"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../../shared/constants/network"),d=e("../avatar-group/multichain-avatar-group"),p=e("../../../../selectors/multichain-accounts/account-tree"),m=e("../../../app/preferred-avatar/preferred-avatar");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const h=a.default.memo(({accountGroups:e,networks:t,moreAccountsText:n,moreNetworksText:o,avatarAccountVariant:r,seedAddresses:l})=>{const d=(null==e?void 0:e.slice(0,4))??[],p=(null==t?void 0:t.slice(0,4))??[],m=e&&e.length>4,f=t&&t.length>4;return a.default.createElement(c.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,"data-test-id":"site-cell-tooltip"},a.default.createElement(c.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},d.map(e=>a.default.createElement(c.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,textAlign:i.TextAlign.Left,key:e.id,padding:1,paddingInline:2,gap:2},a.default.createElement(s.AvatarAccount,{size:s.AvatarAccountSize.Xs,address:(null==l?void 0:l[e.id])??"",variant:r}),a.default.createElement(c.Text,{color:i.TextColor.overlayInverse,variant:i.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-connected-account-name",ellipsis:!0},e.metadata.name))),p.map(e=>a.default.createElement(c.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,textAlign:i.TextAlign.Left,key:e.chainId,padding:1,paddingInline:2,gap:2},a.default.createElement(c.AvatarNetwork,{size:c.AvatarNetworkSize.Xs,src:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name,borderStyle:i.BorderStyle.none}),a.default.createElement(c.Text,{color:i.TextColor.overlayInverse,variant:i.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-connected-account-name",ellipsis:!0},e.name))),e&&Array.isArray(e)&&m&&n&&a.default.createElement(c.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,textAlign:i.TextAlign.Left,paddingInline:2},a.default.createElement(c.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-plus-more-tooltip"},n)),t&&Array.isArray(t)&&f&&o&&a.default.createElement(c.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,textAlign:i.TextAlign.Left,paddingInline:2},a.default.createElement(c.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.bodyMdMedium,"data-testid":"networks-list-item-plus-more-tooltip"},o))))});h.displayName="TooltipContent";(n.MultichainSiteCellTooltip=a.default.memo(({accountGroups:e,networks:t})=>{const n=(0,l.useI18nContext)(),s=(0,o.useSelector)(m.getAvatarType),i=(0,o.useSelector)(t=>(0,p.getIconSeedAddressesByAccountGroups)(t,e??[])),c=(0,a.useMemo)(()=>(null==e?void 0:e.map(e=>{const t=i[e.id];return t?{avatarValue:t}:null}).filter(e=>null!==e))??[],[e,i]),f=(0,a.useMemo)(()=>(null==t?void 0:t.map(e=>({avatarValue:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],symbol:e.name})))??[],[t]),g=Array.isArray(e)&&e.length>0,y=Array.isArray(f)&&f.length>0,v=(0,a.useMemo)(()=>e&&e.length>4&&e?n("moreAccounts",[e.length-4]):undefined,[e,n]),k=(0,a.useMemo)(()=>t&&t.length>4&&t?n("moreNetworks",[t.length-4]):undefined,[t,n]);return a.default.createElement(r.Tooltip,{position:"bottom",html:a.default.createElement(h,{accountGroups:e,networks:t,moreAccountsText:v,moreNetworksText:k,avatarAccountVariant:s,seedAddresses:i}),arrow:!0,offset:0,delay:50,duration:0,size:"small",title:n("alertDisableTooltip"),trigger:"mouseenter",theme:"dark"},g&&a.default.createElement(d.MultichainAvatarGroup,{type:d.MultichainAvatarGroupType.ACCOUNT,members:c,limit:4}),y&&a.default.createElement(d.MultichainAvatarGroup,{type:d.MultichainAvatarGroupType.NETWORK,members:f,limit:4}))})).displayName="MultichainSiteCellTooltip"}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-site-cell/tool-tip/multichain-site-cell-tooltip.tsx"}],[6431,{"./multichain-srp-backup":6432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MultichainSrpBackup",{enumerable:!0,get:function(){return a.MultichainSrpBackup}});var a=e("./multichain-srp-backup")}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-srp-backup/index.ts"}],[6432,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/useI18nContext":7047,"../../app/srp-quiz-modal":6207,"../../component-library":6325,"@metamask/design-system-react":1741,classnames:3913,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainSrpBackup=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),r=p(e("classnames")),s=e("@metamask/design-system-react"),i=e("../../component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=p(e("../../app/srp-quiz-modal"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.MultichainSrpBackup=({shouldShowBackupReminder:e=!1,className:t="",keyringId:n})=>{const p=(0,l.useI18nContext)(),m=(0,o.useNavigate)(),[f,h]=(0,a.useState)(!1),g=(0,a.useCallback)(()=>{if(e){const e=`${u.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true`;m(e)}else h(!0)},[e,m,h]),y=(0,a.useCallback)(()=>{h(!1)},[h]),v=(0,r.default)("multichain-srp-backup",t);return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Box,{className:v,padding:4,width:c.BlockSize.Full,textAlign:c.TextAlign.Left,display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,alignItems:c.AlignItems.center,backgroundColor:c.BackgroundColor.backgroundMuted,onClick:g,"data-testid":"multichain-srp-backup"},a.default.createElement(i.Box,null,a.default.createElement(i.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.textDefault},p("secretRecoveryPhrase"))),a.default.createElement(i.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:2},a.default.createElement(i.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.textAlternative},p(e?"accountDetailsSrpBackUpMessage":"srpListStateBackedUp")),a.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:s.IconSize.Sm,color:c.IconColor.iconAlternative}))),f&&n&&a.default.createElement(d.default,{keyringId:n,isOpen:f,onClose:y,closeAfterCompleting:!0}))}}}},{package:"$root$",file:"ui/components/multichain-accounts/multichain-srp-backup/multichain-srp-backup.tsx"}],[6433,{"../../../../hooks/useAccountGroupsForPermissions":7024,"../../../../pages/permissions-connect/connect-page/utils":7719,"./multichain-edit-accounts-page":6434,"@metamask/chain-agnostic-permission":1359,"@metamask/utils":2914,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainEditAccountsPageWrapper=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/chain-agnostic-permission"),r=e("@metamask/utils"),s=e("../../../../pages/permissions-connect/connect-page/utils"),i=e("../../../../hooks/useAccountGroupsForPermissions"),c=e("./multichain-edit-accounts-page");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.MultichainEditAccountsPageWrapper=({title:e,onSubmit:t,onClose:n,permissions:l})=>{const u=(0,a.useMemo)(()=>(0,s.getCaip25CaveatValueFromPermissions)(l),[l]),d=(0,a.useMemo)(()=>(0,o.getCaipAccountIdsFromCaip25CaveatValue)(u),[u]),p=(0,o.getAllScopesFromCaip25CaveatValue)(u).filter(e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t!==r.KnownCaipNamespace.Wallet}),m=(0,o.getAllNamespacesFromCaip25CaveatValue)(u).filter(e=>e!==r.KnownCaipNamespace.Wallet),{connectedAccountGroups:f,supportedAccountGroups:h}=(0,i.useAccountGroupsForPermissions)(u,d,p,m),g=(0,a.useMemo)(()=>f.map(e=>e.id),[f]);return a.default.createElement(c.MultichainEditAccountsPage,{title:e,defaultSelectedAccountGroups:g,supportedAccountGroups:h,onSubmit:t,onClose:n})}}}},{package:"$root$",file:"ui/components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper.tsx"}],[6434,{"../../../../../shared/constants/metametrics":5613,"../../../../contexts/metametrics":6855,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../../selectors/multichain-accounts/account-tree":7890,"../../../../selectors/multichain-accounts/utils":7893,"../../../component-library":6325,"../../../multichain/pages/page":6674,"../../multichain-account-list":6410,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainEditAccountsPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../../shared/constants/metametrics"),l=e("../../../../contexts/metametrics"),u=e("../../multichain-account-list"),d=e("../../../../selectors/multichain-accounts/account-tree"),p=e("../../../multichain/pages/page"),m=e("../../../../selectors/multichain-accounts/utils");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.MultichainEditAccountsPage=({title:e,confirmButtonText:t,defaultSelectedAccountGroups:n,supportedAccountGroups:f,onSubmit:h,onClose:g})=>{const y=(0,r.useI18nContext)(),v=(0,a.useContext)(l.MetaMetricsContext),[k,b]=(0,a.useState)(n),C=(0,o.useSelector)(d.getAccountTree),T=(0,a.useMemo)(()=>{const e=new Map;return f.forEach(t=>{const n=(0,m.extractWalletIdFromGroupId)(t.id),a=n,o=C.wallets[a];o&&(e.has(n)||e.set(n,{id:o.id,type:o.type,metadata:o.metadata,groups:{}}),e.get(n).groups[t.id]=t)}),Object.fromEntries(e)},[C.wallets,f]),x=(0,a.useCallback)(e=>{k.includes(e)?b(k.filter(t=>t!==e)):b([...k,e])},[k]),w=(0,a.useCallback)(()=>{const e=new Set(n),t=new Set(k),a=k.filter(t=>!e.has(t)),o=n.filter(e=>!t.has(e));h(k),v({category:c.MetaMetricsEventCategory.Permissions,event:c.MetaMetricsEventName.UpdatePermissionedAccounts,properties:{addedAccounts:a.length,removedAccounts:o.length,location:"Edit Accounts Modal"}})},[k,n,h,v]);return a.default.createElement(p.Page,{"data-testid":"modal-page",className:"main-container connect-page",backgroundColor:i.BackgroundColor.backgroundDefault},a.default.createElement(p.Header,{textProps:{variant:i.TextVariant.headingSm},startAccessory:a.default.createElement(s.ButtonIcon,{size:s.ButtonIconSize.Md,ariaLabel:y("back"),iconName:s.IconName.ArrowLeft,onClick:g,"data-testid":"back-button"})},e??y("editAccounts")),a.default.createElement(p.Content,{paddingLeft:4,paddingRight:4,backgroundColor:i.BackgroundColor.transparent},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.default.createElement(u.MultichainAccountList,{wallets:T,selectedAccountGroups:k,handleAccountClick:x,showAccountCheckbox:!0}))),a.default.createElement(p.Footer,null,a.default.createElement(s.ButtonSecondary,{"data-testid":"connect-more-accounts-button",onClick:w,size:s.ButtonSecondarySize.Lg,block:!0},t??y("connect"))))}}}},{package:"$root$",file:"ui/components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-accounts-page.tsx"}],[6435,{"../../../../../shared/constants/network":5617,"../../../../../shared/lib/multichain/scope-utils":5707,"../../../../../shared/lib/trace":5718,"../../../../../shared/modules/environment":5736,"../../../../../shared/modules/selectors/networks":5753,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../hooks/gator-permissions/useRevokeGatorPermissionsMultiChain":6983,"../../../../hooks/useAccountGroupsForPermissions":7024,"../../../../hooks/useI18nContext":7047,"../../../../pages/permissions-connect/connect-page/utils":7719,"../../../../selectors":7886,"../../../../selectors/gator-permissions/gator-permissions":7883,"../../../../store/actions":7916,"../../../component-library":6325,"../../../multichain/disconnect-all-modal/disconnect-all-modal":6543,"../../../multichain/disconnect-permissions-modal/disconnect-permissions-modal":6544,"../../../multichain/pages/connections/components/no-connection":6654,"../../../multichain/pages/gator-permissions/components":6657,"../../../multichain/pages/page":6674,"../../../multichain/permissions-header/permissions-header":6702,"../../../multichain/toast/toast":6710,"../../multichain-site-cell/multichain-site-cell":6429,"../multichain-edit-accounts-page/multichain-edit-accounts-page":6434,"@metamask/chain-agnostic-permission":1359,loglevel:4643,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainReviewPermissionsPageMode=n.MultichainReviewPermissions=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("react-router-dom-v5-compat"),i=e("@metamask/chain-agnostic-permission"),c=(a=e("loglevel"))&&a.__esModule?a:{default:a},l=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../../shared/modules/selectors/networks"),p=e("../../../../selectors"),m=e("../../../../store/actions"),f=e("../../../component-library"),h=e("../../../multichain/toast/toast"),g=e("../../../multichain/pages/connections/components/no-connection"),y=e("../../../multichain/pages/page"),v=e("../../../../helpers/constants/routes"),k=e("../../../multichain/disconnect-all-modal/disconnect-all-modal"),b=e("../../../multichain/disconnect-permissions-modal/disconnect-permissions-modal"),C=e("../../../multichain/permissions-header/permissions-header"),T=e("../../../../../shared/constants/network"),x=e("../../../../../shared/lib/trace"),w=e("../../multichain-site-cell/multichain-site-cell"),A=e("../../../../hooks/useAccountGroupsForPermissions"),M=e("../../../../pages/permissions-connect/connect-page/utils"),E=e("../../../../../shared/lib/multichain/scope-utils"),_=e("../multichain-edit-accounts-page/multichain-edit-accounts-page"),S=e("../../../../selectors/gator-permissions/gator-permissions"),I=e("../../../multichain/pages/gator-permissions/components"),O=e("../../../../../shared/modules/environment"),P=e("../../../../hooks/gator-permissions/useRevokeGatorPermissionsMultiChain");function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}let B=n.MultichainReviewPermissionsPageMode=function(e){return e.Summary="summary",e.EditAccounts="edit-accounts",e}({});n.MultichainReviewPermissions=({params:e,navigate:t}={})=>{const n=(0,u.useI18nContext)(),a=(0,r.useDispatch)(),N=(0,s.useNavigate)(),D=(0,s.useParams)(),j=t||N,R=decodeURIComponent((e||D).origin),[L,F]=(0,o.useState)(!1),[$,W]=(0,o.useState)(!1),[z,V]=(0,o.useState)(!1),[U,G]=(0,o.useState)(!1),[H,K]=(0,o.useState)(B.Summary),q=R,Y=(0,r.useSelector)(p.getShowPermittedNetworkToastOpen);(0,o.useEffect)(()=>{Y&&(W(Y),a((0,m.hidePermittedNetworkToast)()))},[Y,a]);const J=(0,r.useSelector)(p.getConnectedSitesList)[q],X=(0,r.useSelector)(p.getPermissionSubjects),Q=()=>{const e=X[q];if(e){const t=Object.values(e.permissions).map(({parentCapability:e})=>e);if(t.length>0){const e={[q]:t};a((0,m.removePermissionsFor)(e))}}a((0,m.hidePermittedNetworkToast)())},Z=(0,r.useSelector)(d.getAllNetworkConfigurationsByCaipChainId),[ee,te]=(0,o.useMemo)(()=>Object.entries(Z).reduce(([e,t],[n,a])=>{const o=n;return(T.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[Z]),ne=(0,r.useSelector)(e=>(0,p.getAllPermittedChainsForSelectedTab)(e,q)),ae=(0,r.useSelector)(e=>(0,p.getPermissions)(e,q)),oe=(0,o.useMemo)(()=>ae?(0,M.getCaip25CaveatValueFromPermissions)(ae):null,[ae]),re=(0,o.useMemo)(()=>(0,i.getCaipAccountIdsFromCaip25CaveatValue)(oe??{requiredScopes:{},optionalScopes:{},sessionProperties:{},isMultichainOrigin:!1}),[oe]),se=oe?(0,i.getAllScopesFromCaip25CaveatValue)(oe):[],{supportedAccountGroups:ie,connectedAccountGroups:ce,existingConnectedCaipAccountIds:le}=(0,A.useAccountGroupsForPermissions)(oe??{requiredScopes:{},optionalScopes:{},sessionProperties:{},isMultichainOrigin:!1},re,se,[]),ue=(0,o.useMemo)(()=>ce.map(e=>e.id),[ce]),de=(0,o.useCallback)(()=>{K(B.EditAccounts)},[]),pe=(0,o.useCallback)(e=>{if(0===e.length)return K(B.Summary),void V(!0);const t=ie.filter(t=>e.includes(t.id)),n=(0,E.getCaip25AccountIdsFromAccountGroupAndScope)(t,ne);K(B.Summary),a((0,m.setPermittedAccounts)(q,n))},[q,ne,a,ie]),me=(0,r.useSelector)(e=>(0,S.getPermissionMetaDataByOrigin)(e,q)),fe=(0,r.useSelector)(e=>(0,S.getTokenTransferPermissionsByOrigin)(e,q)),he=(0,o.useMemo)(()=>fe.reduce((e,t)=>{const{chainId:n}=t.permissionResponse;return(e[n]||(e[n]=[])).push(t),e},{}),[fe]),{revokeGatorPermissionsBatchMultiChain:ge}=(0,P.useRevokeGatorPermissionsMultiChain)(),ye=(0,o.useMemo)(()=>fe.map(e=>({permission:e,chainId:e.permissionResponse.chainId,permissionType:e.permissionResponse.permission.type})),[fe]),ve=(0,o.useMemo)(()=>{if(!me)return!1;const e=Object.values(me).every(e=>0===e.count);return(0,O.isGatorPermissionsRevocationFeatureEnabled)()&&!e},[me]);return H===B.Summary?o.default.createElement(y.Page,{"data-testid":"connections-page",className:"main-container connections-page"},o.default.createElement(o.default.Fragment,null,o.default.createElement(C.PermissionsHeader,{securedOrigin:R,connectedSubjectsMetadata:J}),o.default.createElement(y.Content,{padding:0},ce.length>0?o.default.createElement(w.MultichainSiteCell,{nonTestNetworks:ee,testNetworks:te,supportedAccountGroups:ie,showEditAccounts:de,onSelectChainIds:async e=>{0!==e.length?(a((0,m.setPermittedChains)(q,e)),W(!0)):V(!0)},selectedAccountGroupIds:ue,selectedChainIds:ne}):null,ve?Object.entries(me).map(([e,t])=>o.default.createElement(I.PermissionsCell,{key:e,nonTestNetworks:ee,testNetworks:te,totalCount:t.count,chainIds:t.chains,paddingTop:0===ce.length?4:0})):null,0!==ce.length||ve?null:o.default.createElement(g.NoConnectionContent,null),z?o.default.createElement(k.DisconnectAllModal,{type:k.DisconnectType.Account,hostname:q,onClose:()=>V(!1),onClick:()=>{V(!1);me&&Object.values(me).some(e=>e.count>0)?G(!0):((0,x.trace)({name:x.TraceName.DisconnectAllModal}),Q(),(0,x.endTrace)({name:x.TraceName.DisconnectAllModal}))}}):null,U?o.default.createElement(b.DisconnectPermissionsModal,{isOpen:U,onClose:()=>G(!1),onSkip:()=>{G(!1),(0,x.trace)({name:x.TraceName.DisconnectAllModal}),Q(),(0,x.endTrace)({name:x.TraceName.DisconnectAllModal})},onRemoveAll:async()=>{try{(0,x.trace)({name:x.TraceName.DisconnectAllModal}),Q(),(0,x.endTrace)({name:x.TraceName.DisconnectAllModal}),G(!1),fe.length>0&&await ge(he)}catch(e){c.default.error("Error removing permissions:",e),G(!1)}},permissions:ye}):null),o.default.createElement(y.Footer,null,o.default.createElement(o.default.Fragment,null,le.length>0?o.default.createElement(f.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,width:l.BlockSize.Full,gap:2,alignItems:l.AlignItems.center},L?o.default.createElement(h.ToastContainer,null,o.default.createElement(h.Toast,{text:n("accountPermissionToast"),onClose:()=>F(!1),startAdornment:o.default.createElement(f.AvatarFavicon,{name:null==J?void 0:J.name,size:f.AvatarFaviconSize.Sm,src:null==J?void 0:J.iconUrl})})):null,$?o.default.createElement(h.ToastContainer,null,o.default.createElement(h.Toast,{text:n("networkPermissionToast"),onClose:()=>W(!1),startAdornment:o.default.createElement(f.AvatarFavicon,{name:null==J?void 0:J.name,size:f.AvatarFaviconSize.Sm,src:null==J?void 0:J.iconUrl})})):null,o.default.createElement(f.Button,{size:f.ButtonSize.Lg,block:!0,variant:f.ButtonVariant.Secondary,startIconName:f.IconName.Logout,danger:!0,onClick:()=>{V(!0)},"data-test-id":"disconnect-all"},n("disconnect"))):o.default.createElement(o.default.Fragment,null,ce.length>0?o.default.createElement(f.ButtonPrimary,{size:f.ButtonPrimarySize.Lg,block:!0,"data-test-id":"no-connections-button",onClick:async()=>{const e=await a((0,m.requestAccountsAndChainPermissionsWithId)(q));j(`${v.CONNECT_ROUTE}/${e}`)}},n("connectAccounts")):null))))):o.default.createElement(_.MultichainEditAccountsPage,{title:n("editAccounts"),confirmButtonText:n("update"),supportedAccountGroups:ie,defaultSelectedAccountGroups:ue,onSubmit:pe,onClose:()=>K(B.Summary)})}}}},{package:"$root$",file:"ui/components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page.tsx"}],[6436,{"./smart-contract-account-toggle-section":6437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SmartContractAccountToggleSection",{enumerable:!0,get:function(){return a.SmartContractAccountToggleSection}});var a=e("./smart-contract-account-toggle-section")}}},{package:"$root$",file:"ui/components/multichain-accounts/smart-contract-account-toggle-section/index.ts"}],[6437,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/zendesk-url":6911,"../../../hooks/useI18nContext":7047,"../../../pages/confirmations/hooks/useEIP7702Networks":7543,"../../component-library":6325,"../../ui/icon/preloader":6767,"../smart-contract-account-toggle":6438,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SmartContractAccountToggleSection=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),i=d(e("../../../helpers/constants/zendesk-url")),c=e("../../../pages/confirmations/hooks/useEIP7702Networks"),l=e("../smart-contract-account-toggle"),u=d(e("../../ui/icon/preloader"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.SmartContractAccountToggleSection=({address:e,returnToPage:t})=>{const n=(0,s.useI18nContext)(),{network7702List:d,pending:p}=(0,c.useEIP7702Networks)(e),m=(0,a.useMemo)(()=>p?a.default.createElement(o.Box,{paddingTop:12,paddingBottom:12,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,"data-testid":"network-loader"},a.default.createElement(u.default,{size:24})):a.default.createElement(o.Box,null,d.map(n=>a.default.createElement(l.SmartContractAccountToggle,{key:n.chainIdHex,networkConfig:n,address:e,returnToPage:t}))),[p,d,e,t]);return a.default.createElement(o.Box,{width:r.BlockSize.Full,backgroundColor:r.BackgroundColor.backgroundSection,paddingTop:3,paddingBottom:4,paddingLeft:4,paddingRight:2,style:{borderRadius:"8px"}},a.default.createElement(o.Box,{paddingRight:2},a.default.createElement(o.Text,{variant:r.TextVariant.bodyMdMedium,marginBottom:2},n("enableSmartContractAccount")),a.default.createElement(o.Text,{color:r.TextColor.textAlternative,variant:r.TextVariant.bodySm},n("enableSmartContractAccountDescription")," ",a.default.createElement(o.ButtonLink,{onClick:()=>{global.platform.openTab({url:i.default.ACCOUNT_UPGRADE})},size:o.ButtonLinkSize.Sm,target:"_blank",rel:"noopener noreferrer",style:{height:"22px",fontSize:"14px",lineHeight:"22px",verticalAlign:"baseline"}},n("learnMoreUpperCase")))),a.default.createElement(o.Box,null,m))}}}},{package:"$root$",file:"ui/components/multichain-accounts/smart-contract-account-toggle-section/smart-contract-account-toggle-section.tsx"}],[6438,{"./smart-contract-account-toggle":6439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SmartContractAccountToggle",{enumerable:!0,get:function(){return a.SmartContractAccountToggle}});var a=e("./smart-contract-account-toggle")}}},{package:"$root$",file:"ui/components/multichain-accounts/smart-contract-account-toggle/index.ts"}],[6439,{"../../../ducks/history/history":6880,"../../../ducks/smart-accounts/smart-accounts":6894,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../pages/confirmations/hooks/useBatchAuthorizationRequests":7528,"../../../pages/confirmations/hooks/useEIP7702Account":7542,"../../../selectors":7886,"../../component-library":6325,"../../ui/toggle-button":6831,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SmartContractAccountToggle=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("react-router-dom-v5-compat"),i=e("../../../pages/confirmations/hooks/useEIP7702Account"),c=e("../../../pages/confirmations/hooks/useBatchAuthorizationRequests"),l=(a=e("../../ui/toggle-button"))&&a.__esModule?a:{default:a},u=e("../../component-library"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/routes"),m=e("../../../selectors"),f=e("../../../ducks/history/history"),h=e("../../../ducks/smart-accounts/smart-accounts");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.SmartContractAccountToggle=({networkConfig:e,address:t,returnToPage:n})=>{const{name:a,isSupported:g,upgradeContractAddress:y,chainIdHex:v}=e,k=(0,s.useNavigate)(),b=(0,r.useDispatch)(),C=(0,r.useSelector)(m.unconfirmedTransactionsListSelector),T=(0,r.useSelector)(e=>(0,h.selectToggleState)(e,t,v)),{downgradeAccount:x,upgradeAccount:w,isUpgraded:A}=(0,i.useEIP7702Account)({chainId:v,onRedirect:()=>null}),[M,E]=(0,o.useState)(g),{hasPendingRequests:_}=(0,c.useBatchAuthorizationRequests)(t,v),[S,I]=(0,o.useState)(!1),O=T??M,P=_||S;(0,o.useEffect)(()=>{if(!_){(async()=>{try{const e=await A(t);E(e)}catch(e){E(g)}})()}},[_,A,t,g]),(0,o.useEffect)(()=>{if(!_&&null!==T&&!S){(async()=>{try{const e=await A(t);T!==e&&b((0,h.setToggleState)({address:t,chainId:v,value:null}))}catch(e){}})()}},[T,_,S,A,t,b,v]);const N=(0,o.useCallback)(()=>{const e=C.filter(e=>{var n;return(null===(n=e.txParams)||void 0===n?void 0:n.from)===t&&e.chainId===v});if(e.length>0){const a=e.sort((e,t)=>t.time-e.time)[0];if(n){const e="/account-details"===n?`${n}/${t}`:n;b((0,f.setRedirectAfterDefaultPage)({path:e,address:t}))}return k(`${p.CONFIRM_TRANSACTION_ROUTE}/${a.id}`),!0}return!1},[C,t,v,k,n,b]);(0,o.useEffect)(()=>{if(_){if(!N()){const e=setTimeout(()=>{b((0,h.setToggleState)({address:t,chainId:v,value:null}))},5e3);return()=>clearTimeout(e)}}return undefined},[_,N,b,t,v]);const B=(0,o.useCallback)(async()=>{b((0,h.setToggleState)({address:t,chainId:v,value:!O})),I(!0);try{O?await x(t):y&&await w(t,y)}catch(e){b((0,h.setToggleState)({address:t,chainId:v,value:null}))}},[t,v,x,O,w,y,b]);return o.default.createElement(u.Box,{display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween,marginTop:4},o.default.createElement(u.Text,{variant:d.TextVariant.bodyMdMedium,color:d.TextColor.textAlternative},a),o.default.createElement(l.default,{value:O,onToggle:B,disabled:P}))}}}},{package:"$root$",file:"ui/components/multichain-accounts/smart-contract-account-toggle/smart-contract-account-toggle.tsx"}],[6440,{"../../../selectors":7886,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.State2Wrapper=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),s=e("../../../selectors");n.State2Wrapper=o.default.memo(e=>{const t=(0,r.useSelector)(s.getIsMultichainAccountsState2Enabled),{state1Component:n,state2Component:a,...i}=e;return t?o.default.createElement(a,i):o.default.createElement(n,i)})}}},{package:"$root$",file:"ui/components/multichain-accounts/state2-wrapper/state2-wrapper.tsx"}],[6441,{"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"../../component-library/form-text-field/deprecated":6313,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsAuthenticate=void 0;var a,o=(a=e("prop-types"))&&a.__esModule?a:{default:a},r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../component-library"),d=e("../../component-library/form-text-field/deprecated");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=({address:e,onCancel:t,setPrivateKey:n,setShowHoldToReveal:a})=>{const o=(0,c.useI18nContext)(),p=(0,s.useDispatch)(),[m,f]=(0,r.useState)(""),h=(0,s.useSelector)(e=>e.appState.warning),g=(0,r.useCallback)(()=>{p((0,l.exportAccount)(m,e,n,a)).then(e=>(p((0,l.hideWarning)()),e)).catch(()=>{})},[p,m,e,n,a]),y=(0,r.useCallback)(e=>{"Enter"===e.key&&g()},[g]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(d.FormTextField,{marginTop:6,id:"account-details-authenticate",label:o("enterYourPassword"),placeholder:o("password"),error:Boolean(h),helpText:h,onChange:e=>f(e.target.value),value:m,variant:i.TextVariant.bodySm,type:"password",inputProps:{onKeyPress:y},labelProps:{fontWeight:i.FontWeight.Medium},autoFocus:!0}),r.default.createElement(u.BannerAlert,{marginTop:6,severity:i.Severity.Danger,description:o("privateKeyWarning")}),r.default.createElement(u.Box,{display:i.Display.Flex,marginTop:6,gap:2},r.default.createElement(u.ButtonSecondary,{onClick:t,block:!0},o("cancel")),r.default.createElement(u.ButtonPrimary,{onClick:g,disabled:""===m,block:!0},o("confirm"))))};n.AccountDetailsAuthenticate=m,m.propTypes={address:o.default.string.isRequired,onCancel:o.default.func.isRequired,setPrivateKey:o.default.func.isRequired,setShowHoldToReveal:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details-authenticate.js"}],[6442,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/hexstring-utils":5741,"../../../../shared/modules/selectors/networks":5753,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/useCopyToClipboard":7033,"../../../pages/confirmations/components/confirm/smart-account-tab/smart-account-tab":7319,"../../../pages/confirmations/hooks/useEIP7702Networks":7543,"../../../selectors":7886,"../../../store/actions":7916,"../../component-library":6325,"../../ui/editable-label/editable-label":6751,"../../ui/icon/preloader":6767,"../../ui/tabs":6823,"./account-details-section":6444,"@metamask/keyring-api":2100,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsDisplay=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=x(e("prop-types")),r=e("react-redux"),s=e("@metamask/keyring-api"),i=x(e("../../ui/editable-label/editable-label")),c=e("../../../store/actions"),l=e("../../../selectors"),u=e("../../../helpers/utils/util"),d=e("../../component-library"),p=e("../../../helpers/constants/design-system"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/modules/selectors/networks"),g=e("../../../../shared/modules/hexstring-utils"),y=e("../../../pages/confirmations/components/confirm/smart-account-tab/smart-account-tab"),v=e("../../../hooks/useCopyToClipboard"),k=e("../../../pages/confirmations/hooks/useEIP7702Networks"),b=x(e("../../ui/icon/preloader")),C=e("../../ui/tabs"),T=e("./account-details-section");function x(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const A=({accounts:e,accountName:t,address:n,accountType:o,onExportClick:x})=>{var w;const A=(0,r.useDispatch)(),M=(0,a.useContext)(m.MetaMetricsContext),E=(0,s.isEvmAccountType)(o)?null===(w=(0,g.toChecksumHexAddress)(n))||void 0===w?void 0:w.toLowerCase():n,[_,S]=(0,v.useCopyToClipboard)(),I=(0,a.useCallback)(()=>{S(E)},[E,S]),O=(0,r.useSelector)(h.getCurrentChainId),P=(0,r.useSelector)(l.getHardwareWalletType),{networkSupporting7702Present:N,pending:B}=(0,k.useEIP7702Networks)(n);return a.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column},a.default.createElement(i.default,{defaultValue:t,onSubmit:e=>{A((0,c.setAccountLabel)(n,e)),M({category:f.MetaMetricsEventCategory.Accounts,event:f.MetaMetricsEventName.AccountRenamed,properties:{location:"Account Details Modal",chain_id:O,account_hardware_type:P}})},accounts:e}),a.default.createElement(d.Box,{display:p.Display.Flex,style:{position:"relative"}},a.default.createElement(d.Text,{variant:p.TextVariant.bodyMd,"data-testid":"account-address-shortened",marginBottom:4},(0,u.shortenString)(E,{truncatedStartChars:12,truncatedEndChars:10})),a.default.createElement(d.ButtonIcon,{color:p.IconColor.iconAlternative,iconName:_?d.IconName.CopySuccess:d.IconName.Copy,size:d.ButtonIconSize.Md,style:{cursor:"pointer",position:"absolute",right:-32,top:-2},onClick:I,ariaLabel:"copy-button","data-testid":"address-copy-button-text"})),B&&a.default.createElement(d.Box,{paddingTop:12,paddingBottom:12,display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,"data-testid":"network-loader"},a.default.createElement(b.default,{size:18})),!B&&N&&a.default.createElement(C.Tabs,{onTabClick:()=>undefined,className:"mt-2"},a.default.createElement(C.Tab,{name:"Type",tabKey:"Type",className:"flex-1"},a.default.createElement(y.SmartAccountTab,{address:n})),a.default.createElement(C.Tab,{name:"Details",tabKey:"Details",className:"flex-1"},a.default.createElement(T.AccountDetailsSection,{address:n,onExportClick:x}))),!B&&!N&&a.default.createElement(T.AccountDetailsSection,{address:n,onExportClick:x}))};n.AccountDetailsDisplay=A,A.propTypes={accounts:o.default.array.isRequired,accountName:o.default.string.isRequired,address:o.default.string.isRequired,accountType:o.default.string.isRequired,onExportClick:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details-display.js"}],[6443,{"../../../helpers/constants/design-system":6899,"../../../hooks/useCopyToClipboard":7033,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"@lavamoat/lavadome-react":859,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsKey=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@lavamoat/lavadome-react"),s=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../hooks/useCopyToClipboard");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=Boolean(!1),m=({accountName:e,onClose:t,privateKey:n})=>{const a=(0,l.useI18nContext)(),[s,d]=(0,o.useState)(!1),[m,f]=(0,u.useCopyToClipboard)();return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Text,{marginTop:6,variant:c.TextVariant.bodySm,style:{wordBreak:"break-word"}},a("privateKeyCopyWarning",[e])),o.default.createElement(i.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,borderRadius:c.BorderRadius.SM,borderWidth:1,borderColor:c.BorderColor.default,padding:4,gap:4},o.default.createElement(i.Text,{"data-testid":"account-details-key",variant:c.TextVariant.bodySm,style:{wordBreak:"break-word"},onClick:()=>d(!0)},o.default.createElement(r.LavaDome,{unsafeOpenModeShadow:p,text:(0,r.toLavaDomeToken)(n)})),o.default.createElement(i.ButtonIcon,{onClick:()=>d(!1)||f(n),iconName:m?i.IconName.CopySuccess:i.IconName.Copy,ariaLabel:a("copyPrivateKey")})),s&&o.default.createElement(i.HelpText,{marginTop:2,severity:i.HelpTextSeverity.Danger},a("lavaDomeCopyWarning")),o.default.createElement(i.BannerAlert,{severity:c.Severity.Danger,marginTop:4},o.default.createElement(i.Text,{variant:c.TextVariant.bodySm},a("privateKeyWarning"))),o.default.createElement(i.ButtonPrimary,{marginTop:6,onClick:t,block:!0},a("done")))};n.AccountDetailsKey=m,m.propTypes={accountName:s.default.string.isRequired,onClose:s.default.func.isRequired,privateKey:s.default.string.isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details-key.js"}],[6444,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/selectors":7903,"../../component-library":6325,"../../ui/qr-code-view":6808,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsSection=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=(a=e("../../ui/qr-code-view"))&&a.__esModule?a:{default:a},i=e("../../../selectors"),c=e("../../../helpers/utils/util"),l=e("../../component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../hooks/useI18nContext"),f=e("../../../selectors/selectors");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.AccountDetailsSection=({address:e,onExportClick:t})=>{const n=(0,o.useContext)(d.MetaMetricsContext),a=(0,m.useI18nContext)(),h=(0,r.useSelector)(f.getHDEntropyIndex),g=(0,r.useSelector)(t=>(0,i.getInternalAccountByAddress)(t,e)),{metadata:{keyring:y}}=g,v=(0,c.isAbleToExportAccount)(null==y?void 0:y.type),k=(0,r.useSelector)(i.getMetaMaskKeyrings),b=(0,c.isAbleToRevealSrp)(g,k);return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.default,{Qr:{data:e}}),v?o.default.createElement(l.ButtonSecondary,{"data-testid":"account-details-display-export-private-key",block:!0,size:l.ButtonSecondarySize.Lg,variant:u.TextVariant.bodyMd,marginBottom:1,onClick:()=>{n({category:p.MetaMetricsEventCategory.Accounts,event:p.MetaMetricsEventName.KeyExportSelected,properties:{key_type:p.MetaMetricsEventKeyType.Pkey,location:"Account Details Modal",hd_entropy_index:h}}),t("PrivateKey")}},a("showPrivateKey")):null,b?o.default.createElement(l.ButtonSecondary,{"data-testid":"account-details-display-export-srp",block:!0,size:l.ButtonSecondarySize.Lg,variant:u.TextVariant.bodyMd,onClick:()=>{t("SRP")}},a("showSRP")):null)}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details-section.tsx"}],[6445,{"../../../../shared/constants/accounts":5594,"../../../../shared/constants/metametrics":5613,"../../../../shared/lib/accounts":5642,"../../../../shared/lib/keyring":5699,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"../../app/modals/hold-to-reveal-modal/hold-to-reveal-modal":5962,"../../app/preferred-avatar":6033,"../../app/srp-quiz-modal":6207,"../../component-library":6325,"../address-copy-button":6473,"./account-details-authenticate":6441,"./account-details-display":6442,"./account-details-key":6443,"@metamask/design-system-react":1741,"@metamask/keyring-controller":2110,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetails=void 0;var a=E(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("@metamask/keyring-controller"),i=e("@metamask/design-system-react"),c=e("../../../../shared/constants/metametrics"),l=e("../../../contexts/metametrics"),u=e("../../../helpers/constants/design-system"),d=e("../../../hooks/useI18nContext"),p=e("../../../selectors"),m=e("../../../store/actions"),f=E(e("../../app/modals/hold-to-reveal-modal/hold-to-reveal-modal")),h=e("../../component-library"),g=e("../address-copy-button"),y=e("../../app/preferred-avatar"),v=E(e("../../app/srp-quiz-modal")),k=e("../../../../shared/lib/keyring"),b=e("../../../helpers/utils/util"),C=e("../../../../shared/lib/accounts"),T=e("../../../../shared/constants/accounts"),x=e("./account-details-authenticate"),w=e("./account-details-display"),A=e("./account-details-key");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}const _=({address:e})=>{var t;const n=(0,r.useDispatch)(),a=(0,d.useI18nContext)(),M=(0,o.useContext)(l.MetaMetricsContext),E=(0,r.useSelector)(p.getHDEntropyIndex),_=(0,r.useSelector)(p.getMetaMaskAccountsOrdered),S=(0,r.useSelector)(t=>(0,p.getInternalAccountByAddress)(t,e)),{metadata:{name:I,keyring:{type:O}},options:{entropySource:P},type:N}=S,B=null===(t=S.metadata.snap)||void 0===t?void 0:t.id,[D,j]=(0,o.useState)(!1);let R=!D;const[L,F]=(0,o.useState)(!1);R=!D&&!L;const $=(0,r.useSelector)(p.getMetaMaskKeyrings),W=O===s.KeyringTypes.snap&&(0,C.isMultichainWalletSnap)(B)&&P?P:(0,k.findKeyringId)($,{address:e}),z=(0,b.isAbleToRevealSrp)(S,$),V=W&&z,[U,G]=(0,o.useState)(T.AttemptExportState.None),[H,K]=(0,o.useState)(""),q=(0,o.useCallback)(()=>{n((0,m.setAccountDetailsAddress)("")),n((0,m.clearAccountDetails)()),n((0,m.hideWarning)())},[n]),Y=o.default.createElement(y.PreferredAvatar,{address:e,size:i.AvatarAccountSize.Lg,className:"mx-auto"});return o.default.createElement(o.default.Fragment,null,o.default.createElement(h.Modal,{isOpen:R,onClose:q,"data-testid":"account-details-modal"},o.default.createElement(h.ModalOverlay,null),o.default.createElement(h.ModalContent,null,o.default.createElement(h.ModalHeader,{onClose:q,onBack:()=>{U===T.AttemptExportState.PrivateKey?(n((0,m.hideWarning)()),K(""),G(T.AttemptExportState.None)):U===T.AttemptExportState.None&&q()},childrenWrapperProps:{display:u.Display.Flex,justifyContent:u.JustifyContent.center}},U===T.AttemptExportState.PrivateKey?a("showPrivateKey"):Y),o.default.createElement(h.ModalBody,null,U===T.AttemptExportState.None&&o.default.createElement(w.AccountDetailsDisplay,{accounts:_,accountName:I,accountType:N,address:e,onExportClick:e=>{e===T.AttemptExportState.SRP&&F(!0),G(e)}}),U===T.AttemptExportState.PrivateKey&&o.default.createElement(o.default.Fragment,null,o.default.createElement(h.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column},Y,o.default.createElement(h.Text,{marginTop:2,marginBottom:2,variant:u.TextVariant.bodyLgMedium,style:{wordBreak:"break-word"}},I),o.default.createElement(g.AddressCopyButton,{address:e,shorten:!0})),H?o.default.createElement(A.AccountDetailsKey,{accountName:I,onClose:q,privateKey:H}):o.default.createElement(x.AccountDetailsAuthenticate,{address:e,onCancel:q,setPrivateKey:K,setShowHoldToReveal:j}))))),o.default.createElement(f.default,{isOpen:D,onClose:()=>{M({category:c.MetaMetricsEventCategory.Keys,event:c.MetaMetricsEventName.KeyExportCanceled,properties:{key_type:c.MetaMetricsEventKeyType.Pkey,hd_entropy_index:E}}),K(""),j(!1)},onLongPressed:()=>{j(!1)},holdToRevealType:"PrivateKey"}),V&&o.default.createElement(v.default,{keyringId:W,isOpen:L,onClose:()=>{F(!1),q()},closeAfterCompleting:!0}))};n.AccountDetails=_,_.propTypes={address:a.default.string}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details.tsx"}],[6446,{"./account-details":6445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountDetails",{enumerable:!0,get:function(){return a.AccountDetails}});var a=e("./account-details")}}},{package:"$root$",file:"ui/components/multichain/account-details/index.js"}],[6447,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/selectors/networks":5753,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/metrics":6938,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/selectors":7903,"../../../store/actions":7916,"../../component-library":6325,"../../ui/menu":6788,"../menu-items":6571,"@metamask/bridge-controller":1304,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountListItemMenu=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("@metamask/bridge-controller"),c=e("../../../contexts/metametrics"),l=e("../../../hooks/useI18nContext"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../selectors"),p=e("../../ui/menu"),m=e("../../component-library"),f=e("../../../../shared/constants/metametrics"),h=e("../../../store/actions"),g=e("../../../helpers/constants/design-system"),y=e("../../../helpers/utils/metrics"),v=e("../menu-items"),k=e("../../../selectors/selectors");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const C="Account Options",T=({anchorElement:e,onClose:t,closeMenu:n,isRemovable:a,account:s,isOpen:b,isPinned:T,isHidden:x})=>{const w=(0,l.useI18nContext)(),A=(0,o.useContext)(c.MetaMetricsContext),M=(0,r.useSelector)(k.getHDEntropyIndex),E=(0,r.useDispatch)(),_=(0,r.useSelector)(u.getCurrentChainId),S=(0,r.useSelector)(d.getHardwareWalletType),I=(0,r.useSelector)(d.getIsMultichainAccountsState1Enabled),{keyring:O}=s.metadata,P=(0,y.formatAccountType)((0,d.getAccountTypeForKeyring)(O)),N=(0,r.useSelector)(d.getPinnedAccountsList),B=(0,r.useSelector)(d.getHiddenAccountsList),D=(0,o.useRef)(null),j=(0,o.useRef)(null),R=(0,o.useRef)(null),L=(0,o.useRef)(null);(0,o.useEffect)(()=>{L.current?D.current=L.current:R.current?D.current=R.current:D.current=j.current},[L.current,R.current,j.current]);const F=(0,o.useCallback)(e=>{"Tab"===e.key&&e.target===D.current&&t()},[t]),$=(0,o.useRef)(null),W=(0,o.useCallback)(e=>{null!=$&&$.current&&!$.current.contains(e.target)&&t()},[t]);(0,o.useEffect)(()=>(document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}),[W]);const z=e=>{const t=N.filter(t=>t!==e);E((0,h.updateAccountsList)(t))};return o.default.createElement(m.Popover,{className:"multichain-account-list-item-menu__popover",referenceElement:e,role:m.PopoverRole.Dialog,position:m.PopoverPosition.Bottom,offset:[0,0],padding:0,isOpen:b,isPortal:!0,preventOverflow:!0,flip:!0},o.default.createElement(m.ModalFocus,{restoreFocus:!0,initialFocusRef:e},o.default.createElement("div",{onKeyDown:F,ref:$},o.default.createElement(v.AccountDetailsMenuItem,{metricsLocation:C,closeMenu:n,address:s.address,textProps:{variant:g.TextVariant.bodySm}}),o.default.createElement(v.ViewExplorerMenuItem,{metricsLocation:C,closeMenu:n,textProps:{variant:g.TextVariant.bodySm},account:s}),x?null:o.default.createElement(p.MenuItem,{"data-testid":"account-list-menu-pin",onClick:()=>{T?z(s.address):(e=>{const t=[...N,e];E((0,h.updateAccountsList)(t))})(s.address),t()},iconName:T?m.IconName.Unpin:m.IconName.Pin},o.default.createElement(m.Text,{variant:g.TextVariant.bodySm},w(T?"unpin":"pinToTop"))),o.default.createElement(p.MenuItem,{"data-testid":"account-list-menu-hide",onClick:()=>{x?(e=>{const t=B.filter(t=>t!==e);E((0,h.updateHiddenAccountsList)(t))})(s.address):(e=>{if(B.includes(e))return;const t=[...B,e];N.includes(e)&&z(e),E((0,h.updateHiddenAccountsList)(t))})(s.address),t()},iconName:x?m.IconName.Eye:m.IconName.EyeSlash},o.default.createElement(m.Text,{variant:g.TextVariant.bodySm},w(x?"showAccount":"hideAccount"))),a&&!I?o.default.createElement(p.MenuItem,{ref:R,"data-testid":"account-list-menu-remove",onClick:()=>{E((0,h.showModal)({name:"CONFIRM_REMOVE_ACCOUNT",account:s})),A({event:f.MetaMetricsEventName.AccountRemoved,category:f.MetaMetricsEventCategory.Accounts,properties:{account_hardware_type:S,chain_id:_,account_type:P,hd_entropy_index:M,caip_chain_id:(0,i.formatChainIdToCaip)(_)}}),t(),null==n||n()},iconName:m.IconName.Trash},o.default.createElement(m.Text,{variant:g.TextVariant.bodySm},w("removeAccount"))):null)))};n.AccountListItemMenu=T,T.propTypes={anchorElement:s.default.instanceOf(window.Element),onClose:s.default.func.isRequired,isOpen:s.default.bool.isRequired,closeMenu:s.default.func,isRemovable:s.default.bool.isRequired,isPinned:s.default.bool,isHidden:s.default.bool,account:s.default.shape({id:s.default.string.isRequired,address:s.default.string.isRequired,balance:s.default.string.isRequired,metadata:s.default.shape({name:s.default.string.isRequired,snap:s.default.shape({id:s.default.string.isRequired,name:s.default.string,enabled:s.default.bool}),keyring:s.default.shape({type:s.default.string.isRequired}).isRequired}).isRequired}).isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-list-item-menu/account-list-item-menu.js"}],[6448,{"./account-list-item-menu":6447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountListItemMenu",{enumerable:!0,get:function(){return a.AccountListItemMenu}});var a=e("./account-list-item-menu")}}},{package:"$root$",file:"ui/components/multichain/account-list-item-menu/index.js"}],[6449,{"../../../../app/scripts/lib/multichain/address":282,"../../../../shared/constants/keyring":5609,"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/multichain/assets":5615,"../../../contexts/metametrics":6855,"../../../helpers/constants/common":6897,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/accounts":6924,"../../../helpers/utils/util":6959,"../../../hooks/useAccountTotalCrossChainFiatBalance":7025,"../../../hooks/useGetFormattedTokensPerChain":7046,"../../../hooks/useI18nContext":7047,"../../../hooks/useMultichainSelector":7057,"../../../selectors":7886,"../../../selectors/assets":7878,"../../../selectors/multichain":7895,"../../../selectors/selectors":7903,"../../app/preferred-avatar":6033,"../../app/user-preferenced-currency-display/user-preferenced-currency-display.component":6246,"../../component-library":6325,"../../ui/tooltip/tooltip":6836,"../account-list-item-menu":6448,"../account-network-indicator":6458,"../connected-accounts-menu":6524,"../connected-status":6530,"./account-list-item.types":6450,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=N(e("prop-types")),r=N(e("classnames")),s=e("react-redux"),i=e("../../../hooks/useI18nContext"),c=e("../../../helpers/utils/util"),l=e("../account-list-item-menu"),u=e("../connected-accounts-menu"),d=e("../../component-library"),p=e("../../../helpers/constants/design-system"),m=e("../../app/preferred-avatar"),f=e("../../../../shared/constants/keyring"),h=N(e("../../app/user-preferenced-currency-display/user-preferenced-currency-display.component")),g=e("../../../helpers/constants/common"),y=N(e("../../ui/tooltip/tooltip")),v=e("../../../../shared/constants/metametrics"),k=e("../../../contexts/metametrics"),b=e("../../../selectors"),C=e("../../../selectors/multichain"),T=e("../connected-status"),x=e("../../../selectors/selectors"),w=e("../../../../app/scripts/lib/multichain/address"),A=e("../../../hooks/useMultichainSelector"),M=e("../../../hooks/useGetFormattedTokensPerChain"),E=e("../../../hooks/useAccountTotalCrossChainFiatBalance"),_=e("../../../helpers/utils/accounts"),S=e("../../../selectors/assets"),I=e("../account-network-indicator"),O=e("../../../../shared/constants/multichain/assets"),P=e("./account-list-item.types");function N(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}const D=({account:e,selected:t,onClick:n,closeMenu:o,accountsCount:N,connectedAvatar:B,isPinned:D=!1,menuType:j=P.AccountListItemMenuTypes.None,isHidden:R=!1,currentTabOrigin:L,isActive:F=!1,startAccessory:$,onActionClick:W,shouldScrollToWhenSelected:z=!0,showConnectedStatus:V=!0,privacyMode:U=!1,showAccountLabels:G=!0,showSelectionIndicator:H=!0})=>{var K;const q=(0,i.useI18nContext)(),Y=(0,s.useSelector)(x.getHDEntropyIndex),[J,X]=(0,a.useState)(!1),[Q,Z]=(0,a.useState)(),ee=(0,s.useSelector)(b.getSnapsMetadata),te=(0,s.useSelector)(b.getMetaMaskKeyrings),ne=(0,a.useMemo)(()=>{var t;return(0,_.getAccountLabels)(e.metadata.keyring.type,e,te,e.metadata.keyring.type===f.KeyringType.snap?(0,c.getSnapName)(ee)(null===(t=e.metadata)||void 0===t||null===(t=t.snap)||void 0===t?void 0:t.id):null)},[e,te,ee]),{isEvmNetwork:ae,chainId:oe}=(0,A.useMultichainSelector)(C.getMultichainNetwork,e),re=(0,A.useMultichainSelector)(C.getMultichainIsTestnet,e),se=!re,ie=(0,A.useMultichainSelector)(C.getMultichainShouldShowFiat,e),ce=(0,s.useSelector)(b.getShowFiatInTestnets),le=ie&&(se||re&&ce),ue=(0,s.useSelector)(t=>(0,S.getMultichainAggregatedBalance)(t,e)),de=(0,s.useSelector)(C.getMultichainBalances),pe=null==de?void 0:de[e.id],me=null==pe||null===(K=pe[`${O.MULTICHAIN_NETWORK_TO_ASSET_TYPES[oe]}`])||void 0===K?void 0:K.amount,fe=(0,s.useSelector)(b.getShouldHideZeroBalanceTokens),he=(0,s.useSelector)(b.getIsTokenNetworkFilterEqualCurrentNetwork),ge=(0,s.useSelector)(b.getChainIdsToPoll),{formattedTokensWithBalancesPerChain:ye}=(0,M.useGetFormattedTokensPerChain)(e,fe,he,ge),{totalFiatBalance:ve}=(0,E.useAccountTotalCrossChainFiatBalance)(e,ye);let ke;ke=ae?!ie||re?e.balance:ve:!ie||re?me:ue;const be=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e,n;t&&z&&(null===(e=be.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e))},[be,t,z]);const Ce=(0,a.useContext)(k.MetaMetricsContext),Te=(0,s.useSelector)(t=>(0,b.isAccountConnectedToCurrentTab)(t,e.address)),xe=L&&Te,we=1===N,Ae=V&&xe;return a.default.createElement(d.Box,{display:p.Display.Flex,padding:4,backgroundColor:t?p.Color.primaryMuted:p.Color.transparent,className:(0,r.default)("multichain-account-list-item items-center",{"multichain-account-list-item--selected":t,"multichain-account-list-item--connected":Boolean(B),"multichain-account-list-item--clickable":Boolean(n)}),"data-testid":"account-item",ref:be,onClick:()=>{J||null==n||n(e)}},$?a.default.createElement(d.Box,{marginInlineEnd:2,marginTop:1},$):null,t&&H&&a.default.createElement(d.Box,{className:"multichain-account-list-item__selected-indicator",borderRadius:p.BorderRadius.pill,backgroundColor:p.Color.primaryDefault,"data-testid":"account-list-item-selected-indicator"}),a.default.createElement(d.Box,{className:"flex w-full gap-2 items-center"},a.default.createElement(d.Box,{display:[p.Display.Flex,p.Display.None],"data-testid":"account-list-item-badge"},a.default.createElement(T.ConnectedStatus,{address:e.address,isActive:F,showConnectedStatus:Ae})),a.default.createElement(d.Box,{display:[p.Display.None,p.Display.Flex]},a.default.createElement(m.PreferredAvatar,{address:e.address})),a.default.createElement(d.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,className:"multichain-account-list-item__content"},a.default.createElement(d.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column},a.default.createElement(d.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween},a.default.createElement(d.Box,{className:"multichain-account-list-item__account-name",marginInlineEnd:2,display:p.Display.Flex,alignItems:p.AlignItems.center,gap:2},D?a.default.createElement(d.Icon,{name:d.IconName.Pin,size:d.IconSize.Xs,className:"account-pinned-icon","data-testid":"account-pinned-icon"}):null,R?a.default.createElement(d.Icon,{name:d.IconName.EyeSlash,size:d.IconSize.Xs,className:"account-hidden-icon"}):null,a.default.createElement(d.Text,{as:"button",onClick:t=>{n&&(t.stopPropagation(),n(e))},variant:p.TextVariant.bodyMdMedium,className:"multichain-account-list-item__account-name__button",padding:0,backgroundColor:p.BackgroundColor.transparent,width:p.BlockSize.Full,textAlign:p.TextAlign.Left,ellipsis:!0},e.metadata.name.length>17?a.default.createElement(y.default,{title:e.metadata.name,position:"bottom",wrapperClassName:"multichain-account-list-item__tooltip"},e.metadata.name):e.metadata.name)),a.default.createElement(d.Text,{as:"div",className:"multichain-account-list-item__asset",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.flexEnd,ellipsis:!0,textAlign:p.TextAlign.End},a.default.createElement(h.default,{account:e,ethNumberOfDecimals:3,value:ke,type:g.PRIMARY,showFiat:le,isAggregatedFiatOverviewBalance:!re&&ie||!ae&&ie,"data-testid":"first-currency-display",privacyMode:U})))),a.default.createElement(d.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween},a.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center},a.default.createElement(d.Text,{variant:p.TextVariant.bodySm,color:p.Color.textAlternative,"data-testid":"account-list-address"},(0,c.shortenAddress)((0,w.normalizeSafeAddress)(e.address)))),a.default.createElement(d.Box,{className:"network-indicator"},a.default.createElement(I.AccountNetworkIndicator,{scopes:e.scopes}))),G&&ne.length>0?a.default.createElement(d.Box,{flexDirection:p.FlexDirection.Row},ne.map(({label:t,icon:n})=>a.default.createElement(d.Tag,{"data-testid":`account-list-item-tag-${e.id}-${t}`,key:t,label:t,labelProps:{variant:p.TextVariant.bodyXs,color:p.Color.textAlternative},startIconName:n}))):null)),a.default.createElement(d.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center},j===P.AccountListItemMenuTypes.None?null:a.default.createElement(d.ButtonIcon,{ariaLabel:`${e.metadata.name} ${q("options")}`,iconName:d.IconName.MoreVertical,size:d.IconSize.Sm,ref:e=>{Z(e)},onClick:e=>{e.stopPropagation(),J||Ce({event:v.MetaMetricsEventName.AccountDetailMenuOpened,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Account Options",hd_entropy_index:Y}}),X(!J)},"data-testid":"account-list-item-menu-button"}),j===P.AccountListItemMenuTypes.Account&&a.default.createElement(l.AccountListItemMenu,{anchorElement:Q,account:e,onClose:()=>X(!1),isOpen:J,isRemovable:e.metadata.keyring.type!==f.KeyringType.hdKeyTree&&!(0,b.isSolanaAccount)(e),closeMenu:o,isPinned:D,isHidden:R,isConnected:xe}),j===P.AccountListItemMenuTypes.Connection&&a.default.createElement(u.ConnectedAccountsMenu,{anchorElement:Q,account:e,onClose:()=>X(!1),disableAccountSwitcher:we&&t,isOpen:J,onActionClick:W,activeTabOrigin:L})))};D.propTypes={account:o.default.shape({id:o.default.string.isRequired,address:o.default.string.isRequired,balance:o.default.string.isRequired,metadata:o.default.shape({name:o.default.string.isRequired,snap:o.default.shape({id:o.default.string.isRequired,name:o.default.string,enabled:o.default.bool}),keyring:o.default.shape({type:o.default.string.isRequired}).isRequired}).isRequired,scopes:o.default.arrayOf(o.default.string).isRequired}).isRequired,selected:o.default.bool.isRequired,onClick:o.default.func,accountsCount:o.default.number,closeMenu:o.default.func,onActionClick:o.default.func,connectedAvatar:o.default.string,menuType:o.default.string,isPinned:o.default.bool,isHidden:o.default.bool,currentTabOrigin:o.default.string,isActive:o.default.bool,startAccessory:o.default.node,shouldScrollToWhenSelected:o.default.bool,privacyMode:o.default.bool,showConnectedStatus:o.default.bool,showAccountLabels:o.default.bool,showSelectionIndicator:o.default.bool},D.displayName="AccountListItem";n.default=a.default.memo(D)}}},{package:"$root$",file:"ui/components/multichain/account-list-item/account-list-item.js"}],[6450,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountListItemMenuTypes=void 0;n.AccountListItemMenuTypes={None:"none",Connection:"connection",Account:"account"}}}},{package:"$root$",file:"ui/components/multichain/account-list-item/account-list-item.types.js"}],[6451,{"./account-list-item":6449,"./account-list-item.types":6450},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountListItem",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"AccountListItemMenuTypes",{enumerable:!0,get:function(){return r.AccountListItemMenuTypes}});var a,o=(a=e("./account-list-item"))&&a.__esModule?a:{default:a},r=e("./account-list-item.types")}}},{package:"$root$",file:"ui/components/multichain/account-list-item/index.js"}],[6452,{"../../../../shared/constants/app-state":5597,"../../../../shared/constants/metametrics":5613,"../../../../shared/lib/trace":5718,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"../../component-library":6325,"../account-list-item":6451,"../account-list-item/account-list-item.types":6450,"../account-menu":6456,"./hidden-account-list":6453,"@metamask/keyring-api":2100,"fuse.js":4238,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountListMenu=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("fuse.js"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("@metamask/keyring-api"),c=e("../../component-library"),l=e("../account-list-item"),u=e("../account-list-item/account-list-item.types"),d=e("../../../helpers/constants/design-system"),p=e("../../../contexts/metametrics"),m=e("../../../selectors"),f=e("../../../store/actions"),h=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/lib/trace"),y=e("../../../../shared/constants/app-state"),v=e("../account-menu"),k=e("../../../hooks/useI18nContext"),b=e("./hidden-account-list");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(null,arguments)}n.AccountListMenu=({onClose:e,privacyMode:t=!1,showAccountCreation:n=!0,accountListItemProps:a,allowedAccountTypes:C=[i.EthAccountType.Eoa,i.EthAccountType.Erc4337,i.BtcAccountType.P2pkh,i.BtcAccountType.P2sh,i.BtcAccountType.P2wpkh,i.BtcAccountType.P2tr,i.SolAccountType.DataAccount]})=>{const x=(0,k.useI18nContext)(),w=(0,o.useContext)(p.MetaMetricsContext),A=(0,s.useSelector)(m.getHDEntropyIndex);(0,o.useEffect)(()=>{(0,g.endTrace)({name:g.TraceName.AccountList})},[]);const M=(0,s.useSelector)(m.getMetaMaskAccountsOrdered),E=(0,o.useMemo)(()=>M.filter(e=>C.includes(e.type)),[M,C]),_=(0,s.useSelector)(m.getHiddenAccountsList),S=(0,s.useSelector)(m.getUpdatedAndSortedAccounts),I=(0,o.useMemo)(()=>S.filter(e=>C.includes(e.type)),[S,C]),O=(0,s.useSelector)(m.getAllChainsToPoll),P=(0,s.useSelector)(m.getSelectedInternalAccount),N=(0,s.useSelector)(m.getConnectedSubjectsForAllAddresses),B=(0,s.useSelector)(m.getOriginOfCurrentTab),D=(0,s.useDispatch)(),[j,R]=(0,o.useState)(""),L=(0,o.useMemo)(()=>{let e=I;if(j){const t=new r.default(E,{threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["metadata.name","address"]});t.setCollection(E),e=t.search(j)}return e},[E,I,j]),F=(0,s.useSelector)(m.getDefaultHomeActiveTabName),$=(0,o.useCallback)(t=>{e(),w({category:h.MetaMetricsEventCategory.Navigation,event:h.MetaMetricsEventName.NavAccountSwitched,properties:{location:"Main Menu",hd_entropy_index:A}}),(0,g.endTrace)({name:y.ACCOUNT_OVERVIEW_TAB_KEY_TO_TRACE_NAME_MAP[F]}),(0,g.trace)({name:y.ACCOUNT_OVERVIEW_TAB_KEY_TO_TRACE_NAME_MAP[F]}),D((0,f.setSelectedAccount)(t.address)),D((0,f.detectNfts)(O))},[D,e,w,F,A,O]),W=(0,o.useMemo)(()=>L.map(n=>{var r;const s=null===(r=N[n.address])||void 0===r?void 0:r.find(({origin:e})=>e===B),i=0===j.length&&n.hidden;return o.default.createElement(c.Box,{className:n.hidden?"multichain-account-menu-popover__list--menu-item-hidden":"multichain-account-menu-popover__list--menu-item",display:i?d.Display.None:d.Display.Block,key:n.address},o.default.createElement(l.AccountListItem,T({onClick:$,account:n,key:n.address,selected:P.address===n.address,closeMenu:e,connectedAvatar:null==s?void 0:s.iconUrl,menuType:u.AccountListItemMenuTypes.Account,isPinned:Boolean(n.pinned),isHidden:Boolean(n.hidden),currentTabOrigin:B,isActive:Boolean(n.active),privacyMode:t},a)))}),[L,N,B,t,a,P,e,$,j]);return o.default.createElement(v.AccountMenu,{onClose:e,showAccountCreation:n},o.default.createElement(o.default.Fragment,null,E.length>1?o.default.createElement(c.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4,paddingTop:0},o.default.createElement(c.TextFieldSearch,{size:c.TextFieldSearchSize.Sm,width:d.BlockSize.Full,placeholder:x("searchAccounts"),value:j,onChange:e=>R(e.target.value),clearButtonOnClick:()=>R(""),clearButtonProps:{size:c.ButtonIconSize.Sm},inputProps:{autoFocus:!0},endAccessory:null,className:""})):null,o.default.createElement(c.Box,{className:"multichain-account-menu-popover__list"},0===L.length&&""!==j?o.default.createElement(c.Text,{paddingLeft:4,paddingRight:4,color:d.TextColor.textMuted,"data-testid":"multichain-account-menu-popover-no-results"},x("noAccountsFound")):null,W,_.length>0?o.default.createElement(b.HiddenAccountList,{onClose:e}):null)))}}}},{package:"$root$",file:"ui/components/multichain/account-list-menu/account-list-menu.tsx"}],[6453,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"../../component-library":6325,"../account-list-item":6451,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HiddenAccountList=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../../../../shared/constants/metametrics"),c=e("../../../contexts/metametrics"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../selectors"),p=e("../../../store/actions"),m=e("../../component-library"),f=e("../account-list-item");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({onClose:e})=>{const t=(0,u.useI18nContext)(),n=(0,o.useContext)(c.MetaMetricsContext),a=(0,s.useSelector)(d.getHDEntropyIndex),r=(0,s.useDispatch)(),h=(0,s.useSelector)(d.getHiddenAccountsList),g=(0,s.useSelector)(d.getMetaMaskAccountsOrdered),y=(0,s.useSelector)(d.getSelectedAccount),v=(0,s.useSelector)(d.getConnectedSubjectsForAllAddresses),k=(0,s.useSelector)(d.getOriginOfCurrentTab),b=g.filter(e=>h.includes(e.address)),[C,T]=(0,o.useState)(!1);return o.default.createElement(o.default.Fragment,null,o.default.createElement(m.Box,{as:"button",onClick:()=>T(!C),backgroundColor:l.BackgroundColor.backgroundDefault,display:l.Display.Flex,padding:4,alignItems:l.AlignItems.center,width:l.BlockSize.Full,justifyContent:l.JustifyContent.spaceBetween,className:"hidden-accounts-list","data-testid":"hidden-accounts-list"},o.default.createElement(m.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,width:l.BlockSize.TwoThirds,gap:2},o.default.createElement(m.AvatarIcon,{iconName:m.IconName.EyeSlash,color:l.IconColor.infoDefault,backgroundColor:l.BackgroundColor.infoMuted,size:m.AvatarIconSize.Sm}),o.default.createElement(m.Box,{display:l.Display.Flex},o.default.createElement(m.Text,{variant:l.TextVariant.bodyMdMedium},t("hiddenAccounts")))),o.default.createElement(m.Box,{gap:2,display:l.Display.Flex,alignItems:l.AlignItems.center,width:l.BlockSize.OneThird,justifyContent:l.JustifyContent.flexEnd},o.default.createElement(m.Text,{variant:l.TextVariant.bodyMdMedium},h.length),o.default.createElement(m.Icon,{name:C?m.IconName.ArrowUp:m.IconName.ArrowDown,size:m.IconSize.Sm,color:l.IconColor.iconDefault}))),C?o.default.createElement(m.Box,null,b.map(t=>{var s;const c=null===(s=v[t.address])||void 0===s?void 0:s.find(({origin:e})=>e===k);return o.default.createElement(m.Box,{className:"multichain-account-menu-popover__list--menu-item-hidden-account",key:t.address},o.default.createElement(f.AccountListItem,{onClick:()=>{e(),n({category:i.MetaMetricsEventCategory.Navigation,event:i.MetaMetricsEventName.NavAccountSwitched,properties:{location:"Main Menu",hd_entropy_index:a}}),r((0,p.setSelectedAccount)(t.address))},account:t,key:t.address,selected:y.address===t.address,closeMenu:e,connectedAvatar:null==c?void 0:c.iconUrl,menuType:f.AccountListItemMenuTypes.Account,isPinned:Boolean(t.pinned),isHidden:!0}))})):null)};n.HiddenAccountList=g,g.propTypes={onClose:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-list-menu/hidden-account-list.js"}],[6454,{"./account-list-menu":6452},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountListMenu",{enumerable:!0,get:function(){return a.AccountListMenu}});var a=e("./account-list-menu")}}},{package:"$root$",file:"ui/components/multichain/account-list-menu/index.js"}],[6455,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/app":5598,"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/multichain/networks":5616,"../../../../shared/lib/accounts/institutional-wallet-snap":5643,"../../../../shared/lib/trace":5718,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../../../hooks/social-sync/useSyncSRPs":7021,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,"../../component-library/modal-content/deprecated":6335,"../../component-library/modal-header":6346,"../create-eth-account":6534,"../create-snap-account":6538,"../import-account":6560,"../multi-srp/srp-list":6576,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getActionTitle=n.SNAP_CLIENT_CONFIG_MAP=n.AccountMenu=n.ACTION_MODES=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),r=e("react-redux"),s=e("../../component-library"),i=e("../../component-library/modal-content/deprecated"),c=e("../../component-library/modal-header"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../contexts/metametrics"),p=e("../../../selectors"),m=e("../../../../shared/constants/metametrics"),f=e("../../../helpers/constants/routes"),h=e("../../../../app/scripts/lib/util"),g=e("../../../../shared/constants/app"),y=e("../../../hooks/accounts/useMultichainWalletSnapClient"),v=e("../../../../shared/lib/trace"),k=e("../create-eth-account"),b=e("../create-snap-account"),C=e("../import-account"),T=e("../multi-srp/srp-list"),x=e("../../../../shared/lib/accounts/institutional-wallet-snap"),w=e("../../../../shared/constants/multichain/networks"),A=e("../../../hooks/social-sync/useSyncSRPs");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const E=n.ACTION_MODES={LIST:"",MENU:"menu",ADD:"add",ADD_BITCOIN:"add-bitcoin",ADD_SOLANA:"add-solana",ADD_TRON:"add-tron",IMPORT:"import",CREATE_SRP:"create-srp",IMPORT_SRP:"import-srp",SELECT_SRP:"select-srp"},_=n.SNAP_CLIENT_CONFIG_MAP={[E.ADD_BITCOIN]:{clientType:y.WalletClientType.Bitcoin,chainId:w.MultichainNetworks.BITCOIN},[E.ADD_SOLANA]:{clientType:y.WalletClientType.Solana,chainId:w.MultichainNetworks.SOLANA},[E.ADD_TRON]:{clientType:y.WalletClientType.Tron,chainId:w.MultichainNetworks.TRON}},S=(e,t,n)=>{switch(t){case E.ADD:return e("addAccountFromNetwork",[e("networkNameEthereum")]);case E.MENU:return e("addAccount");case E.ADD_BITCOIN:return e("addAccountFromNetwork",[e("networkNameBitcoin")]);case E.ADD_SOLANA:return e("addAccountFromNetwork",[e("networkNameSolana")]);case E.ADD_TRON:return e("addAccountFromNetwork",[e("networkNameTron")]);case E.IMPORT:return e("importPrivateKey");case E.CREATE_SRP:return e("createSecretRecoveryPhrase");case E.IMPORT_SRP:return e("importSecretRecoveryPhrase");case E.SELECT_SRP:return e("selectSecretRecoveryPhrase");default:return e(n?"accounts":"selectAnAccount")}};n.getActionTitle=S;n.AccountMenu=({onClose:e,showAccountCreation:t=!0,children:n})=>{const M=(0,u.useI18nContext)(),I=(0,a.useContext)(d.MetaMetricsContext),O=(0,r.useSelector)(p.getHDEntropyIndex);(0,a.useEffect)(()=>{(0,v.endTrace)({name:v.TraceName.AccountList})},[]);const P=(0,o.useNavigate)(),N=(0,r.useSelector)(p.getIsMultichainAccountsState1Enabled);(0,A.useSyncSRPs)();const[B,D]=(0,a.useState)(E.LIST),[j,R]=(0,a.useState)(E.LIST),L=(0,r.useSelector)(p.getIsAddSnapAccountEnabled),F=(0,r.useSelector)(p.getIsBitcoinSupportEnabled),$=(0,y.useMultichainWalletSnapClient)(y.WalletClientType.Bitcoin),W=(0,r.useSelector)(p.getIsSolanaSupportEnabled),z=(0,y.useMultichainWalletSnapClient)(y.WalletClientType.Solana),V=(0,r.useSelector)(p.getIsTronSupportEnabled),U=(0,y.useMultichainWalletSnapClient)(y.WalletClientType.Tron),[G]=(0,r.useSelector)(p.getMetaMaskHdKeyrings),H=async(e,t,n)=>(I({category:m.MetaMetricsEventCategory.Navigation,event:m.MetaMetricsEventName.AccountAddSelected,properties:{account_type:m.MetaMetricsEventAccountType.Snap,snap_id:e.getSnapId(),snap_name:e.getSnapName(),location:"Main Menu",hd_entropy_index:O,chain_id_caip:t.scope}}),D(n)),K=(0,r.useSelector)(p.getManageInstitutionalWallets),q=(0,r.useSelector)(p.getHdKeyringOfSelectedAccountOrPrimaryKeyring),[Y,J]=(0,a.useState)(q.metadata.id),X=(0,a.useMemo)(()=>S(M,B,Boolean(N)),[B,M,N]);let Q;B!==E.LIST&&(Q=B===E.MENU?()=>D(E.LIST):B===E.SELECT_SRP?()=>D(j):()=>D(E.MENU));const Z=(0,a.useCallback)(async t=>{t?e():D(E.LIST)},[e,D]),ee=(0,a.useCallback)(()=>{I({category:m.MetaMetricsEventCategory.Accounts,event:m.MetaMetricsEventName.SecretRecoveryPhrasePickerClicked,properties:{button_type:"picker"}}),R(B),D(E.SELECT_SRP)},[D,B,I]),{clientType:te,chainId:ne}=_[B]||{clientType:null,chainId:null};return a.default.createElement(s.Modal,{isOpen:!0,onClose:e},a.default.createElement(s.ModalOverlay,null),a.default.createElement(i.ModalContent,{className:"multichain-account-menu-popover",modalDialogProps:{className:"multichain-account-menu-popover__dialog",padding:0,display:l.Display.Flex,flexDirection:l.FlexDirection.Column}},a.default.createElement(c.ModalHeader,{padding:4,onClose:e,onBack:Q},X),B===E.ADD?a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},a.default.createElement(k.CreateEthAccount,{onActionComplete:Z,selectedKeyringId:Y,onSelectSrp:ee})):null,te&&ne?a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},a.default.createElement(b.CreateSnapAccount,{onActionComplete:Z,selectedKeyringId:Y,onSelectSrp:ee,clientType:te,chainId:ne})):null,B===E.IMPORT?a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4,paddingTop:0},a.default.createElement(C.ImportAccount,{onActionComplete:Z})):null,B===E.SELECT_SRP&&a.default.createElement(T.SrpList,{onActionComplete:e=>{J(e),D(j)}}),B===E.MENU?a.default.createElement(s.Box,{padding:4},a.default.createElement(s.Text,{variant:l.TextVariant.bodySmMedium,marginBottom:2,color:l.TextColor.textAlternative},M("createNewAccountHeader")),a.default.createElement(s.Box,null,a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Add,startIconProps:{size:s.IconSize.Md},onClick:()=>{I({category:m.MetaMetricsEventCategory.Navigation,event:m.MetaMetricsEventName.AccountAddSelected,properties:{account_type:m.MetaMetricsEventAccountType.Default,location:"Main Menu",hd_entropy_index:O}}),D(E.ADD)},"data-testid":"multichain-account-menu-popover-add-account"},M("addNewEthereumAccountLabel"))),W&&a.default.createElement(s.Box,{marginTop:4},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Add,startIconProps:{size:s.IconSize.Md},onClick:async()=>{await H(z,{scope:w.MultichainNetworks.SOLANA,entropySource:G.metadata.id},E.ADD_SOLANA)},"data-testid":"multichain-account-menu-popover-add-solana-account"},M("addNewSolanaAccountLabel"))),F&&a.default.createElement(s.Box,{marginTop:4},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Add,startIconProps:{size:s.IconSize.Md},onClick:async()=>await H($,{scope:w.MultichainNetworks.BITCOIN,entropySource:G.metadata.id},E.ADD_BITCOIN),"data-testid":"multichain-account-menu-popover-add-btc-account"},M("addBitcoinAccountLabel"))),V&&a.default.createElement(s.Box,{marginTop:4},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Add,startIconProps:{size:s.IconSize.Md},onClick:async()=>await H(U,{scope:w.MultichainNetworks.TRON,entropySource:G.metadata.id},E.ADD_TRON),"data-testid":"multichain-account-menu-popover-add-tron-account"},M("addNewTronAccountLabel"))),a.default.createElement(s.Text,{variant:l.TextVariant.bodySmMedium,marginTop:4,marginBottom:2,color:l.TextColor.textAlternative},M("importWalletOrAccountHeader")),a.default.createElement(s.Box,{marginTop:4},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Wallet,startIconProps:{size:s.IconSize.Md},onClick:()=>{I({category:m.MetaMetricsEventCategory.Navigation,event:m.MetaMetricsEventName.ImportSecretRecoveryPhrase,properties:{status:"started",location:"Account Menu"}}),P(f.IMPORT_SRP_ROUTE),e()},"data-testid":"multichain-account-menu-popover-import-srp"},M("secretRecoveryPhrase"))),a.default.createElement(s.Box,{marginTop:4},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Key,startIconProps:{size:s.IconSize.Md},"data-testid":"multichain-account-menu-popover-add-imported-account",onClick:()=>{I({category:m.MetaMetricsEventCategory.Navigation,event:m.MetaMetricsEventName.AccountAddSelected,properties:{account_type:m.MetaMetricsEventAccountType.Imported,location:"Main Menu",hd_entropy_index:O}}),D(E.IMPORT)}},M("importPrivateKey"))),a.default.createElement(s.Text,{variant:l.TextVariant.bodySmMedium,marginTop:4,marginBottom:2,color:l.TextColor.textAlternative},M("connectAnAccountHeader")),a.default.createElement(s.Box,{marginTop:4},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Hardware,startIconProps:{size:s.IconSize.Md},onClick:()=>{var t,n;(e(),I({category:m.MetaMetricsEventCategory.Navigation,event:m.MetaMetricsEventName.AccountAddSelected,properties:{account_type:m.MetaMetricsEventAccountType.Hardware,location:"Main Menu",hd_entropy_index:O}}),(0,h.getEnvironmentType)()===g.ENVIRONMENT_TYPE_POPUP)?null===(t=(n=global.platform).openExtensionInBrowser)||void 0===t||t.call(n,f.CONNECT_HARDWARE_ROUTE):P(f.CONNECT_HARDWARE_ROUTE)}},M("addHardwareWalletLabel"))),L?a.default.createElement(s.Box,{marginTop:4},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Snaps,startIconProps:{size:s.IconSize.Md},onClick:()=>{e(),I({category:m.MetaMetricsEventCategory.Navigation,event:m.MetaMetricsEventName.AccountAddSelected,properties:{account_type:m.MetaMetricsEventAccountType.Snap,location:"Main Menu",hd_entropy_index:O}}),global.platform.openTab({url:"https://snaps.metamask.io/account-management"})}},M("settingAddSnapAccount"))):null,K&&a.default.createElement(s.Box,{marginTop:4},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,startIconName:s.IconName.Add,onClick:()=>{e(),P(`/snaps/view/${encodeURIComponent(x.INSTITUTIONAL_WALLET_SNAP_ID)}`)}},M("manageInstitutionalWallets")))):null,B===E.LIST?a.default.createElement(a.default.Fragment,null,n,t?a.default.createElement(s.Box,{paddingTop:2,paddingBottom:4,paddingLeft:4,paddingRight:4,alignItems:l.AlignItems.center,display:l.Display.Flex},a.default.createElement(s.ButtonSecondary,{startIconName:N?undefined:s.IconName.Add,size:s.ButtonSecondarySize.Lg,block:!0,onClick:()=>D(E.MENU),"data-testid":"multichain-account-menu-popover-action-button"},M(N?"addAccountOrWallet":"addImportAccount"))):null):null))}}}},{package:"$root$",file:"ui/components/multichain/account-menu/account-menu.tsx"}],[6456,{"./account-menu":6455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountMenu",{enumerable:!0,get:function(){return a.AccountMenu}});var a=e("./account-menu")}}},{package:"$root$",file:"ui/components/multichain/account-menu/index.ts"}],[6457,{"../../../../shared/constants/network":5617,"../../../../shared/modules/selectors/networks":5753,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../../ui/tooltip":6835,"../avatar-group":6506,"../avatar-group/avatar-group.types":6505,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountNetworkIndicator=void 0;var a=f(e("react")),o=f(e("prop-types")),r=e("react-redux"),s=e("../../../helpers/constants/design-system"),i=e("../avatar-group/avatar-group.types"),c=e("../avatar-group"),l=e("../../component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/constants/network"),p=e("../../../../shared/modules/selectors/networks"),m=f(e("../../ui/tooltip"));function f(e){return e&&e.__esModule?e:{default:e}}const h=({scopes:e})=>{const t=(0,u.useI18nContext)(),n=(0,r.useSelector)(t=>(0,p.getNetworksByScopes)(t,e)),o=null==n?void 0:n.map(e=>({avatarValue:d.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],symbol:e.name}));return a.default.createElement(l.Box,{"data-testid":"account-network-indicator"},a.default.createElement(m.default,{position:"left",html:a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},null==n?void 0:n.slice(0,12).map(e=>a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,textAlign:s.TextAlign.Left,key:e.chainId,padding:1,paddingInline:2,gap:2},a.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:d.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name,borderStyle:s.BorderStyle.none}),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMdMedium,ellipsis:!0},e.name))),(null==n?void 0:n.length)>12?a.default.createElement(l.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,textAlign:s.TextAlign.Left,paddingInline:2},a.default.createElement(l.Text,{color:s.TextColor.textMuted,variant:s.TextVariant.bodyMdMedium},t("moreNetworks",[n.length-12]))):null)),arrow:!0,offset:0,delay:50,duration:0,size:"small",title:t("alertDisableTooltip")},a.default.createElement(c.AvatarGroup,{members:o,limit:4,avatarType:i.AvatarType.NETWORK,size:l.AvatarTokenSize.Xl})))};n.AccountNetworkIndicator=h,h.propTypes={scopes:o.default.arrayOf(o.default.string).isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-network-indicator/account-network-indicator.tsx"}],[6458,{"./account-network-indicator":6457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountNetworkIndicator",{enumerable:!0,get:function(){return a.AccountNetworkIndicator}});var a=e("./account-network-indicator")}}},{package:"$root$",file:"ui/components/multichain/account-network-indicator/index.ts"}],[6459,{"../../../selectors":7886,"../../app/wallet-overview":6253,"./account-overview-layout":6460,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewEth=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),s=e("../../app/wallet-overview"),i=e("../../../selectors"),c=e("./account-overview-layout");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}n.AccountOverviewEth=e=>{const t=(0,r.useSelector)(i.getIsDefiPositionsEnabled);return o.default.createElement(c.AccountOverviewLayout,l({showTokens:!0,showNfts:!0,showDefi:t,showActivity:!0},e),o.default.createElement(s.EthOverview,null))}}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-eth.tsx"}],[6460,{"../../app/network-connection-banner":6012,"./account-overview-tabs":6462,"./carousel":6466,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewLayout=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../app/network-connection-banner"),s=e("./account-overview-tabs"),i=e("./carousel");n.AccountOverviewLayout=({children:e,...t})=>o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"account-overview__balance-wrapper flex flex-col p-4 gap-4"},o.default.createElement(r.NetworkConnectionBanner,null),e,o.default.createElement(i.Carousel,null)),o.default.createElement(s.AccountOverviewTabs,t))}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-layout.tsx"}],[6461,{"../../app/wallet-overview":6253,"./account-overview-layout":6460,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewNonEvm=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../app/wallet-overview"),s=e("./account-overview-layout");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}n.AccountOverviewNonEvm=({...e})=>o.default.createElement(s.AccountOverviewLayout,i({showTokens:!0,showTokensLinks:!0,showNfts:!1,showActivity:!0},e),o.default.createElement(r.NonEvmOverview,null))}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-non-evm.tsx"}],[6462,{"../../../../shared/constants/app-state":5597,"../../../../shared/constants/metametrics":5613,"../../../../shared/lib/trace":5718,"../../../contexts/metametrics":6855,"../../../helpers/constants/routes":6904,"../../../hooks/useI18nContext":7047,"../../../hooks/useTokenBalances":7078,"../../../pages/settings/networks-tab/networks-form/use-safe-chains":7775,"../../../selectors":7886,"../../../selectors/multichain/networks":7896,"../../../store/actions":7916,"../../app/assets/asset-list":5805,"../../app/assets/defi-list/defi-tab":5815,"../../app/assets/nfts/nfts-tab":5837,"../../app/transaction-list":6240,"../../app/transaction-list/unified-transaction-list.component":6242,"../../component-library":6325,"../../ui/tabs":6823,"./asset-list-token-detection":6465,"@metamask/multichain-network-controller":2207,"@metamask/utils":2914,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewTabs=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("@metamask/utils"),i=e("@metamask/multichain-network-controller"),c=e("../../../../shared/constants/app-state"),l=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/lib/trace"),d=e("../../../contexts/metametrics"),p=e("../../../helpers/constants/routes"),m=e("../../../hooks/useI18nContext"),f=e("../../../pages/settings/networks-tab/networks-form/use-safe-chains"),h=e("../../../selectors"),g=e("../../../selectors/multichain/networks"),y=e("../../../store/actions"),v=E(e("../../app/assets/asset-list")),k=E(e("../../app/assets/defi-list/defi-tab")),b=E(e("../../app/assets/nfts/nfts-tab")),C=E(e("../../app/transaction-list")),T=E(e("../../app/transaction-list/unified-transaction-list.component")),x=e("../../component-library"),w=e("../../ui/tabs"),A=e("../../../hooks/useTokenBalances"),M=e("./asset-list-token-detection");function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.AccountOverviewTabs=({onTabClick:e,defaultHomeActiveTabName:t,showTokens:n,showTokensLinks:E,showNfts:_,showActivity:S,showDefi:I})=>{const O=(0,r.useNavigate)(),P=(0,m.useI18nContext)(),N=(0,a.useContext)(d.MetaMetricsContext),B=(0,o.useDispatch)(),D=(0,o.useSelector)(h.getEnabledChainIds),j=(0,o.useSelector)(g.getAllEnabledNetworksForAllNamespaces),R=(0,a.useMemo)(()=>j.map(e=>(0,s.isStrictHexString)(e)?(0,i.toEvmCaipChainId)(e):e),[j]);(0,A.useTokenBalances)({chainIds:D});const L=(0,a.useCallback)(n=>{e(n),n===c.AccountOverviewTabKey.Nfts&&B((0,y.detectNfts)(D)),n in c.ACCOUNT_OVERVIEW_TAB_KEY_TO_METAMETRICS_EVENT_NAME_MAP&&N({category:l.MetaMetricsEventCategory.Home,event:c.ACCOUNT_OVERVIEW_TAB_KEY_TO_METAMETRICS_EVENT_NAME_MAP[n],properties:{network_filter:R}}),t&&(0,u.endTrace)({name:c.ACCOUNT_OVERVIEW_TAB_KEY_TO_TRACE_NAME_MAP[t]}),(0,u.trace)({name:c.ACCOUNT_OVERVIEW_TAB_KEY_TO_TRACE_NAME_MAP[n]})},[R,e]),F=(0,a.useCallback)((e,t)=>O(`${p.ASSET_ROUTE}/${e}/${encodeURIComponent(t)}`),[O]),$=(0,a.useCallback)((e,t)=>O(`${p.DEFI_ROUTE}/${e}/${encodeURIComponent(t)}`),[O]),{safeChains:W}=(0,f.useSafeChains)(),z=(0,o.useSelector)(h.getIsMultichainAccountsState2Enabled);return a.default.createElement(a.default.Fragment,null,a.default.createElement(M.AssetListTokenDetection,null),a.default.createElement(w.Tabs,{defaultActiveTabKey:t??undefined,onTabClick:L,tabListProps:{className:"px-4"}},n&&a.default.createElement(w.Tab,{name:P("tokens"),tabKey:c.AccountOverviewTabKey.Tokens,"data-testid":"account-overview__asset-tab"},a.default.createElement(x.Box,{marginBottom:2},a.default.createElement(v.default,{showTokensLinks:E??!0,onClickAsset:F,safeChains:W}))),I&&a.default.createElement(w.Tab,{name:P("defi"),tabKey:c.AccountOverviewTabKey.DeFi,"data-testid":"account-overview__defi-tab"},a.default.createElement(x.Box,null,a.default.createElement(k.default,{showTokensLinks:E??!0,onClickAsset:$,safeChains:W}))),_&&a.default.createElement(w.Tab,{name:P("nfts"),tabKey:c.AccountOverviewTabKey.Nfts,"data-testid":"account-overview__nfts-tab"},a.default.createElement(b.default,null)),S&&a.default.createElement(w.Tab,{name:P("activity"),tabKey:c.AccountOverviewTabKey.Activity,"data-testid":"account-overview__activity-tab"},z?a.default.createElement(T.default,null):a.default.createElement(C.default,null))))}}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-tabs.tsx"}],[6463,{"../../../hooks/useI18nContext":7047,"../../component-library":6325,"./account-overview-layout":6460,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewUnknown=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../component-library"),s=e("../../../hooks/useI18nContext"),i=e("./account-overview-layout");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}n.AccountOverviewUnknown=e=>{const t=(0,s.useI18nContext)();return o.default.createElement(i.AccountOverviewLayout,c({showTokens:!1,showNfts:!1,showDefi:!1,showActivity:!0},e),o.default.createElement(r.Box,{className:"account-overview-unknown__empty"},o.default.createElement(r.Box,{className:"account-overview-unknown__empty-text"},o.default.createElement("span",null,t("accountTypeNotSupported")))))}}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-unknown.tsx"}],[6464,{"../../../selectors":7886,"./account-overview-eth":6459,"./account-overview-non-evm":6461,"./account-overview-unknown":6463,"@metamask/keyring-api":2100,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverview=function(e){const t=(0,r.useSelector)(i.getSelectedInternalAccount);return o.default.createElement(o.default.Fragment,null,(()=>{switch(t.type){case s.EthAccountType.Eoa:case s.EthAccountType.Erc4337:return o.default.createElement(c.AccountOverviewEth,e);case s.BtcAccountType.P2pkh:case s.BtcAccountType.P2sh:case s.BtcAccountType.P2wpkh:case s.BtcAccountType.P2tr:case s.SolAccountType.DataAccount:case s.TrxAccountType.Eoa:return o.default.createElement(u.AccountOverviewNonEvm,e);default:return o.default.createElement(l.AccountOverviewUnknown,e)}})())};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),s=e("@metamask/keyring-api"),i=e("../../../selectors"),c=e("./account-overview-eth"),l=e("./account-overview-unknown"),u=e("./account-overview-non-evm")}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview.tsx"}],[6465,{"../../app/assets/hooks":5816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetListTokenDetection=void 0;var a=e("../../app/assets/hooks");n.AssetListTokenDetection=()=>((0,a.useAssetListTokenDetection)(),null)}}},{package:"$root$",file:"ui/components/multichain/account-overview/asset-list-token-detection.tsx"}],[6466,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../hooks/useCarouselManagement":7031,"../../../selectors":7886,"../../../selectors/multichain":7895,"../../../store/actions":7916,"../../app/download-mobile-modal/download-mobile-modal":5919,"../carousel":6516,"../create-solana-account-modal":6540,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Carousel=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../store/actions"),i=e("../carousel"),c=e("../../../selectors"),l=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../hooks/useCarouselManagement"),p=e("../create-solana-account-modal"),m=e("../../../selectors/multichain"),f=(a=e("../../app/download-mobile-modal/download-mobile-modal"))&&a.__esModule?a:{default:a};function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.Carousel=()=>{const e=(0,r.useDispatch)(),t=(0,r.useSelector)(c.getAppIsLoading),n=(0,r.useSelector)(c.getRemoteFeatureFlags),a=Boolean(n&&n.carouselBanners),h=(0,o.useContext)(l.MetaMetricsContext),[g,y]=(0,o.useState)(!1),[v,k]=(0,o.useState)(!1),b=(0,r.useSelector)(c.hasCreatedSolanaAccount),C=(0,r.useSelector)(m.getLastSelectedSolanaAccount),[T,x]=(0,o.useState)(!1),{slides:w}=(0,d.useCarouselManagement)({enabled:a}),A=(0,o.useMemo)(()=>{const e=new Map;for(const t of w)e.set(t.id,t);return e},[w]),M=(0,o.useCallback)(e=>{if(!g){for(const t of e)h({event:u.MetaMetricsEventName.BannerDisplay,category:u.MetaMetricsEventCategory.Banner,properties:{banner_name:t.id}});y(!0)}},[g,h]);return a?o.default.createElement(o.default.Fragment,null,o.default.createElement(i.CarouselWithEmptyState,{slides:w,isLoading:t,onSlideClick:t=>{const n=A.get(t),a=(null==n?void 0:n.variableName)??t;"solana"===a&&(b&&C?e((0,s.setSelectedAccount)(C.address)):k(!0)),"downloadMobileApp"===a&&x(!0),h({event:u.MetaMetricsEventName.BannerSelect,category:u.MetaMetricsEventCategory.Banner,properties:{banner_name:a}})},onSlideClose:(t,n)=>{n&&h({event:u.MetaMetricsEventName.BannerCloseAll,category:u.MetaMetricsEventCategory.Banner}),e((0,s.removeSlide)(t))},onRenderSlides:M}),v&&o.default.createElement(p.CreateSolanaAccountModal,{onClose:()=>k(!1)}),T&&o.default.createElement(f.default,{onClose:()=>x(!1)})):null}}}},{package:"$root$",file:"ui/components/multichain/account-overview/carousel.tsx"}],[6467,{"./account-overview":6464},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountOverview",{enumerable:!0,get:function(){return a.AccountOverview}});var a=e("./account-overview")}}},{package:"$root$",file:"ui/components/multichain/account-overview/index.js"}],[6468,{"../../../../shared/lib/trace":5718,"../../../../shared/modules/hexstring-utils":5741,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../selectors":7886,"../../app/preferred-avatar":6033,"../../component-library":6325,"@metamask/design-system-react":1741,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountPicker=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=h(e("prop-types")),r=h(e("classnames")),s=e("react-redux"),i=e("@metamask/design-system-react"),c=e("../../../../shared/modules/hexstring-utils"),l=e("../../component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/utils/util"),p=e("../../../../shared/lib/trace"),m=e("../../../selectors"),f=e("../../app/preferred-avatar");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(null,arguments)}const v={height:"auto"},k=({address:e,name:t,onClick:n,disabled:h=!1,showAddress:g=!1,addressProps:b={},labelProps:C={},textProps:T={},className:x="",showAvatarAccount:w=!0,...A})=>{k.propTypes={showAvatarAccount:o.default.bool};const M=e?(0,d.shortenAddress)((0,c.toChecksumHexAddress)(e)):"",E=(0,s.useSelector)(m.getIsMultichainAccountsState2Enabled),_=(0,a.useMemo)(()=>({...C.style,fontWeight:E?500:u.FontWeight.Medium}),[E,C.style]),S=(0,a.useMemo)(()=>u.TextVariant.bodyMdMedium,[E]);return a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,alignItems:u.AlignItems.center,className:"w-full"},a.default.createElement(l.ButtonBase,y({className:(0,r.default)("multichain-account-picker",x),"data-testid":"account-menu-icon",onClick:()=>{(0,p.trace)({name:p.TraceName.AccountList}),n()},backgroundColor:u.BackgroundColor.transparent,borderRadius:u.BorderRadius.LG,ellipsis:!0,textProps:{display:u.Display.Flex,alignItems:u.AlignItems.center,gap:2,...T},size:g?l.ButtonBaseSize.Lg:l.ButtonBaseSize.Sm,disabled:h,endIconName:l.IconName.ArrowDown,endIconProps:{color:u.IconColor.iconDefault,size:u.Size.SM}},A,{gap:1,style:v}),a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:w?u.FlexDirection.Row:u.FlexDirection.Column,alignItems:u.AlignItems.center,gap:w?2:0,className:"min-w-0"},w?a.default.createElement(f.PreferredAvatar,{address:e,size:g?i.AvatarAccountSize.Md:i.AvatarAccountSize.Xs}):null,a.default.createElement(l.Text,y({as:"span",ellipsis:!0,variant:S},C,{className:(0,r.default)("multichain-account-picker__label w-full",C.className??""),style:_}),t,g?a.default.createElement(l.Text,y({color:u.TextColor.textAlternative,variant:u.TextVariant.bodySmMedium,ellipsis:!0},b),M):null))))};n.AccountPicker=k,k.propTypes={name:o.default.string.isRequired,address:o.default.string.isRequired,showAddress:o.default.bool,addressProps:o.default.object,onClick:o.default.func.isRequired,disabled:o.default.bool,block:o.default.bool,labelProps:o.default.object,textProps:o.default.object,className:o.default.string}}}},{package:"$root$",file:"ui/components/multichain/account-picker/account-picker.js"}],[6469,{"./account-picker":6468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountPicker",{enumerable:!0,get:function(){return a.AccountPicker}});var a=e("./account-picker")}}},{package:"$root$",file:"ui/components/multichain/account-picker/index.js"}],[6470,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,classnames:3913,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ActivityListItem=void 0;var a=c(e("react")),o=c(e("prop-types")),r=c(e("classnames")),s=e("../../../helpers/constants/design-system"),i=e("../../component-library");function c(e){return e&&e.__esModule?e:{default:e}}const l=({topContent:e,icon:t,title:n,subtitle:o,midContent:c,children:l,rightContent:u,onClick:d,className:p,"data-testid":m})=>{const f=(0,r.default)("activity-list-item",p,{"activity-list-item--single-content-row":!(o||l)});return a.default.createElement(i.Box,{tabIndex:0,backgroundColor:s.BackgroundColor.backgroundDefault,className:f,onClick:d,onKeyPress:e=>{"Enter"===e.key&&d()},"data-testid":m,paddingInline:4,paddingTop:3,paddingBottom:3,display:s.Display.Flex,width:s.BlockSize.Full,flexWrap:s.FlexWrap.Wrap,gap:4},e&&a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.textDefault,display:s.Display.Flex,width:s.BlockSize.Full},e),a.default.createElement(i.Box,{display:s.Display.Flex,width:s.BlockSize.Full,flexDirection:s.FlexDirection.Row,gap:4},t&&a.default.createElement(i.Box,{display:s.Display.InlineFlex},t),a.default.createElement(i.Box,{display:s.Display.InlineFlex,width:s.BlockSize.Full,justifyContent:s.JustifyContent.spaceBetween,className:"activity-list-item__content-container"},a.default.createElement(i.Box,{display:s.Display.InlineFlex,flexDirection:s.FlexDirection.Column,className:"activity-list-item__detail-container",minWidth:"0"},a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},a.default.createElement(i.Text,{ellipsis:!0,textAlign:s.TextAlign.Left,variant:s.TextVariant.bodyMdMedium,fontWeight:s.FontWeight.Medium,"data-testid":"activity-list-item-action"},n)),o&&a.default.createElement(i.Text,{as:"div",ellipsis:!0,textAlign:s.TextAlign.Left,variant:s.TextVariant.bodySmMedium},o),l&&a.default.createElement(i.Box,{className:"activity-list-item__children"},l)),c&&a.default.createElement(i.Box,{display:s.Display.InlineFlex,className:"activity-list-item__mid-content"},c),u&&a.default.createElement(i.Box,{display:s.Display.InlineFlex,height:s.BlockSize.Min,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexEnd,className:"activity-list-item__right-content"},u))))};n.ActivityListItem=l,l.propTypes={topContent:o.default.node,icon:o.default.node,title:o.default.oneOfType([o.default.string,o.default.node]),subtitle:o.default.node,midContent:o.default.node,children:o.default.node,rightContent:o.default.node,onClick:o.default.func,className:o.default.string,"data-testid":o.default.string}}}},{package:"$root$",file:"ui/components/multichain/activity-list-item/activity-list-item.js"}],[6471,{"./activity-list-item":6470},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ActivityListItem",{enumerable:!0,get:function(){return a.ActivityListItem}});var a=e("./activity-list-item")}}},{package:"$root$",file:"ui/components/multichain/activity-list-item/index.js"}],[6472,{"../../../../app/scripts/lib/multichain/address":282,"../../../../shared/constants/time":5635,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/useCopyToClipboard":7033,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../../ui/tooltip/tooltip":6836,classnames:3913,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("prop-types")),r=f(e("classnames")),s=e("../../component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useCopyToClipboard"),l=e("../../../helpers/utils/util"),u=f(e("../../ui/tooltip/tooltip")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),m=e("../../../../app/scripts/lib/multichain/address");function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g({address:e,shorten:t=!1,wrap:n=!1}){const o=(0,m.normalizeSafeAddress)(e),f=t?(0,l.shortenAddress)(o):o,[h,g]=(0,c.useCopyToClipboard)(p.MINUTE),y=(0,d.useI18nContext)(),v=y(h?"copiedExclamation":"copyToClipboard"),k=(0,a.useCallback)(()=>{g(o)},[g,o]);return a.default.createElement(u.default,{position:"bottom",title:v},a.default.createElement(s.ButtonBase,{backgroundColor:i.BackgroundColor.primaryMuted,onClick:k,paddingRight:4,paddingLeft:4,size:i.Size.SM,variant:i.TextVariant.bodySm,color:i.TextColor.primaryDefault,endIconName:h?s.IconName.CopySuccess:s.IconName.Copy,className:(0,r.default)("multichain-address-copy-button",{"multichain-address-copy-button__address--wrap":n}),borderRadius:i.BorderRadius.pill,alignItems:i.AlignItems.center,"data-testid":"address-copy-button-text"},a.default.createElement(s.Box,{display:i.Display.Flex},f)))}g.propTypes={address:o.default.string.isRequired,shorten:o.default.bool,wrap:o.default.bool};n.default=a.default.memo(g)}}},{package:"$root$",file:"ui/components/multichain/address-copy-button/address-copy-button.js"}],[6473,{"./address-copy-button":6472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddressCopyButton",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./address-copy-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/multichain/address-copy-button/index.js"}],[6474,{"../../../../shared/modules/selectors/networks":5753,"../../../contexts/i18n":6850,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../selectors/multichain":7895,"../../app/preferred-avatar":6033,"../../component-library":6325,"../../ui/confusable":6737,"../../ui/tooltip":6835,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressListItem=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=f(e("../../ui/confusable")),s=e("../../component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../app/preferred-avatar"),l=e("../../../helpers/utils/util"),u=f(e("../../ui/tooltip")),d=e("../../../contexts/i18n"),p=e("../../../../shared/modules/selectors/networks"),m=e("../../../selectors/multichain");function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.AddressListItem=({address:e,label:t,chainId:n,useConfusable:f=!1,isDuplicate:h=!1,onClick:g})=>{var y;const v=(0,a.useContext)(d.I18nContext),k=(0,o.useSelector)(p.getNetworkConfigurationsByChainId);let b=(0,l.shortenAddress)(e);return t&&(b=t,f&&(b=a.default.createElement(r.default,{input:t}))),a.default.createElement(s.Box,{display:i.Display.Flex,padding:4,as:"button",onClick:e=>{e.stopPropagation(),g()},width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.transparent,className:"address-list-item gap-4",alignItems:i.AlignItems.center},a.default.createElement(s.Box,{display:i.Display.Flex},a.default.createElement(s.BadgeWrapper,{badge:a.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:null==k||null===(y=k[n])||void 0===y?void 0:y.name,src:(0,m.getImageForChainId)(n),backgroundColor:i.BackgroundColor.backgroundDefault,borderWidth:2})},a.default.createElement(c.PreferredAvatar,{address:e,className:"flex"}))),a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,style:{overflow:"hidden"}},a.default.createElement(s.Text,{variant:i.TextVariant.bodyMdMedium,padding:0,width:i.BlockSize.Full,textAlign:i.TextAlign.Left,className:"address-list-item__label","data-testid":"address-list-item-label",style:{overflow:"hidden"},ellipsis:!0},b),a.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative,ellipsis:!0,"data-testid":"address-list-item-address",as:"div",display:i.Display.Flex},a.default.createElement(u.default,{title:e,position:"bottom"},(0,l.shortenAddress)(e)))),h&&a.default.createElement(s.Box,{className:"address-list-item__duplicate-contact-warning-icon"},a.default.createElement(u.default,{title:v("duplicateContactTooltip"),position:"top"},a.default.createElement(s.Icon,{name:s.IconName.Danger,color:i.IconColor.warningDefault}))))}}}},{package:"$root$",file:"ui/components/multichain/address-list-item/address-list-item.tsx"}],[6475,{"./address-list-item":6474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddressListItem",{enumerable:!0,get:function(){return a.AddressListItem}});var a=e("./address-list-item")}}},{package:"$root$",file:"ui/components/multichain/address-list-item/index.ts"}],[6476,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderContainer=void 0;var a=i(e("react")),o=i(e("classnames")),r=e("../../../helpers/constants/design-system"),s=e("../../component-library");function i(e){return e&&e.__esModule?e:{default:e}}n.AppHeaderContainer=({isUnlocked:e,popupStatus:t,children:n})=>{const i=!e||t?r.BackgroundColor.backgroundDefault:r.BackgroundColor.backgroundAlternative;return a.default.createElement(s.Box,{display:r.Display.Flex,className:(0,o.default)("multichain-app-header",{"multichain-app-header-shadow":t}),alignItems:r.AlignItems.center,width:r.BlockSize.Full,backgroundColor:i},n)}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-container.tsx"}],[6477,{"../../../../shared/modules/network.utils":5745,"../../../helpers/constants/routes":6904,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,"../../ui/metafox-logo":6792,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderLockedContent=void 0;var a=p(e("react")),o=e("react-router-dom-v5-compat"),r=e("react-redux"),s=e("../../../hooks/useI18nContext"),i=p(e("../../ui/metafox-logo")),c=e("../../component-library"),l=e("../../../helpers/constants/routes"),u=e("../../../selectors"),d=e("../../../../shared/modules/network.utils");function p(e){return e&&e.__esModule?e:{default:e}}n.AppHeaderLockedContent=({currentNetwork:e,networkOpenCallback:t})=>{const n=(0,s.useI18nContext)(),p=(0,o.useNavigate)(),m=(0,r.useSelector)(u.getTestNetworkBackgroundColor),f=(0,d.getNetworkIcon)(e);return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",null,a.default.createElement(c.PickerNetwork,{avatarNetworkProps:{backgroundColor:m,role:"img",name:e.name},"aria-label":`${n("networkMenu")} ${e.name}`,label:e.name,src:f,onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},className:"multichain-app-header__contents__network-picker","data-testid":"network-display"})),a.default.createElement(i.default,{unsetIconHeight:!0,onClick:async()=>{p(l.DEFAULT_ROUTE)}}))}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-locked-content.tsx"}],[6478,{"../../../../app/scripts/lib/multichain/address":282,"../../../../app/scripts/lib/util":353,"../../../../shared/constants/app":5598,"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../ducks/app/app":6868,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../helpers/utils/util":6959,"../../../hooks/useCopyToClipboard":7033,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/multichain-accounts/account-tree":7890,"../../../store/actions":7916,"../../app/account-icon-tour/account-icon-tour":5768,"../../app/connected-status-indicator":5896,"../../app/modals/visit-support-data-consent-modal":5993,"../../app/preferred-avatar":6033,"../../component-library":6325,"../../multichain-accounts/multichain-account-network-group":6415,"../../multichain-accounts/multichain-address-rows-hovered-list":6421,"../account-picker":6469,"../global-menu":6557,"../notifications-tag-counter":6652,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043,"webextension-polyfill":5586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderUnlockedContent=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=O(e("webextension-polyfill")),r=e("react-redux"),s=e("react-router-dom-v5-compat"),i=e("../../../helpers/constants/design-system"),c=e("../../component-library"),l=e("../../multichain-accounts/multichain-address-rows-hovered-list"),u=e("../../../../shared/constants/metametrics"),d=e("../../../hooks/useI18nContext"),p=e("../../../store/actions"),m=O(e("../../app/connected-status-indicator")),f=e("../account-picker"),h=e("../global-menu"),g=e("../../../selectors"),y=e("../../../../app/scripts/lib/util"),v=e("../../../../app/scripts/lib/multichain/address"),k=e("../../../helpers/utils/util"),b=e("../../../../shared/constants/app"),C=e("../../../contexts/metametrics"),T=e("../../../hooks/useCopyToClipboard"),x=e("../notifications-tag-counter"),w=e("../../../helpers/constants/routes"),A=O(e("../../app/modals/visit-support-data-consent-modal")),M=e("../../../ducks/app/app"),E=e("../../app/preferred-avatar"),_=e("../../app/account-icon-tour/account-icon-tour"),S=e("../../../selectors/multichain-accounts/account-tree"),I=e("../../multichain-accounts/multichain-account-network-group");function O(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}n.AppHeaderUnlockedContent=({disableAccountPicker:e,menuRef:t})=>{const n=(0,a.useContext)(C.MetaMetricsContext),O=(0,d.useI18nContext)(),P=(0,s.useNavigate)(),N=(0,r.useDispatch)(),B=(0,r.useSelector)(g.getOriginOfCurrentTab),[D,j]=(0,a.useState)(!1),R=(0,a.useRef)(null),L=(0,r.useSelector)(g.getIsMultichainAccountsState2Enabled),F=(0,r.useSelector)(S.getSelectedAccountGroup),$=(0,r.useSelector)(e=>(0,S.getMultichainAccountGroupById)(e,F)),W=(0,r.useSelector)(g.getSelectedInternalAccount),z=W&&(0,k.shortenAddress)((0,v.normalizeSafeAddress)(W.address)),V=L?(null==$?void 0:$.metadata.name)??"":(null==W?void 0:W.metadata.name)??"",U=null==W?void 0:W.address,G=(0,v.normalizeSafeAddress)(U),[H,K,q]=(0,T.useCopyToClipboard)(2e3,{expireClipboard:!1}),Y=(0,r.useSelector)(M.getShowSupportDataConsentModal);(0,a.useEffect)(()=>{G&&q()},[G,q]),(0,a.useEffect)(()=>{N(H?(0,M.setShowCopyAddressToast)(!0):(0,M.setShowCopyAddressToast)(!1))},[H,N]);const J=((0,y.getEnvironmentType)()===b.ENVIRONMENT_TYPE_POPUP||(0,y.getEnvironmentType)()===b.ENVIRONMENT_TYPE_SIDEPANEL)&&B&&B!==o.default.runtime.id,X=()=>{j(e=>{const t=!e;return t&&n({event:u.MetaMetricsEventName.NavMainMenuOpened,category:u.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}}),t})},Q=(0,a.useCallback)(()=>{K(G)},[K,G]),Z=(0,a.useMemo)(()=>a.default.createElement(c.ButtonBase,{className:"multichain-app-header__address-copy-button",onClick:Q,size:c.ButtonBaseSize.Sm,backgroundColor:i.BackgroundColor.transparent,borderRadius:i.BorderRadius.LG,endIconName:H?c.IconName.CopySuccess:c.IconName.Copy,endIconProps:{color:i.IconColor.iconAlternative,size:c.IconSize.Sm},paddingLeft:2,paddingRight:2,ellipsis:!0,textProps:{display:i.Display.Flex,gap:2,variant:i.TextVariant.bodyMdMedium},style:{height:"auto"},"data-testid":"app-header-copy-button"},a.default.createElement(c.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySmMedium,ellipsis:!0,as:"span"},z)),[H,Q,z]),ee=(0,a.useMemo)(()=>a.default.createElement(c.Box,{style:{overflow:"hidden"}},a.default.createElement(c.Text,{as:"div",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,ellipsis:!0},a.default.createElement(f.AccountPicker,{address:"",name:V,showAvatarAccount:!1,onClick:()=>{P(w.ACCOUNT_LIST_PAGE_ROUTE),n({event:u.MetaMetricsEventName.NavAccountMenuOpened,category:u.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}})},disabled:e,paddingLeft:2,paddingRight:2}),a.default.createElement(a.default.Fragment,null,!L&&Z)),F&&a.default.createElement(c.Box,{paddingLeft:2,paddingTop:1,paddingBottom:1,style:{width:"fit-content"},"data-testid":"networks-subtitle-test-id"},a.default.createElement(l.MultichainHoveredAddressRowsList,{groupId:F,showAccountHeaderAndBalance:!1},a.default.createElement(I.MultichainAccountNetworkGroup,{groupId:F,limit:4})))),[Z,V,e,F,P,L,n]),te=(0,a.useMemo)(()=>a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{ref:R,className:"flex"},W&&a.default.createElement(E.PreferredAvatar,{address:W.address})),W&&a.default.createElement(c.Text,{as:"div",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,ellipsis:!0},a.default.createElement(f.AccountPicker,{address:W.address,name:V,showAvatarAccount:!1,onClick:()=>{L?P(w.ACCOUNT_LIST_PAGE_ROUTE):N((0,p.toggleAccountMenu)()),n({event:u.MetaMetricsEventName.NavAccountMenuOpened,category:u.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}})},disabled:e,paddingLeft:2,paddingRight:2}),a.default.createElement(a.default.Fragment,null,Z))),[W,V,e,Z,L,P,N,n]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,gap:2,className:"min-w-0"},L?ee:te),a.default.createElement(c.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.flexEnd,style:{marginLeft:"auto"}},a.default.createElement(c.Box,{display:i.Display.Flex,gap:2},J&&a.default.createElement(c.Box,{ref:t,"data-testid":"connection-menu",margin:"auto"},a.default.createElement(m.default,{onClick:()=>{P(`${w.REVIEW_PERMISSIONS}/${encodeURIComponent(B)}`)}}))," ",a.default.createElement(c.Box,{ref:t,display:i.Display.Flex,justifyContent:i.JustifyContent.flexEnd,width:i.BlockSize.Full,style:{position:"relative"}},!D&&a.default.createElement(c.Box,{onClick:X},a.default.createElement(x.NotificationsTagCounter,{noLabel:!0})),a.default.createElement(c.ButtonIcon,{iconName:c.IconName.Menu,"data-testid":"account-options-menu-button",ariaLabel:O("accountOptions"),onClick:X,size:c.ButtonIconSize.Lg}))),a.default.createElement(h.GlobalMenu,{anchorElement:t.current,isOpen:D,closeMenu:()=>{j(!1)}}),a.default.createElement(A.default,{isOpen:Y,onClose:()=>N((0,p.setShowSupportDataConsentModal)(!1))})),!L&&a.default.createElement(_.AccountIconTour,{anchorElement:R.current}))}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-unlocked-content.tsx"}],[6479,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/app":5598,"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/network.utils":5745,"../../../contexts/metametrics":6855,"../../../ducks/metamask/metamask":6883,"../../../ducks/send":6891,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../selectors":7886,"../../../selectors/multichain/networks":7896,"../../../store/actions":7916,"../../component-library":6325,"./app-header-container":6476,"./app-header-locked-content":6477,"./app-header-unlocked-content":6478,"./multichain-meta-fox-logo":6481,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeader=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=A(e("classnames")),r=A(e("prop-types")),s=e("react-redux"),i=e("react-router-dom-v5-compat"),c=e("../../../contexts/metametrics"),l=e("../../../../shared/constants/metametrics"),u=e("../../../helpers/constants/routes"),d=e("../../../helpers/constants/design-system"),p=e("../../component-library"),m=e("../../../selectors"),f=e("../../../store/actions"),h=e("../../../../app/scripts/lib/util"),g=e("../../../../shared/constants/app"),y=e("../../../ducks/metamask/metamask"),v=e("../../../ducks/send"),k=e("../../../selectors/multichain/networks"),b=e("../../../../shared/modules/network.utils"),C=e("./multichain-meta-fox-logo"),T=e("./app-header-container"),x=e("./app-header-unlocked-content"),w=e("./app-header-locked-content");function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(null,arguments)}const _=({location:e})=>{const t=(0,a.useContext)(c.MetaMetricsContext),n=(0,a.useRef)(null),r=(0,s.useSelector)(y.getIsUnlocked),A=(0,s.useSelector)(k.getSelectedMultichainNetworkConfiguration),{chainId:M,isEvm:_}=A,S=(0,b.getNetworkIcon)(M,_),I=(0,s.useDispatch)(),O=(0,h.getEnvironmentType)(),P=O===g.ENVIRONMENT_TYPE_POPUP,N=O===g.ENVIRONMENT_TYPE_SIDEPANEL,B=(0,s.useSelector)(v.getSendStage),D=[v.SEND_STAGES.EDIT,v.SEND_STAGES.DRAFT,v.SEND_STAGES.ADD_RECIPIENT].includes(B),j=Boolean((0,i.matchPath)({path:u.CONFIRM_TRANSACTION_ROUTE,end:!1},e.pathname)),R=Boolean((0,i.matchPath)({path:u.SWAPS_ROUTE,end:!1},e.pathname)),L=(0,s.useSelector)(m.getUnapprovedTransactions),F=Object.keys(L).length>0,$=j||R,W=R||D||j||F,z=(0,a.useCallback)(()=>{I((0,f.toggleNetworkMenu)()),t({event:l.MetaMetricsEventName.NavNetworkMenuOpened,category:l.MetaMetricsEventCategory.Navigation,properties:{location:"App header",chain_id:M}})},[M,I,t]),V={alignItems:d.AlignItems.center,width:d.BlockSize.Full,backgroundColor:d.BackgroundColor.backgroundDefault,padding:2,paddingLeft:2,paddingRight:4,gap:2},U={display:d.Display.Flex,alignItems:d.AlignItems.center,width:d.BlockSize.Full,justifyContent:d.JustifyContent.spaceBetween,backgroundColor:d.BackgroundColor.backgroundDefault,padding:2,gap:2};return a.default.createElement(a.default.Fragment,null,!r||P||N?null:a.default.createElement(C.MultichainMetaFoxLogo,null),a.default.createElement(T.AppHeaderContainer,{isUnlocked:r,popupStatus:P},a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Box,E({className:(0,o.default)(r?"multichain-app-header__contents flex":"multichain-app-header__lock-contents")},r?V:U),r?a.default.createElement(x.AppHeaderUnlockedContent,{popupStatus:P,currentNetwork:A,networkIconSrc:S,networkOpenCallback:z,disableNetworkPicker:W,disableAccountPicker:$,menuRef:n}):a.default.createElement(w.AppHeaderLockedContent,{currentNetwork:A,networkIconSrc:S,networkOpenCallback:z})))))};n.AppHeader=_,_.propTypes={location:r.default.object}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header.js"}],[6480,{"./app-header":6479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AppHeader",{enumerable:!0,get:function(){return a.AppHeader}});var a=e("./app-header")}}},{package:"$root$",file:"ui/components/multichain/app-header/index.js"}],[6481,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/useTheme":7076,"../../component-library":6325,"../../ui/metafox-logo":6792,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainMetaFoxLogo=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom-v5-compat"),s=e("../../../helpers/constants/routes"),i=e("../../../hooks/useTheme"),c=e("../../../helpers/constants/design-system"),l=e("../../component-library"),u=(a=e("../../ui/metafox-logo"))&&a.__esModule?a:{default:a};function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.MultichainMetaFoxLogo=()=>{const e=(0,r.useNavigate)(),t=(0,i.useTheme)(),n=(0,o.useCallback)(async()=>{e(s.DEFAULT_ROUTE)},[e]);return o.default.createElement(l.Box,{display:[c.Display.None,c.Display.Flex],alignItems:c.AlignItems.center,margin:2,className:"multichain-app-header-logo","data-testid":"app-header-logo",justifyContent:c.JustifyContent.center},o.default.createElement(u.default,{unsetIconHeight:!0,onClick:n,theme:t}))}}}},{package:"$root$",file:"ui/components/multichain/app-header/multichain-meta-fox-logo.js"}],[6482,{"../../../../../shared/constants/transaction":5637,"../../../../../shared/modules/conversion.utils":5732,"../../../../ducks/metamask/metamask":6883,"../../../../helpers/constants/common":6897,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useCurrencyDisplay":7034,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useTokenFiatAmount":7082,"../../../../hooks/useTokenTracker":7086,"../../../../selectors":7886,"../../../app/user-preferenced-currency-display":6245,"../../../component-library":6325,"../../../ui/currency-display":6739,"../utils":6503,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetBalanceText=function({asset:e,balanceColor:t,error:n}){var k,C,T,x;const w=(0,y.useI18nContext)(),A=(0,o.useSelector)(l.getCurrentCurrency),M=(0,o.useSelector)(g.getIsFiatPrimary),{tokensWithBalances:E}=(0,m.useTokenTracker)({tokens:null!==(k=e.details)&&void 0!==k&&k.address&&!e.balance?[{address:e.details.address}]:[],address:undefined}),_=(0,v.hexToDecimal)(e.balance)||(null===(C=E[0])||void 0===C?void 0:C.string),S=null!=_&&_.includes(".")?_.slice(0,_.indexOf(".")+5):_,I=(0,o.useSelector)(c.getSelectedAccountCachedBalance),O=(0,f.useCurrencyDisplay)(I,{numberOfDecimals:2,currency:A})[1].value,P=(0,h.useTokenFiatAmount)(null===(T=e.details)||void 0===T?void 0:T.address,_,undefined,0===Number(_)?{exchangeRate:Number.MIN_VALUE}:undefined,!0),N=e.type===u.AssetType.native?O:P,B={hideLabel:!0,textProps:{color:t,variant:d.TextVariant.bodySm},suffixProps:{color:t,variant:d.TextVariant.bodySm}},D=n?`. ${w(n)}`:"";if(e.type===u.AssetType.NFT){const t=(0,v.hexToDecimal)(e.balance||"0x0");return a.default.createElement(r.Text,b({},B.textProps,{"data-testid":"asset-balance-nft-display"}),`${w("1"===t?"assetSingleNFTBalance":"assetMultipleNFTsBalance",[t])}${D}`)}if(M)return a.default.createElement(p.default,b({},B,{currency:A,numberOfDecimals:2,displayValue:`${N}${D}`}));if(e.type===u.AssetType.native)return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,b({},B,{value:e.balance,type:i.PRIMARY})),D?a.default.createElement(r.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.errorDefault,"data-testid":"send-page-amount-error"},D):null);if(null!==(x=e.details)&&void 0!==x&&x.address)return a.default.createElement(s.default,b({},B,{displayValue:`${S||""}${D}`}));return null};var a=k(e("react")),o=e("react-redux"),r=e("../../../component-library"),s=k(e("../../../app/user-preferenced-currency-display")),i=e("../../../../helpers/constants/common"),c=e("../../../../selectors"),l=e("../../../../ducks/metamask/metamask"),u=e("../../../../../shared/constants/transaction"),d=e("../../../../helpers/constants/design-system"),p=k(e("../../../ui/currency-display")),m=e("../../../../hooks/useTokenTracker"),f=e("../../../../hooks/useCurrencyDisplay"),h=e("../../../../hooks/useTokenFiatAmount"),g=e("../utils"),y=e("../../../../hooks/useI18nContext"),v=e("../../../../../shared/modules/conversion.utils");function k(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(null,arguments)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-balance/asset-balance-text.tsx"}],[6483,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"./asset-balance-text":6482,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetBalance=function({asset:e,error:t}){const n=(0,i.useI18nContext)(),a=t?s.TextColor.errorDefault:s.TextColor.textAlternative;return o.default.createElement(r.Box,{className:"asset-picker-amount__balance",display:s.Display.Flex},o.default.createElement(r.Text,{color:a,marginRight:1,variant:s.TextVariant.bodySm},n("balance"),":"),o.default.createElement(c.AssetBalanceText,{asset:e,balanceColor:a,error:t}))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),c=e("./asset-balance-text")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-balance/asset-balance.tsx"}],[6484,{"../../../../shared/constants/transaction":5637,"../../../../shared/modules/selectors/networks":5753,"../../../ducks/bridge/actions":6871,"../../../ducks/metamask/metamask":6883,"../../../ducks/send":6891,"../../../helpers/constants/design-system":6899,"../../../hooks/useGetAssetImageUrl":7045,"../../../hooks/useI18nContext":7047,"../../../pages/confirmations/send-legacy/send.constants":7577,"../../../selectors":7886,"../../../store/actions":7916,"../../component-library":6325,"./asset-balance/asset-balance":6483,"./asset-picker/asset-picker":6495,"./max-clear-button":6499,"./swappable-currency-input/swappable-currency-input":6502,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerAmount=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../hooks/useI18nContext"),s=e("../../component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../../selectors"),l=e("../../../../shared/constants/transaction"),u=e("../../../ducks/send"),d=e("../../../pages/confirmations/send-legacy/send.constants"),p=e("../../../ducks/metamask/metamask"),m=C(e("../../../hooks/useGetAssetImageUrl")),f=e("../../../../shared/modules/selectors/networks"),h=e("../../../store/actions"),g=e("../../../ducks/bridge/actions"),y=C(e("./max-clear-button")),v=e("./asset-picker/asset-picker"),k=e("./swappable-currency-input/swappable-currency-input"),b=e("./asset-balance/asset-balance");function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},x.apply(null,arguments)}n.AssetPickerAmount=({asset:e,amount:t,onAmountChange:n,action:C,isAmountLoading:T,disableMaxButton:w=!1,showNetworkPicker:A,error:M,...E})=>{var _,S,I,O,P,N;const B=(0,o.useSelector)(c.getSelectedInternalAccount),D=(0,r.useI18nContext)(),j=(0,o.useDispatch)(),{swapQuotesError:R,sendAsset:L,receiveAsset:F}=(0,o.useSelector)(u.getCurrentDraftTransaction),$=!n,W=$&&R,z=(0,o.useSelector)(u.getSendMaxModeState),V=(0,o.useSelector)(u.getIsNativeSendPossible),U=(0,o.useSelector)(f.getCurrentChainId),G=(0,o.useSelector)(p.getNativeCurrency),H=(0,o.useSelector)(c.getNativeCurrencyImage),K=(0,o.useSelector)(c.getTokenList),q=(0,o.useSelector)(c.getCompleteAddressBook),Y=(0,o.useSelector)(u.getRecipient),J=(0,o.useSelector)(c.getIpfsGateway),X=(0,o.useSelector)(f.getNetworkConfigurationsByChainId),Q=A,Z=(0,o.useSelector)(c.getCurrentNetwork),ee=(0,o.useSelector)(c.getAllChainsToPoll);(0,a.useEffect)(()=>{$||V||z&&n("0x0")},[$,z,V,n]);const[te,ne]=(0,a.useState)(!1),[ae,oe]=(0,a.useState)(!1),re=(0,m.default)((null==e||null===(_=e.details)||void 0===_?void 0:_.image)??undefined,J),se=(0,a.useCallback)((t,a)=>{ae||e.type!==l.AssetType.NFT||oe(!0),null==n||n(t,a)},[n,ae,e.type]);(0,a.useEffect)(()=>{oe(!1)},[e]);const{error:ie}=t,ce=ie===d.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR&&e.type===l.AssetType.NFT&&!ae,le=ie&&!ce?ie:undefined;(0,a.useEffect)(()=>{if(!e)throw new Error("No asset is drafted for sending")},[e,B]);let ue=i.BorderColor.borderMuted;$?W&&(ue=i.BorderColor.errorDefault):le?ue=i.BorderColor.errorDefault:te&&(ue=i.BorderColor.primaryDefault);const de=L.type===l.AssetType.native&&F.type!==l.AssetType.native;let pe;if((null==e?void 0:e.type)===l.AssetType.native)pe={type:e.type,image:H,symbol:G,chainId:U};else if((null==e?void 0:e.type)===l.AssetType.token&&null!=e&&null!==(S=e.details)&&void 0!==S&&S.symbol){var me,fe;pe={type:e.type,image:re||K&&(null===(me=e.details)||void 0===me?void 0:me.address)&&(null===(fe=K[e.details.address.toLowerCase()])||void 0===fe?void 0:fe.iconUrl),symbol:e.details.symbol,address:e.details.address,chainId:U}}else(null==e?void 0:e.type)===l.AssetType.NFT&&(null==e||null===(I=e.details)||void 0===I?void 0:I.tokenId)!==undefined&&null!=e&&null!==(O=e.details)&&void 0!==O&&O.image&&(pe={type:e.type,tokenId:e.details.tokenId,image:e.details.image,symbol:(e.details.symbol||e.details.name)??undefined,address:e.details.address});return a.default.createElement(s.Box,{className:"asset-picker-amount"},a.default.createElement(s.Box,{onFocus:()=>ne(!0),onBlur:()=>ne(!1),display:i.Display.Flex,alignItems:i.AlignItems.center,backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.LG,borderColor:ue,borderStyle:i.BorderStyle.solid,borderWidth:1,marginBottom:1,padding:1,paddingTop:(null===(P=e.details)||void 0===P?void 0:P.standard)===l.TokenStandard.ERC721?4:1,paddingBottom:(null===(N=e.details)||void 0===N?void 0:N.standard)===l.TokenStandard.ERC721?4:1},a.default.createElement(v.AssetPicker,x({action:C,asset:pe,networkProps:Q?{network:Z,networks:Object.values(X),onNetworkChange:e=>{const t=e.rpcEndpoints[e.defaultRpcEndpointIndex];if(j((0,g.setToChainId)(e.chainId)),j((0,h.detectNfts)(ee)),j((0,h.setEnabledNetworks)(e.chainId)),j((0,h.setActiveNetworkWithError)("networkClientId"in t?t.networkClientId:e.chainId)),null!=Y&&Y.address&&q){q.find(t=>t.address===Y.address&&t.chainId!==e.chainId)&&j((0,u.updateRecipient)({address:"",nickname:""}))}},header:D("yourNetworks")}:undefined},E)),a.default.createElement(k.SwappableCurrencyInput,{onAmountChange:n?se:undefined,assetType:e.type,asset:e,amount:t,isAmountLoading:T})),a.default.createElement(s.Box,{display:i.Display.Flex},n&&a.default.createElement(b.AssetBalance,{asset:e,error:M||le}),W&&a.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.errorDefault},D(R)),n&&V&&!de&&!w&&a.default.createElement(y.default,{asset:e})))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-amount.tsx"}],[6485,{"../../../../ducks/metamask/metamask":6883,"../../../../hooks/useFormatters":7043,"../../../../hooks/useTokenFiatAmount":7082,"../../../../selectors/multichain":7895,"../../../../selectors/selectors":7903,"../../token-list-item":6711,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({address:e,image:t,symbol:n,string:a,name:m,tooltipText:f,tokenFiatAmount:h,chainId:g,accountType:y,assetItemProps:v={},isDestinationToken:k=!1}){var b;const{formatCurrency:C,formatTokenQuantity:T}=(0,l.useFormatters)(),x=(0,r.useSelector)(s.getCurrentCurrency),w=(0,r.useSelector)(u.getMultichainNetworkConfigurationsByChainId),A=Boolean(!g||w[g]),M=(0,r.useSelector)(d.selectERC20TokensByChain),E=(0,i.useTokenFiatAmount)(e??undefined,a,n,{},!0),_=a?`${T(Number(a),n)}`:undefined,S=h?C(h,x):E;return o.default.createElement(c.TokenListItem,p({key:`${g}-${n}-${e}`,chainId:g,tokenSymbol:n,tokenImage:t??(null==M||null===(b=M[g])||void 0===b||null===(b=b.data)||void 0===b||null===(b=b[(e??"").toLowerCase()])||void 0===b?void 0:b.iconUrl),secondary:A?_:undefined,primary:A?S:undefined,title:m??n,tooltipText:f,tokenChainImage:(0,u.getImageForChainId)(g),isDestinationToken:k,address:e,accountType:y},v))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),s=e("../../../../ducks/metamask/metamask"),i=e("../../../../hooks/useTokenFiatAmount"),c=e("../../token-list-item"),l=e("../../../../hooks/useFormatters"),u=e("../../../../selectors/multichain"),d=e("../../../../selectors/selectors");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(null,arguments)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/Asset.tsx"}],[6486,{"../..":6568,"../../../../../shared/constants/transaction":5637,"../../../../../shared/modules/conversion.utils":5732,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useCurrencyDisplay":7034,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useMultichainSelector":7057,"../../../../pages/settings/networks-tab/networks-form/use-safe-chains":7775,"../../../../selectors/multichain":7895,"../../../component-library":6325,"../../../ui/loading-screen":6780,"./Asset":6485,"@metamask/utils":2914,classnames:3913,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({handleAssetChange:e,asset:t,tokenList:n,isTokenDisabled:k,network:b,isTokenListLoading:T=!1,assetItemProps:x={},isDestinationToken:w=!1}){var A;const M=(0,m.useI18nContext)(),E=(0,h.useMultichainSelector)(f.getMultichainCurrentNetwork),_=b??E,S=_.chainId===E.chainId,I=(0,h.useMultichainSelector)(f.getMultichainCurrentChainId),O=(0,h.useMultichainSelector)(f.getMultichainNativeCurrency),P=(0,h.useMultichainSelector)(f.getMultichainSelectedAccountCachedBalance),N=(0,s.useSelector)(f.getMultichainCurrentCurrency),[B]=(0,i.useCurrencyDisplay)(P,{currency:N,hideLabel:!0}),[D]=(0,i.useCurrencyDisplay)(P,{currency:O}),{safeChains:j}=(0,g.useSafeChains)(),R=(0,a.useMemo)(()=>null==j?void 0:j.find(e=>{const t=(0,r.isStrictHexString)(I)&&parseInt((0,y.hexToDecimal)(I),10);return"number"==typeof t?e.chainId===t.toString():undefined}),[j,I]),L=null==R||null===(A=R.nativeCurrency)||void 0===A?void 0:A.symbol;return a.default.createElement(l.Box,{className:"tokens-main-view-modal"},T&&a.default.createElement(p.default,{loadingMessage:M("loadingTokenList"),showLoadingSpinner:!0}),n.map(n=>{var r,s;const i=null===(r=n.address)||void 0===r?void 0:r.toLowerCase(),p=n.chainId===(null==_?void 0:_.chainId),m=n.type===c.AssetType.native&&n.symbol===(null==t?void 0:t.symbol)||i===(null==t||null===(s=t.address)||void 0===s?void 0:s.toLowerCase()),h=p&&m,g=(null==k?void 0:k(n))??!1;return a.default.createElement(l.Box,{padding:0,gap:0,margin:0,key:`${n.symbol}-${i??""}-${n.chainId}`,backgroundColor:h?u.BackgroundColor.primaryMuted:u.BackgroundColor.transparent,className:(0,o.default)("multichain-asset-picker-list-item",{"multichain-asset-picker-list-item--selected":h,"multichain-asset-picker-list-item--disabled":g}),"data-testid":"asset-list-item",onClick:()=>{g||e(n)}},h?a.default.createElement(l.Box,{className:"multichain-asset-picker-list-item__selected-indicator",borderRadius:u.BorderRadius.pill,backgroundColor:u.BackgroundColor.primaryDefault}):null,a.default.createElement(l.Box,{key:n.address,padding:0,display:u.Display.Block,flexWrap:u.FlexWrap.NoWrap,alignItems:u.AlignItems.center},a.default.createElement(l.Box,null,n.type===c.AssetType.native&&n.chainId===I&&S?a.default.createElement(d.TokenListItem,C({chainId:n.chainId,title:n.name??n.symbol,primary:B,tokenSymbol:n.symbol,secondary:D,tokenImage:n.image,tokenChainImage:(0,f.getImageForChainId)(n.chainId),nativeCurrencySymbol:L},x,{isTitleNetworkName:!1})):a.default.createElement(v.default,C({},n,{tooltipText:g?"swapTokenNotAvailable":undefined,assetItemProps:{...x,nativeCurrencySymbol:L},isDestinationToken:w})))))}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=k(e("classnames")),r=e("@metamask/utils"),s=e("react-redux"),i=e("../../../../hooks/useCurrencyDisplay"),c=e("../../../../../shared/constants/transaction"),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),d=e("../.."),p=k(e("../../../ui/loading-screen")),m=e("../../../../hooks/useI18nContext"),f=e("../../../../selectors/multichain"),h=e("../../../../hooks/useMultichainSelector"),g=e("../../../../pages/settings/networks-tab/networks-form/use-safe-chains"),y=e("../../../../../shared/modules/conversion.utils"),v=k(e("./Asset"));function k(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(null,arguments)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/AssetList.tsx"}],[6487,{"../../../../../shared/constants/bridge":5600,"../../../../../shared/constants/network":5617,"../../../../../shared/modules/selectors/networks":5753,"../../../../ducks/metamask/metamask":6883,"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/confirm-tx.util":6927,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useMultichainBalances":7056,"../../../../selectors/multichain":7895,"../../../../selectors/selectors":7903,"../../../component-library":6325,"../../network-list-item":6585,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerModalNetwork=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),i=e("../../../../hooks/useI18nContext"),c=e("../../network-list-item"),l=e("../../../../../shared/modules/selectors/networks"),u=e("../../../../ducks/metamask/metamask"),d=e("../../../../helpers/utils/confirm-tx.util"),p=e("../../../../hooks/useMultichainBalances"),m=e("../../../../../shared/constants/bridge"),f=e("../../../../selectors/multichain"),h=e("../../../../../shared/constants/network"),g=e("../../../../selectors/selectors");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.AssetPickerModalNetwork=({isOpen:e,onClose:t,onBack:n,network:y,networks:v,onNetworkChange:k,shouldDisableNetwork:b,header:C,isMultiselectEnabled:T,onMultiselectSubmit:x,selectedChainIds:w})=>{const A=(0,i.useI18nContext)(),{balanceByChainId:M}=(0,p.useMultichainBalances)(),E=(0,o.useSelector)(l.getNetworkConfigurationsByChainId),_=(0,o.useSelector)(g.getShowTestNetworks),S=(0,o.useSelector)(u.getCurrentCurrency),I=(0,a.useMemo)(()=>(v??Object.values(E)??[]).sort((e,t)=>M[t.chainId]-M[e.chainId]),[]),[O,P]=(0,a.useMemo)(()=>I.reduce(([e,t],n)=>((h.TEST_CHAINS.includes(n.chainId)?t:e).push(n),[e,t]),[[],[]]),[I]),[N,B]=(0,a.useState)(()=>{if(!I)return{};const e={};for(const{chainId:t}of I)e[t]=!!w&&w.includes(t);return e});(0,a.useEffect)(()=>{if(I){const e={};for(const{chainId:t}of I)e[t]=!!w&&w.includes(t);B(e)}},[I,w]);const D=(0,a.useCallback)(e=>{B(t=>({...t,[e]:!t[e]}))},[]),j=(0,a.useCallback)(()=>{const e={},t=Object.values(N).every(e=>e);for(const n of Object.keys(N))e[n]=!t;B(e)},[N]);return a.default.createElement(s.Modal,{isOpen:e,onClose:t,className:"multichain-asset-picker__network-modal"},a.default.createElement(s.ModalOverlay,null),a.default.createElement(s.ModalContent,{modalDialogProps:{padding:0}},a.default.createElement(s.ModalHeader,{onBack:y?n:undefined,onClose:T?undefined:t,endAccessory:T&&w?a.default.createElement(s.ButtonLink,{variant:r.TextVariant.bodyMdMedium,disabled:Object.values(N).every(e=>!e),onClick:()=>{null==x||x(Object.keys(N).filter(e=>N[e])),n()}},A("apply")):undefined},C??A("bridgeSelectNetwork")),T&&a.default.createElement(s.Box,{display:r.Display.Flex,padding:4},a.default.createElement(s.Checkbox,{isIndeterminate:Object.values(N).every(e=>e),iconProps:{name:Object.values(N).some(e=>!e)?s.IconName.MinusBold:s.IconName.Add,color:r.IconColor.primaryInverse,backgroundColor:r.BackgroundColor.primaryDefault},isChecked:!0,onChange:()=>{j()}}),a.default.createElement(s.ButtonLink,{variant:r.TextVariant.bodyMdMedium,onClick:()=>{j()},style:{alignSelf:r.AlignItems.flexStart,paddingInline:16}},A("selectAll"))),a.default.createElement(s.Box,{className:"multichain-asset-picker__network-list",display:r.Display.Flex,flexDirection:r.FlexDirection.Column},P.length>0?a.default.createElement(s.Text,{variant:r.TextVariant.bodyMd,color:r.TextColor.textAlternative,padding:4},A("enabledNetworks")):null,a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.Full},O.map(e=>{var t;const{name:o,chainId:i}=e;return a.default.createElement(c.NetworkListItem,{key:i,name:m.NETWORK_TO_SHORT_NETWORK_NAME_MAP[i]??o,selected:!T&&(null==y?void 0:y.chainId)===i,onClick:()=>{T?D(i):(k(e),n())},iconSrc:(0,f.getImageForChainId)(i),iconSize:s.AvatarNetworkSize.Sm,focus:!1,disabled:null==b?void 0:b(e),startAccessory:T?a.default.createElement(s.Checkbox,{isChecked:N[i],name:i}):undefined,chainId:i,showEndAccessory:T,variant:r.TextVariant.bodyMdMedium,endAccessory:T?a.default.createElement(s.Text,{variant:r.TextVariant.bodyMdMedium},(0,d.formatCurrency)(null===(t=M[i])||void 0===t?void 0:t.toString(),S)):undefined})}))),_&&P.length>0?a.default.createElement(s.Box,{className:"multichain-asset-picker__network-list",display:r.Display.Flex,flexDirection:r.FlexDirection.Column},a.default.createElement(s.Box,{padding:4},a.default.createElement(s.Text,{variant:r.TextVariant.bodyMd,color:r.TextColor.textAlternative},A("testNetworks"))),a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.Full},P.map(e=>{var t;const{name:o,chainId:i}=e;return a.default.createElement(c.NetworkListItem,{key:i,name:m.NETWORK_TO_SHORT_NETWORK_NAME_MAP[i]??o,selected:!T&&(null==y?void 0:y.chainId)===i,onClick:()=>{T?D(i):(k(e),n())},iconSrc:(0,f.getImageForChainId)(i),iconSize:s.AvatarNetworkSize.Sm,focus:!1,disabled:null==b?void 0:b(e),startAccessory:T?a.default.createElement(s.Checkbox,{isChecked:N[i],name:i}):undefined,showEndAccessory:T,variant:r.TextVariant.bodyMdMedium,endAccessory:T?a.default.createElement(s.Text,{variant:r.TextVariant.bodyMdMedium},(0,d.formatCurrency)(null===(t=M[i])||void 0===t?void 0:t.toString(),S)):undefined})}))):null))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-network.tsx"}],[6488,{"../../../../../shared/constants/metametrics":5613,"../../../../../shared/constants/transaction":5637,"../../../../contexts/metametrics":6855,"../../../../ducks/send":6891,"../../../../helpers/utils/nfts":6943,"../../../../hooks/useNfts":7062,"../../../../pages/confirmations/hooks/useRedesignedSendFlow":7557,"../../../../pages/confirmations/utils/send":7588,"../../../../selectors":7886,"../../../app/assets/nfts/nft-empty-state":5830,"../../../app/assets/nfts/nft-grid/nft-grid":5833,"../../../app/assets/nfts/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":5836,"../../../component-library":6325,"../../../ui/spinner":6817,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerModalNftTab=function({searchQuery:e,onClose:t,renderSearch:n}){const b=(0,o.useDispatch)(),C=(0,r.useNavigate)(),T=(0,o.useSelector)(c.getUseNftDetection),x=(0,o.useSelector)(c.getIsMainnet),w=(0,o.useSelector)(c.getNftIsStillFetchingIndication),{enabled:A}=(0,y.useRedesignedSendFlow)(),{currentlyOwnedNfts:M}=(0,d.useNfts)({overridePopularNetworkFilter:!0}),E=(0,a.useContext)(p.MetaMetricsContext),_=(0,o.useSelector)(h.getSendAnalyticProperties),S=M.reduce((t,n)=>{var a;return(null===(a=n.name)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase()))&&t.push(n),t},[]),I=S.length>0;if(!I&&w)return a.default.createElement(s.Box,{className:"modal-tab__loading","data-testid":"spinner"},a.default.createElement(i.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"}));return a.default.createElement(s.Box,{className:"modal-tab__main-view"},n(),I?a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Box,null,a.default.createElement(u.default,{nfts:S,handleNftClick:async e=>{E({event:m.MetaMetricsEventName.SendAssetSelected,category:m.MetaMetricsEventCategory.Send,properties:{is_destination_asset_picker_modal:!1,is_nft:!0},sensitiveProperties:{..._,new_asset_symbol:e.name,new_asset_address:e.address}},{excludeMetaMetricsId:!1});const n={...e,image:(0,g.getNftImage)(e.image)};await b((0,h.updateSendAsset)({type:f.AssetType.NFT,details:n,skipComputeEstimatedGasLimit:!1})),(0,v.navigateToSendRoute)(C,A,{address:e.address,chainId:e.chainId}),t&&t()}})),w&&a.default.createElement(s.Box,{className:"modal-tab__fetching"},a.default.createElement(i.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"}))):a.default.createElement(a.default.Fragment,null,x&&!T&&a.default.createElement(s.Box,{paddingTop:4,paddingInlineStart:4,paddingInlineEnd:4},a.default.createElement(l.default,null)),a.default.createElement(k.NftEmptyState,{className:"mx-auto mt-5 mb-6"})))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("../../../component-library"),i=b(e("../../../ui/spinner")),c=e("../../../../selectors"),l=b(e("../../../app/assets/nfts/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab")),u=b(e("../../../app/assets/nfts/nft-grid/nft-grid")),d=e("../../../../hooks/useNfts"),p=e("../../../../contexts/metametrics"),m=e("../../../../../shared/constants/metametrics"),f=e("../../../../../shared/constants/transaction"),h=e("../../../../ducks/send"),g=e("../../../../helpers/utils/nfts"),y=e("../../../../pages/confirmations/hooks/useRedesignedSendFlow"),v=e("../../../../pages/confirmations/utils/send"),k=e("../../../app/assets/nfts/nft-empty-state");function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-nft-tab.tsx"}],[6489,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Search=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}n.Search=({searchQuery:e,onChange:t,isNFTSearch:n=!1,props:a,placeholder:l,autoFocus:u=!0})=>{const d=(0,i.useI18nContext)();return o.default.createElement(r.Box,c({paddingTop:4,paddingLeft:4,paddingRight:4,paddingBottom:2},a),o.default.createElement(r.TextFieldSearch,{borderRadius:s.BorderRadius.LG,placeholder:l??d(n?"searchNfts":"searchTokensByNameOrAddress"),value:e,onChange:e=>t(e.target.value),error:!1,autoFocus:u,autoComplete:!1,width:s.BlockSize.Full,clearButtonOnClick:()=>t(""),clearButtonProps:{size:r.ButtonIconSize.Sm},style:{paddingInline:12},showClearButton:!0,className:"asset-picker-modal__search-list",inputProps:{"data-testid":"asset-picker-modal-search-input",marginRight:0},endAccessory:null,size:r.TextFieldSearchSize.Lg}))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-search.tsx"}],[6490,{"../../../../hooks/useI18nContext":7047,"../../../ui/tabs":6823,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TabName=n.AssetPickerModalTabs=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../hooks/useI18nContext"),s=e("../../../ui/tabs");let i=n.TabName=function(e){return e.TOKENS="tokens",e.NFTS="nfts",e}({});n.AssetPickerModalTabs=({defaultActiveTabKey:e=i.TOKENS,children:t,visibleTabs:n=[i.TOKENS,i.NFTS]})=>{const a=(0,r.useI18nContext)();return n.length>1?o.default.createElement(s.Tabs,{defaultActiveTabKey:e,onTabClick:()=>null,tabListProps:{className:"px-4"}},n.map(e=>o.default.createElement(s.Tab,{key:e,name:a(e),tabKey:e,className:"flex-1"},t.find(({key:t})=>t===e)))):o.default.createElement(o.default.Fragment,null,n.map(e=>t.find(({key:t})=>t===e)))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs.tsx"}],[6491,{"../../../../../shared/constants/bridge":5600,"../../../../../shared/constants/multichain/networks":5616,"../../../../../shared/constants/network":5617,"../../../../../shared/constants/transaction":5637,"../../../../../shared/lib/asset-utils":5647,"../../../../../shared/modules/Numeric":5727,"../../../../../shared/modules/string-utils":5761,"../../../../ducks/bridge/utils":6874,"../../../../ducks/send":6891,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useAsync":7029,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useMultichainBalances":7056,"../../../../hooks/useMultichainSelector":7057,"../../../../hooks/useTokensToSearch":7088,"../../../../pages/swaps/swaps.util":7864,"../../../../selectors":7886,"../../../../selectors/multichain":7895,"../../../component-library":6325,"../../avatar-group/avatar-group.types":6505,"../../toast":6709,"./AssetList":6486,"./asset-picker-modal-nft-tab":6488,"./asset-picker-modal-search":6489,"./asset-picker-modal-tabs":6490,"./hooks/useAssetMetadata":6492,"./solana-account-creation-prompt":6494,"@metamask/utils":2914,"ethereumjs-util":4138,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerModal=function({header:e,isOpen:t,onClose:n,onBack:a,asset:j,onAssetChange:L,sendingAsset:F,network:$,networks:W,action:z,onNetworkPickerClick:V,customTokenListGenerator:U,isTokenListLoading:G=!1,isMultiselectEnabled:H,selectedChainIds:K,autoFocus:q,isDestinationToken:Y=!1,hideSearch:J=!1,...X}){const Q=(0,d.useI18nContext)(),[Z,ee]=(0,o.useState)(!1),te=(0,o.useRef)(!1),[ne,ae]=(0,o.useState)(""),[oe,re]=(0,o.useState)(ne),se=(0,o.useCallback)((0,c.debounce)(e=>{re(e)},200),[]),ie=(0,o.useRef)(null);(0,o.useEffect)(()=>()=>{var e;null===(e=ie.current)||void 0===e||e.abort(),ie.current=null,se.cancel()},[]),(0,o.useEffect)(()=>{se(ne)},[ne,se]);const ce=(0,r.useSelector)(g.getSwapsBlockedTokens),le=(0,o.useMemo)(()=>new Set(ce),[ce]),ue=(0,o.useCallback)(e=>{L(e),ae("")},[L]),de=(0,r.useSelector)(M.getMultichainCurrentChainId),pe=(0,r.useSelector)(M.getMultichainNetworkConfigurationsByChainId),me=$??(de&&pe[de]),fe=W??Object.values(pe??{}),he=(0,w.useMultichainSelector)(M.getMultichainIsEvm);(0,o.useEffect)(()=>{ae("")},[null==me?void 0:me.chainId]);const ge=(0,w.useMultichainSelector)(M.getMultichainCurrencyImage),ye=(0,w.useMultichainSelector)(M.getMultichainNativeCurrency),ve=(0,w.useMultichainSelector)(M.getMultichainSelectedAccountCachedBalance),ke=(0,w.useMultichainSelector)(f.getTokenExchangeRates),be=(0,w.useMultichainSelector)(M.getMultichainConversionRate),Ce=(0,r.useSelector)(M.getMultichainCurrentCurrency);let Te=!1,xe=!1;xe=(0,r.useSelector)(f.hasCreatedSolanaAccount),Te=!xe&&me.chainId===E.MultichainNetworks.SOLANA,(0,o.useEffect)(()=>{!0===te.current&&!Te&&xe&&!1===Z&&ee(!0),te.current=Te},[Te,xe,Z]);const{address:we}=(0,r.useSelector)(f.getSelectedEvmInternalAccount),Ae=(0,r.useSelector)(f.getAllTokens),Me=(0,o.useMemo)(()=>{var e;return((0,s.isCaipChainId)(de)?[]:null==Ae||null===(e=Ae[de])||void 0===e?void 0:e[we])??[]},[Ae,de,we]),{assetsWithBalance:Ee}=(0,k.useMultichainBalances)(),_e=(0,r.useSelector)(f.getTokenList),Se=(0,r.useSelector)(f.getUseExternalServices),{value:Ie}=(0,T.useAsyncResult)(async()=>Se&&null!=me&&me.chainId?await(0,x.fetchTopAssetsList)(me.chainId):undefined,[null==me?void 0:me.chainId,Se]),Oe=(0,o.useCallback)(({address:e,symbol:t})=>!(null==F||!F.symbol)&&(!(0,y.isEqualCaseInsensitive)(F.symbol,t)&&le.has(e||"")),[null==F?void 0:F.symbol,le]),Pe=(0,o.useCallback)(function*(e){const t=[];for(const t of Ee)(0,A.isTronEnergyOrBandwidthResource)(t.chainId,t.symbol)||e(t.symbol,t.address,t.chainId)&&(yield t.isNative?{...t,image:v.CHAIN_ID_TOKEN_IMAGE_MAP[t.chainId],type:m.AssetType.native,name:(0,A.getNativeTokenName)(t.chainId)}:{...t,balance:_.Numeric.from(t.balance??"0",10).shiftedBy(-1*t.decimals).toPrefixedHexString()});const n={address:"",symbol:ye,decimals:18,image:ge,balance:ve,string:undefined,chainId:me.chainId,type:m.AssetType.native,name:(0,A.getNativeTokenName)(me.chainId)};he&&e(n.symbol,n.address,n.chainId)&&(yield n);for(const t of Me)(0,A.isTronEnergyOrBandwidthResource)(de,t.symbol)||e(t.symbol,t.address,de)&&(yield{...t,chainId:de});if((0,S.isEvmChainId)(null==me?void 0:me.chainId)){for(const n of Ie??[]){const a=null==_e?void 0:_e[n.address];if(a&&e(a.symbol,a.address,de)){if(Oe(a)){t.push(a);continue}yield{...a,chainId:de}}}for(const t of Object.values(_e))e(t.symbol,t.address,de)&&(yield{...t,chainId:de});for(const e of t)yield{...e,chainId:de}}},[ye,ge,ve,de,he,null==me?void 0:me.chainId,Ee,Me,Ie,_e,Oe]),Ne=(0,o.useMemo)(()=>{const e=[],t=new Set,n=(e,t)=>`${(null==e?void 0:e.toLowerCase())??(0,i.zeroAddress)()}:${t??de}`,a=(U??Pe)((e,a,o)=>{const r=oe.trim().toLowerCase(),s=null==e?void 0:e.toLowerCase().includes(r),i=r.length>=6&&(null==a?void 0:a.toLowerCase().includes(r)),c=Boolean(!r||s||i),l=H?o&&-1!==(null==K?void 0:K.indexOf(o)):(null==me?void 0:me.chainId)===o;return Boolean(l&&c&&!t.has(n(a,o)))});for(const o of a){if("send"===z&&o.balance===undefined)continue;t.add(n(o.address,o.chainId));const a=!U&&(0,s.isStrictHexString)(o.address)?(0,h.getRenderableTokenData)(o.address?{...o,..._e[o.address.toLowerCase()],type:m.AssetType.token}:o,ke,be,Ce,o.chainId,_e):o;if((null==j?void 0:j.address)===a.address&&(null==me?void 0:me.chainId)===a.chainId?e.unshift(a):e.push(a),e.length>R)break}return e},[de,oe,H,K,null==me?void 0:me.chainId,U,Pe,z,_e,ke,be,Ce,j]),Be=(0,I.useAssetMetadata)(ne,0===Ne.length,ie,null==me?void 0:me.chainId),De=(0,o.useMemo)(()=>Be?[Be]:Ne,[Be,Ne]);return o.default.createElement(l.Modal,{className:"asset-picker-modal",isOpen:t,onClose:()=>{ae(""),n()},"data-testid":"asset-picker-modal"},o.default.createElement(l.ModalOverlay,null),o.default.createElement(l.ModalContent,{modalDialogProps:{padding:0}},o.default.createElement(l.ModalHeader,{onClose:()=>{ae(""),n()},onBack:j?undefined:a},o.default.createElement(l.Text,{variant:u.TextVariant.headingSm,textAlign:u.TextAlign.Center},e)),Z&&o.default.createElement("div",{style:{position:"absolute",bottom:15,left:"50%",transform:"translateX(-50%)",zIndex:1e3,width:"100%",display:"flex",justifyContent:"center",padding:"16px"}},o.default.createElement(p.ToastContainer,null,o.default.createElement(p.Toast,{text:Q("bridgeSolanaAccountCreated"),onClose:()=>ee(!1),startAdornment:o.default.createElement("img",{src:"/images/solana-logo.svg",alt:"Solana Logo",style:{width:"24px",height:"24px",borderRadius:"4px"}}),autoHideTime:5e3,onAutoHideToast:()=>ee(!1)}))),(null==F?void 0:F.image)&&(null==F?void 0:F.symbol)&&o.default.createElement(l.Box,{display:u.Display.Flex,gap:1,alignItems:u.AlignItems.center,marginInline:"auto"},o.default.createElement(l.AvatarToken,{borderRadius:u.BorderRadius.full,src:F.image,name:F.symbol,size:l.AvatarTokenSize.Xs}),o.default.createElement(l.Text,{variant:u.TextVariant.bodySm},Q("sendingAsset",[F.symbol]))),V&&o.default.createElement(l.Box,{className:"network-picker",display:u.Display.Flex,justifyContent:u.JustifyContent.center},o.default.createElement(l.PickerNetwork,{label:(()=>{if(!H)return((null==me?void 0:me.chainId)&&v.NETWORK_TO_NAME_MAP[me.chainId])??(null==me?void 0:me.name)??(null==me?void 0:me.nickname)??Q("bridgeSelectNetwork");switch(null==K?void 0:K.length){case fe.length:return Q("allNetworks");case 1:return Q("singleNetwork");case 0:return Q("bridgeSelectNetwork");default:return Q("someNetworks",[null==K?void 0:K.length])}})(),src:null!=me&&me.chainId?(0,M.getImageForChainId)(me.chainId):undefined,avatarGroupProps:H&&K?{limit:2,members:K.map(e=>({avatarValue:(0,M.getImageForChainId)(e)??"",symbol:C.NETWORK_TO_SHORT_NETWORK_NAME_MAP[e]})),avatarType:b.AvatarType.NETWORK}:undefined,onClick:V,"data-testid":"multichain-asset-picker__network"})),o.default.createElement(l.Box,{className:"modal-tab__wrapper"},Te?o.default.createElement(D.SolanaAccountCreationPrompt,null):o.default.createElement(O.AssetPickerModalTabs,X,o.default.createElement(o.default.Fragment,{key:O.TabName.TOKENS},!J&&o.default.createElement(B.Search,{searchQuery:ne,onChange:e=>{var t;null===(t=ie.current)||void 0===t||t.abort(),ae(()=>e)},autoFocus:q}),o.default.createElement(N.default,{network:$,handleAssetChange:ue,asset:(null==j?void 0:j.type)===m.AssetType.NFT?undefined:j,tokenList:De,isTokenDisabled:Oe,isTokenListLoading:G,assetItemProps:{isTitleNetworkName:!1,isTitleHidden:!1},isDestinationToken:Y})),o.default.createElement(P.AssetPickerModalNftTab,{key:O.TabName.NFTS,searchQuery:ne,onClose:n,renderSearch:()=>o.default.createElement(B.Search,{isNFTSearch:!0,searchQuery:ne,onChange:e=>ae(e)})})))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("@metamask/utils"),i=e("ethereumjs-util"),c=e("lodash"),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../hooks/useI18nContext"),p=e("../../toast"),m=e("../../../../../shared/constants/transaction"),f=e("../../../../selectors"),h=e("../../../../hooks/useTokensToSearch"),g=e("../../../../ducks/send"),y=e("../../../../../shared/modules/string-utils"),v=e("../../../../../shared/constants/network"),k=e("../../../../hooks/useMultichainBalances"),b=e("../../avatar-group/avatar-group.types"),C=e("../../../../../shared/constants/bridge"),T=e("../../../../hooks/useAsync"),x=e("../../../../pages/swaps/swaps.util"),w=e("../../../../hooks/useMultichainSelector"),A=e("../../../../ducks/bridge/utils"),M=e("../../../../selectors/multichain"),E=e("../../../../../shared/constants/multichain/networks"),_=e("../../../../../shared/modules/Numeric"),S=e("../../../../../shared/lib/asset-utils"),I=e("./hooks/useAssetMetadata"),O=e("./asset-picker-modal-tabs"),P=e("./asset-picker-modal-nft-tab"),N=(a=e("./AssetList"))&&a.__esModule?a:{default:a},B=e("./asset-picker-modal-search"),D=e("./solana-account-creation-prompt");function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}const R=30}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal.tsx"}],[6492,{"../../../../../../shared/constants/transaction":5637,"../../../../../../shared/lib/asset-utils":5647,"../../../../../hooks/useAsync":7029,"../../../../../selectors":7886,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetMetadata=void 0;var a=e("react-redux"),o=e("../../../../../selectors"),r=e("../../../../../../shared/lib/asset-utils"),s=e("../../../../../../shared/constants/transaction"),i=e("../../../../../hooks/useAsync");n.useAssetMetadata=(e,t,n,c)=>{const l=(0,a.useSelector)(o.getUseExternalServices),{value:u}=(0,i.useAsyncResult)(async()=>{if(!c||!e)return undefined;const a=e.trim();if(l&&t&&a.length>30){n.current=new AbortController;const e=await(0,r.fetchAssetMetadata)(a,c,n.current.signal);return e?{...e,chainId:c,isNative:!1,type:s.AssetType.token,image:(0,r.getAssetImageUrl)(e.assetId,c)??"",balance:"",string:""}:undefined}return undefined},[t,e]);return u}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/hooks/useAssetMetadata.ts"}],[6493,{"./asset-picker-modal":6491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AssetPickerModal",{enumerable:!0,get:function(){return a.AssetPickerModal}});var a=e("./asset-picker-modal")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/index.ts"}],[6494,{"../../../../../shared/constants/multichain/networks":5616,"../../../../helpers/constants/design-system":6899,"../../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../component-library":6325,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SolanaAccountCreationPrompt=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),c=e("../../../../../shared/constants/multichain/networks"),l=e("../../../../selectors"),u=e("../../../../hooks/accounts/useMultichainWalletSnapClient");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.SolanaAccountCreationPrompt=()=>{var e;const t=(0,i.useI18nContext)(),n=(0,u.useMultichainWalletSnapClient)(u.WalletClientType.Solana),[d]=(0,o.useSelector)(l.getMetaMaskKeyrings),[p,m]=a.default.useState(!1),f=(0,a.useCallback)(async()=>{try{var e;m(!0),await n.createAccount({scope:c.MultichainNetworks.SOLANA,entropySource:null==d||null===(e=d.metadata)||void 0===e?void 0:e.id},{displayConfirmation:!1,displayAccountNameSuggestion:!1,setSelectedAccount:!1})}catch(e){console.error("Error creating Solana account:",e)}finally{m(!1)}},[n,null==d||null===(e=d.metadata)||void 0===e?void 0:e.id]);return a.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.flexStart,gap:1,padding:4,"data-testid":"solana-account-creation-prompt",style:{height:"100%",minHeight:"400px",paddingTop:"72px"}},a.default.createElement("img",{src:"/images/solana-logo.svg",alt:"Solana Logo",style:{width:"30px",height:"30px",marginBottom:"4px",borderRadius:"4px"}}),a.default.createElement(r.Text,{variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center,color:s.TextColor.textDefault},t("bridgeCreateSolanaAccountTitle")),a.default.createElement(r.Text,{variant:s.TextVariant.bodySm,textAlign:s.TextAlign.Center,color:s.TextColor.textAlternative},t("bridgeCreateSolanaAccountDescription")),a.default.createElement(r.Button,{block:!0,size:r.ButtonSize.Md,variant:r.ButtonVariant.Secondary,onClick:f,loading:p,"data-testid":"create-solana-account-button",style:{width:"75%",marginTop:"10px"}},t("bridgeCreateSolanaAccount")))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/solana-account-creation-prompt.tsx"}],[6495,{"../../../../../shared/constants/network":5617,"../../../../../shared/constants/transaction":5637,"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/nfts":6943,"../../../../hooks/useI18nContext":7047,"../../../../hooks/useMultichainBalances":7056,"../../../../hooks/useMultichainSelector":7057,"../../../../pages/confirmations/send-legacy/send.utils":7578,"../../../../selectors/multichain":7895,"../../../component-library":6325,"../../../ui/tooltip":6835,"../asset-picker-modal/asset-picker-modal":6491,"../asset-picker-modal/asset-picker-modal-network":6487,"../asset-picker-modal/asset-picker-modal-tabs":6490,"../constants":6497,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPicker=function({children:e,header:t,asset:n,onAssetChange:a,networkProps:C,sendingAsset:w,action:A,onClick:M,isDisabled:E=!1,visibleTabs:_,customTokenListGenerator:S,isTokenListLoading:I=!1,isMultiselectEnabled:O=!1,autoFocus:P=!0,isDestinationToken:N=!1}){var B,D;const j=(0,p.useI18nContext)(),[R,L]=(0,o.useState)(!1),F=(null==n?void 0:n.type)===c.AssetType.NFT,$=null==n?void 0:n.image,W=null==n?void 0:n.symbol,z=W&&W.length>d.LARGE_SYMBOL_LENGTH,V=z&&!F?`${W.substring(0,d.LARGE_SYMBOL_LENGTH-1)}...`:W,U=(0,k.useMultichainSelector)(v.getMultichainCurrentChainId),G=(0,r.useSelector)(v.getMultichainNetworkConfigurationsByChainId),H=G[U],K=(0,k.useMultichainSelector)(v.getMultichainCurrentNetwork),q=(null==C?void 0:C.network)??H,Y=(null==C?void 0:C.networks)??Object.values(G),{balanceByChainId:J}=(0,y.useMultichainBalances)(),[X,Q]=(0,o.useState)(O?(null==Y?void 0:Y.map(({chainId:e})=>e).sort((e,t)=>J[t]-J[e]))??[]:[]),[Z,ee]=(0,o.useState)(!1);(0,o.useEffect)(()=>{var e;const t=null==C||null===(e=C.network)||void 0===e?void 0:e.chainId;t&&!X.includes(t)&&Q(e=>[...e,t])},[null==C||null===(B=C.network)||void 0===B?void 0:B.chainId]);const te=null!=q&&q.chainId?(0,v.getImageForChainId)(q.chainId):undefined,ne=()=>{C&&!C.network?ee(!0):L(!0),null==M||M()};return o.default.createElement(o.default.Fragment,null,C&&o.default.createElement(h.AssetPickerModalNetwork,T({isOpen:Z,onClose:()=>ee(!1),onBack:()=>{ee(!1),L(!0)},isMultiselectEnabled:O,onMultiselectSubmit:e=>{Q(e),1===e.length&&e[0]!==(null==K?void 0:K.chainId)&&null!=C&&C.onNetworkChange&&C.onNetworkChange(G[e[0]])},selectedChainIds:X},C)),o.default.createElement(l.AssetPickerModal,{visibleTabs:_,header:t,action:A,isOpen:R,onClose:()=>L(!1),asset:n,isDestinationToken:N,onAssetChange:e=>{if(O&&null!=C&&C.onNetworkChange){const t=e.chainId?G[e.chainId]:undefined;t&&C.onNetworkChange(t)}a(e),L(!1)},isMultiselectEnabled:O,sendingAsset:w,network:null==C?void 0:C.network,networks:null==C?void 0:C.networks,selectedChainIds:X,onNetworkPickerClick:null!=C&&C.networks?()=>{L(!1),ee(!0)}:undefined,defaultActiveTabKey:(null==n?void 0:n.type)===c.AssetType.NFT?f.TabName.NFTS:f.TabName.TOKENS,customTokenListGenerator:S,isTokenListLoading:I,autoFocus:P}),(null==e?void 0:e(ne,te))||o.default.createElement(s.ButtonBase,{"data-testid":"asset-picker-button",className:"asset-picker",disabled:E,display:i.Display.Flex,alignItems:i.AlignItems.center,gap:2,padding:2,paddingLeft:2,paddingRight:2,justifyContent:F?i.JustifyContent.spaceBetween:undefined,backgroundColor:i.BackgroundColor.transparent,onClick:ne,endIconName:s.IconName.ArrowDown,endIconProps:{color:i.IconColor.iconDefault,marginInlineStart:0,display:E?i.Display.None:i.Display.InlineBlock},title:E?j("swapTokenNotAvailable"):undefined},o.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:3},o.default.createElement(s.Box,{display:i.Display.Flex},o.default.createElement(s.BadgeWrapper,{badge:o.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:(null==q?void 0:q.name)??"",src:te,borderWidth:2,backgroundColor:null===(D=Object.entries({[g.GOERLI_DISPLAY_NAME]:i.BackgroundColor.goerli,[g.SEPOLIA_DISPLAY_NAME]:i.BackgroundColor.sepolia}).find(([e])=>{var t;return null==q||null===(t=q.nativeCurrency)||void 0===t?void 0:t.includes(e)}))||void 0===D?void 0:D[1],borderColor:$?i.BorderColor.borderMuted:i.BorderColor.borderDefault})},o.default.createElement(s.AvatarToken,T({borderRadius:F?i.BorderRadius.LG:i.BorderRadius.full,src:(0,b.getNftImage)($)??undefined,size:s.AvatarTokenSize.Md,name:W},F&&{backgroundColor:i.BackgroundColor.transparent})))),o.default.createElement(u.default,{disabled:!z,title:W,position:"bottom",wrapperClassName:"mm-box"},o.default.createElement(s.Text,{className:"asset-picker__symbol",variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault},V),F&&(null==n?void 0:n.tokenId)&&o.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},"#",String(n.tokenId).length<x?n.tokenId:(0,m.ellipsify)(String(n.tokenId),6,4))))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../../shared/constants/transaction"),l=e("../asset-picker-modal/asset-picker-modal"),u=(a=e("../../../ui/tooltip"))&&a.__esModule?a:{default:a},d=e("../constants"),p=e("../../../../hooks/useI18nContext"),m=e("../../../../pages/confirmations/send-legacy/send.utils"),f=e("../asset-picker-modal/asset-picker-modal-tabs"),h=e("../asset-picker-modal/asset-picker-modal-network"),g=e("../../../../../shared/constants/network"),y=e("../../../../hooks/useMultichainBalances"),v=e("../../../../selectors/multichain"),k=e("../../../../hooks/useMultichainSelector"),b=e("../../../../helpers/utils/nfts");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(null,arguments)}const x=13}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker/asset-picker.tsx"}],[6496,{"./asset-picker":6495},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AssetPicker",{enumerable:!0,get:function(){return a.AssetPicker}});var a=e("./asset-picker")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker/index.ts"}],[6497,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LARGE_SYMBOL_LENGTH=void 0;n.LARGE_SYMBOL_LENGTH=7}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/constants.tsx"}],[6498,{"./asset-picker-amount":6484},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AssetPickerAmount",{enumerable:!0,get:function(){return a.AssetPickerAmount}});var a=e("./asset-picker-amount")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/index.ts"}],[6499,{"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/transaction":5637,"../../../../shared/modules/conversion.utils":5732,"../../../contexts/metametrics":6855,"../../../ducks/send":6891,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../component-library":6325,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({asset:e}){const t=(0,l.useI18nContext)(),n=(0,o.useSelector)(r.getSendMaxModeState),m=(0,o.useDispatch)(),f=(0,a.useContext)(s.MetaMetricsContext),h=(0,o.useSelector)(r.getSendAnalyticProperties);return e.type===d.AssetType.NFT||Number((0,p.hexToDecimal)(e.balance||"0x0"))<=0?null:a.default.createElement(c.ButtonLink,{className:"asset-picker-amount__max-clear",onClick:()=>{f({event:'Clicked "Amount Max"',category:i.MetaMetricsEventCategory.Transactions,properties:{...h,action:"Edit Screen",legacy_event:!0}}),m((0,r.toggleSendMaxMode)())},marginLeft:"auto",textProps:{variant:u.TextVariant.bodySm},"data-testid":"max-clear-button"},t(n?"clear":"max"))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../ducks/send"),s=e("../../../contexts/metametrics"),i=e("../../../../shared/constants/metametrics"),c=e("../../component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/transaction"),p=e("../../../../shared/modules/conversion.utils");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/max-clear-button.tsx"}],[6500,{"../../../../../shared/modules/Numeric":5727,"../../../ui/unit-input":6841,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NFTInput=function({integerValue:e,onChange:t,className:n}){return a.default.createElement(o.default,{isDisabled:!t,isFocusOnInput:Boolean(t),type:"number",step:1,min:0,dataTestId:"nft-input",onChange:e=>{if(!t)return;const n=new r.Numeric(e,10);Number.isInteger(n.toNumber())&&t(n.toPrefixedHexString(),String(e))},value:e,className:n,keyPressRegex:i})};var a=s(e("react")),o=s(e("../../../ui/unit-input")),r=e("../../../../../shared/modules/Numeric");function s(e){return e&&e.__esModule?e:{default:e}}const i=/^[0-9]*$/u}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/nft-input/nft-input.tsx"}],[6501,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClick:e}){const t=(0,i.useI18nContext)();return o.default.createElement(s.ButtonIcon,{backgroundColor:r.BackgroundColor.transparent,iconName:s.IconName.SwapVertical,size:s.ButtonIconSize.Sm,color:r.IconColor.primaryDefault,onClick:e,ariaLabel:t("switchInputCurrency"),className:"asset-picker-amount__input__swap"})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),i=e("../../../../hooks/useI18nContext")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/swappable-currency-input/swap-icon.tsx"}],[6502,{"../../../../../shared/constants/transaction":5637,"../../../../ducks/app/app":6868,"../../../../ducks/send":6891,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../app/currency-input":5909,"../../../app/currency-input/hooks/useTokenExchangeRate":5908,"../../../component-library":6325,"../nft-input/nft-input":6500,"../utils":6503,"./swap-icon":6501,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SwappableCurrencyInput=function({assetType:e,asset:t,amount:{value:n},isAmountLoading:g,onAmountChange:y}){var v,k,b;const C=(0,o.useDispatch)(),T=(0,r.useI18nContext)(),x=(0,o.useSelector)(p.getIsFiatPrimary),w=(0,f.default)(null==t||null===(v=t.details)||void 0===v?void 0:v.address),A=(0,o.useSelector)(s.getSendMaxModeState),M=a.default.createElement(d.default,{className:"asset-picker-amount__input",isFiatPreferred:x&&Boolean(null==w?void 0:w.toNumber()),onChange:y,hexValue:n,swapIcon:e=>a.default.createElement(h.default,{onClick:e}),onPreferenceToggle:(0,a.useCallback)(()=>C((0,i.toggleCurrencySwitch)()),[C]),asset:null==t?void 0:t.details,isSkeleton:g,isMatchingUpstream:A}),E=a.default.createElement(m.NFTInput,{integerValue:parseInt(n,16),onChange:y,className:"asset-picker-amount__input-nft"});switch(e){case c.AssetType.token:case c.AssetType.native:return M;case c.AssetType.NFT:return(null===(k=t.details)||void 0===k?void 0:k.standard)===c.TokenStandard.ERC721?null:E}return a.default.createElement(l.Box,{marginLeft:"auto"},a.default.createElement(l.Text,{variant:u.TextVariant.bodySm},T("tokenId")),a.default.createElement(l.Text,{variant:u.TextVariant.bodySm,fontWeight:u.FontWeight.Bold,marginLeft:10},null==t||null===(b=t.details)||void 0===b?void 0:b.tokenId))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../../hooks/useI18nContext"),s=e("../../../../ducks/send"),i=e("../../../../ducks/app/app"),c=e("../../../../../shared/constants/transaction"),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),d=g(e("../../../app/currency-input")),p=e("../utils"),m=e("../nft-input/nft-input"),f=g(e("../../../app/currency-input/hooks/useTokenExchangeRate")),h=g(e("./swap-icon"));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/swappable-currency-input/swappable-currency-input.tsx"}],[6503,{reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsFiatPrimary=void 0;var a=e("reselect");n.getIsFiatPrimary=(0,a.createSelector)(function(e){return e.appState.sendInputCurrencySwitched},e=>Boolean(e))}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/utils.ts"}],[6507,{"../../../helpers/constants/design-system":6899,"../../app/preferred-avatar":6033,"../../component-library":6325,"../../ui/tooltip":6835,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BadgeStatus=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("classnames")),r=e("../../../helpers/constants/design-system"),s=e("../../component-library"),i=e("../../app/preferred-avatar"),c=l(e("../../ui/tooltip"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}const p={display:"flex"};n.BadgeStatus=({className:e="",badgeBackgroundColor:t=r.BackgroundColor.backgroundAlternative,badgeBorderColor:n=r.BorderColor.borderMuted,address:l,isConnectedAndNotActive:u=!1,showConnectedStatus:m=!0,text:f,...h})=>{const g=(0,a.useMemo)(()=>{let e;return m&&(e=u?{bottom:"-4%",right:"-12%"}:{bottom:"-10%",right:"-20%"}),a.default.createElement(s.BadgeWrapper,{positionObj:e,badge:m&&a.default.createElement(s.Box,{className:(0,o.default)("multichain-badge-status__badge",{"multichain-badge-status__badge-not-connected":u}),backgroundColor:t,borderRadius:r.BorderRadius.full,borderColor:n,borderWidth:2})},a.default.createElement(i.PreferredAvatar,{address:l,className:"flex"}))},[l,t,n,u,m]);return a.default.createElement(s.Box,d({className:(0,o.default)("multichain-badge-status pr-1",e),"data-testid":"multichain-badge-status",as:"button",display:r.Display.Flex,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,backgroundColor:r.BackgroundColor.transparent},h),m?a.default.createElement(c.default,{style:p,title:f,"data-testid":"multichain-badge-status__tooltip",position:"bottom"},g):g)}}}},{package:"$root$",file:"ui/components/multichain/badge-status/badge-status.tsx"}],[6508,{"./badge-status":6507},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BadgeStatus",{enumerable:!0,get:function(){return a.BadgeStatus}});var a=e("./badge-status")}}},{package:"$root$",file:"ui/components/multichain/badge-status/index.ts"}],[6509,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ANIMATION_TIMINGS=n.ANIMATION_EASINGS=void 0;const a=n.ANIMATION_TIMINGS={CARD_TRANSITION_DURATION:400,CARD_EXIT_DURATION:300,CARD_ENTER_DURATION:250,CARD_ENTER_DELAY:100,EMPTY_STATE_IDLE_TIME:1e3,EMPTY_STATE_DURATION:350,EMPTY_STATE_FADE_DURATION:200,EMPTY_STATE_FOLD_DURATION:300,CAROUSEL_FOLD_DURATION:350};n.ANIMATION_EASINGS={EASE_IN_OUT:"ease-in-out",EASE_OUT:"ease-out",CUBIC_BEZIER_SMOOTH:"cubic-bezier(0.33, 1, 0.68, 1)"};n.default=a}}},{package:"$root$",file:"ui/components/multichain/carousel/animations/animationTimings.ts"}],[6510,{"./animationTimings":6509,"./useTransitionToEmpty":6511,"./useTransitionToNextCard":6512},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ANIMATION_EASINGS",{enumerable:!0,get:function(){return a.ANIMATION_EASINGS}}),Object.defineProperty(n,"ANIMATION_TIMINGS",{enumerable:!0,get:function(){return a.ANIMATION_TIMINGS}}),Object.defineProperty(n,"useTransitionToEmpty",{enumerable:!0,get:function(){return r.useTransitionToEmpty}}),Object.defineProperty(n,"useTransitionToNextCard",{enumerable:!0,get:function(){return o.useTransitionToNextCard}});var a=e("./animationTimings"),o=e("./useTransitionToNextCard"),r=e("./useTransitionToEmpty")}}},{package:"$root$",file:"ui/components/multichain/carousel/animations/index.ts"}],[6511,{"./animationTimings":6509,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransitionToEmpty=void 0;var a=e("react"),o=e("./animationTimings");n.useTransitionToEmpty=({onEmptyStateComplete:e})=>{const[t,n]=(0,a.useState)("hidden"),r=(0,a.useRef)(),s=(0,a.useCallback)(()=>{n("folding"),r.current=setTimeout(()=>{n("complete"),e()},o.ANIMATION_TIMINGS.EMPTY_STATE_DURATION)},[e]),i=(0,a.useCallback)(()=>{n("showing")},[]);(0,a.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),(0,a.useEffect)(()=>{if("showing"===t){const e=setTimeout(()=>{s()},100);return()=>clearTimeout(e)}return undefined},[t,s]);const c=(0,a.useCallback)(()=>{n("hidden")},[]);return{emptyStatePhase:t,startEmptyStateSequence:i,triggerFoldAnimation:s,resetEmptyState:c,isEmptyStateVisible:"showing"===t||"folding"===t,isEmptyStateFolding:"folding"===t}}}}},{package:"$root$",file:"ui/components/multichain/carousel/animations/useTransitionToEmpty.ts"}],[6512,{"./animationTimings":6509,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransitionToNextCard=void 0;var a=e("react"),o=e("./animationTimings");n.useTransitionToNextCard=({onSlideRemove:e,isTransitioning:t,setIsTransitioning:n})=>{const r=(0,a.useRef)();(0,a.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]);return{transitionToNextCard:(0,a.useCallback)((a,s)=>{t||(n(!0),e(a,s),r.current=setTimeout(()=>{n(!1)},o.ANIMATION_TIMINGS.CARD_EXIT_DURATION+50))},[e,t,n]),isTransitioning:t}}}}},{package:"$root$",file:"ui/components/multichain/carousel/animations/useTransitionToNextCard.ts"}],[6513,{"./carousel":6514,"./stack-card-empty":6517,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CarouselWithEmptyState=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("./carousel"),r=e("./stack-card-empty");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}n.CarouselWithEmptyState=e=>{const[t,n]=(0,a.useState)(!1),[s,c]=(0,a.useState)(!1),[l,u]=(0,a.useState)(!1),d=(0,a.useMemo)(()=>(e.slides||[]).filter(e=>!e.dismissed).length,[e.slides]);a.default.useEffect(()=>{d>0&&!l&&u(!0)},[d,l]);const p=()=>{n(!1),c(!0)};return a.default.useEffect(()=>{d>0&&s&&c(!1)},[d,s]),t?a.default.createElement(r.EmptyStateComponent,{onComplete:p}):s&&0===d?null:l||0!==d?a.default.createElement(o.Carousel,i({},e,{onEmptyState:()=>{s||t||n(!0)}})):null}}}},{package:"$root$",file:"ui/components/multichain/carousel/carousel-wrapper.tsx"}],[6514,{"../../../selectors":7886,"../../component-library":6325,"./animations/useTransitionToNextCard":6512,"./constants":6515,"./stack-card":6519,"./stack-card-empty":6517,"@metamask/keyring-api":2100,react:5080,"react-redux":5021,"react-transition-group":5072},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Carousel=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/keyring-api"),s=e("react-transition-group"),i=e("../../component-library"),c=e("../../../selectors"),l=e("./constants"),u=e("./stack-card"),d=e("./stack-card-empty"),p=e("./animations/useTransitionToNextCard");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(null,arguments)}n.Carousel=a.default.forwardRef(({slides:e=[],isLoading:t=!1,onSlideClose:n,onSlideClick:m,onRenderSlides:h,onEmptyState:g,className:y="",...v},k)=>{const[b,C]=(0,a.useState)({activeSlideIndex:0,isTransitioning:!1,hasTriggeredEmptyState:!1}),T=(0,o.useSelector)(c.getSelectedAccount),x=(0,a.useRef)();(0,a.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]);const w=e.filter(e=>("solana"!==e.variableName||(null==T?void 0:T.type)!==r.SolAccountType.DataAccount)&&!e.dismissed).slice(0,l.MAX_SLIDES),A=w[b.activeSlideIndex],M=w[b.activeSlideIndex+1],E=1===w.length&&Boolean(A),{transitionToNextCard:_}=(0,p.useTransitionToNextCard)({onSlideRemove:(e,t)=>{n&&n(e,t),t&&g&&(x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{g()},300))},isTransitioning:b.isTransitioning,setIsTransitioning:e=>{C(t=>({...t,isTransitioning:e}))}});(0,a.useEffect)(()=>{w.length>0&&b.activeSlideIndex>=w.length&&C(e=>({...e,activeSlideIndex:0})),w.length>0&&b.hasTriggeredEmptyState&&C(e=>({...e,hasTriggeredEmptyState:!1}))},[w.length,b.activeSlideIndex,b.hasTriggeredEmptyState]),(0,a.useEffect)(()=>{w&&w.length>0&&h&&!t&&h(w)},[w,h,t]);const S=(e,t)=>{_(e,t)},I=(e,t)=>{b.isTransitioning||null==m||m(e,t)};return t?a.default.createElement(i.Box,f({className:`carousel-container ${y}`,ref:k},v),a.default.createElement("div",{className:"carousel-cards-wrapper"},[...Array(3)].map((e,t)=>a.default.createElement("div",{key:`skeleton-${t}`,className:"carousel-card carousel-card--current",style:{backgroundColor:"var(--color-background-muted)",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})))):0===w.length?null:a.default.createElement(i.Box,f({className:`carousel-container ${y}`,ref:k},v),a.default.createElement("div",{className:"carousel-cards-wrapper"},a.default.createElement(s.TransitionGroup,null,M&&a.default.createElement(s.CSSTransition,{key:`next-${M.id}`,timeout:250,classNames:"next-card"},a.default.createElement(u.StackCard,{slide:M,isCurrentCard:!1,isLastSlide:!1,onSlideClick:I,onTransitionToNextCard:S})),E&&a.default.createElement(s.CSSTransition,{key:"empty-state-bg",timeout:250,classNames:"next-card"},a.default.createElement(d.StackCardEmpty,{isBackground:!0})),A&&a.default.createElement(s.CSSTransition,{key:`current-${A.id}`,timeout:300,classNames:"card"},a.default.createElement(u.StackCard,{slide:A,isCurrentCard:!0,isLastSlide:E,onSlideClick:I,onTransitionToNextCard:S})))))})}}},{package:"$root$",file:"ui/components/multichain/carousel/carousel.tsx"}],[6515,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Z_INDEX=n.SCALE_VALUES=n.MAX_SLIDES=n.LAYOUT_CONSTANTS=n.ANIMATION_TIMINGS=void 0;n.ANIMATION_TIMINGS={CARD_TRANSITION_DURATION:400,CARD_EXIT_DURATION:300,CARD_ENTER_DURATION:250,CARD_ENTER_DELAY:100,EMPTY_STATE_IDLE_TIME:1e3,EMPTY_STATE_DURATION:350,EMPTY_STATE_FADE_DURATION:200,EMPTY_STATE_FOLD_DURATION:300,CAROUSEL_FOLD_DURATION:350},n.LAYOUT_CONSTANTS={CONTAINER_HEIGHT:106,CARD_HEIGHT:100,IMAGE_SIZE:72,CARD_PADDING_HORIZONTAL:16,CARD_PADDING_VERTICAL:12,IMAGE_TEXT_GAP:16,TEXT_HEADER_GAP:8,TEXT_BODY_MARGIN_TOP:4},n.Z_INDEX={NEXT_CARD:1,CURRENT_CARD:2,EXITING_CARD:3},n.SCALE_VALUES={CURRENT_CARD:1,NEXT_CARD:.95,EXIT_CARD:1.015},n.MAX_SLIDES=8}}},{package:"$root$",file:"ui/components/multichain/carousel/constants.ts"}],[6516,{"./animations":6510,"./animations/animationTimings":6509,"./carousel":6514,"./carousel-wrapper":6513,"./stack-card":6519,"./stack-card-empty":6517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ANIMATION_TIMINGS",{enumerable:!0,get:function(){return c.ANIMATION_TIMINGS}}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return a.Carousel}}),Object.defineProperty(n,"CarouselWithEmptyState",{enumerable:!0,get:function(){return o.CarouselWithEmptyState}}),Object.defineProperty(n,"EmptyStateComponent",{enumerable:!0,get:function(){return s.EmptyStateComponent}}),Object.defineProperty(n,"StackCard",{enumerable:!0,get:function(){return r.StackCard}}),Object.defineProperty(n,"StackCardEmpty",{enumerable:!0,get:function(){return s.StackCardEmpty}}),Object.defineProperty(n,"useTransitionToEmpty",{enumerable:!0,get:function(){return i.useTransitionToEmpty}}),Object.defineProperty(n,"useTransitionToNextCard",{enumerable:!0,get:function(){return i.useTransitionToNextCard}});var a=e("./carousel"),o=e("./carousel-wrapper"),r=e("./stack-card"),s=e("./stack-card-empty"),i=e("./animations"),c=e("./animations/animationTimings")}}},{package:"$root$",file:"ui/components/multichain/carousel/index.ts"}],[6517,{"./stack-card-empty":6518},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EmptyStateComponent",{enumerable:!0,get:function(){return a.EmptyStateComponent}}),Object.defineProperty(n,"StackCardEmpty",{enumerable:!0,get:function(){return a.StackCardEmpty}});var a=e("./stack-card-empty")}}},{package:"$root$",file:"ui/components/multichain/carousel/stack-card-empty/index.ts"}],[6518,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../animations/useTransitionToEmpty":6511,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StackCardEmpty=n.EmptyStateComponent=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../hooks/useI18nContext"),r=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),i=e("../animations/useTransitionToEmpty");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const l=({isBackground:e=!0,className:t=""})=>{const n=(0,o.useI18nContext)();return a.default.createElement("div",{className:`carousel-card ${e?"carousel-card--next":"carousel-card--current"} ${t}`},e&&a.default.createElement("div",{className:"carousel-card__pressed-overlay"}),a.default.createElement("div",{className:"carousel-empty-state"},a.default.createElement(r.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.textAlternative,className:"carousel-empty-state__text"},n("carouselAllCaughtUp"))))};n.StackCardEmpty=l;n.EmptyStateComponent=({onComplete:e,isBackground:t=!1})=>{const n=(0,o.useI18nContext)(),{startEmptyStateSequence:c,isEmptyStateFolding:u}=(0,i.useTransitionToEmpty)({onEmptyStateComplete:e});return(0,a.useEffect)(()=>{t||c()},[t,c]),t?a.default.createElement(l,{isBackground:!0}):a.default.createElement("div",{className:"carousel-container",style:{padding:"0 16px",height:u?"0px":"106px",transition:u?"height 300ms ease-in-out":"none",overflow:"hidden"}},a.default.createElement("div",{className:"carousel-cards-wrapper",style:{height:"100px",opacity:u?"0":"1",transform:u?"scaleY(0)":"scaleY(1)",transformOrigin:"bottom",transition:u?"opacity 200ms ease-in-out, transform 200ms ease-in-out 50ms":"none"}},a.default.createElement("div",{className:"carousel-card carousel-card--current"},a.default.createElement("div",{className:"carousel-empty-state"},a.default.createElement(r.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.textAlternative,className:"carousel-empty-state__text"},n("carouselAllCaughtUp"))))))}}}},{package:"$root$",file:"ui/components/multichain/carousel/stack-card-empty/stack-card-empty.tsx"}],[6519,{"./stack-card":6520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"StackCard",{enumerable:!0,get:function(){return a.StackCard}});var a=e("./stack-card")}}},{package:"$root$",file:"ui/components/multichain/carousel/stack-card/index.ts"}],[6520,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StackCard=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),i=e("../../../../helpers/constants/design-system");n.StackCard=({slide:e,isCurrentCard:t,isLastSlide:n=!1,onSlideClick:a,onTransitionToNextCard:c,className:l=""})=>{const u=(0,r.useI18nContext)(),d=e.id.startsWith("contentful-");return o.default.createElement("div",{className:`carousel-card ${t?"carousel-card--current":"carousel-card--next"} ${l}`,onClick:()=>{if(!t)return;const n={type:e.href?"external":"internal",href:e.href};e.href&&global.platform.openTab({url:e.href}),null==a||a(e.id,n)},"data-testid":`carousel-slide-${e.id}`},!t&&o.default.createElement("div",{className:"carousel-card__pressed-overlay"}),o.default.createElement("div",{className:"carousel-card__image"},o.default.createElement("img",{src:e.image,alt:e.title})),o.default.createElement("div",{className:"carousel-card__text"},o.default.createElement("div",{className:"carousel-card__text-header"},o.default.createElement(s.Text,{variant:i.TextVariant.bodyMdMedium,color:i.TextColor.textDefault,className:"carousel-card__title"},d?e.title:u(e.title)),c&&o.default.createElement(s.ButtonIcon,{iconName:s.IconName.Close,size:s.ButtonIconSize.Md,color:i.IconColor.iconAlternative,ariaLabel:u("closeSlide",[d?e.title:u(e.title)]),onClick:t=>{t.preventDefault(),t.stopPropagation(),c&&c(e.id,n)},"data-testid":`carousel-slide-${e.id}-close-button`})),o.default.createElement("div",{className:"carousel-card__text-body"},o.default.createElement(s.Text,{variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,className:"carousel-card__description"},d?e.description:u(e.description)))))}}}},{package:"$root$",file:"ui/components/multichain/carousel/stack-card/stack-card.tsx"}],[6521,{"..":6568,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"../../ui/tooltip/tooltip":6836,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectAccountsModalList=void 0;var a=p(e("react")),o=e("react-redux"),r=e("../../component-library"),s=e("../../../hooks/useI18nContext"),i=e(".."),c=e("../../../helpers/constants/design-system"),l=p(e("../../ui/tooltip/tooltip")),u=e("../../../helpers/utils/util"),d=e("../../../store/actions");function p(e){return e&&e.__esModule?e:{default:e}}n.ConnectAccountsModalList=({onClose:e,allAreSelected:t,deselectAll:n,selectAll:p,handleAccountClick:m,selectedAccounts:f,accounts:h,checked:g,isIndeterminate:y,onAccountsUpdate:v,activeTabOrigin:k})=>{const b=(0,s.useI18nContext)(),C=(0,o.useDispatch)();return a.default.createElement(r.Modal,{isOpen:!0,onClose:e,"data-testid":"connect-more-accounts"},a.default.createElement(r.ModalOverlay,null),a.default.createElement(r.ModalContent,null,a.default.createElement(r.ModalHeader,{"data-testid":"connect-more-accounts-title",onClose:e},b("connectMoreAccounts")),a.default.createElement(r.ModalBody,null,a.default.createElement(r.Box,{padding:4,display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(r.Checkbox,{label:b("selectAll"),isChecked:g,onClick:()=>t()?n():p(),isIndeterminate:y}),a.default.createElement(r.Text,{color:c.TextColor.textAlternative,as:"div",display:c.Display.Flex},a.default.createElement(l.default,{distance:10,html:b("connectedAccountsListTooltip",[a.default.createElement("strong",null,(0,u.getURLHost)(k))]),position:"top"},a.default.createElement(r.Icon,{marginInlineEnd:2,name:r.IconName.Info,color:c.IconColor.iconMuted})),b("permissions"))),h.map(t=>{const n=f.includes(t.address);return a.default.createElement(i.AccountListItem,{onClick:()=>m(t.address),account:t,selected:n,key:t.address,closeMenu:e,startAccessory:a.default.createElement(r.Checkbox,{isChecked:n})})})),a.default.createElement(r.ModalFooter,null,a.default.createElement(r.ButtonPrimary,{"data-testid":"connect-more-accounts-button",onClick:()=>{C((0,d.addPermittedAccounts)(k,f)),e(),v()},size:r.ButtonPrimarySize.Lg,block:!0,disabled:0===f.length},b("confirm")))))}}}},{package:"$root$",file:"ui/components/multichain/connect-accounts-modal/connect-accounts-modal-list.tsx"}],[6522,{"../../../selectors/selectors":7903,"./connect-accounts-modal-list":6521,"@metamask/keyring-api":2100,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectAccountsModal=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/keyring-api"),s=e("../../../selectors/selectors"),i=e("./connect-accounts-modal-list");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n.ConnectAccountsModal=({onClose:e,onAccountsUpdate:t,activeTabOrigin:n})=>{const c=(0,o.useSelector)(e=>(0,s.getUnconnectedAccounts)(e,n).filter(e=>(0,r.isEvmAccountType)(e.type))),[l,u]=(0,a.useState)([]),d=()=>c.length===l.length,p=d(),m=!p&&l.length>0;return a.default.createElement(i.ConnectAccountsModalList,{accounts:c,selectedAccounts:l,allAreSelected:d,deselectAll:()=>{u([])},selectAll:()=>{const e=c.map(e=>e.address);u(e)},handleAccountClick:e=>{const t=l.indexOf(e);let n=[];n=-1===t?[...l,e]:l.filter((e,n)=>n!==t),u(n)},checked:p,isIndeterminate:m,onClose:e,onAccountsUpdate:t,activeTabOrigin:n})}}}},{package:"$root$",file:"ui/components/multichain/connect-accounts-modal/connect-accounts-modal.tsx"}],[6523,{"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"../../component-library":6325,"../../ui/menu":6788,"../permission-details-modal/permission-details-modal":6701,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedAccountsMenu=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../component-library"),s=e("../../ui/menu"),i=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../../selectors"),d=e("../permission-details-modal/permission-details-modal");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=s.MenuItem;n.ConnectedAccountsMenu=({isOpen:e,account:t,anchorElement:n,disableAccountSwitcher:s=!1,onClose:p,onActionClick:f,activeTabOrigin:h})=>{const g=(0,o.useDispatch)(),y=(0,c.useI18nContext)(),v=(0,a.useRef)(null),[k,b]=(0,a.useState)(!1),C=(0,o.useSelector)(u.getPermissionsForActiveTab),T=(0,a.useCallback)(e=>{null!=v&&v.current&&!v.current.contains(e.target)&&p()},[p]);(0,a.useEffect)(()=>(document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}),[T]);const x=(0,a.useCallback)(e=>{var t;"Tab"===e.key&&null!=v&&null!==(t=v.current)&&void 0!==t&&t.contains(e.target)&&p&&p()},[p]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(r.Popover,{className:"multichain-connected-accounts-menu__popover",referenceElement:n,role:r.PopoverRole.Dialog,position:r.PopoverPosition.Bottom,offset:[0,0],padding:0,isOpen:e,flip:!0,preventOverflow:!0,isPortal:!0},a.default.createElement(r.ModalFocus,{restoreFocus:!0,initialFocusRef:{current:n}},a.default.createElement(r.Box,{onKeyDown:x,ref:v},null!=C&&C.length?a.default.createElement(m,{iconName:r.IconName.SecurityTick,"data-testid":"permission-details-menu-item",onClick:()=>{b(!0),p()}},a.default.createElement(r.Text,{variant:i.TextVariant.bodyMd},y("permissionDetails"))):null,s?null:a.default.createElement(m,{iconName:r.IconName.SwapHorizontal,"data-testid":"switch-account-menu-item",onClick:()=>{g((0,l.setSelectedAccount)(t.address)),p()}},a.default.createElement(r.Text,{variant:i.TextVariant.bodyMd},y("switchToThisAccount"))),a.default.createElement(m,{iconName:r.IconName.Logout,iconColor:i.IconColor.errorDefault,"data-testid":"disconnect-menu-item",onClick:()=>{f(t.metadata.name),g((0,l.removePermittedAccount)(h,t.address))}},a.default.createElement(r.Text,{color:i.TextColor.errorDefault,variant:i.TextVariant.bodyMd},y("disconnect")))))),k?a.default.createElement(d.PermissionDetailsModal,{isOpen:k,account:t,onClick:()=>{g((0,l.removePermittedAccount)(h,t.address))},onClose:()=>b(!1),permissions:C}):null)}}}},{package:"$root$",file:"ui/components/multichain/connected-accounts-menu/connected-accounts-menu.tsx"}],[6524,{"./connected-accounts-menu":6523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedAccountsMenu",{enumerable:!0,get:function(){return a.ConnectedAccountsMenu}});var a=e("./connected-accounts-menu")}}},{package:"$root$",file:"ui/components/multichain/connected-accounts-menu/index.ts"}],[6525,{"../../../../shared/constants/network":5617,"../../../helpers/constants/connected-sites":6898,"../../../helpers/constants/design-system":6899,"../../../selectors":7886,"../../../selectors/dapp":7881,"../../component-library":6325,"../connected-site-popover":6528,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedSiteMenu=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("prop-types")),r=f(e("classnames")),s=e("react-redux"),i=e("../../../helpers/constants/design-system"),c=e("../../component-library"),l=e("../../../selectors"),u=e("../../../selectors/dapp"),d=e("../connected-site-popover"),p=e("../../../helpers/constants/connected-sites"),m=e("../../../../shared/constants/network");function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({className:e,disabled:t,onClick:n,status:o})=>{const[f,h]=(0,a.useState)(!1),g=(0,a.useRef)(null),y=(0,s.useSelector)(l.getSubjectMetadata),v=(0,s.useSelector)(l.getOriginOfCurrentTab),k=(0,s.useSelector)(e=>(0,l.getAllPermittedAccounts)(e,v)),b=(0,s.useSelector)(u.getDappActiveNetwork),C=!(null!=k&&k.length),T=y[v],x=C?a.default.createElement(c.Icon,{name:c.IconName.Global,size:c.IconSize.Lg,color:i.IconColor.iconDefault}):a.default.createElement(c.BadgeWrapper,{badge:b&&a.default.createElement(c.AvatarNetwork,{size:c.AvatarNetworkSize.Xs,name:b.name||b.nickname,src:null!=b&&b.chainId?m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[b.chainId]:undefined,backgroundColor:i.BackgroundColor.backgroundSection,borderWidth:2,borderColor:i.BorderColor.backgroundDefault})},a.default.createElement(c.AvatarFavicon,{name:null==T?void 0:T.name,size:i.Size.SM,src:null==T?void 0:T.iconUrl}));return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Box,{className:(0,r.default)("multichain-connected-site-menu"+(t?"--disabled":""),e),"data-testid":"connection-menu",as:"button",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:i.BackgroundColor.backgroundDefault,ref:g,onClick:()=>h(!0),borderRadius:i.BorderRadius.LG},a.default.createElement(a.default.Fragment,null,x)),f&&a.default.createElement(d.ConnectedSitePopover,{referenceElement:g,isOpen:f,isConnected:o===p.STATUS_CONNECTED,onClick:n,onClose:()=>h(!1),connectedOrigin:v}))};n.ConnectedSiteMenu=g,g.propTypes={className:o.default.string,onClick:o.default.func,disabled:o.default.bool,status:o.default.string}}}},{package:"$root$",file:"ui/components/multichain/connected-site-menu/connected-site-menu.js"}],[6526,{"./connected-site-menu":6525},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedSiteMenu",{enumerable:!0,get:function(){return a.ConnectedSiteMenu}});var a=e("./connected-site-menu")}}},{package:"$root$",file:"ui/components/multichain/connected-site-menu/index.js"}],[6527,{"../../../../shared/modules/selectors/networks":5753,"../../../contexts/i18n":6850,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../../selectors":7886,"../../../selectors/multichain":7895,"../../../store/actions":7916,"../../component-library":6325,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedSitePopover=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/utils"),s=e("../../component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../../contexts/i18n"),l=e("../../../selectors"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../helpers/utils/util"),p=e("../../../selectors/multichain"),m=e("../../../store/actions");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.ConnectedSitePopover=({referenceElement:e,isOpen:t,onClose:n,isConnected:f,onClick:h})=>{var g;const y=(0,a.useContext)(c.I18nContext),v=(0,o.useSelector)(l.getOriginOfCurrentTab),k=(0,d.getURLHost)(v),b=(0,o.useSelector)(l.getAllDomains),C=(0,o.useSelector)(u.getNetworkConfigurationsByChainId),T=(0,o.useDispatch)(),x=(0,a.useMemo)(()=>{if(!v||!b)return null;const e=b[v];if(!e)return null;return Object.values(C).find(t=>t.rpcEndpoints.some(t=>t.networkClientId===e))||null},[v,b,C]);return a.default.createElement(s.Popover,{referenceElement:null==e?void 0:e.current,isOpen:t,style:{width:"260px"},onClickOutside:n,"data-testid":"connected-site-popover",paddingTop:3,paddingLeft:0,paddingRight:0,offset:[8,8],position:s.PopoverPosition.BottomEnd,flip:!0},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.default.createElement(s.Box,{style:{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"#858B9A33"},paddingLeft:4,paddingRight:4,paddingBottom:2},a.default.createElement(s.Text,{variant:i.TextVariant.bodyMdMedium},k),f&&x?a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,gap:1},a.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:(null==x?void 0:x.name)||"",src:null!=x&&null!==(g=x.chainId)&&void 0!==g&&g.includes(":")?(0,p.getImageForChainId)((e=>{const{namespace:t,reference:n}=(0,r.parseCaipChainId)(e);return"eip155"===t?`0x${parseInt(n,10).toString(16)}`:e})(x.chainId)):(0,p.getImageForChainId)(null==x?void 0:x.chainId)}),a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Sm,textProps:{variant:i.TextVariant.bodySm},onClick:()=>T((0,m.toggleNetworkMenu)({isAccessedFromDappConnectedSitePopover:!0,isAddingNewNetwork:!1,isMultiRpcOnboarding:!1})),"data-testid":"connected-site-popover-network-button"},null==x?void 0:x.name)):a.default.createElement(s.Text,{variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative},y("statusNotConnected"))),!f&&a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingTop:2},a.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textAlternative},y("connectionPopoverDescription")),a.default.createElement(s.ButtonLink,{href:"https://support.metamask.io/more-web3/dapps/connecting-to-a-dapp/",externalLink:!0,size:s.ButtonLinkSize.Sm},y("learnMoreUpperCase"))),a.default.createElement(s.Box,{paddingTop:4,paddingLeft:4,paddingRight:4},a.default.createElement(s.ButtonSecondary,{block:!0,onClick:()=>{f?h():global.platform.openTab({url:"https://app.metamask.io/explore/dapps"})}},y(f?"managePermissions":"exploreweb3")))))}}}},{package:"$root$",file:"ui/components/multichain/connected-site-popover/connected-site-popover.tsx"}],[6528,{"./connected-site-popover":6527},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedSitePopover",{enumerable:!0,get:function(){return a.ConnectedSitePopover}});var a=e("./connected-site-popover")}}},{package:"$root$",file:"ui/components/multichain/connected-site-popover/index.ts"}],[6529,{"../../../helpers/constants/connected-sites":6898,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/multichain-accounts/account-tree":7890,"../badge-status":6508,"@metamask/chain-agnostic-permission":1359,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedStatus=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),s=e("../../../helpers/constants/design-system"),i=e("../../../helpers/constants/connected-sites"),c=e("../../../hooks/useI18nContext"),l=e("../badge-status"),u=e("../../../selectors"),d=e("../../../selectors/multichain-accounts/account-tree");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.ConnectedStatus=({address:e="",isActive:t,showConnectedStatus:n=!0})=>{const p=(0,c.useI18nContext)(),m=(0,o.useSelector)(u.getIsMultichainAccountsState2Enabled),f=(0,a.useMemo)(()=>[e],[e]),[h]=(0,o.useSelector)(e=>(0,d.getAccountGroupsByAddress)(e,f)),g=(0,o.useSelector)(u.getAllPermittedAccountsForCurrentTab),y=(0,o.useSelector)(t=>(0,u.getInternalAccountByAddress)(t,e)),v=(0,a.useMemo)(()=>m?null==h?void 0:h.accounts.some(e=>(0,r.isInternalAccountInPermittedAccountIds)(e,g)):y&&(0,r.isInternalAccountInPermittedAccountIds)(y,g),[m,h,y,g]);let k=i.STATUS_NOT_CONNECTED;t?k=i.STATUS_CONNECTED:v&&(k=i.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT);let b=s.BorderColor.backgroundDefault,C=s.BackgroundColor.iconAlternative,T=p("statusNotConnected");k===i.STATUS_CONNECTED?(b=s.BorderColor.backgroundDefault,C=s.BackgroundColor.successDefault,T=p("active")):k===i.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT&&(b=s.BorderColor.successDefault,C=s.BackgroundColor.backgroundDefault,T=p("tooltipSatusConnectedUpperCase"));const x=v&&!t;return a.default.createElement(l.BadgeStatus,{address:e,badgeBackgroundColor:C,badgeBorderColor:b,text:T,isConnectedAndNotActive:x,showConnectedStatus:n})}}}},{package:"$root$",file:"ui/components/multichain/connected-status/connected-status.tsx"}],[6530,{"./connected-status":6529},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedStatus",{enumerable:!0,get:function(){return a.ConnectedStatus}});var a=e("./connected-status")}}},{package:"$root$",file:"ui/components/multichain/connected-status/index.ts"}],[6531,{"../../../../shared/constants/metametrics":5613,"../../../../shared/lib/trace":5718,"../../../contexts/metametrics":6855,"../../../ducks/history/history":6880,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/accounts":6924,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/multi-srp/multi-srp":7889,"../../../selectors/selectors":7903,"../../component-library":6325,"../../component-library/form-text-field/form-text-field":6314,"../multi-srp/select-srp/select-srp":6575,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateAccount=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("../../component-library"),i=e("../../component-library/form-text-field/form-text-field"),c=e("../../../hooks/useI18nContext"),l=e("../../../helpers/utils/accounts"),u=e("../../../selectors"),d=e("../../../selectors/selectors"),p=e("../../../ducks/history/history"),m=e("../../../../shared/constants/metametrics"),f=e("../../../contexts/metametrics"),h=e("../../../helpers/constants/design-system"),g=e("../multi-srp/select-srp/select-srp"),y=e("../../../selectors/multi-srp/multi-srp"),v=e("../../../../shared/lib/trace");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.CreateAccount=a.default.memo(a.default.forwardRef(({getNextAvailableAccountName:e,onCreateAccount:t,onSelectSrp:n,selectedKeyringId:k,onActionComplete:b,scope:C,redirectToOverview:T=!0},x)=>{const w=(0,c.useI18nContext)(),A=(0,r.useNavigate)(),M=(0,a.useContext)(f.MetaMetricsContext),E=(0,o.useSelector)(d.getHDEntropyIndex),_=(0,o.useSelector)(p.getMostRecentOverviewPage),S=(0,o.useSelector)(u.getMetaMaskAccountsOrdered),[I,O]=(0,a.useState)(!1),[P,N]=(0,a.useState)("");(0,a.useEffect)(()=>{e(S).then(N)},[]);const[B,D]=(0,a.useState)(""),[j,R]=(0,a.useState)(""),L=B.trim(),{isValidAccountName:F,errorMessage:$}=(0,l.getAccountNameErrorMessage)(S,{t:w},L||P,P),W=(0,o.useSelector)(u.getMetaMaskHdKeyrings),z=(0,o.useSelector)(e=>(0,u.getSelectedKeyringByIdOrDefault)(e,k)),V=(0,o.useSelector)(e=>(0,y.getSnapAccountsByKeyringId)(e,k)),U=(0,o.useSelector)(e=>(0,u.getHdKeyringIndexByIdOrDefault)(e,k)),G=(0,a.useCallback)(async e=>{O(!0),R(""),e.preventDefault();try{(0,v.trace)({name:v.TraceName.CreateAccount}),await t(L||P),M({category:m.MetaMetricsEventCategory.Accounts,event:m.MetaMetricsEventName.AccountAdded,properties:{account_type:m.MetaMetricsEventAccountType.Default,location:"Home",hd_entropy_index:E,chain_id_caip:C,is_suggested_name:!L||L===P}}),T&&A(_)}catch(e){O(!1);let t="An unexpected error occurred.";e instanceof Error&&(t=e.message),R(t),M(k?{category:m.MetaMetricsEventCategory.Accounts,event:m.MetaMetricsEventName.AccountImportFailed,properties:{account_type:m.MetaMetricsEventAccountType.Imported,error:t,hd_entropy_index:E,chain_id_caip:C}}:{category:m.MetaMetricsEventCategory.Accounts,event:m.MetaMetricsEventName.AccountAddFailed,properties:{account_type:m.MetaMetricsEventAccountType.Default,error:t,hd_entropy_index:E,chain_id_caip:C}})}finally{(0,v.endTrace)({name:v.TraceName.CreateAccount})}},[L,P,_]);return a.default.createElement(s.Box,{as:"form",onSubmit:G},a.default.createElement(i.FormTextField,{"data-testid":"account-name-input",inputRef:x,size:s.FormTextFieldSize.Lg,gap:2,autoFocus:!0,id:"account-name",label:w("accountName"),placeholder:P,onChange:e=>D(e.target.value),helpText:j||$,error:!F||Boolean(j),onKeyPress:e=>{"Enter"===e.key&&G(e)}}),W.length>1&&n&&z?a.default.createElement(s.Box,{marginBottom:3},a.default.createElement(g.SelectSrp,{onClick:n,srpName:w("secretRecoveryPhrasePlusNumber",[U+1]),srpAccounts:z.accounts.length+V.length})):null,a.default.createElement(s.Box,{display:h.Display.Flex,marginTop:1,gap:2},a.default.createElement(s.ButtonSecondary,{"data-testid":"cancel-add-account-with-name",type:"button",onClick:async()=>await b(!1),block:!0},w("cancel")),a.default.createElement(s.ButtonPrimary,{"data-testid":"submit-add-account-with-name",type:"submit",disabled:!F||I,loading:I,block:!0},w("addAccount"))))}))}}},{package:"$root$",file:"ui/components/multichain/create-account/create-account.tsx"}],[6532,{"./create-account":6531},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateAccount",{enumerable:!0,get:function(){return a.CreateAccount}});var a=e("./create-account")}}},{package:"$root$",file:"ui/components/multichain/create-account/index.js"}],[6533,{"../../../../shared/lib/trace":5718,"../../../store/actions":7916,"../create-account":6532,"@metamask/keyring-controller":2110,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateEthAccount=void 0;var a=u(e("react")),o=u(e("prop-types")),r=e("react-redux"),s=e("@metamask/keyring-controller"),i=e("../../../store/actions"),c=e("../../../../shared/lib/trace"),l=e("../create-account");function u(e){return e&&e.__esModule?e:{default:e}}const d=({onActionComplete:e,onSelectSrp:t,selectedKeyringId:n,redirectToOverview:o})=>{const u=(0,r.useDispatch)();return a.default.createElement(l.CreateAccount,{onActionComplete:e,onCreateAccount:async t=>{(0,c.trace)({name:c.TraceName.AddAccount});try{const a=await u((0,i.addNewAccount)(n));t&&u((0,i.setAccountLabel)(a.address,t)),e(!0,a)}finally{(0,c.endTrace)({name:c.TraceName.AddAccount})}},getNextAvailableAccountName:async()=>await(0,i.getNextAvailableAccountName)(s.KeyringTypes.hd),onSelectSrp:t,selectedKeyringId:n,redirectToOverview:o})};n.CreateEthAccount=d,d.propTypes={onActionComplete:o.default.func.isRequired,onSelectSrp:o.default.func,selectedKeyringId:o.default.string,redirectToOverview:o.default.bool}}}},{package:"$root$",file:"ui/components/multichain/create-eth-account/create-eth-account.js"}],[6534,{"./create-eth-account":6533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateEthAccount",{enumerable:!0,get:function(){return a.CreateEthAccount}});var a=e("./create-eth-account")}}},{package:"$root$",file:"ui/components/multichain/create-eth-account/index.js"}],[6535,{"..":6568,"../../../../shared/lib/accounts":5642,"../../../ducks/history/history":6880,"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"@metamask/keyring-controller":2110,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateNamedSnapAccount=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("@metamask/keyring-controller"),i=e(".."),c=e("../../component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../ducks/history/history"),d=e("../../../store/actions"),p=e("../../../../shared/lib/accounts");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.CreateNamedSnapAccount=({onActionComplete:e,snapSuggestedAccountName:t})=>{const n=(0,l.useI18nContext)(),m=(0,r.useNavigate)(),f=(0,o.useSelector)(u.getMostRecentOverviewPage),h=(0,a.useCallback)(async t=>{await e({success:t})},[]),g=(0,a.useCallback)(async t=>{await e({success:!0,name:t})},[]),y=(0,a.useCallback)(async e=>t?(0,p.getUniqueAccountName)(e,t):(0,d.getNextAvailableAccountName)(s.KeyringTypes.snap),[]),v=(0,a.useCallback)(async()=>{await e({success:!1}),m(f)},[]);return a.default.createElement(c.Box,{padding:6,className:"name-snap-account-page"},a.default.createElement(c.ModalHeader,{paddingTop:2,paddingBottom:4,paddingRight:0,paddingLeft:0,onClose:v},n("addAccountToMetaMask")),a.default.createElement(i.CreateAccount,{onActionComplete:h,onCreateAccount:g,getNextAvailableAccountName:y}))}}}},{package:"$root$",file:"ui/components/multichain/create-named-snap-account/create-named-snap-account.tsx"}],[6536,{"./create-named-snap-account":6535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateNamedSnapAccount",{enumerable:!0,get:function(){return a.CreateNamedSnapAccount}});var a=e("./create-named-snap-account")}}},{package:"$root$",file:"ui/components/multichain/create-named-snap-account/index.js"}],[6537,{"../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../create-account":6532,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateSnapAccount=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../create-account"),r=e("../../../hooks/accounts/useMultichainWalletSnapClient");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}n.CreateSnapAccount=({onActionComplete:e,onSelectSrp:t,selectedKeyringId:n,clientType:s,chainId:i,setNewlyCreatedAccountAsSelected:c,redirectToOverview:l})=>{const u=(0,r.useMultichainWalletSnapClient)(s),d=(0,a.useCallback)(async t=>{const a=await u.createAccount({scope:i,entropySource:n,accountNameSuggestion:t},{setSelectedAccount:c});e(!0,a)},[u,i,n,c,e]);return a.default.createElement(o.CreateAccount,{onActionComplete:e,onCreateAccount:d,getNextAvailableAccountName:async()=>await u.getNextAvailableAccountName({chainId:i}),scope:i,onSelectSrp:t,selectedKeyringId:n,redirectToOverview:l})}}}},{package:"$root$",file:"ui/components/multichain/create-snap-account/create-snap-account.tsx"}],[6538,{"./create-snap-account":6537},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateSnapAccount",{enumerable:!0,get:function(){return a.CreateSnapAccount}});var a=e("./create-snap-account")}}},{package:"$root$",file:"ui/components/multichain/create-snap-account/index.ts"}],[6539,{"../../../../shared/constants/multichain/networks":5616,"../../../helpers/constants/design-system":6899,"../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,"../create-snap-account":6538,"../multi-srp/srp-list":6576,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateSolanaAccountModal=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),s=e("../../component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),u=e("../create-snap-account"),d=e("../multi-srp/srp-list"),p=e("../../../hooks/accounts/useMultichainWalletSnapClient"),m=e("../../../../shared/constants/multichain/networks");n.CreateSolanaAccountModal=({onClose:e})=>{const t=(0,c.useI18nContext)(),[n]=(0,r.useSelector)(l.getMetaMaskKeyrings),[a,f]=o.default.useState(!1),[h,g]=o.default.useState(!0),[y,v]=o.default.useState(n.metadata.id);return h?o.default.createElement(s.Modal,{isOpen:!0,onClose:e},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{className:"create-solana-account-modal","data-testid":"create-solana-account-modal",modalDialogProps:{className:"create-solana-account-modal__dialog",padding:0,display:i.Display.Flex,flexDirection:i.FlexDirection.Column}},o.default.createElement(s.ModalHeader,{padding:4,onClose:e},t("createSolanaAccount")),o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(u.CreateSnapAccount,{onActionComplete:async t=>{t&&g(!1),e()},selectedKeyringId:y,onSelectSrp:()=>{f(!0),g(!1)},clientType:p.WalletClientType.Solana,chainId:m.MultichainNetworks.SOLANA})))):a?o.default.createElement(s.Modal,{isOpen:!0,onClose:e},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{className:"create-solana-account-modal","data-testid":"create-solana-account-modal",modalDialogProps:{className:"create-solana-account-modal__dialog",padding:0,display:i.Display.Flex,flexDirection:i.FlexDirection.Column}},o.default.createElement(s.ModalHeader,{padding:4,onClose:e},t("selectSRP")),o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(d.SrpList,{onActionComplete:e=>{v(e),g(!0)}})))):null}}}},{package:"$root$",file:"ui/components/multichain/create-solana-account-modal/create-solana-account-modal.tsx"}],[6540,{"./create-solana-account-modal":6539},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateSolanaAccountModal",{enumerable:!0,get:function(){return a.CreateSolanaAccountModal}});var a=e("./create-solana-account-modal")}}},{package:"$root$",file:"ui/components/multichain/create-solana-account-modal/index.ts"}],[6541,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/selectors/networks":5753,"../../../contexts/metametrics":6855,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DetectedTokensBanner=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=m(e("prop-types")),s=m(e("classnames")),i=e("../../../hooks/useI18nContext"),c=e("../../../../shared/modules/selectors/networks"),l=e("../../../selectors"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../component-library");function m(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(null,arguments)}const g=({className:e,actionButtonOnClick:t,...n})=>{const r=(0,i.useI18nContext)(),m=(0,a.useContext)(u.MetaMetricsContext),f=(0,o.useSelector)(l.getIsTokenNetworkFilterEqualCurrentNetwork),g=(0,o.useSelector)(c.getNetworkConfigurationsByChainId),y={};Object.keys(g||{}).forEach(e=>{y[e]=!0});const v=(0,o.useSelector)(l.getDetectedTokensInCurrentNetwork),k=(0,o.useSelector)(l.getAllDetectedTokensForSelectedAddress),b=(0,o.useSelector)(c.getCurrentChainId),C=f?v.map(({address:e,symbol:t})=>`${t} - ${e}`):Object.values(k).flat().map(({address:e,symbol:t})=>`${t} - ${e}`),T=f?v.length:Object.values(k).reduce((e,t)=>e+t.length,0);return a.default.createElement(p.BannerAlert,h({className:(0,s.default)("multichain-detected-token-banner",e),actionButtonLabel:r("importTokensCamelCase"),actionButtonOnClick:()=>{t(),m({event:d.MetaMetricsEventName.TokenImportClicked,category:d.MetaMetricsEventCategory.Wallet,properties:{source_connection_method:d.MetaMetricsTokenEventSource.Detected,tokens:C,chain_id:b}})},"data-testid":"detected-token-banner"},n),1===T?r("numberOfNewTokensDetectedSingular"):r("numberOfNewTokensDetectedPlural",[T]))};n.DetectedTokensBanner=g,g.propTypes={actionButtonOnClick:r.default.func.isRequired,className:r.default.string}}}},{package:"$root$",file:"ui/components/multichain/detected-token-banner/detected-token-banner.js"}],[6542,{"./detected-token-banner":6541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DetectedTokensBanner",{enumerable:!0,get:function(){return a.DetectedTokensBanner}});var a=e("./detected-token-banner")}}},{package:"$root$",file:"ui/components/multichain/detected-token-banner/index.js"}],[6543,{"../../../hooks/useI18nContext":7047,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DisconnectType=n.DisconnectAllModal=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../component-library"),s=e("../../../hooks/useI18nContext");n.DisconnectType=function(e){return e.Account="disconnectAllAccountsText",e.Snap="disconnectAllSnapsText",e}({});n.DisconnectAllModal=({onClick:e,onClose:t})=>{const n=(0,s.useI18nContext)();return o.default.createElement(r.Modal,{isOpen:!0,onClose:t,"data-testid":"disconnect-all-modal"},o.default.createElement(r.ModalOverlay,null),o.default.createElement(r.ModalContent,null,o.default.createElement(r.ModalHeader,{onClose:t},n("disconnect")),o.default.createElement(r.ModalBody,null,o.default.createElement(r.Text,null,n("disconnectAllDescriptionText"))),o.default.createElement(r.ModalFooter,null,o.default.createElement(r.Button,{onClick:e,startIconName:r.IconName.Logout,block:!0,danger:!0,"data-testid":"disconnect-all"},n("disconnect")))))}}}},{package:"$root$",file:"ui/components/multichain/disconnect-all-modal/disconnect-all-modal.tsx"}],[6544,{"../../../hooks/useI18nContext":7047,"../../component-library":6325,"./permission-item":6546,"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DisconnectPermissionsModal=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/design-system-react"),s=e("../../component-library"),i=e("../../../hooks/useI18nContext"),c=e("./permission-item");n.DisconnectPermissionsModal=({isOpen:e,onClose:t,onSkip:n,onRemoveAll:a,permissions:l=[]})=>{const u=(0,i.useI18nContext)();return o.default.createElement(s.Modal,{isOpen:e,onClose:t,"data-testid":"disconnect-permissions-modal"},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,null,o.default.createElement(s.ModalHeader,{onClose:t},u("otherPermissionsOnSiteTitle")),o.default.createElement(s.ModalBody,{paddingLeft:0,paddingRight:0},o.default.createElement(r.Box,{padding:4},o.default.createElement(r.Text,null,u("otherPermissionsOnSiteDescription"))),l.length>0&&o.default.createElement(r.Box,null,l.map((e,t)=>o.default.createElement(c.PermissionItem,{key:`${e.chainId}-${e.permissionType}-${t}`,permission:e})))),o.default.createElement(s.ModalFooter,null,o.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Row,gap:2},o.default.createElement(r.Button,{onClick:n,variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,"data-testid":"skip-disconnect-permissions",isFullWidth:!0},u("skip")),o.default.createElement(r.Button,{onClick:a,variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,isDanger:!0,"data-testid":"remove-all-disconnect-permissions",isFullWidth:!0},u("removeAll"))))))}}}},{package:"$root$",file:"ui/components/multichain/disconnect-permissions-modal/disconnect-permissions-modal.tsx"}],[6545,{"./disconnect-permissions-modal":6544,"./permission-item":6546},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DisconnectPermissionsModal",{enumerable:!0,get:function(){return a.DisconnectPermissionsModal}}),Object.defineProperty(n,"PermissionItem",{enumerable:!0,get:function(){return o.PermissionItem}});var a=e("./disconnect-permissions-modal"),o=e("./permission-item")}}},{package:"$root$",file:"ui/components/multichain/disconnect-permissions-modal/index.ts"}],[6546,{"../../../../shared/constants/network":5617,"../../../../shared/lib/gator-permissions":5695,"../../../../shared/modules/selectors/networks":5753,"../../../ducks/locale/locale":6882,"../../../helpers/utils/util":6959,"../../../hooks/snaps/useDisplayName":7014,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../store/actions":7916,"@metamask/design-system-react":1741,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionItem=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/utils"),s=e("@metamask/design-system-react"),i=e("../../../hooks/useI18nContext"),c=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/network"),u=e("../../../../shared/lib/gator-permissions"),d=e("../../../ducks/locale/locale"),p=e("../../../selectors"),m=e("../../../helpers/utils/util"),f=e("../../../store/actions"),h=e("../../../hooks/snaps/useDisplayName");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.PermissionItem=({permission:e})=>{const t=(0,o.useSelector)(c.getAllNetworkConfigurationsByCaipChainId),n=(0,o.useSelector)(d.getIntlLocale),g=(0,i.useI18nContext)(),y=e.permission.permissionResponse.permission.data,v=(0,o.useSelector)(p.getUseExternalServices),k=`${r.KnownCaipNamespace.Eip155}:${(0,r.hexToNumber)(e.chainId)}`,b=null==t?void 0:t[k],[C,T]=(0,a.useState)({symbol:"Unknown Token",decimals:18});(0,a.useEffect)(()=>{let t=!1;return(async()=>{const n=await(0,u.getGatorPermissionTokenInfo)({permissionType:e.permissionType,chainId:e.chainId,networkConfig:b,permissionData:y,allowExternalServices:v,getTokenStandardAndDetailsByChain:f.getTokenStandardAndDetailsByChain});t||T(n)})(),()=>{t=!0}},[v,e.permissionType,e.chainId,b,y]);const x=(0,a.useCallback)((e,t,a,o)=>(0,u.formatGatorAmountLabel)({amount:e,tokenSymbol:t,frequency:a,tokenDecimals:o,locale:n}),[n]),w=e.permission.permissionResponse.address,A=(0,h.useDisplayName)({chain:{namespace:r.KnownCaipNamespace.Eip155,reference:(0,r.hexToNumber)(e.chainId).toString()},chainId:k,address:w||""})||undefined,M=l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]||"",E=(null==b?void 0:b.name)||e.chainId,{displayNameKey:_,amount:S,frequencyKey:I}=(0,u.getGatorPermissionDisplayMetadata)(e.permissionType,y),O=g(_),P=g(I),N=(0,a.useMemo)(()=>{let e=x(S,C.symbol,P,C.decimals);if(w){e=`${e}  ${A||(0,m.shortenAddress)(w)}`}return e},[S,C.symbol,C.decimals,P,w,A,x]);return a.default.createElement(s.Box,{alignItems:s.BoxAlignItems.Center,backgroundColor:s.BoxBackgroundColor.BackgroundDefault,flexDirection:s.BoxFlexDirection.Row,gap:4,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4},a.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Md,src:M,name:E,shape:s.AvatarBaseShape.Circle}),a.default.createElement(s.Box,{flexDirection:s.BoxFlexDirection.Column},a.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,color:s.TextColor.TextDefault},O),a.default.createElement(s.Text,{variant:s.TextVariant.BodySm,color:s.TextColor.TextAlternative},N)))}}}},{package:"$root$",file:"ui/components/multichain/disconnect-permissions-modal/permission-item.tsx"}],[6547,{"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../../ui/tooltip":6835,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DropdownEditorStyle=n.DropdownEditor=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("classnames")),r=e("../../component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),c=l(e("../../ui/tooltip"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}let d=n.DropdownEditorStyle=function(e){return e[e.PopoverStyle=0]="PopoverStyle",e[e.BoxStyle=1]="BoxStyle",e}({});n.DropdownEditor=({title:e,placeholder:t,items:n,selectedItemIndex:l,addButtonText:u,error:p,style:m,onItemSelected:f,onItemDeleted:h,onItemAdd:g,onDropdownOpened:y,itemKey:v,itemIsDeletable:k=()=>!0,renderItem:b,renderTooltip:C,buttonDataTestId:T})=>{const x=(0,i.useI18nContext)(),w=(0,a.useRef)(null),[A,M]=(0,a.useState)(!1),E=()=>a.default.createElement(r.Box,null,null==n?void 0:n.map((e,t)=>{const i=a.default.createElement(r.Box,{alignItems:s.AlignItems.center,paddingLeft:4,paddingRight:4,display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,key:v(e),onClick:()=>{f(t),M(!1)},className:(0,o.default)("dropdown-editor__item",{"dropdown-editor__item--selected":t===l})},t===l&&a.default.createElement(r.Box,{className:"dropdown-editor__item-selected-pill",borderRadius:s.BorderRadius.pill,backgroundColor:s.BackgroundColor.primaryDefault}),b(e,!0),k(e,n)&&a.default.createElement(r.ButtonIcon,{marginLeft:1,ariaLabel:x("delete"),size:r.ButtonIconSize.Sm,iconName:r.IconName.Trash,"data-testid":`delete-item-${t}`,color:s.IconColor.errorDefault,onClick:e=>{let a;e.stopPropagation(),l===undefined||n.length<=1?a=undefined:t===l?a=0:t>l?a=l:t<l&&(a=l-1),h(t,a)}})),u=C(e,!0);return u?a.default.createElement(c.default,{title:u,position:"bottom"},i):i}),a.default.createElement(r.Box,{onClick:g,padding:4,display:s.Display.Flex,alignItems:s.AlignItems.center,className:"dropdown-editor__item"},a.default.createElement(r.Icon,{color:s.IconColor.primaryDefault,name:r.IconName.Add,size:r.IconSize.Sm,marginRight:2}),a.default.createElement(r.Text,{as:"button",backgroundColor:s.BackgroundColor.transparent,color:s.TextColor.primaryDefault,variant:s.TextVariant.bodySmMedium},u)));let _=s.BorderColor.borderDefault;p?_=s.BorderColor.errorDefault:A&&(_=s.BorderColor.primaryDefault),(0,a.useEffect)(()=>{A&&(null==y||y())},[A]);const S=null==n?void 0:n[l??-1],I=S?C(S,!1):undefined,O=a.default.createElement(r.Box,{onClick:()=>{M(!A)},className:"dropdown-editor__item-dropdown",display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween,borderRadius:s.BorderRadius.LG,borderColor:_,borderWidth:1,paddingLeft:4,paddingRight:4,ref:w},S?b(S,!1):a.default.createElement(r.Input,{className:"dropdown-editor__item-placeholder",placeholder:t,readOnly:!0,tabIndex:-1,paddingTop:3,paddingBottom:3}),a.default.createElement(r.ButtonIcon,{marginLeft:"auto",iconName:A?r.IconName.ArrowUp:r.IconName.ArrowDown,ariaLabel:e,size:r.ButtonIconSize.Md,"data-testid":T}));return a.default.createElement(r.Box,{paddingTop:4},a.default.createElement(r.Label,{variant:s.TextVariant.bodyMdMedium},e),I?a.default.createElement(c.default,{title:I,position:"bottom"},O):O,m===d.PopoverStyle?a.default.createElement(r.Popover,{paddingTop:n&&n.length>0?2:0,paddingBottom:n&&n.length>0?2:0,paddingLeft:0,matchWidth:!0,paddingRight:0,className:"dropdown-editor__item-popover",referenceElement:w.current,position:r.PopoverPosition.Bottom,isOpen:A,onClickOutside:()=>M(!1)},E()):a.default.createElement(r.Box,{marginTop:2,display:A?s.Display.Block:s.Display.None,borderColor:s.BorderColor.borderMuted,borderRadius:s.BorderRadius.LG},E()))}}}},{package:"$root$",file:"ui/components/multichain/dropdown-editor/dropdown-editor.tsx"}],[6548,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,"../create-eth-account":6534,"../create-snap-account/create-snap-account":6537,"../multi-srp/srp-list":6576,"@metamask/keyring-api":2100,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditAccountAddAccountForm=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/keyring-api"),s=e("../../component-library"),i=e("../../../hooks/accounts/useMultichainWalletSnapClient"),c=e("../create-snap-account/create-snap-account"),l=e("../create-eth-account"),u=e("../../../selectors"),d=e("../../../hooks/useI18nContext"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../multi-srp/srp-list");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.EditAccountAddAccountForm=({accountType:e,onActionComplete:t,onBack:n,onClose:h})=>{const g=(0,a.useContext)(p.MetaMetricsContext),y=(0,d.useI18nContext)(),[v,k]=(0,a.useState)(!1),b=(0,o.useSelector)(u.getHdKeyringOfSelectedAccountOrPrimaryKeyring),[C,T]=(0,a.useState)(b.metadata.id),x=(0,a.useCallback)(()=>{g({category:m.MetaMetricsEventCategory.Accounts,event:m.MetaMetricsEventName.SecretRecoveryPhrasePickerClicked,properties:{button_type:"picker"}}),k(e=>!e)},[]),{clientType:w,chainId:A,networkName:M}=(0,a.useMemo)(()=>{switch(e){case i.WalletClientType.Bitcoin:return{clientType:i.WalletClientType.Bitcoin,chainId:r.BtcScope.Mainnet,networkName:y("networkNameBitcoin")};case i.WalletClientType.Solana:return{clientType:i.WalletClientType.Solana,chainId:r.SolScope.Mainnet,networkName:y("networkNameSolana")};case i.WalletClientType.Tron:return{clientType:i.WalletClientType.Tron,chainId:r.TrxScope.Mainnet,networkName:y("networkNameTron")};default:return{clientType:null,chainId:null,networkName:null}}},[e]);return a.default.createElement(s.ModalContent,null,a.default.createElement(s.ModalHeader,{startAccessory:a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,onClick:n,ariaLabel:y("back")}),endAccessory:a.default.createElement(s.ButtonIcon,{iconName:s.IconName.Close,onClick:h,ariaLabel:y("close")})},M?y("addAccountFromNetwork",[M]):y("addAccount")),a.default.createElement(s.ModalBody,null,a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},v&&a.default.createElement(f.SrpList,{onActionComplete:e=>{T(e),k(!1)}}),!v&&a.default.createElement(a.default.Fragment,null,w&&A?a.default.createElement(c.CreateSnapAccount,{onActionComplete:t,selectedKeyringId:C,onSelectSrp:x,clientType:w,chainId:A,setNewlyCreatedAccountAsSelected:!0,redirectToOverview:!1}):a.default.createElement(l.CreateEthAccount,{onActionComplete:t,selectedKeyringId:C,onSelectSrp:x,redirectToOverview:!1})))))}}}},{package:"$root$",file:"ui/components/multichain/edit-accounts-modal/add-account.tsx"}],[6549,{"../../../helpers/constants/design-system":6899,"../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../../../hooks/useI18nContext":7047,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditAccountModalAddNewAccountOption=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),i=e("../../component-library"),c=e("../../../hooks/accounts/useMultichainWalletSnapClient");n.EditAccountModalAddNewAccountOption=({setAccountTypeToAdd:e})=>{const t=(0,s.useI18nContext)();return o.default.createElement(i.ModalContent,null,o.default.createElement(i.ModalHeader,{endAccessory:o.default.createElement(i.ButtonIcon,{iconName:i.IconName.Close,onClick:()=>e(c.EVM_WALLET_TYPE),ariaLabel:t("close")})},t("newAccount")),o.default.createElement(i.ModalBody,null,o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4,display:r.Display.Flex,flexDirection:r.FlexDirection.Column,justifyContent:r.JustifyContent.flexStart,alignItems:r.AlignItems.flexStart},o.default.createElement(i.Text,{variant:r.TextVariant.bodySmMedium,marginBottom:2,color:r.TextColor.textAlternative},t("createNewAccountHeader")),o.default.createElement(i.ButtonLink,{marginBottom:2,size:i.ButtonLinkSize.Sm,startIconName:i.IconName.Add,startIconProps:{size:i.IconSize.Md},onClick:()=>e(c.EVM_WALLET_TYPE),"data-testid":"multichain-account-menu-popover-add-account"},t("addNewEthereumAccountLabel")),o.default.createElement(i.ButtonLink,{size:i.ButtonLinkSize.Sm,startIconName:i.IconName.Add,startIconProps:{size:i.IconSize.Md},onClick:()=>e(c.WalletClientType.Solana),"data-testid":"multichain-account-menu-popover-add-solana-account"},t("addNewSolanaAccountLabel")))))}}}},{package:"$root$",file:"ui/components/multichain/edit-accounts-modal/add-new-account-option.tsx"}],[6550,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/string-utils":5761,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../account-list-item":6451,"./add-account":6548,"./add-new-account-option":6549,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditAccountsModal=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../hooks/useI18nContext"),r=e("../../component-library"),s=e("../account-list-item"),i=e("../../../helpers/constants/design-system"),c=e("../../../../shared/constants/metametrics"),l=e("../../../contexts/metametrics"),u=e("../../../../shared/modules/string-utils"),d=e("../../../hooks/accounts/useMultichainWalletSnapClient"),p=e("./add-account"),m=e("./add-new-account-option");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var h=function(e){return e.AccountList="account-list",e.AddNewAccount="add-new-account",e.EditAccounts="edit-accounts",e}(h||{});n.EditAccountsModal=({accounts:e,defaultSelectedAccountAddresses:t,onClose:n,onSubmit:f})=>{const g=(0,o.useI18nContext)(),y=(0,a.useContext)(l.MetaMetricsContext),[v,k]=(0,a.useState)(h.AccountList),[b,C]=(0,a.useState)(t),[T,x]=(0,a.useState)(d.EVM_WALLET_TYPE);(0,a.useEffect)(()=>{C(t)},[JSON.stringify(t)]);const w=()=>e.length===b.length,A=w(),M=!A&&b.length>0,E=new Set(t),_=new Set(b),S=(0,a.useCallback)(async(e,t)=>{if(e&&t){const[e]=t.scopes;if(!e)throw new Error("Account has no scope");const a=`${e}:${t.address}`;f([...b,a]),n()}},[b,f,n]);return a.default.createElement(r.Modal,{isOpen:!0,onClose:n,"data-testid":"edit-accounts-modal",className:"edit-accounts-modal"},a.default.createElement(r.ModalOverlay,null),v===h.AccountList&&a.default.createElement(r.ModalContent,null,a.default.createElement(r.ModalHeader,{onClose:n},g("editAccounts")),a.default.createElement(r.ModalBody,{paddingLeft:0,paddingRight:0,className:"edit-accounts-modal__body"},a.default.createElement(a.default.Fragment,null,a.default.createElement(r.Box,{padding:4,display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween},a.default.createElement(r.Checkbox,{label:g("selectAll"),isChecked:A,gap:4,onClick:()=>w()?void C([]):(()=>{const t=e.map(({caipAccountId:e})=>e);C(t)})(),isIndeterminate:M}),a.default.createElement(r.ButtonLink,{onClick:()=>k(h.AddNewAccount),"data-testid":"add-new-account-button"},g("newAccount"))),e.map(e=>a.default.createElement(s.AccountListItem,{onClick:()=>(e=>{const t=b.filter(t=>!(0,u.isEqualCaseInsensitive)(t,e));t.length===b.length?C([...b,e]):C(t)})(e.caipAccountId),account:e,key:e.caipAccountId,isPinned:Boolean(e.pinned),showConnectedStatus:!1,startAccessory:a.default.createElement(r.Checkbox,{isChecked:b.some(t=>(0,u.isEqualCaseInsensitive)(t,e.caipAccountId))}),selected:!1})))),a.default.createElement(r.ModalFooter,null,0===b.length?a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4,width:i.BlockSize.Full,alignItems:i.AlignItems.center},a.default.createElement(r.Box,{display:i.Display.Flex,gap:1,alignItems:i.AlignItems.center},a.default.createElement(r.Icon,{name:r.IconName.Danger,size:r.IconSize.Xs,color:i.IconColor.errorDefault}),a.default.createElement(r.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.errorDefault},g("disconnectMessage"))),a.default.createElement(r.ButtonPrimary,{"data-testid":"disconnect-accounts-button",onClick:()=>{f([]),n()},size:r.ButtonPrimarySize.Lg,block:!0,danger:!0},g("disconnect"))):a.default.createElement(r.ButtonPrimary,{"data-testid":"connect-more-accounts-button",onClick:()=>{const e=b.filter(e=>!E.has(e)),a=t.filter(e=>!_.has(e));f(b),y({category:c.MetaMetricsEventCategory.Permissions,event:c.MetaMetricsEventName.UpdatePermissionedAccounts,properties:{addedAccounts:e.length,removedAccounts:a.length,location:"Edit Accounts Modal"}}),n()},size:r.ButtonPrimarySize.Lg,block:!0},g("update")))),v===h.AddNewAccount&&a.default.createElement(m.EditAccountModalAddNewAccountOption,{setAccountTypeToAdd:e=>{x(e),k(h.EditAccounts)}}),v===h.EditAccounts&&a.default.createElement(p.EditAccountAddAccountForm,{onBack:()=>k(h.AddNewAccount),onClose:()=>k(h.AccountList),onActionComplete:S,accountType:T}))}}}},{package:"$root$",file:"ui/components/multichain/edit-accounts-modal/edit-accounts-modal.tsx"}],[6551,{"./edit-accounts-modal":6550},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EditAccountsModal",{enumerable:!0,get:function(){return a.EditAccountsModal}});var a=e("./edit-accounts-modal")}}},{package:"$root$",file:"ui/components/multichain/edit-accounts-modal/index.ts"}]],[],{});