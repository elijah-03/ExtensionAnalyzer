"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="712f406b-c818-591a-a32f-fbb52f7248b4")}catch(e){}}();
(self.webpackChunk_loomhq_chrome_extension=self.webpackChunk_loomhq_chrome_extension||[]).push([[87642],{24679:(e,t,n)=>{n.r(t),n.d(t,{MediaInlineCard:()=>Z,MediaInlineCardInternal:()=>Q});var i=n(24672),l=n(78309),a=n(15387),r=n(54693),o=n(9360),c=n(63101),s=n(42685),d=n(79214),u=n(75418),m=n(32821),f=n(76939),p=n.n(f),v=n(61312),A=n.n(v),g=n(12524),E=n.n(g),_=n(26539),C=n.n(_),h=n(68479),y=n.n(h),k=n(62588),w=n.n(k),S=n(39865),R={};R.styleTagTransform=w(),R.setAttributes=C(),R.insert=E().bind(null,"head"),R.domAPI=A(),R.insertStyleElement=y(),p()(S.A,R),S.A&&S.A.locals&&S.A.locals;var b=n(66534),I=n(77782),N=n(92860),x=n(30665),q=n(53215),D=n(13209),B=n(48850),M=n(57389);function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var F=function(e){function t(){return(0,c.A)(this,t),e=this,n=t,i=arguments,n=(0,u.A)(n),(0,d.A)(e,T()?Reflect.construct(n,i||[],(0,u.A)(e).constructor):n.apply(e,i));var e,n,i}return(0,m.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.isSelected,i=e.innerRef,l=e.testId,a=void 0===l?"media-inline-card-errored-view":l,r=e.icon;return N.createElement(D.w,{testId:a,innerRef:i,onClick:t,isSelected:n,isError:!0},N.createElement(B.D,{icon:r||N.createElement(M.j,null,N.createElement(q.A,{label:"error",LEGACY_size:"small",color:"var(--ds-icon-danger, ".concat(x.s9,")"),size:"small"})),title:N.createElement("span",{className:(0,b.A)(["_syaz1ml5"]),style:{"--_1xw92dq":(0,I.A)("var(--ds-text-danger, ".concat(x.s9,")"))}},this.props.message)}))}}])}(N.Component),z=n(1969);function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}var P=function(e){function t(){return(0,c.A)(this,t),e=this,n=t,i=arguments,n=(0,u.A)(n),(0,d.A)(e,O()?Reflect.construct(n,i||[],(0,u.A)(e).constructor):n.apply(e,i));var e,n,i}return(0,m.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=void 0===t?"":t,i=e.isSelected,l=e.onClick,a=e.icon,r=e.testId,o=void 0===r?"media-inline-card-loaded-view":r,c=e.titlePrefix,s=e.innerRef;return N.createElement(D.w,{innerRef:s,testId:o,isSelected:i,onClick:l},N.createElement(B.D,{emoji:c,icon:a,title:n}))}}])}(N.Component),V=n(26972),j=n(35306),W=n(31396),Y=n(48736),G=n(24833),L=n(52620),U=n(5063),X=n(2281),$=n(33773),H=n(76819),J=n(41509),K=n(22180),Q=function(e){var t=e.mediaClient,n=e.identifier,c=e.shouldOpenMediaViewer,s=e.shouldDisplayToolTip,d=e.isSelected,u=e.onClick,m=e.mediaViewerItems,f=e.intl,p=e.viewerOptions,v=(0,N.useState)(),A=(0,i.A)(v,2),g=A[0],E=A[1],_=(0,N.useState)(),C=(0,i.A)(_,2),h=C[0],y=C[1],k=(0,N.useState)(!1),w=(0,i.A)(k,2),S=w[0],R=w[1],b=(0,N.useState)(!1),I=(0,i.A)(b,2),x=I[0],q=I[1],D=(0,N.useState)(!1),B=(0,i.A)(D,2),M=B[0],T=B[1],O=(0,l.X)().createAnalyticsEvent,U=(0,K.A)("click-media-inline-card"),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new X.lu("missing-error-data");if(!x){var t=(arguments.length>1?arguments[1]:void 0)?(0,H.$6)(n.id,g):(0,H.Nk)(n.id,e,g);q(!0),(0,$.VB)(t,O)}},Z=(0,J.h)(n.id,{collectionName:n.collectionName}).copyNodeRef,ee=function(e){u&&u({event:e,mediaItemDetails:n}),c&&T(!0),U()},te=function(){return T(!1)},ne=function(){return M?G.createPortal(N.createElement(W.A,{collectionName:n.collectionName||"",items:m||[],mediaClientConfig:t.mediaClientConfig,selectedItem:n,onClose:te,viewerOptions:p}),document.body):null},ie=function(e){return f?e:N.createElement(L.A,{locale:"en"},e)},le=(0,L.E)({locale:"en"});if((0,N.useEffect)((function(){var e=t.file.getFileState(n.id,{collectionName:n.collectionName}).subscribe({next:function(e){E(e),y(void 0)},error:function(e){y(e)}});return function(){null==e||e.unsubscribe()}}),[n.collectionName,n.id,t.file]),h){var ae="uploading"===(null==g?void 0:g.status)?o.D.failed_to_upload:o.D.couldnt_load_file,re="uploading"===(null==g?void 0:g.status)?"upload":"metadata-fetch";return Q(new X.lu(re,h)),ie(N.createElement(N.Fragment,null,N.createElement(F,{innerRef:Z,message:(f||le).formatMessage(ae),isSelected:d,onClick:ee}),ne()))}if("error"===(null==g?void 0:g.status))return Q(new X.lu("error-file-state",(0,a.Ue)(g))),ie(N.createElement(N.Fragment,null,N.createElement(F,{innerRef:Z,message:(f||le).formatMessage(o.D.couldnt_load_file),isSelected:d,onClick:ee}),ne()));if(g&&!g.name)return Q(new X.lu("metadata-fetch",new r.u("emptyFileName",{id:g.id}))),ie(N.createElement(N.Fragment,null,N.createElement(F,{innerRef:Z,message:(f||le).formatMessage(o.D.couldnt_load_file),isSelected:d,onClick:ee}),ne()));if("uploading"===(null==g?void 0:g.status))return N.createElement(z.P,{innerRef:Z,message:g.name,isSelected:d});if(!g)return N.createElement(z.P,{innerRef:Z,message:(f||le).formatMessage(o.D.loading_file),isSelected:d});"failed-processing"===(null==g?void 0:g.status)&&Q(void 0,"failed-processing");var oe,ce,se=g.mediaType,de=g.name,ue=g.mimeType,me=N.createElement(j.q,{testId:"media-inline-card-file-type-icon",size:"small",mediaType:se,mimeType:ue,name:de});if(g.createdAt){var fe=(f||{locale:"en"}).locale,pe=void 0===fe?"en":fe;oe=(0,V.Yq)(g.createdAt,pe)}return"processed"!==g.status||S||(ce=(0,H.as)(g),R(!0),(0,$.VB)(ce,O)),ie(void 0===s||!0===s?N.createElement(N.Fragment,null,N.createElement(Y.A,{position:"bottom",content:oe,tag:"span"},N.createElement(P,{innerRef:Z,icon:me,title:de,onClick:ee,isSelected:d})),ne()):N.createElement(N.Fragment,null,N.createElement(P,{innerRef:Z,icon:me,title:de,onClick:ee,isSelected:d}),ne()))},Z=(0,U.Ay)(Q,{enforceContext:!1})},39865:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(75973),l=n.n(i),a=n(11123),r=n.n(a)()(l());r.push([e.id,"._syaz1ml5{color:var(--_1xw92dq)}","",{version:3,sources:["webpack://./../../../node_modules/.pnpm/@atlaskit+media-ui@28.6.10_@atlaskit+media-core@37.0.0_react@18.3.1__@babel+core@7.27.7_12017de0ccf128adc1a72c5cd03102bc/node_modules/@atlaskit/media-ui/dist/esm/MediaInlineCard/ErroredView/index.compiled.css"],names:[],mappings:"AAAA,WAAW,qBAAqB",sourcesContent:["._syaz1ml5{color:var(--_1xw92dq)}"],sourceRoot:""}]);const o=r}}]);
//# sourceMappingURL=@atlaskit-internal_inline-media-card.js.map
//# debugId=712f406b-c818-591a-a32f-fbb52f7248b4
