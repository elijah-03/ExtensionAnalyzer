!function(){function MM(cm,sn,Zx){function TD(MV,yI){if(!sn[MV]){if(!cm[MV]){var cT="function"==typeof require&&require;if(!yI&&cT)return cT(MV,!0);if(tP)return tP(MV,!0);var oO=new Error("Cannot find module '"+MV+"'");throw oO.code="MODULE_NOT_FOUND",oO}var ff=sn[MV]={exports:{}};cm[MV][0].call(ff.exports,(function(MM){var sn;return TD(cm[MV][1][MM]||MM)}),ff,ff.exports,MM,cm,sn,Zx)}return sn[MV].exports}for(var tP="function"==typeof require&&require,MV=0;MV<Zx.length;MV++)TD(Zx[MV]);return TD}return MM}()({1:[function(MM,cm,sn){"use strict";var Zx,TD,tP,MV;Object.defineProperty(sn,"__esModule",{value:!0}),sn.REGEX_DOMAIN_IN_RULE=sn.REGEX_DOMAIN=sn.OTHER_DOMAIN_TITLE=sn.RULESET_NAME=sn.FiltersGroupId=sn.UserRuleType=sn.QUERY_PARAM_NAMES=sn.NEW_LINE_SEPARATOR=sn.PROTECTION_PAUSE_TIMEOUT_MS=sn.PROTECTION_PAUSE_TIMEOUT_S=sn.MS_IN_SECOND=sn.NOTIFIER_EVENTS=sn.MESSAGE_TYPES=sn.FILTERS_VERSIONS_FILENAME=sn.FILTERS_REGEXP_COUNTER_FILENAME=sn.FILTERS_RULES_COUNTER_FILENAME=sn.FILTERS_I18N_FILENAME=void 0,sn.FILTERS_I18N_FILENAME="filters_i18n.json",sn.FILTERS_RULES_COUNTER_FILENAME="filters_rules_counter.json",sn.FILTERS_REGEXP_COUNTER_FILENAME="filters_regexp_counter.json",sn.FILTERS_VERSIONS_FILENAME="filters_versions.json",function(MM){MM["GET_OPTIONS_DATA"]="GET_OPTIONS_DATA",MM["GET_POPUP_DATA"]="GET_POPUP_DATA",MM["OPEN_OPTIONS"]="OPEN_OPTIONS",MM["SET_SETTING"]="SET_SETTING",MM["REPORT_SITE"]="REPORT_SITE",MM["OPEN_ASSISTANT"]="OPEN_ASSISTANT",MM["START_ASSISTANT"]="START_ASSISTANT",MM["ADD_USER_RULE"]="ADD_USER_RULE",MM["RELOAD_ACTIVE_TAB"]="RELOAD_ACTIVE_TAB",MM["TOGGLE_PROTECTION"]="TOGGLE_PROTECTION",MM["PAUSE_PROTECTION_WITH_TIMEOUT"]="PAUSE_PROTECTION_WITH_TIMEOUT",MM["ENABLE_FILTER"]="ENABLE_FILTER",MM["DISABLE_FILTER"]="DISABLE_FILTER",MM["UPDATE_FILTER_TITLE"]="UPDATE_FILTER_TITLE",MM["GET_FILTER_INFO_BY_CONTENT"]="GET_FILTER_INFO_BY_CONTENT",MM["ADD_CUSTOM_FILTER_BY_CONTENT"]="ADD_CUSTOM_FILTER_BY_CONTENT",MM["GET_FILTER_CONTENT_BY_URL"]="GET_FILTER_CONTENT_BY_URL",MM["REMOVE_CUSTOM_FILTER_BY_ID"]="REMOVE_CUSTOM_FILTER_BY_ID",MM["ADD_FILTERING_SUBSCRIPTION"]="ADD_FILTERING_SUBSCRIPTION",MM["GET_USER_RULES"]="GET_USER_RULES",MM["SET_USER_RULES"]="SET_USER_RULES",MM["GET_DYNAMIC_RULES_LIMITS"]="GET_DYNAMIC_RULES_LIMITS",MM["RELAUNCH_FILTERING"]="RELAUNCH_FILTERING",MM["TOGGLE_SITE_ALLOWLIST_STATUS"]="TOGGLE_SITE_ALLOWLIST_STATUS",MM["ADD_USER_RULE_FROM_ASSISTANT"]="ADD_USER_RULE_FROM_ASSISTANT",MM["GET_COLLECTED_LOG"]="GET_COLLECTED_LOG",MM["START_LOG"]="START_LOG",MM["STOP_LOG"]="STOP_LOG",MM["PING"]="PING",MM["ADD_LONG_LIVED_CONNECTION"]="ADD_LONG_LIVED_CONNECTION",MM["NOTIFY_LISTENERS"]="NOTIFY_LISTENERS"}(Zx=sn.MESSAGE_TYPES||(sn.MESSAGE_TYPES={})),function(MM){MM["PROTECTION_UPDATED"]="event.protection.updated",MM["PROTECTION_RESUMED"]="event.protection.resumed",MM["PROTECTION_PAUSE_EXPIRED"]="event.protection.pause.expired",MM["SET_RULES"]="event.set.rules"}(TD=sn.NOTIFIER_EVENTS||(sn.NOTIFIER_EVENTS={})),sn.MS_IN_SECOND=10**3,sn.PROTECTION_PAUSE_TIMEOUT_S=30,sn.PROTECTION_PAUSE_TIMEOUT_MS=sn.PROTECTION_PAUSE_TIMEOUT_S*sn.MS_IN_SECOND,sn.NEW_LINE_SEPARATOR="\n",sn.QUERY_PARAM_NAMES={TITLE:"title",SUBSCRIBE:"subscribe"},function(MM){MM["SITE_BLOCKED"]="SITE_BLOCKED",MM["ELEMENT_BLOCKED"]="ELEMENT_BLOCKED",MM["SITE_ALLOWED"]="SITE_ALLOWED",MM["CUSTOM"]="CUSTOM"}(tP=sn.UserRuleType||(sn.UserRuleType={})),function(MM){MM[MM["CUSTOM"]=0]="CUSTOM",MM[MM["INTEGRATED"]=2]="INTEGRATED",MM[MM["MAIN"]=3]="MAIN",MM[MM["LANGUAGES"]=7]="LANGUAGES"}(MV=sn.FiltersGroupId||(sn.FiltersGroupId={})),sn.RULESET_NAME="ruleset_",sn.OTHER_DOMAIN_TITLE="other",sn.REGEX_DOMAIN=/^(?:[A-Za-z0-9](?:[A-Za-z0-9-]{0,61}[A-Za-z0-9])?\.)+[A-Za-z0-9][A-Za-z0-9-]{0,61}[A-Za-z0-9]$/,sn.REGEX_DOMAIN_IN_RULE=/(?<=\|\|)(.*?)(?=\^|\/|:|\$)/g},{}],2:[function(MM,cm,sn){"use strict";Object.defineProperty(sn,"__esModule",{value:!0}),sn.browser=MM("webextension-polyfill")},{"webextension-polyfill":3}],3:[function(MM,cm,sn){"use strict";!function(MM,Zx){if("function"==typeof define&&define.amd)define("webextension-polyfill",["module"],Zx);else if(void 0!==sn)Zx(cm);else{var TD={exports:{}};Zx(TD),MM.browser=TD.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0,(function(MM){if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const cm="The message port closed before a response was received.",sn="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",Zx=MM=>{const sn={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(sn).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class Zx extends WeakMap{constructor(MM,cm=void 0){super(cm),this.createItem=MM}get(MM){return this.has(MM)||this.set(MM,this.createItem(MM)),super.get(MM)}}const TD=MM=>MM&&"object"==typeof MM&&"function"==typeof MM.then,tP=(cm,sn)=>(...Zx)=>{MM.runtime.lastError?cm.reject(MM.runtime.lastError):sn.singleCallbackArg||Zx.length<=1&&!1!==sn.singleCallbackArg?cm.resolve(Zx[0]):cm.resolve(Zx)},MV=MM=>1==MM?"argument":"arguments",yI=(MM,cm)=>function sn(Zx,...TD){if(TD.length<cm.minArgs)throw new Error(`Expected at least ${cm.minArgs} ${MV(cm.minArgs)} for ${MM}(), got ${TD.length}`);if(TD.length>cm.maxArgs)throw new Error(`Expected at most ${cm.maxArgs} ${MV(cm.maxArgs)} for ${MM}(), got ${TD.length}`);return new Promise(((sn,MV)=>{if(cm.fallbackToNoCallback)try{Zx[MM](...TD,tP({resolve:sn,reject:MV},cm))}catch(tP){Zx[MM](...TD),cm.fallbackToNoCallback=!1,cm.noCallback=!0,sn()}else cm.noCallback?(Zx[MM](...TD),sn()):Zx[MM](...TD,tP({resolve:sn,reject:MV},cm))}))},cT=(MM,cm,sn)=>new Proxy(cm,{apply:(cm,Zx,TD)=>sn.call(Zx,MM,...TD)});let oO=Function.call.bind(Object.prototype.hasOwnProperty);const ff=(MM,cm={},sn={})=>{let Zx=Object.create(null),TD={has:(cm,sn)=>sn in MM||sn in Zx,get(TD,tP,MV){if(tP in Zx)return Zx[tP];if(!(tP in MM))return;let cq=MM[tP];if("function"==typeof cq)if("function"==typeof cm[tP])cq=cT(MM,MM[tP],cm[tP]);else if(oO(sn,tP)){let cm=yI(tP,sn[tP]);cq=cT(MM,MM[tP],cm)}else cq=cq.bind(MM);else if("object"==typeof cq&&null!==cq&&(oO(cm,tP)||oO(sn,tP)))cq=ff(cq,cm[tP],sn[tP]);else{if(!oO(sn,"*"))return Object.defineProperty(Zx,tP,{configurable:!0,enumerable:!0,get:()=>MM[tP],set(cm){MM[tP]=cm}}),cq;cq=ff(cq,cm[tP],sn["*"])}return Zx[tP]=cq,cq},set:(cm,sn,TD,tP)=>(sn in Zx?Zx[sn]=TD:MM[sn]=TD,!0),defineProperty:(MM,cm,sn)=>Reflect.defineProperty(Zx,cm,sn),deleteProperty:(MM,cm)=>Reflect.deleteProperty(Zx,cm)},tP=Object.create(MM);return new Proxy(tP,TD)},cq=MM=>({addListener(cm,sn,...Zx){cm.addListener(MM.get(sn),...Zx)},hasListener:(cm,sn)=>cm.hasListener(MM.get(sn)),removeListener(cm,sn){cm.removeListener(MM.get(sn))}});let Tu=!1;const HY=new Zx((MM=>"function"!=typeof MM?MM:function cm(sn,Zx,tP){let MV=!1,yI,cT=new Promise((MM=>{yI=function(cm){Tu||(Tu=!0),MV=!0,MM(cm)}})),oO;try{oO=MM(sn,Zx,yI)}catch(MM){oO=Promise.reject(MM)}const ff=!0!==oO&&TD(oO);if(!0!==oO&&!ff&&!MV)return!1;const cq=MM=>{MM.then((MM=>{tP(MM)}),(MM=>{let cm;cm=MM&&(MM instanceof Error||"string"==typeof MM.message)?MM.message:"An unexpected error occurred",tP({__mozWebExtensionPolyfillReject__:!0,message:cm})})).catch((MM=>{}))};return cq(ff?oO:cT),!0})),Lk=({reject:sn,resolve:Zx},TD)=>{MM.runtime.lastError?MM.runtime.lastError.message===cm?Zx():sn(MM.runtime.lastError):TD&&TD.__mozWebExtensionPolyfillReject__?sn(new Error(TD.message)):Zx(TD)},Qt=(MM,cm,sn,...Zx)=>{if(Zx.length<cm.minArgs)throw new Error(`Expected at least ${cm.minArgs} ${MV(cm.minArgs)} for ${MM}(), got ${Zx.length}`);if(Zx.length>cm.maxArgs)throw new Error(`Expected at most ${cm.maxArgs} ${MV(cm.maxArgs)} for ${MM}(), got ${Zx.length}`);return new Promise(((MM,cm)=>{const TD=Lk.bind(null,{resolve:MM,reject:cm});Zx.push(TD),sn.sendMessage(...Zx)}))},Fe={runtime:{onMessage:cq(HY),onMessageExternal:cq(HY),sendMessage:Qt.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:Qt.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Sa={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return sn.privacy={network:{"*":Sa},services:{"*":Sa},websites:{"*":Sa}},ff(MM,Fe,sn)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");MM.exports=Zx(chrome)}else MM.exports=browser}))},{}],4:[function(MM,cm,sn){"use strict";Object.defineProperty(sn,"__esModule",{value:!0});const Zx=MM("webextension-polyfill-ts"),TD=MM("../../../adblocker-mv3/core/common/constants/common");async function tP(){const MM=await Zx.browser.tabs.query({currentWindow:!0,active:!0});let cm=null;if(MM.length>0){const sn=MM[0];if(null==sn?void 0:sn.url){const MM=undefined;cm=[new URL(sn.url).hostname,sn.id]}}return cm}function MV(MM){var cm,sn,Zx,TD;const tP=MM?chrome.runtime.getURL("icons/logo.svg"):chrome.runtime.getURL("icons/inactive-logo.svg");document.getElementById("status").textContent=MM?"Enabled on this site":"Disabled on this site",null===(cm=document.querySelector("body"))||void 0===cm||cm.classList[MM?"add":"remove"]("active"),null===(sn=document.getElementById("logo"))||void 0===sn||sn.setAttribute("src",tP),MM?null===(Zx=document.getElementById("toggle"))||void 0===Zx||Zx.setAttribute("checked","checked"):null===(TD=document.getElementById("toggle"))||void 0===TD||TD.removeAttribute("checked")}async function yI(){var MM;const cm=await tP();if(cm){const[sn]=cm,Zx=undefined;MV(!(await chrome.runtime.sendMessage({type:TD.MESSAGE_TYPES.GET_POPUP_DATA,data:{domainName:sn}})).isAllowlisted);const tP=document.getElementById("domain");tP&&(tP.textContent=sn),null===(MM=document.getElementById("toggle"))||void 0===MM||MM.addEventListener("click",(async MM=>{await chrome.runtime.sendMessage({type:TD.MESSAGE_TYPES.TOGGLE_SITE_ALLOWLIST_STATUS,data:{domainName:sn}});const cm=undefined;MV(MM.target.checked)}))}}document.addEventListener("DOMContentLoaded",yI)},{"../../../adblocker-mv3/core/common/constants/common":1,"webextension-polyfill-ts":2}]},{},[4]);