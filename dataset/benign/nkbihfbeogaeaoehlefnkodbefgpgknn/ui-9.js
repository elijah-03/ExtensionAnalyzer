LavaPack.loadBundle([[6905,{"../../../shared/constants/app":5598,"../../../shared/modules/browser-runtime.utils":5729,"../../components/component-library":6325,"./routes":6904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("../../../shared/constants/app"),r=e("../../../shared/modules/browser-runtime.utils"),a=e("../../components/component-library"),o=e("./routes");const i=[{tabMessage:e=>e("general"),sectionMessage:e=>e("currencyConversion"),descriptionMessage:e=>e("currencyConversion"),route:`${o.GENERAL_ROUTE}#currency-conversion`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("showNativeTokenAsMainBalance"),descriptionMessage:e=>e("showNativeTokenAsMainBalance"),route:`${o.GENERAL_ROUTE}#show-native-token-as-main-balance`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("currentLanguage"),descriptionMessage:e=>e("currentLanguage"),route:`${o.GENERAL_ROUTE}#current-language`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("theme"),descriptionMessage:e=>e("themeDescription"),route:`${o.GENERAL_ROUTE}#theme`,icon:"fa fa-flask"},{tabMessage:e=>e("general"),sectionMessage:e=>e("accountIdenticon"),descriptionMessage:e=>e("accountIdenticon"),route:`${o.GENERAL_ROUTE}#account-identicon`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("hideZeroBalanceTokens"),descriptionMessage:e=>e("hideZeroBalanceTokens"),route:`${o.GENERAL_ROUTE}#zero-balancetokens`,iconName:a.IconName.Setting},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("stateLogs"),descriptionMessage:e=>e("stateLogsDescription"),route:`${o.ADVANCED_ROUTE}#state-logs`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("clearActivity"),descriptionMessage:e=>e("clearActivityDescription"),route:`${o.ADVANCED_ROUTE}#clear-activity`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("smartTransactions"),descriptionMessage:e=>e("stxOptInSupportedNetworksDescription"),route:`${o.ADVANCED_ROUTE}#smart-transactions`,icon:"fas fa-upload"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showHexData"),descriptionMessage:e=>e("showHexDataDescription"),route:`${o.ADVANCED_ROUTE}#show-hexdata`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showFiatConversionInTestnets"),descriptionMessage:e=>e("showFiatConversionInTestnetsDescription"),route:`${o.ADVANCED_ROUTE}#conversion-testnetworks`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showTestnetNetworks"),descriptionMessage:e=>e("showTestnetNetworksDescription"),route:`${o.ADVANCED_ROUTE}#show-testnets`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("autoLockTimeLimit"),descriptionMessage:e=>e("autoLockTimeLimitDescription"),route:`${o.ADVANCED_ROUTE}#autolock-timer`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showExtensionInFullSizeView"),descriptionMessage:e=>e("showExtensionInFullSizeViewDescription"),route:`${o.ADVANCED_ROUTE}#extension-full-size-view`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("dismissReminderField"),descriptionMessage:e=>e("dismissReminderDescriptionField"),route:`${o.ADVANCED_ROUTE}#dismiss-secretrecovery`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("exportYourData"),descriptionMessage:e=>e("exportYourDataDescription"),route:`${o.ADVANCED_ROUTE}#export-data`,icon:"fas fa-download"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("overrideContentSecurityPolicyHeader"),descriptionMessage:e=>e("overrideContentSecurityPolicyHeaderDescription"),route:`${o.ADVANCED_ROUTE}#override-content-security-policy-header`,icon:"fas fa-sliders-h",hidden:(0,r.getBrowserName)()!==n.PLATFORM_FIREFOX},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncEnable"),descriptionMessage:e=>e("backupAndSyncEnable"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-toggle`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureAccounts"),descriptionMessage:e=>e("backupAndSyncFeatureAccounts"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-account-syncing`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureContacts"),descriptionMessage:e=>e("backupAndSyncFeatureContacts"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-contact-syncing`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("contacts"),sectionMessage:e=>e("contacts"),descriptionMessage:e=>e("contacts"),route:o.CONTACT_LIST_ROUTE,iconName:a.IconName.Book},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("basicConfigurationLabel"),descriptionMessage:e=>e("basicConfigurationDescription"),route:`${o.SECURITY_ROUTE}#basic-functionality-toggle`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("revealSeedWords"),descriptionMessage:e=>e("revealSeedWords"),route:`${o.SECURITY_ROUTE}#reveal-secretrecovery`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityChangePassword"),descriptionMessage:e=>e("securityChangePassword"),route:o.SECURITY_PASSWORD_CHANGE_ROUTE,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("usePhishingDetection"),descriptionMessage:e=>e("usePhishingDetectionDescription"),route:`${o.SECURITY_ROUTE}#phishing-detection`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("skipDeepLinkInterstitial"),descriptionMessage:e=>e("skipDeepLinkInterstitialDescription"),route:`${o.SECURITY_ROUTE}#skip-deep-link-interstitial`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("use4ByteResolution"),descriptionMessage:e=>e("toggleDecodeDescription"),route:`${o.SECURITY_ROUTE}#decode-smart-contracts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("participateInMetaMetrics"),descriptionMessage:e=>e("participateInMetaMetricsDescription"),route:`${o.SECURITY_ROUTE}#metametrics`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("networkProvider"),descriptionMessage:e=>`${e("chooseYourNetwork")} ${e("chooseYourNetworkDescription")}`,route:`${o.SECURITY_ROUTE}#network-provider`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ipfsGateway"),descriptionMessage:e=>e("ipfsGatewayDescription"),route:`${o.SECURITY_ROUTE}#add-custom-ipfs-gateway`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("autoDetectTokens"),descriptionMessage:e=>e("autoDetectTokensDescription"),route:`${o.SECURITY_ROUTE}#auto-detect-tokens`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useMultiAccountBalanceChecker"),descriptionMessage:e=>e("useMultiAccountBalanceCheckerSettingDescription"),route:`${o.SECURITY_ROUTE}#batch-account-balance-requests`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("currencyRateCheckToggle"),descriptionMessage:e=>e("currencyRateCheckToggleDescription"),route:`${o.SECURITY_ROUTE}#price-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ensDomainsSettingTitle"),descriptionMessage:e=>e("ensDomainsSettingDescriptionIntroduction"),route:`${o.SECURITY_ROUTE}#ens-domains`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("displayNftMedia"),descriptionMessage:e=>e("displayNftMediaDescription"),route:`${o.SECURITY_ROUTE}#display-nft-media`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useNftDetection"),descriptionMessage:e=>e("useNftDetectionDescriptionText"),route:`${o.SECURITY_ROUTE}#autodetect-nfts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useSafeChainsListValidation"),descriptionMessage:e=>e("useSafeChainsListValidationDescription"),route:`${o.SECURITY_ROUTE}#network-details-check`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("externalNameSourcesSetting"),descriptionMessage:e=>e("externalNameSourcesSettingDescription"),route:`${o.SECURITY_ROUTE}#proposed-nicknames`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityAlerts"),descriptionMessage:e=>e("securityAlertsDescription"),route:`${o.SECURITY_ROUTE}#security-alerts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("blockaid"),descriptionMessage:e=>e("blockaidMessage"),route:`${o.SECURITY_ROUTE}#security-alerts-blockaid`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("simulationsSettingSubHeader"),descriptionMessage:e=>e("simulationsSettingDescription"),route:`${o.SECURITY_ROUTE}#transaction-simulations`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("dataCollectionForMarketing"),descriptionMessage:e=>e("dataCollectionForMarketingDescription"),route:`${o.SECURITY_ROUTE}#dataCollectionForMarketing`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("deleteMetaMetricsData"),descriptionMessage:e=>e("deleteMetaMetricsDataDescription"),route:`${o.SECURITY_ROUTE}#delete-metametrics-data`,icon:"fa fa-lock"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("mainnet"),descriptionMessage:e=>e("mainnet"),route:`${o.NETWORKS_ROUTE}#networks-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaMainnet"),descriptionMessage:e=>e("lineaMainnet"),route:`${o.NETWORKS_ROUTE}#networks-linea-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("goerli"),descriptionMessage:e=>e("goerli"),route:`${o.NETWORKS_ROUTE}#networks-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("sepolia"),descriptionMessage:e=>e("sepolia"),route:`${o.NETWORKS_ROUTE}#networks-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaGoerli"),descriptionMessage:e=>e("lineaGoerli"),route:`${o.NETWORKS_ROUTE}#networks-linea-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaSepolia"),descriptionMessage:e=>e("lineaSepolia"),route:`${o.NETWORKS_ROUTE}#networks-linea-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("localhost"),descriptionMessage:e=>e("localhost"),route:`${o.NETWORKS_ROUTE}#networks-localhost`,icon:"fa fa-plug"},{tabMessage:e=>e("about"),sectionMessage:e=>e("metamaskVersion"),descriptionMessage:e=>e("builtAroundTheWorld"),route:`${o.ABOUT_US_ROUTE}#version`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("links"),descriptionMessage:e=>e("links"),route:`${o.ABOUT_US_ROUTE}#links`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("privacyMsg"),descriptionMessage:e=>e("privacyMsg"),route:`${o.ABOUT_US_ROUTE}#privacy-policy`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("terms"),descriptionMessage:e=>e("terms"),route:`${o.ABOUT_US_ROUTE}#terms`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("attributions"),descriptionMessage:e=>e("attributions"),route:`${o.ABOUT_US_ROUTE}#attributions`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("supportCenter"),descriptionMessage:e=>e("supportCenter"),route:`${o.ABOUT_US_ROUTE}#supportcenter`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("visitWebSite"),descriptionMessage:e=>e("visitWebSite"),route:`${o.ABOUT_US_ROUTE}#visitwebsite`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("contactUs"),descriptionMessage:e=>e("contactUs"),route:`${o.ABOUT_US_ROUTE}#contactus`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("betaTerms"),descriptionMessage:e=>e("betaTerms"),route:`${o.ABOUT_US_ROUTE}#beta-terms`,iconName:a.IconName.Info},{featureFlag:"METAMASK_SHIELD_ENABLED",tabMessage:e=>e("shieldTx"),sectionMessage:e=>e("shieldTx"),descriptionMessage:e=>e("shieldTx"),route:`${o.TRANSACTION_SHIELD_ROUTE}`,iconName:a.IconName.ShieldLock},{featureFlag:"METAMASK_SHIELD_ENABLED",tabMessage:e=>e("shieldClaim"),sectionMessage:e=>e("shieldClaim"),descriptionMessage:e=>e("shieldClaim"),route:`${o.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL}`,iconName:a.IconName.ShieldLock},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("notificationsFeatureToggle"),descriptionMessage:e=>e("notificationsFeatureToggleDescription"),route:`${o.EXPERIMENTAL_ROUTE}#notifications`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("snaps"),descriptionMessage:e=>e("addSnapAccountToggle"),route:`${o.EXPERIMENTAL_ROUTE}#snaps`,icon:"fas fa-flask"},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Reset States",descriptionMessage:()=>"Reset States",route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Announcements",descriptionMessage:()=>"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.",route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states-announcements`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Service Worker Keep Alive",descriptionMessage:()=>'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.',route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states-onboarding`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Service Worker Keep Alive",descriptionMessage:()=>"Results in a timestamp being continuously saved to session.storage",route:`${o.DEVELOPER_OPTIONS_ROUTE}#service-worker-keep-alive`,iconName:a.IconName.CodeCircle}];s.default=i}}},{package:"$root$",file:"ui/helpers/constants/settings.js"}],[6906,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getDelineatorTitle=s.DelineatorType=void 0;let n=s.DelineatorType=function(e){return e.Content="content",e.Error="error",e.Insights="insights",e.Description="description",e.Warning="warning",e}({});s.getDelineatorTitle=e=>{switch(e){case n.Error:return"errorWithSnap";case n.Insights:return"insightsFromSnap";case n.Description:return"descriptionFromSnap";case n.Warning:return"warningFromSnap";default:return"contentFromSnap"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/delineator.ts"}],[6907,{"./delineator":6906,"./insights":6908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e("./delineator");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===n[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return n[e]}}))});var r=e("./insights");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===r[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return r[e]}}))})}}},{package:"$root$",file:"ui/helpers/constants/snaps/index.js"}],[6908,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.InsightWarningLanguage=void 0;s.InsightWarningLanguage={confirming:{noun:"transaction",imperative:"confirm"},signing:{noun:"signature",imperative:"sign"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/insights.ts"}],[6909,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.SURVEY_START_TIME=s.SURVEY_START_HOUR=s.SURVEY_GMT=s.SURVEY_END_TIME=s.SURVEY_END_HOUR=s.SURVEY_DATE=void 0;s.SURVEY_DATE="February 28 2024";const n=s.SURVEY_GMT="GMT-0600",r=s.SURVEY_START_HOUR="12:00:00",a=s.SURVEY_END_HOUR="13:00:00";s.SURVEY_START_TIME=`${r} ${n}`,s.SURVEY_END_TIME=`${a} ${n}`}}},{package:"$root$",file:"ui/helpers/constants/survey.ts"}],[6911,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default={ACCOUNT_UPGRADE:"https://support.metamask.io/configure/accounts/what-is-a-smart-account",ADD_CUSTOM_TOKENS:"https://support.metamask.io/managing-my-tokens/custom-tokens/how-to-display-tokens-in-metamask/",ADD_SOLANA_ACCOUNTS:"https://support.metamask.io/configure/accounts/how-to-add-accounts-in-your-wallet/#solana-accounts",ADD_MISSING_ACCOUNTS:"https://support.metamask.io/managing-my-wallet/accounts-and-addresses/how-to-add-missing-accounts-after-restoring-with-secret-recovery-phrase/",BASIC_SAFETY:"https://support.metamask.io/privacy-and-security/basic-safety-and-security-tips-for-metamask/",CUSTOMIZE_NONCE:"https://support.metamask.io/transactions-and-gas/transactions/how-to-customize-a-transaction-nonce/",GAS_FEES:"https://support.metamask.io/transactions-and-gas/gas-fees/",SWAPS_GAS_FEES:"https://support.metamask.io/token-swaps/user-guide-swaps/#gas-fees",HARDWARE_CONNECTION:"https://support.metamask.io/privacy-and-security/hardware-wallet-hub/",IMPORT_ACCOUNTS:"https://support.metamask.io/managing-my-wallet/accounts-and-addresses/how-to-import-an-account/",IMPORTED_ACCOUNTS:"https://support.metamask.io/managing-my-wallet/accounts-and-addresses/what-are-imported-accounts-/",IMPORTED_ACCOUNT_JSON:"https://support.metamask.io/start/how-to-import-an-account/#how-can-i-import-my-private-key-using-a-json-file",IMPORTED_ACCOUNTS_PRIVATE_KEY:"https://support.metamask.io/start/use-an-existing-wallet/#importing-using-a-private-key",INFURA_BLOCKAGE:"https://support.metamask.io/troubleshooting/why-infura-cannot-serve-certain-areas/",LEDGER_FIREFOX_U2F_GUIDE:"https://support.ledger.com/hc/en-us/articles/10371387758493-MetaMask-Firefox-Ledger-Integration-Issue?support=true",LEGACY_WEB3:"https://support.metamask.io/third-party-platforms-and-dapps/metamask-legacy-web3/",PASSWORD_ARTICLE:"https://support.metamask.io/configure/wallet/passwords-and-metamask/",PASSWORD_AND_SRP_ARTICLE:"https://support.metamask.io/getting-started/user-guide-secret-recovery-phrase-password-and-private-keys/",PRIVATE_KEY_GUIDE:"https://support.metamask.io/start/user-guide-secret-recovery-phrase-password-and-private-keys/#private-keys",PASSWORD_RESET:"https://support.metamask.io/configure/wallet/how-can-i-reset-my-password/",RESET_ADD_MISSING_ACCOUNT:"https://support.metamask.io/configure/accounts/how-to-add-missing-accounts-after-restoring-with-secret-recovery-phrase/",RESET_DISPLAY_TOKENS:"https://support.metamask.io/manage-crypto/tokens/how-to-display-tokens-in-metamask/",RESET_IMPORT_AN_ACCOUNT:"https://support.metamask.io/start/how-to-import-an-account/",SECRET_RECOVERY_PHRASE:"https://support.metamask.io/privacy-and-security/what-is-a-secret-recovery-phrase-and-how-to-keep-your-crypto-wallet-secure/",NON_CUSTODIAL_WALLET:"https://support.metamask.io/getting-started/metamask-is-a-self-custodial-wallet/",SPEEDUP_CANCEL:"https://support.metamask.io/transactions-and-gas/transactions/how-to-speed-up-or-cancel-a-pending-transaction/",SUPPORT_URL:"https://support.metamask.io",TOKEN_ALLOWANCE_WITH_SPENDING_CAP:"https://support.metamask.io/privacy-and-security/how-to-customize-token-approvals-with-a-spending-cap/",TOKEN_SAFETY_PRACTICES:"https://support.metamask.io/managing-my-tokens/token-safety-practices/",UNKNOWN_NETWORK:"https://support.metamask.io/networks-and-sidechains/managing-networks/the-risks-of-connecting-to-an-unknown-network/",USER_GUIDE_CUSTOM_NETWORKS:"https://support.metamask.io/networks-and-sidechains/managing-networks/user-guide-custom-networks-and-sidechains/",USER_GUIDE_DAPPS:"https://support.metamask.io/third-party-platforms-and-dapps/user-guide-dapps/",USER_GUIDE_GAS:"https://support.metamask.io/transactions-and-gas/gas-fees/user-guide-gas/",VERIFY_CUSTOM_NETWORK:"https://support.metamask.io/networks-and-sidechains/managing-networks/verifying-custom-network-information/",NETWORK_DEPRECATED:"https://support.metamask.io/networks-and-sidechains/eth-on-testnets/",SOLANA_ACCOUNTS:"https://support.metamask.io/configure/accounts/how-to-add-accounts-in-your-wallet/#solana-accounts"}}}},{package:"$root$",file:"ui/helpers/constants/zendesk-url.js"}],[6912,{"../../constants/routes":6904,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=(n=e("react"))&&n.__esModule?n:{default:n},a=e("react-redux"),o=e("react-router-dom-v5-compat"),i=e("../../constants/routes");s.default=({children:e})=>{const t=(0,o.useLocation)(),s=(0,a.useSelector)(e=>e.metamask.isUnlocked);return(0,a.useSelector)(e=>e.metamask.completedOnboarding)?s?r.default.createElement(r.default.Fragment,null,e):r.default.createElement(o.Navigate,{to:i.UNLOCK_ROUTE,replace:!0,state:{from:t}}):r.default.createElement(o.Navigate,{to:i.ONBOARDING_ROUTE,replace:!0})}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated-v5-compat.tsx"}],[6913,{"../../constants/routes":6904,"prop-types":4893,react:5080,"react-router-dom":5048},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=u;var n=i(e("react")),r=i(e("prop-types")),a=e("react-router-dom"),o=e("../../constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}const c={pathname:o.ONBOARDING_ROUTE};function u(e){const{isUnlocked:t,completedOnboarding:s}=e,r=(0,a.useLocation)();switch(!0){case t&&s:return n.default.createElement(a.Route,e);case!s:return n.default.createElement(a.Redirect,{to:c});default:return n.default.createElement(a.Redirect,{to:{pathname:o.UNLOCK_ROUTE,state:{from:r}}})}}u.propTypes={isUnlocked:r.default.bool,completedOnboarding:r.default.bool,path:r.default.string,component:r.default.elementType,exact:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[6914,{"./authenticated.component":6913,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),a=(n=e("./authenticated.component"))&&n.__esModule?n:{default:n};s.default=(0,r.connect)(e=>{const{metamask:{isUnlocked:t,completedOnboarding:s}}=e;return{isUnlocked:t,completedOnboarding:s}})(a.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[6915,{"prop-types":4893,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=i;var n=o(e("react")),r=o(e("prop-types")),a=e("react-router-dom-v5-compat");function o(e){return e&&e.__esModule?e:{default:e}}function i({flag:e,redirectRoute:t,element:s}){return e?s:n.default.createElement(a.Navigate,{to:t,replace:!0})}i.propTypes={flag:r.default.bool.isRequired,redirectRoute:r.default.string.isRequired,element:r.default.node.isRequired}}}},{package:"$root$",file:"ui/helpers/higher-order-components/feature-toggled-route.js"}],[6916,{"./initialized.container":6919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./initialized.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/index.js"}],[6917,{"../../../ducks/metamask/metamask":6883,"../../constants/routes":6904,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=(n=e("react"))&&n.__esModule?n:{default:n},a=e("react-redux"),o=e("react-router-dom-v5-compat"),i=e("../../../ducks/metamask/metamask"),c=e("../../constants/routes");s.default=({children:e})=>(0,a.useSelector)(i.getCompletedOnboarding)?r.default.createElement(r.default.Fragment,null,e):r.default.createElement(o.Navigate,{to:c.ONBOARDING_ROUTE,replace:!0})}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized-v5-compat.tsx"}],[6918,{"../../constants/routes":6904,"prop-types":4893,react:5080,"react-router-dom":5048},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;var n=o(e("react")),r=o(e("prop-types")),a=e("react-router-dom");function o(e){return e&&e.__esModule?e:{default:e}}const i={pathname:e("../../constants/routes").ONBOARDING_ROUTE};function c(e){return e.completedOnboarding?n.default.createElement(a.Route,e):n.default.createElement(a.Redirect,{to:i})}c.propTypes={completedOnboarding:r.default.bool,path:r.default.string,component:r.default.object,exact:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.component.js"}],[6919,{"./initialized.component":6918,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),a=(n=e("./initialized.component"))&&n.__esModule?n:{default:n};s.default=(0,r.connect)(e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}})(a.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.container.js"}],[6920,{"./with-modal-props":6921},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./with-modal-props"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/index.js"}],[6921,{"../../../store/actions":7916,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){return(0,n.connect)(a,o)(e)};var n=e("react-redux"),r=e("../../../store/actions");const a=e=>{const{appState:t}=e,{props:s}=t.modal.modalState;return{...s}},o=e=>({hideModal:()=>e((0,r.hideModal)())})}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/with-modal-props.js"}],[6922,{react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=(n=e("react"))&&n.__esModule?n:{default:n},a=e("react-router-dom-v5-compat");function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(null,arguments)}s.default=function(e){const t=t=>{const s=(0,a.useNavigate)(),n=(0,a.useLocation)(),i=(0,a.useParams)();return r.default.createElement(e,o({},t,{navigate:s,location:n,params:i}))};return t.displayName=`withRouterHooks(${e.displayName||e.name||"Component"})`,t}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-router-hooks/with-router-hooks.tsx"}],[6923,{"../../../../shared/modules/fetch-with-timeout":5739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){var n;Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;const r=(0,((n=e("../../../../shared/modules/fetch-with-timeout"))&&n.__esModule?n:{default:n}).default)(),a={async getNetworks(){const e=new URL("/regions/networks","https://on-ramp-content.api.cx.metamask.io"),t=await r(e.toString()),{networks:s}=await t.json();return s}};s.default=a}}},{package:"$root$",file:"ui/helpers/ramps/rampApi/rampAPI.ts"}],[6924,{"../../../shared/constants/hardware-wallets":5607,"../../../shared/constants/keyring":5609,"../../../shared/constants/multichain/accounts":5614,"../../../shared/constants/network":5617,"../../../shared/lib/snaps/snaps":5713,"../../../shared/lib/translate":5723,"../../components/component-library":6325,"../constants/design-system":6899,"@metamask/snaps-sdk/jsx":2751,"@metamask/utils":2914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getAccountLabels=function(e,t,s,a){if(!t)return[];const o=[],i=s.filter(e=>e.type===c.KeyringType.hdKeyTree);switch(e){case c.KeyringType.hdKeyTree:if(i.length>1){const e=i.findIndex(e=>e.accounts.includes(t.address));o.push({label:h(e),icon:null})}break;case c.KeyringType.imported:o.push({label:(0,l.t)("imported"),icon:null});break;case c.KeyringType.qr:o.push({label:u.HardwareKeyringNames.qr,icon:null});break;case c.KeyringType.trezor:o.push({label:u.HardwareKeyringNames.trezor,icon:null});break;case c.KeyringType.ledger:o.push({label:u.HardwareKeyringNames.ledger,icon:null});break;case c.KeyringType.oneKey:o.push({label:u.HardwareKeyringNames.oneKey,icon:null});break;case c.KeyringType.lattice:o.push({label:u.HardwareKeyringNames.lattice,icon:null});break;case c.KeyringType.snap:{const{entropySource:e}=t.options;if(e&&i.length>1){const t=i.findIndex(t=>t.metadata.id===e);o.push({label:h(t),icon:null})}if((0,d.isSnapPreinstalled)(t.metadata.snap.id))break;if(a){o.push({label:`${a} (${(0,l.t)("beta")})`,icon:n.IconName.Snaps});break}o.push({label:`${(0,l.t)("snaps")} (${(0,l.t)("beta")})`,icon:n.IconName.Snaps});break}}const{namespace:p}=(0,r.parseCaipChainId)(t.type);p===r.KnownCaipNamespace.Bip122&&o.push({label:`${m.MULTICHAIN_ACCOUNT_TYPE_TO_NAME[t.type]}`,icon:null});return o},s.getAccountNameErrorMessage=function(e,t,s,n){const r=e.some(e=>{var t;return(null===(t=e.metadata)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.toLowerCase())===(null==s?void 0:s.toLowerCase())}),o=!s||""===s,i=t.t("newAccountNumberName").replace(" $1",""),c=new RegExp(`^\\s*${i} \\d+\\s*$`,"iu").test(s||""),u=(null==s?void 0:s.toLowerCase())===(null==n?void 0:n.toLowerCase())||!r&&!c&&!o;let l;u?l=a.InvisibleCharacter:r?l=t.t("accountNameDuplicate"):c?l=t.t("accountNameReserved"):o&&(l=t.t("required"));return{isValidAccountName:u,errorMessage:l}},s.getAvatarNetworkColor=function(e){switch(e){case o.GOERLI_DISPLAY_NAME:return i.BackgroundColor.goerli;case o.LINEA_GOERLI_DISPLAY_NAME:return i.BackgroundColor.lineaGoerli;case o.LINEA_SEPOLIA_DISPLAY_NAME:return i.BackgroundColor.lineaSepolia;case o.SEPOLIA_DISPLAY_NAME:return i.BackgroundColor.sepolia;default:return undefined}};var n=e("@metamask/snaps-sdk/jsx"),r=e("@metamask/utils"),a=e("../../components/component-library"),o=e("../../../shared/constants/network"),i=e("../constants/design-system"),c=e("../../../shared/constants/keyring"),u=e("../../../shared/constants/hardware-wallets"),l=e("../../../shared/lib/translate"),d=e("../../../shared/lib/snaps/snaps"),m=e("../../../shared/constants/multichain/accounts");const h=e=>`SRP #${e+1}`}}},{package:"$root$",file:"ui/helpers/utils/accounts.js"}],[6926,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.camelCaseToCapitalize=function(e=""){return e.replace(/([A-Z])/gu," $1").replace(/^./u,e=>e.toUpperCase())},s.getCurrencySymbol=function(e){const t={EUR:"€",HKD:"$",JPY:"¥",PHP:"₱",RUB:"₽",SGD:"$",USD:"$"};if(t[e.toUpperCase()])return t[e.toUpperCase()];return e.toUpperCase()}}}},{package:"$root$",file:"ui/helpers/utils/common.util.js"}],[6928,{"../../../shared/constants/background-liveness-check":5599,"../../../shared/constants/start-up-errors":5630,"../../../shared/constants/state-corruption":5631,"./display-critical-error":6929,"./state-corruption-html":6951,"@metamask/utils":2914,loglevel:4643},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CriticalStartupErrorHandler=void 0;var n,r=e("@metamask/utils"),a=(n=e("loglevel"))&&n.__esModule?n:{default:n},o=e("../../../shared/constants/state-corruption"),i=e("../../../shared/constants/background-liveness-check"),c=e("../../../shared/constants/start-up-errors"),u=e("./state-corruption-html"),l=e("./display-critical-error");function d(e,t,s){m(e,t),t.set(e,s)}function m(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t){return e.get(f(e,t))}function p(e,t,s){return e.set(f(e,t),s),s}function f(e,t,s){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:s;throw new TypeError("Private element is not present on this object")}var g=new WeakMap,k=new WeakMap,S=new WeakMap,y=new WeakMap,b=new WeakSet,v=new WeakMap;async function T(){const{promise:e,resolve:t}=(0,r.createDeferredPromise)();p(y,this,t);const s=new Promise((e,t)=>{p(S,this,setTimeout(()=>t(new Error("Background connection unresponsive")),1e4))});try{await Promise.race([e,s])}catch(e){await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,e)}finally{clearTimeout(h(S,this))}}s.CriticalStartupErrorHandler=class{constructor(e,t){!function(e,t){m(e,t),t.add(e)}(this,b),d(this,g,void 0),d(this,k,void 0),d(this,S,void 0),d(this,y,void 0),d(this,v,async e=>{if(!(0,r.isObject)(e)||!(0,r.hasProperty)(e,"data"))return;const{data:t}=e;if(!(0,r.isObject)(t)||!(0,r.hasProperty)(t,"method"))return;const{method:s}=t;if(s===i.BACKGROUND_LIVENESS_METHOD)h(y,this)?h(y,this).call(this):await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,new Error("Unreachable error, liveness check not initialized"));else if(s===c.RELOAD_WINDOW)window.location.reload();else if(s===o.METHOD_DISPLAY_STATE_CORRUPTION_ERROR){if(!(0,r.hasProperty)(t,"params")||!(0,r.isObject)(t.params))return void a.default.error("Received state corruption error message without valid params:",e);const{error:s,hasBackup:n,currentLocale:o}=t.params;(0,u.displayStateCorruptionError)(h(k,this),h(g,this),s,n,o)}else if(s===c.DISPLAY_GENERAL_STARTUP_ERROR){if(!(0,r.hasProperty)(t,"params")||!(0,r.isObject)(t.params))return void a.default.error("Received general start up error message without valid params:",e);const{error:s,currentLocale:n}=t.params;await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,s,n)}}),p(g,this,e),p(k,this,t)}install(){h(g,this).onMessage.addListener(h(v,this)),f(b,this,T).call(this)}uninstall(){h(g,this).onMessage.removeListener(h(v,this)),clearTimeout(h(S,this)),h(y,this)&&(h(y,this).call(this),p(y,this,undefined))}}}}},{package:"$root$",file:"ui/helpers/utils/critical-startup-error-handler.ts"}],[6929,{"../../../shared/lib/error-utils":5690,"../../../shared/lib/ui-utils":5725,loglevel:4643,uuid:5554,"webextension-polyfill":5586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CriticalErrorTranslationKey=void 0,s.displayCriticalError=async function(e,t,s,c){const l=await(0,o.maybeGetLocaleContext)(c);e.innerHTML=(0,o.getErrorHtml)(t,s,l,i.SUPPORT_LINK);const d=e.querySelector("#critical-error-button"),m=e.querySelector("#critical-error-checkbox");throw null==d||d.addEventListener("click",async()=>{const e=(null==m?void 0:m.checked)??!1;await async function(e,t){t&&await async function(e){const t=function(){0;return"https://3567c198f8a8412082d32655da2961d0@sentry.io/273505"}();if(!t)return;try{var s,r;const o=(0,a.v4)().replace(/-/gu,""),i={event_id:o,timestamp:Math.floor(Date.now()/1e3),platform:"javascript",level:"error",message:(null==e?void 0:e.message)||"MetaMask extension crash critical error",release:(null===(s=n.default.runtime.getManifest())||void 0===s?void 0:s.version)||"unknown",extra:{error_details:e&&"object"==typeof e?e:{message:String(e)},user_agent:(null===(r=globalThis.navigator)||void 0===r?void 0:r.userAgent)||"unknown"}},c={event_id:o,dsn:t,sent_at:(new Date).toISOString()},l=JSON.stringify(i),d={type:"event",length:l.length},m=`${JSON.stringify(c)}\n${JSON.stringify(d)}\n${l}`,h=u(t);await fetch(h,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:m})}catch(e){console.error("Error sending report to Sentry:",e)}}(e);n.default.runtime.reload()}(s,e)}),r.default.error(s.stack),s},s.extractEnvelopeUrlFromDsn=u;var n=c(e("webextension-polyfill")),r=c(e("loglevel")),a=e("uuid"),o=e("../../../shared/lib/error-utils"),i=e("../../../shared/lib/ui-utils");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){try{const t=new URL(e),s=t.pathname.slice(1),n=t.hostname.split("."),r=n[0];return`https://${r}.${n.slice(1).join(".")}/api/${s}/envelope/`}catch(e){throw new Error("Invalid Sentry DSN format")}}s.CriticalErrorTranslationKey=function(e){return e.TroubleStarting="troubleStarting",e.SomethingIsWrong="somethingIsWrong",e}({})}}},{package:"$root$",file:"ui/helpers/utils/display-critical-error.ts"}],[6930,{buffer:3880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){(function(e){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.ExportableContentType=void 0,s.exportAsFile=async function(t,s,r){if(!n[r])throw new Error(`Unsupported file type: ${r}`);"undefined"!=typeof window&&void 0!==window.showSaveFilePicker&&void 0!==window.Blob?await async function(e,t,s){const r=new window.Blob([t],{contentType:s}),a=n[s],o=await window.showSaveFilePicker({suggestedName:e,types:[{description:e,accept:{[s]:[a]}}]}),i=await o.createWritable();await i.write(r),await i.close()}(t,s,r):function(t,s,n){const r=e.from(s,"utf8").toString("base64"),a=document.createElement("a");a.href=`data:${n};Base64,${r}`,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}(t,s,r)};const t=s.ExportableContentType={JSON:"application/json",TXT:"text/plain"},n={[t.JSON]:".json",[t.TXT]:".txt"}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/helpers/utils/export-utils.js"}],[6932,{"../../../shared/constants/gas":5606,"../../../shared/modules/Numeric":5727,"../../../shared/modules/conversion.utils":5732,"./util":6959,"bignumber.js":3768,lodash:4635},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.addTenPercentAndRound=d,s.editGasModeIsSpeedUpOrCancel=function(e){return e===o.EditGasModes.cancel||e===o.EditGasModes.speedUp},s.formatGasFeeOrFeeRange=function(e,{precision:t=2}={}){if((0,u.isNullish)(e)||Array.isArray(e)&&0===e.length)return null;const s=Array.isArray(e)?e.slice(0,2):[e],n=Array.isArray(t)?t.slice(0,2):(0,r.times)(s.length,(0,r.constant)(t));return`${(0,r.uniq)((0,r.zip)(s,n).map(([e,t])=>t===undefined?e:(0,u.roundToDecimalPlacesRemovingExtraZeroes)(e,t))).join(" - ")} GWEI`},s.gasEstimateGreaterThanGasUsedPlusTenPercent=void 0,s.isMetamaskSuggestedGasEstimate=function(e){return[o.GasRecommendations.high,o.GasRecommendations.medium,o.GasRecommendations.low].includes(e)};var n,r=e("lodash"),a=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},o=e("../../../shared/constants/gas"),i=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("./util");const l=new c.Numeric(1.1,10);function d(e){return e===undefined?undefined:new c.Numeric(e,16).times(l).round(0).toPrefixedHexString()}s.gasEstimateGreaterThanGasUsedPlusTenPercent=(e,t,s)=>{var n;let{maxFeePerGas:r}=e;r=new a.default((0,i.hexWEIToDecGWEI)(d(r)));const o=null==t||null===(n=t[s])||void 0===n?void 0:n.suggestedMaxFeePerGas;return(0,u.bnGreaterThan)(o,r)}}}},{package:"$root$",file:"ui/helpers/utils/gas.js"}],[6933,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isHardwareKeyring=function(e=""){return e.includes("Hardware")}}}},{package:"$root$",file:"ui/helpers/utils/hardware.js"}],[6935,{"../../../shared/modules/hexstring-utils":5741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.IconFactory=void 0,s.default=function(e){o||(o=new a(e));return o};var n=e("../../../shared/modules/hexstring-utils");function r(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class a{constructor(e,t=i){r(this,"jazzicon",void 0),r(this,"generateSeed",void 0),r(this,"cache",void 0),this.jazzicon=e,this.generateSeed=t,this.cache={}}iconForAddress(e,t,s){return function(e,t){if(null==t||!t.iconUrl)return!1;return(0,n.isValidHexAddress)(e,{allowNonPrefixed:!1})}(e,s)?function(e){const t=document.createElement("img");return t.src=e.iconUrl,t.style.width="100%",t}(s):this.generateIdenticonSvg(e,t)}generateIdenticonSvg(e,t){const s=`${e}:${t}`;return(this.cache[s]||(this.cache[s]=this.generateNewIdenticon(e,t))).cloneNode(!0)}generateNewIdenticon(e,t){const s=this.generateSeed(e);return this.jazzicon(t,s)}}let o;function i(e){const t=e.slice(2,10);return parseInt(t,16)}s.IconFactory=a}}},{package:"$root$",file:"ui/helpers/utils/icon-factory.ts"}],[6936,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default=()=>window.matchMedia("screen and (max-width: 575px)").matches}}},{package:"$root$",file:"ui/helpers/utils/is-mobile-view.js"}],[6937,{"../../../shared/constants/network":5617,"../../../shared/constants/time":5635,"../../../shared/lib/fetch-with-cache":5692},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isOriginalNativeTokenSymbol=s.getOriginalNativeTokenSymbol=void 0;var n,r=e("../../../shared/constants/network"),a=(n=e("../../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},o=e("../../../shared/constants/time");const i=async({chainId:e,useAPICall:t=!1})=>{try{var s;const n=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(n)return n;const i=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(null!=i&&i[0].currencySymbol)return i[0].currencySymbol;if(!t)return null;const c=(await(0,a.default)({url:r.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:o.DAY},functionName:"getSafeChainsList"})).find(t=>t.chainId===parseInt(e,16));return(null==c||null===(s=c.nativeCurrency)||void 0===s?void 0:s.symbol)??null}catch(e){return null}};s.getOriginalNativeTokenSymbol=i;s.isOriginalNativeTokenSymbol=async({ticker:e,chainId:t,useAPICall:s=!1})=>{const n=await i({chainId:t,useAPICall:s});return null===n||n===e}}}},{package:"$root$",file:"ui/helpers/utils/isOriginalNativeTokenSymbol.ts"}],[6939,{"../../../shared/lib/manifestFlags":5700,"../../../shared/lib/trace":5718,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.mmLazy=function(e){return a.default.lazy(async()=>{const t=Date.now(),s=await e(),{componentName:n,component:r}=function(e){let t;if(!e.default){const s=Object.keys(e);if(1===s.length)return t=s[0],{componentName:t,component:{default:e[t]}};throw new Error("mmLazy: You cannot lazy-load a component when there are multiple exported components in one file")}t=e.default.WrappedComponent?e.default.WrappedComponent.name:e.default.name||e.default.displayName;return{componentName:t,component:e}}(s);return c&&Math.random()<c&&((0,i.trace)({name:i.TraceName.LazyLoadComponent,data:{componentName:n},startTime:t}),(0,i.endTrace)({name:i.TraceName.LazyLoadComponent})),r})};var n,r,a=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../shared/lib/manifestFlags"),i=e("../../../shared/lib/trace");const c=null===(r=(0,o.getManifestFlags)().sentry)||void 0===r?void 0:r.lazyLoadSubSampleRate}}},{package:"$root$",file:"ui/helpers/utils/mm-lazy.ts"}],[6940,{"../../../../app/scripts/lib/multichain/address":282,"../../../../shared/lib/multichain/networks":5706,"@metamask/utils":2914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getMultichainBlockExplorerUrl=s.getMultichainAccountUrl=void 0;var n=e("@metamask/utils"),r=e("../../../../app/scripts/lib/multichain/address"),a=e("../../../../shared/lib/multichain/networks");s.getMultichainBlockExplorerUrl=e=>{var t;return(null===(t=e.network)||void 0===t||null===(t=t.rpcPrefs)||void 0===t?void 0:t.blockExplorerUrl)??""};s.getMultichainAccountUrl=(e,t)=>{const{namespace:s}=(0,n.parseCaipChainId)(t.chainId);if(s===n.KnownCaipNamespace.Eip155){return`https://etherscan.io/address/${(0,r.normalizeSafeAddress)(e)}#asset-multichain`}const{blockExplorerFormatUrls:o}=t.network;return o?(0,a.formatBlockExplorerAddressUrl)(o,e):""}}}},{package:"$root$",file:"ui/helpers/utils/multichain/blockExplorer.ts"}],[6941,{"../../../../shared/constants/common":5601,"../../../../shared/constants/multichain/networks":5616,"../../../../shared/lib/multichain/networks":5706,"@metamask/utils":2914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getBlockExplorerInfo=void 0;var n=e("@metamask/utils"),r=e("../../../../shared/constants/common"),a=e("../../../../shared/constants/multichain/networks"),o=e("../../../../shared/lib/multichain/networks");s.getBlockExplorerInfo=(e,t,s)=>{const{chainId:i,blockExplorerUrl:c}=s;if(i){if(i===a.MultichainNetworks.BITCOIN||i===a.MultichainNetworks.BITCOIN_TESTNET||i===a.MultichainNetworks.BITCOIN_SIGNET){const s=a.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[i];if(s){const n="Blockstream";return{addressUrl:(0,o.formatBlockExplorerAddressUrl)(s,t),name:n,buttonText:e("viewAddressOnExplorer",[n])}}}if(i===a.MultichainNetworks.SOLANA||i===a.MultichainNetworks.SOLANA_DEVNET||i===a.MultichainNetworks.SOLANA_TESTNET){const s=a.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[i];if(s){const n="Solscan";return{addressUrl:(0,o.formatBlockExplorerAddressUrl)(s,t),name:n,buttonText:e("viewAddressOnExplorer",[n])}}}}if(null!=i&&i.startsWith(n.KnownCaipNamespace.Eip155)){const s=`0x${parseInt(i.split(":")[1],10).toString(16)}`;if(c){const n=r.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[s]||"Block Explorer";return{addressUrl:`${c}/address/${t}`,name:n,buttonText:e("viewAddressOnExplorer",[n])}}const n=r.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[s];if(n){var u;const a=null===(u=r.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[s])||void 0===u?void 0:u.replace(/\/$/u,"");if(a)return{addressUrl:`${a}/address/${t}`,name:n,buttonText:e("viewAddressOnExplorer",[n])}}}return null}}}},{package:"$root$",file:"ui/helpers/utils/multichain/getBlockExplorerInfo.ts"}],[6942,{"../../../shared/constants/network":5617,"../../../shared/modules/network.utils":5745,"@metamask/multichain-network-controller":2207,"@metamask/utils":2914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isTestNetwork=s.getMatchedSymbols=s.getMatchedNames=s.getMatchedChain=void 0;var n=e("@metamask/multichain-network-controller"),r=e("@metamask/utils"),a=e("../../../shared/constants/network"),o=e("../../../shared/modules/network.utils");s.getMatchedChain=(e,t)=>t.find(t=>t.chainId.toString()===e);s.getMatchedSymbols=(e,t)=>t.reduce((t,s)=>{var n;s.chainId.toString()===e&&t.push(null===(n=s.nativeCurrency)||void 0===n?void 0:n.symbol);return t},[]);s.getMatchedNames=(e,t)=>t.reduce((t,s)=>(s.chainId.toString()===e&&t.push(null==s?void 0:s.name),t),[]);s.isTestNetwork=e=>(0,r.isCaipChainId)(e)?e.startsWith("eip155:")?a.TEST_CHAINS.includes((0,o.convertCaipToHexChainId)(e)):n.NON_EVM_TESTNET_IDS.includes(e):a.TEST_CHAINS.includes(e)}}},{package:"$root$",file:"ui/helpers/utils/network-helper.ts"}],[6943,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.nftTruncateAltText=s.getNftImageAlt=s.getNftImage=void 0;const n=(e,t)=>{if(e.length<=t)return e;const s=e.substring(0,t),n=s.lastIndexOf(" ");return n>0?`${s.substring(0,n)}...`:`${s}...`};s.nftTruncateAltText=n;s.getNftImageAlt=({name:e,tokenId:t,description:s})=>{if(!e&&!t&&!s)return"";const r=s??`${e??""} ${t??""}`.trim();return n(r,100)};s.getNftImage=e=>"string"==typeof e?e:Array.isArray(e)?e[0]:undefined}}},{package:"$root$",file:"ui/helpers/utils/nfts.ts"}],[6944,{"../../../shared/constants/network":5617,"../../../shared/lib/transactions-controller-utils":5720,"../../../shared/modules/conversion.utils":5732,"@ethersproject/providers":759,"@metamask/notification-services-controller/notification-services/ui":2264,"bignumber.js":3768},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.formatAmount=s.createTextItems=void 0,s.formatIsoDateString=function(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},s.formatMenuItemDate=function(e){const t=new Date;if(u(t,e))return new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",hour12:!1}).format(e);if(l(t,e))return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-1,"day");if(d(t,e))return new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(e)},s.getLeadingZeroCount=s.getAmount=void 0,s.getNetworkDetailsByChainId=function(e){const t=e.toString(),s=`0x${(0,c.decimalToHex)(e)}`;if(Object.values(a.NOTIFICATION_CHAINS_ID).includes(t)){const e=t;return{nativeCurrencyName:a.NOTIFICATION_NETWORK_CURRENCY_NAME[e]??"",nativeCurrencySymbol:a.NOTIFICATION_NETWORK_CURRENCY_SYMBOL[e]??"",nativeCurrencyLogo:o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[s],blockExplorerConfig:a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[e]}}return{nativeCurrencyName:o.NETWORK_TO_NAME_MAP[s]??"",nativeCurrencySymbol:o.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[s]??"",nativeCurrencyLogo:o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[s],blockExplorerConfig:a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[t]}},s.getRandomKey=s.getNetworkNameByChainId=s.getNetworkFees=void 0,s.getRpcUrlByChainId=f,s.getUsdAmount=void 0,s.hasNetworkFeeFields=g,s.isIpfsURL=void 0;var n=e("bignumber.js"),r=e("@ethersproject/providers"),a=e("@metamask/notification-services-controller/notification-services/ui"),o=e("../../../shared/constants/network"),i=e("../../../shared/lib/transactions-controller-utils"),c=e("../../../shared/modules/conversion.utils");const u=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),l=(e,t)=>{const s=new Date(e);return s.setDate(e.getDate()-1),u(s,t)},d=(e,t)=>e.getFullYear()===t.getFullYear();const m={decimalPlaces:4},h=e=>{var t;return(null===(t=(new n.BigNumber(e,10).toString(10).split(".")[1]??"").match(/^0*/u))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length)||0};s.getLeadingZeroCount=h;const p=(e,t)=>{const s={...m,...t},n=h(e),r=e.toString().includes(".")||n>0||e.toString().includes("e-");if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(r){const t=(a=s.decimalPlaces,Boolean(null==s?void 0:s.shouldEllipse)&&n>=a),r=Intl.NumberFormat("en-US",{minimumFractionDigits:t?s.decimalPlaces:undefined,maximumFractionDigits:s.decimalPlaces}).format(e);return t?`${r}...`:r}var a;return e.toString()};s.formatAmount=p;s.getRandomKey=(e,t)=>`${e.replace(/\s+/gu,"_").replace(/[^\w-]/gu,"")}-${t}-${Math.random().toString(36).substring(2,15)}`;s.createTextItems=(e,t)=>({items:e.map((e,t)=>({text:e,highlighted:t%2==1})),variant:t});s.getAmount=(e,t,s)=>{if(!e||!t)return"";const n=(0,i.calcTokenAmount)(e,parseFloat(t)).toNumber();return p(n,s)};s.getUsdAmount=(e,t,s)=>{if(!e||!t||!s)return"";const n=(0,i.calcTokenAmount)(e,parseFloat(t)).toNumber(),r=parseFloat(`${n}`)*parseFloat(s);return p(r)};function f(e){const t=o.FEATURED_RPCS.find(t=>t.chainId===e);if(t)return t.rpcEndpoints[0].url;switch(e){case o.CHAIN_IDS.MAINNET:return o.MAINNET_RPC_URL;case o.CHAIN_IDS.GOERLI:return o.GOERLI_RPC_URL;case o.CHAIN_IDS.SEPOLIA:return o.SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_GOERLI:return o.LINEA_GOERLI_RPC_URL;case o.CHAIN_IDS.LINEA_SEPOLIA:return o.LINEA_SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_MAINNET:return o.LINEA_MAINNET_RPC_URL;case o.CHAIN_IDS.LOCALHOST:return o.LOCALHOST_RPC_URL;default:return o.MAINNET_RPC_URL}}function g(e){return"network_fee"in e.payload.data}s.getNetworkNameByChainId=e=>o.NETWORK_TO_NAME_MAP[e];s.getNetworkFees=async e=>{if(!g(e))throw new Error("Invalid notification type");const t=(0,c.decimalToHex)(e.payload.chain_id),s={url:f(`0x${t}`),headers:{"Infura-Source":"metamask/metamask"}},n=new r.JsonRpcProvider(s);if(!n)throw new Error(`No provider found for chainId ${t}`);try{const[t,s,r]=await Promise.all([n.getTransactionReceipt(e.payload.tx_hash),n.getTransaction(e.payload.tx_hash),n.getBlock(e.payload.block_number)]),a=(t,s)=>p(parseFloat(t)*parseFloat(e.payload.data.network_fee.native_token_price_in_usd),{decimalPlaces:s??4}),o=(0,c.hexWEIToDecETH)(t.gasUsed.mul(t.effectiveGasPrice)._hex),i=a(o),u=s.gasLimit.toNumber(),l=t.gasUsed.toNumber(),d=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(r.baseFeePerGas._hex):null,m=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(t.effectiveGasPrice.sub(r.baseFeePerGas)._hex):null;return{transactionFeeInEth:o,transactionFeeInUsd:i,gasLimit:u,gasUsed:l,baseFee:d,priorityFee:m,maxFeePerGas:s.maxFeePerGas?(0,c.hexWEIToDecGWEI)(s.maxFeePerGas._hex):null}}catch(e){throw new Error(`Error fetching network fees for chainId ${t}: ${e}`)}};s.isIpfsURL=e=>e.startsWith("ipfs://")}}},{package:"$root$",file:"ui/helpers/utils/notification.util.ts"}],[6945,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isZeroAmount=function(e){if(null===e||e===undefined)return!0;if("number"==typeof e)return 0===e;const t=e.replace(/\D+/gu,"").trim();return/^0*$/u.test(t)}}}},{package:"$root$",file:"ui/helpers/utils/number-utils.ts"}],[6946,{"../../../app/scripts/controllers/permissions":224,"../../../shared/constants/permissions":5621,"../../components/component-library":6325,"../constants/design-system":6899,"./util":6959,"@metamask/chain-agnostic-permission":1359,"@metamask/controller-utils":1383,"@metamask/snaps-rpc-methods":2611,"@metamask/snaps-utils":2781,"deep-freeze-strict":4032,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getPermissionDescription=void 0,s.getWeightedPermissions=function({t:e,isRequestApprovalPermittedChains:t,permissions:s,getSubjectName:n,subjectName:r}){return Object.entries(s).reduce((s,[a,o])=>s.concat(y({t:e,isRequestApprovalPermittedChains:t,permissionName:a,permissionValue:o,subjectName:r,getSubjectName:n})),[]).sort((e,t)=>e.weight-t.weight)};var n=p(e("deep-freeze-strict")),r=p(e("react")),a=e("@metamask/snaps-rpc-methods"),o=e("@metamask/snaps-utils"),i=e("@metamask/controller-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../shared/constants/permissions"),l=e("../../components/component-library"),d=e("../constants/design-system"),m=e("../../../app/scripts/controllers/permissions"),h=e("./util");function p(e){return e&&e.__esModule?e:{default:e}}const f=Symbol("unknown"),g=r.default.createElement(l.Icon,{name:l.IconName.Info,size:l.IconSize.Sm,color:d.IconColor.iconMuted});function k(e){return r.default.createElement(l.Text,{fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},e)}const S=(0,n.default)({[c.Caip25EndowmentPermissionName]:({t:e,isRequestApprovalPermittedChains:t})=>t?{label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}:{label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts},[u.RestrictedMethods.eth_accounts]:({t:e})=>({label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts}),[m.PermissionNames.permittedChains]:({t:e})=>({label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}),[u.RestrictedMethods.snap_dialog]:({t:e,subjectName:t})=>({label:e("permission_dialog"),description:e("permission_dialogDescription",[k(t)]),leftIcon:l.IconName.Messages,weight:u.PermissionWeight.snap_dialog}),[u.RestrictedMethods.snap_notify]:({t:e,subjectName:t})=>({label:e("permission_notifications"),description:e("permission_notificationsDescription",[k(t)]),leftIcon:l.IconName.Notification,weight:u.PermissionWeight.snap_notify}),[u.RestrictedMethods.snap_getBip32PublicKey]:({t:e,permissionValue:t,subjectName:s})=>t.caveats[0].value.map(({path:t,curve:n},a)=>{var i;const c={leftIcon:l.IconName.SecuritySearch,weight:u.PermissionWeight.snap_getBip32PublicKey,id:`public-key-access-bip32-${null===(i=t.join("-"))||void 0===i?void 0:i.replace(/'/gu,"h")}-${n}-${a}`,warningMessageSubject:(0,o.getSnapDerivationPathName)(t,n)??`${e("unknownNetworkForKeyEntropy")}  ${t.join("/")} (${n})`},m=(0,o.getSnapDerivationPathName)(t,n);return m?{...c,label:e("permission_viewNamedBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},m)]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},m),k(s)])}:{...c,label:e("permission_viewBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} `," ",t.join("/")),n]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},t.join("/")),k(s)])}}),[u.RestrictedMethods.snap_getBip32Entropy]:({t:e,permissionValue:t,subjectName:s})=>t.caveats[0].value.map(({path:t,curve:n},a)=>{var i;const c={leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip32Entropy,id:`key-access-bip32-${null===(i=t.join("-"))||void 0===i?void 0:i.replace(/'/gu,"h")}-${n}-${a}`,warningMessageSubject:(0,o.getSnapDerivationPathName)(t,n)??`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${n})`},m=(0,o.getSnapDerivationPathName)(t,n);return m?{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},m)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(s)])}:{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${n})`)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(s)])}}),[u.RestrictedMethods.snap_getBip44Entropy]:({t:e,permissionValue:t,subjectName:s})=>t.caveats[0].value.map(({coinType:t},n)=>({label:e("permission_manageBip44Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`coin-type-${t}`},(0,o.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(s)]),leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip44Entropy,id:`key-access-bip44-${t}-${n}`,warningMessageSubject:(0,o.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`})),[u.RestrictedMethods.snap_getEntropy]:({t:e,subjectName:t})=>({label:e("permission_getEntropy",[k(t)]),description:e("permission_getEntropyDescription",[k(t)]),leftIcon:l.IconName.SecurityKey,weight:u.PermissionWeight.snap_getEntropy}),[u.RestrictedMethods.snap_manageState]:({t:e,subjectName:t})=>({label:e("permission_manageState"),description:e("permission_manageStateDescription",[k(t)]),leftIcon:l.IconName.AddSquare,weight:u.PermissionWeight.snap_manageState}),[u.RestrictedMethods.snap_getLocale]:({t:e,subjectName:t})=>({label:e("permission_getLocale"),description:e("permission_getLocaleDescription",[k(t)]),leftIcon:l.IconName.Global,weight:u.PermissionWeight.snap_getLocale}),[u.RestrictedMethods.snap_getPreferences]:({t:e,subjectName:t})=>({label:e("permission_getPreferences"),description:e("permission_getPreferencesDescription",[k(t)]),leftIcon:l.IconName.Customize,weight:4}),[u.RestrictedMethods.wallet_snap]:({t:e,permissionValue:t,getSubjectName:s})=>{const n=t.caveats[0].value,a={leftIcon:l.IconName.Flash,rightIcon:g,weight:u.PermissionWeight.wallet_snap};return Object.keys(n).map(t=>{const n=s(t);return n?{...a,label:e("permission_accessNamedSnap",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t},n)]),description:e("permission_accessSnapDescription",[n])}:{...a,label:e("permission_accessSnap",[t]),description:e("permission_accessSnapDescription",[t])}})},[u.EndowmentPermissions["endowment:network-access"]]:({t:e,subjectName:t})=>({label:e("permission_accessNetwork"),description:e("permission_accessNetworkDescription",[k(t)]),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.endowment_networkAccess}),[u.EndowmentPermissions["endowment:webassembly"]]:({t:e,subjectName:t})=>({label:e("permission_webAssembly"),description:e("permission_webAssemblyDescription",[k(t)]),leftIcon:l.IconName.DocumentCode,rightIcon:null,weight:u.PermissionWeight.endowment_webassembly}),[u.EndowmentPermissions["endowment:transaction-insight"]]:({t:e,permissionValue:t,subjectName:s})=>{const n={leftIcon:l.IconName.Speedometer,weight:u.PermissionWeight.endowment_transactionInsight},r=[{...n,label:e("permission_transactionInsight"),description:e("permission_transactionInsightDescription",[k(s)])}];return(0,i.isNonEmptyArray)(t.caveats)&&t.caveats[0].type===o.SnapCaveatType.TransactionOrigin&&t.caveats[0].value&&r.push({...n,label:e("permission_transactionInsightOrigin"),description:e("permission_transactionInsightOriginDescription",[k(s)]),leftIcon:l.IconName.Explore}),r},[u.EndowmentPermissions["endowment:cronjob"]]:({t:e,subjectName:t})=>({label:e("permission_cronjob"),description:e("permission_cronjobDescription",[k(t)]),leftIcon:l.IconName.Clock,weight:u.PermissionWeight.endowment_cronjob}),[u.EndowmentPermissions["endowment:ethereum-provider"]]:({t:e,subjectName:t})=>({label:e("permission_ethereumProvider"),description:e("permission_ethereumProviderDescription",[k(t)]),leftIcon:l.IconName.Ethereum,weight:u.PermissionWeight.endowment_ethereumProvider,id:"ethereum-provider-access",message:e("ethereumProviderAccess",[k(t)])}),[u.EndowmentPermissions["endowment:rpc"]]:({t:e,permissionValue:t,subjectName:s})=>{const n={leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_rpc},{snaps:o,dapps:i,allowedOrigins:c}=(0,a.getRpcCaveatOrigins)(t),m=[];if(o&&m.push({...n,label:e("permission_rpc",[e("otherSnaps"),k(s)]),description:e("permission_rpcDescription",[e("otherSnaps"),k(s)])}),i&&m.push({...n,label:e("permission_rpc",[e("websites"),k(s)]),description:e("permission_rpcDescription",[e("websites"),k(s)])}),(null==c?void 0:c.length)>0){let t;if(1===c.length)t=r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},c[0]);else{const s=c.slice(-1);t=e("permission_rpcDescriptionOriginList",[c.slice(0,-1).map(e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},e),", ")),r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:"2",style:{lineBreak:"anywhere"}},s)])}m.push({...n,label:e("permission_rpc",[t,k(s)]),description:e("permission_rpcDescription",[t,k(s)])})}return m},[u.EndowmentPermissions["endowment:lifecycle-hooks"]]:({t:e,subjectName:t})=>({label:e("permission_lifecycleHooks"),description:e("permission_lifecycleHooksDescription",[k(t)]),leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_lifecycleHooks}),[u.EndowmentPermissions["endowment:page-home"]]:({t:e,subjectName:t})=>({label:e("permission_homePage"),description:e("permission_homePageDescription",[k(t)]),leftIcon:l.IconName.Home,weight:u.PermissionWeight.endowment_pageHome}),[u.RestrictedMethods.snap_manageAccounts]:({t:e,subjectName:t})=>({label:e("permission_manageAccounts"),description:e("permission_manageAccountsDescription",[k(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.snap_manageAccounts}),[u.EndowmentPermissions["endowment:keyring"]]:({t:e,subjectName:t})=>({label:e("permission_keyring"),description:e("permission_keyringDescription",[k(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.endowment_keyring}),[u.EndowmentPermissions["endowment:name-lookup"]]:({t:e})=>({label:e("permission_nameLookup"),description:e("permission_nameLookupDescription"),leftIcon:l.IconName.Search,weight:u.PermissionWeight.endowment_nameLookup}),[u.EndowmentPermissions["endowment:assets"]]:({t:e,subjectName:t})=>({label:e("permission_assets"),description:e("permission_assetsDescription",[k(t)]),leftIcon:l.IconName.Coin,weight:u.PermissionWeight.endowment_assets}),[u.EndowmentPermissions["endowment:protocol"]]:({t:e,subjectName:t})=>({label:e("permission_protocol"),description:e("permission_protocolDescription",[k(t)]),leftIcon:l.IconName.GlobalSearch,weight:u.PermissionWeight.endowment_protocol}),[u.EndowmentPermissions["endowment:signature-insight"]]:({t:e,permissionValue:t,subjectName:s})=>{const n={leftIcon:l.IconName.Warning,weight:u.PermissionWeight.endowment_signatureInsight},r=[{...n,label:e("permission_signatureInsight"),description:e("permission_signatureInsightDescription",[k(s)])}];return(0,i.isNonEmptyArray)(t.caveats)&&t.caveats.find(e=>e.type===o.SnapCaveatType.SignatureOrigin&&e.value)&&r.push({...n,label:e("permission_signatureInsightOrigin"),description:e("permission_signatureInsightOriginDescription",[k(s)]),leftIcon:l.IconName.Explore}),r},[u.ConnectionPermission.connection_permission]:({t:e,permissionValue:t,subjectName:s})=>Object.keys(t).map(t=>{let n=(0,h.getURLHost)(t);return n||(n=t.replace("npm:","")),{label:e("snapConnectTo",[r.default.createElement(l.Text,{key:"connectToMain",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit,style:{lineBreak:"anywhere"}},n)]),description:e("snapConnectionPermissionDescription",[k(s),r.default.createElement(l.Text,{key:"connectToDescription",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},n)]),leftIcon:undefined,connection:t,connectionName:n,subjectName:s,weight:u.PermissionWeight.connection_permission}}),[f]:({t:e,permissionName:t})=>({label:e("permission_unknown",[t??"undefined"]),leftIcon:l.IconName.Question,rightIcon:null,weight:u.PermissionWeight.unknown_permission})}),y=({t:e,isRequestApprovalPermittedChains:t,permissionName:s,permissionValue:n,subjectName:r,getSubjectName:a})=>{let o=S[f];Object.hasOwnProperty.call(S,s)&&(o=S[s]);const i=o({t:e,isRequestApprovalPermittedChains:t,permissionName:s,permissionValue:n,subjectName:r,getSubjectName:a});return Array.isArray(i)?i.map(e=>({...e,permissionName:s,permissionValue:n})):[{...i,permissionName:s,permissionValue:n}]};s.getPermissionDescription=y}}},{package:"$root$",file:"ui/helpers/utils/permission.js"}],[6947,{"../../../shared/constants/permissions":5621,"@metamask/keyring-api":2100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.containsEthPermissionsAndNonEvmAccount=void 0;var n=e("@metamask/keyring-api"),r=e("../../../shared/constants/permissions");s.containsEthPermissionsAndNonEvmAccount=(e,t)=>{const s=Object.keys(r.RestrictedEthMethods),a=Object.keys(t).some(e=>s.includes(e)),o=e.some(e=>!(0,n.isEvmAccountType)(e.type));return a&&o}}}},{package:"$root$",file:"ui/helpers/utils/permissions.ts"}],[6948,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getPortfolioUrl=function(e="",t="",s="",n=!1,r=!1,a,o){const i=new URL(e,"https://app.metamask.io");i.searchParams.append("metamaskEntry",t),i.searchParams.append("metametricsId",s),i.searchParams.append("metricsEnabled",String(n)),i.searchParams.append("marketingEnabled",String(r)),a&&i.searchParams.append("accountAddress",a);o&&i.searchParams.append("tab",o);return i.href}}}},{package:"$root$",file:"ui/helpers/utils/portfolio.js"}],[6949,{"../../../shared/modules/environment":5736,"../constants/settings":6905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.colorText=l,s.escapeRegExp=void 0,s.getNumberOfSettingRoutesInTab=function(e,t){return u(e,t).length},s.getSettingsRoutes=c,s.getSpecificSettingsRoute=function(e,t,s){return c().find(n=>n.tabMessage(e)===t&&n.sectionMessage(e)===s)},s.handleSettingsRefs=function(e,t,s){const n=u(e,t),r=n.findIndex(e=>e.route.substring(1)===window.location.hash.substring(1));if(-1===r)return;const a=1===n.length?s:s[r];if(null!=a&&a.current){a.current.scrollIntoView({behavior:"smooth"}),a.current.focus();const e=window.location.hash.split("#")[1];window.location.hash=e}},s.highlightSearchedText=function(){const e=document.getElementById("search-settings"),t=new RegExp(d(e.value),"gi");[...document.querySelectorAll(".settings-page__header__search__list__item")].forEach(e=>{const s=e.querySelector(".settings-page__header__search__list__item__tab"),n=e.querySelector(".settings-page__header__search__list__item__section");l(s,t),l(n,t)})};var n,r=(n=e("../constants/settings"))&&n.__esModule?n:{default:n},a=e("../../../shared/modules/environment");let o;const i={METAMASK_SHIELD_ENABLED:a.getIsMetaMaskShieldFeatureEnabled,ENABLE_SETTINGS_PAGE_DEV_OPTIONS:a.getIsSettingsPageDevOptionsEnabled};function c(){return o||(o=r.default.filter(e=>(!e.featureFlag||function(e){const t=i[e];return t?t():(console.warn(`Unknown feature flag: ${e}`),!1)}(e.featureFlag))&&!e.hidden),o)}function u(e,t){return c().filter(s=>s.tabMessage(e)===t)}function l(e,t){if(null!==e){let s=e.innerHTML;s=s.replace("&amp;","&"),s=s.replace(/(<span class="settings-page__header__search__list__item__highlight">|<\/span>)/gim,""),e.innerHTML=s.replace(t,'<span class="settings-page__header__search__list__item__highlight">$&</span>')}}const d=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");s.escapeRegExp=d}}},{package:"$root$",file:"ui/helpers/utils/settings-search.js"}],[6951,{"../../../shared/constants/state-corruption":5631,"../../../shared/lib/error-utils":5690,"../../../shared/lib/get-first-preferred-lang-code":5698,"../../../shared/lib/switch-direction":5716,"../../../shared/lib/translate":5723,"../../../shared/lib/ui-utils":5725,lodash:4635,loglevel:4643},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.displayStateCorruptionError=async function(e,t,s,r,o){n.default.error(s);const i=await m(a.VAULT_RECOVERY_LINK,r,o,a.SUPPORT_LINK);e.innerHTML=i;const c=e.querySelector("#critical-error-button");c&&(c.addEventListener("click",function e(){confirm((0,l.t)("stateCorruptionAreYouSure")??"")&&(this.removeEventListener("click",e),this.disabled=!0,this.innerText=r?(0,l.t)("stateCorruptionRestoringDatabase")??"":(0,l.t)("stateCorruptionResettingDatabase")??"",t.postMessage({data:{method:u.METHOD_REPAIR_DATABASE}}))}),setTimeout(()=>{c.disabled=!1},5e3))},s.getStateCorruptionErrorHtml=m;var n=d(e("loglevel")),r=e("lodash"),a=e("../../../shared/lib/ui-utils"),o=e("../../../shared/lib/error-utils"),i=e("../../../shared/lib/switch-direction"),c=d(e("../../../shared/lib/get-first-preferred-lang-code")),u=e("../../../shared/constants/state-corruption"),l=e("../../../shared/lib/translate");function d(e){return e&&e.__esModule?e:{default:e}}async function m(e,t,s,n){let a;s?(a=s,await(0,l.updateCurrentLocale)(s)):(a=await(0,c.default)(),await(0,l.updateCurrentLocale)(a)),(0,i.switchDirectionForPreferredLocale)(a);const u=`<a href="${(0,r.escape)(e)}" title="${(0,r.escape)((0,l.t)("stateCorruptionTheseInstructionsLinkTitle")??"")}" class="critical-error__link" target="_blank" rel="noopener noreferrer">${(0,r.escape)((0,l.t)("stateCorruptionTheseInstructions")??"")}</a>`;let d,m,h;t?(d=(0,l.t)("stateCorruptionDetectedWithBackup")??"",m=(0,l.t)("stateCorruptionCopyAndRestoreBeforeRecovery",u)??"",h=(0,l.t)("stateCorruptionRestoreAccountsFromBackup")??""):(d=(0,l.t)("stateCorruptionDetectedNoBackup")??"",m=(0,l.t)("stateCorruptionCopyAndRestoreBeforeReset",u)??"",h=(0,l.t)("stateCorruptionResetMetaMaskState")??"");const p=`\n    <h1>${(0,l.t)("stateCorruptionMetamaskDatabaseCannotBeAccessed")}</h1>\n  `,f=`\n    <p>${(0,r.escape)(d)}</p>\n    <p>${m}</p>\n    <button disabled id="critical-error-button" class="critical-error__button-restore button btn-primary">\n      ${h}\n    </button>\n  `,g=n?`<p class="critical-error__footer small">${(0,r.escape)((0,l.t)("unexpectedBehavior")??"")} <a\n        href="${(0,r.escape)(n)}"\n        class="critical-error__link"\n        target="_blank"\n        rel="noopener noreferrer">\n          ${(0,r.escape)((0,l.t)("sendBugReport")??"")}\n      </a>\n    </p>`:"";return(0,o.getErrorHtmlBase)(`\n    ${p}\n    ${f}\n    ${g}\n  `)}}}},{package:"$root$",file:"ui/helpers/utils/state-corruption-html.ts"}],[6952,{"../../../app/scripts/lib/util":353,"../../ducks/metamask/metamask":6883,"../../selectors":7886,"../../selectors/metamask-notifications/metamask-notifications":7887,"../../selectors/nft":7898},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getStartupTraceTags=function(e){var t;const s=(0,n.getEnvironmentType)(),c=(0,r.getIsUnlocked)(e),u=(0,a.getInternalAccounts)(e).length,l=(0,i.selectAllNftsFlat)(e).length,d=(0,o.getMetamaskNotifications)(e).length,m=(0,a.selectAllTokensFlat)(e).length,h=(0,a.getTransactions)(e).length,p=(0,a.getPendingApprovals)(e),f=null==p||null===(t=p[0])||void 0===t?void 0:t.type;return{"wallet.account_count":u,"wallet.nft_count":l,"wallet.notification_count":d,"wallet.pending_approval":f,"wallet.token_count":m,"wallet.transaction_count":h,"wallet.unlocked":c,"wallet.ui_type":s}};var n=e("../../../app/scripts/lib/util"),r=e("../../ducks/metamask/metamask"),a=e("../../selectors"),o=e("../../selectors/metamask-notifications/metamask-notifications"),i=e("../../selectors/nft")}}},{package:"$root$",file:"ui/helpers/utils/tags.ts"}],[6954,{"../../../shared/modules/hexstring-utils":5741,"@metamask/bridge-controller":1304,"@metamask/design-system-react":1741,"@metamask/utils":2914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.shouldShowContractAddress=s.isNativeAddress=s.getPriceChangeColor=s.formatPercentage=s.formatContractAddress=s.formatCompactCurrency=void 0;var n=e("@metamask/utils"),r=e("@metamask/bridge-controller"),a=e("@metamask/design-system-react"),o=e("../../../shared/modules/hexstring-utils");const i=e=>{if(!e)return!1;if((0,r.isNativeAddress)(e))return!0;const t=e.toLowerCase();return["0","0x0","0x","0x0000000000000000000000000000000000000000"].includes(t)};s.isNativeAddress=i;s.formatPercentage=e=>{if(e===undefined||null===e)return"—";return`${e>0?"+":""}${e.toFixed(2)}%`};s.formatCompactCurrency=(e,t,s="en-US")=>{if(!e)return"—";return new Intl.NumberFormat(s,{style:"currency",currency:t,notation:"compact",maximumFractionDigits:2}).format(e)};s.formatContractAddress=e=>{if(!e)return"";if((0,n.isCaipAssetType)(e)){const{assetReference:t}=(0,n.parseCaipAssetType)(e);return(0,n.isStrictHexString)(t)?(0,o.toChecksumHexAddress)(t):t}return(0,n.isStrictHexString)(e)?(0,o.toChecksumHexAddress)(e):e};s.getPriceChangeColor=e=>e>0?a.TextColor.SuccessDefault:e<0?a.TextColor.ErrorDefault:a.TextColor.TextDefault;s.shouldShowContractAddress=e=>{if(!e)return!1;if(i(e))return!1;const t=e.toLowerCase();return!["0","0x0","0x"].includes(t)}}}},{package:"$root$",file:"ui/helpers/utils/token-insights.ts"}],[6957,{"../../components/component-library":6325,"../../hooks/useTrustSignals":7090,"../constants/design-system":6899},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getTrustSignalIcon=function(e){if(!e)return null;switch(e){case a.TrustSignalDisplayState.Malicious:return{name:n.IconName.Danger,color:r.IconColor.errorDefault};case a.TrustSignalDisplayState.Verified:return{name:n.IconName.VerifiedFilled,color:r.IconColor.infoDefault};case a.TrustSignalDisplayState.Warning:return null;case a.TrustSignalDisplayState.Unknown:return{name:n.IconName.Question,color:undefined};case a.TrustSignalDisplayState.Petname:case a.TrustSignalDisplayState.Recognized:return null;default:return{name:n.IconName.Question,color:undefined}}};var n=e("../../components/component-library"),r=e("../constants/design-system"),a=e("../../hooks/useTrustSignals")}}},{package:"$root$",file:"ui/helpers/utils/trust-signals.ts"}],[6960,{"../../../app/scripts/lib/util":353,"../../../shared/constants/app":5598,"../../../shared/modules/browser-runtime.utils":5729},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("../../../shared/constants/app"),r=e("../../../app/scripts/lib/util"),a=e("../../../shared/modules/browser-runtime.utils");s.default=class{static async checkStatus(){const e=(0,r.getEnvironmentType)()===n.ENVIRONMENT_TYPE_POPUP,t=(0,a.getBrowserName)()===(n.PLATFORM_FIREFOX||n.PLATFORM_BRAVE),s=(await window.navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind),o=s.length>0,i=s.some(e=>e.label&&e.label.length>0);if(o){let s=!0;return(t&&e||e&&!i)&&(s=!1),{permissions:i,environmentReady:s}}const c=new Error("No webcam found");throw c.type="NO_WEBCAM_FOUND",c}}}}},{package:"$root$",file:"ui/helpers/utils/webcam-utils.js"}],[6961,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.openWindow=void 0;s.openWindow=(e,t)=>{window.open(e,t||"_blank","noopener")}}}},{package:"$root$",file:"ui/helpers/utils/window.ts"}],[6962,{"../../../shared/constants/multichain/networks":5616,"../../selectors":7886,"./useMultichainWalletSnapClient":6964,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountCreationOnNetworkChange=void 0;var n=e("react-redux"),r=e("../../../shared/constants/multichain/networks"),a=e("../../selectors"),o=e("./useMultichainWalletSnapClient");s.useAccountCreationOnNetworkChange=()=>{const e=(0,o.useMultichainWalletSnapClient)(o.WalletClientType.Bitcoin),t=(0,o.useMultichainWalletSnapClient)(o.WalletClientType.Solana),s=(0,n.useSelector)(a.getMetaMaskAccountsOrdered);return{createAccount:async s=>{switch(s){case r.MultichainNetworks.BITCOIN:await e.createAccount({scope:r.MultichainNetworks.BITCOIN});break;case r.MultichainNetworks.SOLANA:await t.createAccount({scope:r.MultichainNetworks.SOLANA});break;default:throw new Error(`Unsupported chainId: ${s}`)}},hasAnyAccountsInNetwork:e=>s.some(({scopes:t})=>t.includes(e))}}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountCreationOnNetworkChange.ts"}],[6963,{"../../store/actions":7916,"../useI18nContext":7047,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountsOperationsLoadingStates=void 0;var n=e("react-redux"),r=e("react"),a=e("../useI18nContext"),o=e("../../store/actions");s.useAccountsOperationsLoadingStates=()=>{const e=(0,a.useI18nContext)(),t=(0,n.useDispatch)(),s=(0,n.useSelector)(e=>e.metamask.isAccountTreeSyncingInProgress);(0,r.useEffect)(()=>{(0,o.forceUpdateMetamaskState)(t)},[s]);const i=s,c=(0,r.useMemo)(()=>!0===s?e("syncing"):undefined,[s,e]);return{areAnyOperationsLoading:i,isAccountTreeSyncingInProgress:s,loadingMessage:c}}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountsOperationsLoadingStates.ts"}],[6964,{"../../../shared/lib/accounts":5642,"../../../shared/lib/accounts/bitcoin-wallet-snap":5641,"../../../shared/lib/accounts/solana-wallet-snap":5645,"../../../shared/lib/accounts/tron-wallet-snap":5646,"../../store/actions":7916,"@metamask/keyring-controller":2110,"@metamask/snaps-utils":2781,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.WalletClientType=s.MultichainWalletSnapSender=s.MultichainWalletSnapClient=s.EVM_WALLET_TYPE=void 0,s.useMultichainWalletSnapClient=function(e){return(0,a.useMemo)(()=>new v(e),[e])},s.useMultichainWalletSnapSender=function(e){return(0,a.useMemo)(()=>new S(e),[e])};var n=e("@metamask/keyring-controller"),r=e("@metamask/snaps-utils"),a=e("react"),o=e("../../../shared/lib/accounts"),i=e("../../../shared/lib/accounts/bitcoin-wallet-snap"),c=e("../../../shared/lib/accounts/solana-wallet-snap"),u=e("../../../shared/lib/accounts/tron-wallet-snap"),l=e("../../store/actions");function d(e,t,s){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,s)}function m(e,t){return e.get(p(e,t))}function h(e,t,s){return e.set(p(e,t),s),s}function p(e,t,s){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:s;throw new TypeError("Private element is not present on this object")}function f(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let g=s.WalletClientType=function(e){return e.Bitcoin="bitcoin-wallet-snap",e.Solana="solana-wallet-snap",e.Tron="tron-wallet-snap",e}({});s.EVM_WALLET_TYPE="evm";const k={[g.Bitcoin]:{id:i.BITCOIN_WALLET_SNAP_ID,name:i.BITCOIN_WALLET_NAME},[g.Solana]:{id:c.SOLANA_WALLET_SNAP_ID,name:c.SOLANA_WALLET_NAME},[g.Tron]:{id:u.TRON_WALLET_SNAP_ID,name:u.TRON_WALLET_NAME}};class S{constructor(e){f(this,"snapId",void 0),f(this,"send",async e=>await(0,l.handleSnapRequest)({origin:"metamask",snapId:this.snapId,handler:r.HandlerType.OnKeyringRequest,request:e})),this.snapId=e}}s.MultichainWalletSnapSender=S;var y=new WeakMap,b=new WeakMap;class v{constructor(e){d(this,y,void 0),d(this,b,void 0);const{id:t,name:s}=k[e];if(h(y,this,t),h(b,this,s),!m(y,this))throw new Error(`Unsupported client type: ${e}`)}getSnapId(){return m(y,this)}getSnapName(){return m(b,this)}async createAccount(e,t){return await(0,l.createSnapAccount)(m(y,this),e,t)}async getNextAvailableAccountName(e){return(0,o.getNextAvailableSnapAccountName)(async()=>(0,l.getNextAvailableAccountName)(n.KeyringTypes.snap),m(y,this),e)}}s.MultichainWalletSnapClient=v}}},{package:"$root$",file:"ui/hooks/accounts/useMultichainWalletSnapClient.ts"}],[6965,{"../../../shared/constants/bridge":5600,"../../../shared/constants/common":5601,"../../../shared/constants/multichain/networks":5616,"@metamask/bridge-controller":1304,"@metamask/transaction-controller":2868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function({bridgeHistoryItem:e,srcTxMeta:t,nonEvmTransaction:s}){var u,l,d,m;if(!((null==t?void 0:t.type)&&[n.TransactionType.bridge,n.TransactionType.swap].includes(t.type)||s))return{srcNetwork:undefined,destNetwork:undefined};const{srcChainId:h,destChainId:p}=e?c(e):{srcChainId:(null==t?void 0:t.chainId)??(null==s?void 0:s.chain),destChainId:(null==t?void 0:t.chainId)??(null==s?void 0:s.chain)};if(!h||!p)return{srcNetwork:undefined,destNetwork:undefined};let f,g,k,S;try{f=(0,r.formatChainIdToCaip)(h),k=(0,r.getNativeAssetForChainId)(h),g=(0,r.formatChainIdToCaip)(p),S=(0,r.getNativeAssetForChainId)(p)}catch(e){return console.warn("Error getting XChain swaps network info",e),{srcNetwork:undefined,destNetwork:undefined}}const y=(0,r.isSolanaChainId)(h)||(0,r.isBitcoinChainId)(h)?f:(0,r.formatChainIdToHex)(h),b={chainId:f,name:o.NETWORK_TO_SHORT_NETWORK_NAME_MAP[y],...(0,r.isSolanaChainId)(f)||(0,r.isBitcoinChainId)(f)?{isEvm:!1,nativeCurrency:null===(u=k)||void 0===u?void 0:u.assetId,blockExplorerUrl:(0,r.isSolanaChainId)(f)?i.SOLANA_BLOCK_EXPLORER_URL:i.BITCOIN_BLOCK_EXPLORER_URL}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[y]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(l=k)||void 0===l?void 0:l.symbol,isEvm:!0}},v=(0,r.isSolanaChainId)(p)||(0,r.isBitcoinChainId)(p)?g:(0,r.formatChainIdToHex)(p),T={chainId:g,name:o.NETWORK_TO_SHORT_NETWORK_NAME_MAP[v],...(0,r.isSolanaChainId)(g)||(0,r.isBitcoinChainId)(g)?{isEvm:!1,nativeCurrency:null===(d=S)||void 0===d?void 0:d.assetId,blockExplorerUrl:(0,r.isSolanaChainId)(g)?i.SOLANA_BLOCK_EXPLORER_URL:i.BITCOIN_BLOCK_EXPLORER_URL}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[v]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(m=S)||void 0===m?void 0:m.symbol,isEvm:!0}};return{srcNetwork:b,destNetwork:T}};var n=e("@metamask/transaction-controller"),r=e("@metamask/bridge-controller"),a=e("../../../shared/constants/common"),o=e("../../../shared/constants/bridge"),i=e("../../../shared/constants/multichain/networks");const c=({quote:e})=>{const{srcChainId:t,destChainId:s}=e;return{srcChainId:t,destChainId:s}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeChainInfo.ts"}],[6966,{"../../ducks/bridge/bridge":6872,"../../ducks/bridge/selectors":6873,"../../ducks/bridge/utils":6874,"../../ducks/metamask/metamask":6883,"../../selectors":7886,"../../selectors/multichain":7895,"../useMultichainSelector":7057,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useBridgeExchangeRates=void 0;var n=e("react"),r=e("react-redux"),a=e("../../ducks/bridge/selectors"),o=e("../../selectors"),i=e("../../ducks/metamask/metamask"),c=e("../../ducks/bridge/bridge"),u=e("../../ducks/bridge/utils"),l=e("../useMultichainSelector"),d=e("../../selectors/multichain");s.useBridgeExchangeRates=()=>{const{srcTokenAddress:e,destTokenAddress:t}=(0,r.useSelector)(a.getQuoteRequest),{activeQuote:s}=(0,r.useSelector)(a.getBridgeQuotes),m=(0,l.useMultichainSelector)(d.getMultichainCurrentChainId),h=(0,r.useSelector)(a.getToChain),p=null==h?void 0:h.chainId,f=(0,r.useSelector)(o.getParticipateInMetaMetrics),g=(0,r.useDispatch)(),k=(0,r.useSelector)(i.getCurrentCurrency),S=s?s.quote.srcAsset.address:e,y=(0,r.useSelector)(a.getFromToken),b=(null==y?void 0:y.address)??S,v=s?s.quote.destAsset.address:t,T=(0,r.useSelector)(a.getToToken),w=(null==T?void 0:T.address)??v,C=(0,r.useSelector)(o.getMarketData),_=(0,n.useRef)(new AbortController),E=(0,n.useRef)(new AbortController);(0,n.useEffect)(()=>()=>{var e,t;null===(e=_.current)||void 0===e||e.abort(),_.current=null,null===(t=E.current)||void 0===t||t.abort(),E.current=null},[]),(0,n.useEffect)(()=>{var e;if(null===(e=_.current)||void 0===e||e.abort(),_.current=new AbortController,m&&b){(0,u.exchangeRateFromMarketData)(m,b,C)||g((0,c.setSrcTokenExchangeRates)({chainId:m,tokenAddress:b,currency:k,signal:_.current.signal}))}},[k,g,m,b,C]),(0,n.useEffect)(()=>{var e;if(null===(e=E.current)||void 0===e||e.abort(),E.current=new AbortController,p&&w){(0,u.exchangeRateFromMarketData)(p,w,C)||(g((0,c.setDestTokenExchangeRates)({chainId:p,tokenAddress:w,currency:k,signal:E.current.signal})),f&&"usd"!==k&&g((0,c.setDestTokenUsdExchangeRates)({chainId:p,tokenAddress:w,currency:"usd",signal:E.current.signal})))}},[k,g,f,C,p,w])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeExchangeRates.ts"}],[6967,{"../../../shared/lib/asset-utils":5647,"../../../shared/lib/deep-links/routes/swap":5666,"../../../shared/lib/transactions-controller-utils":5720,"../../ducks/bridge/actions":6871,"../../ducks/bridge/selectors":6873,"@metamask/bridge-controller":1304,"@metamask/utils":2914,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useBridgeQueryParams=void 0;var n=e("react"),r=e("react-redux"),a=e("react-router-dom-v5-compat"),o=e("@metamask/utils"),i=e("@metamask/bridge-controller"),c=e("../../../shared/lib/asset-utils"),u=e("../../../shared/lib/deep-links/routes/swap"),l=e("../../../shared/lib/transactions-controller-utils"),d=e("../../ducks/bridge/actions"),m=e("../../ducks/bridge/selectors");const h=e=>{if(!e)return null;try{const t=o.CaipAssetTypeStruct.create(e),{chainId:s,assetReference:n}=(0,o.parseCaipAssetType)(t);return{chainId:s,assetReference:n,assetId:t}}catch{return null}};s.useBridgeQueryParams=()=>{const e=(0,r.useDispatch)(),t=(0,r.useSelector)(m.getFromChains),s=(0,r.useSelector)(m.getFromChain),p=(0,r.useSelector)(m.getFromToken),f=(0,r.useSelector)(m.getFromAccount),g=(0,n.useRef)(new AbortController),{search:k,pathname:S}=(0,a.useLocation)(),y=(0,a.useNavigate)(),b=(0,n.useMemo)(()=>new URLSearchParams(k),[k]),v=(0,n.useCallback)(e=>{const t=new URLSearchParams(k);e.forEach(e=>{t.get(e)&&t.delete(e)}),y({pathname:S,search:t.toString()},{replace:!0})},[k,S,y]),[T,w]=(0,n.useState)(null),[C,_]=(0,n.useState)(null),[E,I]=(0,n.useState)(null);(0,n.useEffect)(()=>()=>{g.current.abort()},[]);const[M,A]=(0,n.useState)(null);(0,n.useEffect)(()=>{const e=h(b.get(u.BridgeQueryParams.FROM)),t=h(b.get(u.BridgeQueryParams.TO)),s=b.get(u.BridgeQueryParams.AMOUNT);(e||t||s)&&(_(t),w(e),s&&I(s),v([u.BridgeQueryParams.FROM,u.BridgeQueryParams.TO,u.BridgeQueryParams.AMOUNT]),(null!=t&&t.assetId||null!=e&&e.assetId)&&(g.current.abort(),g.current=new AbortController,(async(e,t,s)=>{const n=[];if(t&&n.push(t),s&&n.push(s),0===n.length)return null;try{return await(0,c.fetchAssetMetadataForAssetIds)(n,e)}catch{return null}})(g.current.signal,null==e?void 0:e.assetId,null==t?void 0:t.assetId).then(e=>{A(e)})))},[b]);const N=(0,n.useCallback)((t,s,n,r,a)=>{const{chainId:c}=s;if(t){const{chainId:s,assetReference:u}=(0,o.parseCaipAssetType)(t.assetId),l=(0,i.getNativeAssetForChainId)(s),m=null==l?void 0:l.assetId.includes(u),h={...t,chainId:s,address:m||(0,i.isNativeAddress)(u)?(null==l?void 0:l.address)??"":u};if(a&&c===(0,i.formatChainIdToCaip)(a.chainId))e((0,d.setFromToken)(h));else{const t=n.find(e=>(0,i.formatChainIdToCaip)(e.chainId)===c);t&&e((0,d.setFromChain)({networkConfig:t,selectedAccount:r,token:h}))}}},[]),P=(0,n.useCallback)(async t=>{const{chainId:s,assetReference:n}=(0,o.parseCaipAssetType)(t.assetId);e((0,d.setToToken)({...t,chainId:s,address:n})),_(null)},[]);(0,n.useEffect)(()=>{if(!T||!M||!t.length)return;const e=(null==M?void 0:M[T.assetId])??(null==M?void 0:M[T.assetId.toLowerCase()]);N(e,T,t,f,s)},[M,T,t,s,f]),(0,n.useEffect)(()=>{if(!C)return;const e=(null==M?void 0:M[C.assetId])??(null==M?void 0:M[C.assetId.toLowerCase()]);e&&P(e)},[C,M]),(0,n.useEffect)(()=>{var t;T&&p&&(null===(t=p.assetId)||void 0===t?void 0:t.toLowerCase())===T.assetId.toLowerCase()&&(w(null),E&&(e((0,d.setFromTokenInputValue)((0,l.calcTokenAmount)(E,p.decimals).toFixed(p.decimals))),I(null)))},[E,T,p]),(0,n.useEffect)(()=>{T||b.get(u.BridgeQueryParams.FROM)||!p||(0,i.isCrossChain)(p.chainId,null==s?void 0:s.chainId)||!f||(e((0,d.setEVMSrcTokenBalance)(p,f.address)),e((0,d.setEVMSrcNativeBalance)({selectedAddress:f.address,chainId:p.chainId})))},[T,f,p,s,b])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeQueryParams.ts"}],[6968,{"../../../shared/lib/bridge-status/utils":5648,"../../ducks/bridge-status/selectors":6870,"../../helpers/constants/routes":6904,"@metamask/bridge-controller":1304,"@metamask/transaction-controller":2868,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FINAL_NON_CONFIRMED_STATUSES=void 0,s.useBridgeTxHistoryData=function({transactionGroup:e,isEarliestNonce:t}){const s=(0,a.useNavigate)(),r=e.initialTransaction,d=r.id,m=(0,n.useSelector)(e=>(0,u.selectBridgeHistoryItemForTxMetaId)(e,d)),h=m?(null==m?void 0:m.status.status)===o.StatusTypes.FAILED:null,p=l.includes(r.status)?undefined:()=>{s(`${c.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/${d}`,{state:{transactionGroup:e,isEarliestNonce:t}})};return{bridgeTxHistoryItem:m,isBridgeComplete:m?(0,i.isBridgeComplete)(m):null,isBridgeFailed:h,showBridgeTxDetails:p}};var n=e("react-redux"),r=e("@metamask/transaction-controller"),a=e("react-router-dom-v5-compat"),o=e("@metamask/bridge-controller"),i=e("../../../shared/lib/bridge-status/utils"),c=e("../../helpers/constants/routes"),u=e("../../ducks/bridge-status/selectors");const l=s.FINAL_NON_CONFIRMED_STATUSES=[r.TransactionStatus.failed,r.TransactionStatus.dropped,r.TransactionStatus.rejected]}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeTxHistoryData.ts"}],[6969,{"../../../shared/constants/bridge":5600,"../../../shared/constants/metametrics":5613,"../../../shared/constants/network":5617,"../../../shared/lib/asset-utils":5647,"../../../shared/lib/deep-links/routes/swap":5666,"../../../shared/lib/trace":5718,"../../contexts/metametrics":6855,"../../ducks/bridge/actions":6871,"../../ducks/bridge/selectors":6873,"../../helpers/constants/routes":6904,"../../selectors":7886,"@metamask/bridge-controller":1304,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react"),r=e("react-redux"),a=e("react-router-dom-v5-compat"),o=e("@metamask/bridge-controller"),i=e("../../ducks/bridge/actions"),c=e("../../selectors"),u=e("../../contexts/metametrics"),l=e("../../../shared/constants/metametrics"),d=e("../../helpers/constants/routes"),m=e("../../../shared/lib/deep-links/routes/swap"),h=e("../../../shared/lib/trace"),p=e("../../../shared/lib/asset-utils"),f=e("../../../shared/constants/bridge"),g=e("../../ducks/bridge/selectors"),k=e("../../../shared/constants/network");s.default=()=>{const e=(0,a.useNavigate)(),t=(0,r.useDispatch)(),s=(0,n.useContext)(u.MetaMetricsContext),S=(0,r.useSelector)(c.getMetaMetricsId),y=(0,r.useSelector)(c.getParticipateInMetaMetrics),b=(0,r.useSelector)(c.getDataCollectionForMarketing),v=(0,r.useSelector)(g.getLastSelectedChainId),T=(0,r.useSelector)(g.getFromChain),w=(0,r.useSelector)(g.getFromChains),C=(0,n.useCallback)(e=>f.ALL_ALLOWED_BRIDGE_CHAIN_IDS.includes(e)&&w.some(t=>(0,o.formatChainIdToCaip)(t.chainId)===(0,o.formatChainIdToCaip)(e)),[w]);return{openBridgeExperience:(0,n.useCallback)((n,r)=>{let a=null!=r&&r.chainId&&C(r.chainId)?(0,p.toAssetId)(r.address,(0,o.formatChainIdToCaip)(r.chainId)):undefined;const c=v&&C(v)?v:k.CHAIN_IDS.MAINNET;var u;a||c===(null==T?void 0:T.chainId)||(a=null===(u=(0,o.getNativeAssetForChainId)(c))||void 0===u?void 0:u.assetId);(0,h.trace)({name:h.TraceName.SwapViewLoaded,startTime:Date.now()}),s({event:l.MetaMetricsEventName.SwapLinkClicked,category:l.MetaMetricsEventCategory.Navigation,properties:{token_symbol:(null==r?void 0:r.symbol)??"",location:n,text:"Swap",chain_id:(null==r?void 0:r.chainId)??v}}),t((0,i.trackUnifiedSwapBridgeEvent)(o.UnifiedSwapBridgeEventName.ButtonClicked,{location:n,token_symbol_source:(null==r?void 0:r.symbol)??"ETH",token_symbol_destination:""})),t((0,i.resetInputFields)());let f=`${d.CROSS_CHAIN_SWAP_ROUTE}${d.PREPARE_SWAP_ROUTE}`;f+="?",a&&(f+=`${m.BridgeQueryParams.FROM}=${a}`),n===l.MetaMetricsSwapsEventSource.TransactionShield&&(f+=(a?"&":"")+"isFromTransactionShield=true"),e(f)},[e,S,s,y,b,v,null==T?void 0:T.chainId,C])}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridging.ts"}],[6970,{"../../ducks/bridge/selectors":6873,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCountdownTimer=void 0;var n=e("react"),r=e("react-redux"),a=e("../../ducks/bridge/selectors");const o=1e3;s.useCountdownTimer=()=>{const{quotesLastFetchedMs:e}=(0,r.useSelector)(a.getBridgeQuotes),t=(0,r.useSelector)(a.getQuoteRefreshRate),[s,i]=(0,n.useState)(t+o),c=(0,n.useRef)(t);return(0,n.useEffect)(()=>{c.current=s},[s]),(0,n.useEffect)(()=>{e&&i(t-(Date.now()-e)+o)},[e,t]),(0,n.useEffect)(()=>{const e=setInterval(()=>{i(Math.max(0,c.current-o))},o);return()=>clearInterval(e)},[]),Math.floor(s/1e3)}}}},{package:"$root$",file:"ui/hooks/bridge/useCountdownTimer.ts"}],[6971,{"../../ducks/bridge/selectors":6873,"../../selectors/multichain":7895,"../useMultichainSelector":7057,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useIsTxSubmittable=void 0;var n=e("react-redux"),r=e("../../ducks/bridge/selectors"),a=e("../../selectors/multichain"),o=e("../useMultichainSelector");s.useIsTxSubmittable=()=>{const e=(0,n.useSelector)(r.getFromToken),t=(0,n.useSelector)(r.getToToken),s=(0,o.useMultichainSelector)(a.getMultichainCurrentChainId),i=(0,n.useSelector)(r.getFromAmount),{activeQuote:c}=(0,n.useSelector)(r.getBridgeQuotes),{isInsufficientBalance:u,isInsufficientGasBalance:l,isInsufficientGasForQuote:d,isTxAlertPresent:m}=(0,n.useSelector)(r.getValidationErrors);return Boolean(e&&t&&s&&i&&c&&!u&&!l&&!d&&!m)}}}},{package:"$root$",file:"ui/hooks/bridge/useIsTxSubmittable.ts"}],[6972,{"../../ducks/bridge/actions":6871,"../../ducks/bridge/selectors":6873,"./useIsTxSubmittable":6971,"@metamask/bridge-controller":1304,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useQuoteFetchEvents=void 0;var n=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../ducks/bridge/selectors"),i=e("../../ducks/bridge/actions"),c=e("./useIsTxSubmittable");s.useQuoteFetchEvents=()=>{const e=(0,r.useDispatch)(),{isLoading:t,quotesRefreshCount:s,quoteFetchError:u,activeQuote:l,recommendedQuote:d}=(0,r.useSelector)(o.getBridgeQuotes),m=(0,c.useIsTxSubmittable)(),h=(0,r.useSelector)(o.getValidationErrors),p=(0,n.useMemo)(()=>{const{isEstimatedReturnLow:e,isNoQuotesAvailable:t,isInsufficientGasBalance:s,isInsufficientGasForQuote:n,isInsufficientBalance:r}=h,a=[];return e&&a.push("low_return"),t&&a.push("no_quotes"),s&&a.push("insufficient_gas_balance"),n&&a.push("insufficient_gas_for_selected_quote"),r&&a.push("insufficient_balance"),a},[h]);(0,n.useEffect)(()=>{var n,r,o,c,h;!t&&s>0&&!u&&e((0,i.trackUnifiedSwapBridgeEvent)(a.UnifiedSwapBridgeEventName.QuotesReceived,{can_submit:m,gas_included:Boolean(null==l||null===(n=l.quote)||void 0===n?void 0:n.gasIncluded),gas_included_7702:Boolean(null==l||null===(r=l.quote)||void 0===r?void 0:r.gasIncluded7702),quoted_time_minutes:null!=l&&l.estimatedProcessingTimeInSeconds?l.estimatedProcessingTimeInSeconds/60:0,usd_quoted_gas:Number((null==l||null===(o=l.gasFee)||void 0===o||null===(o=o.effective)||void 0===o?void 0:o.usd)??0),usd_quoted_return:Number((null==l||null===(c=l.toTokenAmount)||void 0===c?void 0:c.usd)??0),best_quote_provider:d?(0,a.formatProviderLabel)(d.quote):undefined,provider:l?(0,a.formatProviderLabel)(l.quote):"_",warnings:p,price_impact:Number((null==l||null===(h=l.quote.priceData)||void 0===h?void 0:h.priceImpact)??0)}))},[s])}}}},{package:"$root$",file:"ui/hooks/bridge/useQuoteFetchEvents.ts"}],[6973,{"../../../shared/modules/hexstring-utils":5741,"../../ducks/bridge/selectors":6873,"../../ducks/rewards/selectors":6888,"../../selectors/multichain":7895,"../../selectors/multichain-accounts/account-tree":7890,"../../store/actions":7916,"../useMultichainSelector":7057,"../usePrevious":7068,"@metamask/bridge-controller":1304,"@metamask/utils":2914,"bignumber.js":3768,lodash:4635,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useRewardsWithQuote=s.useRewards=s.getUsdPricePerToken=void 0;var n,r=e("react"),a=e("react-redux"),o=e("bignumber.js"),i=e("@metamask/bridge-controller"),c=e("@metamask/utils"),u=(n=e("loglevel"))&&n.__esModule?n:{default:n},l=e("lodash"),d=e("../../ducks/bridge/selectors"),m=e("../../selectors/multichain"),h=e("../usePrevious"),p=e("../useMultichainSelector"),f=e("../../store/actions"),g=e("../../../shared/modules/hexstring-utils"),k=e("../../selectors/multichain-accounts/account-tree"),S=e("../../ducks/rewards/selectors");const y=(e,t,s)=>{try{const n=new o.BigNumber(e),r=new o.BigNumber(t).div(new o.BigNumber(10).pow(s));return n.isZero()||r.isZero()?undefined:n.dividedBy(r).toString()}catch(e){return console.error(e,"useRewards: Error calculating USD price per token"),undefined}};s.getUsdPricePerToken=y;const b=({quote:e,fromAddress:t,fromAddressAccount:s,chainId:n})=>{const o=(0,a.useDispatch)(),[d,m]=(0,r.useState)(!1),[p,k]=(0,r.useState)(null),[b,v]=(0,r.useState)(!1),[T,w]=(0,r.useState)(!1),C=(0,h.usePrevious)(null==e?void 0:e.requestId),[_,E]=(0,r.useState)(null),I=(0,a.useSelector)(S.selectRewardsEnabled),M=(0,a.useSelector)(S.selectRewardsAccountLinkedTimestamp),A=(0,r.useRef)(new Map),[N,P]=(0,r.useState)(null),R=(0,r.useCallback)((0,l.debounce)(async(e,t)=>{if(!e||!t)return k(null),v(!1),m(!1),void w(!1);try{var s;const n=e.srcTokenAmount,r=e.destTokenAmount,a={id:e.srcAsset.assetId,amount:n},i={id:e.destAsset.assetId,amount:r},c={id:e.feeData.metabridge.asset.assetId,amount:e.feeData.metabridge.amount||"0"},u=y((null===(s=e.priceData)||void 0===s?void 0:s.totalFeeAmountUsd)||"0",c.amount,e.feeData.metabridge.asset.decimals),l={activityType:"SWAP",account:t,activityContext:{swapContext:{srcAsset:a,destAsset:i,feeAsset:{...c,...u?{usdPrice:u}:{}}}}},d=await o((0,f.estimateRewardsPoints)(l));k(d.pointsEstimate)}catch(e){u.default.error("[useRewardsWithQuote] Error estimating points:",e),k(null),w(!0)}finally{m(!1)}},750),[o]),O=(0,r.useCallback)(async e=>{if(!(e&&t&&n&&I))return k(null),v(!1),E(null),m(!1),void w(!1);m(!0),w(!1);let r=null;try{if(!await o((0,f.getRewardsCandidateSubscriptionId)()))return k(null),v(!1),E(null),w(!1),void m(!1);if(r=((e,t)=>{try{const s=(0,i.formatChainIdToCaip)(t),{namespace:n,reference:r}=(0,c.parseCaipChainId)(s),a=(0,c.isValidHexAddress)(e)?(0,g.toChecksumHexAddress)(e):e;return(0,c.toCaipAccountId)(n,r,a)}catch(e){return u.default.error("[useRewards] Error formatting account to CAIP-10:",e),null}})(t,n),!r)return k(null),w(!1),v(!1),E(null),void m(!1);const a=await o((0,f.getRewardsHasAccountOptedIn)(r));E(a);let l=a;if(!a&&s){l=await o((0,f.rewardsIsOptInSupported)({account:s}))}if(v(l),k(null),w(!1),!l||!a)return void m(!1);await R(e,r)}catch{m(!1),v(!1),k(null),E(null),w(!1)}},[t,n,I,o,s,R]);return(0,r.useEffect)(()=>{C!==(null==e?void 0:e.requestId)&&O(e)},[O,null==e?void 0:e.requestId,e,C]),(0,r.useEffect)(()=>{if(t&&null!==M)A.current.set(t,M),P(M);else if(t){const e=A.current.get(t);P(e??null)}else P(null)},[M,t]),(0,r.useEffect)(()=>{null!==N&&!1===_&&O(e)},[N,_,O,e]),{shouldShowRewardsRow:b,isLoading:d,estimatedPoints:p,hasError:T,accountOptedIn:_,rewardsAccountScope:e&&b?s:null}};s.useRewardsWithQuote=b;s.useRewards=({activeQuote:e})=>{const t=(0,a.useSelector)(d.getFromToken),s=(0,a.useSelector)(d.getToToken),n=(0,a.useSelector)(d.getQuoteRequest),r=(0,p.useMultichainSelector)(m.getMultichainCurrentChainId),o=r?(0,i.formatChainIdToCaip)(r.toString()):null,c=(0,a.useSelector)(e=>o?(0,k.getInternalAccountBySelectedAccountGroupAndCaip)(e,o):null),u=t&&s&&(null==n?void 0:n.srcTokenAmount)&&(null==c?void 0:c.address);return b({quote:u?e:null,fromAddress:null==c?void 0:c.address,fromAddressAccount:c,chainId:null==r?void 0:r.toString()})}}}},{package:"$root$",file:"ui/hooks/bridge/useRewards.ts"}],[6974,{"../../ducks/bridge/actions":6871,"../../pages/bridge/utils/slippage-service":7157,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSmartSlippage=function({fromChain:e,toChain:t,fromToken:s,toToken:i,isSwap:c}){const u=(0,r.useDispatch)(),l=(0,n.useCallback)(()=>{const n={fromChain:e,toChain:t,fromToken:s,toToken:i,isSwap:c},r=(0,a.calculateSlippage)(n);return r},[e,t,s,i,c]);(0,n.useEffect)(()=>{const e=l();u((0,o.setSlippage)(e))},[e,t,s,i,c,l,u])};var n=e("react"),r=e("react-redux"),a=e("../../pages/bridge/utils/slippage-service"),o=e("../../ducks/bridge/actions")}}},{package:"$root$",file:"ui/hooks/bridge/useSmartSlippage.ts"}],[6975,{"../../../shared/modules/bridge-utils/security-alerts-api.util":5728,"../../ducks/bridge/selectors":6873,"../useAsync":7029,"@metamask/bridge-controller":1304,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenAlerts=s.default=void 0;var n=e("react-redux"),r=e("@metamask/bridge-controller"),a=e("../../ducks/bridge/selectors"),o=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),i=e("../useAsync");const c=()=>{const e=(0,n.useSelector)(a.getFromToken),t=(0,n.useSelector)(a.getFromChain),s=(0,n.useSelector)(a.getToToken),c=(0,n.useSelector)(a.getToChain),{value:u}=(0,i.useAsyncResult)(async()=>{if(e&&t&&s&&c&&!(0,r.isNativeAddress)(s.address)){const e=(0,o.convertChainIdToBlockAidChainName)(null==c?void 0:c.chainId);if(e)return await(0,o.fetchTokenAlert)(e,(0,r.formatAddressToCaipReference)(s.address))}return null},[null==s?void 0:s.address,null==c?void 0:c.chainId]);return{tokenAlert:u}};s.useTokenAlerts=c;s.default=c}}},{package:"$root$",file:"ui/hooks/bridge/useTokenAlerts.ts"}],[6976,{"../../../shared/constants/bridge":5600,"../../../shared/constants/multichain/networks":5616,"../../../shared/constants/network":5617,"../../../shared/constants/time":5635,"../../../shared/constants/transaction":5637,"../../../shared/lib/asset-utils":5647,"../../../shared/lib/fetch-with-cache":5692,"../../ducks/bridge/selectors":6873,"../../ducks/bridge/utils":6874,"../../pages/swaps/swaps.util":7864,"../useAsync":7029,"../useMultichainBalances":7056,"@metamask/bridge-controller":1304,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokensWithFiltering=void 0;var n,r=e("react"),a=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../../shared/constants/transaction"),c=e("../../../shared/constants/network"),u=e("../useMultichainBalances"),l=e("../useAsync"),d=e("../../pages/swaps/swaps.util"),m=e("../../../shared/constants/time"),h=e("../../ducks/bridge/selectors"),p=(n=e("../../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},f=e("../../../shared/constants/bridge"),g=e("../../../shared/lib/asset-utils"),k=e("../../../shared/constants/multichain/networks"),S=e("../../ducks/bridge/utils");const y=(e,t)=>{if(!e||!t)return undefined;const s={...t,chainId:(0,o.isNonEvmChainId)(e)?(0,o.formatChainIdToCaip)(e):(0,o.formatChainIdToHex)(e),assetId:"assetId"in t?t.assetId:(0,g.toAssetId)(t.address,(0,o.formatChainIdToCaip)(e))};if((0,o.isNativeAddress)(t.address)){const n=(0,o.isNonEvmChainId)(e)?k.MULTICHAIN_TOKEN_IMAGE_MAP[s.chainId]:c.CHAIN_ID_TOKEN_IMAGE_MAP[s.chainId];return{...s,type:i.AssetType.native,address:"",image:n??(t.iconUrl||("icon"in t?t.icon:"")||""),balance:"0",string:"0"}}return{...s,type:i.AssetType.token,image:t.iconUrl??("icon"in t?t.icon:"")??"",balance:"",string:undefined}};s.useTokensWithFiltering=(e,t,s)=>{const n=(0,a.useSelector)(t=>(0,h.getTopAssetsFromFeatureFlags)(t,e)),{assetsWithBalance:b}=(0,u.useMultichainBalances)(s),v=(0,a.useSelector)(e=>e.metamask.tokensChainsCache),T=(0,r.useMemo)(()=>{var t;if(!e)return undefined;if((0,o.isBitcoinChainId)(e)){const t=(0,o.getNativeAssetForChainId)(e);if(t){const e=t.address??"";return{[e]:t}}return undefined}if((0,o.isSolanaChainId)(e))return undefined;const s=(0,o.formatChainIdToHex)(e);return s?null===(t=v[s])||void 0===t?void 0:t.data:undefined},[e,v]),w=Boolean(T),{value:C,pending:_}=(0,l.useAsyncResult)(async()=>w||!e?{}:await(0,o.fetchBridgeTokens)(e,o.BridgeClientId.EXTENSION,async(e,t)=>{const{headers:s,...n}=t??{};return await(0,p.default)({url:e,...n,fetchOptions:{method:"GET",headers:s},cacheOptions:{cacheRefreshTime:10*m.MINUTE},functionName:"fetchBridgeTokens"})},f.BRIDGE_API_BASE_URL,"13.11.0"),[e,w]),E=(0,r.useMemo)(()=>T??C,[T,C]),{value:I,pending:M}=(0,l.useAsyncResult)(async()=>e?n?n.map(e=>({address:e})):await(0,d.fetchTopAssetsList)(e):[],[e,n]);return{filteredTokenListGenerator:(0,r.useCallback)(s=>function*(){const n=(e,n,r)=>{var a;const i=e=>e&&(0,o.isNativeAddress)(e)?"":e;return s(e,n,r)&&(!t||!r||!(t.symbol===e&&((0,o.isSolanaChainId)(r)?i(t.address)===i(n):(null===(a=t.address)||void 0===a?void 0:a.toLowerCase())===(null==n?void 0:n.toLowerCase()))&&t.chainId===(0,o.formatChainIdToCaip)(r)))};if(e&&I&&E&&0!==Object.keys(E).length){for(const e of b){var r,a,u;if(!(0,S.isTronEnergyOrBandwidthResource)(e.chainId,e.symbol))if(n(e.symbol,e.address,e.chainId))if((0,o.isNativeAddress)(e.address)||e.isNative)yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:"",type:i.AssetType.native,balance:e.balance??"0",string:e.string??undefined,image:c.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??k.MULTICHAIN_TOKEN_IMAGE_MAP[e.chainId]??((null===(r=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===r?void 0:r.icon)||(null===(a=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===a?void 0:a.iconUrl)||(0,g.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId))),accountType:e.accountType};else yield{...e,symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:e.address,type:i.AssetType.token,balance:e.balance??"",string:e.string??undefined,image:(e.image||e.address&&(null==E||null===(u=E[e.address.toLowerCase()])||void 0===u?void 0:u.iconUrl))??(0,g.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId))??""}}for(const t of I){const s=(null==E?void 0:E[t.address])??(null==E?void 0:E[t.address.toLowerCase()]),r=y(e,s);r&&!(0,S.isTronEnergyOrBandwidthResource)(e,r.symbol)&&n(r.symbol,r.address??undefined,e)&&(yield r)}for(const t of Object.values(E)){const s=y(e,t);s&&-1===s.symbol.indexOf("$")&&!(0,S.isTronEnergyOrBandwidthResource)(e,s.symbol)&&n(s.symbol,s.address??undefined,e)&&(yield s)}}}(),[b,I,e,E,t]),isLoading:_||M}}}}},{package:"$root$",file:"ui/hooks/bridge/useTokensWithFiltering.ts"}],[6977,{"../../../shared/constants/multichain/networks":5616,"../../ducks/bridge/actions":6871,"../../ducks/bridge/selectors":6873,"@metamask/bridge-controller":1304,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTxAlerts=void 0;var n=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../shared/constants/multichain/networks"),i=e("../../ducks/bridge/selectors"),c=e("../../ducks/bridge/actions");s.useTxAlerts=()=>{const e=(0,r.useDispatch)(),t=(0,r.useSelector)(i.getFromChain),{activeQuote:s}=(0,r.useSelector)(i.getBridgeQuotes),{trade:u}=s??{},l=(0,r.useSelector)(i.getFromAccount),d=(0,n.useRef)(new AbortController);(0,n.useEffect)(()=>()=>{var e;null===(e=d.current)||void 0===e||e.abort(),d.current=null},[]),(0,n.useEffect)(()=>{var s;null===(s=d.current)||void 0===s||s.abort(),u&&"string"==typeof u&&null!=t&&t.chainId&&(0,a.isSolanaChainId)(t.chainId)&&null!=l&&l.address?(d.current=new AbortController,e((0,c.setTxAlerts)({signal:d.current.signal,chainId:o.MultichainNetworks.SOLANA,trade:u,accountAddress:l.address}))):e((0,c.setTxAlerts)(null))},[u,null==t?void 0:t.chainId,null==l?void 0:l.address])}}}},{package:"$root$",file:"ui/hooks/bridge/useTxAlerts.ts"}],[6978,{"../../store/actions":7916,"../../store/background-connection":7917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.deFiStartPolling=async function(){const e=await(0,r.submitRequestToBackground)("deFiStartPolling",[null]);return await(0,n.addPollingTokenToAppState)(e),e},s.deFiStopPolling=async function(e){await(0,r.submitRequestToBackground)("deFiStopPolling",[e]),await(0,n.removePollingTokenFromAppState)(e)};var n=e("../../store/actions"),r=e("../../store/background-connection")}}},{package:"$root$",file:"ui/hooks/defi/defiPollingActions.ts"}],[6979,{"../../ducks/metamask/metamask":6883,"../useMultiPolling":7052,"./defiPollingActions":6978,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),a=e("../../ducks/metamask/metamask"),o=(n=e("../useMultiPolling"))&&n.__esModule?n:{default:n},i=e("./defiPollingActions");s.default=()=>{const e=(0,r.useSelector)(a.getCompletedOnboarding),t=(0,r.useSelector)(a.getIsUnlocked),s=e&&t;return(0,o.default)({startPolling:i.deFiStartPolling,stopPollingByPollingToken:i.deFiStopPolling,input:s?[null]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/defi/useDeFiPolling.ts"}],[6980,{"../../pages/confirmations/hooks/useConfirmationNavigation":7535,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useGatorPermissionRedirect=function({onRedirect:e}={}){const[t,s]=(0,n.useState)(),{confirmations:a,navigateToId:o}=(0,r.useConfirmationNavigation)(),i=a.some(e=>e.id===t);return(0,n.useEffect)(()=>{i&&(o(t),null==e||e())},[i,o,t,e]),{transactionId:t,setTransactionId:s,isRedirectPending:i}};var n=e("react"),r=e("../../pages/confirmations/hooks/useConfirmationNavigation")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useGatorPermissionRedirect.ts"}],[6981,{"../../selectors/gator-permissions/gator-permissions":7883,"../../store/controller-actions/gator-permissions-controller":7918,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useGatorPermissions=function(e={}){const{refreshInBackground:t=!0}=e,s=(0,r.useDispatch)(),i=(0,r.useSelector)(e=>{try{return(0,o.getGatorPermissionsMap)(e)}catch(e){return undefined}}),[c,u]=(0,n.useState)(!i),[l,d]=(0,n.useState)(!1),[m,h]=(0,n.useState)(undefined),p=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let e=!1;return i&&!t?u(!1):p.current||(async()=>{try{h(undefined),i?d(!0):u(!0),await(0,a.fetchAndUpdateGatorPermissions)({isRevoked:!1})}catch(t){e||h(t)}finally{e||(u(!1),d(!1))}})().then(()=>{p.current=!0}).catch(()=>{}),()=>{e=!0}},[s,t]),{data:i,error:m,loading:c,isRefreshing:l}};var n=e("react"),r=e("react-redux"),a=e("../../store/controller-actions/gator-permissions-controller"),o=e("../../selectors/gator-permissions/gator-permissions")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useGatorPermissions.ts"}],[6982,{"../../../shared/lib/delegation/delegation":5683,"../../selectors/accounts":7875,"../../store/actions":7916,"../../store/controller-actions/gator-permissions-controller":7918,"./useGatorPermissionRedirect":6980,"./utils":6984,"@metamask/transaction-controller":2868,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useRevokeGatorPermissions=function({chainId:e,onRedirect:t}){const{setTransactionId:s}=(0,l.useGatorPermissionRedirect)({onRedirect:t}),m=(0,r.useStore)(),h=(0,n.useCallback)(e=>{if(Array.isArray(e)){if(0===e.length)throw new Error("No gator permissions provided");for(const t of e)h(t)}else if(!e)throw new Error("No gator permission provided")},[]),p=(0,n.useCallback)(t=>{if(t.permissionResponse.chainId!==e)throw new Error("Chain ID does not match")},[e]),f=(0,n.useCallback)(e=>{const{permissionResponse:t}=e,s=(0,o.getMemoizedInternalAccountByAddress)(m.getState(),t.address);if(!s)throw new Error("Internal account not found for delegator of permission");return{permissionContext:t.context,delegationManagerAddress:t.signerMeta.delegationManager,accountAddress:s.address}},[m]),g=(0,n.useCallback)(async e=>{const t=e.permissionResponse.chainId;let s;try{s=await(0,i.findNetworkClientIdByChainId)(t)}catch(e){throw new Error(`Failed to find network client for chain ${t}`,{cause:e})}const{permissionContext:n,delegationManagerAddress:r,accountAddress:o}=f(e),l=(0,d.extractDelegationFromGatorPermissionContext)(n),m=(0,c.getDelegationHashOffchain)(l);if(await(0,u.checkDelegationDisabled)(r,m,s))return await(0,u.submitRevocation)({permissionContext:n}),null;const h=(0,c.encodeDisableDelegation)({delegation:l}),p=await(0,i.addTransaction)({from:o,to:r,data:h,value:"0x0"},{networkClientId:s,type:a.TransactionType.contractInteraction});if(!p)throw new Error("No transaction meta found");if(!p.id)throw new Error("No transaction id found");return await(0,u.addPendingRevocation)({txId:p.id,permissionContext:n}),p},[f]),k=(0,n.useCallback)(async e=>{h(e),p(e);const t=await g(e);return s(null==t?void 0:t.id),t},[g,p,h,s]),S=(0,n.useCallback)(async e=>{var t;h(e);for(const t of e)p(t);const n=[];for(const t of e){const e=await g(t);n.push(e)}const r=n.filter(e=>null!==e);return s(null===(t=r[0])||void 0===t?void 0:t.id),r},[g,p,h,s]);return{revokeGatorPermission:k,revokeGatorPermissionBatch:S}};var n=e("react"),r=e("react-redux"),a=e("@metamask/transaction-controller"),o=e("../../selectors/accounts"),i=e("../../store/actions"),c=e("../../../shared/lib/delegation/delegation"),u=e("../../store/controller-actions/gator-permissions-controller"),l=e("./useGatorPermissionRedirect"),d=e("./utils")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useRevokeGatorPermissions.ts"}],[6983,{"../../../shared/lib/delegation/delegation":5683,"../../selectors/accounts":7875,"../../store/actions":7916,"../../store/controller-actions/gator-permissions-controller":7918,"./useGatorPermissionRedirect":6980,"./utils":6984,"@metamask/transaction-controller":2868,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useRevokeGatorPermissionsMultiChain=function({onRedirect:e}={}){const{setTransactionId:t}=(0,d.useGatorPermissionRedirect)({onRedirect:e}),s=(0,r.useStore)();return{revokeGatorPermissionsBatchMultiChain:(0,n.useCallback)(async e=>{const n={},r=[];for(const[t,d]of Object.entries(e)){if(n[t]={revoked:[],skipped:[],errors:[]},0===d.length)continue;let e;try{e=await(0,o.findNetworkClientIdByChainId)(t)}catch(e){const s=e instanceof Error?e.message:String(e);n[t].errors.push(new Error(`No network client ID found for chain ${t}: ${s}`));continue}for(const m of d)try{const{permissionResponse:d}=m,h=(0,i.getMemoizedInternalAccountByAddress)(s.getState(),d.address);if(!h){n[t].skipped.push(m);continue}const p=(0,l.extractDelegationFromGatorPermissionContext)(d.context),f=(0,c.encodeDisableDelegation)({delegation:p}),g=await(0,o.addTransaction)({from:h.address,to:d.signerMeta.delegationManager,data:f,value:"0x0"},{networkClientId:e,type:a.TransactionType.contractInteraction});if(!g)throw new Error("No transaction meta found");if(!g.id)throw new Error("No transaction id found");n[t].revoked.push(g),r.push(g.id),await(0,u.addPendingRevocation)({txId:g.id,permissionContext:d.context})}catch(e){n[t].errors.push(e)}}return r.length>0&&t(r[0]),n},[s,t])}};var n=e("react"),r=e("react-redux"),a=e("@metamask/transaction-controller"),o=e("../../store/actions"),i=e("../../selectors/accounts"),c=e("../../../shared/lib/delegation/delegation"),u=e("../../store/controller-actions/gator-permissions-controller"),l=e("./utils"),d=e("./useGatorPermissionRedirect")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useRevokeGatorPermissionsMultiChain.ts"}],[6984,{"@metamask/delegation-core":1396},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.extractDelegationFromGatorPermissionContext=function(e){const t=(0,n.decodeDelegations)(e),s=t[0];if(!s)throw new Error("No delegation found");if(1!==t.length)throw new Error("Multiple delegations found");return{...s,salt:`0x${s.salt.toString(16)}`}};var n=e("@metamask/delegation-core")}}},{package:"$root$",file:"ui/hooks/gator-permissions/utils.ts"}],[6985,{"./useAccountSyncing":6986},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useAccountSyncing",{enumerable:!0,get:function(){return n.useAccountSyncing}}),Object.defineProperty(s,"useDeleteAccountSyncingDataFromUserStorage",{enumerable:!0,get:function(){return n.useDeleteAccountSyncingDataFromUserStorage}}),Object.defineProperty(s,"useShouldDispatchAccountSyncing",{enumerable:!0,get:function(){return n.useShouldDispatchAccountSyncing}});var n=e("./useAccountSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/index.ts"}],[6986,{"../../../ducks/metamask/metamask":6883,"../../../selectors":7886,"../../../selectors/identity/authentication":7884,"../../../selectors/identity/backup-and-sync":7885,"../../../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useShouldDispatchAccountSyncing=s.useDeleteAccountSyncingDataFromUserStorage=s.useAccountSyncing=void 0;var n,r=(n=e("loglevel"))&&n.__esModule?n:{default:n},a=e("react"),o=e("react-redux"),i=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,o.useSelector)(c.selectIsBackupAndSyncEnabled),t=(0,o.useSelector)(c.selectIsAccountSyncingEnabled),s=(0,o.useSelector)(u.getUseExternalServices),n=(0,o.useSelector)(l.getIsUnlocked),r=(0,o.useSelector)(d.selectIsSignedIn),a=(0,o.useSelector)(l.getCompletedOnboarding);return Boolean(s&&e&&t&&n&&r&&a)};s.useShouldDispatchAccountSyncing=m;s.useAccountSyncing=()=>{const e=(0,o.useDispatch)(),t=m(),s=(0,a.useCallback)(()=>{try{if(!t)return;e((0,i.syncAccountTreeWithUserStorage)())}catch(e){r.default.error(e)}},[e,t]);return{dispatchAccountSyncing:s,shouldDispatchAccountSyncing:t}};s.useDeleteAccountSyncingDataFromUserStorage=()=>{const e=(0,o.useDispatch)();return{dispatchDeleteAccountSyncingData:(0,a.useCallback)(async()=>{try{await e((0,i.deleteAccountSyncingDataFromUserStorage)())}catch{}},[e])}}}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/useAccountSyncing.ts"}],[6987,{"./useAutoSignIn":6988,"./useAutoSignOut":6989,"./useSignIn":6990,"./useSignOut":6991},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useAutoSignIn",{enumerable:!0,get:function(){return a.useAutoSignIn}}),Object.defineProperty(s,"useAutoSignOut",{enumerable:!0,get:function(){return o.useAutoSignOut}}),Object.defineProperty(s,"useSignIn",{enumerable:!0,get:function(){return n.useSignIn}}),Object.defineProperty(s,"useSignOut",{enumerable:!0,get:function(){return r.useSignOut}});var n=e("./useSignIn"),r=e("./useSignOut"),a=e("./useAutoSignIn"),o=e("./useAutoSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/index.ts"}],[6988,{"../../../ducks/metamask/metamask":6883,"../../../selectors":7886,"../../../selectors/identity/authentication":7884,"./useSignIn":6990,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAutoSignIn=function(){const[e,t]=(0,n.useState)(!1),{signIn:s}=(0,c.useSignIn)(),u=Boolean((0,r.useSelector)(a.getIsUnlocked)),l=Boolean((0,r.useSelector)(o.getUseExternalServices)),d=Boolean((0,r.useSelector)(a.getCompletedOnboarding)),m=(0,r.useSelector)(i.selectIsSignedIn),h=(0,r.useSelector)(o.getMetaMaskKeyrings),p=(0,n.useRef)(h.length);(0,n.useEffect)(()=>{h.length!==p.current&&(p.current=h.length,t(!0))},[h.length]);const f=(0,n.useMemo)(()=>(!m||e)&&u&&l&&d,[m,u,l,d,e]);return{autoSignIn:(0,n.useCallback)(async()=>{f&&(e&&(await s(!0),t(!1)),await s())},[f,s,e]),shouldAutoSignIn:f}};var n=e("react"),r=e("react-redux"),a=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),c=e("./useSignIn")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignIn.ts"}],[6989,{"../../../ducks/metamask/metamask":6883,"../../../selectors":7886,"../../../selectors/identity/authentication":7884,"./useSignOut":6991,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAutoSignOut=function(){const{signOut:e}=(0,c.useSignOut)(),t=Boolean((0,r.useSelector)(a.getIsUnlocked)),s=Boolean((0,r.useSelector)(o.getUseExternalServices)),u=(0,r.useSelector)(i.selectIsSignedIn),l=(0,n.useMemo)(()=>u&&t&&!s,[u,t,s]),d=(0,n.useMemo)(()=>l,[l]);return{autoSignOut:(0,n.useCallback)(async()=>{d&&await e()},[d,e]),shouldAutoSignOut:d}};var n=e("react"),r=e("react-redux"),a=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),c=e("./useSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignOut.ts"}],[6990,{"../../../selectors/identity/authentication":7884,"../../../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSignIn=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.selectIsSignedIn),s=(0,r.useMemo)(()=>!t,[t]);return{signIn:(0,r.useCallback)(async t=>{if(t??s)try{await e((0,c.performSignIn)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}},[e,s])}};var n,r=e("react"),a=e("react-redux"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},i=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignIn.ts"}],[6991,{"../../../selectors/identity/authentication":7884,"../../../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSignOut=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.selectIsSignedIn),s=(0,r.useMemo)(()=>Boolean(t),[t]);return{signOut:(0,r.useCallback)(async()=>{if(s)try{await e((0,c.performSignOut)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}},[e,s])}};var n,r=e("react"),a=e("react-redux"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},i=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignOut.ts"}],[6992,{"./useBackupAndSync":6993},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useBackupAndSync",{enumerable:!0,get:function(){return n.useBackupAndSync}});var n=e("./useBackupAndSync")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/index.ts"}],[6993,{"../../../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useBackupAndSync=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(null),n=(0,r.useCallback)(async(t,n)=>{s(null);try{await e((0,i.setIsBackupAndSyncFeatureEnabled)(t,n))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),s(t)}finally{e((0,i.hideLoadingIndication)())}},[e]);return{error:t,setIsBackupAndSyncFeatureEnabled:n}};var n,r=e("react"),a=e("react-redux"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},i=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/useBackupAndSync.ts"}],[6994,{"./useContactSyncing":6995},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useContactSyncing",{enumerable:!0,get:function(){return n.useContactSyncing}}),Object.defineProperty(s,"useShouldDispatchContactSyncing",{enumerable:!0,get:function(){return n.useShouldDispatchContactSyncing}});var n=e("./useContactSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useContactSyncing/index.ts"}],[6995,{"../../../ducks/metamask/metamask":6883,"../../../selectors":7886,"../../../selectors/identity/authentication":7884,"../../../selectors/identity/backup-and-sync":7885,"../../../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useShouldDispatchContactSyncing=s.useContactSyncing=void 0;var n,r=(n=e("loglevel"))&&n.__esModule?n:{default:n},a=e("react"),o=e("react-redux"),i=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,o.useSelector)(c.selectIsBackupAndSyncEnabled),t=(0,o.useSelector)(c.selectIsContactSyncingEnabled),s=(0,o.useSelector)(u.getUseExternalServices),n=(0,o.useSelector)(l.getIsUnlocked),r=(0,o.useSelector)(d.selectIsSignedIn),a=(0,o.useSelector)(l.getCompletedOnboarding);return Boolean(s&&e&&t&&n&&r&&a)};s.useShouldDispatchContactSyncing=m;s.useContactSyncing=()=>{const e=(0,o.useDispatch)(),t=m(),s=(0,a.useCallback)(()=>{try{if(!t)return;e((0,i.syncContactsWithUserStorage)())}catch(e){r.default.error(e)}},[e,t]);return{dispatchContactSyncing:s,shouldDispatchContactSyncing:t}}}}},{package:"$root$",file:"ui/hooks/identity/useContactSyncing/useContactSyncing.ts"}],[6996,{"../../selectors/metamask-notifications/metamask-notifications":7887,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=a(),{featureAnnouncementsReadCount:t}=o(),{onChainMetamaskNotificationsReadCount:s}=i();return{notificationsReadCount:e+t+s}},s.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=a(),{featureAnnouncementsUnreadCount:t}=o(),{onChainMetamaskNotificationsUnreadCount:s}=i();return{notificationsUnreadCount:e+t+s}};var n=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications");const a=()=>({unreadSnapNotificationsCount:(0,n.useSelector)(r.getSnapNotificationsUnreadCount),readSnapNotificationsCount:(0,n.useSelector)(r.getSnapNotificationsReadCount)}),o=()=>{const e=(0,n.useSelector)(r.selectIsFeatureAnnouncementsEnabled),t=(0,n.useSelector)(r.getFeatureAnnouncementsUnreadCount),s=(0,n.useSelector)(r.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:s}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},i=()=>{const e=(0,n.useSelector)(r.selectIsMetamaskNotificationsEnabled),t=(0,n.useSelector)(r.getOnChainMetamaskNotificationsUnreadCount),s=(0,n.useSelector)(r.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:s}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[6997,{"../../contexts/metamask-notifications/notification-storage-keys":6854,"../../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCreateNotifications=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(null);return{createNotifications:(0,r.useCallback)(async()=>{s(null);try{await e((0,i.createOnChainTriggers)()),await(0,c.updateNotificationSubscriptionExpiration)()}catch(e){throw s(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},s.useDisableNotifications=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(null);return{disableNotifications:(0,r.useCallback)(async()=>{s(null);try{await e((0,i.disableMetamaskNotifications)()),await(0,c.setUserHasTurnedOffNotificationsOnce)()}catch(e){throw s(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},s.useEnableNotifications=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(null);return{enableNotifications:(0,r.useCallback)(async()=>{s(null);try{await e((0,i.enableMetamaskNotifications)()),await(0,c.updateNotificationSubscriptionExpiration)()}catch(e){throw s(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},s.useListNotifications=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(!1),[n,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(undefined);return{listNotifications:(0,r.useCallback)(async()=>{s(!0),c(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const s=await e((0,i.fetchAndUpdateMetamaskNotifications)(t??undefined));return l(s),s}catch(e){throw o.default.error(e),c(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{s(!1)}},[e]),notificationsData:u,isLoading:t,error:n}},s.useMarkNotificationAsRead=function(){const e=(0,a.useDispatch)();return{markNotificationAsRead:(0,r.useCallback)(async t=>{try{e((0,i.markMetamaskNotificationsAsRead)(t))}catch(e){throw o.default.error(e),e}},[e])}};var n,r=e("react"),a=e("react-redux"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},i=e("../../store/actions"),c=e("../../contexts/metamask-notifications/notification-storage-keys")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[6998,{"../../selectors/metamask-notifications/metamask-notifications":7887,"../../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountSettingsProps=function(e){const t=(0,a.useSelector)(c.getIsUpdatingMetamaskNotificationsAccount),s=(0,a.useSelector)(c.selectIsMetamaskNotificationsEnabled),n=function(){const e=(0,a.useDispatch)(),t=(0,r.useCallback)(async t=>{try{return await e((0,i.checkAccountsPresence)(t))}catch{return{}}},[]);return t}(),[o,u]=(0,r.useState)({}),[l,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),p=(0,r.useMemo)(()=>JSON.stringify(e),[e]),f=(0,r.useCallback)(async e=>{try{d(!0),h(null);const t=await n(e);u(t)}catch{h("Failed to get account settings")}finally{d(!1)}},[]);return(0,r.useEffect)(()=>{if(!s)return;const e=JSON.parse(p);f(e)},[p,n,s]),{data:o,initialLoading:l,error:m,accountsBeingUpdated:t,update:f}},s.useSwitchAccountNotificationsChange=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(null);return{onChange:(0,r.useCallback)(async(t,n)=>{s(null);try{n?await e((0,i.enableAccounts)(t)):await e((0,i.disableAccounts)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),s(t)}e((0,i.hideLoadingIndication)())},[e]),error:t}},s.useSwitchFeatureAnnouncementsChange=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(null);return{onChange:(0,r.useCallback)(async t=>{s(null);try{await e((0,i.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");s(t)}},[e]),error:t}};var n,r=e("react"),a=e("react-redux"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},i=e("../../store/actions"),c=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[6999,{"../../../shared/lib/snaps/snaps":5713,"../../selectors":7886,"../../selectors/accounts":7875,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useHdKeyringsWithSnapAccounts=void 0;var n=e("react"),r=e("react-redux"),a=e("../../selectors/accounts"),o=e("../../selectors"),i=e("../../../shared/lib/snaps/snaps");s.useHdKeyringsWithSnapAccounts=()=>{const e=(0,r.useSelector)(o.getMetaMaskHdKeyrings),t=(0,r.useSelector)(a.getInternalAccounts);return(0,n.useMemo)(()=>e.map(e=>{const s=t.filter(t=>{var s;return t.metadata.snap&&(0,i.isSnapPreinstalled)(t.metadata.snap.id)&&(null===(s=t.options)||void 0===s?void 0:s.entropySource)===e.metadata.id}).map(e=>e.address);return{...e,accounts:[...e.accounts,...s]}}),[e,t])}}}},{package:"$root$",file:"ui/hooks/multi-srp/useHdKeyringsWithSnapAccounts.ts"}],[7e3,{"../../components/app/assets/util/formatWithThreshold":5852,"../../ducks/locale/locale":6882,"../../ducks/metamask/metamask":6883,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDisplayBalanceCalc=function(){const e=(0,n.useSelector)(o.getCurrentCurrency),t=(0,n.useSelector)(i.getIntlLocale);return(0,r.useCallback)((s=0,n=e)=>(0,a.formatWithThreshold)(s,.01,t,{style:"currency",currency:n}),[e,t])};var n=e("react-redux"),r=e("react"),a=e("../../components/app/assets/util/formatWithThreshold"),o=e("../../ducks/metamask/metamask"),i=e("../../ducks/locale/locale")}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useAccountBalance.ts"}],[7001,{"../../selectors/assets":7878,"./useAccountBalance":7e3,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSingleWalletAccountsBalanceCallback=function(e){const t=(0,n.useMemo)(()=>(0,a.selectBalanceByWallet)(e),[e]),s=(0,r.useSelector)(t),i=(0,o.useDisplayBalanceCalc)();return(0,n.useCallback)(e=>{var t;const n=null===(t=s.groups)||void 0===t?void 0:t[e];if(!n)return undefined;return i(null==n?void 0:n.totalBalanceInUserCurrency,null==n?void 0:n.userCurrency)},[s,i])},s.useSingleWalletDisplayBalance=function(e){const t=(0,n.useMemo)(()=>(0,a.selectBalanceByWallet)(e),[e]),s=(0,r.useSelector)(t);return(0,o.useDisplayBalanceCalc)()(s.totalBalanceInUserCurrency,s.userCurrency)};var n=e("react"),r=e("react-redux"),a=e("../../selectors/assets"),o=e("./useAccountBalance")}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useWalletBalance.ts"}],[7002,{"../../ducks/metamask/metamask":6883,"../../selectors/multichain-accounts/account-tree":7890,"../multi-srp/useHdKeyringsWithSnapAccounts":6999,"./utils":7003,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useWalletInfo=void 0;var n=e("react"),r=e("react-redux"),a=e("../multi-srp/useHdKeyringsWithSnapAccounts"),o=e("../../selectors/multichain-accounts/account-tree"),i=e("../../ducks/metamask/metamask"),c=e("./utils");s.useWalletInfo=e=>{const t=(0,a.useHdKeyringsWithSnapAccounts)(),s=(0,r.useSelector)(i.getIsPrimarySeedPhraseBackedUp),u=(0,r.useSelector)(t=>(0,o.getMultichainAccountsByWalletId)(t,e)),l=Object.values(u??{});return(0,n.useMemo)(()=>{if(0===Object.entries(l||{}).length)return{multichainAccounts:l,keyringId:undefined};const n=t.findIndex(t=>t.metadata.id===(0,c.stripWalletTypePrefixFromWalletId)(e));if(-1===n)return{multichainAccounts:l,keyringId:undefined};const r=t[n],a=(null==r?void 0:r.metadata.id)??undefined,o=1===n+1?s:undefined;return{multichainAccounts:l,keyringId:a,isSRPBackedUp:o}},[l,t,s,e])}}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useWalletInfo.ts"}],[7004,{"../../../../shared/lib/asset-utils":5647,"../../../../shared/modules/selectors/networks":5753,"../../../selectors":7886,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.RampsMetaMaskEntry=void 0;var n=e("react"),r=e("react-redux"),a=e("@metamask/utils"),o=e("../../../../shared/modules/selectors/networks"),i=e("../../../selectors"),c=e("../../../../shared/lib/asset-utils");const u="https://app.metamask.io";let l=s.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});s.default=(e=l.BuySellButton)=>{const t=(0,r.useSelector)(o.getCurrentChainId),s=(0,r.useSelector)(i.getMetaMetricsId),d=(0,r.useSelector)(i.getParticipateInMetaMetrics),m=(0,r.useSelector)(i.getDataCollectionForMarketing),h=(0,n.useCallback)(t=>{try{const n=new URLSearchParams;n.set("metamaskEntry",e);let r="";r=(0,c.isEvmChainId)(t)?(0,a.hexToNumber)(t).toString():t,n.set("chainId",r),s&&n.set("metametricsId",s),n.set("metricsEnabled",String(d)),m&&n.set("marketingEnabled",String(m));const o=new URL("https://app.metamask.io");return o.pathname="buy",o.search=n.toString(),o.toString()}catch{return`${u}/buy`}},[m,d,s,e]);return{openBuyCryptoInPdapp:(0,n.useCallback)(e=>{const s=h(e||t);global.platform.openTab({url:s})},[t,h]),getBuyURI:h}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[7005,{"../../ducks/metamask/metamask":6883,"../../ducks/rewards":6887,"../../ducks/rewards/selectors":6888,"../../store/actions":7916,"../../store/store":7921,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCandidateSubscriptionId=void 0;var n,r=e("react"),a=(n=e("loglevel"))&&n.__esModule?n:{default:n},o=e("react-redux"),i=e("../../store/actions"),c=e("../../ducks/metamask/metamask"),u=e("../../ducks/rewards/selectors"),l=e("../../ducks/rewards"),d=e("../../store/store");s.useCandidateSubscriptionId=()=>{const e=(0,o.useDispatch)(),t=(0,o.useSelector)(c.getIsUnlocked),s=(0,o.useSelector)(u.selectRewardsEnabled),n=(0,o.useSelector)(u.selectCandidateSubscriptionId),m=(0,d.useAppSelector)(e=>{var t;return null===(t=e.metamask.rewardsActiveAccount)||void 0===t?void 0:t.subscriptionId}),h=(0,r.useRef)(!1),p=(0,r.useCallback)(async()=>{try{if(!s)return void e((0,l.setCandidateSubscriptionId)(null));if(m)return h.current=!1,void e((0,l.setCandidateSubscriptionId)(m));if(h.current)return;h.current=!0;const t=await e((0,i.getRewardsCandidateSubscriptionId)());e((0,l.setCandidateSubscriptionId)(t))}catch(t){a.default.error("[useCandidateSubscriptionId] Error fetching candidate subscription ID:",t),e((0,l.setCandidateSubscriptionId)("error"))}finally{h.current=!1}},[s,e,m]);return(0,r.useEffect)(()=>{"retry"===n&&p()},[n,p]),(0,r.useEffect)(()=>{t&&p()},[p,t]),{fetchCandidateSubscriptionId:p}}}}},{package:"$root$",file:"ui/hooks/rewards/useCandidateSubscriptionId.ts"}],[7006,{"../../ducks/rewards":6887,"../../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useGeoRewardsMetadata=void 0;var n=e("react"),r=e("react-redux"),a=e("../../ducks/rewards"),o=e("../../store/actions");s.useGeoRewardsMetadata=({enabled:e=!0})=>{const t=(0,r.useDispatch)(),s=(0,n.useRef)(!1),i=(0,n.useCallback)(async()=>{if(!s.current&&e){s.current=!0,t((0,a.setRewardsGeoMetadataLoading)(!0)),t((0,a.setRewardsGeoMetadataError)(!1));try{const e=await t((0,o.getRewardsGeoMetadata)());t((0,a.setRewardsGeoMetadata)(e))}catch(e){t((0,a.setRewardsGeoMetadataError)(!0))}finally{s.current=!1,t((0,a.setRewardsGeoMetadataLoading)(!1))}}else e||(t((0,a.setRewardsGeoMetadataError)(!1)),t((0,a.setRewardsGeoMetadataLoading)(!1)),t((0,a.setRewardsGeoMetadata)(null)))},[t,e]);return(0,n.useEffect)(()=>{i()},[i]),{fetchGeoRewardsMetadata:i}}}}},{package:"$root$",file:"ui/hooks/rewards/useGeoRewardsMetadata.ts"}],[7007,{"../../../shared/constants/metametrics":5613,"../../contexts/metametrics":6855,"../../ducks/rewards":6887,"../../pages/multichain-accounts/account-details/account-type-utils":7622,"../../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useLinkAccountAddress=void 0;var n=e("react"),r=e("react-redux"),a=e("../../store/actions"),o=e("../../contexts/metametrics"),i=e("../../../shared/constants/metametrics"),c=e("../../pages/multichain-accounts/account-details/account-type-utils"),u=e("../../ducks/rewards");s.useLinkAccountAddress=()=>{const e=(0,r.useDispatch)(),[t,s]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),m=(0,n.useContext)(o.MetaMetricsContext),h=(0,n.useRef)(!0);(0,n.useEffect)(()=>(h.current=!0,()=>{h.current=!1}),[]);const p=(0,n.useCallback)((e,t)=>{const s={account_type:(0,c.getAccountTypeCategory)(t)};m({category:i.MetaMetricsEventCategory.Rewards,event:e,properties:s})},[m]);return{linkAccountAddress:(0,n.useCallback)(async t=>{if(!h.current)return!1;s(!0),d(!1);try{const s=await e((0,a.rewardsIsOptInSupported)({account:t}));if(!h.current)return!1;if(!s)return d(!0),!1;const n=await e((0,a.rewardsGetOptInStatus)({addresses:[t.address]}));if(!h.current)return!1;if(n.ois[0])return!0;p(i.MetaMetricsEventName.RewardsAccountLinkingStarted,t);try{const s=await e((0,a.rewardsLinkAccountsToSubscriptionCandidate)([t]));if(!h.current)return!1;const n=s[0];return null!=n&&n.success?(p(i.MetaMetricsEventName.RewardsAccountLinkingCompleted,t),e((0,u.setRewardsAccountLinkedTimestamp)(Date.now())),!0):(p(i.MetaMetricsEventName.RewardsAccountLinkingFailed,t),d(!0),!1)}catch(e){return!!h.current&&(p(i.MetaMetricsEventName.RewardsAccountLinkingFailed,t),d(!0),!1)}}catch(e){return!!h.current&&(d(!0),!1)}finally{h.current&&s(!1)}},[p,e]),isLoading:t,isError:l}}}}},{package:"$root$",file:"ui/hooks/rewards/useLinkAccountAddress.ts"}],[7008,{"../../../shared/constants/metametrics":5613,"../../components/app/rewards/utils/handleRewardsErrorMessage":6062,"../../contexts/metametrics":6855,"../../ducks/rewards":6887,"../../selectors":7886,"../../selectors/multichain-accounts/account-tree":7890,"../../store/actions":7916,"../useI18nContext":7047,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useOptIn=void 0;var n=e("react"),r=e("react-redux"),a=e("../../selectors/multichain-accounts/account-tree"),o=e("../../ducks/rewards"),i=e("../../selectors"),c=e("../../contexts/metametrics"),u=e("../../../shared/constants/metametrics"),l=e("../../store/actions"),d=e("../../components/app/rewards/utils/handleRewardsErrorMessage"),m=e("../useI18nContext");s.useOptIn=()=>{const[e,t]=(0,n.useState)(null),s=(0,r.useDispatch)(),[h,p]=(0,n.useState)(!1),f=(0,n.useContext)(c.MetaMetricsContext),g=(0,m.useI18nContext)(),k=(0,r.useSelector)(a.getSelectedAccountGroup),S=(0,r.useSelector)(i.getSelectedAccount),{id:y}=(0,r.useSelector)(e=>(0,a.getWalletIdAndNameByAccountAddress)(e,S.address))||{walletId:undefined},b=(0,r.useSelector)(e=>y?(0,a.getMultichainAccountsByWalletId)(e,y):{}),v=(0,n.useMemo)(()=>b?Object.keys(b)[0]:undefined,[b]),T=(0,r.useSelector)(e=>v?(0,a.getInternalAccountsFromGroupById)(e,v):[]),w=(0,r.useSelector)(e=>k?(0,a.getInternalAccountsFromGroupById)(e,k):[]);return{optin:(0,n.useCallback)(async e=>{const n={referred:Boolean(e),referral_code_used:e};f({category:u.MetaMetricsEventCategory.Rewards,event:u.MetaMetricsEventName.RewardsOptInStarted,properties:n});let r=null;try{p(!0),t(null);const a=v&&T.length>0?T:w,o=v&&T.length>0?w:T;if(r=await s((0,l.rewardsOptIn)({accounts:a,referralCode:e})),r){if(o.length>0)try{await s((0,l.rewardsLinkAccountsToSubscriptionCandidate)(o))}catch{}f({category:u.MetaMetricsEventCategory.Rewards,event:u.MetaMetricsEventName.RewardsOptInCompleted,properties:n});try{await s((0,l.updateMetaMetricsTraits)({[u.MetaMetricsUserTrait.HasRewardsOptedIn]:"on",...e&&{[u.MetaMetricsUserTrait.RewardsReferred]:!0,[u.MetaMetricsUserTrait.RewardsReferralCodeUsed]:e}}))}catch{}}}catch(e){f({category:u.MetaMetricsEventCategory.Rewards,event:u.MetaMetricsEventName.RewardsOptInFailed,properties:n});const s=(0,d.handleRewardsErrorMessage)(e,g);t(s)}r&&s((0,o.setCandidateSubscriptionId)(r)),p(!1)},[f,v,T,w,s,g]),optinLoading:h,optinError:e,clearOptinError:(0,n.useCallback)(()=>t(null),[])}}}}},{package:"$root$",file:"ui/hooks/rewards/useOptIn.ts"}],[7009,{"../../../shared/constants/rewards":5625,"../../ducks/metamask/metamask":6883,"../../ducks/rewards":6887,"../../ducks/rewards/selectors":6888,"../../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSeasonStatus=void 0;var n=e("react"),r=e("react-redux"),a=e("../../store/actions"),o=e("../../ducks/metamask/metamask"),i=e("../../ducks/rewards/selectors"),c=e("../../ducks/rewards"),u=e("../../../shared/constants/rewards");s.useSeasonStatus=({subscriptionId:e,onAuthorizationError:t})=>{const s=(0,r.useDispatch)(),l=(0,r.useSelector)(o.getIsUnlocked),d=(0,r.useSelector)(i.selectRewardsEnabled),m=(0,n.useRef)(null),h=(0,n.useCallback)(async()=>{if(!e||"pending"===e||"retry"===e||"error"===e||!d)return s((0,c.setSeasonStatus)(null)),s((0,c.setSeasonStatusError)(null)),void s((0,c.setSeasonStatusLoading)(!1));if(!Boolean(m.current)||m.current!==e){m.current=e,s((0,c.setSeasonStatusLoading)(!0));try{const t=await s((0,a.getRewardsSeasonMetadata)("current"));if(!t)throw new Error("No season metadata found");const n=await s((0,a.getRewardsSeasonStatus)(e,t.id));s((0,c.setSeasonStatus)(n)),s((0,c.setSeasonStatusError)(null))}catch(e){const n=e instanceof Error?e.message:"Unknown error";s((0,c.setSeasonStatusError)(n)),(n.includes(u.REWARDS_ERROR_MESSAGES.AUTHORIZATION_FAILED)||n.includes(u.REWARDS_ERROR_MESSAGES.SEASON_NOT_FOUND))&&t&&(await t(),s((0,c.setSeasonStatus)(null)))}finally{m.current=null,s((0,c.setSeasonStatusLoading)(!1))}}},[e,t,d,s]);return(0,n.useEffect)(()=>{l&&e&&h()},[l,h,e]),{fetchSeasonStatus:h}}}}},{package:"$root$",file:"ui/hooks/rewards/useSeasonStatus.ts"}],[7010,{"../../store/actions":7916,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useValidateReferralCode=void 0;var n=e("react"),r=e("lodash"),a=e("react-redux"),o=e("../../store/actions");s.useValidateReferralCode=(e="",t=1e3)=>{const[s,i]=(0,n.useState)(e),[c,u]=(0,n.useState)(""),[l,d]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),p=(0,n.useRef)(!1),f=(0,a.useDispatch)(),g=(0,n.useCallback)(async e=>{try{return await f((0,o.validateRewardsReferralCode)(e))?"":"Invalid code"}catch(e){return h(!0),"Unknown error"}},[f]),k=(0,n.useCallback)((0,r.debounce)(async e=>{h(!1);const t=await g(e);u(t),d(!1)},t),[t,g]),S=(0,n.useCallback)(e=>{const t=e.trim().toUpperCase();if(i(t),t.length<6)return k.cancel(),d(!1),void u("minLength 6 characters");t&&d(!0),k(t)},[k]);(0,n.useEffect)(()=>{p.current?e!==s&&S(e):(S(e),p.current=!0)},[e]),(0,n.useEffect)(()=>()=>k.cancel(),[k]);const y=Boolean(s)&&!c&&!l;return{referralCode:s,setReferralCode:S,validateCode:g,isValidating:l,isValid:y,isUnknownError:m}}}}},{package:"$root$",file:"ui/hooks/rewards/useValidateReferralCode.ts"}],[7011,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/shield":5757,"../../../contexts/metametrics":6855,"../../../selectors":7886,"../../../selectors/multichain-accounts/account-tree":7890,"../../../store/actions":7916,"../../useAccountTotalFiatBalance":7026,"./utils":7012,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSubscriptionMetrics=void 0;var n=e("react"),r=e("react-redux"),a=e("../../../contexts/metametrics"),o=e("../../../../shared/constants/metametrics"),i=e("../../../selectors"),c=e("../../useAccountTotalFiatBalance"),u=e("../../../../shared/modules/shield"),l=e("../../../store/actions"),d=e("../../../selectors/multichain-accounts/account-tree"),m=e("./utils");s.useSubscriptionMetrics=()=>{const e=(0,r.useDispatch)(),t=(0,n.useContext)(a.MetaMetricsContext),s=(0,r.useSelector)(e=>(0,d.getInternalAccountBySelectedAccountGroupAndCaip)(e,"eip155:1")),h=(0,r.useSelector)(i.getMetaMaskHdKeyrings),{totalFiatBalance:p}=(0,c.useAccountTotalFiatBalance)(s,!0,!0),f=(0,n.useCallback)(async t=>{await e((0,l.setShieldSubscriptionMetricsProps)({marketingUtmParams:t.marketingUtmParams,source:t.source,userBalanceInUSD:Number(p)}))},[e,p]),g=(0,n.useCallback)(async(e,n)=>{const r=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),a=(0,m.formatCaptureShieldEligibilityCohortEventsProps)(e,Number(p));t({event:n,category:o.MetaMetricsEventCategory.Shield,properties:{...r,...a}})},[t,s,h,p]),k=(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p));t({event:o.MetaMetricsEventName.ShieldEntryModal,category:o.MetaMetricsEventCategory.Shield,properties:{...n,...(0,u.getShieldMarketingTrackingProps)(e.marketingUtmParams),source:e.source,modal_type:e.type,modal_cta_action_clicked:e.modalCtaActionClicked,post_transaction_type:e.postTransactionType}})},[t,s,h,p]),S=(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),r=(0,m.formatDefaultShieldSubscriptionRequestEventProps)(e);t({event:o.MetaMetricsEventName.ShieldSubscriptionRequest,category:o.MetaMetricsEventCategory.Shield,properties:{...n,...r}})},[t,s,h,p]),y=(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),r=(0,m.formatExistingSubscriptionEventProps)(e);t({event:o.MetaMetricsEventName.ShieldMembershipRestartRequest,category:o.MetaMetricsEventCategory.Shield,properties:{...n,...r,status:e.requestStatus,error_message:e.errorMessage}})},[t,s,h,p]),b=(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),r=(0,m.formatExistingSubscriptionEventProps)(e);t({event:o.MetaMetricsEventName.ShieldMembershipCancelled,category:o.MetaMetricsEventCategory.Shield,properties:{...n,...r,status:e.cancellationStatus,error_message:e.errorMessage,latest_subscription_duration:e.latestSubscriptionDuration}})},[t,s,h,p]),v=(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),r=(0,m.formatCaptureShieldPaymentMethodChangeEventProps)(e);t({event:o.MetaMetricsEventName.ShieldPaymentMethodChange,category:o.MetaMetricsEventCategory.Shield,properties:{...n,...r,status:e.changeStatus,error_message:e.errorMessage}})},[s,h,p,t]),T=(0,n.useCallback)((e,n)=>{const r=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),a=(0,m.formatExistingSubscriptionEventProps)(e);t({event:n,category:o.MetaMetricsEventCategory.Shield,properties:{...r,...a}})},[t,s,h,p]),w=(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),r=(0,m.formatDefaultShieldSubscriptionRequestEventProps)(e);t({event:o.MetaMetricsEventName.ShieldSubscriptionCryptoConfirmation,category:o.MetaMetricsEventCategory.Shield,properties:{...n,...r,has_insufficient_gas:e.hasInsufficientGas}})},[t,s,h,p]);return{setShieldSubscriptionMetricsPropsToBackground:f,captureShieldEntryModalEvent:k,captureShieldSubscriptionRequestEvent:S,captureShieldMembershipCancelledEvent:b,captureShieldPaymentMethodChangeEvent:v,captureShieldCtaClickedEvent:(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),r=(0,m.formatCaptureShieldCtaClickedEventProps)(e);t({event:o.MetaMetricsEventName.ShieldCtaClicked,category:o.MetaMetricsEventCategory.Shield,properties:{...n,...r}})},[t,s,h,p]),captureShieldClaimSubmissionEvent:(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p));t({event:o.MetaMetricsEventName.ShieldClaimSubmission,category:o.MetaMetricsEventCategory.Shield,properties:{...n,subscription_status:e.subscriptionStatus,attachments_count:e.attachmentsCount,submission_status:e.submissionStatus,error_message:e.errorMessage}})},[t,s,h,p]),captureShieldCryptoConfirmationEvent:w,captureShieldEligibilityCohortEvent:g,captureCommonExistingShieldSubscriptionEvents:T,captureShieldErrorStateClickedEvent:(0,n.useCallback)(e=>{const n=(0,u.getShieldCommonTrackingProps)(s,h,Number(p)),r=(0,m.formatExistingSubscriptionEventProps)(e);t({event:o.MetaMetricsEventName.ShieldMembershipErrorStateClicked,category:o.MetaMetricsEventCategory.Shield,properties:{...n,...r,type:e.errorCause,action:e.actionClicked,location:e.location,view:e.view}})},[t,s,h,p]),captureShieldSubscriptionRestartRequestEvent:y}}}}},{package:"$root$",file:"ui/hooks/shield/metrics/useSubscriptionMetrics.ts"}],[7012,{"../../../../shared/modules/shield":5757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.formatCaptureShieldCtaClickedEventProps=function(e){return{...(0,n.getShieldMarketingTrackingProps)(e.marketingUtmParams),source:e.source,page:e.redirectToPage,url:e.redirectToUrl,cta_action_clicked:e.ctaActionClicked}},s.formatCaptureShieldEligibilityCohortEventsProps=function(e,t){const s={multi_chain_balance_category:(0,n.getUserBalanceCategory)(Number(t)),number_of_eligible_cohorts:e.numberOfEligibleCohorts,assigned_cohort:e.cohort};"modalType"in e&&(s.modal_type=e.modalType);return s},s.formatCaptureShieldPaymentMethodChangeEventProps=function(e){const t=r(e),s=(0,n.getBillingIntervalForMetrics)(e.newBillingInterval);return{...t,new_payment_type:e.newPaymentType,new_billing_interval:s,new_crypto_payment_chain:e.newCryptoPaymentChain,new_payment_currency:e.newPaymentCurrency}},s.formatDefaultShieldSubscriptionRequestEventProps=function(e){const t=(0,n.getBillingIntervalForMetrics)(e.defaultBillingInterval),s=(0,n.getBillingIntervalForMetrics)(e.billingInterval),r=(0,n.getBillingCyclesForMetrics)(e.billingInterval);return{...(0,n.getShieldMarketingTrackingProps)(e.marketingUtmParams),source:e.source,post_transaction_type:e.postTransactionType,subscription_state:e.subscriptionState,default_payment_type:e.defaultPaymentType,default_payment_currency:e.defaultPaymentCurrency,default_billing_interval:t,default_payment_chain:e.defaultPaymentChain,payment_type:e.paymentType,payment_currency:e.paymentCurrency,is_trial:e.isTrialSubscription,billing_interval:s,billing_cycles:r,payment_chain:e.paymentChain,has_sufficient_crypto_balance:e.hasSufficientCryptoBalance,gas_sponsored:e.gasSponsored,error_message:e.errorMessage,status:e.requestStatus}},s.formatExistingSubscriptionEventProps=r;var n=e("../../../../shared/modules/shield");function r(e){const t=(0,n.getBillingIntervalForMetrics)(e.billingInterval);return{subscription_status:e.subscriptionStatus,payment_type:e.paymentType,crypto_payment_chain:e.cryptoPaymentChain,crypto_payment_currency:e.cryptoPaymentCurrency,billing_interval:t}}}}},{package:"$root$",file:"ui/hooks/shield/metrics/utils.ts"}],[7013,{"../../contexts/claims/claims":6848,"../../store/actions":7916,react:5080,"react-router-dom":5048},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useClaimState=void 0;var n=e("react"),r=e("react-router-dom"),a=e("../../contexts/claims/claims"),o=e("../../store/actions");s.useClaimState=(e=!1)=>{const{pathname:t}=(0,r.useLocation)(),{claims:s}=(0,a.useClaims)(),[i,c]=(0,n.useState)(""),[u,l]=(0,n.useState)(""),[d,m]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[f,g]=(0,n.useState)(""),[k,S]=(0,n.useState)(""),[y,b]=(0,n.useState)(),[v,T]=(0,n.useState)([]),[w,C]=(0,n.useState)(""),_=t.split("/").pop();return(0,n.useEffect)(()=>{!e&&i&&d&&(async()=>{const e=await(0,o.generateClaimSignature)(i,d);C(e)})()},[e,i,d]),(0,n.useEffect)(()=>{if(e&&_){const e=s.find(e=>e.id===_);e&&(l(e.email),c(e.chainId),m(e.impactedWalletAddress),p(e.impactedTxHash),g(e.reimbursementWalletAddress),S(e.description),T(e.attachments||[]))}},[e,_,s]),{chainId:i,setChainId:c,email:u,setEmail:l,impactedWalletAddress:d,setImpactedWalletAddress:m,impactedTransactionHash:h,setImpactedTransactionHash:p,reimbursementWalletAddress:f,setReimbursementWalletAddress:g,caseDescription:k,setCaseDescription:S,files:y,setFiles:b,uploadedFiles:v,claimSignature:w,clear:()=>{c(""),l(""),m(""),p(""),g(""),S(""),b(undefined)}}}}}},{package:"$root$",file:"ui/hooks/shield/useClaimState.ts"}],[7014,{"../../../shared/modules/conversion.utils":5732,"../../../shared/modules/hexstring-utils":5741,"../../selectors":7886,"../../selectors/multichain-accounts/account-tree":7890,"../../selectors/snaps":7911,"@metamask/utils":2914,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDisplayName=void 0;var n=e("@metamask/utils"),r=e("react-redux"),a=e("../../selectors/snaps"),o=e("../../../shared/modules/hexstring-utils"),i=e("../../../shared/modules/conversion.utils"),c=e("../../selectors/multichain-accounts/account-tree"),u=e("../../selectors");s.useDisplayName=e=>{var t;const{address:s,chain:{namespace:l,reference:d}}=e,m=l===n.KnownCaipNamespace.Eip155,h=m?(0,o.toChecksumHexAddress)(s):s,p=(0,r.useSelector)(u.getIsMultichainAccountsState2Enabled),f=null===(t=(0,r.useSelector)(e=>(0,c.getAccountGroupsByAddress)(e,[h]))[0])||void 0===t?void 0:t.metadata.name,g=(0,r.useSelector)(e=>(0,a.getMemoizedAccountName)(e,h)),k=(0,r.useSelector)(e=>(0,a.getAddressBookEntryByNetwork)(e,h,`0x${(0,i.decimalToHex)(m?d:"0")}`));return p&&f||g||m&&(null==k?void 0:k.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[7015,{"../../selectors":7886,"@metamask/snaps-sdk":2667,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useInsightSnaps=function(e){const t=(0,n.useSelector)(t=>(0,a.getSnapInsights)(t,e)),s=t?Object.values(t):[],o=s.filter(e=>e.severity===r.SeverityLevel.Critical);return{data:s,warnings:o}};var n=e("react-redux"),r=e("@metamask/snaps-sdk"),a=e("../../selectors")}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[7016,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react");s.default=()=>{const e=(0,n.useRef)(null),[t,s]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{s(e.current&&e.current.offsetHeight<e.current.scrollHeight)},[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[7017,{"../../store/actions":7916,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSafeWebsite=void 0;var n=e("react"),r=e("../../store/actions");s.useSafeWebsite=e=>{const[t,s]=(0,n.useState)();return(0,n.useEffect)(()=>{e&&(async()=>{(await(0,r.getPhishingResult)(e)).result||s(new URL(e))})()},[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[7018,{"../../selectors":7886,"../../store/actions":7916,"@metamask/snaps-rpc-methods":2611,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSnapNameResolution=function(){const e=(0,r.useSelector)(o.getNameLookupSnaps),t=(0,n.useCallback)((t,s)=>e.filter(({permission:e})=>{const n=(0,a.getChainIdsCaveat)(e);if(n&&!n.includes(t))return!1;const r=(0,a.getLookupMatchersCaveat)(e);if(r){const{tlds:e,schemes:t}=r;return(null==e?void 0:e.some(e=>s.endsWith(`.${e}`)))||(null==t?void 0:t.some(e=>s.startsWith(`${e}:`)))}return!0}).map(({id:e})=>e),[e]);return{fetchResolutions:(0,n.useCallback)(async(e,s)=>{const n=t(e,s);if(0===n.length)return[];return(await Promise.allSettled(n.map(t=>(0,i.handleSnapRequest)({snapId:t,origin:"metamask",handler:"onNameLookup",request:{jsonrpc:"2.0",method:" ",params:{chainId:e,domain:s}}})))).filter(e=>"fulfilled"===e.status&&e.value).flatMap(e=>e.value.resolvedAddresses)},[t])}};var n=e("react"),r=e("react-redux"),a=e("@metamask/snaps-rpc-methods"),o=e("../../selectors"),i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNameResolution.ts"}],[7019,{"../../helpers/utils/util":6959,"@metamask/snaps-utils":2781,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react"),r=e("react-router-dom-v5-compat"),a=e("@metamask/snaps-utils"),o=e("../../helpers/utils/util");s.default=()=>{const e=(0,r.useNavigate)(),t=(0,n.useCallback)(t=>{let s;const n=(0,a.parseMetaMaskUrl)(t);s=n.snapId?(0,o.getSnapRoute)(n.snapId):n.path,e(s)},[e]);return(0,n.useMemo)(()=>({useSnapNavigate:t}),[t])}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[7020,{"../../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSnapSettings=function({snapId:e}){const t=(0,r.useDispatch)(),[s,o]=(0,n.useState)(!0),[i,c]=(0,n.useState)(undefined),[u,l]=(0,n.useState)(undefined);return(0,n.useEffect)(()=>{let s=!1;return e&&async function(e){try{l(undefined),o(!0);const n=await(0,a.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});s||(c(n),(0,a.forceUpdateMetamaskState)(t))}catch(e){s||l(e)}finally{s||o(!1)}}(e),()=>{s=!0}},[e]),{data:i,error:u,loading:s}};var n=e("react"),r=e("react-redux"),a=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[7021,{"../../selectors":7886,"../../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSyncSRPs=void 0;var n,r=e("react"),a=e("react-redux"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},i=e("../../store/actions"),c=e("../../selectors");s.useSyncSRPs=()=>{const e=(0,a.useDispatch)(),t=(0,a.useSelector)(c.getIsSocialLoginFlow),[s,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(t)try{n(!0),await e((0,i.syncSeedPhrases)())}catch(e){o.default.error("[useSyncSRPs] error",e)}finally{n(!1)}})()},[e,t]),{loading:s}}}}},{package:"$root$",file:"ui/hooks/social-sync/useSyncSRPs.ts"}],[7022,{"../../../shared/constants/metametrics":5613,"../../../shared/constants/subscriptions":5632,"../../../shared/lib/shield":5712,"../../../shared/lib/ui-utils":5725,"../../../shared/modules/conversion.utils":5732,"../../../shared/modules/shield":5757,"../../ducks/metamask/metamask":6883,"../../helpers/constants/routes":6904,"../../helpers/utils/window":6961,"../../pages/confirmations/send-legacy/send.utils":7578,"../../selectors":7886,"../../selectors/identity/authentication":7884,"../../selectors/multichain-accounts/account-tree":7890,"../../selectors/subscription":7912,"../../store/actions":7916,"../shield/metrics/useSubscriptionMetrics":7011,"../useAccountTotalFiatBalance":7026,"../useAsync":7029,"./useSubscriptionPricing":7023,"@metamask/subscription-controller":2806,"@metamask/transaction-controller":2868,loglevel:4643,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useUserSubscriptions=s.useUserSubscriptionByProduct=s.useUserLastSubscriptionByProduct=s.useUpdateSubscriptionCardPaymentMethod=s.useUnCancelSubscription=s.useSubscriptionEligibility=s.useSubscriptionCryptoApprovalTransaction=s.useOpenGetSubscriptionBillingPortal=s.useHandleSubscriptionSupportAction=s.useHandleSubscription=s.useCancelSubscription=void 0;var n,r=e("react-redux"),a=e("react"),o=e("@metamask/subscription-controller"),i=(n=e("loglevel"))&&n.__esModule?n:{default:n},c=e("react-router-dom-v5-compat"),u=e("@metamask/transaction-controller"),l=e("../../selectors/subscription"),d=e("../../store/actions"),m=e("../useAsync"),h=e("../../selectors/identity/authentication"),p=e("../../ducks/metamask/metamask"),f=e("../../../shared/lib/shield"),g=e("../../pages/confirmations/send-legacy/send.utils"),k=e("../../../shared/modules/conversion.utils"),S=e("../../helpers/constants/routes"),y=e("../../selectors/multichain-accounts/account-tree"),b=e("../../selectors"),v=e("../shield/metrics/useSubscriptionMetrics"),T=e("../../../shared/constants/subscriptions"),w=e("../../../shared/modules/shield"),C=e("../../helpers/utils/window"),_=e("../../../shared/lib/ui-utils"),E=e("../../../shared/constants/metametrics"),I=e("../useAccountTotalFiatBalance"),M=e("./useSubscriptionPricing");const A=({refetch:e}={refetch:!1})=>{const t=(0,r.useDispatch)(),s=(0,r.useSelector)(l.getUserSubscriptions),n=(0,m.useAsyncResult)(async()=>e?await t((0,d.getSubscriptions)()):undefined,[e,t]);return{...s,loading:n.pending,error:n.error}};s.useUserSubscriptions=A;s.useUserSubscriptionByProduct=(e,t)=>(0,a.useMemo)(()=>null==t?void 0:t.find(t=>t.products.some(t=>t.name===e)),[t,e]);s.useUserLastSubscriptionByProduct=(e,t)=>(0,a.useMemo)(()=>null!=t&&t.products.some(t=>t.name===e)?t:undefined,[t,e]);s.useCancelSubscription=e=>{const t=(0,r.useDispatch)(),{captureShieldMembershipCancelledEvent:s}=(0,v.useSubscriptionMetrics)(),n=(0,a.useMemo)(()=>e?(0,f.getSubscriptionDurationInDays)(e):0,[e]),o=(0,a.useCallback)((t,r)=>{if(!e)return;const{cryptoPaymentChain:a,cryptoPaymentCurrency:o}=(0,f.getSubscriptionPaymentData)(e);s({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:e.interval,cryptoPaymentChain:a,cryptoPaymentCurrency:o,cancellationStatus:t,errorMessage:r,latestSubscriptionDuration:n})},[e,s,n]);return(0,m.useAsyncCallback)(async()=>{try{if(!e)return;const s=e.id;await t((0,d.cancelSubscription)({subscriptionId:s})),o("succeeded")}catch(e){const t=e instanceof Error?e.message:"Unknown error";throw o("failed",t),e}},[t,e,s])};s.useUnCancelSubscription=e=>{const t=(0,r.useDispatch)(),{captureShieldSubscriptionRestartRequestEvent:s}=(0,v.useSubscriptionMetrics)(),n=(0,a.useCallback)((t,n)=>{if(!e)return;const{cryptoPaymentChain:r,cryptoPaymentCurrency:a}=(0,f.getSubscriptionPaymentData)(e);s({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:e.interval,cryptoPaymentChain:r,cryptoPaymentCurrency:a,requestStatus:t,errorMessage:n})},[s,e]);return(0,m.useAsyncCallback)(async()=>{try{const s=null==e?void 0:e.id;if(!s)return;await t((0,d.unCancelSubscription)({subscriptionId:s})),n("completed")}catch(e){const t=e instanceof Error?e.message:"Unknown error";throw n("failed",t),e}},[t,e,n])};s.useOpenGetSubscriptionBillingPortal=e=>{const t=(0,r.useDispatch)(),{captureCommonExistingShieldSubscriptionEvents:s}=(0,v.useSubscriptionMetrics)(),n=(0,a.useCallback)(()=>{if(!e)return;const{cryptoPaymentChain:t,cryptoPaymentCurrency:n}=(0,f.getSubscriptionPaymentData)(e);s({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:e.interval,cryptoPaymentChain:t,cryptoPaymentCurrency:n},E.MetaMetricsEventName.ShieldBillingHistoryOpened)},[s,e]);return(0,m.useAsyncCallback)(async()=>{const{url:e}=await t((0,d.getSubscriptionBillingPortalUrl)());return n(),await platform.openTab({url:e})},[t,n])};s.useUpdateSubscriptionCardPaymentMethod=({subscription:e,newRecurringInterval:t})=>{const s=(0,r.useDispatch)(),{captureCommonExistingShieldSubscriptionEvents:n}=(0,v.useSubscriptionMetrics)();return(0,m.useAsyncCallback)(async()=>{if(!e||!t)throw new Error("Subscription ID and recurring interval are required");const r=e.id;await s((0,d.updateSubscriptionCardPaymentMethod)({subscriptionId:r,paymentType:o.PAYMENT_TYPES.byCard,recurringInterval:t})),n({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:t},E.MetaMetricsEventName.ShieldPaymentMethodUpdated)},[s,e,t,n])};const N=e=>{var t;const s=(0,c.useNavigate)(),{subscriptionPricing:n}=(0,M.useSubscriptionPricing)(),i=(0,r.useSelector)(e=>(0,y.getInternalAccountBySelectedAccountGroupAndCaip)(e,"eip155:1")),l=(0,r.useSelector)(t=>(0,b.selectNetworkConfigurationByChainId)(t,null==e?void 0:e.chainId)),m=null==l||null===(t=l.rpcEndpoints[l.defaultRpcEndpointIndex??0])||void 0===t?void 0:t.networkClientId,h=(0,r.useSelector)(b.getUnapprovedConfirmations).length>0,[p,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{h&&p&&s(S.CONFIRM_TRANSACTION_ROUTE)},[h,p,s]);return{execute:(0,a.useCallback)(async()=>{var t;if(!n)throw new Error("Subscription pricing not found");if(!e)throw new Error("No token selected");const s=null==n||null===(t=n.paymentMethods)||void 0===t||null===(t=t.find(e=>e.type===o.PAYMENT_TYPES.byCrypto))||void 0===t||null===(t=t.chains)||void 0===t||null===(t=t.find(t=>t.chainId===(null==e?void 0:e.chainId)))||void 0===t?void 0:t.paymentAddress,r=(0,g.generateERC20ApprovalData)({spenderAddress:s,amount:(0,k.decimalToHex)(e.approvalAmount.approveAmount)}),a={from:null==i?void 0:i.address,to:e.address,value:"0x0",data:r};a.gas=await(0,d.estimateGas)(a);const c={type:u.TransactionType.shieldSubscriptionApprove,networkClientId:m};await(0,d.addTransaction)(a,c),f(!0)},[f,n,i,e,m])}};s.useSubscriptionCryptoApprovalTransaction=N;s.useSubscriptionEligibility=e=>{const t=(0,r.useDispatch)(),s=(0,r.useSelector)(h.selectIsSignedIn),n=(0,r.useSelector)(p.getIsUnlocked),o=(0,r.useSelector)(e=>(0,y.getInternalAccountBySelectedAccountGroupAndCaip)(e,"eip155:1")),{totalFiatBalance:c}=(0,I.useAccountTotalFiatBalance)(o,!1,!0);return{getSubscriptionEligibility:(0,a.useCallback)(async()=>{try{if(!s||!n)return undefined;const r=(0,w.getUserBalanceCategory)(Number(c)),a=await t((0,d.getSubscriptions)());if(!(0,f.getIsShieldSubscriptionActive)(a)){return(await t((0,d.getSubscriptionsEligibilities)({balanceCategory:r}))).find(t=>t.product===e)}return undefined}catch(e){return i.default.warn("[useSubscriptionEligibility] error",e),undefined}},[s,n,t,e,c])}};s.useHandleSubscription=({selectedPaymentMethod:e,selectedToken:t,selectedPlan:s,defaultOptions:n,isTrialed:i,useTestClock:u=!1})=>{const l=(0,r.useDispatch)(),{search:h}=(0,c.useLocation)(),{execute:p}=N(t),{subscriptions:f,lastSubscription:g}=A(),{captureShieldSubscriptionRequestEvent:k,setShieldSubscriptionMetricsPropsToBackground:S}=(0,v.useSubscriptionMetrics)(),y=(0,r.useSelector)(b.getModalTypeForShieldEntryModal),C=(0,w.getLatestSubscriptionStatus)(f,g)||"none",_=(0,a.useCallback)(()=>{const e=(0,w.getShieldMarketingUtmParamsForMetrics)(h);if(Object.keys(e).length>0)return T.EntryModalSourceEnum.Marketing;switch(new URLSearchParams(h).get("source")){case"homepage":return T.EntryModalSourceEnum.Homepage;case"post_transaction":return T.EntryModalSourceEnum.PostTransaction;case"notification":return T.EntryModalSourceEnum.Notification;case"carousel":return T.EntryModalSourceEnum.Carousel;case"marketing":return T.EntryModalSourceEnum.Marketing;default:return T.EntryModalSourceEnum.Settings}},[h]),[E,I]=(0,m.useAsyncCallback)(async()=>{await l((0,d.setLastUsedSubscriptionPaymentDetails)(o.PRODUCT_TYPES.SHIELD,{type:e,paymentTokenAddress:null==t?void 0:t.address,paymentTokenSymbol:null==t?void 0:t.symbol,plan:s,useTestClock:u}));const r=(0,w.getShieldMarketingUtmParamsForMetrics)(h);await l((0,d.setDefaultSubscriptionPaymentOptions)(n)),await S({source:_(),marketingUtmParams:r});const a=_(),c={subscriptionState:C,defaultPaymentType:n.defaultPaymentType,defaultPaymentCurrency:n.defaultPaymentCurrency,defaultBillingInterval:n.defaultBillingInterval,defaultPaymentChain:n.defaultPaymentChain,paymentType:e,paymentCurrency:"USD",isTrialSubscription:!i,billingInterval:s,source:a,type:y,marketingUtmParams:r};e===o.PAYMENT_TYPES.byCard?(k({...c,paymentCurrency:"USD",requestStatus:"started"}),await l((0,d.startSubscriptionWithCard)({products:[o.PRODUCT_TYPES.SHIELD],isTrialRequested:!i,recurringInterval:s,useTestClock:u}))):e===o.PAYMENT_TYPES.byCrypto&&await p()},[l,n,i,e,s,t,p,u,k,C,y,_,h]);return{handleSubscription:E,subscriptionResult:I}};s.useHandleSubscriptionSupportAction=()=>{var e;const t="13.11.0",s=(0,r.useSelector)(h.selectSessionData),n=null==s||null===(e=s.profile)||void 0===e?void 0:e.profileId,o=(0,r.useSelector)(b.getMetaMetricsId),{customerId:i}=A();return{handleClickContactSupport:(0,a.useCallback)(()=>{let e=_.SUPPORT_LINK;const s=new URLSearchParams;s.append("metamask_version",t),n&&s.append("metamask_profile_id",n),o&&s.append("metamask_metametrics_id",o),i&&s.append("shield_id",i);const r=s.toString();r&&(e+=`?${r}`),(0,C.openWindow)(e)},[t,n,o,i])}}}}},{package:"$root$",file:"ui/hooks/subscription/useSubscription.ts"}],[7023,{"../../../shared/constants/transaction":5637,"../../selectors/assets":7878,"../../selectors/multichain-accounts/account-tree":7890,"../../selectors/subscription":7912,"../../store/actions":7916,"../useAsync":7029,"../useTokenBalances":7078,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSubscriptionProductPlans=s.useSubscriptionPricing=s.useSubscriptionPaymentMethods=s.useAvailableTokenBalances=void 0;var n,r=e("react"),a=e("react-redux"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},i=e("../../selectors/subscription"),c=e("../../store/actions"),u=e("../../selectors/assets"),l=e("../useTokenBalances"),d=e("../../../shared/constants/transaction"),m=e("../useAsync"),h=e("../../selectors/multichain-accounts/account-tree");s.useAvailableTokenBalances=e=>{const{paymentChains:t,price:s,productType:n}=e,i=(0,r.useMemo)(()=>null==t?void 0:t.map(e=>e.chainId),[t]),p=(0,r.useMemo)(()=>null==t?void 0:t.reduce((e,t)=>(e[t.chainId]=t.tokens,e),{}),[t]),f=(0,a.useSelector)(h.getSelectedAccountGroup),[g]=(0,a.useSelector)(e=>(0,h.getAccountGroupsByAddress)(e,[""])),k=(null==g?void 0:g.id)??f,S=(0,a.useSelector)(e=>(0,h.getInternalAccountByGroupAndCaip)(e,k,"eip155:1")),y=(0,a.useSelector)(e=>(0,u.getTokenBalancesEvm)(e,null==S?void 0:S.address));(0,l.useTokenBalances)({chainIds:i});const b=(0,r.useMemo)(()=>y.filter(e=>{const t=null==p?void 0:p[e.chainId];if(!Boolean(t))return!1;if(!(null==t?void 0:t.some(t=>t.address.toLowerCase()===e.address.toLowerCase())))return!1;return!!(e.balance&&parseFloat(e.balance)>0)}),[y,p]),{value:v,pending:T,error:w}=(0,m.useAsyncResult)(async()=>{if(!s||!p)return[];const e=[];return(await Promise.all(b.map(e=>{var t;return(null==p||null===(t=p[e.chainId])||void 0===t?void 0:t.find(t=>t.address.toLowerCase()===e.address.toLowerCase()))?(0,c.getSubscriptionCryptoApprovalAmount)({chainId:e.chainId,paymentTokenAddress:e.address,productType:n,interval:s.interval}):(o.default.error("[useAvailableTokenBalances] tokenPaymentInfo not found",e),null)}))).forEach((t,s)=>{const n=b[s];if(!n.balance)return;const r=10n**6n,a=BigInt(Math.round(Number(n.balance)*Number(r)))/r;t&&a*BigInt(10**n.decimals)>=BigInt(t.approveAmount)&&e.push({...n,approvalAmount:{approveAmount:t.approveAmount,chainId:n.chainId,paymentAddress:t.paymentAddress,paymentTokenAddress:t.paymentTokenAddress},type:n.isNative?d.AssetType.native:d.AssetType.token})}),e},[s,n,p,b]);return{availableTokenBalances:v??[],pending:T,error:w}};s.useSubscriptionPricing=({refetch:e}={refetch:!1})=>{const t=(0,a.useDispatch)(),s=(0,a.useSelector)(i.getSubscriptionPricing),{pending:n,error:r}=(0,m.useAsyncResult)(async()=>e?await t((0,c.getSubscriptionPricing)()):undefined,[t,e]);return{subscriptionPricing:s,loading:n,error:r}};s.useSubscriptionProductPlans=(e,t)=>(0,r.useMemo)(()=>{var s;return null==t||null===(s=t.products.find(t=>t.name===e))||void 0===s?void 0:s.prices},[t,e]);s.useSubscriptionPaymentMethods=(e,t)=>(0,r.useMemo)(()=>null==t?void 0:t.paymentMethods.find(t=>t.type===e),[t,e])}}},{package:"$root$",file:"ui/hooks/subscription/useSubscriptionPricing.ts"}],[7024,{"../../shared/lib/multichain/scope-utils":5707,"../selectors/multichain-accounts/account-tree":7890,"@metamask/chain-agnostic-permission":1359,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountGroupsForPermissions=s.supportsNamespaces=s.supportsChainIds=s.hasRequestedAccountIds=void 0;var n=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),a=e("react"),o=e("../selectors/multichain-accounts/account-tree"),i=e("../../shared/lib/multichain/scope-utils");const c=(e,t)=>e.accounts.some(e=>(0,i.hasChainIdSupport)(e.scopes,t));s.supportsChainIds=c;const u=(e,t)=>e.accounts.some(e=>(0,i.hasNamespaceSupport)(e.scopes,t));s.supportsNamespaces=u;const l=(e,t)=>e.accounts.some(e=>{try{return(0,r.isInternalAccountInPermittedAccountIds)(e,t)}catch{return!1}});s.hasRequestedAccountIds=l;s.useAccountGroupsForPermissions=(e,t,s,d)=>{const m=(0,n.useSelector)(o.getSelectedAccountGroup),h=(0,n.useSelector)(o.getAccountGroupWithInternalAccounts),p=(0,a.useMemo)(()=>{const n=h.find(e=>e.id===m),a=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(e),o=new Set(d);let p=h;n&&(p=Array.from(new Set([n,...h])));const f=e=>((e,t)=>e.accounts.some(e=>{try{return(0,r.isInternalAccountInPermittedAccountIds)(e,t)}catch{return!1}}))(e,a),g=e=>s.length>0?c(e,s):u(e,o),k=e=>l(e,t),S=p.filter(f),y=p.filter(e=>g(e)&&!k(e)),b=p.filter(e=>f(e)&&k(e)),v=p.filter(e=>g(e)&&k(e)),T=p.filter(e=>f(e)||k(e)),w=Array.from(new Set([...(0,i.getCaip25AccountIdsFromAccountGroupAndScope)(T,s)])),C=v.length>0,_=y.length>0;let E=[];if(!C&&_){const e=n&&(s.length>0?c(n,s):u(n,o))?n:y[0];e&&(E=[e])}const I=new Set([...v,...E]);return{selectedAndRequestedAccountGroups:Array.from(I),supportedAccountGroups:Array.from(new Set([...v,...y])),connectedAccountGroups:Array.from(new Set([...b,...S])),connectedCaipAccountIds:a,connectedAccountGroupWithRequested:Array.from(new Set(T)),caipAccountIdsOfConnectedAndRequestedAccountGroups:w}},[h,e,d,s,m,t]);return{connectedAccountGroups:p.connectedAccountGroups,supportedAccountGroups:p.supportedAccountGroups,existingConnectedCaipAccountIds:p.connectedCaipAccountIds,connectedAccountGroupWithRequested:p.connectedAccountGroupWithRequested,caipAccountIdsOfConnectedAndRequestedAccountGroups:p.caipAccountIdsOfConnectedAndRequestedAccountGroups,selectedAndRequestedAccountGroups:p.selectedAndRequestedAccountGroups}}}}},{package:"$root$",file:"ui/hooks/useAccountGroupsForPermissions.ts"}],[7025,{"../../shared/constants/network":5617,"../../shared/modules/conversion.utils":5732,"../../shared/modules/selectors/networks":5753,"../ducks/metamask/metamask":6883,"../helpers/utils/token-util":6955,"../selectors":7886,"ethereumjs-util":4138,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountTotalCrossChainFiatBalance=void 0;var n=e("react-redux"),r=e("ethereumjs-util"),a=e("react"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),l=e("../../shared/modules/selectors/networks"),d=e("../../shared/constants/network");s.useAccountTotalCrossChainFiatBalance=(e,t)=>{const s=(0,n.useSelector)(l.getNetworkConfigurationsByChainId),m=(0,n.useSelector)(i.getEnabledNetworks),h=(0,a.useMemo)(()=>Object.assign({},...Object.values(m??{})),[m]),p=(0,n.useSelector)(o.getCurrencyRates),f=(0,n.useSelector)(o.getCurrentCurrency),g=(0,n.useSelector)(i.getCrossChainTokenExchangeRates,n.shallowEqual),k=(0,n.useSelector)(i.getCrossChainMetaMaskCachedBalances),S=(0,a.useMemo)(()=>({...g}),[g]),y=(0,a.useMemo)(()=>t.map(e=>Object.keys(h).includes(e.chainId.toString())?e:null).filter(e=>null!==e),[t,h]),b=(0,a.useMemo)(()=>y.map(t=>{var n,a;const{tokensWithBalances:o}=t,i=d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t.chainId]??s[t.chainId].nativeCurrency,l=null==p||null===(n=p[i])||void 0===n?void 0:n.conversionRate,m=o.map(e=>{var s;const n=null==S||null===(s=S[t.chainId])||void 0===s?void 0:s[(0,r.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(n,l,f,e.string,e.symbol,!1,!1)}),h=(null==k||null===(a=k[t.chainId])||void 0===a?void 0:a[null==e?void 0:e.address])??0,g=(0,c.getValueFromWeiHex)({value:h,toCurrency:f,conversionRate:l,numberOfDecimals:2});return{...t,tokenFiatBalances:m,nativeFiatValue:g}}),[y,s,p,S,k,null==e?void 0:e.address,f]);return{totalFiatBalance:(0,a.useMemo)(()=>b.reduce((e,t)=>{const s=t.tokenFiatBalances.filter(e=>e!==undefined),n=(0,c.sumDecimals)(t.nativeFiatValue,...s);return e+(n.toNumber?n.toNumber():Number(n))},0),[b]).toString(10),tokenFiatBalancesCrossChains:b}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[7026,{"../../shared/modules/conversion.utils":5732,"../../shared/modules/selectors/networks":5753,"../ducks/metamask/metamask":6883,"../helpers/utils/confirm-tx.util":6927,"../helpers/utils/token-util":6955,"../helpers/utils/util":6959,"../selectors":7886,"./useTokenBalances":7078,"ethereumjs-util":4138,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountTotalFiatBalance=void 0;var n=e("react-redux"),r=e("ethereumjs-util"),a=e("react"),o=e("../../shared/modules/selectors/networks"),i=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),l=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),h=e("./useTokenBalances");s.useAccountTotalFiatBalance=(e,t,s=!1)=>{const p=(0,n.useSelector)(o.getCurrentChainId);let f=(0,n.useSelector)(u.getConversionRate);const g=(0,n.useSelector)(i.getUSDConversionRate);let k=(0,n.useSelector)(u.getCurrentCurrency);s&&(f=g,k="usd");const S=(0,n.useSelector)(i.getTokenExchangeRates,n.shallowEqual),y=(0,n.useSelector)(i.getConfirmationExchangeRates),b=(0,n.useSelector)(i.getMetaMaskCachedBalances),v=(null==b?void 0:b[null==e?void 0:e.address])??0,T=(0,c.getValueFromWeiHex)({value:v,toCurrency:k,conversionRate:f,numberOfDecimals:2}),w=(0,n.useSelector)(i.getAllTokens),C=(0,a.useMemo)(()=>{var t;return(null==w||null===(t=w[p])||void 0===t?void 0:t[null==e?void 0:e.address])??[]},[null==e?void 0:e.address,p,w]),_=(0,n.useSelector)(i.getTokenList),E=(0,n.useSelector)(i.getNativeCurrencyImage),I=(0,n.useSelector)(u.getNativeCurrency),{tokensWithBalances:M}=(0,h.useTokenTracker)({chainId:p,tokens:C,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),A=(0,a.useMemo)(()=>({...S,...y}),[y,S]),N=(0,a.useMemo)(()=>M.map(e=>{const t=A[(0,r.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,f,k,e.string,e.symbol,!1,!1)}),[M,A,f,k]),P=(0,a.useMemo)(()=>((e,t)=>{const s=[];return t.forEach(t=>{const n=null==e?void 0:e[t.address.toLowerCase()];n&&s.push({...n,balance:t.balance,string:t.string,balanceError:t.balanceError})}),s})(_,M),[_,M]),R=(0,a.useMemo)(()=>[{iconUrl:E,symbol:I,fiatBalance:T},...P.map((e,t)=>({...e,fiatBalance:N[t]}))],[P,N,E,I,T]),O=(0,a.useMemo)(()=>R.sort((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)),[R]),D=(0,c.sumDecimals)(T,...N).toString(10),x=(0,a.useMemo)(()=>(M.forEach(e=>{e.string=(0,m.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=A[(0,r.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,f,k,e.string,e.symbol,!1,!1)||"0"}),M),[M,A,f,k]),$=(0,l.formatCurrency)(D,k);let U=(0,c.getWeiHexFromDecimalValue)({value:D,fromCurrency:k,conversionRate:f,invertConversionRate:!0});return"NaN"===U&&(U="0x0"),{formattedFiat:$,totalWeiBalance:U,totalFiatBalance:D,tokensWithBalances:x,loading:!1,orderedTokenList:O,mergedRates:A}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[7027,{"../ducks/confirm-alerts/confirm-alerts":6875,"../helpers/constants/design-system":6899,"../selectors/alerts":7876,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react-redux"),r=e("react"),a=e("../selectors/alerts"),o=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");function c(e){const t={[i.Severity.Danger]:3,[i.Severity.Warning]:2,[i.Severity.Info]:1,[i.Severity.Success]:0,[i.Severity.Disabled]:0};return[...e].sort((e,s)=>t[s.severity]-t[e.severity])}s.default=e=>{const t=(0,n.useDispatch)(),s=c((0,n.useSelector)(t=>(0,a.selectAlerts)(t,e))),u=(0,n.useSelector)(t=>(0,a.selectConfirmedAlertKeys)(t,e)),l=c((0,n.useSelector)(t=>(0,a.selectGeneralAlerts)(t,e))),d=c((0,n.useSelector)(t=>(0,a.selectFieldAlerts)(t,e))),m=s.filter(e=>!e.hideFromAlertNavigation),h=l.filter(e=>!e.hideFromAlertNavigation),p=d.filter(e=>!e.hideFromAlertNavigation),f=(0,r.useCallback)(e=>e?s.filter(t=>t.field===e):[],[s]),g=(0,r.useCallback)(e=>e?s.filter(t=>t.field===e&&!t.hideFromAlertNavigation):[],[s]),k=(0,r.useCallback)((s,n)=>{t((0,o.setAlertConfirmed)(e,s,n))},[t,e]),S=(0,r.useCallback)(e=>u.includes(e),[u]),y=s.filter(e=>!S(e.key)&&e.severity===i.Severity.Danger&&!e.acknowledgeBypass),b=s.length>0,v=s.filter(e=>e.severity===i.Severity.Danger),T=y.length>0,w=d.filter(e=>!S(e.key)&&e.severity===i.Severity.Danger&&!e.acknowledgeBypass);return{alerts:s,fieldAlerts:d,generalAlerts:l,getFieldAlerts:f,getNavigableFieldAlerts:g,hasAlerts:b,dangerAlerts:v,hasDangerAlerts:(null==v?void 0:v.length)>0,hasUnconfirmedDangerAlerts:T,isAlertConfirmed:S,navigableAlerts:m,navigableFieldAlerts:p,navigableGeneralAlerts:h,setAlertConfirmed:k,unconfirmedDangerAlerts:y,unconfirmedFieldDangerAlerts:w,hasUnconfirmedFieldDangerAlerts:w.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[7028,{"../selectors":7886,"../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAssetsUpdateAllAccountBalances=s.default=void 0;var n=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../store/actions");const i=()=>{const e=(0,r.useSelector)(a.getEnabledChainIds),t=(0,r.useDispatch)(),s=(0,n.useCallback)(async()=>{try{e.length>0&&await t((0,o.updateBalancesFoAccounts)(e,!1))}catch(e){console.warn("Error updating balances state for all accounts",e)}},[e,t]);return(0,n.useEffect)(()=>{0!==e.length&&s()},[e,s]),{updateBalances:s}};s.useAssetsUpdateAllAccountBalances=i;s.default=i}}},{package:"$root$",file:"ui/hooks/useAssetsUpdateAllAccountBalances.ts"}],[7029,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RESULT_PENDING=s.RESULT_IDLE=s.RESULT_BASE=void 0,s.createErrorResult=c,s.createSuccessResult=i,s.useAsyncCallback=u,s.useAsyncResult=l,s.useAsyncResultOrThrow=function(e,t=[]){const s=l(e,t);if("error"===s.status)throw s.error;return s};var n=e("react");const r=s.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},a=s.RESULT_IDLE={...r,status:"idle",idle:!0},o=s.RESULT_PENDING={...r,status:"pending",pending:!0};function i(e){return{...r,status:"success",value:e}}function c(e){return{...r,status:"error",error:e}}function u(e,t=[]){const[s,r]=(0,n.useState)(a),u=(0,n.useRef)(!0);(0,n.useEffect)(()=>()=>{u.current=!1},[]);return[(0,n.useCallback)(async()=>{if(u.current){r(o);try{const t=await e();u.current&&r(i(t))}catch(e){u.current&&r(c(e))}}},t),s]}function l(e,t=[]){const[s,r]=u(e,t);return(0,n.useEffect)(()=>{s()},[s]),"idle"===r.status?o:r}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[7030,{"../../../package.json":5593,"../../../shared/modules/environment":5736,semver:5411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.fetchCarouselSlidesFromContentful=async function(){var e;const{accessToken:t,domain:s,environment:n,spaceId:r}=c();if(!r||!t)return{prioritySlides:[],regularSlides:[]};const a=new URL(`https://${s}/spaces/${r}/environments/${n}/entries`);a.searchParams.set("access_token",t),a.searchParams.set("content_type",i),a.searchParams.set("fields.showInExtension","true");const o=await fetch(a).then(e=>e.json()),l=(null===(e=o.includes)||void 0===e?void 0:e.Asset)||[],d=e=>{var t;const s=l.find(t=>{var s;return t.sys.id===(null==e||null===(s=e.sys)||void 0===s?void 0:s.id)}),n=(null==s||null===(t=s.fields)||void 0===t||null===(t=t.file)||void 0===t?void 0:t.url)||"";return n.startsWith("//")?`https:${n}`:n},m=[],h=[];for(const e of o.items){const{headline:t,teaser:s,image:n,linkUrl:r,undismissable:a,startDate:o,endDate:i,priorityPlacement:c,variableName:l,cardPlacement:p,extensionMinimumVersionNumber:f}=e.fields,g={id:`contentful-${e.sys.id}`,title:t,description:s,image:d(n),href:r,undismissable:a,dismissed:!1,startDate:o,endDate:i,priorityPlacement:c,variableName:l,cardPlacement:p};u(f)&&(c?m.push(g):h.push(g))}return{prioritySlides:m,regularSlides:h}},s.getContentfulEnvironmentDetails=void 0;var n=a(e("semver")),r=e("../../../shared/modules/environment");function a(e){return e&&e.__esModule?e:{default:e}}const o=a(e("../../../package.json")).default.version,i="promotionalBanner",c=()=>{const e="jdkgyfmyd9sw",t="mAYNB_k65snv4AXW4o8ksZN8BwWDQF9702HKV7yBDZI",s=new URLSearchParams(window.location.search).get("previewToken");if(s)return{environment:"master",domain:"preview.contentful.com",accessToken:s,spaceId:e};return(0,r.isProduction)()?{environment:"master",domain:"cdn.contentful.com",accessToken:t,spaceId:e}:{environment:"dev",domain:"preview.contentful.com",accessToken:t,spaceId:e}};function u(e){if(!e)return!0;try{return n.default.gte(o,e)}catch{return!1}}s.getContentfulEnvironmentDetails=c}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/fetchCarouselSlidesFromContentful.ts"}],[7031,{"./useCarouselManagement":7032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e("./useCarouselManagement");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===n[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return n[e]}}))})}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[7032,{"../../selectors":7886,"../../store/actions":7916,"./fetchCarouselSlidesFromContentful":7030,"@metamask/profile-sync-controller/sdk":2399,"bignumber.js":3768,lodash:4635,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isActive=h,s.useCarouselManagement=void 0;var n,r=e("lodash"),a=e("react"),o=e("react-redux"),i=(n=e("loglevel"))&&n.__esModule?n:{default:n},c=e("bignumber.js"),u=e("@metamask/profile-sync-controller/sdk"),l=e("../../store/actions"),d=e("../../selectors"),m=e("./fetchCarouselSlidesFromContentful");function h(e,t=new Date){const s=e.startDate?new Date(e.startDate):null,n=e.endDate?new Date(e.endDate):null;return!(s&&t<s)&&!(n&&t>n)}s.useCarouselManagement=({testDate:e,enabled:t=!0}={})=>{const s=Boolean(!1),n=(0,o.useDispatch)(),p=(0,o.useSelector)(d.getSlides),f=(0,o.useSelector)(d.getRemoteFeatureFlags),g=(0,o.useSelector)(d.getSelectedAccountCachedBalance),k=(0,o.useSelector)(d.getSelectedInternalAccount),S=(0,o.useSelector)(d.getUseExternalServices),y=(0,o.useSelector)(d.getShowDownloadMobileAppSlide),b=(0,a.useRef)(),v=new c.BigNumber(g??"0x0").eq("0x0"),T=(null==f?void 0:f.contentfulCarouselEnabled)??!1,[w,C]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!(T&&S&&y))return C(!1),E(!0),()=>undefined;E(!1);let e=!1;return(async()=>{try{const s=await(0,l.getUserProfileLineage)();if(!e){var t;const e=Boolean(null==s||null===(t=s.lineage)||void 0===t?void 0:t.some(e=>e.agent===u.Platform.MOBILE));C(!e),E(!0)}}catch(t){e||(i.default.warn("Failed to fetch user profile lineage:",t),C(!1),E(!0))}})(),()=>{e=!0}},[k.address,S,y,T]),(0,a.useEffect)(()=>{if(!_)return;if(!t){const e=[];return void((0,r.isEqual)(b.current,e)||(n((0,l.updateSlides)(e)),b.current=e))}const s=async()=>{if(!T){const e=[];return void((0,r.isEqual)(b.current,e)||(n((0,l.updateSlides)(e)),b.current=e))}if(T)try{const{prioritySlides:t,regularSlides:s}=await(0,m.fetchCarouselSlidesFromContentful)(),a=[...t],o=[...s],i=t=>h(t,e?new Date(e):new Date),c=e=>e.map(e=>((e,t)=>{if(!e)return undefined;const s=t.find(t=>t.id===e.id);return{...e,dismissed:(null==s?void 0:s.dismissed)??!1,undismissable:e.undismissable||(null==s?void 0:s.undismissable)||!1}})(e,p)).filter(e=>Boolean(e)).filter(i),u=e=>"fund"===e.variableName?{...e,undismissable:v||e.undismissable}:e,d=e=>"downloadMobileApp"!==e.variableName||w,f=c(a).map(u).filter(d),g=function(e){const t=[],s=[];for(const n of e){const e=n.cardPlacement,r="string"==typeof e?Number(e):e;if("number"==typeof r&&Number.isFinite(r)){const e=Math.max(0,Math.floor(r)-1);e>=t.length&&(t.length=e+1),t[e]=n}else s.push(n)}let n=0;for(let e=0;e<t.length&&n<s.length;e++)t[e]||(t[e]=s[n],n+=1);for(;n<s.length;)t.push(s[n]),n+=1;return t.filter(Boolean)}(c(o).map(u).filter(d)),k=[...f,...g];(0,r.isEqual)(b.current,k)||(n((0,l.updateSlides)(k)),b.current=k)}catch(e){i.default.warn("Failed to fetch Contentful slides:",e),(0,r.isEqual)(b.current,[])||(n((0,l.updateSlides)([])),b.current=[])}};(async()=>{try{await s()}catch(e){i.default.warn("Failed to load carousel slides:",e)}})()},[t,n,v,T,e,s,p,_]),{slides:p}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[7033,{"../../shared/constants/copy":5602,"../../shared/constants/time":5635,"./useTimeout":7077,"copy-to-clipboard":3948,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCopyToClipboard=function(e=u,t={expireClipboard:!0}){const[s,n]=(0,r.useState)(!1),o=(0,c.useTimeout)(()=>{!0===s&&(t.expireClipboard&&(0,a.default)(" ",i.COPY_OPTIONS),n(!1))},e,!1),l=(0,r.useCallback)(e=>{n(!0),o(),(0,a.default)(e,i.COPY_OPTIONS)},[o]),d=(0,r.useCallback)(()=>{n(!1)},[]);return[s,l,d]};var n,r=e("react"),a=(n=e("copy-to-clipboard"))&&n.__esModule?n:{default:n},o=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),c=e("./useTimeout");const u=o.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[7034,{"../../shared/constants/common":5601,"../../shared/constants/network":5617,"../../shared/lib/asset-utils":5647,"../../shared/modules/Numeric":5727,"../../shared/modules/conversion.utils":5732,"../ducks/metamask/metamask":6883,"../helpers/utils/confirm-tx.util":6927,"../helpers/utils/token-util":6955,"../selectors/multichain":7895,"./useFormatters":7043,"./useMultichainSelector":7057,"@metamask/multichain-network-controller":2207,"bignumber.js":3768,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.MIN_AMOUNT=s.DEFAULT_PRECISION=void 0,s.useCurrencyDisplay=function(e,{account:t,displayValue:s,prefix:n,numberOfDecimals:a,denomination:S,currency:v,isAggregatedFiatOverviewBalance:T,...w},C=null){const{formatCurrency:_}=(0,g.useFormatters)(),E=(0,k.useMultichainSelector)(c.getMultichainIsEvm,t),I=(0,k.useMultichainSelector)(c.getMultichainCurrentCurrency,t),M=(0,k.useMultichainSelector)(c.getMultichainNativeCurrency,t),A=(0,k.useMultichainSelector)(c.getMultichainConversionRate,t),N=(0,k.useMultichainSelector)(f.getCurrencyRates,t),P=v===I,R=v===M||v===l.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[C],O=C?(0,h.isEvmChainId)(C):E,D=(0,r.useMemo)(()=>{if(s)return s;var t;if(!O&&!T)return function({tokenSymbol:e,isNativeCurrency:t,isUserPreferredCurrency:s,currency:n,currentCurrency:r,nativeCurrency:a,inputValue:o,conversionRate:c}){if(t||!s&&!a)return new d.Numeric(o,10).toString();if(s&&c){const t=(0,p.getTokenFiatAmount)(1,Number(c),r,o,e,!1,!1)??"0";return(0,i.formatCurrency)(t,n)}return null}({tokenSymbol:M,isNativeCurrency:R,isUserPreferredCurrency:P,currency:v,currentCurrency:I,nativeCurrency:M,inputValue:e,conversionRate:C?null==N||null===(t=N[l.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[C]])||void 0===t?void 0:t.conversionRate:A});if(T)return _(e,v);if(!R&&P&&A){const t=(0,u.getValueFromWeiHex)({value:e,fromCurrency:M,toCurrency:v,conversionRate:A,numberOfDecimals:a||2,toDenomination:S});return _(t,v)}return function({isNativeCurrency:e,isUserPreferredCurrency:t,nativeCurrency:s,inputValue:n,denomination:r,numberOfDecimals:a}){if(e||!t&&!s){const e=new d.Numeric(n,16,m.EtherDenomination.WEI).toDenomination(r||m.EtherDenomination.ETH).round(a||b).toBase(10).toString();return"0"===e&&n&&0!==Number(n)?y:e}return null}({isNativeCurrency:R,isUserPreferredCurrency:P,nativeCurrency:M,inputValue:e,denomination:S,numberOfDecimals:a})},[s,O,R,P,v,M,e,A,S,a,I,T,C,N,_]);let x;const $=T||!R;if(!w.hideLabel&&!$){const e=[...Object.values(l.TEST_NETWORK_TICKER_MAP),...Object.values(o.MULTICHAIN_NETWORK_TICKER)].includes(v)?v:null==v?void 0:v.toUpperCase();x=w.suffix||e}return[`${n||""}${D}${x?` ${x}`:""}`,{prefix:n,value:D,suffix:x}]};var n,r=e("react"),a=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},o=e("@metamask/multichain-network-controller"),i=e("../helpers/utils/confirm-tx.util"),c=e("../selectors/multichain"),u=e("../../shared/modules/conversion.utils"),l=e("../../shared/constants/network"),d=e("../../shared/modules/Numeric"),m=e("../../shared/constants/common"),h=e("../../shared/lib/asset-utils"),p=e("../helpers/utils/token-util"),f=e("../ducks/metamask/metamask"),g=e("./useFormatters"),k=e("./useMultichainSelector");const S=s.MIN_AMOUNT=1e-6,y=`<${S}`,b=s.DEFAULT_PRECISION=new a.default(S).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[7035,{"../../shared/modules/selectors/networks":5753,"../ducks/metamask/metamask":6883,"../helpers/utils/isOriginalNativeTokenSymbol":6937,"../selectors":7886,"../selectors/multichain/networks":7896,"../selectors/selectors":7903,"../store/actions":7916,"./usePolling":7067,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react"),a=e("react-redux"),o=e("../selectors"),i=e("../selectors/multichain/networks"),c=e("../store/actions"),u=e("../ducks/metamask/metamask"),l=e("../selectors/selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../helpers/utils/isOriginalNativeTokenSymbol"),h=(n=e("./usePolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(()=>{const e=(0,a.useSelector)(u.getCompletedOnboarding),t=(0,a.useSelector)(u.getIsUnlocked),s=(0,a.useSelector)(o.getUseCurrencyRateCheck);return e&&t&&s})(),t=(e=>{const t=(0,a.useSelector)(d.getNetworkConfigurationsByChainId),s=(0,a.useSelector)(o.useSafeChainsListValidationSelector),[n,c]=(0,r.useState)([]),u=(0,a.useSelector)(o.getChainIdsToPoll),h=(0,a.useSelector)(i.getEnabledChainIds),p=l.isGlobalNetworkSelectorRemoved?h:u;return(0,r.useEffect)(()=>{(async()=>{const n=(await Promise.all(Object.values(t).map(async t=>{const n=await(0,m.getOriginalNativeTokenSymbol)({chainId:t.chainId,useAPICall:s&&e});return p.includes(t.chainId)?n??t.nativeCurrency:null}))).filter(e=>null!==e),r=[...new Set(n)];c(r)})()},[u,e,t,p,s]),n})(e),s=e&&t.length>0;(0,h.default)({startPolling:c.currencyRateStartPolling,stopPollingByPollingToken:c.currencyRateStopPollingByPollingToken,input:t,enabled:s})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[7036,{"../../shared/constants/swaps":5633,"../../shared/modules/selectors/networks":5753,"../../shared/modules/string-utils":5761,"../ducks/metamask/metamask":6883,"../helpers/constants/routes":6904,"react-redux":5021,"react-router-dom":5048},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),s=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,l=(0,n.useSelector)(a.getTokens),d=s&&l.find(({address:e})=>(0,u.isEqualCaseInsensitive)(e,s)),m=(0,n.useSelector)(o.getCurrentChainId);return d??(c.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[m]||c.ETH_SWAPS_TOKEN_OBJECT)};var n=e("react-redux"),r=e("react-router-dom"),a=e("../ducks/metamask/metamask"),o=e("../../shared/modules/selectors/networks"),i=e("../helpers/constants/routes"),c=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[7037,{"../../shared/modules/transaction.utils":5763,"../store/actions":7916,"./useAsync":7029,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDecodedTransactionData=i,s.useDecodedTransactionDataValue=function(e){var t,s;const r=i({data:null==e||null===(t=e.txParams)||void 0===t?void 0:t.data,to:null==e||null===(s=e.txParams)||void 0===s?void 0:s.to,chainId:null==e?void 0:e.chainId}),a=(0,n.useMemo)(()=>{var e;return null==r||null===(e=r.value)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.params)||void 0===e||null===(e=e.find(e=>c.includes(e.name??"")))||void 0===e?void 0:e.value},[r]);return{decodeResponse:r,value:a}};var n=e("react"),r=e("../../shared/modules/transaction.utils"),a=e("../store/actions"),o=e("./useAsync");function i({data:e,to:t,chainId:s}={}){return(0,o.useAsyncResult)(async()=>e&&(0,r.hasTransactionData)(e)&&t&&s?await(0,a.decodeTransactionData)({transactionData:e,chainId:s,contractAddress:t}):undefined,[e,t,s])}const c=["value","_value","value_","amount","_amount","amount_"]}}},{package:"$root$",file:"ui/hooks/useDecodedTransactionData.ts"}],[7038,{"../../shared/constants/first-party-contracts":5605,"../../shared/modules/hexstring-utils":5741,"../ducks/domains":6877,"../helpers/utils/trust-signals":6957,"../pages/confirmations/selectors/accounts":7570,"../selectors":7886,"../selectors/multichain-accounts/account-tree":7890,"../selectors/nft":7898,"./useName":7059,"./useNftCollectionsMetadata":7061,"./useTrustSignals":7090,"@metamask/name-controller":2215,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDisplayName=function(e){return k([e])[0]},s.useDisplayNames=k;var n=e("@metamask/name-controller"),r=e("react-redux"),a=e("react"),o=e("../../shared/constants/first-party-contracts"),i=e("../../shared/modules/hexstring-utils"),c=e("../ducks/domains"),u=e("../selectors"),l=e("../selectors/nft"),d=e("../helpers/utils/trust-signals"),m=e("../pages/confirmations/selectors/accounts"),h=e("../selectors/multichain-accounts/account-tree"),p=e("./useName"),f=e("./useNftCollectionsMetadata"),g=e("./useTrustSignals");function k(e){const t=(0,p.useNames)(e),s=e.map(({type:e,value:t,variation:s})=>{if(e!==n.NameType.ETHEREUM_ADDRESS)return undefined;const r=t.toLowerCase();return Object.keys(o.FIRST_PARTY_CONTRACT_NAMES).find(e=>{var t;const n=null===(t=o.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[s];return(null==n?void 0:n.toLowerCase())===r})});const k=(0,g.useTrustSignals)(e.map(e=>({...e,chainId:e.variation}))),S=function(e){const t=(0,r.useSelector)(u.selectERC20TokensByChain);return e.map(({preferContractSymbol:e,type:s,value:r,variation:a})=>{var o;if(s!==n.NameType.ETHEREUM_ADDRESS)return undefined;const i=r.toLowerCase(),{iconUrl:c,name:u,symbol:l}=(null==t||null===(o=t[a])||void 0===o||null===(o=o.data)||void 0===o?void 0:o[i])??{};return{name:e&&l?l:u,image:c}})}(e),y=function(e){const t=(0,r.useSelector)(l.getNftContractsByAddressByChain);return e.map(({type:e,value:s,variation:r})=>{var a;if(e!==n.NameType.ETHEREUM_ADDRESS)return undefined;const o=s.toLowerCase(),i=t[r];return null==i||null===(a=i[o])||void 0===a?void 0:a.name})}(e),b=function(e){const t=e.filter(({type:e})=>e===n.NameType.ETHEREUM_ADDRESS).map(({value:e,variation:t})=>({chainId:t,contractAddress:e})),s=(0,f.useNftCollectionsMetadata)(t);return e.map(({type:e,value:t,variation:r})=>{var a;if(e!==n.NameType.ETHEREUM_ADDRESS)return undefined;const o=null===(a=s[r])||void 0===a?void 0:a[t.toLowerCase()],i=!1!==(null==o?void 0:o.isSpam);if(!o||i)return undefined;const{name:c,image:u}=o;return{name:c,image:u}})}(e),v=function(e){const t=(0,r.useSelector)(c.getDomainResolutions);return e.map(({type:e,value:s})=>{if(e!==n.NameType.ETHEREUM_ADDRESS)return undefined;const r=null==t?void 0:t.find(e=>(0,i.toChecksumHexAddress)(e.resolvedAddress)===(0,i.toChecksumHexAddress)(s));return null==r?void 0:r.domainName})}(e),T=function(e,t){const s=(0,r.useSelector)(u.getIsMultichainAccountsState2Enabled),o=(0,r.useSelector)(h.getAccountTree),{wallets:i}=o??{},c=(0,a.useMemo)(()=>Object.keys(i).length>1,[i]),l=(0,a.useMemo)(()=>e.map(({type:e,value:t},s)=>({address:e===n.NameType.ETHEREUM_ADDRESS?t:null,originalIndex:s})).filter(e=>null!==e.address),[e]),d=(0,r.useSelector)(e=>{const t={};return l.forEach(({address:s})=>{if(s){const n=(0,m.selectAccountGroupNameByInternalAccount)(e,s),r=(0,h.getWalletIdAndNameByAccountAddress)(e,s),a=(null==r?void 0:r.name)||null;t[s]={accountGroupName:n,walletName:a}}}),t});return(0,a.useMemo)(()=>e.map(({type:e,value:r},a)=>{const o=t[a],i=(null==d?void 0:d[r])||{accountGroupName:null,walletName:null};return e===n.NameType.ETHEREUM_ADDRESS&&s&&(null==o?void 0:o.origin)!==n.NameOrigin.API?{accountGroupName:i.accountGroupName,walletName:c?i.walletName:null}:{accountGroupName:null,walletName:null}}),[e,d,s,t,c])}(e,t);return e.map((e,n)=>{const r=t[n],a=s[n],o=k[n],i=S[n],c=y[n],u=b[n],l=v[n],{accountGroupName:m,walletName:h}=T[n],p=h;let f=m||(null==r?void 0:r.name)||a||(null==u?void 0:u.name)||(null==i?void 0:i.name)||c||l||null;const w=Boolean(null==r?void 0:r.name),C=function(e,t,s){if(e===g.TrustSignalDisplayState.Malicious)return g.TrustSignalDisplayState.Malicious;if(t)return g.TrustSignalDisplayState.Petname;if(e===g.TrustSignalDisplayState.Warning)return g.TrustSignalDisplayState.Warning;if(s)return g.TrustSignalDisplayState.Recognized;if(e===g.TrustSignalDisplayState.Verified)return g.TrustSignalDisplayState.Verified;if(e===g.TrustSignalDisplayState.Unknown)return g.TrustSignalDisplayState.Unknown;return g.TrustSignalDisplayState.Unknown}(null==o?void 0:o.state,w,f),_=(null==u?void 0:u.image)||(null==i?void 0:i.image),E=(0,d.getTrustSignalIcon)(C),I=null==o?void 0:o.label;return null===f&&I&&(f=I),{contractDisplayName:null==i?void 0:i.name,displayState:C,hasPetname:w,icon:E,image:_,isAccount:null!==m,name:f,subtitle:p}})}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[7039,{lodash:4635,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useEqualityCheck=function(e,t=r.isEqual){const[s,a]=(0,n.useState)(e);return(0,n.useLayoutEffect)(()=>{t(e,s)||a(e)},[e,t,s]),s};var n=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[7040,{"../../shared/modules/conversion.utils":5732,"../ducks/metamask/metamask":6883,"../helpers/utils/confirm-tx.util":6927,"../selectors":7886,"bignumber.js":3768,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useEthFiatAmount=function(e,t={},s){const n=(0,a.useSelector)(u.getConversionRate),d=(0,a.useSelector)(u.getCurrentCurrency),m=(0,a.useSelector)(i.getShouldShowFiat),h=t.showFiat??m,p=(0,r.useMemo)(()=>(0,l.decEthToConvertedCurrency)(e,d,n),[n,d,e]);if(!h||"ETH"===d.toUpperCase()||n<=0||e===undefined)return undefined;const f=new o.default(e.toString()).times(n);if(e&&f.lt(new o.default(.01))&&f.greaterThan(new o.default(0)))return s?`< ${(0,c.formatCurrency)(.01,d)}`:`< ${(0,c.formatCurrency)(.01,d)} ${d.toUpperCase()}`;return s?(0,c.formatCurrency)(p,d):`${(0,c.formatCurrency)(p,d)} ${d.toUpperCase()}`};var n,r=e("react"),a=e("react-redux"),o=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},i=e("../selectors"),c=e("../helpers/utils/confirm-tx.util"),u=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[7041,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react");s.default=e=>{const[t,s]=(0,n.useState)(""),[r,a]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async()=>{if(e)try{const t=await fetch(e);if(!t.ok)return;let n=await t.text();n=n.replace(/,\s*}/g,"}").replace(/,\s*\]/g,"]");const r=JSON.parse(n);s(r.image),a(r.name)}catch{}})()},[e]),{image:t,name:r}}}}},{package:"$root$",file:"ui/hooks/useFetchNftDetailsFromTokenURI.ts"}],[7042,{"../ducks/locale/locale":6882,"../ducks/metamask/metamask":6883,"../helpers/utils/util":6959,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useFiatFormatter=void 0;var n=e("react-redux"),r=e("../ducks/locale/locale"),a=e("../ducks/metamask/metamask"),o=e("../helpers/utils/util");s.useFiatFormatter=()=>{const e=(0,n.useSelector)(r.getIntlLocale),t=(0,n.useSelector)(a.getCurrentCurrency);return(s,n={})=>{const{shorten:r,truncatedCharLimit:a,truncatedStartChars:i}=n;try{const n=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!r)return n.format(s);const c=n.formatToParts(s);let u="",l="";c.forEach(e=>{"currency"===e.type?u+=e.value:l+=e.value});const d=(0,o.shortenString)(l,{truncatedCharLimit:a??15,truncatedStartChars:i??12,truncatedEndChars:0,skipCharacterInEnd:!0});return c.findIndex(e=>"currency"===e.type)<c.findIndex(e=>"integer"===e.type)?`${u}${d}`:`${d}${u}`}catch(n){const a=new Intl.NumberFormat(e).format(s),i=(0,o.shortenString)(a,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r?`${i} ${t}`:`${a} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[7043,{"../ducks/locale/locale":6882,"@metamask/assets-controllers":1233,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useFormatters=function(){const e=(0,r.useSelector)(o.getIntlLocale);return(0,n.useMemo)(()=>{const t=(0,a.createFormatters)({locale:e});return{...t,formatPercentWithMinThreshold:i.bind(null,t.formatNumber),formatCompact:c.bind(null,t.formatNumber)}},[e])};var n=e("react"),r=e("react-redux"),a=e("@metamask/assets-controllers"),o=e("../ducks/locale/locale");function i(e,t,s={}){const n=Number(t);if(!Number.isFinite(n))return"";return e(0===n?0:Math.sign(n)*Math.max(Math.abs(n),1e-4),{style:"percent",maximumFractionDigits:2,minimumFractionDigits:2,...s})}function c(e,t){return e(t,{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})}}}},{package:"$root$",file:"ui/hooks/useFormatters.ts"}],[7044,{"../../shared/modules/selectors/networks":5753,"../ducks/metamask/metamask":6883,"../store/actions":7916,"./usePolling":7067,"lodash/isEqual":4622,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useGasFeeEstimates=function(e,t=!0){const s=(0,r.useSelector)(c.getSelectedNetworkClientId),l=e??s,[d,m]=(0,a.useState)(""),h=(0,r.useSelector)(e=>(0,o.getGasEstimateTypeByChainId)(e,d)),p=(0,r.useSelector)(e=>(0,o.getGasFeeEstimatesByChainId)(e,d),n.default),f=(0,r.useSelector)(e=>(0,o.getIsGasEstimatesLoadingByChainId)(e,{chainId:d,networkClientId:l})),g=(0,r.useSelector)(e=>(0,o.getIsNetworkBusyByChainId)(e,d));return(0,a.useEffect)(()=>{if(!t)return()=>{};let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(l).then(t=>{t&&e&&m(t.chainId)}),()=>{e=!1}},[l,t]),(0,u.default)({startPolling:e=>(0,i.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,input:{networkClientId:l},enabled:t}),{gasFeeEstimates:p,gasEstimateType:h,isGasEstimatesLoading:f,isNetworkBusy:g}};var n=l(e("lodash/isEqual")),r=e("react-redux"),a=e("react"),o=e("../ducks/metamask/metamask"),i=e("../store/actions"),c=e("../../shared/modules/selectors/networks"),u=l(e("./usePolling"));function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[7045,{"../helpers/utils/util":6959,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react"),r=e("../helpers/utils/util");s.default=(e,t)=>{const[s,a]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async()=>{const s=await(0,r.getAssetImageURL)(e,t);a(s)})()},[e,t]),s}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[7046,{"../../shared/modules/conversion.utils":5732,"../../shared/modules/selectors/networks":5753,"../selectors":7886,"./useTokenBalances":7078,"bn.js":3819,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useGetFormattedTokensPerChain=void 0;var n=e("react-redux"),r=e("bn.js"),a=e("../selectors"),o=e("../../shared/modules/selectors/networks"),i=e("../../shared/modules/conversion.utils"),c=e("./useTokenBalances");s.useGetFormattedTokensPerChain=(e,t,s,u)=>{const l=(0,n.useSelector)(o.getCurrentChainId),d=(0,n.useSelector)(a.getAllTokens),m=(0,c.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(s?[l]:u).map(s=>{var n;const a=((null==d||null===(n=d[s])||void 0===n?void 0:n[null==e?void 0:e.address])??[]).reduce((n,a)=>{var o;const u=(null===(o=m.tokenBalances[e.address])||void 0===o||null===(o=o[s])||void 0===o?void 0:o[a.address])??"0x0";if("0x0"!==u||!t){const e=(0,i.hexToDecimal)(u);n.push({address:a.address,symbol:a.symbol,decimals:a.decimals,balance:e,string:(0,c.stringifyBalance)(new r.BN(e),new r.BN(a.decimals))})}return n},[]);return{chainId:s,tokensWithBalances:a}})}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[7048,{"../../app/scripts/lib/util":353,"../../shared/lib/asset-utils":5647,"../helpers/utils/isOriginalNativeTokenSymbol":6937,"../selectors":7886,"../selectors/multichain":7895,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useIsOriginalNativeTokenSymbol=function(e,t,s,l=""){const[d,m]=(0,n.useState)(!1),h=(0,r.useSelector)(a.useSafeChainsListValidationSelector),p=(0,i.isEvmChainId)(e),f=(0,r.useSelector)(o.getMultichainCurrentNetwork);return(0,n.useEffect)(()=>{!async function(e){if(p)try{if((e=>{const t=(0,c.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(l))return void m(!0);const s=await(0,u.isOriginalNativeTokenSymbol)({ticker:t,chainId:e,useAPICall:h});m(s)}catch(e){m(!1)}else m(t===(null==f?void 0:f.ticker))}(e)},[d,e,t,s,l,h,p,null==f?void 0:f.ticker]),d};var n=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain"),i=e("../../shared/lib/asset-utils"),c=e("../../app/scripts/lib/util"),u=e("../helpers/utils/isOriginalNativeTokenSymbol")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.ts"}],[7049,{"../selectors":7886,"../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useIsOriginalTokenSymbol=function(e,t){const[s,i]=(0,n.useState)(null),c=(0,r.useSelector)(o.getTokenList);return(0,n.useEffect)(()=>{!async function(e){var s,n;let r=null===(s=c[null==e?void 0:e.toLowerCase()])||void 0===s?void 0:s.symbol;r||(r=await(0,a.getTokenSymbol)(e)),i((null===(n=r)||void 0===n?void 0:n.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)},[e,t]),s};var n=e("react"),r=e("react-redux"),a=e("../store/actions"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[7050,{"../store/actions":7916,loglevel:4643,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDisableMetametrics=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(!1),[n,o]=(0,r.useState)(null);return{disableMetametrics:(0,r.useCallback)(async()=>{s(!0),e((0,i.showLoadingIndication)()),o(null);try{await e((0,i.setParticipateInMetaMetrics)(!1))}catch(e){throw o(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{s(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())},[e]),loading:t,error:n}},s.useEnableMetametrics=function(){const e=(0,a.useDispatch)(),[t,s]=(0,r.useState)(!1),[n,c]=(0,r.useState)(null);return{enableMetametrics:(0,r.useCallback)(async()=>{s(!0),e((0,i.showLoadingIndication)()),c(null);try{await e((0,i.setParticipateInMetaMetrics)(!0))}catch(e){throw c(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}finally{s(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())},[e]),loading:t,error:n}};var n,r=e("react"),a=e("react-redux"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},i=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[7051,{"../store/actions":7916,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useModalProps=function(){const e=(0,n.useSelector)(e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props}),t=(0,n.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var n=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[7052,{"../ducks/metamask/metamask":6883,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react"),r=e("react-redux"),a=e("../ducks/metamask/metamask");s.default=e=>{const t=(0,r.useSelector)(a.getCompletedOnboarding),s=(0,n.useRef)(new Map);(0,n.useEffect)(()=>{if(t){for(const t of e.input){const n=JSON.stringify(t);s.current.has(n)||e.startPolling(t).then(e=>s.current.set(n,e))}for(const[t,n]of s.current.entries()){e.input.some(e=>t===JSON.stringify(e))||(e.stopPollingByPollingToken(n),s.current.delete(t))}}},[t,e.input&&JSON.stringify(e.input)]),(0,n.useEffect)(()=>()=>{for(const t of s.current.values())e.stopPollingByPollingToken(t)},[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[7053,{"../../shared/constants/multichain/assets":5615,"../helpers/utils/confirm-tx.util":6927,"../helpers/utils/token-util":6955,"../selectors/multichain":7895,"./useAccountTotalFiatBalance":7026,"./useMultichainSelector":7057,"@metamask/keyring-api":2100,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useMultichainAccountTotalFiatBalance=s.EMPTY_VALUES=void 0;var n=e("react-redux"),r=e("@metamask/keyring-api"),a=e("../selectors/multichain"),o=e("../helpers/utils/confirm-tx.util"),i=e("../../shared/constants/multichain/assets"),c=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),l=e("./useAccountTotalFiatBalance");const d=s.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};s.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var s;const m=(0,l.useAccountTotalFiatBalance)(e,t),h=(0,u.useMultichainSelector)(a.getMultichainCurrentCurrency,e),{network:p}=(0,u.useMultichainSelector)(a.getMultichainNetwork,e),{ticker:f}=p,g=(0,u.useMultichainSelector)(a.getMultichainConversionRate,e),k=(0,u.useMultichainSelector)(a.getMultichainCurrencyImage,e),S=(0,n.useSelector)(a.getMultichainBalances),y=i.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[f];if((0,r.isEvmAccountType)(e.type))return m;if(null==S||null===(s=S[e.id])||void 0===s||!s[y])return d;const{amount:b}=S[e.id][y],v=(0,c.getTokenFiatAmount)(1,Number(g),h,b,f,!1,!1)??"0",T={iconUrl:k,symbol:f,fiatBalance:v};return{formattedFiat:(0,o.formatCurrency)(v,h),totalFiatBalance:v,totalBalance:b,tokensWithBalances:[],loading:!1,orderedTokenList:[T]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[7054,{"../helpers/constants/routes":6904,"../selectors/multichain-accounts/feature-flags":7891,"../selectors/selectors":7903,"../store/store":7921,react:5080,semver:5411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useMultichainAccountsIntroModal=function(e,t){const[s,l]=(0,n.useState)(!1),d=(0,a.useAppSelector)(o.getIsMultichainAccountsState2Enabled),m=(0,a.useAppSelector)(e=>e.metamask.hasShownMultichainAccountsIntroModal),h=(0,a.useAppSelector)(e=>e.metamask.lastUpdatedAt),p=(0,a.useAppSelector)(i.getLastUpdatedFromVersion);return(0,n.useEffect)(()=>{const s=t.pathname===c.DEFAULT_ROUTE,n=Boolean(p&&"string"==typeof p&&(0,r.lt)(p,u));l(e&&d&&!m&&null!==h&&n&&s)},[e,d,m,h,p,t.pathname]),{showMultichainIntroModal:s,setShowMultichainIntroModal:l}};var n=e("react"),r=e("semver"),a=e("../store/store"),o=e("../selectors/multichain-accounts/feature-flags"),i=e("../selectors/selectors"),c=e("../helpers/constants/routes");const u="13.5.0"}}},{package:"$root$",file:"ui/hooks/useMultichainAccountsIntroModal.ts"}],[7055,{"../ducks/metamask/metamask":6883,"../selectors":7886,"../store/controller-actions/multichain-asset-rates-controller":7919,"./usePolling":7067,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),a=e("../ducks/metamask/metamask"),o=e("../selectors"),i=e("../store/controller-actions/multichain-asset-rates-controller"),c=(n=e("./usePolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(()=>{const e=(0,r.useSelector)(a.getCompletedOnboarding),t=(0,r.useSelector)(a.getIsUnlocked),s=(0,r.useSelector)(o.getUseCurrencyRateCheck);return e&&t&&s})(),t=(()=>{const e=(0,r.useSelector)(o.getSelectedInternalAccount);return(null==e?void 0:e.id)??""})();(0,c.default)({startPolling:i.multichainAssetsRatesStartPolling,stopPollingByPollingToken:i.multichainAssetsRatesStopPollingByPollingToken,input:t,enabled:e})}}}},{package:"$root$",file:"ui/hooks/useMultichainAssetsRatesPolling.ts"}],[7056,{"../../shared/constants/multichain/assets":5615,"../../shared/constants/transaction":5637,"../selectors/assets":7878,"../selectors/multichain":7895,"../selectors/multichain-accounts/account-tree":7890,"./useMultichainSelector":7057,"@metamask/keyring-api":2100,"@metamask/utils":2914,"bignumber.js":3768,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useMultichainBalances=void 0;var n=e("react"),r=e("react-redux"),a=e("@metamask/utils"),o=e("@metamask/keyring-api"),i=e("bignumber.js"),c=e("../../shared/constants/transaction"),u=e("../../shared/constants/multichain/assets"),l=e("../selectors/assets"),d=e("../selectors/multichain"),m=e("../selectors/multichain-accounts/account-tree"),h=e("./useMultichainSelector");const p=(e,t)=>{const s=(0,r.useSelector)(l.getAccountAssets),o=(0,r.useSelector)(l.getAssetsMetadata),u=(0,h.useMultichainSelector)(d.getMultichainBalances),m=(0,r.useSelector)(l.getAssetsRates);return(0,n.useMemo)(()=>{if(!e)return[];const n=null==s?void 0:s[e],r=null==u?void 0:u[e];return r&&n?n.filter(e=>o[e]).map(e=>{var s,n,u,l,d,h,p;const{chainId:f,assetReference:g,assetNamespace:k}=(0,a.parseCaipAssetType)(e);return{chainId:f,symbol:(null===(s=o[e])||void 0===s?void 0:s.symbol)??"",assetId:e,address:g,string:(null===(n=r[e])||void 0===n?void 0:n.amount)??"0",balance:(null===(u=r[e])||void 0===u?void 0:u.amount)??"0",decimals:null===(l=o[e])||void 0===l||null===(l=l.units[0])||void 0===l?void 0:l.decimals,image:(null===(d=o[e])||void 0===d?void 0:d.iconUrl)??"",type:"token"===k?c.AssetType.token:c.AssetType.native,accountType:t,tokenFiatAmount:new i.BigNumber((null===(h=r[e])||void 0===h?void 0:h.amount)??"1").times((null==m||null===(p=m[e])||void 0===p?void 0:p.rate)??"1").toNumber()}}).filter(Boolean):[]},[o,m,s,e,u,t])};s.useMultichainBalances=e=>{const t=(0,r.useSelector)(m.getSelectedAccountGroup),[s]=(0,r.useSelector)(t=>(0,m.getAccountGroupsByAddress)(t,[e??""])),a=(null==s?void 0:s.id)??t,i=(0,r.useSelector)(e=>(0,m.getInternalAccountByGroupAndCaip)(e,a,"eip155:1")),d=(0,r.useSelector)(e=>(0,m.getInternalAccountByGroupAndCaip)(e,a,o.SolScope.Mainnet)),h=(0,r.useSelector)(e=>(0,m.getInternalAccountByGroupAndCaip)(e,a,o.BtcScope.Mainnet)),f=(0,r.useSelector)(e=>(0,m.getInternalAccountByGroupAndCaip)(e,a,o.TrxScope.Mainnet)),g=(0,r.useSelector)(e=>(0,l.getTokenBalancesEvm)(e,null==i?void 0:i.address)),k=p(null==d?void 0:d.id),S=p(null==h?void 0:h.id,null==h?void 0:h.type),y=p(null==f?void 0:f.id,null==f?void 0:f.type);return{assetsWithBalance:(0,n.useMemo)(()=>{const e=y.filter(e=>!u.TRON_RESOURCE_SYMBOLS_SET.has(e.symbol.toLowerCase()));return[...g,...k,...S,...e].map(e=>({...e,type:e.isNative?c.AssetType.native:c.AssetType.token})).sort((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0))},[g,k,S,y]),balanceByChainId:(0,n.useMemo)(()=>{const e=y.filter(e=>!u.TRON_RESOURCE_SYMBOLS_SET.has(e.symbol.toLowerCase()));return[...g,...k,...S,...e].reduce((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e),{})},[g,k,S,y])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[7057,{"../selectors":7886,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useMultichainSelector=function(e,t){return(0,n.useSelector)(s=>e(s,t||(0,r.getSelectedInternalAccount)(s)))};var n=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useMultichainSelector.ts"}],[7058,{"../../shared/constants/transaction":5637,"../components/app/assets/util/formatWithThreshold":5852,"../ducks/locale/locale":6882,"./useI18nContext":7047,"@metamask/keyring-api":2100,"@metamask/multichain-network-controller":2207,"@metamask/transaction-controller":2868,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.KEYRING_TRANSACTION_STATUS_KEY=void 0,s.useMultichainTransactionDisplay=function(e,t){const s=(0,o.useSelector)(c.getIntlLocale),{chainId:r}=t,i=a.MULTICHAIN_NETWORK_DECIMAL_PLACES[r],u=(0,l.useI18nContext)(),m=d(e.from,!0,s,i),h=d(e.to,e.type===n.TransactionType.Send,s,i),p=d((e.fees||[]).filter(e=>"base"===e.type),!0,s),f=d((e.fees||[]).filter(e=>"priority"===e.type),!0,s),g={[n.TransactionType.Send]:u("sent"),[n.TransactionType.Receive]:u("received"),[n.TransactionType.Swap]:`${u("swap")} ${null==m?void 0:m.unit} ${u("to").toLowerCase()} ${null==h?void 0:h.unit}`,[n.TransactionType.Unknown]:u("interaction")};return{...e,title:g[e.type],from:m,to:h,baseFee:p,priorityFee:f,isRedeposit:0===e.to.length&&e.type===n.TransactionType.Send}};var n=e("@metamask/keyring-api"),r=e("@metamask/transaction-controller"),a=e("@metamask/multichain-network-controller"),o=e("react-redux"),i=e("../components/app/assets/util/formatWithThreshold"),c=e("../ducks/locale/locale"),u=e("../../shared/constants/transaction"),l=e("./useI18nContext");s.KEYRING_TRANSACTION_STATUS_KEY={[n.TransactionStatus.Failed]:r.TransactionStatus.failed,[n.TransactionStatus.Confirmed]:r.TransactionStatus.confirmed,[n.TransactionStatus.Unconfirmed]:u.TransactionGroupStatus.pending,[n.TransactionStatus.Submitted]:r.TransactionStatus.submitted};function d(e,t,s,n){const r={};for(const t of e){if(null==t||!t.asset.fungible)continue;const e=t.asset.type;r[e]?r[e].amount+=parseFloat(t.asset.amount):r[e]={amount:parseFloat(t.asset.amount),address:t.address,unit:t.asset.unit}}return Object.entries(r).map(([e,r])=>function(e,t,s,n){const r=1/10**(n||8),a=(0,i.formatWithThreshold)(e.amount,r,t,{minimumFractionDigits:0,maximumFractionDigits:n||8});let o=a;s&&(o=`-${a}`);return{...e,amount:o}}(r,s,t,n))[0]}}}},{package:"$root$",file:"ui/hooks/useMultichainTransactionDisplay.ts"}],[7059,{"../selectors":7886,"@metamask/name-controller":2215,lodash:4635,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useName=function(e,t,s){return i([{value:e,type:t,variation:s}])[0]},s.useNames=i;var n=e("@metamask/name-controller"),r=e("react-redux"),a=e("lodash"),o=e("../selectors");function i(e){const t=(0,r.useSelector)(o.getNames,a.isEqual);return e.map(({value:e,type:s,variation:r})=>{var a;const o=function(e,t){if(t===n.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,s),i=(null===(a=t[s])||void 0===a?void 0:a[o])??{},c=i[r],u=i[n.FALLBACK_VARIATION],l=null!=c&&c.name||!u?c??{}:u,{name:d=null,sourceId:m=null,origin:h=null,proposedNames:p={}}=l;return{name:d,sourceId:m,proposedNames:p,origin:h}})}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[7060,{"../../shared/constants/metametrics":5613,"../../shared/constants/network":5617,"../../shared/lib/network-utils":5708,"../../shared/lib/only-keep-host":5709,"../../shared/modules/selectors/networks":5753,"../contexts/metametrics":6855,"../selectors/multichain/networks":7896,"../selectors/selectors":7903,"../store/actions":7916,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useNetworkConnectionBanner=void 0;var n=e("react"),r=e("react-redux"),a=e("@metamask/utils"),o=e("../selectors/multichain/networks"),i=e("../selectors/selectors"),c=e("../store/actions"),u=e("../contexts/metametrics"),l=e("../../shared/constants/metametrics"),d=e("../../shared/constants/network"),m=e("../../shared/modules/selectors/networks"),h=e("../../shared/lib/only-keep-host"),p=e("../../shared/lib/network-utils");s.useNetworkConnectionBanner=()=>{const e=(0,r.useDispatch)(),t=(0,n.useContext)(u.MetaMetricsContext),s=(0,r.useSelector)(o.selectFirstUnavailableEvmNetwork),f=(0,r.useSelector)(i.getNetworkConnectionBanner),g=(0,r.useSelector)(m.getNetworkConfigurationsByChainId),k=(0,n.useRef)({}),S=(0,n.useCallback)(()=>{k.current.degradedTimer&&(clearTimeout(k.current.degradedTimer),k.current.degradedTimer=undefined)},[]),y=(0,n.useCallback)(()=>{k.current.unavailableTimer&&(clearTimeout(k.current.unavailableTimer),k.current.unavailableTimer=undefined)},[]),b=(0,n.useCallback)(()=>{S(),y()},[S,y]),v=(0,n.useCallback)(({bannerType:e,eventName:s,networkClientId:n})=>{if(!d.infuraProjectId)return void console.warn("Infura project ID not found, cannot track network banner event");let r;for(const e of Object.values(g)){const t=e.rpcEndpoints.find(e=>e.networkClientId===n);if(t){r={chainId:e.chainId,url:t.url};break}}if(!r)return void console.warn(`RPC endpoint not found for network client ID: ${n}`);const o=r.url,i=(0,a.hexToNumber)(r.chainId),c=(0,p.isPublicEndpointUrl)(o,d.infuraProjectId)?(0,h.onlyKeepHost)(o):"custom";t({category:l.MetaMetricsEventCategory.Network,event:s,properties:{banner_type:e,chain_id_caip:`eip155:${i}`,rpc_endpoint_url:c}})},[g,t]),T=(0,n.useCallback)(()=>{y(),k.current.unavailableTimer=setTimeout(()=>{s&&(v({bannerType:"unavailable",eventName:l.MetaMetricsEventName.NetworkConnectionBannerShown,networkClientId:s.networkClientId}),e((0,c.updateNetworkConnectionBanner)({status:"unavailable",networkName:s.networkName,networkClientId:s.networkClientId,chainId:s.chainId,isInfuraEndpoint:s.isInfuraEndpoint})))},25e3)},[s,v,e,y]),w=(0,n.useCallback)(()=>{S(),k.current.degradedTimer=setTimeout(()=>{s&&(v({bannerType:"degraded",eventName:l.MetaMetricsEventName.NetworkConnectionBannerShown,networkClientId:s.networkClientId}),e((0,c.updateNetworkConnectionBanner)({status:"degraded",networkName:s.networkName,networkClientId:s.networkClientId,chainId:s.chainId,isInfuraEndpoint:s.isInfuraEndpoint})),T())},5e3)},[s,v,e,T,S]);return(0,n.useEffect)(()=>(s?"degraded"===f.status?T():"unknown"!==f.status&&"available"!==f.status||w():"available"!==f.status&&e((0,c.updateNetworkConnectionBanner)({status:"available"})),()=>{b()}),[s,b,e,f.status,w,T]),{...f,trackNetworkBannerEvent:v}}}}},{package:"$root$",file:"ui/hooks/useNetworkConnectionBanner.ts"}],[7061,{"../../shared/constants/transaction":5637,"../store/actions":7916,"./useAsync":7029},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useNftCollectionsMetadata=function(e){const{value:t}=(0,a.useAsyncResult)(()=>async function(e){const t=e.reduce((e,{chainId:t,contractAddress:s})=>(e[t]=[...e[t]??[],s.toLowerCase()],e),{}),s=Object.keys(t),n=await Promise.all(s.map(e=>async function(e,t){const s=await Promise.all(e.map(e=>(0,r.getTokenStandardAndDetails)(e,t))),n=e.filter((e,t)=>o.includes(s[t].standard));if(0===n.length)return{};const a=await(0,r.getNFTContractInfo)(n,t);return a.collections.reduce((e,t,s)=>(e[n[s]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e),{})}(t[e],e)));return s.reduce((e,t,s)=>(e[t]=n[s],e),{})}(e),[JSON.stringify(e)]);return t??{}};var n=e("../../shared/constants/transaction"),r=e("../store/actions"),a=e("./useAsync");const o=[n.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[7062,{"../../shared/lib/trace":5718,"../../shared/modules/selectors/networks":5753,"../ducks/metamask/metamask":6883,"../selectors":7886,"../selectors/multichain/networks":7896,"./useI18nContext":7047,"./usePrevious":7068,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useNfts=function({overridePopularNetworkFilter:e=!1}={}){const t=(0,m.useI18nContext)(),s=(0,r.useSelector)(o.getAllNfts),{address:h}=(0,r.useSelector)(i.getSelectedInternalAccount),p=(0,r.useSelector)(u.getCurrentChainId),f=(0,r.useSelector)(i.getAllChainsToPoll),g=(0,r.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),k=(0,r.useSelector)(c.getEnabledNetworksByNamespace),S=(0,n.useMemo)(()=>{if(i.isGlobalNetworkSelectorRemoved){const t={};return e?(null==s?void 0:s[p])??[]:(Object.entries(s??{}).forEach(([e,s])=>{null!=k&&k[e]&&Array.isArray(s)&&(t[e]=s)}),t)}(0,l.trace)({name:l.TraceName.LoadCollectibles});const t=g||e?(null==s?void 0:s[p])??[]:s;return(0,l.endTrace)({name:l.TraceName.LoadCollectibles}),t},[g,e,s,p,k]),y=(0,r.useSelector)(o.getNftContracts),b=t("nftsPreviouslyOwned"),v=t("unknownCollection"),[T,w]=(0,n.useState)([]),[C,_]=(0,n.useState)([]),[E,I]=(0,n.useState)(()=>(null==S?void 0:S.length)>=0),M=(0,d.usePrevious)(S),A=(0,d.usePrevious)(f),N=(0,d.usePrevious)(h);return(0,n.useEffect)(()=>{(0,a.isEqual)(M,S)&&(0,a.isEqual)(N,h)&&(0,a.isEqual)(A,p)||(()=>{if(I(!0),h===undefined||f===undefined)return;const e=[],t=[];Object.values(S).flat().forEach(s=>{!1===(null==s?void 0:s.isCurrentlyOwned)?e.push(s):t.push(s)}),_(e),w(t),I(!1)})()},[S,M,y,I,p,A,h,N,b,v,f]),{loading:E,currentlyOwnedNfts:T,previouslyOwnedNfts:C}};var n=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../selectors/multichain/networks"),u=e("../../shared/modules/selectors/networks"),l=e("../../shared/lib/trace"),d=e("./usePrevious"),m=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[7063,{"../../shared/modules/selectors/networks":5753,"../ducks/metamask/metamask":6883,"../helpers/utils/nfts":6943,"../selectors":7886,"../selectors/multichain/networks":7896,"./useI18nContext":7047,"./usePrevious":7068,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useNftsCollections=function(){const e=(0,m.useI18nContext)(),t=e("nftsPreviouslyOwned"),s=e("unknownCollection"),[h,p]=(0,n.useState)({}),[f,g]=(0,n.useState)({collectionName:t,nfts:[]}),k=(0,r.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),S=(0,r.useSelector)(o.getAllNfts),y=(0,r.useSelector)(c.getEnabledNetworksByNamespace),{address:b}=(0,r.useSelector)(i.getSelectedInternalAccount),v=(0,r.useSelector)(u.getCurrentChainId),T=(0,n.useMemo)(()=>{if(i.isGlobalNetworkSelectorRemoved){const e={};return Object.entries(S??{}).forEach(([t,s])=>{null!=y&&y[t]&&Array.isArray(s)&&(e[t]=s)}),e}return k?(null==S?void 0:S[v])??[]:S},[k,S,v,y]),[w,C]=(0,n.useState)(()=>(null==T?void 0:T.length)>=0),_=(0,r.useSelector)(o.getNftContracts),E=(0,d.usePrevious)(T),I=(0,d.usePrevious)(v),M=(0,d.usePrevious)(b);return(0,n.useEffect)(()=>{(0,a.isEqual)(E,T)&&(0,a.isEqual)(M,b)&&(0,a.isEqual)(I,v)||(()=>{if(C(!0),b===undefined||v===undefined)return;const e={},n={collectionName:t,nfts:[]};Object.values(T).flat().forEach(t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))n.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const n=_.find(({address:e})=>e===t.address);e[t.address]={collectionName:(null==n?void 0:n.name)||s,collectionImage:(null==n?void 0:n.logo)||(0,l.getNftImage)(t.image),nfts:[t]}}}),p(e),g(n),C(!1)})()},[T,E,_,C,v,I,b,M,t,s]),{nftsLoading:w,collections:h,previouslyOwnedCollection:f}};var n=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../selectors/multichain/networks"),u=e("../../shared/modules/selectors/networks"),l=e("../helpers/utils/nfts"),d=e("./usePrevious"),m=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[7064,{"../helpers/constants/notifications":6902,"../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSnapNotificationTimeouts=void 0;var n=e("react"),r=e("react-redux"),a=e("../store/actions"),o=e("../helpers/constants/notifications");s.useSnapNotificationTimeouts=()=>{const e=(0,r.useDispatch)();return{setNotificationTimeout:(0,n.useCallback)(t=>{setTimeout(()=>{e((0,a.deleteNotificationsById)([t]))},o.NOTIFICATIONS_EXPIRATION_DELAY)},[e])}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[7065,{"../selectors":7886,"@metamask/permission-controller":2329,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useOriginMetadata=function(e){const t=(0,r.useSelector)(t=>(0,a.getTargetSubjectMetadata)(t,e));if(!e)return null;let s=null;try{const t=new URL(e);s={host:t.host,hostname:t.hostname,origin:e,subjectType:n.SubjectType.Unknown}}catch(e){}if(t&&s)return{...s,...t};if(t)return t;return s};var n=e("@metamask/permission-controller"),r=e("react-redux"),a=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[7066,{"../selectors/selectors":7903,"./useTrustSignals":7090,"@metamask/phishing-controller":2343,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useOriginTrustSignals=function(e){let t;if(e)try{const s=new URL(e);t=s.hostname}catch(e){t=undefined}const s=(0,r.useSelector)(e=>(0,a.getUrlScanCacheResult)(e,t));return{state:i(s),label:null}};var n=e("@metamask/phishing-controller"),r=e("react-redux"),a=e("../selectors/selectors"),o=e("./useTrustSignals");function i(e){var t;const s=null==e||null===(t=e.data)||void 0===t?void 0:t.recommendedAction;if(!s)return o.TrustSignalDisplayState.Unknown;switch(s){case n.RecommendedAction.Block:return o.TrustSignalDisplayState.Malicious;case n.RecommendedAction.Warn:return o.TrustSignalDisplayState.Warning;case n.RecommendedAction.Verified:return o.TrustSignalDisplayState.Verified;case n.RecommendedAction.None:default:return o.TrustSignalDisplayState.Unknown}}}}},{package:"$root$",file:"ui/hooks/useOriginTrustSignals.ts"}],[7067,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react");s.default=e=>{const t=(0,n.useRef)(null),s=(0,n.useRef)(null);let r=!1;(0,n.useEffect)(()=>{if(!1===e.enabled)return()=>{};r=!0;const n=()=>{var n;t.current&&(e.stopPollingByPollingToken(t.current),null===(n=s.current)||void 0===n||n.call(s,t.current))};return e.startPolling(e.input).then(a=>{var o;t.current=a,s.current=(null===(o=e.callback)||void 0===o?void 0:o.call(e,a))||null,r||n()}),()=>{r=!1,n()}},[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[7068,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.usePrevious=function(e){const t=(0,n.useRef)();return(0,n.useEffect)(()=>{t.current=e},[e]),t.current};var n=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[7069,{"../contexts/navigation-state":6856,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSafeNavigation=void 0;var n=e("react-router-dom-v5-compat"),r=e("react"),a=e("../contexts/navigation-state");s.useSafeNavigation=e=>{const t=(0,n.useNavigate)(),s=(0,n.useLocation)(),o=(0,a.useSetNavState)(),i=(0,r.useRef)(null);(0,r.useEffect)(()=>()=>{i.current&&clearTimeout(i.current)},[]);return{navigate:(0,r.useCallback)((s,n)=>{null!=n&&n.state?o(n.state):o(null),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{o(null),i.current=null},100),e?e(s,n):t(s,{replace:Boolean(null==n?void 0:n.replace),state:null==n?void 0:n.state})},[e,t,o]),location:s}}}}},{package:"$root$",file:"ui/hooks/useSafeNavigation.ts"}],[7070,{"./usePrevious":7068,lodash:4635,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useScrollRequired=void 0;var n=e("react"),r=e("lodash"),a=e("./usePrevious");s.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var s,o;const i=(0,n.useRef)(null),c=(0,a.usePrevious)(null===(s=i.current)||void 0===s?void 0:s.offsetHeight),[u,l]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),f=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,s=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(l(!1),m(e)),p(!e||s),e&&!s||l(!0)};(0,n.useEffect)(f,[i,...e]),(0,n.useEffect)(()=>{var e;c!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&f()},[null===(o=i.current)||void 0===o?void 0:o.offsetHeight]);return{isScrollable:d,isScrolledToBottom:h,hasScrolledToBottom:u,scrollToBottom:()=>{p(!0),l(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:l,ref:i,onScroll:(0,r.debounce)(f,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[7071,{"../helpers/constants/routes":6904,"../selectors":7886,"react-redux":5021,"react-router-dom":5048},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:(0,a.getPaths)(),exact:!0,strict:!0}),t=((0,n.useSelector)(o.txDataSelector)||{}).origin,s=t?{url:t}:undefined;return{page:e?{path:e.path,title:a.PATH_NAME_MAP.get(e.path),url:e.path}:undefined,referrer:s}};var n=e("react-redux"),r=e("react-router-dom"),a=e("../helpers/constants/routes"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[7072,{"../ducks/app/app":6868,"./useGasFeeEstimates":7044,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),s=(0,r.useDispatch)(),c=(0,r.useSelector)(o.getGasLoadingAnimationIsShowing),u=(0,n.useRef)(t),l=!(0,a.isEqual)(u.current,t),d=(0,a.isEqual)(u.current,{});l&&(u.current=t);const m=e||l&&!d;(0,n.useEffect)(()=>{!1===c&&!0===m&&s((0,o.toggleGasLoadingAnimation)(!0))},[s,c,m]),(0,n.useEffect)(()=>{let e;return c&&!m&&(e=setTimeout(()=>{s((0,o.toggleGasLoadingAnimation)(!1))},2e3)),()=>{e&&clearTimeout(e)}},[s,c,m])};var n=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[7073,{"../../shared/constants/time":5635,"../../shared/modules/selectors/networks":5753,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useShouldShowSpeedUp=function(e,t){const{transactions:s,hasRetried:i}=e,c=(0,r.useSelector)(o.getCurrentChainId),[u={}]=s,l=u.chainId===c,{submittedTime:d}=u,[m,h]=(0,n.useState)(()=>Date.now()-d>5e3&&t&&!i&&l);return(0,n.useEffect)(()=>{let e;return i||!t||m||(Date.now()-d>5*a.SECOND?h(!0):e=setTimeout(()=>{h(!0),clearTimeout(e)},5001-(Date.now()-d))),()=>{e&&clearTimeout(e)}},[d,m,i,t]),m};var n=e("react"),r=e("react-redux"),a=e("../../shared/constants/time"),o=e("../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[7074,{"../../shared/modules/environment":5736,"../selectors/remote-feature-flags":7900,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSidePanelEnabled=void 0;var n=e("react"),r=e("react-redux"),a=e("../selectors/remote-feature-flags"),o=e("../../shared/modules/environment");s.useSidePanelEnabled=()=>{const e=(0,r.useSelector)(a.getRemoteFeatureFlags);return(0,n.useMemo)(()=>{const t=(0,o.getIsSidePanelFeatureEnabled)(),s=Boolean(null==e?void 0:e.extensionUxSidepanel);return t&&s},[e])}}}},{package:"$root$",file:"ui/hooks/useSidePanelEnabled.ts"}],[7075,{"../../shared/lib/transactions-controller-utils":5720,"../../shared/modules/selectors/networks":5753,"../../shared/modules/swaps.utils":5762,"./useTokenFiatAmount":7082,"@metamask/transaction-controller":2868,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSwappedTokenValue=function(e,t){const{symbol:s,decimals:u,address:l}=t,{primaryTransaction:d,initialTransaction:m}=e,{type:h}=m,{from:p}=m.txParams||{},f=(0,n.useSelector)(i.getCurrentChainId),g=h===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,o.isSwapsDefaultTokenAddress)(t.address,f)&&(0,o.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,f)),k=[r.TransactionType.swap].includes(h)&&g?(0,a.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,m,l,p,u,null,f):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(h)&&d.swapTokenValue,S="string"==typeof k&&-1===Math.sign(k),y=(0,c.useTokenFiatAmount)(l,k||"",s),b=(0,c.useTokenFiatAmount)(d.sourceTokenAddress,k,d.sourceTokenSymbol);let v;k&&(g?v=y:h===r.TransactionType.swapAndSend&&(v=b));return{swapTokenValue:k,swapTokenFiatAmount:v,isViewingReceivedTokenFromSwap:g,isNegative:S}};var n=e("react-redux"),r=e("@metamask/transaction-controller"),a=e("../../shared/lib/transactions-controller-utils"),o=e("../../shared/modules/swaps.utils"),i=e("../../shared/modules/selectors/networks"),c=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[7076,{"../../shared/constants/preferences":5622,"../selectors":7886,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTheme=function(){const e=(0,r.useSelector)(a.getTheme),[t,s]=(0,n.useState)(e);return(0,n.useEffect)(()=>{const t=e&&e!==o.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${o.ThemeType.light}".`),s(o.ThemeType.light)),s(t)},[e]),t};var n=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../../shared/constants/preferences");const i=Object.values(o.ThemeType).filter(e=>e!==o.ThemeType.os)}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[7077,{react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTimeout=function(e,t,s=!0){const r=(0,n.useRef)(),[a,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{r.current=e},[e]),(0,n.useEffect)(()=>{if("start"!==a)return undefined;const e=setTimeout(()=>{r.current()},t);return o(e),()=>{clearTimeout(a)}},[t,a]);const i=(0,n.useCallback)(()=>{clearTimeout(a),o("start")},[a]);s&&i();return i};var n=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[7078,{"../../shared/modules/conversion.utils":5732,"../ducks/metamask/metamask":6883,"../selectors/multichain/networks":7896,"../store/actions":7916,"./useMultiPolling":7052,"bn.js":3819,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.stringifyBalance=m,s.useTokenTracker=s.useTokenBalances=void 0;var n=e("react-redux"),r=l(e("bn.js")),a=e("../store/actions"),o=e("../ducks/metamask/metamask"),i=e("../../shared/modules/conversion.utils"),c=e("../selectors/multichain/networks"),u=l(e("./useMultiPolling"));function l(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,n.useSelector)(o.getTokenBalances),s=(0,n.useSelector)(c.getEnabledChainIds),r=e&&e.length>0?e:s;return(0,u.default)({startPolling:a.tokenBalancesStartPolling,stopPollingByPollingToken:a.tokenBalancesStopPollingByPollingToken,input:[r]}),{tokenBalances:t}};s.useTokenBalances=d;function m(e,t,s=5){if(e.eq(new r.default(0)))return"0";const n=parseInt(t.toString(),10);if(0===n)return e.toString();let a=e.toString(),o=a.length,i=o-n,c="";if(i<=0){for(;c.length<=-1*i;)c+="0",o+=1;a=c+a,i=1}const u=a.substr(0,o-n);if(0===s)return u;const l=a.substr(i,s);if(/0+$/u.test(l)){let e=a.substr(i).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${l}`}s.useTokenTracker=({chainId:e,tokens:t,address:s,hideZeroBalanceTokens:n})=>{const{tokenBalances:a}=d({chainIds:[e]});return{tokensWithBalances:t.reduce((t,o)=>{var c;const u=(null===(c=a[s])||void 0===c||null===(c=c[e])||void 0===c?void 0:c[o.address])??"0x0";if("0x0"!==u||!n){const e=(0,i.hexToDecimal)(u);t.push({address:o.address,symbol:o.symbol,decimals:o.decimals,balance:e,balanceError:null,string:m(new r.default(e),new r.default(o.decimals))})}return t},[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[7079,{"../../shared/modules/transaction.utils":5763,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenData=function(e,t=!0){return(0,n.useMemo)(()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null,[t,e])};var n=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[7080,{"../ducks/metamask/metamask":6883,"../selectors":7886,"../selectors/multichain/networks":7896,"../store/actions":7916,"./useMultiPolling":7052,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=(n=e("./useMultiPolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(0,r.useSelector)(a.getUseTokenDetection),t=(0,r.useSelector)(c.getCompletedOnboarding),s=(0,r.useSelector)(c.getIsUnlocked),n=(0,r.useSelector)(a.getChainIdsToPoll),l=(0,r.useSelector)(o.getEnabledChainIds),d=t&&s&&e,m=a.isGlobalNetworkSelectorRemoved?l:n;return(0,u.default)({startPolling:i.tokenDetectionStartPolling,stopPollingByPollingToken:i.tokenDetectionStopPollingByPollingToken,input:d?[m]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[7081,{"../../shared/lib/metamask-controller-utils":5701,"../../shared/lib/transactions-controller-utils":5720,"./useTokenData":7079,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenDisplayValue=function(e,t,s=!0){const i=(0,o.useTokenData)(e,s),c=(0,r.getTokenValueParam)(i),u=Boolean(s&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&c);return(0,n.useMemo)(()=>u?(0,a.calcTokenAmount)(c,t.decimals).toString(10):null,[u,c,t])};var n=e("react"),r=e("../../shared/lib/metamask-controller-utils"),a=e("../../shared/lib/transactions-controller-utils"),o=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[7083,{"../../shared/lib/asset-utils":5647,"../ducks/metamask/metamask":6883,"../helpers/utils/token-insights":6954,"../selectors":7886,"../selectors/selectors":7903,"./useFormatters":7043,"@metamask/bridge-controller":1304,"@metamask/controller-utils":1383,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenInsightsData=void 0;var n=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("@metamask/utils"),i=e("@metamask/controller-utils"),c=e("../../shared/lib/asset-utils"),u=e("../selectors"),l=e("../ducks/metamask/metamask"),d=e("../selectors/selectors"),m=e("../helpers/utils/token-insights"),h=e("./useFormatters");s.useTokenInsightsData=e=>{var t;const s=(0,r.useSelector)(l.getCurrentCurrency),p=(0,r.useSelector)(d.getCurrencyRates),f=!!e&&(0,c.isEvmChainId)(e.chainId),{formatCurrencyWithMinThreshold:g}=(0,h.useFormatters)(),k=(0,r.useSelector)(u.getMarketData),S=(0,n.useMemo)(()=>{if(!(e&&f&&k&&e.address))return null;const t=k[e.chainId];return(null==t?void 0:t[e.address.toLowerCase()])||null},[e,f,k]),[y,b]=(0,n.useState)(null),[v,T]=(0,n.useState)(!1),[w,C]=(0,n.useState)(null),_=(0,n.useMemo)(()=>!(null==e||!e.address)&&(0,a.isNativeAddress)(e.address),[null==e?void 0:e.address]),E=(0,n.useMemo)(()=>f&&S?_?null==e?void 0:e.symbol:S.currency:undefined,[f,_,e,S]),I=E?null==p||null===(t=p[E])||void 0===t?void 0:t.conversionRate:undefined;(0,n.useEffect)(()=>{if(!e||S)return;(async()=>{T(!0),C(null);try{const n=(0,o.isCaipChainId)(e.chainId)?e.chainId:(0,a.formatChainIdToCaip)(e.chainId),r=(0,c.toAssetId)(e.address||"",n);if(!r)return void C("Invalid asset ID");const u=`https://price.api.cx.metamask.io/v3/spot-prices?assetIds=${r}&includeMarketData=true&vsCurrency=${s.toLowerCase()}`,l=await(0,i.handleFetch)(u,{method:"GET",headers:{"X-Client-Id":a.BridgeClientId.EXTENSION}}),d=r?null==l?void 0:l[r]:null;if(d){var t;const e={price:d.price||d.usd,pricePercentChange1d:d.pricePercentChange1d||(null===(t=d.pricePercentChange)||void 0===t?void 0:t.P1D)||0,totalVolume:d.totalVolume,marketCap:d.marketCap,dilutedMarketCap:d.dilutedMarketCap};b(e)}}catch(e){C(e.message)}finally{T(!1)}})()},[e,S,s]);const M=(0,n.useMemo)(()=>S?{price:S.price,pricePercentChange1d:S.pricePercentChange1d,totalVolume:S.totalVolume,marketCap:S.marketCap,dilutedMarketCap:S.dilutedMarketCap??S.marketCap}:y,[S,y]),A=(0,n.useMemo)(()=>{const t=e=>e?g(e,s):"—";if(!f||!S||!I){const e=null==M?void 0:M.price,n=null==M?void 0:M.totalVolume,r=(null==M?void 0:M.dilutedMarketCap)??(null==M?void 0:M.marketCap);return{price:e,volume:n,marketCap:r,formattedPrice:t(e),formattedVolume:(0,m.formatCompactCurrency)(n,s),formattedMarketCap:(0,m.formatCompactCurrency)(r,s)}}let n;var r;_&&null!=e&&e.symbol?n=null==p||null===(r=p[e.symbol])||void 0===r?void 0:r.conversionRate:n=S.price!==undefined&&null!==S.price?I*Number(S.price):undefined;const a=S.totalVolume!==undefined&&null!==S.totalVolume?I*Number(S.totalVolume):undefined,o=S.dilutedMarketCap??S.marketCap,i=o!==undefined&&null!==o?I*Number(o):undefined;return{price:n,volume:a,marketCap:i,formattedPrice:t(n),formattedVolume:(0,m.formatCompactCurrency)(a,s),formattedMarketCap:(0,m.formatCompactCurrency)(i,s)}},[M,f,S,I,_,e,p,s,g]);return{marketData:M,marketDataFiat:A,isLoading:v,error:w,isNativeToken:_}}}}},{package:"$root$",file:"ui/hooks/useTokenInsightsData.ts"}],[7084,{"../ducks/metamask/metamask":6883,"../selectors":7886,"../selectors/multichain/networks":7896,"../selectors/selectors":7903,"../store/actions":7916,"./useMultiPolling":7052,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=e("../selectors/selectors"),l=(n=e("./useMultiPolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(0,r.useSelector)(a.getUseTokenDetection),t=(0,r.useSelector)(a.getUseTransactionSimulations),s=(0,r.useSelector)(c.getCompletedOnboarding),n=(0,r.useSelector)(c.getIsUnlocked),d=(0,r.useSelector)(a.getUseExternalServices),m=(0,r.useSelector)(a.getChainIdsToPoll),h=(0,r.useSelector)(o.getEnabledChainIds),p=s&&n&&d&&(e||t),f=u.isGlobalNetworkSelectorRemoved?h:m;return(0,l.default)({startPolling:i.tokenListStartPolling,stopPollingByPollingToken:i.tokenListStopPollingByPollingToken,input:p?f:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[7085,{"../ducks/metamask/metamask":6883,"../selectors":7886,"../selectors/multichain/networks":7896,"../selectors/selectors":7903,"../store/actions":7916,"./useMultiPolling":7052,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=e("../selectors/selectors"),l=(n=e("./useMultiPolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(0,r.useSelector)(c.getCompletedOnboarding),t=(0,r.useSelector)(c.getIsUnlocked),s=(0,r.useSelector)(a.getUseCurrencyRateCheck),n=(0,r.useSelector)(a.getChainIdsToPoll),d=(0,r.useSelector)(o.getEnabledChainIds),m=(0,r.useSelector)(a.getTokenExchangeRates),h=(0,r.useSelector)(a.getTokensMarketData),p=(0,r.useSelector)(a.getMarketData),f=e&&t&&s,g=u.isGlobalNetworkSelectorRemoved?d:n;return(0,l.default)({startPolling:i.tokenRatesStartPolling,stopPollingByPollingToken:i.tokenRatesStopPollingByPollingToken,input:f?[g]:[]}),{tokenExchangeRates:m,tokensMarketData:h,marketData:p}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[7086,{"../../shared/constants/time":5635,"../../shared/modules/selectors/networks":5753,"../../shared/modules/string-utils":5761,"../selectors":7886,"./useEqualityCheck":7039,"@metamask/eth-token-tracker":1979,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:s=!1,hideZeroBalanceTokens:n=!1}){const{chainId:m,rpcUrl:h}=(0,o.useSelector)(c.getProviderConfig),{address:p}=(0,o.useSelector)(i.getSelectedInternalAccount,o.shallowEqual),f=t??p,[g,k]=(0,r.useState)(()=>(null==e?void 0:e.length)>=0),[S,y]=(0,r.useState)([]),[b,v]=(0,r.useState)(null),T=(0,r.useRef)(null),w=(0,d.useEqualityCheck)(e),C=(0,r.useCallback)(e=>{const t=(n?e.filter(e=>Number(e.balance)>0):e).map(e=>{const t=w.find(t=>(0,l.isEqualCaseInsensitive)(t.address,e.address));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}});y(t),k(!1),v(null)},[n,w]),_=(0,r.useCallback)(e=>{v(e),k(!1)},[]),E=(0,r.useCallback)(()=>{T.current&&(T.current.stop(),T.current.removeAllListeners("update"),T.current.removeAllListeners("error"),T.current=null)},[]),I=(0,r.useCallback)((e,t)=>{E(),T.current=new a.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:s,pollingInterval:8*u.SECOND,balanceDecimals:5}),T.current.on("update",C),T.current.on("error",_),T.current.updateBalances()},[C,s,_,E]);return(0,r.useEffect)(()=>E,[E]),(0,r.useEffect)(()=>{k(!0),f&&m!==undefined&&global.ethereumProvider?(0===w.length&&C([]),I(f,w)):E()},[f,E,m,h,w,C,I]),{loading:g,tokensWithBalances:S,error:b}};var n,r=e("react"),a=(n=e("@metamask/eth-token-tracker"))&&n.__esModule?n:{default:n},o=e("react-redux"),i=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),l=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[7087,{"../helpers/utils/token-cache-utils":6953,"../selectors/selectors":7903,"./useTrustSignals":7090,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenTrustSignalsForAddresses=function(e,t){const s=(0,r.useSelector)(s=>(0,a.getTokenScanResultsForAddresses)(s,e,t));return(0,n.useMemo)(()=>e&&t&&Array.isArray(t)?t.map(t=>{if(!t)return{state:i.TrustSignalDisplayState.Unknown,label:null};const n=(0,o.generateTokenCacheKey)(e,t);return{state:c(s[n]),label:null}}):[],[e,t,s])};var n=e("react"),r=e("react-redux"),a=e("../selectors/selectors"),o=e("../helpers/utils/token-cache-utils"),i=e("./useTrustSignals");function c(e){var t;const s=null==e||null===(t=e.data)||void 0===t?void 0:t.result_type;if(!s)return i.TrustSignalDisplayState.Unknown;switch(s){case"Malicious":return i.TrustSignalDisplayState.Malicious;case"Warning":return i.TrustSignalDisplayState.Warning;default:return i.TrustSignalDisplayState.Unknown}}}}},{package:"$root$",file:"ui/hooks/useTokenTrustSignals.ts"}],[7088,{"../../shared/constants/network":5617,"../../shared/constants/swaps":5633,"../../shared/modules/hexstring-utils":5741,"../../shared/modules/selectors/networks":5753,"../../shared/modules/swaps.utils":5762,"../ducks/metamask/metamask":6883,"../ducks/swaps/swaps":6895,"../helpers/utils/token-util":6955,"../selectors":7886,"./useEqualityCheck":7039,"@metamask/assets-controllers":1233,"bignumber.js":3768,lodash:4635,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getRenderableTokenData=y,s.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:s,tokenBucketPriority:n=g.TokenBucketPriority.owned}){const c=(0,a.useSelector)(d.getCurrentChainId),u=(0,a.useSelector)(l.getTokenExchangeRates,i.isEqual),f=(0,a.useSelector)(m.getConversionRate),k=(0,a.useSelector)(m.getCurrentCurrency),b=(0,a.useSelector)(l.getSwapsDefaultToken,a.shallowEqual),v=(0,a.useSelector)(l.getTokenList,i.isEqual),T=(0,S.useEqualityCheck)(t),w=(0,S.useEqualityCheck)(e),C=y(b,u,f,k,c,v),_=(0,S.useEqualityCheck)(C),E=(0,a.useSelector)(h.getSwapsTokens,i.isEqual)||[],I=E.length?E:[_,...s.filter(e=>e.symbol!==_.symbol)],M=(0,S.useEqualityCheck)(I);return(0,r.useMemo)(()=>{const e=w.reduce((e,t)=>({...e,[t.address.toLowerCase()]:t}),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([_,...M,...w],e=>e.address.toLowerCase()).forEach(s=>{const r=y({...e[s.address.toLowerCase()],...s},u,f,k,c,v);n===g.TokenBucketPriority.owned?(0,p.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[s.address.toLowerCase()]?t.owned.push(r):T[s.address.toLowerCase()]?t.top[T[s.address.toLowerCase()].index]=r:t.others.push(r):T[s.address.toLowerCase()]?t.top[T[s.address.toLowerCase()].index]=r:(0,p.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[s.address.toLowerCase()]?t.owned.push(r):t.others.push(r)}),t.owned=t.owned.sort(({rawFiat:e},{rawFiat:t})=>new o.default(e||0).gt(t||0)?-1:1),t.top=t.top.filter(Boolean),n===g.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]},[M,w,T,u,f,k,_,c,v,n])};var n,r=e("react"),a=e("react-redux"),o=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},i=e("lodash"),c=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),l=e("../selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../ducks/metamask/metamask"),h=e("../ducks/swaps/swaps"),p=e("../../shared/modules/swaps.utils"),f=e("../../shared/modules/hexstring-utils"),g=e("../../shared/constants/swaps"),k=e("../../shared/constants/network"),S=e("./useEqualityCheck");function y(e,t,s,n,r,a){var i,l;const{symbol:d,name:m,address:h,iconUrl:g,string:S,balance:y,decimals:b}=e;let v;(0,p.isSwapsDefaultTokenSymbol)(d,r)?v=1:S&&s>0&&(v=t[(0,f.toChecksumHexAddress)(h)]);const T=(0,u.getTokenFiatAmount)(v,s,n,S,d,!0)||"",w=T?(0,u.getTokenFiatAmount)(v,s,n,S,d,!1):"",C=r===k.CHAIN_IDS.SEPOLIA?k.CHAIN_IDS.MAINNET:r,_=(d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.SEPOLIA||d===k.CURRENCY_SYMBOLS.BNB&&r===k.CHAIN_IDS.BSC||d===k.CURRENCY_SYMBOLS.MATIC&&r===k.CHAIN_IDS.POLYGON||d===k.CURRENCY_SYMBOLS.AVALANCHE&&r===k.CHAIN_IDS.AVALANCHE||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.OPTIMISM||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.ARBITRUM||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.LINEA_MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.ZKSYNC_ERA||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.BASE?g:(0,c.formatIconUrlWithProxy)({chainId:C,tokenAddress:h||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:m||(null===(i=a[null==h?void 0:h.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:S&&`${new o.default(S).round(6).toString()} ${d}`,rightSecondaryLabel:T,iconUrl:_,identiconAddress:_?null:h,balance:y,decimals:b,name:m||(null===(l=a[null==h?void 0:h.toLowerCase()])||void 0===l?void 0:l.name),rawFiat:w,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}]],[],{});