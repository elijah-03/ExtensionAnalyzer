LavaPack.loadBundle([[6552,{"..":6568,"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/network":5617,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditNetworksModal=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e(".."),u=e("../../../../shared/constants/network"),d=e("../../../../shared/constants/metametrics"),m=e("../../../contexts/metametrics");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({nonTestNetworks:e,testNetworks:t,defaultSelectedChainIds:n,onClose:o,onSubmit:r})=>{const p=(0,s.useI18nContext)(),f=(0,a.useContext)(m.MetaMetricsContext),g=[...e,...t],[h,k]=(0,a.useState)(n);(0,a.useEffect)(()=>{k(n)},[JSON.stringify(n)]);const y=e=>{h.includes(e)?k(h.filter(t=>t!==e)):k([...h,e])},x=()=>g.length===h.length,b=x(),w=!b&&h.length>0,v=new Set(n),C=new Set(h);return a.default.createElement(l.Modal,{isOpen:!0,onClose:()=>{o()},className:"edit-networks-modal"},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{onClose:()=>{o()}},p("editNetworksTitle")),a.default.createElement(l.ModalBody,{paddingLeft:0,paddingRight:0,className:"edit-networks-modal__body"},a.default.createElement(l.Box,{padding:4},a.default.createElement(l.Checkbox,{label:p("selectAll"),isChecked:b,gap:4,onClick:()=>x()?void k([]):(()=>{const e=g.map(({caipChainId:e})=>e);k(e)})(),isIndeterminate:w})),e.map(e=>a.default.createElement(c.NetworkListItem,{name:e.name,iconSrc:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],key:e.caipChainId,onClick:()=>{y(e.caipChainId)},startAccessory:a.default.createElement(l.Checkbox,{isChecked:h.includes(e.caipChainId)})})),a.default.createElement(l.Box,{padding:4},a.default.createElement(l.Text,{variant:i.TextVariant.bodyMdMedium},p("testnets"))),t.map(e=>a.default.createElement(c.NetworkListItem,{name:e.name,iconSrc:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.caipChainId],key:e.caipChainId,onClick:()=>{y(e.caipChainId)},startAccessory:a.default.createElement(l.Checkbox,{isChecked:h.includes(e.caipChainId)}),showEndAccessory:!1}))),a.default.createElement(l.ModalFooter,null,0===h.length?a.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4,alignItems:i.AlignItems.center,width:i.BlockSize.Full},a.default.createElement(l.Box,{display:i.Display.Flex,gap:1,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},a.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Sm,color:i.IconColor.errorDefault}),a.default.createElement(l.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.errorDefault},p("disconnectMessage"))),a.default.createElement(l.ButtonPrimary,{"data-testid":"disconnect-chains-button",onClick:()=>{r(h);const e=h.filter(e=>!v.has(e)),t=n.filter(e=>!C.has(e));f({category:d.MetaMetricsEventCategory.Permissions,event:d.MetaMetricsEventName.UpdatePermissionedNetworks,properties:{addedNetworks:e.length,removedNetworks:t.length,location:"Edit Networks Modal"}}),o()},size:l.ButtonPrimarySize.Lg,block:!0,danger:!0},p("disconnect"))):a.default.createElement(l.ButtonPrimary,{"data-testid":"connect-more-chains-button",onClick:()=>{r(h),o()},size:l.ButtonPrimarySize.Lg,block:!0},p("update")))))};n.EditNetworksModal=f,f.propTypes={nonTestNetworks:r.default.arrayOf(r.default.shape({caipChainId:r.default.string.isRequired,name:r.default.string.isRequired})).isRequired,testNetworks:r.default.arrayOf(r.default.shape({caipChainId:r.default.string.isRequired,name:r.default.string.isRequired})).isRequired,defaultSelectedChainIds:r.default.arrayOf(r.default.string),onClose:r.default.func.isRequired,onSubmit:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/edit-networks-modal/edit-networks-modal.js"}],[6553,{"./edit-networks-modal":6552},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EditNetworksModal",{enumerable:!0,get:function(){return o.EditNetworksModal}});var o=e("./edit-networks-modal")}}},{package:"$root$",file:"ui/components/multichain/edit-networks-modal/index.js"}],[6554,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system");n.default=({icon:e,title:t,description:n,onClick:o})=>a.default.createElement(r.Box,{display:[i.Display.Flex],gap:2,alignItems:i.AlignItems.center,onClick:o,className:"funding-method-item",padding:4},a.default.createElement(r.Icon,{name:e}),a.default.createElement(r.Box,{display:[i.Display.Flex],flexDirection:i.FlexDirection.Column},a.default.createElement(r.Text,{variant:i.TextVariant.bodyMdMedium},t),a.default.createElement(r.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},n)))}}},{package:"$root$",file:"ui/components/multichain/funding-method-modal/funding-method-item.tsx"}],[6555,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/portfolio":6948,"../../../hooks/ramps/useRamps/useRamps":7004,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/multichain":7895,"../../component-library":6325,"./funding-method-item":6554,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FundingMethodModal=void 0;var o,a=k(e("react")),r=e("react-redux"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../selectors/multichain"),c=k(e("../../../hooks/ramps/useRamps/useRamps")),u=e("../../../helpers/utils/portfolio"),d=e("../../../selectors"),m=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/metametrics"),f=e("../../../contexts/metametrics"),g=(o=e("./funding-method-item"))&&o.__esModule?o:{default:o};function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},y.apply(null,arguments)}n.FundingMethodModal=({isOpen:e,onClose:t,title:n,onClickReceive:o,...h})=>{const k=(0,m.useI18nContext)(),x=(0,a.useContext)(f.MetaMetricsContext),{openBuyCryptoInPdapp:b}=(0,c.default)(),{address:w}=(0,r.useSelector)(d.getSelectedAccount),{chainId:v}=(0,r.useSelector)(l.getMultichainCurrentNetwork),{symbol:C}=(0,r.useSelector)(l.getMultichainDefaultToken),E=(0,r.useSelector)(d.getMetaMetricsId),T=(0,r.useSelector)(d.getParticipateInMetaMetrics),_=(0,r.useSelector)(d.getDataCollectionForMarketing),I=(0,a.useCallback)(()=>{x({event:p.MetaMetricsEventName.NavSendButtonClicked,category:p.MetaMetricsEventCategory.Navigation,properties:{location:null===c.RampsMetaMaskEntry||void 0===c.RampsMetaMaskEntry?void 0:c.RampsMetaMaskEntry.TokensBanner,text:"Transfer crypto",chain_id:v,token_symbol:C}});const e=(0,u.getPortfolioUrl)("transfer","ext_funding_method_modal",E,T,_,w,"transfer");global.platform.openTab({url:e})},[E,T,_,v,C,w]),M=(0,a.useCallback)(()=>{x({event:p.MetaMetricsEventName.NavBuyButtonClicked,category:p.MetaMetricsEventCategory.Navigation,properties:{location:null===c.RampsMetaMaskEntry||void 0===c.RampsMetaMaskEntry?void 0:c.RampsMetaMaskEntry.TokensBanner,text:"Buy crypto",chain_id:v,token_symbol:C}}),b(v)},[v,C]);return a.default.createElement(i.Modal,y({isOpen:e,onClose:t},h),a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,{modalDialogProps:{padding:0}},a.default.createElement(i.ModalHeader,{paddingBottom:2,onClose:t},a.default.createElement(i.Text,{variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center},n)),a.default.createElement(g.default,{icon:i.IconName.Card,title:k("tokenMarketplace"),description:k("debitCreditPurchaseOptions"),onClick:M}),a.default.createElement(g.default,{icon:i.IconName.Received,title:k("receiveCrypto"),description:k("depositCrypto"),onClick:o}),a.default.createElement(g.default,{icon:i.IconName.Link,title:k("transferCrypto"),description:k("linkCentralizedExchanges"),onClick:I})))}}}},{package:"$root$",file:"ui/components/multichain/funding-method-modal/funding-method-modal.tsx"}],[6556,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/app":5598,"../../../../shared/constants/metametrics":5613,"../../../../shared/lib/shield":5712,"../../../../shared/lib/ui-utils":5725,"../../../../shared/modules/browser-runtime.utils":5729,"../../../../shared/modules/environment":5736,"../../../contexts/metametrics":6855,"../../../ducks/rewards/selectors":6888,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../hooks/metamask-notifications/useCounter":6996,"../../../hooks/shield/metrics/useSubscriptionMetrics":7011,"../../../hooks/subscription/useSubscription":7022,"../../../hooks/useI18nContext":7047,"../../../hooks/useSidePanelEnabled":7074,"../../../pages/notifications/NewFeatureTag":7666,"../../../selectors":7886,"../../../selectors/identity/backup-and-sync":7885,"../../../selectors/metamask-notifications/metamask-notifications":7887,"../../../selectors/multichain-accounts/feature-flags":7891,"../../../store/actions":7916,"../../component-library":6325,"../../ui/menu":6788,"../menu-items":6571,"../notifications-tag-counter":6652,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043,"webextension-polyfill":5586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalMenu=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-router-dom-v5-compat"),i=e("react-redux"),s=(o=e("webextension-polyfill"))&&o.__esModule?o:{default:o},l=e("../../../hooks/metamask-notifications/useCounter"),c=e("../notifications-tag-counter"),u=e("../../../pages/notifications/NewFeatureTag"),d=e("../../../helpers/constants/routes"),m=e("../../../store/actions"),p=e("../../../../shared/modules/environment"),f=e("../../../hooks/useI18nContext"),g=e("../../../hooks/useSidePanelEnabled"),h=e("../../../selectors/metamask-notifications/metamask-notifications"),k=e("../../../selectors/identity/backup-and-sync"),y=e("../../component-library"),x=e("../../ui/menu"),b=e("../../../../app/scripts/lib/util"),w=e("../../../../shared/constants/app"),v=e("../../../../shared/modules/browser-runtime.utils"),C=e("../../../../shared/lib/ui-utils"),E=e("../../../contexts/metametrics"),T=e("../../../../shared/constants/metametrics"),_=e("../../../selectors"),I=e("../../../helpers/constants/design-system"),M=e("../menu-items"),N=e("../../../selectors/multichain-accounts/feature-flags"),S=e("../../../hooks/subscription/useSubscription"),A=e("../../../../shared/lib/shield"),P=e("../../../ducks/rewards/selectors"),O=e("../../../hooks/shield/metrics/useSubscriptionMetrics");function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}const B="Global Menu";n.GlobalMenu=({closeMenu:e,anchorElement:t,isOpen:n})=>{const o=(0,f.useI18nContext)(),D=(0,i.useDispatch)(),j=(0,a.useContext)(E.MetaMetricsContext),{captureCommonExistingShieldSubscriptionEvents:F}=(0,O.useSubscriptionMetrics)(),R=(0,i.useSelector)(_.getUseExternalServices),L=(0,i.useSelector)(P.selectRewardsEnabled),$=(0,r.useNavigate)(),{notificationsUnreadCount:z}=(0,l.useUnreadNotificationsCounter)(),{notificationsReadCount:W}=(0,l.useReadNotificationsCounter)(),{subscriptions:U}=(0,S.useUserSubscriptions)(),V=(0,A.getIsShieldSubscriptionActive)(U),H=(0,A.getIsShieldSubscriptionPaused)(U),G=(0,i.useSelector)(_.getSelectedInternalAccount),K=(0,i.useSelector)(N.getIsMultichainAccountsState2Enabled),J=(0,i.useSelector)(_.getUnapprovedTransactions),q=(0,i.useSelector)(h.selectIsMetamaskNotificationsFeatureSeen),Y=(0,i.useSelector)(h.selectIsMetamaskNotificationsEnabled),X=(0,i.useSelector)(k.selectIsBackupAndSyncEnabled),Q=Object.keys(J).length>0;let Z=!1;const ee=(0,i.useSelector)(_.getAnySnapUpdateAvailable);Z=(0,i.useSelector)(_.getThirdPartyNotifySnaps).length>0;const te=(0,i.useSelector)(_.getPreferences),ne=(null==te?void 0:te.useSidePanelAsDefault)??!1,oe=(0,g.useSidePanelEnabled)(),ae=(0,a.useMemo)(()=>(V||H)&&R,[V,H,R]);let re=o("support"),ie=C.SUPPORT_LINK||"";const se=a.default.useRef(null);a.default.useEffect(()=>{const t=se.current,n=t=>{"Tab"!==t.key||t.shiftKey||(t.preventDefault(),e())};return t&&t.addEventListener("keydown",n),()=>{t&&t.removeEventListener("keydown",n)}},[e]);return a.default.createElement(y.Popover,{"data-testid":"global-menu",referenceElement:t,isOpen:n,padding:0,onClickOutside:e,onPressEscKey:e,style:{minWidth:225,maxHeight:"calc(100vh - var(--header-height))"},offset:[0,8],position:y.PopoverPosition.BottomEnd,className:"overflow-y-auto"},R&&a.default.createElement(a.default.Fragment,null,a.default.createElement(x.MenuItem,{iconName:y.IconName.Notification,onClick:()=>(()=>{if(!Z&&!Y)return j({category:T.MetaMetricsEventCategory.NotificationsActivationFlow,event:T.MetaMetricsEventName.NotificationsActivated,properties:{action_type:"started",is_profile_syncing_enabled:X}}),D((0,m.showConfirmTurnOnMetamaskNotifications)()),void e();j({category:T.MetaMetricsEventCategory.NotificationInteraction,event:T.MetaMetricsEventName.NotificationsMenuOpened,properties:{unread_count:z,read_count:W}}),$(d.NOTIFICATIONS_ROUTE),e()})(),"data-testid":"notifications-menu-item"},a.default.createElement(y.Box,{display:I.Display.Flex,flexDirection:I.FlexDirection.Row,alignItems:I.AlignItems.center,justifyContent:I.JustifyContent.spaceBetween},o("notifications"),0===z&&!q&&a.default.createElement(u.NewFeatureTag,null),a.default.createElement(c.NotificationsTagCounter,null))),a.default.createElement(y.Box,{borderColor:I.BorderColor.borderMuted,width:I.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}})),L&&a.default.createElement(M.DiscoverMenuItem,{metricsLocation:B,closeMenu:e}),((0,b.getEnvironmentType)()===w.ENVIRONMENT_TYPE_POPUP||(0,b.getEnvironmentType)()===w.ENVIRONMENT_TYPE_SIDEPANEL)&&a.default.createElement(x.MenuItem,{iconName:y.IconName.Export,onClick:()=>{var t,n;null===(t=global)||void 0===t||null===(t=t.platform)||void 0===t||null===(n=t.openExtensionInBrowser)||void 0===n||n.call(t),j({event:T.MetaMetricsEventName.AppWindowExpanded,category:T.MetaMetricsEventCategory.Navigation,properties:{location:B}}),e()},"data-testid":"global-menu-expand-view"},o("openFullScreen")),G&&(0,b.getEnvironmentType)()!==w.ENVIRONMENT_TYPE_POPUP&&(0,b.getEnvironmentType)()!==w.ENVIRONMENT_TYPE_SIDEPANEL&&a.default.createElement(a.default.Fragment,null,a.default.createElement(M.AccountDetailsMenuItem,{metricsLocation:B,closeMenu:e,address:G.address}),K?null:a.default.createElement(M.ViewExplorerMenuItem,{metricsLocation:B,closeMenu:e,account:G})),a.default.createElement(y.Box,{borderColor:I.BorderColor.borderMuted,width:I.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),(0,v.getBrowserName)()!==w.PLATFORM_FIREFOX&&oe&&((0,b.getEnvironmentType)()===w.ENVIRONMENT_TYPE_POPUP||(0,b.getEnvironmentType)()===w.ENVIRONMENT_TYPE_SIDEPANEL)&&a.default.createElement(x.MenuItem,{iconName:ne?y.IconName.Popup:y.IconName.Sidepanel,onClick:async()=>{await(async()=>{if(oe)try{const t=!ne;if(await D((0,m.setUseSidePanelAsDefault)(t)),ne&&(0,b.getEnvironmentType)()===w.ENVIRONMENT_TYPE_SIDEPANEL)window.close();else if(!ne&&(0,b.getEnvironmentType)()===w.ENVIRONMENT_TYPE_POPUP)try{var e;const t=s.default;if(null!=t&&null!==(e=t.sidePanel)&&void 0!==e&&e.open){const e=await s.default.tabs.query({active:!0,currentWindow:!0});e&&e.length>0&&e[0].windowId&&(await t.sidePanel.open({windowId:e[0].windowId}),window.close())}}catch(e){console.error("Error opening side panel:",e)}}catch(e){console.error("Error toggling default view:",e)}})(),j({event:T.MetaMetricsEventName.ViewportSwitched,category:T.MetaMetricsEventCategory.Navigation,properties:{location:B,to:ne?w.ENVIRONMENT_TYPE_POPUP:w.ENVIRONMENT_TYPE_SIDEPANEL}}),e()},"data-testid":"global-menu-toggle-view"},o(ne?"switchToPopup":"switchToSidePanel")),a.default.createElement(x.MenuItem,{to:(0,p.isGatorPermissionsRevocationFeatureEnabled)()?d.GATOR_PERMISSIONS:d.PERMISSIONS,iconName:y.IconName.SecurityTick,onClick:()=>{j({event:T.MetaMetricsEventName.NavPermissionsOpened,category:T.MetaMetricsEventCategory.Navigation,properties:{location:B}}),e()},"data-testid":"global-menu-connected-sites",disabled:Q},o("allPermissions")),a.default.createElement(x.MenuItem,{"data-testid":"global-menu-networks",iconName:y.IconName.Hierarchy,onClick:()=>{D((0,m.toggleNetworkMenu)()),e()}},o("networks")),a.default.createElement(x.MenuItem,{to:d.SNAPS_ROUTE,iconName:y.IconName.Snaps,onClick:e,showInfoDot:ee},o("snaps")),a.default.createElement(x.MenuItem,{iconName:y.IconName.MessageQuestion,onClick:()=>{if(D((0,m.setShowSupportDataConsentModal)(!0)),j({category:T.MetaMetricsEventCategory.Home,event:T.MetaMetricsEventName.SupportLinkClicked,properties:{url:ie,location:B}},{contextPropsIntoEventProperties:[T.MetaMetricsContextProp.PageTitle]}),ae){const e=(0,A.getShieldSubscription)(U),{cryptoPaymentChain:t,cryptoPaymentCurrency:n}=(0,A.getSubscriptionPaymentData)(e);e&&F({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:e.interval,cryptoPaymentChain:t,cryptoPaymentCurrency:n},T.MetaMetricsEventName.ShieldPrioritySupportClicked)}e()},"data-testid":"global-menu-support"},a.default.createElement(y.Box,{display:I.Display.Flex,alignItems:I.AlignItems.center,justifyContent:I.JustifyContent.spaceBetween},re,ae&&a.default.createElement(y.Tag,{label:o("priority"),labelProps:{variant:I.TextVariant.bodySmMedium,color:I.TextColor.successDefault},startIconName:y.IconName.Sparkle,startIconProps:{color:I.IconColor.successDefault},borderStyle:I.BorderStyle.none,borderRadius:I.BorderRadius.LG,backgroundColor:I.BackgroundColor.successMuted}))),a.default.createElement(x.MenuItem,{to:d.SETTINGS_ROUTE,iconName:y.IconName.Setting,disabled:Q,onClick:()=>{j({category:T.MetaMetricsEventCategory.Navigation,event:T.MetaMetricsEventName.NavSettingsOpened,properties:{location:B}}),e()},"data-testid":"global-menu-settings"},o("settings")),a.default.createElement(x.MenuItem,{to:d.DEFAULT_ROUTE,ref:se,iconName:y.IconName.Lock,onClick:()=>{D((0,m.lockMetamask)(o("lockMetaMaskLoadingMessage"))),j({category:T.MetaMetricsEventCategory.Navigation,event:T.MetaMetricsEventName.AppLocked,properties:{location:B}}),e()},"data-testid":"global-menu-lock"},o("lockMetaMask")))}}}},{package:"$root$",file:"ui/components/multichain/global-menu/global-menu.tsx"}],[6557,{"./global-menu":6556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"GlobalMenu",{enumerable:!0,get:function(){return o.GlobalMenu}});var o=e("./global-menu")}}},{package:"$root$",file:"ui/components/multichain/global-menu/index.ts"}],[6558,{"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var o=d(e("prop-types")),a=d(e("react")),r=e("react-redux"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("../../../store/actions"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function m({importAccountFunc:e,isPrimaryDisabled:t,onActionComplete:n}){const o=(0,l.useI18nContext)(),u=(0,r.useDispatch)();return a.default.createElement(i.Box,{display:s.Display.Flex,gap:4},a.default.createElement(i.ButtonSecondary,{onClick:()=>{u(c.hideWarning()),n()},size:i.ButtonSecondarySize.Lg,block:!0},o("cancel")),a.default.createElement(i.ButtonPrimary,{onClick:async()=>{try{await e()&&n(!0)}catch(e){}},disabled:t,size:i.ButtonSecondarySize.Lg,"data-testid":"import-account-confirm-button",block:!0},o("import")))}m.propTypes={importAccountFunc:o.default.func.isRequired,isPrimaryDisabled:o.default.bool.isRequired,onActionComplete:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/bottom-buttons.js"}],[6559,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/error":5737,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/zendesk-url":6911,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/selectors":7903,"../../../store/actions":7916,"../../component-library":6325,"../../ui/dropdown":6750,"./json":6561,"./private-key":6562,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportAccount=void 0;var o=w(e("react")),a=x(e("prop-types")),r=e("react-redux"),i=e("../../../../shared/modules/error"),s=e("../../../../shared/constants/metametrics"),l=e("../../component-library"),c=x(e("../../ui/dropdown")),u=e("../../../contexts/metametrics"),d=e("../../../helpers/constants/design-system"),m=x(e("../../../helpers/constants/zendesk-url")),p=e("../../../hooks/useI18nContext"),f=w(e("../../../store/actions")),g=e("../../../selectors/selectors"),h=e("../../../selectors"),k=x(e("./json")),y=x(e("./private-key"));function x(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}const v=({onActionComplete:e})=>{const t=(0,p.useI18nContext)(),n=(0,r.useDispatch)(),a=(0,o.useContext)(u.MetaMetricsContext),x=(0,r.useSelector)(g.getHDEntropyIndex),b=(0,r.useSelector)(h.getIsSocialLoginFlow),w=[t("privateKey"),t("jsonFile")],[v,C]=(0,o.useState)(w[0]);async function E(a,r){const s=function(e){if("json"===e)return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Text,{width:d.BlockSize.ThreeFourths,fontWeight:d.FontWeight.Bold},t("importAccountJsonLoading1")),o.default.createElement(l.Text,{width:d.BlockSize.ThreeFourths,fontWeight:d.FontWeight.Bold},t("importAccountJsonLoading2")));return""}(a);try{if(b){if(await n(f.checkIsSeedlessPasswordOutdated(!0)))return!1}const{selectedAddress:o}=await n(f.importNewAccount(a,r,s));if(!o)return n(f.displayWarning(t("importAccountError"))),!1;T(a,!0),n(f.hideWarning()),e(!0)}catch(e){const o=(0,i.getErrorMessage)(e);return T(a,o),function(e){e&&!e.startsWith("t(")?n(f.displayWarning(e)):n(f.displayWarning(t(e.slice(3,-2))))}(o),!1}return!0}function T(e,t){const n="Private Key"===e?s.MetaMetricsEventAccountImportType.PrivateKey:s.MetaMetricsEventAccountImportType.Json,o=t?s.MetaMetricsEventName.AccountAdded:s.MetaMetricsEventName.AccountAddFailed;a({category:s.MetaMetricsEventCategory.Accounts,event:o,properties:{account_type:s.MetaMetricsEventAccountType.Imported,account_import_type:n,hd_entropy_index:x,is_suggested_name:!0}})}return o.default.createElement(o.default.Fragment,null,b?o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Text,{variant:d.TextVariant.bodySm},t("importAccountWithSocialMsg")),o.default.createElement(l.Text,{variant:d.TextVariant.bodySm},t("importAccountWithSocialMsgLearnMore",[o.default.createElement(l.ButtonLink,{size:d.Size.inherit,href:m.default.IMPORTED_ACCOUNTS_PRIVATE_KEY,target:"_blank",rel:"noopener noreferrer",key:"importAccountWithSocialMsgLearnMore"},t("learnMoreUpperCase"))]))):o.default.createElement(l.Text,{variant:d.TextVariant.bodySm,marginTop:2},t("importAccountMsg")," ",o.default.createElement(l.ButtonLink,{size:d.Size.inherit,href:m.default.IMPORTED_ACCOUNTS_PRIVATE_KEY,target:"_blank",rel:"noopener noreferrer"},t("here"))),o.default.createElement(l.Box,{paddingTop:4,paddingBottom:8},o.default.createElement(l.Label,{width:d.BlockSize.Full,marginBottom:4,justifyContent:d.JustifyContent.spaceBetween},t("selectType"),o.default.createElement(c.default,{options:w.map(e=>({value:e})),selectedOption:v,onChange:e=>{n(f.hideWarning()),C(e)}})),v===w[0]?o.default.createElement(y.default,{importAccountFunc:E,onActionComplete:e}):o.default.createElement(k.default,{importAccountFunc:E,onActionComplete:e})))};n.ImportAccount=v,v.propTypes={onActionComplete:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/import-account.js"}],[6560,{"./import-account":6559},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportAccount",{enumerable:!0,get:function(){return o.ImportAccount}});var o=e("./import-account")}}},{package:"$root$",file:"ui/components/multichain/import-account/index.js"}],[6561,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/zendesk-url":6911,"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"../../component-library/form-text-field/deprecated":6313,"./bottom-buttons":6558,"prop-types":4893,react:5080,"react-redux":5021,"react-simple-file-input":5061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var o=g(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=g(e("react-simple-file-input")),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../component-library/form-text-field/deprecated"),u=g(e("../../../helpers/constants/zendesk-url")),d=e("../../../hooks/useI18nContext"),m=e("../../../store/actions"),p=g(e("./bottom-buttons"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function h({importAccountFunc:e,onActionComplete:t}){const n=(0,d.useI18nContext)(),o=(0,r.useSelector)(e=>e.appState.warning),[f,g]=(0,a.useState)(""),[h,k]=(0,a.useState)(""),y=""===h;function x(){y?(0,m.displayWarning)(n("needImportFile")):e("json",[h,f])}return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,textAlign:l.TextAlign.Center},n("usedByClients"),a.default.createElement(s.ButtonLink,{size:l.Size.inherit,href:u.default.IMPORTED_ACCOUNT_JSON,target:"_blank",rel:"noopener noreferrer"},n("fileImportFail"))),a.default.createElement(i.default,{id:"file-input","data-testid":"file-input",readAs:"text",onLoad:e=>k(e.target.result),style:{padding:"20px 0px 12px 15%",fontSize:"16px",display:"flex",justifyContent:"center",width:"100%"}}),a.default.createElement(c.FormTextField,{id:"json-password-box",size:s.TextFieldSize.Lg,autoFocus:!0,type:s.TextFieldType.Password,helpText:o,error:!0,placeholder:n("enterOptionalPassword"),value:f,onChange:e=>{g(e.target.value)},inputProps:{onKeyPress:function(e){y||"Enter"!==e.key||(e.preventDefault(),x())}},marginBottom:4}),a.default.createElement(p.default,{importAccountFunc:x,isPrimaryDisabled:y,onActionComplete:t}))}h.propTypes={importAccountFunc:o.default.func.isRequired,onActionComplete:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/json.js"}],[6562,{"../../../hooks/useI18nContext":7047,"../../../store/actions":7916,"../../component-library":6325,"../../ui/show-hide-toggle":6813,"./bottom-buttons":6558,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var o=m(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../component-library"),s=e("../../../store/actions"),l=e("../../../hooks/useI18nContext"),c=m(e("../../ui/show-hide-toggle")),u=m(e("./bottom-buttons"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function p({importAccountFunc:e,onActionComplete:t}){const n=(0,l.useI18nContext)(),o=(0,r.useDispatch)(),[d,m]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>()=>{o((0,s.hideWarning)())},[o]);const g=(0,r.useSelector)(e=>e.appState.warning);function h(){e("privateKey",[d])}return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.FormTextField,{id:"private-key-box",size:i.TextFieldSize.Lg,autoFocus:!0,helpText:g,error:Boolean(g),label:n("pastePrivateKey"),value:d,onChange:e=>m(e.target.value),inputProps:{onKeyPress:function(e){""!==d&&"Enter"===e.key&&(e.preventDefault(),h())}},marginBottom:4,type:p?i.TextFieldType.Text:i.TextFieldType.Password,textFieldProps:{endAccessory:a.default.createElement(c.default,{shown:p,id:"show-hide-private-key",title:n("privateKeyShow"),ariaLabelShown:n("privateKeyShown"),ariaLabelHidden:n("privateKeyHidden"),onChange:()=>f(!p)})}}),a.default.createElement(u.default,{importAccountFunc:h,isPrimaryDisabled:""===d,onActionComplete:t}))}p.propTypes={importAccountFunc:o.default.func.isRequired,onActionComplete:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/private-key.js"}],[6563,{"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/transaction":5637,"../../../../shared/lib/trace":5718,"../../../../shared/modules/error":5737,"../../../../shared/modules/selectors/networks":5753,"../../../contexts/metametrics":6855,"../../../ducks/metamask/metamask":6883,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../hooks/useNftsCollections":7063,"../../../selectors":7886,"../../../selectors/multichain":7895,"../../../store/actions":7916,"../../app/assets/nfts/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts":5835,"../../app/import-token/network-selector-custom-import":5925,"../../component-library":6325,"../../component-library/form-text-field/deprecated":6313,"../../ui/tooltip":6835,"../network-list-item":6585,"@metamask/controller-utils":1383,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportNftsModal=void 0;var o=e("@metamask/controller-utils"),a=S(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-redux"),s=e("react-router-dom-v5-compat"),l=e("../../../../shared/modules/error"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/transaction"),d=e("../../../contexts/metametrics"),m=e("../../../ducks/metamask/metamask"),p=e("../../../helpers/constants/design-system"),f=e("../../../helpers/constants/routes"),g=e("../../../hooks/useI18nContext"),h=e("../../../../shared/modules/selectors/networks"),k=e("../../../selectors"),y=e("../../../selectors/multichain"),x=e("../../../store/actions"),b=S(e("../../app/assets/nfts/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts")),w=e("../../component-library"),v=e("../../component-library/form-text-field/deprecated"),C=S(e("../../ui/tooltip")),E=e("../../../hooks/useNftsCollections"),T=e("../../../helpers/utils/util"),_=e("../network-list-item"),I=e("../../app/import-token/network-selector-custom-import"),M=e("../../../../shared/lib/trace");function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}const A={IMPORT_TOKEN:"IMPORT_NFT",NETWORK_SELECTOR:"NETWORK_SELECTOR"},P=({onClose:e})=>{var t;const n=(0,g.useI18nContext)(),a=(0,s.useNavigate)(),N=(0,i.useDispatch)(),S=(0,i.useSelector)(k.getOpenSeaEnabled),P=(0,i.useSelector)(k.getIsMainnet),O=(0,i.useSelector)(m.getNftsDropdownState),D=(0,i.useSelector)(k.getSelectedInternalAccount),B=(0,i.useSelector)(h.getCurrentChainId),j=(0,i.useSelector)(h.getSelectedNetworkClientId),{tokenAddress:F,tokenId:R,ignoreErc20Token:L}=(0,i.useSelector)(e=>e.appState.importNftsModal),$=(0,E.useNftsCollections)(),[z,W]=(0,r.useState)(F??""),[U,V]=(0,r.useState)(R??""),[H,G]=(0,r.useState)(!0),[K,J]=(0,r.useState)(!1),q=(0,r.useContext)(d.MetaMetricsContext),[Y,X]=(0,r.useState)(A.IMPORT_NFT),[Q,Z]=(0,r.useState)(null),[ee,te]=(0,r.useState)(null),ne=(0,i.useSelector)(h.getNetworkConfigurationsByChainId),[oe,ae]=(0,r.useState)(null),[re,ie]=(0,r.useState)(null),se=(0,r.useCallback)(()=>{X(A.NETWORK_SELECTOR)},[]);return Y===A.NETWORK_SELECTOR?r.default.createElement(w.Modal,{isOpen:!0},r.default.createElement(w.ModalOverlay,null),r.default.createElement(w.ModalContent,null,r.default.createElement(w.ModalHeader,{onBack:()=>X(A.IMPORT_NFT),onClose:()=>e()},r.default.createElement(w.Text,{variant:p.TextVariant.headingSm,align:p.TextAlign.Center},n("networkMenuHeading"))),r.default.createElement(w.ModalBody,null,r.default.createElement(w.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,width:p.BlockSize.Full},Object.values(ne).map(e=>r.default.createElement(w.Box,{key:e.chainId,"data-testid":`select-network-item-${e.chainId}`},r.default.createElement(_.NetworkListItem,{key:e.chainId,chainId:e.chainId,name:e.name,iconSrc:(0,y.getImageForChainId)(e.chainId),iconSize:w.AvatarNetworkSize.Sm,focus:!1,onClick:()=>{const t=e.rpcEndpoints[e.defaultRpcEndpointIndex].networkClientId;Z(e.chainId),te(t),W(""),V(""),X(A.IMPORT_TOKEN)},selected:(null==e?void 0:e.chainId)===Q}))))))):r.default.createElement(w.Modal,{isOpen:!0,onClose:()=>{e()},className:"import-nfts-modal"},r.default.createElement(w.ModalOverlay,null),r.default.createElement(w.ModalContent,null,r.default.createElement(w.ModalHeader,{onClose:()=>{e(),a(f.DEFAULT_ROUTE)}},n("importNFT")),r.default.createElement(w.Box,null,P&&!S?r.default.createElement(w.Box,{marginTop:6},r.default.createElement(b.default,{onActionButtonClick:e})):null,K&&r.default.createElement(w.Box,{marginTop:6},r.default.createElement(w.BannerAlert,{severity:p.Severity.Danger,onClose:()=>J(!1),closeButtonProps:{"data-testid":"add-nft-error-close"}},n("nftAddFailedMessage"))),r.default.createElement(w.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,gap:6,marginTop:6,marginBottom:6},r.default.createElement(I.NetworkSelectorCustomImport,{title:Q?null===(t=ne[Q])||void 0===t?void 0:t.name:n("networkMenuHeading"),buttonDataTestId:"test-import-tokens-drop-down-custom-import",chainId:Q,onSelectNetwork:se}),r.default.createElement(w.Box,{marginRight:4,marginLeft:4},r.default.createElement(w.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween,alignItems:p.AlignItems.flexEnd},r.default.createElement(w.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center},r.default.createElement(w.Label,{htmlFor:"address"},n("address")),r.default.createElement(C.default,{title:n("importNFTAddressToolTip"),position:"bottom"},r.default.createElement(w.Icon,{name:w.IconName.Info,size:w.IconSize.Sm,marginLeft:1,color:p.IconColor.iconAlternative})))),r.default.createElement(v.FormTextField,{autoFocus:!0,dataTestId:"address",id:"address",placeholder:"0x...",value:z,onChange:e=>{var t;t=e.target.value,ae(null),t&&!(0,o.isValidHexAddress)(t)&&ae(n("invalidAddress")),G(!(0,o.isValidHexAddress)(t)||!U),W(t),J(!1)},helpText:oe,error:Boolean(oe)})),r.default.createElement(w.Box,{marginRight:4,marginLeft:4},r.default.createElement(w.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween,alignItems:p.AlignItems.flexEnd},r.default.createElement(w.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center},r.default.createElement(w.Label,{htmlFor:"token-id"},n("tokenId")),r.default.createElement(C.default,{title:n("importNFTTokenIdToolTip"),position:"bottom"},r.default.createElement(w.Icon,{name:w.IconName.Info,size:w.IconSize.Sm,marginLeft:1,color:p.IconColor.iconAlternative})))),r.default.createElement(v.FormTextField,{dataTestId:"token-id",id:"token-id",placeholder:n("nftTokenIdPlaceholder"),value:U,onChange:e=>{(e=>{ie(null);const t=(0,T.checkTokenIdExists)(z,e,$.collections);t&&ie(n("nftAlreadyAdded")),G(!(0,o.isValidHexAddress)(z)||!e||isNaN(Number(e))||t),V(e)})(e.target.value),J(!1)},helpText:re,error:re})))),r.default.createElement(w.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:4,padding:4},r.default.createElement(w.ButtonSecondary,{size:w.ButtonSecondarySize.Lg,onClick:()=>{e(),a(f.DEFAULT_ROUTE)},block:!0,className:"import-nfts-modal__cancel-button"},n("cancel")),r.default.createElement(w.ButtonPrimary,{size:p.Size.LG,onClick:()=>(async()=>{(0,M.trace)({name:M.TraceName.ImportNfts});try{var t;await N((0,x.addNftVerifyOwnership)(z,U,ee));const e={...O,[D.address]:{...null==O?void 0:O[D.address],[B]:{...null==O||null===(t=O[D.address])||void 0===t?void 0:t[B],[z]:!0}}};N((0,x.updateNftDropDownState)(e))}catch(e){const t=(0,l.getErrorMessage)(e);return N((0,x.setNewNftAddedMessage)(t)),void J(!0)}finally{(0,M.endTrace)({name:M.TraceName.ImportNfts})}L&&z&&await N((0,x.ignoreTokens)({tokensToIgnore:z,dontShowLoadingIndicator:!0,networkClientId:j})),N((0,x.setNewNftAddedMessage)("success"));const n=await(0,x.getTokenStandardAndDetails)(z,null,U.toString()).catch(()=>({}));q({event:c.MetaMetricsEventName.TokenAdded,category:"Wallet",sensitiveProperties:{token_contract_address:z,token_symbol:null==n?void 0:n.symbol,tokenId:U.toString(),asset_type:u.AssetType.NFT,token_standard:null==n?void 0:n.standard,source_connection_method:c.MetaMetricsTokenEventSource.Custom}}),a(f.DEFAULT_ROUTE),e()})(),disabled:H,block:!0,"data-testid":"import-nfts-modal-import-button"},n("import")))))};n.ImportNftsModal=P,P.propTypes={onClose:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-nfts-modal/import-nfts-modal.js"}],[6564,{"./import-nfts-modal":6563},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportNftsModal",{enumerable:!0,get:function(){return o.ImportNftsModal}});var o=e("./import-nfts-modal")}}},{package:"$root$",file:"ui/components/multichain/import-nfts-modal/index.js"}],[6565,{"../../../../shared/constants/network":5617,"../../../contexts/i18n":6850,"../../../helpers/constants/design-system":6899,"../../../selectors":7886,"../../component-library":6325,"../../ui/token-balance/token-balance":6834,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportTokensModalConfirm=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=m(e("prop-types")),i=e("../../../selectors"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=m(e("../../ui/token-balance/token-balance")),u=e("../../../contexts/i18n"),d=e("../../../../shared/constants/network");function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({networkFilter:e})=>{const t=(0,o.useContext)(u.I18nContext),n=(0,a.useSelector)(i.getCurrentNetwork),r=(0,a.useSelector)(i.getTestNetworkBackgroundColor),m=(0,a.useSelector)(i.getPendingTokens),p=(0,a.useSelector)(i.selectERC20TokensByChain),f=1===Object.keys(e).length&&e[null==n?void 0:n.chainId];return o.default.createElement(s.Box,{paddingTop:6},o.default.createElement(s.Text,{textAlign:l.TextAlign.Center},1===Object.keys(m).length?t("likeToImportToken"):t("likeToImportTokens")),o.default.createElement(s.Box,{paddingTop:6},o.default.createElement(s.Box,{flexDirection:l.FlexDirection.Column,className:"import-tokens-modal__confirmation-list"},Object.entries(m).map(([e,t])=>{var a,i;const{name:u,symbol:g,iconUrl:h,chainId:k}=t,y=h||(null==p||null===(a=p[k])||void 0===a||null===(a=a.data[e.toLowerCase()])||void 0===a?void 0:a.iconUrl);return o.default.createElement(s.Box,{key:e,padding:4,display:l.Display.Flex},o.default.createElement(s.Box,{display:l.Display.Flex,className:"import-tokens-modal__confirm-token-list-item-wrapper"},o.default.createElement(s.BadgeWrapper,{badge:o.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:null==n?void 0:n.nickname,src:d.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[null===(i=m[e])||void 0===i?void 0:i.chainId],backgroundColor:r,borderWidth:2}),marginRight:4,marginTop:1},o.default.createElement(s.AvatarToken,{name:g,src:y})),o.default.createElement(s.Box,null,o.default.createElement(s.Text,{fontWeight:l.FontWeight.Medium,variant:l.TextVariant.bodyMd},u||g),f?o.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},o.default.createElement(c.default,{token:t,displayZeroBalance:!0})):null)),f?o.default.createElement(s.Box,{alignItems:l.AlignItems.flexStart},o.default.createElement(c.default,{textProps:{font:l.FontWeight.Medium,variant:l.TextVariant.bodyLgMedium},suffixProps:{font:l.FontWeight.Medium,variant:l.TextVariant.bodyLgMedium},token:t,showFiat:!0})):null)}))))};n.ImportTokensModalConfirm=f,f.propTypes={networkFilter:r.default.object.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/import-tokens-modal-confirm.js"}],[6566,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/tokens":5636,"../../../../shared/constants/transaction":5637,"../../../../shared/lib/asset-utils":5647,"../../../../shared/lib/trace":5718,"../../../../shared/modules/hexstring-utils":5741,"../../../../shared/modules/selectors/networks":5753,"../../../contexts/metametrics":6855,"../../../ducks/metamask/metamask":6883,"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../../helpers/constants/zendesk-url":6911,"../../../helpers/utils/token-util":6955,"../../../helpers/utils/util":6959,"../../../hooks/bridge/useTokensWithFiltering":6976,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../../selectors/multichain":7895,"../../../selectors/multichain-accounts/account-tree":7890,"../../../selectors/multichain/networks":7896,"../../../selectors/selectors":7903,"../../../store/actions":7916,"../../app/import-token/network-selector-custom-import":5925,"../../app/import-token/token-list":5926,"../../app/import-token/token-list/token-list-placeholder":5927,"../../app/import-token/token-search":5931,"../../component-library":6325,"../../component-library/form-text-field/deprecated":6313,"../../ui/tabs":6823,"../network-list-item":6585,"./import-tokens-modal-confirm":6565,"@metamask/bridge-controller":1304,"@metamask/etherscan-link/dist/token-tracker-link":1997,"@metamask/multichain-network-controller":2207,"@metamask/transaction-controller":2868,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportTokensModal=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("@metamask/bridge-controller"),r=e("react-redux"),i=e("react-router-dom-v5-compat"),s=U(e("prop-types")),l=e("@metamask/etherscan-link/dist/token-tracker-link"),c=e("@metamask/transaction-controller"),u=e("@metamask/multichain-network-controller"),d=e("../../ui/tabs"),m=e("../../../hooks/useI18nContext"),p=e("../../../../shared/modules/selectors/networks"),f=e("../../../selectors"),g=e("../../../store/actions"),h=e("../../component-library"),k=e("../../component-library/form-text-field/deprecated"),y=U(e("../../app/import-token/token-search")),x=U(e("../../app/import-token/token-list")),b=e("../../../helpers/constants/design-system"),w=e("../../../helpers/constants/routes"),v=U(e("../../../helpers/constants/zendesk-url")),C=e("../../../../shared/modules/hexstring-utils"),E=e("../../../../app/scripts/lib/util"),T=e("../../../../shared/constants/tokens"),_=e("../../../../shared/constants/transaction"),I=e("../../../helpers/utils/util"),M=e("../../../helpers/utils/token-util"),N=e("../../../contexts/metametrics"),S=e("../../../ducks/metamask/metamask"),A=e("../../../../shared/constants/metametrics"),P=e("../../../../shared/lib/asset-utils"),O=e("../../app/import-token/network-selector-custom-import"),D=e("../../../selectors/multichain"),B=e("../../../selectors/multichain/networks"),j=e("../../../selectors/multichain-accounts/account-tree"),F=e("../network-list-item"),R=U(e("../../app/import-token/token-list/token-list-placeholder")),L=e("../../../../shared/lib/trace"),$=e("../../../selectors/selectors"),z=e("../../../hooks/bridge/useTokensWithFiltering"),W=e("./import-tokens-modal-confirm");function U(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}const H="IMPORT_TOKEN",G="NETWORK_SELECTOR",K="search",J="customToken",q=({onClose:e})=>{var t,n,s,U,V;const q=(0,m.useI18nContext)(),Y=(0,i.useNavigate)(),X=(0,r.useDispatch)(),[Q,Z]=(0,o.useState)(""),[ee,te]=(0,o.useState)(null),[ne,oe]=(0,o.useState)({}),[ae,re]=(0,o.useState)([]),ie=(0,r.useSelector)(p.getCurrentChainId),se=(0,r.useSelector)(B.getSelectedMultichainNetworkChainId),[le,ce]=(0,o.useState)(ie),ue=(0,r.useSelector)(p.getAllNetworkConfigurationsByCaipChainId),de=(0,o.useMemo)(()=>Object.fromEntries(Object.entries(ue).filter(([e])=>!u.NON_EVM_TESTNET_IDS.includes(e))),[ue]),[me,pe]=(0,o.useState)(H),fe=(0,r.useSelector)(f.getTokenNetworkFilter),ge=(0,r.useSelector)(f.getEnabledNetworksByNamespace),he=(0,r.useSelector)(p.getNetworkConfigurationsByChainId),[ke,ye]=(0,o.useState)($.isGlobalNetworkSelectorRemoved?ge:fe);(0,o.useEffect)(()=>{if(!le||le===ie)if(se)if((0,P.isEvmChainId)(se)){const e=(0,a.formatChainIdToHex)(se);ce(e)}else ce(se);else le||ce(ie)},[se,ie]);const xe=(0,r.useSelector)(({metamask:e})=>e.useTokenDetection),be=(0,r.useSelector)(f.getTokenDetectionSupportNetworkByChainId),we=(0,r.useSelector)(S.getNativeCurrency),ve=(0,r.useSelector)(f.getSelectedInternalAccount),Ce=(0,r.useSelector)(f.getInternalAccounts),Ee=(0,r.useSelector)(f.getAllTokens),Te=(null==Ee||null===(t=Ee[ie])||void 0===t?void 0:t[ve.address])||[],_e=(0,r.useSelector)(f.getTokenExchangeRates),{filteredTokenListGenerator:Ie,isLoading:Me}=(0,z.useTokensWithFiltering)(le,null,null==ve?void 0:ve.address),Ne=(0,o.useCallback)((e,t,n)=>!(!n||!le)&&n===le,[le]),Se=(0,o.useMemo)(()=>{if(!Ie)return{};const e={};for(const t of Ie(Ne))t.address&&(e[t.address.toLowerCase()]={address:t.address,symbol:t.symbol,name:t.name,decimals:t.decimals,iconUrl:t.image,aggregators:t.aggregators,occurrences:t.occurrences});return{[le]:{data:e}}},[Ie,le,Ne]),[Ae,Pe]=(0,o.useState)(""),[Oe,De]=(0,o.useState)(null),[Be,je]=(0,o.useState)(null),[Fe,Re]=(0,o.useState)(!1),[Le,$e]=(0,o.useState)(null),[ze,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,Ge]=(0,o.useState)(null),[Ke,Je]=(0,o.useState)(0),[qe,Ye]=(0,o.useState)(null),[Xe,Qe]=(0,o.useState)(_.TokenStandard.none),Ze=(0,r.useSelector)(f.getTestNetworkBackgroundColor),[et,tt]=(0,o.useState)(!1),nt=(null===(n=he[le])||void 0===n||null===(n=n.blockExplorerUrls)||void 0===n?void 0:n[null===(s=he[le])||void 0===s?void 0:s.defaultBlockExplorerUrlIndex])??null,ot=(0,l.getTokenTrackerLink)(Ae,le,null,null,{blockExplorerUrl:nt}),at=ot?(0,I.getURLHostName)(ot):q("etherscan"),rt=(0,o.useRef)((0,M.tokenInfoGetter)()),it=(0,o.useContext)(N.MetaMetricsContext),st=(0,r.useSelector)(f.getPendingTokens),lt=(0,r.useSelector)(e=>t=>(0,j.getInternalAccountBySelectedAccountGroupAndCaip)(e,t)),ct=(0,o.useCallback)(async()=>{try{const t=Object.values(st);if(0===t.length)return;const{chainId:n}=t[0],o=(0,a.isNonEvmChainId)(n);if(o){const e=lt(n);if(!e)return void console.warn(`No account found for chain ${n}`);const o=t.map(e=>{const t=e.assetId||(0,P.toAssetId)(e.address,n);return t||(console.warn(`Failed to create assetId for token ${e.address} on chain ${n}`),null)}).filter(e=>null!==e);o.length>0&&await X((0,g.multichainAddAssets)(o,e.id))}else{var e;const o=he[n];if(!o)return void console.warn(`No network config found for chain ${n}`);const a=null===(e=o.rpcEndpoints[o.defaultRpcEndpointIndex])||void 0===e?void 0:e.networkClientId;if(!a)return void console.warn(`No network client ID found for chain ${n}`);await X((0,g.addImportedTokens)(t,a))}t.forEach(e=>{it({event:A.MetaMetricsEventName.TokenAdded,category:A.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source_connection_method:e.isCustom?A.MetaMetricsTokenEventSource.Custom:A.MetaMetricsTokenEventSource.List,token_standard:o?_.TokenStandard.none:_.TokenStandard.ERC20,asset_type:_.AssetType.token}})});const r=[];for(const e in st)Object.prototype.hasOwnProperty.call(st,e)&&r.push(st[e].symbol);X((0,g.setNewTokensImported)(r.join(", "))),X((0,g.clearPendingTokens)()),X((0,g.hideImportTokensModal)()),Y(w.DEFAULT_ROUTE)}catch(e){X((0,g.setNewTokensImportedError)("error")),X((0,g.clearPendingTokens)()),Y(w.DEFAULT_ROUTE)}},[X,Y,st,it,he,lt]);(0,o.useEffect)(()=>{const e=Object.keys(st);if(0===e.length)return;let t={},n={};e.forEach(e=>{const o=st[e],{isCustom:a}=o;a?n={...o}:t={...t,[e]:{...o}}}),oe(t),Pe(n.address),We(n.symbol),Je(n.decimals)},[st]),(0,o.useEffect)(()=>{if(le){const e=de[le]||he[le];e&&ye({[le]:e})}},[le,he,de]),(0,o.useEffect)(()=>{oe({})},[ke]);const ut=(0,o.useCallback)(e=>{const t=e.trim(),n=t.length;let o=null;(n<=0||n>=12)&&(o=q("symbolBetweenZeroTwelve")),We(t),Ge(o)},[q]),dt=(0,o.useCallback)(e=>{let t,n=null;e?(t=Number(e.trim()),n=e<0||e>36?q("decimalsMustZerotoTen"):null):(t="",n=q("tokenDecimalFetchFailed",[o.default.createElement(h.ButtonLink,{className:"import-tokens-modal__button-link",key:"import-token-verify-token-decimal",rel:"noopener noreferrer",target:"_blank",href:ot,endIconName:h.IconName.Export},at)])),Je(t),Ye(n)},[q,ot,at]),mt=(0,o.useCallback)(async e=>{var t;const{symbol:n="",decimals:o,name:a=""}=await rt.current(e,null==Se||null===(t=Se[le])||void 0===t?void 0:t.data);Re(Boolean(o)),ut(n||""),dt(o),Ve(a),tt(!0)},[le,Se,dt,ut]);(0,o.useEffect)(()=>{Ae&&!Oe&&!Be&&!Le&&mt(Ae)},[Ae,Oe,Be,Le,mt]);const pt=()=>{Pe(""),We(""),Je(0),Ve(""),tt(!1),oe({}),re([]),te(null),De(null),Ge(null),Ye(null),je(null),$e(null),Re(!1)},ft=()=>ee||Oe||He||qe||Be,gt=()=>Ae||Object.keys(ne).length>0,ht=(0,o.useMemo)(()=>{var e,t;return(0,P.isEvmChainId)(le)?null===(e=lt((0,a.formatChainIdToCaip)(le)))||void 0===e?void 0:e.address:null===(t=lt(le))||void 0===t?void 0:t.id},[le,lt]),kt="confirm"===Q,yt=(0,o.useMemo)(()=>{var e;const t=null==Se||null===(e=Se[le])||void 0===e?void 0:e.data;return t&&Object.keys(t).length>0},[Se,le]),xt=(0,P.isEvmChainId)(le),bt=!yt&&!xt;return me===G?o.default.createElement(h.Modal,{isOpen:!0},o.default.createElement(h.ModalOverlay,null),o.default.createElement(h.ModalContent,null,o.default.createElement(h.ModalHeader,{onBack:()=>pe(H),onClose:e},o.default.createElement(h.Text,{variant:b.TextVariant.headingSm,align:b.TextAlign.Center},q("networkMenuHeading"))),o.default.createElement(h.ModalBody,null,o.default.createElement(h.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Column,width:b.BlockSize.Full},Object.values(de).map(e=>o.default.createElement(h.Box,{key:e.chainId,"data-testid":`select-network-item-${e.chainId}`},o.default.createElement(F.NetworkListItem,{key:e.chainId,chainId:e.chainId,name:e.name,iconSrc:(0,D.getImageForChainId)(e.chainId),iconSize:h.AvatarNetworkSize.Sm,focus:!1,onClick:()=>{const t=(0,P.isEvmChainId)(e.chainId)?(0,a.formatChainIdToHex)(e.chainId):e.chainId;ce(t),pt(),pe(H)},selected:(0,P.isEvmChainId)(e.chainId)?(0,a.formatChainIdToHex)(e.chainId)===le:e.chainId===le}))))))):o.default.createElement(h.Modal,{isOpen:!0,onClose:()=>{X((0,g.clearPendingTokens)()),e()},className:"import-tokens-modal"},o.default.createElement(h.ModalOverlay,null),o.default.createElement(h.ModalContent,{modalDialogProps:{className:"import-tokens-modal__modal-dialog-content"}},o.default.createElement(h.ModalHeader,{onBack:kt?()=>Z(""):null,paddingBottom:4,paddingRight:4,paddingLeft:4,onClose:()=>{X((0,g.clearPendingTokens)()),e()}},q("importTokensCamelCase")),o.default.createElement(h.Box,{className:"import-tokens-modal__body"},kt?o.default.createElement(W.ImportTokensModalConfirm,{networkFilter:ke}):o.default.createElement(o.default.Fragment,null,o.default.createElement(O.NetworkSelectorCustomImport,{title:(null===(U=de[le])||void 0===U?void 0:U.name)||(null===(V=he[le])||void 0===V?void 0:V.name),buttonDataTestId:"test-import-tokens-drop-down-custom-import",chainId:le,onSelectNetwork:()=>pe(G)}),Me&&o.default.createElement(h.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Column,alignItems:"center",justifyContent:"center",paddingTop:8,paddingBottom:8,"data-testid":"import-tokens-loading"},o.default.createElement(h.Text,{variant:b.TextVariant.bodyMd,color:b.TextColor.textMuted},q("loading"),"...")),!Me&&bt&&o.default.createElement(h.Box,{display:b.Display.Flex,flexDirection:b.FlexDirection.Column,alignItems:"center",justifyContent:"center",paddingTop:8,paddingBottom:8,paddingLeft:4,paddingRight:4,"data-testid":"import-tokens-no-support"},o.default.createElement(h.Text,{variant:b.TextVariant.bodyMd,color:b.TextColor.textMuted,textAlign:b.TextAlign.Center},q("currentlyUnavailable"))),!Me&&!bt&&o.default.createElement(d.Tabs,{tabListProps:{className:"px-4"},onTabClick:()=>pt()},yt&&o.default.createElement(d.Tab,{tabKey:K,name:q("search"),className:"flex-1"},o.default.createElement(h.Box,{paddingTop:4},!xe&&o.default.createElement(h.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(h.BannerAlert,{severity:b.Severity.Info,marginBottom:4,paddingLeft:4,paddingRight:4},o.default.createElement(h.Text,{variant:b.TextVariant.bodyMd,fontSize:"16"},q("enhancedTokenDetectionAlertMessage",[be,o.default.createElement(h.ButtonLink,{key:"token-detection-announcement",className:"import-tokens-modal__autodetect",onClick:()=>{e(),Y(`${w.SECURITY_ROUTE}#auto-detect-tokens`)}},q("enableFromSettings"))])))),o.default.createElement(h.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(y.default,{searchClassName:"import-tokens-modal__button-search",onSearch:({results:e=[]})=>re(e),error:ee,tokenList:Se,networkFilter:ke,setSearchResults:re,chainId:le})),0===ae.length?o.default.createElement(h.Box,{paddingLeft:4,paddingRight:4,className:"token-list__empty-list"},o.default.createElement(R.default,null)):o.default.createElement(x.default,{currentNetwork:ke[le],testNetworkBackgroundColor:Ze,results:ae,selectedTokens:ne,onToggleToken:e=>(e=>{const{address:t}=e,n={...ne};t in n?delete n[t]:n[t]=e,oe(n),te(null)})(e),accountAddress:ht}))),xt&&o.default.createElement(d.Tab,{tabKey:J,name:q("customToken"),"data-testid":"import-tokens-modal-custom-token-tab",className:"flex-1"},o.default.createElement(h.Box,{paddingTop:4},o.default.createElement(h.Box,{className:"import-tokens-modal__custom-token-form__container"},o.default.createElement(h.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(h.BannerAlert,{severity:b.Severity.Warning,"data-testid":"custom-token-warning"},o.default.createElement(h.Text,{variant:b.TextVariant.bodyMd},q("customTokenWarningInTokenDetectionNetwork",[o.default.createElement(h.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:v.default.TOKEN_SAFETY_PRACTICES},q("learnScamRisk"))])))),o.default.createElement(h.Box,null,o.default.createElement(k.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:4,size:b.Size.LG,label:q("tokenContractAddress"),value:Ae,onChange:t=>{le?(async t=>{const n=t.trim();Pe(n),De(null),je(null),Re(!1),$e(null),tt(!1);const a=(0,C.isValidHexAddress)(n,{allowNonPrefixed:!1}),r=(0,E.addHexPrefix)(n).toLowerCase(),i=Object.keys(T.STATIC_MAINNET_TOKEN_LIST).some(e=>e.toLowerCase()===n.toLowerCase());let s;if(a)try{({standard:s}=await(0,g.getTokenStandardAndDetailsByChain)(r,ve.address,null,le))}catch(e){}const l=0===n.length||"0x0000000000000000000000000000000000000000"===n;switch(!0){case!a&&!l:De(q("invalidAddress")),We(""),Je(0),Ge(null),Ye(null),tt(!1);break;case s===_.TokenStandard.ERC1155||s===_.TokenStandard.ERC721:je(q("nftAddressError",[o.default.createElement(h.ButtonLink,{className:"import-tokens-modal__nft-address-error-link",onClick:()=>{X((0,g.showImportNftsModal)({tokenAddress:n})),e()},color:b.TextColor.primaryDefault,key:"nftAddressError"},q("importNFTPage"))])),tt(!1);break;case i&&le!==c.CHAIN_IDS.MAINNET:$e(q("mainnetToken")),We(""),Je(0),Ge(null),Ye(null),tt(!1);break;case Boolean(Ce.find(e=>e.address.toLowerCase()===r)):De(q("personalAddressDetected")),tt(!1);break;case(0,I.checkExistingAddresses)(n,Te):De(q("tokenAlreadyAdded")),tt(!1);break;default:s&&Qe(s)}})(t.target.value):Pe(t.target.value)},helpText:Oe||Le||Be,error:Oe||Le||Be,textFieldProps:{className:Oe||Le||Be?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-address"}}),et&&o.default.createElement(h.Box,null,o.default.createElement(k.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:4,size:b.Size.LG,label:o.default.createElement(o.default.Fragment,null,q("tokenSymbol")),value:ze,onChange:e=>ut(e.target.value),helpText:He,error:He,textFieldProps:{className:He?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-symbol"}}),o.default.createElement(k.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:4,size:b.Size.LG,label:q("decimal"),type:"number",value:Ke,onChange:e=>dt(e.target.value),helpText:qe,error:qe,disabled:Fe,min:0,max:36,textFieldProps:{className:qe?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-decimals"}}))))))))),kt?o.default.createElement(h.Box,{paddingTop:5,paddingLeft:4,paddingRight:4,display:b.Display.Flex},o.default.createElement(h.ButtonSecondary,{size:b.Size.LG,onClick:()=>{X((0,g.clearPendingTokens)()),Z("")},block:!0,marginRight:5},q("back")),o.default.createElement(h.ButtonPrimary,{size:b.Size.LG,onClick:async()=>{(0,L.trace)({name:L.TraceName.ImportTokens}),await ct(),(0,L.endTrace)({name:L.TraceName.ImportTokens}),Y(w.DEFAULT_ROUTE)},block:!0,"data-testid":"import-tokens-modal-import-button"},q("import"))):o.default.createElement(h.Box,{paddingTop:6,paddingLeft:4,paddingRight:4},o.default.createElement(h.ButtonPrimary,{onClick:()=>(async()=>{var e;if(ft())return;if(!gt())return void te(q("mustSelectOne"));const t=(null==Se||null===(e=Se[le])||void 0===e?void 0:e.data)??{},n=Object.keys(t),o=Ae?{address:Ae,symbol:ze,decimals:Ke,standard:Xe,name:Ue,chainId:le}:null;X((0,g.setPendingTokens)({customToken:o,selectedTokens:ne,tokenAddressList:n}));const a={...ne,...(null==o?void 0:o.address)&&{[o.address]:{...o}}},r=Object.values(a).filter(e=>(null==_e?void 0:_e[(0,C.toChecksumHexAddress)(e.address)])===undefined),i=r.map(e=>e.address);if(0!==r.length){const e=await(0,I.fetchTokenExchangeRates)(we,i,le);X((0,g.setConfirmationExchangeRates)(e))}Z("confirm")})(),size:b.Size.LG,disabled:Boolean(ft())||!gt()||!le||bt||Me,block:!0,"data-testid":"import-tokens-button-next"},q("next")))))};n.ImportTokensModal=q,q.propTypes={onClose:s.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/import-tokens-modal.js"}],[6567,{"./import-tokens-modal":6566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportTokensModal",{enumerable:!0,get:function(){return o.ImportTokensModal}});var o=e("./import-tokens-modal")}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/index.js"}],[6568,{"./account-details":6446,"./account-list-item":6451,"./account-list-item-menu":6448,"./account-list-menu":6454,"./account-overview":6467,"./account-picker":6469,"./activity-list-item":6471,"./address-copy-button":6473,"./address-list-item":6475,"./app-header":6480,"./asset-picker-amount":6498,"./avatar-group":6506,"./carousel":6516,"./connected-accounts-menu":6524,"./connected-site-menu":6526,"./connected-site-popover":6528,"./connected-status":6530,"./create-account":6532,"./create-eth-account":6534,"./detected-token-banner":6542,"./disconnect-permissions-modal":6545,"./edit-accounts-modal":6551,"./edit-networks-modal":6553,"./global-menu":6557,"./import-account":6560,"./import-nfts-modal":6564,"./import-tokens-modal":6567,"./menu-items":6571,"./multi-srp":6573,"./network-list-item":6585,"./network-list-menu":6590,"./notification-detail":6634,"./notification-detail-address":6614,"./notification-detail-asset":6616,"./notification-detail-block-explorer-button":6618,"./notification-detail-button":6620,"./notification-detail-collection":6622,"./notification-detail-copy-button":6624,"./notification-detail-info":6626,"./notification-detail-network-fee":6628,"./notification-detail-nft":6630,"./notification-detail-title":6632,"./notification-list-item":6642,"./notification-list-item-icon":6636,"./notification-list-item-snap":6638,"./notification-list-item-text":6640,"./notifications-page":6644,"./notifications-settings-account":6646,"./notifications-settings-box":6648,"./notifications-settings-type":6650,"./notifications-tag-counter":6652,"./permission-details-modal":6700,"./product-tour-popover":6703,"./receive-modal":6707,"./toast":6709,"./token-list-item":6711},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountDetails",{enumerable:!0,get:function(){return x.AccountDetails}}),Object.defineProperty(n,"AccountDetailsMenuItem",{enumerable:!0,get:function(){return T.AccountDetailsMenuItem}}),Object.defineProperty(n,"AccountListItem",{enumerable:!0,get:function(){return o.AccountListItem}}),Object.defineProperty(n,"AccountListItemMenu",{enumerable:!0,get:function(){return a.AccountListItemMenu}}),Object.defineProperty(n,"AccountListItemMenuTypes",{enumerable:!0,get:function(){return o.AccountListItemMenuTypes}}),Object.defineProperty(n,"AccountListMenu",{enumerable:!0,get:function(){return r.AccountListMenu}}),Object.defineProperty(n,"AccountOverview",{enumerable:!0,get:function(){return i.AccountOverview}}),Object.defineProperty(n,"AccountPicker",{enumerable:!0,get:function(){return s.AccountPicker}}),Object.defineProperty(n,"ActivityListItem",{enumerable:!0,get:function(){return l.ActivityListItem}}),Object.defineProperty(n,"AddressCopyButton",{enumerable:!0,get:function(){return p.AddressCopyButton}}),Object.defineProperty(n,"AddressListItem",{enumerable:!0,get:function(){return N.AddressListItem}}),Object.defineProperty(n,"AppHeader",{enumerable:!0,get:function(){return c.AppHeader}}),Object.defineProperty(n,"AssetPickerAmount",{enumerable:!0,get:function(){return M.AssetPickerAmount}}),Object.defineProperty(n,"AvatarGroup",{enumerable:!0,get:function(){return I.AvatarGroup}}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return oe.Carousel}}),Object.defineProperty(n,"CarouselWithEmptyState",{enumerable:!0,get:function(){return oe.CarouselWithEmptyState}}),Object.defineProperty(n,"ConnectedAccountsMenu",{enumerable:!0,get:function(){return v.ConnectedAccountsMenu}}),Object.defineProperty(n,"ConnectedSiteMenu",{enumerable:!0,get:function(){return f.ConnectedSiteMenu}}),Object.defineProperty(n,"ConnectedSitePopover",{enumerable:!0,get:function(){return g.ConnectedSitePopover}}),Object.defineProperty(n,"ConnectedStatus",{enumerable:!0,get:function(){return S.ConnectedStatus}}),Object.defineProperty(n,"CreateAccount",{enumerable:!0,get:function(){return b.CreateAccount}}),Object.defineProperty(n,"CreateEthAccount",{enumerable:!0,get:function(){return w.CreateEthAccount}}),Object.defineProperty(n,"DetectedTokensBanner",{enumerable:!0,get:function(){return u.DetectedTokensBanner}}),Object.defineProperty(n,"DisconnectPermissionsModal",{enumerable:!0,get:function(){return Z.DisconnectPermissionsModal}}),Object.defineProperty(n,"EditAccountsModal",{enumerable:!0,get:function(){return ne.EditAccountsModal}}),Object.defineProperty(n,"EditNetworksModal",{enumerable:!0,get:function(){return te.EditNetworksModal}}),Object.defineProperty(n,"GlobalMenu",{enumerable:!0,get:function(){return d.GlobalMenu}}),Object.defineProperty(n,"ImportAccount",{enumerable:!0,get:function(){return C.ImportAccount}}),Object.defineProperty(n,"ImportNftsModal",{enumerable:!0,get:function(){return E.ImportNftsModal}}),Object.defineProperty(n,"ImportTokensModal",{enumerable:!0,get:function(){return _.ImportTokensModal}}),Object.defineProperty(n,"NetworkListItem",{enumerable:!0,get:function(){return h.NetworkListItem}}),Object.defineProperty(n,"NetworkListMenu",{enumerable:!0,get:function(){return k.NetworkListMenu}}),Object.defineProperty(n,"NotificationDetail",{enumerable:!0,get:function(){return D.NotificationDetail}}),Object.defineProperty(n,"NotificationDetailAddress",{enumerable:!0,get:function(){return B.NotificationDetailAddress}}),Object.defineProperty(n,"NotificationDetailAsset",{enumerable:!0,get:function(){return j.NotificationDetailAsset}}),Object.defineProperty(n,"NotificationDetailBlockExplorerButton",{enumerable:!0,get:function(){return V.NotificationDetailBlockExplorerButton}}),Object.defineProperty(n,"NotificationDetailButton",{enumerable:!0,get:function(){return U.NotificationDetailButton}}),Object.defineProperty(n,"NotificationDetailCollection",{enumerable:!0,get:function(){return F.NotificationDetailCollection}}),Object.defineProperty(n,"NotificationDetailCopyButton",{enumerable:!0,get:function(){return R.NotificationDetailCopyButton}}),Object.defineProperty(n,"NotificationDetailInfo",{enumerable:!0,get:function(){return $.NotificationDetailInfo}}),Object.defineProperty(n,"NotificationDetailNetworkFee",{enumerable:!0,get:function(){return L.NotificationDetailNetworkFee}}),Object.defineProperty(n,"NotificationDetailNft",{enumerable:!0,get:function(){return z.NotificationDetailNft}}),Object.defineProperty(n,"NotificationDetailTitle",{enumerable:!0,get:function(){return W.NotificationDetailTitle}}),Object.defineProperty(n,"NotificationListItem",{enumerable:!0,get:function(){return A.NotificationListItem}}),Object.defineProperty(n,"NotificationListItemIcon",{enumerable:!0,get:function(){return P.NotificationListItemIcon}}),Object.defineProperty(n,"NotificationListItemSnap",{enumerable:!0,get:function(){return q.NotificationListItemSnap}}),Object.defineProperty(n,"NotificationListItemText",{enumerable:!0,get:function(){return O.NotificationListItemText}}),Object.defineProperty(n,"NotificationsPage",{enumerable:!0,get:function(){return H.NotificationsPage}}),Object.defineProperty(n,"NotificationsSettingsAccount",{enumerable:!0,get:function(){return J.NotificationsSettingsAccount}}),Object.defineProperty(n,"NotificationsSettingsBox",{enumerable:!0,get:function(){return G.NotificationsSettingsBox}}),Object.defineProperty(n,"NotificationsSettingsType",{enumerable:!0,get:function(){return K.NotificationsSettingsType}}),Object.defineProperty(n,"NotificationsTagCounter",{enumerable:!0,get:function(){return Y.NotificationsTagCounter}}),Object.defineProperty(n,"PermissionDetailsModal",{enumerable:!0,get:function(){return Q.PermissionDetailsModal}}),Object.defineProperty(n,"ProductTour",{enumerable:!0,get:function(){return y.ProductTour}}),Object.defineProperty(n,"ReceiveModal",{enumerable:!0,get:function(){return ee.ReceiveModal}}),Object.defineProperty(n,"SelectSrp",{enumerable:!0,get:function(){return ae.SelectSrp}}),Object.defineProperty(n,"SrpList",{enumerable:!0,get:function(){return ae.SrpList}}),Object.defineProperty(n,"StackCard",{enumerable:!0,get:function(){return oe.StackCard}}),Object.defineProperty(n,"StackCardEmpty",{enumerable:!0,get:function(){return oe.StackCardEmpty}}),Object.defineProperty(n,"Toast",{enumerable:!0,get:function(){return X.Toast}}),Object.defineProperty(n,"ToastContainer",{enumerable:!0,get:function(){return X.ToastContainer}}),Object.defineProperty(n,"TokenListItem",{enumerable:!0,get:function(){return m.TokenListItem}}),Object.defineProperty(n,"ViewExplorerMenuItem",{enumerable:!0,get:function(){return T.ViewExplorerMenuItem}});var o=e("./account-list-item"),a=e("./account-list-item-menu"),r=e("./account-list-menu"),i=e("./account-overview"),s=e("./account-picker"),l=e("./activity-list-item"),c=e("./app-header"),u=e("./detected-token-banner"),d=e("./global-menu"),m=e("./token-list-item"),p=e("./address-copy-button"),f=e("./connected-site-menu"),g=e("./connected-site-popover"),h=e("./network-list-item"),k=e("./network-list-menu"),y=e("./product-tour-popover"),x=e("./account-details"),b=e("./create-account"),w=e("./create-eth-account"),v=e("./connected-accounts-menu"),C=e("./import-account"),E=e("./import-nfts-modal"),T=e("./menu-items"),_=e("./import-tokens-modal"),I=e("./avatar-group"),M=e("./asset-picker-amount"),N=e("./address-list-item"),S=e("./connected-status"),A=e("./notification-list-item"),P=e("./notification-list-item-icon"),O=e("./notification-list-item-text"),D=e("./notification-detail"),B=e("./notification-detail-address"),j=e("./notification-detail-asset"),F=e("./notification-detail-collection"),R=e("./notification-detail-copy-button"),L=e("./notification-detail-network-fee"),$=e("./notification-detail-info"),z=e("./notification-detail-nft"),W=e("./notification-detail-title"),U=e("./notification-detail-button"),V=e("./notification-detail-block-explorer-button"),H=e("./notifications-page"),G=e("./notifications-settings-box"),K=e("./notifications-settings-type"),J=e("./notifications-settings-account"),q=e("./notification-list-item-snap"),Y=e("./notifications-tag-counter"),X=e("./toast"),Q=e("./permission-details-modal"),Z=e("./disconnect-permissions-modal"),ee=e("./receive-modal"),te=e("./edit-networks-modal"),ne=e("./edit-accounts-modal"),oe=e("./carousel"),ae=e("./multi-srp")}}},{package:"$root$",file:"ui/components/multichain/index.js"}],[6569,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/constants/routes":6904,"../../../hooks/useI18nContext":7047,"../../../selectors/multichain-accounts/account-tree":7890,"../../../selectors/multichain-accounts/feature-flags":7891,"../../../selectors/selectors":7903,"../../../store/actions":7916,"../../component-library":6325,"../../ui/menu":6788,"prop-types":4893,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsMenuItem=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("react-redux"),s=e("react-router-dom-v5-compat"),l=e("../../../store/actions"),c=e("../../ui/menu"),u=e("../../../hooks/useI18nContext"),d=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),p=e("../../component-library"),f=e("../../../selectors/multichain-accounts/account-tree"),g=e("../../../selectors/selectors"),h=e("../../../selectors/multichain-accounts/feature-flags"),k=e("../../../helpers/constants/routes");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const x=({metricsLocation:e,closeMenu:t,address:n,textProps:o})=>{const r=(0,u.useI18nContext)(),y=(0,i.useDispatch)(),x=(0,a.useContext)(d.MetaMetricsContext),b=(0,i.useSelector)(f.getSelectedAccountGroup),w=(0,i.useSelector)(g.getHDEntropyIndex),v=(0,s.useNavigate)(),C=(0,i.useSelector)(h.getIsMultichainAccountsState1Enabled),E=(0,i.useSelector)(h.getIsMultichainAccountsState2Enabled),T=r("accountDetails"),_=(0,a.useCallback)(()=>{y((0,l.setAccountDetailsAddress)(n)),x({event:m.MetaMetricsEventName.AccountDetailsOpened,category:m.MetaMetricsEventCategory.Navigation,properties:{location:e,hd_entropy_index:w}}),E?v(`${k.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE}/${encodeURIComponent(b)}`):C&&v(`${k.ACCOUNT_DETAILS_ROUTE}/${n}`),null==t||t()},[n,t,y,w,v,C,E,e,b,x]);return a.default.createElement(c.MenuItem,{onClick:_,iconName:p.IconName.ScanBarcode,"data-testid":"account-list-menu-details"},o?a.default.createElement(p.Text,o,T):T)};n.AccountDetailsMenuItem=x,x.propTypes={metricsLocation:r.default.string.isRequired,closeMenu:r.default.func,address:r.default.string.isRequired,textProps:r.default.object}}}},{package:"$root$",file:"ui/components/multichain/menu-items/account-details-menu-item.js"}],[6570,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/utils/portfolio":6948,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,"../../ui/menu":6788,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DiscoverMenuItem=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/design-system-react"),i=e("../../ui/menu"),s=e("../../../helpers/utils/portfolio"),l=e("../../../selectors"),c=e("../../../contexts/metametrics"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/constants/metametrics"),m=e("../../component-library");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.DiscoverMenuItem=({closeMenu:e,metricsLocation:t})=>{const n=(0,a.useSelector)(l.getMetaMetricsId),p=(0,a.useSelector)(l.getParticipateInMetaMetrics),f=(0,a.useSelector)(l.getDataCollectionForMarketing),g=(0,o.useContext)(c.MetaMetricsContext),h=(0,u.useI18nContext)(),k=(0,o.useCallback)(()=>{const o=(0,s.getPortfolioUrl)("explore/tokens","ext_portfolio_button",n,p,f);global.platform.openTab({url:o}),g({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.PortfolioLinkClicked,properties:{location:t,text:"Portfolio"}}),e()},[e,f,p,n,g]);return o.default.createElement(i.MenuItem,{iconName:m.IconName.Export,onClick:()=>k(),"data-testid":"portfolio-menu-item"},o.default.createElement(r.Box,{className:"flex flex-row items-center justify-between"},h("discover")))}}}},{package:"$root$",file:"ui/components/multichain/menu-items/discover-menu-item.tsx"}],[6571,{"./account-details-menu-item":6569,"./discover-menu-item":6570,"./view-explorer-menu-item":6572},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountDetailsMenuItem",{enumerable:!0,get:function(){return o.AccountDetailsMenuItem}}),Object.defineProperty(n,"DiscoverMenuItem",{enumerable:!0,get:function(){return r.DiscoverMenuItem}}),Object.defineProperty(n,"ViewExplorerMenuItem",{enumerable:!0,get:function(){return a.ViewExplorerMenuItem}});var o=e("./account-details-menu-item"),a=e("./view-explorer-menu-item"),r=e("./discover-menu-item")}}},{package:"$root$",file:"ui/components/multichain/menu-items/index.js"}],[6572,{"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/network":5617,"../../../../shared/modules/selectors/networks":5753,"../../../contexts/metametrics":6855,"../../../helpers/constants/routes":6904,"../../../helpers/utils/multichain/blockExplorer":6940,"../../../helpers/utils/util":6959,"../../../hooks/useI18nContext":7047,"../../../hooks/useMultichainSelector":7057,"../../../selectors":7886,"../../../selectors/multichain":7895,"../../component-library":6325,"../../ui/menu":6788,"@metamask/utils":2914,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openBlockExplorer=n.ViewExplorerMenuItem=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom-v5-compat"),i=e("@metamask/utils"),s=e("../../../helpers/utils/multichain/blockExplorer"),l=e("../../ui/menu"),c=e("../../../hooks/useI18nContext"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),m=e("../../component-library"),p=e("../../../selectors"),f=e("../../../helpers/utils/util"),g=e("../../../helpers/constants/routes"),h=e("../../../selectors/multichain"),k=e("../../../hooks/useMultichainSelector"),y=e("../../../../shared/constants/network"),x=e("../../../../shared/modules/selectors/networks");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const w=(e,t,n,o)=>{n({event:d.MetaMetricsEventName.ExternalLinkClicked,category:d.MetaMetricsEventCategory.Navigation,properties:{link_type:d.MetaMetricsEventLinkType.AccountTracker,location:t,url_domain:(0,f.getURLHostName)(e)}}),global.platform.openTab({url:e}),null==o||o()};n.openBlockExplorer=w;n.ViewExplorerMenuItem=({metricsLocation:e,closeMenu:t,textProps:n,account:b})=>{const v=(0,c.useI18nContext)(),C=(0,o.useContext)(u.MetaMetricsContext),E=(0,r.useNavigate)(),T=(0,k.useMultichainSelector)(h.getMultichainNetwork,b),_=(0,s.getMultichainAccountUrl)(b.address,T),I=(0,i.parseCaipChainId)(T.chainId).reference,M=(0,s.getMultichainBlockExplorerUrl)(T),{namespace:N}=(0,i.parseCaipChainId)(T.chainId),S=(0,a.useSelector)(p.getIsCustomNetwork),A=(0,a.useSelector)(x.getCurrentChainId),P=y.TEST_NETWORK_IDS.includes(A),O=Boolean(y.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[A]);let D=null,B=_;if("eip155"===N)if(P||!O&&S){if(D=(0,f.getURLHostName)(M),M){const e=b.address,t=M.endsWith("/")?M:`${M}/`;B=`${t}address/${e}`}}else D="etherscan.io";else D=(0,f.getURLHostName)(M);const j=(0,a.useSelector)(p.getBlockExplorerLinkText),F=v("viewOnExplorer");return o.default.createElement(l.MenuItem,{onClick:()=>{"addBlockExplorer"===j.firstPart?E(`${g.NETWORKS_ROUTE}#blockExplorerUrl`):w(B,e,C,t),C({event:d.MetaMetricsEventName.BlockExplorerLinkClicked,category:d.MetaMetricsEventCategory.Accounts,properties:{location:e,chain_id:I}}),null==t||t()},subtitle:D||null,iconName:m.IconName.Export,"data-testid":"account-list-menu-open-explorer"},n?o.default.createElement(m.Text,n,F):F)}}}},{package:"$root$",file:"ui/components/multichain/menu-items/view-explorer-menu-item.tsx"}],[6573,{"./select-srp":6574,"./srp-list":6576},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SelectSrp",{enumerable:!0,get:function(){return a.SelectSrp}}),Object.defineProperty(n,"SrpList",{enumerable:!0,get:function(){return o.SrpList}});var o=e("./srp-list"),a=e("./select-srp")}}},{package:"$root$",file:"ui/components/multichain/multi-srp/index.ts"}],[6574,{"./select-srp":6575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SelectSrp",{enumerable:!0,get:function(){return o.SelectSrp}});var o=e("./select-srp")}}},{package:"$root$",file:"ui/components/multichain/multi-srp/select-srp/index.ts"}],[6575,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,"../../../ui/card":6731,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SelectSrp=void 0;var o=l(e("react")),a=l(e("../../../ui/card")),r=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}n.SelectSrp=({srpName:e,srpAccounts:t,onClick:n})=>{const l=(0,s.useI18nContext)();return o.default.createElement(r.Box,{"data-testid":"select-srp-container"},o.default.createElement(r.Label,{marginBottom:2},l("selectSecretRecoveryPhrase")),o.default.createElement(a.default,{onClick:n,paddingTop:1,paddingBottom:1,className:"select-srp__container","data-testid":`select-srp-${e}`},o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween},o.default.createElement(r.Box,null,o.default.createElement(r.Text,null,e),o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textMuted},l(t>1?"srpListNumberOfAccounts":"srpListSingleOrZero",[t]))),o.default.createElement(r.Icon,{name:r.IconName.ArrowRight,size:r.IconSize.Sm}))),o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,marginTop:1},l("srpListSelectionDescription")))}}}},{package:"$root$",file:"ui/components/multichain/multi-srp/select-srp/select-srp.tsx"}],[6576,{"./srp-list":6578},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SrpList",{enumerable:!0,get:function(){return o.SrpList}});var o=e("./srp-list")}}},{package:"$root$",file:"ui/components/multichain/multi-srp/srp-list/index.ts"}],[6577,{"../../../../../app/scripts/lib/multichain/address":282,"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../../hooks/useMultichainAccountTotalFiatBalance":7053,"../../../../selectors/assets":7878,"../../../app/user-preferenced-currency-display":6245,"../../../component-library":6325,"@metamask/design-system-react":1741,"@metamask/keyring-api":2100,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SrpListItem=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("@metamask/keyring-api"),s=e("@metamask/design-system-react"),l=e("../../../../hooks/useMultichainAccountTotalFiatBalance"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../helpers/utils/util"),d=(o=e("../../../app/user-preferenced-currency-display"))&&o.__esModule?o:{default:o},m=e("../../../component-library"),p=e("../../../../../app/scripts/lib/multichain/address"),f=e("../../../../selectors/assets");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.SrpListItem=({account:e})=>{const{totalFiatBalance:t}=(0,l.useMultichainAccountTotalFiatBalance)(e),n=(0,i.isEvmAccountType)(e.type),o=(0,r.useSelector)(t=>(0,f.getMultichainAggregatedBalance)(t,e)),g=(0,a.useMemo)(()=>n?t:o.toString(),[n,o,t]);return a.default.createElement(m.Box,{key:e.address,display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(m.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center},a.default.createElement(s.AvatarAccount,{address:e.address,size:s.AvatarAccountSize.Xs}),a.default.createElement(m.Text,{className:"srp-list__account-name",variant:c.TextVariant.bodySm,ellipsis:!0,paddingInlineStart:3},e.metadata.name),a.default.createElement(m.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,marginLeft:1,paddingInlineStart:1},(0,u.shortenAddress)((0,p.normalizeSafeAddress)(e.address)))),a.default.createElement(m.Text,{variant:c.TextVariant.bodySm},a.default.createElement(d.default,{account:e,value:g,type:"PRIMARY",ethNumberOfDecimals:4,hideTitle:!0,showFiat:!0,isAggregatedFiatOverviewBalance:!0,hideLabel:!0})))}}}},{package:"$root$",file:"ui/components/multichain/multi-srp/srp-list/srp-list-item.tsx"}],[6578,{"../../../../../shared/constants/metametrics":5613,"../../../../contexts/metametrics":6855,"../../../../ducks/metamask/metamask":6883,"../../../../helpers/constants/design-system":6899,"../../../../hooks/multi-srp/useHdKeyringsWithSnapAccounts":6999,"../../../../hooks/useI18nContext":7047,"../../../../selectors/selectors":7903,"../../../component-library":6325,"../../../ui/card":6731,"./srp-list-item":6577,classnames:3913,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SrpList=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=h(e("classnames")),i=h(e("../../../ui/card")),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../selectors/selectors"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../../shared/constants/metametrics"),m=e("../../../../contexts/metametrics"),p=e("../../../../hooks/multi-srp/useHdKeyringsWithSnapAccounts"),f=e("../../../../ducks/metamask/metamask"),g=e("./srp-list-item");function h(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.SrpList=({onActionComplete:e,hideShowAccounts:t,isSettingsPage:n=!1})=>{const h=(0,u.useI18nContext)(),k=(0,o.useContext)(m.MetaMetricsContext),y=(0,p.useHdKeyringsWithSnapAccounts)(),x=(0,a.useSelector)(f.getIsPrimarySeedPhraseBackedUp),b=(0,a.useSelector)(c.getMetaMaskAccounts),w=(0,o.useMemo)(()=>new Array(y.length).fill(t),[y,t]),[v,C]=(0,o.useState)(w);return o.default.createElement(s.Box,{className:(0,r.default)("srp-list__container",{"srp-list__container--settings":n}),padding:n?0:4,"data-testid":"srp-list"},y.map((a,r)=>{const c=!x&&0===r;return o.default.createElement(i.default,{key:`srp-${a.metadata.id}`,"data-testid":`hd-keyring-${a.metadata.id}`,onClick:()=>{k({category:d.MetaMetricsEventCategory.Accounts,event:d.MetaMetricsEventName.SecretRecoveryPhrasePickerClicked,properties:{button_type:"srp_select"}}),e(a.metadata.id,c)},className:"select-srp__container",marginBottom:3},o.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween},o.default.createElement(s.Box,null,o.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium},h("srpListName",[r+1])),!t&&o.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.primaryDefault,className:"srp-list__show-accounts","data-testid":`srp-list-show-accounts-${r}`,onClick:e=>{e.stopPropagation(),k({category:d.MetaMetricsEventCategory.Accounts,event:d.MetaMetricsEventName.SecretRecoveryPhrasePickerClicked,properties:{button_type:"details"}}),C(e=>{const t=y.length;let n=e;return t>e.length&&(n=[...e,...Array(t-e.length).fill(!1)]),n.map((e,t)=>t===r?!e:e)})}},((e,t)=>t>1?v[e]?h("SrpListHideAccounts",[t]):h("SrpListShowAccounts",[t]):v[e]?h("SrpListHideSingleAccount",[t]):h("SrpListShowSingleAccount",[t]))(r,a.accounts.length))),o.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:1},n&&o.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:c?l.TextColor.errorDefault:l.TextColor.textAlternative},h(c?"srpListStateNotBackedUp":"srpListStateBackedUp")),o.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:c&&n?l.IconColor.errorDefault:l.IconColor.iconAlternative}))),v[r]&&o.default.createElement(s.Box,null,o.default.createElement(s.Box,{width:l.BlockSize.Full,className:"srp-list__divider",marginTop:2,marginBottom:2}),a.accounts.map(e=>{const t=b[e];return o.default.createElement(g.SrpListItem,{key:`account-${t.id}`,account:t})})))}))}}}},{package:"$root$",file:"ui/components/multichain/multi-srp/srp-list/srp-list.tsx"}],[6579,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useMultichainAccountTotalFiatBalance":7053,"../../../app/preferred-avatar":6033,"../../../app/user-preferenced-currency-display/user-preferenced-currency-display.component":6246,"../../../component-library":6325,"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("@metamask/design-system-react"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../app/preferred-avatar"),c=e("../../../../hooks/useMultichainAccountTotalFiatBalance"),u=(o=e("../../../app/user-preferenced-currency-display/user-preferenced-currency-display.component"))&&o.__esModule?o:{default:o};function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(null,arguments)}const p=({account:e,onClick:t,onBalanceUpdate:n,className:o,...d})=>{const{totalFiatBalance:p}=(0,c.useMultichainAccountTotalFiatBalance)(e);return(0,a.useEffect)(()=>{n(e.id,p)},[p,e.id,n]),a.default.createElement(i.Box,m({className:o,as:"button",onClick:()=>t(e),width:s.BlockSize.Full,textAlign:s.TextAlign.Left,padding:4,marginBottom:1,style:{cursor:"pointer",border:"none"},"data-testid":`wallet-details-account-item-${e.id}`},d),a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:3},a.default.createElement(l.PreferredAvatar,{address:e.address,size:r.AvatarAccountSize.Sm}),a.default.createElement(i.Box,null,a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.textDefault},e.metadata.name))),a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:2},a.default.createElement(u.default,{account:e,value:p,type:"PRIMARY",ethNumberOfDecimals:4,hideTitle:!0,showFiat:!0,isAggregatedFiatOverviewBalance:!0,hideLabel:!0,textProps:{color:s.TextColor.textAlternative,variant:s.TextVariant.bodyMdMedium}}),a.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,color:s.IconColor.iconMuted})))};n.default=(0,a.memo)(p)}}},{package:"$root$",file:"ui/components/multichain/multichain-accounts/wallet-details-account-item/wallet-details-account-item.tsx"}],[6580,{"./wallet-details-account-type-selection":6581},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"WalletDetailsAccountTypeSelection",{enumerable:!0,get:function(){return o.WalletDetailsAccountTypeSelection}});var o=e("./wallet-details-account-type-selection")}}},{package:"$root$",file:"ui/components/multichain/multichain-accounts/wallet-details-account-type-selection/index.ts"}],[6581,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../component-library":6325,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WalletDetailsAccountTypeSelection=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext"),l=e("../../../component-library"),c=e("../../../../hooks/accounts/useMultichainWalletSnapClient"),u=e("../../../../selectors");n.WalletDetailsAccountTypeSelection=({onAccountTypeSelect:e,onClose:t})=>{const n=(0,s.useI18nContext)(),o=(0,r.useSelector)(u.getIsBitcoinSupportEnabled),d=(0,r.useSelector)(u.getIsSolanaSupportEnabled),m=(0,r.useSelector)(u.getIsTronSupportEnabled);return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.ModalHeader,{endAccessory:a.default.createElement(l.ButtonIcon,{iconName:l.IconName.Close,onClick:t,ariaLabel:n("close")}),padding:4},n("newAccount")),a.default.createElement(l.ModalBody,null,a.default.createElement(l.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.flexStart},a.default.createElement(l.Text,{variant:i.TextVariant.bodySmMedium,marginBottom:2,color:i.TextColor.textAlternative},n("createNewAccountHeader")),a.default.createElement(l.ButtonLink,{marginBottom:2,size:l.ButtonLinkSize.Sm,startIconName:l.IconName.Add,startIconProps:{size:l.IconSize.Md},onClick:()=>e(c.EVM_WALLET_TYPE),"data-testid":"wallet-details-add-ethereum-account"},n("addNewEthereumAccountLabel")),d&&a.default.createElement(l.ButtonLink,{marginBottom:2,size:l.ButtonLinkSize.Sm,startIconName:l.IconName.Add,startIconProps:{size:l.IconSize.Md},onClick:()=>e(c.WalletClientType.Solana),"data-testid":"wallet-details-add-solana-account"},n("addNewSolanaAccountLabel")),o&&a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Sm,startIconName:l.IconName.Add,startIconProps:{size:l.IconSize.Md},onClick:()=>e(c.WalletClientType.Bitcoin),"data-testid":"wallet-details-add-bitcoin-account"},n("addBitcoinAccountLabel")),m&&a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Sm,startIconName:l.IconName.Add,startIconProps:{size:l.IconSize.Md},onClick:()=>e(c.WalletClientType.Tron),"data-testid":"wallet-details-add-tron-account"},n("addNewTronAccountLabel")))))}}}},{package:"$root$",file:"ui/components/multichain/multichain-accounts/wallet-details-account-type-selection/wallet-details-account-type-selection.tsx"}],[6582,{"../../../../shared/constants/network":5617,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../app/assets/asset-list/network-filter":5806,"../../component-library":6325,"../../component-library/button-base":6289,"../../component-library/icon":6324,"../../component-library/popover":6357,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.NetworkFilterComponent=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../component-library/icon"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library/button-base"),l=e("../../component-library/popover"),c=e("../../component-library"),u=e("../../../../shared/constants/network"),d=(o=e("../../app/assets/asset-list/network-filter"))&&o.__esModule?o:{default:o},m=e("../../../hooks/useI18nContext");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({isFullScreen:e,toggleNetworkFilterPopover:t,isTestNetwork:n,currentNetworkConfig:o,isNetworkFilterPopoverOpen:p,closePopover:f,isTokenNetworkFilterEqualCurrentNetwork:g})=>{const h=(0,a.useRef)(null),k=(0,m.useI18nContext)();return a.default.createElement(c.Box,{marginLeft:2,marginRight:2,justifyContent:e?i.JustifyContent.flexStart:i.JustifyContent.spaceBetween,ref:h},a.default.createElement(s.ButtonBase,{"data-testid":"sort-by-popover-toggle",className:"asset-list-control-bar__button asset-list-control-bar__network_control",onClick:t,size:s.ButtonBaseSize.Sm,disabled:n||!u.FEATURED_NETWORK_CHAIN_IDS.includes(o.chainId),endIconName:r.IconName.ArrowDown,backgroundColor:p?i.BackgroundColor.backgroundPressed:i.BackgroundColor.backgroundDefault,color:i.TextColor.textDefault,marginRight:e?2:null,ellipsis:!0},g?(null==o?void 0:o.nickname)??k("currentNetwork"):k("popularNetworks")),a.default.createElement(l.Popover,{onClickOutside:f,isOpen:p,position:l.PopoverPosition.BottomStart,referenceElement:h.current,matchWidth:!e,style:{zIndex:10,display:"flex",flexDirection:"column",padding:0,minWidth:e?"325px":""}},a.default.createElement(d.default,{handleClose:f})))};n.NetworkFilterComponent=f;n.default=f}}},{package:"$root$",file:"ui/components/multichain/network-filter-menu/index.tsx"}],[6583,{"./network-list-item-menu":6584},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListItemMenu",{enumerable:!0,get:function(){return o.NetworkListItemMenu}});var o=e("./network-list-item-menu")}}},{package:"$root$",file:"ui/components/multichain/network-list-item-menu/index.js"}],[6584,{"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../../ui/menu":6788,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListItemMenu=void 0;var o=c(e("react")),a=c(e("prop-types")),r=e("../../../hooks/useI18nContext"),i=e("../../component-library"),s=e("../../ui/menu"),l=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}const u=({anchorElement:e,onClose:t,onEditClick:n,onDeleteClick:a,onDiscoverClick:c,isOpen:u})=>{const d=(0,r.useI18nContext)();return o.default.createElement(i.Popover,{className:"multichain-network-list-item-menu__popover",onClickOutside:t,referenceElement:e,role:i.PopoverRole.Dialog,position:i.PopoverPosition.BottomEnd,offset:[8,0],padding:0,isOpen:u,isPortal:!0,preventOverflow:!0,flip:!0},o.default.createElement(i.ModalFocus,{restoreFocus:!0,initialFocusRef:e},o.default.createElement(i.Box,null,c?o.default.createElement(s.MenuItem,{iconName:i.IconName.Eye,onClick:e=>{e.stopPropagation(),c()},"data-testid":"network-list-item-options-discover"},o.default.createElement(i.Text,null,d("discover"))):null,n?o.default.createElement(s.MenuItem,{iconName:i.IconName.Edit,onClick:e=>{e.stopPropagation(),n()},"data-testid":"network-list-item-options-edit"},o.default.createElement(i.Text,null," ",d("edit"))):null,a?o.default.createElement(s.MenuItem,{iconName:i.IconName.Trash,iconColor:l.IconColor.errorDefault,onClick:e=>{e.stopPropagation(),a()},"data-testid":"network-list-item-options-delete"},o.default.createElement(i.Text,{color:l.TextColor.errorDefault},d("delete"))):null)))};n.NetworkListItemMenu=u,u.propTypes={anchorElement:a.default.instanceOf(window.Element),onClose:a.default.func.isRequired,onEditClick:a.default.func,onDeleteClick:a.default.func,onDiscoverClick:a.default.func,isOpen:a.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/multichain/network-list-item-menu/network-list-item-menu.js"}],[6585,{"./network-list-item":6586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListItem",{enumerable:!0,get:function(){return o.NetworkListItem}});var o=e("./network-list-item")}}},{package:"$root$",file:"ui/components/multichain/network-list-item/index.js"}],[6586,{"../../../../shared/modules/network.utils":5745,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/accounts":6924,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,"../../ui/tooltip/tooltip":6836,"../network-list-item-menu":6583,classnames:3913,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListItem=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=g(e("classnames")),r=g(e("prop-types")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/accounts"),d=g(e("../../ui/tooltip/tooltip")),m=e("../network-list-item-menu"),p=e("../../../selectors"),f=e("../../../../shared/modules/network.utils");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const k=({name:e,iconSrc:t,iconSize:n=l.AvatarNetworkSize.Md,rpcEndpoint:r,chainId:g,selected:h=!1,focus:k=!0,onClick:y,onDeleteClick:x,onEditClick:b,onDiscoverClick:w,onRpcEndpointClick:v,startAccessory:C,endAccessory:E,showEndAccessory:T=!0,disabled:_=!1,variant:I,notSelectable:M=!1})=>{const N=(0,c.useI18nContext)(),S=(0,o.useRef)(null),[A,P]=(0,o.useState)(),O=e=>{P(e)},[D,B]=(0,o.useState)(!1),j=(0,i.useSelector)(p.getGasFeesSponsoredNetworkEnabled),F=(0,o.useCallback)(e=>{if(!e)return!1;let t;try{t=e.includes(":")?(0,f.convertCaipToHexChainId)(e):e}catch(n){t=e}return Boolean(null==j?void 0:j[t])},[j]),R=(0,o.useCallback)(()=>x||b||w?o.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ref:O,"data-testid":`network-list-item-options-button-${g}`,ariaLabel:N("networkOptions"),onClick:e=>{e.stopPropagation(),B(!0)},size:l.ButtonIconSize.Sm}):null,[x,b,w,g,N,O,B]);(0,o.useEffect)(()=>{S.current&&k&&S.current.focus()},[S,k]);return o.default.createElement(l.Box,{"data-testid":`network-list-item-${g}`,paddingLeft:4,paddingRight:4,paddingTop:r?2:4,paddingBottom:r?2:4,gap:4,backgroundColor:h?s.BackgroundColor.primaryMuted:s.BackgroundColor.transparent,className:(0,a.default)("multichain-network-list-item",{"multichain-network-list-item--selected":h,"multichain-network-list-item--deselected":!h,"multichain-network-list-item--disabled":_,"multichain-network-list-item--not-selectable":M}),display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween,width:s.BlockSize.Full,onClick:_?undefined:y},C?o.default.createElement(l.Box,{marginTop:1},C):null,h&&o.default.createElement(l.Box,{className:"multichain-network-list-item__selected-indicator",borderRadius:s.BorderRadius.pill,backgroundColor:s.BackgroundColor.primaryDefault}),(e=>Object.values(l.IconName).includes(e))(t)?o.default.createElement(l.Icon,{name:t,size:n}):o.default.createElement(l.AvatarNetwork,{borderColor:s.BorderColor.backgroundDefault,backgroundColor:(0,u.getAvatarNetworkColor)(e),name:e,src:t,size:n}),o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexStart,justifyContent:s.JustifyContent.flexStart,width:s.BlockSize.Full,style:{overflow:"hidden"}},o.default.createElement(l.Box,{width:s.BlockSize.Full,display:s.Display.Flex,alignItems:s.AlignItems.center,"data-testid":e},o.default.createElement(d.default,{title:e,position:"bottom",wrapperClassName:"multichain-network-list-item__tooltip",disabled:(null==e?void 0:e.length)<=20},o.default.createElement(l.Text,{ref:S,color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,variant:I??s.TextVariant.bodyMd,ellipsis:!0,onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),y())},tabIndex:0},e))),F(g)&&o.default.createElement(l.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},N("noNetworkFee")),r&&o.default.createElement(l.Box,{className:"multichain-network-list-item__rpc-endpoint",display:s.Display.Flex,alignItems:s.AlignItems.center,"data-testid":`network-rpc-name-button-${g}`,onClick:e=>{e.stopPropagation(),null==v||v()}},o.default.createElement(l.Text,{padding:0,backgroundColor:s.BackgroundColor.transparent,as:"button",variant:s.TextVariant.bodySmMedium,color:s.TextColor.textAlternative,ellipsis:!0},r.name??new URL(r.url).host),o.default.createElement(l.Icon,{marginLeft:1,color:s.IconColor.iconAlternative,name:l.IconName.ArrowDown,size:l.IconSize.Xs}))),R(),T?E??o.default.createElement(m.NetworkListItemMenu,{anchorElement:A,isOpen:D,onDeleteClick:x,onEditClick:b,onDiscoverClick:w,onClose:()=>B(!1)}):null)};n.NetworkListItem=k,k.propTypes={name:r.default.string.isRequired,iconSrc:r.default.string,iconSize:r.default.string,selected:r.default.bool,onClick:r.default.func.isRequired,onDeleteClick:r.default.func,onEditClick:r.default.func,focus:r.default.bool,startAccessory:r.default.node,endAccessory:r.default.node,showEndAccessory:r.default.bool}}}},{package:"$root$",file:"ui/components/multichain/network-list-item/network-list-item.tsx"}],[6587,{"../../../../../app/scripts/lib/util":353,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../component-library"),r=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../../app/scripts/lib/util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=({onAdded:e})=>{const t=(0,i.useI18nContext)(),[n,l]=(0,o.useState)(),[c,u]=(0,o.useState)();return(0,o.useEffect)(()=>{n&&(null==n?void 0:n.length)>0&&!(0,s.isWebUrl)(n)?u(t("urlErrorMsg")):u(undefined)},[n]),o.default.createElement(a.Box,{className:"add-block-explorer-modal",display:r.Display.Flex,flexDirection:r.FlexDirection.Column,justifyContent:r.JustifyContent.spaceBetween,height:r.BlockSize.Full},o.default.createElement(a.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(a.FormTextField,{size:a.FormTextFieldSize.Lg,textFieldProps:{borderRadius:r.BorderRadius.LG},error:Boolean(c),id:"additional-rpc-url",label:t("blockExplorerUrl"),inputProps:{"data-testid":"explorer-url-input"},labelProps:{children:undefined,variant:r.TextVariant.bodyMdMedium},onChange:e=>l(e.target.value),autoFocus:!0}),c&&o.default.createElement(a.HelpText,{severity:a.HelpTextSeverity.Danger},c)),o.default.createElement(a.Box,{className:"add-block-explorer-modal__footer",backgroundColor:r.BackgroundColor.backgroundDefault,padding:4,width:r.BlockSize.Full},o.default.createElement(a.ButtonPrimary,{width:r.BlockSize.Full,disabled:Boolean(c),size:a.ButtonPrimarySize.Lg,onClick:async()=>{n&&e(n)}},t("addUrl"))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/add-block-explorer-modal/add-block-explorer-modal.tsx"}],[6588,{"../../../../../shared/constants/multichain/networks":5616,"../../../../helpers/constants/design-system":6899,"../../../../hooks/accounts/useMultichainWalletSnapClient":6964,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../component-library":6325,"../../create-snap-account":6538,"../../multi-srp/srp-list":6576,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../../store/actions"),i=e("../../../../../shared/constants/multichain/networks"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../selectors"),d=e("../../create-snap-account"),m=e("../../multi-srp/srp-list"),p=e("../../../../hooks/accounts/useMultichainWalletSnapClient");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const g={[i.MultichainNetworks.BITCOIN]:{clientType:p.WalletClientType.Bitcoin,chainId:i.MultichainNetworks.BITCOIN},[i.MultichainNetworks.BITCOIN_TESTNET]:{clientType:p.WalletClientType.Bitcoin,chainId:i.MultichainNetworks.BITCOIN_TESTNET},[i.MultichainNetworks.BITCOIN_SIGNET]:{clientType:p.WalletClientType.Bitcoin,chainId:i.MultichainNetworks.BITCOIN_SIGNET},[i.MultichainNetworks.SOLANA]:{clientType:p.WalletClientType.Solana,chainId:i.MultichainNetworks.SOLANA},[i.MultichainNetworks.SOLANA_TESTNET]:{clientType:p.WalletClientType.Solana,chainId:i.MultichainNetworks.SOLANA_TESTNET},[i.MultichainNetworks.SOLANA_DEVNET]:{clientType:p.WalletClientType.Solana,chainId:i.MultichainNetworks.SOLANA_DEVNET}};n.default=({chainId:e})=>{const t=(0,c.useI18nContext)(),n=(0,a.useDispatch)(),[p]=(0,a.useSelector)(u.getMetaMaskHdKeyrings),[f,h]=o.default.useState(!1),[k,y]=o.default.useState(!1),[x,b]=o.default.useState(p.metadata.id),w=(0,o.useCallback)(async e=>{e?n((0,r.toggleNetworkMenu)()):y(!1)},[n]),v=(0,o.useCallback)(()=>{h(!0),y(!1)},[]),C=(0,o.useCallback)(e=>{b(e),y(!0)},[]),E=(0,o.useCallback)(()=>{y(!0)},[]),{clientType:T,chainId:_}=g[e]||{clientType:null,chainId:null};return k&&T&&_?o.default.createElement(s.Box,{className:"add-non-evm-account-modal",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween},o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(d.CreateSnapAccount,{onActionComplete:w,selectedKeyringId:x,onSelectSrp:v,clientType:T,chainId:_}))):f?o.default.createElement(s.Box,{className:"add-non-evm-account-modal",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween},o.default.createElement(m.SrpList,{onActionComplete:C})):o.default.createElement(s.Box,{className:"add-non-evm-account-modal",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween},o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(s.Text,{textAlign:l.TextAlign.Left,variant:l.TextVariant.bodyMd},t("addNonEvmAccountFromNetworkPicker",[i.MULTICHAIN_NETWORK_TO_NICKNAME[e],i.MULTICHAIN_NETWORK_TO_ACCOUNT_TYPE_NAME[e]]))),o.default.createElement(s.Box,{className:"add-non-evm-account-modal__footer",padding:4,width:l.BlockSize.Full},o.default.createElement(s.ButtonPrimary,{width:l.BlockSize.Full,size:s.ButtonPrimarySize.Lg,onClick:E},t("addAccount"))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/add-non-evm-account/add-non-evm-account.tsx"}],[6589,{"../../../../../app/scripts/lib/util":353,"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../component-library"),r=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../../app/scripts/lib/util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=({onAdded:e})=>{const t=(0,i.useI18nContext)(),[n,l]=(0,o.useState)(),[c,u]=(0,o.useState)(),d=(0,o.useRef)(null);return(0,o.useEffect)(()=>{n&&!(0,s.isWebUrl)(n)?u((0,s.isWebUrl)(`https://${n}`)?t("urlErrorMsg"):t("invalidRPC")):u(undefined)},[n]),o.default.createElement(a.Box,{className:"add-rpc-modal",display:r.Display.Flex,flexDirection:r.FlexDirection.Column,justifyContent:r.JustifyContent.spaceBetween,height:r.BlockSize.Full},o.default.createElement(a.Box,{paddingTop:4,paddingLeft:4,paddingRight:4},o.default.createElement(a.FormTextField,{id:"rpcUrl",size:a.FormTextFieldSize.Lg,error:Boolean(c),label:t("rpcUrl"),placeholder:t("enterRpcUrl"),textFieldProps:{borderRadius:r.BorderRadius.LG},labelProps:{children:undefined,variant:r.TextVariant.bodyMdMedium},inputProps:{"data-testid":"rpc-url-input-test"},onChange:e=>l(e.target.value),autoFocus:!0}),c&&o.default.createElement(a.HelpText,{severity:a.HelpTextSeverity.Danger},c),o.default.createElement(a.FormTextField,{id:"rpcName",size:a.FormTextFieldSize.Lg,inputProps:{"data-testid":"rpc-name-input-test"},placeholder:t("enterANameToIdentifyTheUrl"),paddingTop:4,inputRef:d,label:t("rpcNameOptional"),textFieldProps:{borderRadius:r.BorderRadius.LG},labelProps:{children:undefined,variant:r.TextVariant.bodyMdMedium}})),o.default.createElement(a.Box,{className:"add-rpc-modal__footer",backgroundColor:r.BackgroundColor.backgroundDefault,padding:4,width:r.BlockSize.Full},o.default.createElement(a.ButtonPrimary,{width:r.BlockSize.Full,disabled:Boolean(c),size:a.ButtonPrimarySize.Lg,onClick:async()=>{n&&!c&&d.current&&e(n,d.current.value||undefined)}},t("addUrl"))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/add-rpc-url-modal/add-rpc-url-modal.tsx"}],[6590,{"./network-list-menu":6592},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListMenu",{enumerable:!0,get:function(){return o.NetworkListMenu}});var o=e("./network-list-menu")}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/index.js"}],[6591,{"../../../../pages/confirmations/confirmation/confirmation":7428,"../../../../selectors":7886,"../../../ui/popover":6804,"@metamask/approval-controller":1198,"@metamask/controller-utils":1383,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/controller-utils"),i=e("@metamask/approval-controller"),s=u(e("../../../ui/popover")),l=u(e("../../../../pages/confirmations/confirmation/confirmation")),c=e("../../../../selectors");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.default=()=>{const[e,t]=(0,o.useState)(!1),n=(0,a.useSelector)(c.getUnapprovedConfirmations);return(0,o.useEffect)(()=>{const o=null==n?void 0:n.find(e=>e.origin===i.ORIGIN_METAMASK&&e.type===r.ApprovalType.AddEthereumChain);!e&&o?t(!0):e&&!o&&t(!1)},[n,e]),e?o.default.createElement(s.default,{"data-testid":"network-popover"},o.default.createElement(l.default,{redirectToHomeOnZeroConfirmations:!1})):null}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover.tsx"}],[6592,{"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/multichain/networks":5616,"../../../../shared/constants/network":5617,"../../../../shared/lib/trace":5718,"../../../../shared/modules/network.utils":5745,"../../../contexts/metametrics":6855,"../../../ducks/metamask/metamask":6883,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/window":6961,"../../../hooks/accounts/useAccountCreationOnNetworkChange":6962,"../../../hooks/useI18nContext":7047,"../../../pages/settings/networks-tab/networks-form":7772,"../../../pages/settings/networks-tab/networks-form/networks-form-state":7773,"../../../selectors":7886,"../../../store/actions":7916,"../../component-library":6325,"../../ui/toggle-button":6831,"../network-list-item":6585,"./add-block-explorer-modal/add-block-explorer-modal":6587,"./add-non-evm-account/add-non-evm-account":6588,"./add-rpc-url-modal/add-rpc-url-modal":6589,"./network-list-search/network-list-search":6593,"./popular-network-list/popular-network-list":6594,"./select-rpc-url-modal/select-rpc-url-modal":6596,"@metamask/controller-utils":1383,"@metamask/keyring-api":2100,"@metamask/multichain-network-controller":2207,"@metamask/network-controller":2227,"@metamask/utils":2914,"fuse.js":4238,react:5080,"react-beautiful-dnd":4966,"react-redux":5021,"uri-js":5528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListMenu=n.ACTION_MODE=void 0;var o=L(e("react")),a=e("react-beautiful-dnd"),r=e("react-redux"),i=F(e("fuse.js")),s=L(e("uri-js")),l=e("@metamask/keyring-api"),c=e("@metamask/network-controller"),u=e("@metamask/multichain-network-controller"),d=e("@metamask/utils"),m=e("@metamask/controller-utils"),p=e("../../../hooks/useI18nContext"),f=e("../../../hooks/accounts/useAccountCreationOnNetworkChange"),g=e("../network-list-item"),h=e("../../../store/actions"),k=e("../../../../shared/constants/network"),y=e("../../../../shared/constants/multichain/networks"),x=e("../../../selectors"),b=F(e("../../ui/toggle-button")),w=e("../../../helpers/constants/design-system"),v=e("../../component-library"),C=e("../../../contexts/metametrics"),E=e("../../../../shared/constants/metametrics"),T=e("../../../../shared/modules/network.utils"),_=e("../../../ducks/metamask/metamask"),I=F(e("../../../pages/settings/networks-tab/networks-form")),M=e("../../../pages/settings/networks-tab/networks-form/networks-form-state"),N=e("../../../helpers/utils/window"),S=e("../../../../shared/lib/trace"),A=F(e("./popular-network-list/popular-network-list")),P=F(e("./network-list-search/network-list-search")),O=F(e("./add-rpc-url-modal/add-rpc-url-modal")),D=e("./select-rpc-url-modal/select-rpc-url-modal"),B=F(e("./add-block-explorer-modal/add-block-explorer-modal")),j=F(e("./add-non-evm-account/add-non-evm-account"));function F(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$.apply(null,arguments)}let z=n.ACTION_MODE=function(e){return e[e.LIST=0]="LIST",e[e.ADD_EDIT=1]="ADD_EDIT",e[e.ADD_RPC=2]="ADD_RPC",e[e.ADD_EXPLORER_URL=3]="ADD_EXPLORER_URL",e[e.SELECT_RPC=4]="SELECT_RPC",e[e.ADD_NON_EVM_ACCOUNT=5]="ADD_NON_EVM_ACCOUNT",e}({});n.NetworkListMenu=({onClose:e})=>{const t=(0,p.useI18nContext)(),n=(0,r.useDispatch)(),F=(0,o.useContext)(C.MetaMetricsContext),{hasAnyAccountsInNetwork:R}=(0,f.useAccountCreationOnNetworkChange)(),{tokenNetworkFilter:L}=(0,r.useSelector)(x.getPreferences),W=(0,r.useSelector)(x.getShowTestNetworks),U=(0,r.useSelector)(x.getOriginOfCurrentTab),V=(0,r.useSelector)(_.getIsUnlocked),H=(0,r.useSelector)(x.getAllDomains),G=(0,r.useSelector)(x.getOrderedNetworksList),K=(0,r.useSelector)(x.getIsAddingNewNetwork),J=(0,r.useSelector)(x.getIsMultiRpcOnboarding),q=(0,r.useSelector)(x.getIsAccessedFromDappConnectedSitePopover),Y=(0,r.useSelector)(_.getCompletedOnboarding),X=(0,r.useSelector)(x.getNetworkDiscoverButtonEnabled),[Q,Z]=(0,r.useSelector)(x.getMultichainNetworkConfigurationsByChainId),ee=(0,r.useSelector)(x.getSelectedMultichainNetworkChainId),{chainId:te,editCompleted:ne,trackRpcUpdateFromBanner:oe}=(0,r.useSelector)(x.getEditedNetwork)??{},ae=(0,r.useSelector)(e=>(0,x.getPermittedEVMChainsForSelectedTab)(e,U)),re=(0,r.useSelector)(x.getAllChainsToPoll),ie=Boolean(U)&&Boolean(H[U])&&q;(0,o.useEffect)(()=>{(0,S.endTrace)({name:S.TraceName.NetworkList})},[]);const se=(0,o.useMemo)(()=>{const{namespace:e}=(0,d.parseCaipChainId)(ee);return e===d.KnownCaipNamespace.Eip155?k.TEST_CHAINS.includes((0,T.convertCaipToHexChainId)(ee)):u.NON_EVM_TESTNET_IDS.includes(ee)},[ee]),[le,ce]=(0,o.useMemo)(()=>Object.entries(Q).reduce(([e,t],[n,o])=>{let a=n,r=!1;return o.isEvm?(a=(0,T.convertCaipToHexChainId)(o.chainId),r=k.TEST_CHAINS.includes(a)):r=u.NON_EVM_TESTNET_IDS.includes(o.chainId),(r?t:e)[a]=o,[e,t]},[{},{}]),[Q]),ue=(0,o.useMemo)(()=>{var e;return!te||ne?undefined:null===(e=Object.entries(Z).find(([e])=>e===te))||void 0===e?void 0:e[1]},[te,ne,Z]),[de,me]=(0,o.useState)(K||ue?z.ADD_EDIT:z.LIST),pe=(0,M.useNetworkFormState)(ue),{rpcUrls:fe,setRpcUrls:ge,blockExplorers:he,setBlockExplorers:ke}=pe,[ye,xe]=(0,o.useState)((0,T.sortNetworks)(le,G));(0,o.useEffect)(()=>xe((0,T.sortNetworks)(le,G)),[le,G]);const be=e=>{if(e.destination){const t=[...ye],[o]=t.splice(e.source.index,1);t.splice(e.destination.index,0,o),n((0,h.updateNetworksList)(t.map(e=>e.chainId))),xe(t)}},we=(0,o.useMemo)(()=>k.FEATURED_RPCS.filter(({chainId:e})=>!Z[e]).sort((e,t)=>e.name.localeCompare(t.name)),[Z]),[ve,Ce]=(0,o.useState)(),[Ee,Te]=(0,o.useState)(""),[_e,Ie]=(0,o.useState)(!1),Me=(e,t)=>""===Ee?e:new i.default(e,{threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,shouldSort:!1,keys:["name","chainId","nativeCrrency"]}).search(t),Ne=Me(ye,Ee),Se=Me(we,Ee),Ae=Me(Object.values(ce),Ee),Pe=(0,o.useMemo)(()=>(0,T.sortNetworksByPrioity)(Ae,[(0,u.toEvmCaipChainId)(m.ChainId.sepolia),(0,u.toEvmCaipChainId)(m.ChainId["linea-sepolia"])]),[Ae]),Oe=e=>{const t=Q[e];if(!t)throw new Error(`Network configuration not found for chainId: ${e}`);return t},De=async(e,t)=>{try{const o=(0,T.convertCaipToHexChainId)(e),{defaultRpcEndpoint:a}=(0,T.getRpcDataByChainId)(e,Z),r=t??a.networkClientId;if(q&&U){ae.includes(o)||(await n((0,h.addPermittedChain)(U,e)),n((0,h.showPermittedNetworkToast)())),n((0,h.setNetworkClientIdForDomain)(U,r))}if(n((0,h.setActiveNetwork)(r)),n((0,h.updateCustomNonce)("")),n((0,h.setNextNonce)("")),n((0,h.detectNfts)(re)),Object.keys(L||{}).length<=1)n((0,h.setTokenNetworkFilter)({[o]:!0}));else{const e=Object.keys(Z).reduce((e,t)=>(e[t]=!0,e),{});n((0,h.setTokenNetworkFilter)(e))}n((0,h.setEnabledNetworks)(o))}finally{n((0,h.toggleNetworkMenu)())}},Be=async e=>{const t=Oe(ee),o=Oe(e);o.isEvm?await De(e):await(async e=>{if(R(e))return n((0,h.toggleNetworkMenu)()),n((0,h.setActiveNetwork)(e)),void n((0,h.setEnabledNetworks)(e));Ce(e),me(z.ADD_NON_EVM_ACCOUNT)})(e);const a=o.isEvm?(0,T.convertCaipToHexChainId)(e):e,r=t.isEvm?(0,T.convertCaipToHexChainId)(ee):ee;F({event:E.MetaMetricsEventName.NavNetworkSwitched,category:E.MetaMetricsEventCategory.Network,properties:{location:"Network Menu",chain_id:r,from_network:r,to_network:a}})},je=(0,o.useCallback)(e=>Boolean(null==X?void 0:X[e])&&k.CHAIN_ID_PORTFOLIO_LANDING_PAGE_URL_MAP[e]!==undefined,[X]),Fe=(0,o.useCallback)(e=>e.isEvm&&(0,T.getRpcDataByChainId)(e.chainId,Z).rpcEndpoints.length>1,[Z]),Re=(0,o.useCallback)(e=>e.isEvm||V&&Y||R(e.chainId),[V,Y,R]),Le=(0,o.useCallback)(e=>{const{chainId:t,isEvm:o}=e;if(!o)return{onDiscoverClick:je(t)?()=>{(0,N.openWindow)(k.CHAIN_ID_PORTFOLIO_LANDING_PAGE_URL_MAP[t],"_blank")}:undefined};const a=(0,T.convertCaipToHexChainId)(t);return{onDelete:V&&e.chainId!==ee&&e.chainId!==l.EthScope.Mainnet?()=>{n((0,h.toggleNetworkMenu)()),n((0,h.showModal)({name:"CONFIRM_DELETE_NETWORK",target:a,onConfirm:()=>undefined}))}:undefined,onEdit:()=>{n((0,h.setEditedNetwork)({chainId:a,nickname:e.name})),me(z.ADD_EDIT)},onDiscoverClick:je(a)?()=>{(0,N.openWindow)(k.CHAIN_ID_PORTFOLIO_LANDING_PAGE_URL_MAP[a],"_blank")}:undefined,onRpcConfigEdit:Fe(e)?()=>{me(z.SELECT_RPC),n((0,h.setEditedNetwork)({chainId:a}))}:undefined,onRpcSelect:()=>{me(z.SELECT_RPC),n((0,h.setEditedNetwork)({chainId:a}))}}},[ee,n,Fe,V,je]),$e=e=>{const t=e.chainId===ee,{onDelete:n,onEdit:a,onDiscoverClick:r,onRpcSelect:i}=Le(e),s=(0,T.getNetworkIcon)(e);return o.default.createElement(g.NetworkListItem,{key:e.chainId,chainId:e.chainId,name:e.name,iconSrc:s,iconSize:v.AvatarNetworkSize.Sm,selected:ie&&t&&!_e,focus:ie&&t&&!_e,rpcEndpoint:Fe(e)?(0,T.getRpcDataByChainId)(e.chainId,Z).defaultRpcEndpoint:undefined,onClick:async()=>{ie&&await Be(e.chainId)},onDeleteClick:n,onEditClick:a,onDiscoverClick:r,onRpcEndpointClick:i,disabled:!Re(e),notSelectable:!ie})};let ze,We;return ze=de===z.LIST?t("manageNetworksMenuHeading"):de!==z.ADD_EDIT||ue?de===z.ADD_RPC?t("addRpcUrl"):de===z.ADD_EXPLORER_URL?t("addBlockExplorerUrl"):de===z.SELECT_RPC?t("selectRpcUrl"):de===z.ADD_NON_EVM_ACCOUNT&&ve?t("addNonEvmAccount",[y.MULTICHAIN_NETWORK_TO_ACCOUNT_TYPE_NAME[ve]]):(null==ue?void 0:ue.name)??"":t("addACustomNetwork"),de===z.ADD_EDIT?We=()=>{ue?n((0,h.setEditedNetwork)()):pe.clear(),me(z.LIST)}:de===z.ADD_RPC||de===z.ADD_EXPLORER_URL?We=()=>me(z.ADD_EDIT):de===z.ADD_NON_EVM_ACCOUNT&&(We=()=>me(z.LIST)),J&&(We=e),o.default.createElement(v.Modal,{isOpen:!0,onClose:e},o.default.createElement(v.ModalOverlay,null),o.default.createElement(v.ModalContent,{padding:0,className:"multichain-network-list-menu-content-wrapper",modalDialogProps:{className:"multichain-network-list-menu-content-wrapper__dialog",display:w.Display.Flex,flexDirection:w.FlexDirection.Column,paddingTop:0,paddingBottom:0}},o.default.createElement(v.ModalHeader,{paddingTop:4,paddingRight:4,paddingBottom:de===z.SELECT_RPC?0:4,onClose:e,onBack:We},o.default.createElement(v.Text,{ellipsis:!0,variant:w.TextVariant.headingSm,textAlign:w.TextAlign.Center},ze)),de===z.LIST?o.default.createElement(o.default.Fragment,null,o.default.createElement(v.Box,{className:"multichain-network-list-menu"},o.default.createElement(P.default,{searchQuery:Ee,setSearchQuery:Te,setFocusSearch:Ie}),o.default.createElement(v.Box,null,Ne.length>0&&o.default.createElement(v.Box,{padding:4,display:w.Display.Flex,justifyContent:w.JustifyContent.spaceBetween},o.default.createElement(v.Text,{color:w.TextColor.textAlternative},t("enabledNetworks"))),0===Ne.length&&0===Se.length&&0===Ae.length&&_e?o.default.createElement(v.Text,{paddingLeft:4,paddingRight:4,color:w.TextColor.textMuted,"data-testid":"multichain-network-menu-popover-no-results"},t("noNetworksFound")):o.default.createElement(a.DragDropContext,{onDragEnd:be},o.default.createElement(a.Droppable,{droppableId:"characters"},e=>o.default.createElement(v.Box,$({className:"characters"},e.droppableProps,{ref:e.innerRef}),Ne.map((e,t)=>o.default.createElement(a.Draggable,{key:e.chainId,draggableId:e.chainId,index:t},t=>o.default.createElement(v.Box,$({ref:t.innerRef},t.draggableProps,t.dragHandleProps),$e(e)))),e.placeholder))),o.default.createElement(A.default,{searchAddNetworkResults:Se,"data-testid":"add-popular-network-view"}),Ae.length>0?o.default.createElement(v.Box,{paddingBottom:4,paddingTop:4,paddingLeft:4,display:w.Display.Flex,justifyContent:w.JustifyContent.spaceBetween},o.default.createElement(v.Text,{color:w.TextColor.textAlternative},t("showTestnetNetworks")),o.default.createElement(b.default,{value:W||se,disabled:se,onToggle:e=>{const t=!e;n((0,h.setShowTestNetworks)(t)),F({event:E.MetaMetricsEventName.TestNetworksDisplayed,category:E.MetaMetricsEventCategory.Network,properties:{value:t}})}})):null,W||se?o.default.createElement(v.Box,{className:"multichain-network-list-menu"},Pe.map(e=>$e(e))):null)),o.default.createElement(v.Box,{padding:4},o.default.createElement(v.ButtonSecondary,{size:v.ButtonSecondarySize.Lg,startIconName:v.IconName.Add,startIconProps:{marginRight:2},block:!0,onClick:()=>{F({event:E.MetaMetricsEventName.AddNetworkButtonClick,category:E.MetaMetricsEventCategory.Network}),me(z.ADD_EDIT)}},t("addACustomNetwork")))):de===z.ADD_EDIT?o.default.createElement(I.default,{networkFormState:pe,existingNetwork:ue,trackRpcUpdateFromBanner:oe,onRpcAdd:()=>me(z.ADD_RPC),onBlockExplorerAdd:()=>me(z.ADD_EXPLORER_URL)}):de===z.ADD_RPC?o.default.createElement(O.default,{onAdded:(e,t)=>{var n;null!==(n=fe.rpcEndpoints)&&void 0!==n&&n.every(t=>!s.equal(t.url,e))&&ge({rpcEndpoints:[...fe.rpcEndpoints,{url:e,name:t,type:c.RpcEndpointType.Custom}],defaultRpcEndpointIndex:fe.rpcEndpoints.length}),me(z.ADD_EDIT)}}):de===z.ADD_EXPLORER_URL?o.default.createElement(B.default,{onAdded:e=>{var t;null!==(t=he.blockExplorerUrls)&&void 0!==t&&t.every(t=>t!==e)&&ke({blockExplorerUrls:[...he.blockExplorerUrls,e],defaultBlockExplorerUrlIndex:he.blockExplorerUrls.length}),me(z.ADD_EDIT)}}):de===z.SELECT_RPC&&ue?o.default.createElement(D.SelectRpcUrlModal,{networkConfiguration:Z[ue.chainId],onNetworkChange:De}):de===z.ADD_NON_EVM_ACCOUNT&&ve?o.default.createElement(j.default,{chainId:ve}):null))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-list-menu.tsx"}],[6593,{"../../../../helpers/constants/design-system":6899,"../../../../hooks/useI18nContext":7047,"../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");n.default=({searchQuery:e,setSearchQuery:t,setFocusSearch:n})=>{const o=(0,r.useI18nContext)();return a.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:2,paddingTop:0},a.default.createElement(i.TextFieldSearch,{size:i.TextFieldSearchSize.Lg,width:s.BlockSize.Full,placeholder:o("search"),autoFocus:!0,value:e,onFocus:()=>n(!0),onBlur:()=>n(!1),onChange:e=>t(e.target.value),clearButtonOnClick:()=>t(""),clearButtonProps:{size:i.ButtonIconSize.Sm},inputProps:{"data-testid":"network-redesign-modal-search-input"},borderRadius:s.BorderRadius.MD,"data-testid":"search-list"}))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-list-search/network-list-search.tsx"}],[6594,{"../../../../../app/scripts/lib/util":353,"../../../../../shared/constants/app":5598,"../../../../../shared/constants/network":5617,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/zendesk-url":6911,"../../../../hooks/useI18nContext":7047,"../../../../store/actions":7916,"../../../component-library":6325,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=e("../../../../../shared/constants/app"),c=e("../../../../store/actions"),u=e("../../../../../app/scripts/lib/util"),d=e("../../../../helpers/constants/design-system"),m=e("../../../../../shared/constants/network"),p=(o=e("../../../../helpers/constants/zendesk-url"))&&o.__esModule?o:{default:o};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=({searchAddNetworkResults:e})=>{const t=(0,i.useI18nContext)(),n=(0,u.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP,o=(0,r.useDispatch)(),[f,g]=(0,a.useState)(!1),h=()=>{g(!0)},k=()=>{g(!1)},[y,x]=(0,a.useState)(),b=(0,a.useMemo)(()=>0===Object.keys(e).length?null:a.default.createElement(s.Box,{marginTop:4,marginBottom:4,display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween},a.default.createElement(s.Box,{display:d.Display.InlineFlex},a.default.createElement(s.Text,{color:d.TextColor.textAlternative,variant:d.TextVariant.bodyMd},t("additionalNetworks")),a.default.createElement(s.Box,{onMouseEnter:h,marginTop:1},a.default.createElement(s.Icon,{className:"add-network__warning-icon",name:s.IconName.Info,color:d.IconColor.iconMuted,size:s.IconSize.Sm,marginLeft:2}),a.default.createElement(s.Popover,{referenceElement:y,position:s.PopoverPosition.TopStart,paddingTop:3,paddingBottom:3,offset:[16,12],isOpen:f,flip:!0,backgroundColor:d.BackgroundColor.backgroundSection,onMouseLeave:k,style:{width:"326px"}},a.default.createElement(s.Text,{variant:d.TextVariant.bodyMd}," ",t("popularNetworkAddToolTip")," "),a.default.createElement(s.Box,{key:"learn-more-link"},a.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Auto,externalLink:!0,onClick:()=>{global.platform.openTab({url:p.default.UNKNOWN_NETWORK})}},t("learnMoreUpperCase"))))))),[e,y,f,t]);return a.default.createElement(s.Box,{className:"new-network-list__networks-container"},a.default.createElement(s.Box,{marginTop:n?0:4,marginBottom:1,paddingLeft:4,paddingRight:4,ref:e=>{x(e)}},b,e.map(e=>a.default.createElement(s.Box,{key:e.chainId,display:d.Display.Flex,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.spaceBetween,paddingBottom:4,paddingTop:4,className:"new-network-list__list-of-networks","data-testid":`popular-network-${e.chainId}`,onMouseEnter:k},a.default.createElement(s.Box,{display:d.Display.Flex,alignItems:d.AlignItems.center},a.default.createElement(s.AvatarNetwork,{borderColor:d.BorderColor.backgroundDefault,size:s.AvatarNetworkSize.Sm,src:m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),a.default.createElement(s.Box,{marginLeft:4},a.default.createElement(s.Text,{color:d.TextColor.textDefault,backgroundColor:d.BackgroundColor.transparent,ellipsis:!0},e.name))),a.default.createElement(s.Box,{display:d.Display.Flex,alignItems:d.AlignItems.center,marginLeft:1},a.default.createElement(s.Button,{type:s.ButtonVariant.Link,className:"add-network__add-button",variant:s.ButtonVariant.Link,"data-testid":"test-add-button",onClick:async()=>{o((0,c.toggleNetworkMenu)()),await o((0,c.addNetwork)(e)),await o((0,c.setEnabledNetworks)(e.chainId))}},t("add")))))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/popular-network-list/popular-network-list.tsx"}],[6595,{"../../../../shared/constants/network":5617,"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../../selectors":7886,"../../component-library":6325,"@metamask/network-controller":2227,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stripProtocol=n.stripKeyFromInfuraUrl=n.default=void 0;var o,a=e("@metamask/network-controller"),r=(o=e("react"))&&o.__esModule?o:{default:o},i=e("react-redux"),s=e("../../../../shared/constants/network"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../selectors");function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(null,arguments)}const p=e=>{let t=e;return t.endsWith("/v3/{infuraProjectId}")?t=t.replace("/v3/{infuraProjectId}",""):t.endsWith(`/v3/${s.infuraProjectId}`)&&(t=t.replace(`/v3/${s.infuraProjectId}`,"")),t};n.stripKeyFromInfuraUrl=p;const f=e=>{const t=new URL(e);return`${t.host}${"/"===t.pathname?"":t.pathname}`};n.stripProtocol=f;n.default=({rpcEndpoint:e})=>{const t=(0,u.useI18nContext)(),n=(0,i.useSelector)(d.getIsRpcFailoverEnabled),{url:o,type:s}=e,g=s===a.RpcEndpointType.Infura?"Infura":e.name,h=e=>e?f(p(e)):"",k=g?2:4;return r.default.createElement(l.Box,m({className:"rpc-list-item",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,paddingTop:k,paddingBottom:k},!g&&{borderWidth:2,borderStyle:c.BorderStyle.solid,borderColor:c.BorderColor.transparent}),r.default.createElement(l.Box,null,r.default.createElement(l.Text,{as:"button",padding:0,width:c.BlockSize.Full,color:g?c.TextColor.textDefault:c.TextColor.textAlternative,variant:g?c.TextVariant.bodyMdMedium:c.TextVariant.bodySm,backgroundColor:c.BackgroundColor.transparent,ellipsis:!0,display:c.Display.Flex,alignItems:c.AlignItems.center,gap:1},g||h(o),n&&e.failoverUrls&&e.failoverUrls.length>0?r.default.createElement(l.Tag,{label:t("failover"),display:c.Display.Inline}):null)),g&&r.default.createElement(l.Box,null,r.default.createElement(l.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,ellipsis:!0},h(o))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/rpc-list-item.tsx"}],[6596,{"../../../../../shared/constants/network":5617,"../../../../helpers/constants/design-system":6899,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../component-library":6325,"../rpc-list-item":6595,"@metamask/multichain-network-controller":2207,classnames:3913,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SelectRpcUrlModal=void 0;var o=f(e("react")),a=e("@metamask/multichain-network-controller"),r=f(e("classnames")),i=e("react-redux"),s=e("react-router-dom-v5-compat"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../../shared/constants/network"),d=e("../../../../store/actions"),m=f(e("../rpc-list-item")),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}const g=({networkConfiguration:e,onNetworkChange:t})=>{var n;const f=(0,i.useDispatch)(),g=null===(n=(0,s.useLocation)().state)||void 0===n?void 0:n.chainId,[,h]=(0,i.useSelector)(p.getMultichainNetworkConfigurationsByChainId),k=e??h[g];if(!k)return null;const y=u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[k.chainId];return o.default.createElement(l.Box,null,o.default.createElement(l.Box,{display:c.Display.Flex},o.default.createElement(l.Box,{margin:"auto",paddingTop:1,paddingBottom:8,display:c.Display.Flex,alignItems:c.AlignItems.center},y&&o.default.createElement(l.AvatarNetwork,{src:y,name:k.name,size:l.AvatarNetworkSize.Sm,marginRight:1}),o.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative},k.name))),k.rpcEndpoints.map((e,n)=>o.default.createElement(l.Box,{alignItems:c.AlignItems.center,paddingLeft:4,paddingRight:4,display:c.Display.Flex,key:e.url,onClick:()=>{const o={...k,defaultRpcEndpointIndex:n};f((0,d.updateNetwork)(o)),f((0,d.setEditedNetwork)()),t((0,a.toEvmCaipChainId)(o.chainId),e.networkClientId)},className:(0,r.default)("select-rpc-url__item",{"select-rpc-url__item--selected":n===k.defaultRpcEndpointIndex})},n===k.defaultRpcEndpointIndex&&o.default.createElement(l.Box,{className:"select-rpc-url__item-selected-pill",borderRadius:c.BorderRadius.pill,backgroundColor:c.BackgroundColor.primaryDefault}),o.default.createElement(m.default,{rpcEndpoint:e}))))};n.SelectRpcUrlModal=g;n.default=g}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/select-rpc-url-modal/select-rpc-url-modal.tsx"}],[6597,{"../../../../../pages/settings/networks-tab/networks-form/networks-form":7774,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddNetwork=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-router-dom-v5-compat"),i=e("../../../../../pages/settings/networks-tab/networks-form/networks-form");n.AddNetwork=({networkFormState:e,network:t,isEdit:n=!1})=>{const o=(0,r.useNavigate)();return a.default.createElement(i.NetworksForm,{toggleNetworkMenuAfterSubmit:!1,onComplete:()=>{console.log("onComplete pushing to /?tab=custom-networks"),o("/?tab=custom-networks")},onEdit:()=>{o("/edit")},networkFormState:e,existingNetwork:t,onRpcAdd:()=>{o(n?"/edit-rpc":"/add-rpc")},onBlockExplorerAdd:()=>{o(n?"/edit-explorer-url":"/add-explorer-url")}})}}}},{package:"$root$",file:"ui/components/multichain/network-manager/components/add-network/AddNetwork.tsx"}],[6598,{"./AddNetwork":6597},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("./AddNetwork");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))})}}},{package:"$root$",file:"ui/components/multichain/network-manager/components/add-network/index.ts"}],[6599,{"../../../../../helpers/constants/design-system":6899,"../../../../../helpers/constants/zendesk-url":6911,"../../../../../hooks/useI18nContext":7047,"../../../../component-library":6325,"../../../../component-library/box":6286,"../../../../component-library/icon":6324,"../../../../component-library/text":6385,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdditionalNetworksInfo=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../../../../helpers/constants/design-system"),i=(o=e("../../../../../helpers/constants/zendesk-url"))&&o.__esModule?o:{default:o},s=e("../../../../../hooks/useI18nContext"),l=e("../../../../component-library"),c=e("../../../../component-library/box"),u=e("../../../../component-library/icon"),d=e("../../../../component-library/text");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.AdditionalNetworksInfo=(0,a.memo)(()=>{const e=(0,s.useI18nContext)(),[t,n]=(0,a.useState)(!1),[o,m]=(0,a.useState)(null),p=(0,a.useCallback)(()=>{n(!0)},[]),f=(0,a.useCallback)(()=>{n(!1)},[]),g=(0,a.useCallback)(e=>{m(e)},[]),h=(0,a.useCallback)(()=>{global.platform.openTab({url:i.default.UNKNOWN_NETWORK})},[]);return a.default.createElement(c.Box,{paddingTop:2,paddingRight:4,paddingLeft:4,onMouseLeave:f},a.default.createElement(c.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.spaceBetween},a.default.createElement(c.Box,{display:r.Display.InlineFlex,ref:g},a.default.createElement(d.Text,{color:r.TextColor.textAlternative,variant:r.TextVariant.bodyMdMedium},e("additionalNetworks")),a.default.createElement(c.Box,{marginTop:1},a.default.createElement(u.Icon,{onMouseEnter:p,className:"add-network__warning-icon",name:l.IconName.Info,color:r.IconColor.iconMuted,size:l.IconSize.Sm,marginLeft:2}),a.default.createElement(l.Popover,{referenceElement:o,position:l.PopoverPosition.TopStart,paddingTop:3,paddingBottom:3,offset:[16,12],isOpen:t,flip:!0,backgroundColor:r.BackgroundColor.backgroundSection,onMouseLeave:f,style:{zIndex:1e3,width:"326px"}},a.default.createElement(d.Text,{variant:r.TextVariant.bodyMd},e("popularNetworkAddToolTip")),a.default.createElement(c.Box,{key:"learn-more-link"},a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Auto,externalLink:!0,onClick:h},e("learnMoreUpperCase"))))))))})}}},{package:"$root$",file:"ui/components/multichain/network-manager/components/additional-networks-info/additional-networks-info.tsx"}],[6600,{"./additional-networks-info":6599},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("./additional-networks-info");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))})}}},{package:"$root$",file:"ui/components/multichain/network-manager/components/additional-networks-info/index.ts"}],[6601,{"../../../../../../shared/lib/trace":5718,"../../../../../../shared/modules/network.utils":5745,"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../../selectors":7886,"../../../../../selectors/multichain":7895,"../../../../../store/actions":7916,"../../../../component-library":6325,"../../../network-list-item":6585,"../../hooks/useNetworkChangeHandlers":6606,"../../hooks/useNetworkItemCallbacks":6607,"../../hooks/useNetworkManagerState":6608,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomNetworks=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom-v5-compat"),i=e("../../../../../../shared/lib/trace"),s=e("../../../../../../shared/modules/network.utils"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../hooks/useI18nContext"),u=e("../../../../component-library"),d=e("../../../network-list-item"),m=e("../../hooks/useNetworkChangeHandlers"),p=e("../../hooks/useNetworkItemCallbacks"),f=e("../../hooks/useNetworkManagerState"),g=e("../../../../../selectors/multichain"),h=e("../../../../../selectors"),k=e("../../../../../store/actions");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.CustomNetworks=o.default.memo(()=>{const e=(0,c.useI18nContext)(),t=(0,r.useNavigate)(),n=(0,a.useDispatch)(),y=(0,a.useSelector)(h.getOrderedNetworksList),[,x]=(0,a.useSelector)(h.getMultichainNetworkConfigurationsByChainId),b=(0,a.useSelector)(h.getShowTestNetworks),w=(0,a.useSelector)(h.getEnabledNetworksByNamespace),v=(0,a.useSelector)(h.getIsMultichainAccountsState2Enabled),{nonTestNetworks:C,testNetworks:E}=(0,f.useNetworkManagerState)(),{getItemCallbacks:T,hasMultiRpcOptions:_,isNetworkEnabled:I}=(0,p.useNetworkItemCallbacks)(),{handleNetworkChange:M}=(0,m.useNetworkChangeHandlers)(),N=(0,a.useSelector)(g.getMultichainIsEvm);(0,o.useEffect)(()=>{(0,i.endTrace)({name:i.TraceName.NetworkList})},[]);const{orderedNetworks:S,orderedTestNetworks:A}=(0,o.useMemo)(()=>({orderedNetworks:(0,s.sortNetworks)(C,y),orderedTestNetworks:(0,s.sortNetworks)(E,y)}),[C,E,y]),P=(0,o.useCallback)(async e=>{await M(e),await n((0,k.hideModal)())},[n,M]),O=(0,o.useCallback)(e=>{const t=e.isEvm?(0,s.convertCaipToHexChainId)(e.chainId):e.chainId,n=Boolean(w[t]),{onDelete:a,onEdit:r,onDiscoverClick:i,onRpcSelect:l}=T(e),c=e.isEvm&&_(e)?(0,s.getRpcDataByChainId)(e.chainId,x).defaultRpcEndpoint:undefined;return o.default.createElement(d.NetworkListItem,{key:e.chainId,chainId:e.chainId,name:e.name,iconSrc:(0,s.getNetworkIcon)(e),iconSize:u.AvatarNetworkSize.Md,rpcEndpoint:c,onClick:()=>P(e.chainId),onDeleteClick:a,onEditClick:r,onDiscoverClick:i,selected:n,onRpcEndpointClick:l,disabled:!I(e)})},[w,T,_,x,I,P]),D=(0,o.useMemo)(()=>{const t=S.filter(e=>N?e.isEvm:!e.isEvm);return t.length>0?o.default.createElement(u.Box,{paddingBottom:2},o.default.createElement(u.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textAlternative,paddingLeft:4,paddingRight:4},e("customNetworks")),t.map(e=>O(e))):null},[S,N,O,v,e]),B=(0,o.useMemo)(()=>A.filter(e=>N?e.isEvm:!e.isEvm).map(e=>O(e)),[A,N,O]),j=(0,o.useMemo)(()=>B.length>0?4:0,[B.length]),F=(0,o.useCallback)(()=>{t("/add")},[t]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column},D,!!b&&B.length>0&&o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textAlternative,paddingLeft:4,paddingRight:4},e("testnets")),B)),o.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,paddingLeft:4,paddingRight:4,paddingTop:j},o.default.createElement(u.Button,{variant:u.ButtonVariant.Secondary,size:u.ButtonSize.Lg,startIconProps:{size:u.IconSize.Lg},startIconName:u.IconName.Add,onClick:F},e("addCustomNetwork"))))})}}},{package:"$root$",file:"ui/components/multichain/network-manager/components/custom-networks/custom-networks.tsx"}],[6602,{"./custom-networks":6601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CustomNetworks",{enumerable:!0,get:function(){return o.CustomNetworks}});var o=e("./custom-networks")}}},{package:"$root$",file:"ui/components/multichain/network-manager/components/custom-networks/index.ts"}],[6603,{"../../../../../../shared/constants/network":5617,"../../../../../../shared/modules/network.utils":5745,"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../../selectors":7886,"../../../../../selectors/multichain":7895,"../../../../../selectors/multichain-accounts/account-tree":7890,"../../../../../selectors/multichain/networks":7896,"../../../../../selectors/network-blacklist/network-blacklist":7897,"../../../../../store/actions":7916,"../../../../component-library":6325,"../../../network-list-item":6585,"../../hooks/useAdditionalNetworkHandlers":6605,"../../hooks/useNetworkChangeHandlers":6606,"../../hooks/useNetworkItemCallbacks":6607,"../../hooks/useNetworkManagerState":6608,"../additional-networks-info":6600,"@metamask/keyring-api":2100,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultNetworks=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/keyring-api"),i=e("../../../../../../shared/constants/network"),s=e("../../../../../../shared/modules/network.utils"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../store/actions"),u=e("../../../../component-library"),d=e("../../../network-list-item"),m=e("../../hooks/useAdditionalNetworkHandlers"),p=e("../../hooks/useNetworkChangeHandlers"),f=e("../../hooks/useNetworkItemCallbacks"),g=e("../../hooks/useNetworkManagerState"),h=e("../additional-networks-info"),k=e("../../../../../selectors/multichain"),y=e("../../../../../selectors/multichain/networks"),x=e("../../../../../hooks/useI18nContext"),b=e("../../../../../selectors"),w=e("../../../../../selectors/multichain-accounts/account-tree"),v=e("../../../../../selectors/network-blacklist/network-blacklist");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}(n.DefaultNetworks=(0,o.memo)(()=>{const e=(0,x.useI18nContext)(),t=(0,a.useDispatch)(),n=(0,a.useSelector)(b.getOrderedNetworksList),[,C]=(0,a.useSelector)(b.getMultichainNetworkConfigurationsByChainId),E=(0,a.useSelector)(y.getAllEnabledNetworksForAllNamespaces),{getItemCallbacks:T,hasMultiRpcOptions:_}=(0,f.useNetworkItemCallbacks)(),{handleNetworkChange:I}=(0,p.useNetworkChangeHandlers)(),{handleAdditionalNetworkClick:M}=(0,m.useAdditionalNetworkHandlers)(),N=(0,a.useSelector)(k.getMultichainIsEvm),S=(0,a.useSelector)(b.getIsMultichainAccountsState2Enabled),A=(0,a.useSelector)(e=>(0,w.getInternalAccountBySelectedAccountGroupAndCaip)(e,r.EthScope.Eoa)),P=(0,a.useSelector)(y.getAllEnabledNetworksForAllNamespaces),O=(0,a.useSelector)(b.getSelectedInternalAccount),D=(0,a.useSelector)(e=>(0,w.getInternalAccountBySelectedAccountGroupAndCaip)(e,r.SolScope.Mainnet));let B=null;B=(0,a.useSelector)(e=>(0,w.getInternalAccountBySelectedAccountGroupAndCaip)(e,r.BtcScope.Mainnet));let j=null;j=(0,a.useSelector)(e=>(0,w.getInternalAccountBySelectedAccountGroupAndCaip)(e,r.TrxScope.Mainnet));const F=(0,a.useSelector)(v.selectAdditionalNetworksBlacklistFeatureFlag),R=(0,a.useSelector)(b.getGasFeesSponsoredNetworkEnabled),L=(0,o.useCallback)(e=>!!e&&Boolean(null==R?void 0:R[e]),[R]),{nonTestNetworks:$,isNetworkInDefaultNetworkTab:z}=(0,g.useNetworkManagerState)({showDefaultNetworks:!0}),W=(0,o.useMemo)(()=>(0,s.sortNetworks)($,n),[$,n]),U=(0,o.useMemo)(()=>{const e=i.FEATURED_RPCS.filter(({chainId:e})=>!C[e]);return(0,s.getFilteredFeaturedNetworks)(F,e).sort((e,t)=>e.name.localeCompare(t.name))},[C,F]),V=(0,o.useMemo)(()=>E.length>1,[E]),H=(0,o.useCallback)(e=>!V&&1===E.length&&E[0]===e,[V,E]),G=(0,o.useCallback)(()=>{const e=W.filter(e=>e.isEvm);if(0===e.length)return;const n=e[0].chainId,{defaultRpcEndpoint:o}=(0,s.getRpcDataByChainId)(n,C),a=o.networkClientId;t((0,c.setEnabledAllPopularNetworks)()),t((0,c.hideModal)()),setTimeout(()=>{t((0,c.setActiveNetwork)(a))},0)},[t,C,W]),K=(0,o.useCallback)(async(e,t)=>{t||await I(e)},[I]),J=(0,o.useMemo)(()=>(S?W.filter(e=>!!(A&&e.isEvm||D&&e.chainId===r.SolScope.Mainnet||B&&e.chainId===r.BtcScope.Mainnet||j&&e.chainId===r.TrxScope.Mainnet)):W.filter(e=>N?e.isEvm:O.scopes.includes(r.SolScope.Mainnet)?e.chainId===r.SolScope.Mainnet:O.scopes.includes(r.BtcScope.Mainnet)?e.chainId===r.BtcScope.Mainnet:!!O.scopes.includes(r.TrxScope.Mainnet)&&e.chainId===r.TrxScope.Mainnet)).map(e=>{const n=e.chainId,a=e.isEvm?(0,s.convertCaipToHexChainId)(n):n;if(!z(e))return null;const{onDelete:r,onEdit:i,onDiscoverClick:l,onRpcSelect:m}=T(e),p=(0,s.getNetworkIcon)(e),f=H(a),g=1===P.length&&P[0]===a;return o.default.createElement(d.NetworkListItem,{key:e.chainId,chainId:e.chainId,name:e.name,iconSrc:p,iconSize:u.AvatarNetworkSize.Md,rpcEndpoint:_(e)?(0,s.getRpcDataByChainId)(e.chainId,C).defaultRpcEndpoint:undefined,onClick:async()=>{await K(e.chainId,g),await t((0,c.hideModal)())},onDeleteClick:r,onEditClick:i,onDiscoverClick:l,onRpcEndpointClick:m,selected:f})}),[W,N,z,T,H,_,C,K,B,D,j,S,A,t,O,P]),q=(0,o.useMemo)(()=>U.map(t=>{const n=i.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[t.chainId];return o.default.createElement(u.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexStart,width:l.BlockSize.Full,onClick:()=>M(t),paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,gap:4,"data-testid":"additional-network-item",className:"network-manager__additional-network-item",key:t.chainId},o.default.createElement(u.AvatarNetwork,{name:t.name,size:u.AvatarNetworkSize.Md,src:n,borderRadius:l.BorderRadius.LG}),o.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column},o.default.createElement(u.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textDefault},t.name),L(t.chainId)&&o.default.createElement(u.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},e("noNetworkFee"))),o.default.createElement(u.ButtonIcon,{size:u.ButtonIconSize.Md,color:l.IconColor.iconDefault,iconName:u.IconName.Add,padding:0,marginLeft:"auto",ariaLabel:e("addNetwork")}))}),[U,M,e,L]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column},N||S?o.default.createElement(u.Box,{className:"network-manager__all-popular-networks","data-testid":"network-manager-select-all"},o.default.createElement(d.NetworkListItem,{name:e("allPopularNetworks"),onClick:G,iconSrc:u.IconName.Global,iconSize:u.IconSize.Xl,selected:V})):null,J,(N||S)&&o.default.createElement(o.default.Fragment,null,o.default.createElement(h.AdditionalNetworksInfo,null),q)))})).displayName="DefaultNetworks"}}},{package:"$root$",file:"ui/components/multichain/network-manager/components/default-networks/default-networks.tsx"}],[6604,{"./default-networks":6603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("./default-networks");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))})}}},{package:"$root$",file:"ui/components/multichain/network-manager/components/default-networks/index.ts"}],[6605,{"../../../../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAdditionalNetworkHandlers=void 0;var o=e("react"),a=e("react-redux"),r=e("../../../../store/actions");n.useAdditionalNetworkHandlers=()=>{const e=(0,a.useDispatch)();return{handleAdditionalNetworkClick:(0,o.useCallback)(async t=>{await e((0,r.hideModal)()),await e((0,r.addNetwork)(t))},[e])}}}}},{package:"$root$",file:"ui/components/multichain/network-manager/hooks/useAdditionalNetworkHandlers.ts"}],[6606,{"../../../../../shared/constants/metametrics":5613,"../../../../../shared/modules/network.utils":5745,"../../../../contexts/metametrics":6855,"../../../../selectors":7886,"../../../../store/actions":7916,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkChangeHandlers=n.ACTION_MODE=void 0;var o=e("react"),a=e("react-redux"),r=e("../../../../../shared/constants/metametrics"),i=e("../../../../../shared/modules/network.utils"),s=e("../../../../store/actions"),l=e("../../../../selectors"),c=e("../../../../contexts/metametrics");let u=n.ACTION_MODE=function(e){return e[e.LIST=0]="LIST",e[e.ADD_EDIT=1]="ADD_EDIT",e[e.ADD_RPC=2]="ADD_RPC",e[e.ADD_EXPLORER_URL=3]="ADD_EXPLORER_URL",e[e.SELECT_RPC=4]="SELECT_RPC",e[e.ADD_NON_EVM_ACCOUNT=5]="ADD_NON_EVM_ACCOUNT",e}({});n.useNetworkChangeHandlers=()=>{const e=(0,a.useDispatch)(),t=(0,o.useContext)(c.MetaMetricsContext),[n]=(0,a.useSelector)(l.getMultichainNetworkConfigurationsByChainId),d=(0,a.useSelector)(l.getSelectedMultichainNetworkChainId),m=(0,a.useSelector)(l.getEnabledNetworksByNamespace),p=(0,a.useSelector)(l.getAllChainsToPoll),[,f]=(0,a.useSelector)(l.getMultichainNetworkConfigurationsByChainId),[g,h]=(0,o.useState)(),[k,y]=(0,o.useState)(u.LIST);(0,o.useEffect)(()=>{setTimeout(()=>{e((0,s.updateCustomNonce)("")),e((0,s.setNextNonce)("")),e((0,s.detectNfts)(p))},0)},[m,e,p]);const x=(0,o.useCallback)(t=>{const n=(0,i.convertCaipToHexChainId)(t),{defaultRpcEndpoint:o}=(0,i.getRpcDataByChainId)(t,f),a=o.networkClientId;e((0,s.setEnabledNetworks)(n)),setTimeout(()=>{e((0,s.setActiveNetwork)(a))},0)},[e,f]),b=(0,o.useCallback)(async t=>{e((0,s.setActiveNetwork)(t)),e((0,s.setEnabledNetworks)(t))},[e]),w=(0,o.useCallback)(e=>{const t=n[e];if(!t)throw new Error(`Network configuration not found for chainId: ${e}`);return t},[n]);return{handleNetworkChange:(0,o.useCallback)(async e=>{const n=w(d),o=w(e);o.isEvm?await x(e):await b(e);const a=o.isEvm?(0,i.convertCaipToHexChainId)(e):e,s=n.isEvm?(0,i.convertCaipToHexChainId)(d):d;t({event:r.MetaMetricsEventName.NavNetworkSwitched,category:r.MetaMetricsEventCategory.Network,properties:{location:"Network Menu",chain_id:s,from_network:s,to_network:a}})},[w,d,x,b,t]),handleEvmNetworkChange:x,handleNonEvmNetworkChange:b,getMultichainNetworkConfigurationOrThrow:w,selectedNonEvmNetwork:g,setSelectedNonEvmNetwork:h,actionMode:k,setActionMode:y,ACTION_MODE:u}}}}},{package:"$root$",file:"ui/components/multichain/network-manager/hooks/useNetworkChangeHandlers.ts"}],[6607,{"../../../../../shared/constants/network":5617,"../../../../../shared/modules/network.utils":5745,"../../../../ducks/metamask/metamask":6883,"../../../../helpers/utils/window":6961,"../../../../hooks/accounts/useAccountCreationOnNetworkChange":6962,"../../../../selectors":7886,"../../../../store/actions":7916,"@metamask/keyring-api":2100,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkItemCallbacks=void 0;var o=e("react"),a=e("@metamask/keyring-api"),r=e("react-redux"),i=e("react-router-dom-v5-compat"),s=e("../../../../../shared/constants/network"),l=e("../../../../../shared/modules/network.utils"),c=e("../../../../helpers/utils/window"),u=e("../../../../store/actions"),d=e("../../../../selectors"),m=e("../../../../ducks/metamask/metamask"),p=e("../../../../hooks/accounts/useAccountCreationOnNetworkChange");n.useNetworkItemCallbacks=()=>{const e=(0,r.useDispatch)(),t=(0,i.useNavigate)(),n=(0,r.useSelector)(m.getIsUnlocked),f=(0,r.useSelector)(d.getSelectedMultichainNetworkChainId),g=(0,r.useSelector)(d.getNetworkDiscoverButtonEnabled),[,h]=(0,r.useSelector)(d.getMultichainNetworkConfigurationsByChainId),k=(0,r.useSelector)(m.getCompletedOnboarding),{hasAnyAccountsInNetwork:y}=(0,p.useAccountCreationOnNetworkChange)(),x=(0,o.useCallback)(e=>Boolean((null==g?void 0:g[e])&&s.CHAIN_ID_PORTFOLIO_LANDING_PAGE_URL_MAP[e]!==undefined),[g]),b=(0,o.useCallback)(e=>e.isEvm&&(0,l.getRpcDataByChainId)(e.chainId,h).rpcEndpoints.length>1,[h]),w=(0,o.useCallback)(e=>e.isEvm||k||y(e.chainId),[y,k]);return{getItemCallbacks:(0,o.useCallback)(o=>{const{chainId:r,isEvm:i}=o;if(!i)return{onDiscoverClick:x(r)?()=>{(0,c.openWindow)(s.CHAIN_ID_PORTFOLIO_LANDING_PAGE_URL_MAP[r],"_blank")}:undefined};const d=(0,l.convertCaipToHexChainId)(r),m=n&&o.chainId!==f&&o.chainId!==a.EthScope.Mainnet,p={onConfirm:()=>undefined,onHide:()=>undefined};return{onDelete:m?()=>{e((0,u.showModal)({name:"CONFIRM_DELETE_NETWORK",target:d,...p}))}:undefined,onEdit:()=>{e((0,u.setEditedNetwork)({chainId:d,nickname:o.name})),t("/edit")},onDiscoverClick:x(d)?()=>{(0,c.openWindow)(s.CHAIN_ID_PORTFOLIO_LANDING_PAGE_URL_MAP[d],"_blank")}:undefined,onRpcConfigEdit:b(o)?()=>{t("/add-rpc"),e((0,u.setEditedNetwork)({chainId:d}))}:undefined,onRpcSelect:()=>{e((0,u.setEditedNetwork)({chainId:d})),t("/select-rpc")}}},[f,e,b,n,x,t]),hasMultiRpcOptions:b,isNetworkEnabled:w}}}}},{package:"$root$",file:"ui/components/multichain/network-manager/hooks/useNetworkItemCallbacks.ts"}],[6608,{"../../../../../shared/constants/multichain/networks":5616,"../../../../../shared/constants/network":5617,"../../../../../shared/modules/network.utils":5745,"../../../../selectors":7886,"@metamask/controller-utils":1383,"@metamask/multichain-network-controller":2207,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkManagerState=n.useNetworkManagerInitialTab=void 0;var o=e("@metamask/controller-utils"),a=e("@metamask/multichain-network-controller"),r=e("@metamask/utils"),i=e("react"),s=e("react-redux"),l=e("../../../../../shared/modules/network.utils"),c=e("../../../../../shared/constants/multichain/networks"),u=e("../../../../../shared/constants/network"),d=e("../../../../selectors");n.useNetworkManagerState=({showDefaultNetworks:e=!1}={})=>{const[t]=(0,s.useSelector)(d.getMultichainNetworkConfigurationsByChainId),[n,r]=(0,i.useMemo)(()=>Object.entries(t).reduce(([t,n],[r,i])=>{let s=r,d=!1;if(i.isEvm?(s=(0,l.convertCaipToHexChainId)(i.chainId),d=u.TEST_CHAINS.includes(s)):d=a.NON_EVM_TESTNET_IDS.includes(i.chainId),e)return(d?n:t)[s]=i,[t,n];const m=i.isEvm?(0,l.convertCaipToHexChainId)(i.chainId):i.chainId,p=Object.values(o.BUILT_IN_NETWORKS).some(e=>e.chainId===m),f=u.FEATURED_RPCS.some(e=>e.chainId===m),g=Object.values(c.MultichainNetworks).some(e=>e===i.chainId||(i.isEvm?(0,l.convertCaipToHexChainId)(i.chainId):i.chainId)===e);return(!p&&!f&&!g||d)&&((d?n:t)[s]=i),[t,n]},[{},{}]),[t,e]);return{nonTestNetworks:n,testNetworks:r,isNetworkInDefaultNetworkTab:(0,i.useCallback)(e=>!e.isEvm||u.FEATURED_NETWORK_CHAIN_IDS.includes((0,l.convertCaipToHexChainId)(e.chainId)),[])}};n.useNetworkManagerInitialTab=()=>{const e=(0,s.useSelector)(d.getAllEnabledNetworksForAllNamespaces);return{initialTab:(0,i.useMemo)(()=>((e,t)=>{const n=new Set(t);return e.every(e=>n.has(e))})(e.map(e=>(0,r.isStrictHexString)(e)?(0,a.toEvmCaipChainId)(e):e),u.FEATURED_NETWORK_CHAIN_IDS_MULTICHAIN.map(e=>(0,r.isStrictHexString)(e)?(0,a.toEvmCaipChainId)(e):e))?"networks":"custom-networks",[e])}}}}},{package:"$root$",file:"ui/components/multichain/network-manager/hooks/useNetworkManagerState.ts"}],[6609,{"./network-manager":6610},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkManager",{enumerable:!0,get:function(){return o.NetworkManager}});var o=e("./network-manager")}}},{package:"$root$",file:"ui/components/multichain/network-manager/index.ts"}],[6610,{"../../../helpers/constants/routes":6904,"../../../hooks/useI18nContext":7047,"../../../pages/settings/networks-tab/networks-form/networks-form-state":7773,"../../../selectors":7886,"../../../store/actions":7916,"../../component-library":6325,"../network-list-menu/add-block-explorer-modal/add-block-explorer-modal":6587,"../network-list-menu/add-rpc-url-modal/add-rpc-url-modal":6589,"../network-list-menu/select-rpc-url-modal/select-rpc-url-modal":6596,"./components/add-network":6598,"./hooks/useNetworkManagerState":6608,"./network-tabs":6611,"@metamask/network-controller":2227,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043,"uri-js":5528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkManager=void 0;var o=e("@metamask/network-controller"),a=v(e("react")),r=e("react-redux"),i=e("react-router-dom-v5-compat"),s=v(e("uri-js")),l=e("../../../hooks/useI18nContext"),c=e("../../../pages/settings/networks-tab/networks-form/networks-form-state"),u=e("../../../selectors"),d=e("../../../store/actions"),m=e("../../component-library"),p=b(e("../network-list-menu/add-block-explorer-modal/add-block-explorer-modal")),f=b(e("../network-list-menu/add-rpc-url-modal/add-rpc-url-modal")),g=e("../network-list-menu/select-rpc-url-modal/select-rpc-url-modal"),h=e("../../../helpers/constants/routes"),k=e("./components/add-network"),y=e("./network-tabs"),x=e("./hooks/useNetworkManagerState");function b(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}n.NetworkManager=()=>{const e=(0,r.useDispatch)(),t=(0,l.useI18nContext)(),n=(0,i.useNavigate)(),b=(0,i.useLocation)(),{initialTab:w}=(0,x.useNetworkManagerInitialTab)(),v=()=>{n("/add")},[,C]=(0,r.useSelector)(u.getMultichainNetworkConfigurationsByChainId),{chainId:E,editCompleted:T}=(0,r.useSelector)(u.getEditedNetwork)??{},_=(0,a.useMemo)(()=>{var e;return"/add"===b.pathname?undefined:"/select-rpc"===b.pathname?E?C[E]:undefined:!E||T?undefined:null===(e=Object.entries(C).find(([e])=>e===E))||void 0===e?void 0:e[1]},[E,T,C,b.pathname]),I=(0,c.useNetworkFormState)(_),M=(0,a.useCallback)((e,t)=>{var a;null!==(a=I.rpcUrls.rpcEndpoints)&&void 0!==a&&a.every(t=>!s.equal(t.url,e))&&(I.setRpcUrls({rpcEndpoints:[...I.rpcUrls.rpcEndpoints,{url:e,name:t,type:o.RpcEndpointType.Custom}],defaultRpcEndpointIndex:I.rpcUrls.rpcEndpoints.length}),"/edit-rpc"===b.pathname?n("/edit"):n("/add"))},[n,I,b.pathname]),N=(0,a.useCallback)(e=>t=>{var o;null!==(o=I.blockExplorers.blockExplorerUrls)&&void 0!==o&&o.every(e=>e!==t)&&(I.setBlockExplorers({blockExplorerUrls:[...I.blockExplorers.blockExplorerUrls,t],defaultBlockExplorerUrlIndex:I.blockExplorers.blockExplorerUrls.length}),"/edit-explorer-url"===b.pathname?n("/edit"):n("/add"),null==e||e())},[I,n,b.pathname]),S=()=>{e((0,d.hideModal)()),e((0,d.setEditedNetwork)()),n(h.DEFAULT_ROUTE)},A=()=>{n(h.DEFAULT_ROUTE)},P=(0,a.useCallback)(()=>{n("/edit")},[n]),O=(0,a.useCallback)(()=>{n("/add")},[n]);return a.default.createElement(m.Modal,{isOpen:!0,onClose:S,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0},a.default.createElement(m.ModalContent,{size:m.ModalContentSize.Md},a.default.createElement(i.Routes,null,a.default.createElement(i.Route,{path:"/add",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(m.ModalHeader,{onClose:S,onBack:A,closeButtonProps:{"data-testid":"modal-header-close-button"}},t("addNetwork")),a.default.createElement(k.AddNetwork,{networkFormState:I,network:_}))}),a.default.createElement(i.Route,{path:"/add-rpc",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(m.ModalHeader,{onClose:S,onBack:v,closeButtonProps:{"data-testid":"modal-header-close-button"}},t("addRpcUrl")),a.default.createElement(f.default,{onAdded:M}))}),a.default.createElement(i.Route,{path:"/edit-rpc",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(m.ModalHeader,{onClose:S,onBack:P,closeButtonProps:{"data-testid":"modal-header-close-button"}},t("addRpcUrl")),a.default.createElement(f.default,{onAdded:M}))}),a.default.createElement(i.Route,{path:"/add-explorer-url",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(m.ModalHeader,{onClose:S,onBack:v,closeButtonProps:{"data-testid":"modal-header-close-button"}},t("addBlockExplorerUrl")),a.default.createElement(p.default,{onAdded:N(O)}))}),a.default.createElement(i.Route,{path:"/edit-explorer-url",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(m.ModalHeader,{onClose:S,onBack:v,closeButtonProps:{"data-testid":"modal-header-close-button"}},t("addBlockExplorerUrl")),a.default.createElement(p.default,{onAdded:N(P)}))}),a.default.createElement(i.Route,{path:"/edit",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(m.ModalHeader,{onClose:S,onBack:A,closeButtonProps:{"data-testid":"modal-header-close-button"}},t("editNetwork")),a.default.createElement(k.AddNetwork,{networkFormState:I,network:_,isEdit:!0}))}),a.default.createElement(i.Route,{path:"/select-rpc",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(m.ModalHeader,{onClose:S,onBack:A,closeButtonProps:{"data-testid":"modal-header-close-button"}},t("selectRpcUrl")),a.default.createElement(g.SelectRpcUrlModal,{networkConfiguration:_,onNetworkChange:S}))}),a.default.createElement(i.Route,{path:"/",element:a.default.createElement(y.NetworkTabs,{initialTab:w})}))))}}}},{package:"$root$",file:"ui/components/multichain/network-manager/network-manager.tsx"}],[6611,{"../../../../shared/lib/translate":5723,"../../../store/actions":7916,"../../component-library":6325,"../../ui/tabs":6823,"./components/custom-networks":6602,"./components/default-networks":6604,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkTabs=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../store/actions"),i=e("../../component-library"),s=e("../../ui/tabs"),l=e("../../../../shared/lib/translate"),c=e("./components/custom-networks"),u=e("./components/default-networks");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.NetworkTabs=({initialTab:e})=>{const t=(0,a.useDispatch)(),n=(0,o.useCallback)(()=>{t((0,r.hideModal)())},[t]);return o.default.createElement(i.Box,null,o.default.createElement(i.ModalHeader,{onClose:n,closeButtonProps:{"data-testid":"modal-header-close-button"}},(0,l.t)("bridgeSelectNetwork")??"Select network"),o.default.createElement(i.ModalBody,{style:{padding:0}},o.default.createElement(s.Tabs,{style:{padding:0},defaultActiveTabKey:e,onTabClick:()=>{},tabListProps:{className:"network-manager__tab-list px-4"},tabContentProps:{className:"network-manager__tab-content"}},o.default.createElement(s.Tab,{tabKey:"networks",name:(0,l.t)("networkTabPopular")??"Popular",className:"flex-1"},o.default.createElement(u.DefaultNetworks,null)),o.default.createElement(s.Tab,{tabKey:"custom-networks",name:(0,l.t)("networkTabCustom")??"Custom",className:"flex-1"},o.default.createElement(c.CustomNetworks,null)))))}}}},{package:"$root$",file:"ui/components/multichain/network-manager/network-tabs.tsx"}],[6612,{"./nft-item":6613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NftItem",{enumerable:!0,get:function(){return o.NftItem}});var o=e("./nft-item")}}},{package:"$root$",file:"ui/components/multichain/nft-item/index.ts"}],[6613,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/app":5598,"../../../helpers/constants/design-system":6899,"../../../selectors":7886,"../../app/assets/nfts/nft-default-image/nft-default-image":5822,"../../component-library":6325,"../../ui/tooltip/tooltip":6836,classnames:3913,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NftItem=void 0;var o=p(e("react")),a=p(e("classnames")),r=e("react-redux"),i=p(e("../../app/assets/nfts/nft-default-image/nft-default-image")),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../selectors"),u=p(e("../../ui/tooltip/tooltip")),d=e("../../../../shared/constants/app"),m=e("../../../../app/scripts/lib/util");function p(e){return e&&e.__esModule?e:{default:e}}n.NftItem=({nft:e,alt:t,src:n,networkName:p,networkSrc:f,onClick:g,detailView:h,clickable:k,privacyMode:y,isIpfsURL:x,name:b})=>{var w,v,C,E;const T=(0,r.useSelector)(c.getTestNetworkBackgroundColor),_=(0,r.useSelector)(c.getIpfsGateway),I=(0,r.useSelector)(c.getOpenSeaEnabled),M=_&&x&&n||I&&n&&!x?o.default.createElement(s.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,style:{position:"relative"}},o.default.createElement(s.Box,{className:h?"nft-item__item nft-item__item-detail":"nft-item__item nft-item__item-image"+(y?"--hidden":""),"data-testid":"nft-image",as:"img",src:n,alt:t,display:l.Display.Block,justifyContent:l.JustifyContent.center}),y&&o.default.createElement(s.Icon,{style:{position:"absolute"},name:s.IconName.EyeSlash,color:l.IconColor.iconAlternative})):o.default.createElement(i.default,{className:"nft-item__default-image","data-testid":"nft-default-image",clickable:k&&x}),N=(0,m.getEnvironmentType)()===d.ENVIRONMENT_TYPE_FULLSCREEN?40:20,S=(null==e?void 0:e.name)&&e.name.length>N,A=(null==e||null===(w=e.collection)||void 0===w?void 0:w.name)&&"string"==typeof(null==e||null===(v=e.collection)||void 0===v?void 0:v.name)&&e.collection.name.length>N;return o.default.createElement(s.Box,{className:"nft-item__card"},o.default.createElement(s.Box,{className:"nft-item__container","data-testid":"nft-item",as:"button",onClick:g},o.default.createElement(s.BadgeWrapper,{className:(0,a.default)("nft-item__badge-wrapper",{"nft-item__badge-wrapper__clickable":Boolean(k)}),anchorElementShape:s.BadgeWrapperAnchorElementShape.circular,positionObj:{bottom:4,right:4},display:l.Display.Block,badge:o.default.createElement(s.AvatarNetwork,{className:"nft-item__network-badge",backgroundColor:T,"data-testid":"nft-network-badge",size:s.AvatarNetworkSize.Xs,name:p,src:f,borderWidth:2,borderColor:l.BackgroundColor.backgroundDefault})},M)),e&&o.default.createElement(u.default,{position:"bottom",html:o.default.createElement(o.default.Fragment,null,o.default.createElement("span",null,null==e?void 0:e.name),o.default.createElement("br",null),o.default.createElement("span",null,(null==e||null===(C=e.collection)||void 0===C?void 0:C.name)||b)),disabled:!S&&!A},o.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textDefault,ellipsis:!0},null==e?void 0:e.name),o.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,ellipsis:!0},(null==e||null===(E=e.collection)||void 0===E?void 0:E.name)||b)))}}}},{package:"$root$",file:"ui/components/multichain/nft-item/nft-item.tsx"}],[6614,{"./notification-detail-address":6615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailAddress",{enumerable:!0,get:function(){return o.NotificationDetailAddress}});var o=e("./notification-detail-address")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-address/index.ts"}],[6615,{"../../../../shared/modules/hexstring-utils":5741,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../app/preferred-avatar":6033,"../../component-library":6325,"../notification-detail":6634,"../notification-detail-copy-button":6624,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailAddress=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../notification-detail"),i=e("../notification-detail-copy-button"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/utils/util"),u=e("../../app/preferred-avatar"),d=e("../../../../shared/modules/hexstring-utils");const m=({side:e})=>a.default.createElement(s.Text,{variant:l.TextVariant.bodyLgMedium,fontWeight:l.FontWeight.Medium},e);n.NotificationDetailAddress=({side:e,address:t})=>{const n=(0,d.toChecksumHexAddress)(t),o=(0,c.shortenAddress)(n);return a.default.createElement(r.NotificationDetail,{icon:a.default.createElement(u.PreferredAvatar,{address:t}),primaryTextLeft:a.default.createElement(m,{side:e}),secondaryTextLeft:a.default.createElement(i.NotificationDetailCopyButton,{text:t,displayText:o})})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-address/notification-detail-address.tsx"}],[6616,{"./notification-detail-asset":6617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailAsset",{enumerable:!0,get:function(){return o.NotificationDetailAsset}});var o=e("./notification-detail-asset")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-asset/index.ts"}],[6617,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,"../notification-detail":6634,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailAsset=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../notification-detail"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");const l=(e,t,n,o)=>a.default.createElement(i.Text,{variant:e,fontWeight:t,color:n},o);n.NotificationDetailAsset=({icon:e,label:t,detail:n,fiatValue:o,value:c})=>{var u;const d=a.default.createElement(i.AvatarToken,{src:null===(u=e.badge)||void 0===u?void 0:u.src,size:i.AvatarTokenSize.Sm,backgroundColor:s.BackgroundColor.infoDefault,borderColor:s.BorderColor.backgroundDefault,borderWidth:2}),m=e.badge?a.default.createElement(i.BadgeWrapper,{position:e.badge.position||i.BadgeWrapperPosition.topRight,badge:d},a.default.createElement(i.AvatarToken,{src:e.src,borderColor:s.BorderColor.borderMuted,className:"notification-detail-asset__icon"})):a.default.createElement(i.AvatarToken,{src:e.src,borderColor:s.BorderColor.borderMuted,className:"notification-detail-asset__icon"}),p=l(s.TextVariant.bodyLgMedium,s.FontWeight.Medium,s.TextColor.textDefault,t),f=l(s.TextVariant.bodyMd,s.FontWeight.Normal,s.TextColor.textAlternative,n),g=c?l(s.TextVariant.bodyLgMedium,s.FontWeight.Medium,s.TextColor.textDefault,c):undefined,h=o?l(s.TextVariant.bodyMd,s.FontWeight.Normal,s.TextColor.textAlternative,o):undefined;return a.default.createElement(r.NotificationDetail,{icon:m,primaryTextLeft:p,secondaryTextLeft:f,primaryTextRight:g,secondaryTextRight:h})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-asset/notification-detail-asset.tsx"}],[6618,{"./notification-detail-block-explorer-button":6619},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailBlockExplorerButton",{enumerable:!0,get:function(){return o.NotificationDetailBlockExplorerButton}});var o=e("./notification-detail-block-explorer-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-block-explorer-button/index.ts"}],[6619,{"../../../../shared/constants/metametrics":5613,"../../../../shared/modules/selectors/networks":5753,"../../../contexts/metametrics":6855,"../../../helpers/utils/notification.util":6944,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../notification-detail-button":6620,"@metamask/controller-utils":1383,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailBlockExplorerButton=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/controller-utils"),i=e("../../../../shared/modules/selectors/networks"),s=e("../../component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/utils/notification.util"),u=e("../notification-detail-button"),d=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.NotificationDetailBlockExplorerButton=({notification:e,chainId:t,txHash:n})=>{var p;const f=(0,l.useI18nContext)(),g=(0,o.useContext)(d.MetaMetricsContext),h=(0,r.toHex)(t),{blockExplorerConfig:k}=(0,c.getNetworkDetailsByChainId)(t),y=(0,a.useSelector)(i.getNetworkConfigurationsByChainId)[h],x=null==y||null===(p=y.blockExplorerUrls)||void 0===p?void 0:p[y.defaultBlockExplorerUrlIndex??-1],b=x??(null==k?void 0:k.url),w=(0,o.useMemo)(()=>x?f("notificationItemCheckBlockExplorer"):null!=k&&k.name?f("notificationTransactionSuccessView",[k.name]):f("notificationItemCheckBlockExplorer"),[null==k?void 0:k.name,x,f]),v=(0,o.useCallback)(()=>{g({category:m.MetaMetricsEventCategory.NotificationInteraction,event:m.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,chain_id:t,clicked_item:"block_explorer"}})},[t,e.id,e.type,g]);return b?o.default.createElement(u.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,text:w,href:`${b}/tx/${n}`,isExternal:!0,onClick:v}):null}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-block-explorer-button/notification-detail-block-explorer-button.tsx"}],[6620,{"./notification-detail-button":6621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailButton",{enumerable:!0,get:function(){return o.NotificationDetailButton}});var o=e("./notification-detail-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-button/index.ts"}],[6621,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailButton=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system");n.NotificationDetailButton=({variant:e=r.ButtonVariant.Secondary,text:t,href:n,isExternal:o=!1,onClick:s})=>a.default.createElement(a.default.Fragment,null,a.default.createElement(r.Button,{href:n,externalLink:Boolean(n)&&o,variant:e,size:r.ButtonSize.Lg,width:i.BlockSize.Full,endIconName:o?r.IconName.Arrow2UpRight:undefined,onClick:s},t))}}},{package:"$root$",file:"ui/components/multichain/notification-detail-button/notification-detail-button.tsx"}],[6622,{"./notification-detail-collection":6623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailCollection",{enumerable:!0,get:function(){return o.NotificationDetailCollection}});var o=e("./notification-detail-collection")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-collection/index.ts"}],[6623,{"../../../helpers/constants/design-system":6899,"../../../helpers/utils/notification.util":6944,"../../../selectors":7886,"../../app/assets/nfts/nft-default-image/nft-default-image":5822,"../../component-library":6325,"../notification-detail":6634,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailCollection=void 0;var o=d(e("react")),a=e("react-redux"),r=e("../../../selectors"),i=d(e("../../app/assets/nfts/nft-default-image/nft-default-image")),s=e("../../../helpers/utils/notification.util"),l=e("../notification-detail"),c=e("../../component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}n.NotificationDetailCollection=({icon:e,label:t,collection:n})=>{const{badgeSrc:d,src:m}=e,p=(0,a.useSelector)(r.getIpfsGateway),f=(0,a.useSelector)(r.getOpenSeaEnabled),g=p&&(0,s.isIpfsURL)(m)&&m,h=f&&m&&!(0,s.isIpfsURL)(m),k=o.default.createElement(c.AvatarToken,{src:d,backgroundColor:u.BackgroundColor.infoDefault,borderColor:u.BorderColor.backgroundDefault,borderWidth:2,size:c.AvatarTokenSize.Sm}),y=o.default.createElement(c.BadgeWrapper,{position:c.BadgeWrapperPosition.topRight,badge:k},g||h?o.default.createElement(c.Box,{as:"img",src:m,display:u.Display.Block,justifyContent:u.JustifyContent.center,backgroundColor:u.BackgroundColor.primaryMuted,borderRadius:u.BorderRadius.LG,className:"notification-detail-collection__image"}):o.default.createElement(i.default,{className:"nft-item__default-image notification-detail-collection__image","data-testid":"nft-default-image",clickable:!1})),x=(e,t,n,a)=>o.default.createElement(c.Text,{variant:e,fontWeight:t,color:n},a),b=x(u.TextVariant.bodyLgMedium,u.FontWeight.Medium,u.TextColor.textDefault,t),w=x(u.TextVariant.bodyMd,u.FontWeight.Normal,u.TextColor.textAlternative,n);return o.default.createElement(l.NotificationDetail,{icon:y,primaryTextLeft:b,secondaryTextLeft:w})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-collection/notification-detail-collection.tsx"}],[6624,{"./notification-detail-copy-button":6625},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailCopyButton",{enumerable:!0,get:function(){return o.NotificationDetailCopyButton}});var o=e("./notification-detail-copy-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-copy-button/index.ts"}],[6625,{"../../../../shared/constants/metametrics":5613,"../../../../shared/constants/time":5635,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../hooks/useCopyToClipboard":7033,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../../ui/tooltip/tooltip":6836,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailCopyButton=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../../contexts/metametrics"),i=e("../../../../shared/constants/metametrics"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useCopyToClipboard"),u=(o=e("../../ui/tooltip/tooltip"))&&o.__esModule?o:{default:o},d=e("../../../hooks/useI18nContext"),m=e("../../../../shared/constants/time");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.NotificationDetailCopyButton=({notification:e,text:t,displayText:n,color:o=l.TextColor.textAlternative})=>{const[p,f]=(0,c.useCopyToClipboard)(m.MINUTE),g=(0,d.useI18nContext)(),h=(0,a.useContext)(r.MetaMetricsContext),k=g(p?"copiedExclamation":"copyToClipboard");return a.default.createElement(u.default,{position:"bottom",title:k},a.default.createElement(s.ButtonBase,{backgroundColor:l.BackgroundColor.transparent,onClick:()=>{if("function"==typeof f&&f(t),e){const t=()=>{var t;return"notification_type"in e&&"on-chain"===e.notification_type&&null!==(t=e.payload)&&void 0!==t&&t.chain_id?{chain_id:e.payload.chain_id}:undefined};h({category:i.MetaMetricsEventCategory.NotificationInteraction,event:i.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,...t(),clicked_item:"tx_id"}})}},paddingRight:0,paddingLeft:0,variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Normal,color:o,endIconName:p?s.IconName.CopySuccess:s.IconName.Copy,alignItems:l.AlignItems.center,"data-testid":"address-copy-button-text",size:s.ButtonBaseSize.Sm},a.default.createElement(s.Box,{display:l.Display.Flex},n)))}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-copy-button/notification-detail-copy-button.tsx"}],[6626,{"./notification-detail-info":6627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailInfo",{enumerable:!0,get:function(){return o.NotificationDetailInfo}});var o=e("./notification-detail-info")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-info/index.ts"}],[6627,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,"../notification-detail":6634,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailInfo=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../notification-detail"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");n.NotificationDetailInfo=({icon:e,label:t,detail:n,action:o})=>a.default.createElement(r.NotificationDetail,{icon:a.default.createElement(i.AvatarIcon,e),primaryTextLeft:a.default.createElement(i.Text,{variant:s.TextVariant.bodyLgMedium,fontWeight:s.FontWeight.Medium,color:s.TextColor.textDefault},t),secondaryTextLeft:a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Normal,color:s.TextColor.textAlternative},n),secondaryTextRight:o})}}},{package:"$root$",file:"ui/components/multichain/notification-detail-info/notification-detail-info.tsx"}],[6628,{"./notification-detail-network-fee":6629},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailNetworkFee",{enumerable:!0,get:function(){return o.NotificationDetailNetworkFee}});var o=e("./notification-detail-network-fee")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-network-fee/index.ts"}],[6629,{"../../../../shared/constants/metametrics":5613,"../../../contexts/metametrics":6855,"../../../helpers/constants/design-system":6899,"../../../helpers/utils/notification.util":6944,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../../ui/icon/preloader/preloader-icon.component":6768,"../notification-detail":6634,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailNetworkFee=void 0;var o;(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}o.default=e,n&&n.set(e,o)})(e("react")),e("../../../hooks/useI18nContext"),e("../../../contexts/metametrics"),e("../../../helpers/utils/notification.util"),e("../../../../shared/constants/metametrics"),e("../notification-detail"),e("../../component-library"),e("../../../helpers/constants/design-system"),(o=e("../../ui/icon/preloader/preloader-icon.component"))&&o.__esModule;function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}n.NotificationDetailNetworkFee=e=>null}}},{package:"$root$",file:"ui/components/multichain/notification-detail-network-fee/notification-detail-network-fee.tsx"}],[6630,{"./notification-detail-nft":6631},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailNft",{enumerable:!0,get:function(){return o.NotificationDetailNft}});var o=e("./notification-detail-nft")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-nft/index.ts"}],[6631,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,"../nft-item":6612,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailNft=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../nft-item"),s=e("../../../helpers/constants/design-system");n.NotificationDetailNft=({networkSrc:e,tokenId:t,tokenName:n,tokenSrc:o,networkName:l})=>a.default.createElement(r.Box,{paddingTop:1,paddingBottom:4,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(r.Box,{className:"notification-detail-nft__image"},a.default.createElement(i.NftItem,{networkSrc:e,src:o,name:n,alt:n,networkName:l,tokenId:t})))}}},{package:"$root$",file:"ui/components/multichain/notification-detail-nft/notification-detail-nft.tsx"}],[6632,{"./notification-detail-title":6633},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailTitle",{enumerable:!0,get:function(){return o.NotificationDetailTitle}});var o=e("./notification-detail-title")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-title/index.ts"}],[6633,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailTitle=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../helpers/constants/design-system"),i=e("../../component-library");n.NotificationDetailTitle=({title:e,date:t})=>a.default.createElement(i.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,width:r.BlockSize.Full,flexDirection:r.FlexDirection.Column,paddingInlineStart:8,paddingInlineEnd:8},a.default.createElement(i.Text,{variant:r.TextVariant.headingSm,textAlign:r.TextAlign.Center,overflowWrap:r.OverflowWrap.BreakWord},e),a.default.createElement(i.Text,{variant:r.TextVariant.bodyXs},t))}}},{package:"$root$",file:"ui/components/multichain/notification-detail-title/notification-detail-title.tsx"}],[6634,{"./notification-detail":6635},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetail",{enumerable:!0,get:function(){return o.NotificationDetail}});var o=e("./notification-detail")}}},{package:"$root$",file:"ui/components/multichain/notification-detail/index.ts"}],[6635,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetail=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system");n.NotificationDetail=({icon:e,primaryTextLeft:t,primaryTextRight:n,secondaryTextLeft:o,secondaryTextRight:s})=>a.default.createElement(r.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full,paddingBottom:2,paddingRight:4,paddingLeft:4,paddingTop:2,backgroundColor:i.BackgroundColor.transparent},a.default.createElement(r.Box,{display:i.Display.Flex,gap:4,paddingRight:4,height:i.BlockSize.Full,alignItems:i.AlignItems.flexStart},a.default.createElement(r.Box,{height:i.BlockSize.Full,className:"notification-detail__icon"},e),a.default.createElement(r.Box,{display:i.Display.Block,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,textAlign:i.TextAlign.Left},t,o)),a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexEnd,textAlign:i.TextAlign.Right,className:"notification-detail__right-container"},n??null,s??null))}}},{package:"$root$",file:"ui/components/multichain/notification-detail/notification-detail.tsx"}],[6636,{"./notification-list-item-icon":6637},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItemIcon",{enumerable:!0,get:function(){return o.NotificationListItemIcon}});var o=e("./notification-list-item-icon")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-icon/index.js"}],[6637,{"../../../helpers/constants/design-system":6899,"../../../helpers/utils/notification.util":6944,"../../../selectors":7886,"../../app/assets/nfts/nft-default-image/nft-default-image":5822,"../../component-library":6325,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationListItemIconType=n.NotificationListItemIcon=void 0;var o=u(e("react")),a=e("react-redux"),r=e("../../../selectors"),i=u(e("../../app/assets/nfts/nft-default-image/nft-default-image")),s=e("../../../helpers/utils/notification.util"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}let d=n.NotificationListItemIconType=function(e){return e.Token="token",e.Nft="nft",e}({});const m=({src:e})=>{const{ipfsImageIsRenderable:t,openseaImageIsRenderable:n,isIpfs:u}=(e=>{const t=(0,a.useSelector)(r.getIpfsGateway),n=(0,a.useSelector)(r.getOpenSeaEnabled),o=(0,s.isIpfsURL)(e);return{ipfsImageIsRenderable:t&&o&&e,openseaImageIsRenderable:n&&e&&!o,isIpfs:o}})(e);return t||n?o.default.createElement(l.Box,{"data-testid":"nft-image",as:"img",src:e,display:c.Display.Block,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.primaryMuted,borderRadius:c.BorderRadius.SM,className:"notification-list-item-icon__image"}):o.default.createElement(i.default,{className:"nft-item__default-image notification-list-item-icon__image","data-testid":"nft-default-image",clickable:u})},p={[d.Token]:({src:e})=>o.default.createElement(l.AvatarToken,{"data-testid":"avatar-token",src:e,padding:1,backgroundColor:c.BackgroundColor.transparent,borderStyle:c.BorderStyle.none,size:l.AvatarTokenSize.Md}),[d.Nft]:({src:e})=>o.default.createElement(m,{src:e}),default:()=>o.default.createElement(l.Box,{"data-testid":"default-icon",as:"img",display:c.Display.Block,borderRadius:c.BorderRadius.SM,backgroundColor:c.BackgroundColor.backgroundDefault,className:"notification-list-item-icon__image"})};n.NotificationListItemIcon=({type:e,value:t,badge:n})=>{const a=p[e]||p.default,r=o.default.createElement(a,{src:t});return o.default.createElement(o.default.Fragment,null,n?((e,t)=>o.default.createElement(l.BadgeWrapper,{"data-testid":"badge-wrapper",position:e.position||l.BadgeWrapperPosition.bottomRight,badge:o.default.createElement(l.AvatarIcon,{iconName:e.icon,size:l.AvatarIconSize.Sm,backgroundColor:c.BackgroundColor.infoDefault,borderColor:c.BorderColor.backgroundDefault,borderWidth:2,iconProps:{name:e.icon,color:c.IconColor.infoInverse,size:l.IconSize.Xs}})},t))(n,r):o.default.createElement(l.Box,{borderRadius:c.BorderRadius.XL},r))}}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-icon/notification-list-item-icon.tsx"}],[6638,{"./notification-list-item-snap":6639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItemSnap",{enumerable:!0,get:function(){return o.NotificationListItemSnap}});var o=e("./notification-list-item-snap")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-snap/index.ts"}],[6639,{"../../../helpers/constants/design-system":6899,"../../../helpers/utils/notification.util":6944,"../../app/snaps/snap-icon":6087,"../../app/snaps/snap-ui-markdown":6144,"../../component-library":6325,"../notification-list-item-text":6640,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationListItemSnap=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=e("../notification-list-item-text"),l=e("../../../helpers/utils/notification.util"),c=e("../../app/snaps/snap-ui-markdown"),u=e("../../app/snaps/snap-icon");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(null,arguments)}n.NotificationListItemSnap=({id:e,isRead:t,title:n,snapMessage:o,createdAt:m,snapId:p,handleSnapClick:f,handleSnapButton:g})=>a.default.createElement(r.Box,{className:"notification-list-item "+(t?"":"notification-list-item--unread"),display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full,paddingBottom:3,paddingRight:5,paddingLeft:5,paddingTop:3,key:e,onClick:()=>{null==f||f()},style:{cursor:"pointer"}},a.default.createElement(r.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.transparent,gap:4,height:i.BlockSize.Full,style:{paddingLeft:"6px",paddingRight:"6px",paddingTop:"2px"}},!t&&a.default.createElement(r.Box,{display:i.Display.Block,className:"notification-list-item__unread-dot__wrapper--snap"},a.default.createElement(r.Icon,{name:r.IconName.FullCircle,color:i.IconColor.primaryDefault,className:"notification-list-item__unread-dot__dot","data-testid":"unread-dot"})),a.default.createElement(r.Box,{height:i.BlockSize.Full,className:"notification-list-item__icon"},a.default.createElement(u.SnapIcon,{snapId:p,avatarSize:r.IconSize.Md})),a.default.createElement(r.Box,{display:i.Display.Flex,gap:4,height:i.BlockSize.Full,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full},a.default.createElement(r.Box,{display:i.Display.Block,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,textAlign:i.TextAlign.Left,width:i.BlockSize.Full},a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.flexStart,justifyContent:i.JustifyContent.spaceBetween},a.default.createElement(r.Box,{onClick:()=>{null==g||g()}},a.default.createElement(s.NotificationListItemText,d({},n,{color:i.TextColor.primaryDefault}))),a.default.createElement(r.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Normal,as:"p"},(0,l.formatMenuItemDate)(m))),a.default.createElement(r.Box,{color:i.TextColor.textDefault,className:"snap-notifications__item__details__message"},a.default.createElement(c.SnapUIMarkdown,{markdown:!0},o))))))}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-snap/notification-list-item-snap.tsx"}],[6640,{"./notification-list-item-text":6641},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItemText",{enumerable:!0,get:function(){return o.NotificationListItemText}});var o=e("./notification-list-item-text")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-text/index.ts"}],[6641,{"../../../helpers/constants/design-system":6899,"../../../helpers/utils/notification.util":6944,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationListItemText=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/utils/notification.util");n.NotificationListItemText=({items:e,variant:t=i.TextVariant.bodySm,color:n=i.TextColor.textDefault})=>{const o=e.map(({text:t,highlighted:o},l)=>{const c=(0,s.getRandomKey)(t,l),u=o?i.TextColor.infoDefault:n,d=l!==e.length-1&&" ";return a.default.createElement(r.Text,{key:c,as:"span",variant:i.TextVariant.inherit,fontWeight:i.FontWeight.Normal,color:u},t,d)});return a.default.createElement(r.Text,{as:"p",variant:t},o)}}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-text/notification-list-item-text.tsx"}],[6642,{"./notification-list-item":6643},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItem",{enumerable:!0,get:function(){return o.NotificationListItem}});var o=e("./notification-list-item")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item/index.ts"}],[6643,{"../../../helpers/constants/design-system":6899,"../../../helpers/utils/notification.util":6944,"../../component-library":6325,"../notification-list-item-icon":6636,"../notification-list-item-text":6640,"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationListItem=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("@metamask/design-system-react"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../notification-list-item-icon"),c=e("../notification-list-item-text"),u=e("../../../helpers/utils/notification.util");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(null,arguments)}const m=e=>a.default.createElement(r.Button,{variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Md,onClick:()=>{e.onClick(),global.platform.openTab({url:e.link})},isFullWidth:!0,endIconName:r.IconName.Arrow2UpRight},e.content);n.NotificationListItem=({id:e,isRead:t,icon:n,title:o,description:p,createdAt:f,onClick:g,...h})=>{const k=()=>{g()};return a.default.createElement(i.Box,{className:"notification-list-item "+(t?"":"notification-list-item--unread"),display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.flexStart,width:s.BlockSize.Full,paddingBottom:3,paddingRight:5,paddingLeft:5,paddingTop:3,gap:2,key:e},a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.flexStart,as:"button",onClick:k,width:s.BlockSize.Full,backgroundColor:s.BackgroundColor.transparent},!t&&a.default.createElement(i.Box,{display:s.Display.Block,className:"notification-list-item__unread-dot__wrapper"},a.default.createElement(r.Icon,{name:r.IconName.FullCircle,color:r.IconColor.InfoDefault,size:r.IconSize.Xs,className:"notification-list-item__unread-dot__dot","data-testid":"unread-dot"})),a.default.createElement(i.Box,{display:s.Display.Flex,gap:4,paddingRight:4,height:s.BlockSize.Full,alignItems:s.AlignItems.flexStart},a.default.createElement(i.Box,{height:s.BlockSize.Full,className:"notification-list-item__icon"},a.default.createElement(l.NotificationListItemIcon,n)),a.default.createElement(i.Box,{display:s.Display.Block,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexStart,textAlign:s.TextAlign.Left,width:s.BlockSize.Full},a.default.createElement(c.NotificationListItemText,d({},o,{color:s.TextColor.textAlternative})),a.default.createElement(c.NotificationListItemText,p))),a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexEnd,textAlign:s.TextAlign.Right,className:"notification-list-item__right-container"},a.default.createElement(i.Text,{color:s.TextColor.textMuted,variant:s.TextVariant.bodySm,fontWeight:s.FontWeight.Normal,as:"p"},(0,u.formatMenuItemDate)(f)),"amount"in h&&a.default.createElement(i.Text,{color:s.TextColor.textDefault,variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Normal,as:"p"},h.amount))),"cta"in h&&h.cta&&a.default.createElement(m,{content:h.cta.content,link:h.cta.link,onClick:k}))}}}},{package:"$root$",file:"ui/components/multichain/notification-list-item/notification-list-item.tsx"}],[6644,{"./notifications-page":6645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsPage",{enumerable:!0,get:function(){return o.NotificationsPage}});var o=e("./notifications-page")}}},{package:"$root$",file:"ui/components/multichain/notifications-page/index.js"}],[6645,{"../../../helpers/constants/design-system":6899,"../../../helpers/constants/routes":6904,"../../component-library":6325,"../../ui/metafox-logo":6792,"../pages/page":6674,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsPage=function({children:e}){const t=(0,a.useNavigate)();return o.default.createElement("div",{className:"main-container","data-testid":"notifications-page"},o.default.createElement(r.Box,{display:[i.Display.None,i.Display.Flex],alignItems:i.AlignItems.center,margin:2,className:"multichain-app-header-logo","data-testid":"app-header-logo",justifyContent:i.JustifyContent.center},o.default.createElement(s.default,{unsetIconHeight:!0,onClick:()=>t(l.DEFAULT_ROUTE)})),o.default.createElement(c.Page,null,e))};var o=u(e("react")),a=e("react-router-dom-v5-compat"),r=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=u(e("../../ui/metafox-logo")),l=e("../../../helpers/constants/routes"),c=e("../pages/page");function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/multichain/notifications-page/notifications-page.tsx"}],[6646,{"./notifications-settings-account":6647},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsSettingsAccount",{enumerable:!0,get:function(){return o.NotificationsSettingsAccount}});var o=e("./notifications-settings-account")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-account/index.ts"}],[6647,{"../../../helpers/constants/design-system":6899,"../../../helpers/utils/util":6959,"../../app/preferred-avatar":6033,"../../component-library":6325,"@metamask/controller-utils":1383,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsAccount=function({address:e,name:t}){const n=(0,r.toChecksumHexAddress)(e);return a.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,gap:4},a.default.createElement(s.PreferredAvatar,{address:n}),a.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexStart,justifyContent:l.JustifyContent.spaceBetween},a.default.createElement(i.Text,{variant:l.TextVariant.bodyLgMedium,textAlign:l.TextAlign.Left},t??n),a.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,textAlign:l.TextAlign.Left,color:l.TextColor.textAlternative},(0,c.shortenAddress)(n))))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("@metamask/controller-utils"),i=e("../../component-library"),s=e("../../app/preferred-avatar"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-account/notifications-settings-account.tsx"}],[6648,{"./notifications-settings-box":6649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsSettingsBox",{enumerable:!0,get:function(){return o.NotificationsSettingsBox}});var o=e("./notifications-settings-box")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-box/index.ts"}],[6649,{"../../../helpers/constants/design-system":6899,"../../../hooks/useI18nContext":7047,"../../component-library":6325,"../../ui/icon/preloader/preloader-icon.component":6768,"../../ui/toggle-button":6831,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsBox=function({children:e,value:t,loading:n=!1,disabled:c=!1,error:u=null,dataTestId:d,onToggle:m}){const p=(0,a.useI18nContext)();return o.default.createElement(r.Box,{width:s.BlockSize.Full},o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween,width:s.BlockSize.Full,gap:4,className:"notifications-settings-box"},e,o.default.createElement(r.Box,{"data-testid":`${d}-toggle-box`,className:"notifications-settings-box__toggle"},n?o.default.createElement(r.Box,{textAlign:s.TextAlign.Right},o.default.createElement(l.default,{size:24})):o.default.createElement(i.default,{value:t,onToggle:m,disabled:c,dataTestId:`${d}-toggle-input`,className:"notifications-settings-box__toggle"}))),u&&o.default.createElement(r.Box,{paddingTop:0},o.default.createElement(r.Text,{as:"p",color:s.TextColor.errorDefault,paddingTop:2},p("notificationsSettingsBoxError"))))};var o=c(e("react")),a=e("../../../hooks/useI18nContext"),r=e("../../component-library"),i=c(e("../../ui/toggle-button")),s=e("../../../helpers/constants/design-system"),l=c(e("../../ui/icon/preloader/preloader-icon.component"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-box/notifications-settings-box.tsx"}],[6650,{"./notifications-settings-type":6651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsSettingsType",{enumerable:!0,get:function(){return o.NotificationsSettingsType}});var o=e("./notifications-settings-type")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-type/index.ts"}],[6651,{"../../../helpers/constants/design-system":6899,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsType=function({icon:e,title:t,text:n}){return a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,gap:4},e&&a.default.createElement(r.Icon,{name:e,size:r.IconSize.Lg,"data-testid":"icon"}),a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.stretch,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full},a.default.createElement(r.Text,{variant:i.TextVariant.bodyLgMedium,textAlign:i.TextAlign.Left},t),n&&a.default.createElement(r.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Left,color:i.TextColor.textAlternative},n)))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-type/notifications-settings-type.tsx"}],[6652,{"./notifications-tag-counter":6653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsTagCounter",{enumerable:!0,get:function(){return o.NotificationsTagCounter}});var o=e("./notifications-tag-counter")}}},{package:"$root$",file:"ui/components/multichain/notifications-tag-counter/index.ts"}],[6653,{"../../../helpers/constants/design-system":6899,"../../../hooks/metamask-notifications/useCounter":6996,"../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsTagCounter=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../hooks/metamask-notifications/useCounter"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");n.NotificationsTagCounter=({noLabel:e=!1})=>{const{notificationsUnreadCount:t}=(0,r.useUnreadNotificationsCounter)();return 0===t?null:e?a.default.createElement(i.Box,{display:s.Display.Block,className:"notification-list-item__unread-dot__wrapper",style:{position:"absolute",cursor:"pointer",top:0,left:"50%",zIndex:1},backgroundColor:s.BackgroundColor.errorDefault,borderStyle:s.BorderStyle.none,borderRadius:s.BorderRadius.LG,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},a.default.createElement(i.Text,{color:s.TextColor.errorInverse,variant:s.TextVariant.bodyXs,className:"notifications-tag-counter__unread-dot","data-testid":"notifications-tag-counter__unread-dot",textAlign:s.TextAlign.Center},t>10?"9+":t)):a.default.createElement(i.Box,{backgroundColor:s.BackgroundColor.errorDefault,borderStyle:s.BorderStyle.none,borderRadius:s.BorderRadius.LG,paddingTop:0,paddingBottom:0,className:"notifications-tag-counter"},a.default.createElement(i.Text,{color:s.TextColor.errorInverse,variant:s.TextVariant.bodySm,"data-testid":"global-menu-notification-count",className:"notifications-tag-counter__text",textAlign:s.TextAlign.Center},t>10?"9+":t))}}}},{package:"$root$",file:"ui/components/multichain/notifications-tag-counter/notifications-tag-counter.tsx"}],[6654,{"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NoConnectionContent=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),s=e("../../../../component-library");n.NoConnectionContent=()=>{const e=(0,i.useI18nContext)();return a.default.createElement(s.Box,{className:"connections-page__no-site-connected-content",display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,gap:2,paddingLeft:4,paddingRight:4},a.default.createElement(s.Text,{variant:r.TextVariant.bodyMdMedium,textAlign:r.TextAlign.Center},e("noConnectedAccountTitle")),a.default.createElement(s.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Center},e("noConnectionDescription")))}}}},{package:"$root$",file:"ui/components/multichain/pages/connections/components/no-connection.tsx"}],[6655,{"../..":6568,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../helpers/utils/util":6959,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../component-library":6325,"../../connect-accounts-modal/connect-accounts-modal":6522,"../../disconnect-all-modal/disconnect-all-modal":6543,"../page":6674,"./components/no-connection":6654,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Connections=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom-v5-compat"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../helpers/constants/routes"),l=e("../../../../helpers/utils/util"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../selectors"),d=e("../../../component-library"),m=e("../.."),p=e("../page"),f=e("../../connect-accounts-modal/connect-accounts-modal"),g=e("../../../../store/actions"),h=e("../../disconnect-all-modal/disconnect-all-modal"),k=e("./components/no-connection");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.Connections=({params:e,navigate:t}={})=>{var n;const y=(0,c.useI18nContext)(),x=(0,a.useDispatch)(),b=(0,r.useNavigate)(),w=(0,r.useParams)(),v=t||b,C=e||w,[E,T]=(0,o.useState)(!1),[_,I]=(0,o.useState)(!1),[M,N]=(0,o.useState)(""),[S,A]=(0,o.useState)(!1),[P,O]=(0,o.useState)(!1),D=decodeURIComponent(C.origin),B=(0,a.useSelector)(u.getConnectedSitesList),j=(0,a.useSelector)(u.getSubjectMetadata)[D],{openMetaMaskTabs:F}=(0,a.useSelector)(e=>e.appState),{id:R}=(0,a.useSelector)(e=>e.activeTab),L=(0,a.useSelector)(e=>(0,u.getUnconnectedAccounts)(e,D)),$=(0,a.useSelector)(e=>(0,u.getOrderedConnectedAccountsForConnectedDapp)(e,D)),z=(0,a.useSelector)(u.getSelectedAccount),W=(0,a.useSelector)(u.getPermittedAccountsByOrigin),U=(0,a.useSelector)(u.getPermissionSubjects),V=!(null!==(n=W[D])&&void 0!==n&&n.length);let H={origin:null};D&&V&&!F[R]&&(H={origin:D});const G=B[D],K=(0,a.useSelector)(e=>(0,u.getPermittedEVMAccountsForSelectedTab)(e,D)),J=$.findIndex((e,t)=>t===$.reduce((e,t,n)=>(t.metadata.lastSelected??0)>($[e].metadata.lastSelected?n:e)?n:e,0));return o.default.createElement(p.Page,{"data-testid":"connections-page",className:"main-container connections-page"},o.default.createElement(p.Header,{backgroundColor:i.BackgroundColor.backgroundDefault,startAccessory:o.default.createElement(d.ButtonIcon,{ariaLabel:y("back"),iconName:d.IconName.ArrowLeft,className:"connections-header__start-accessory",color:i.IconColor.iconDefault,onClick:()=>v(s.PREVIOUS_ROUTE),size:d.ButtonIconSize.Sm})},o.default.createElement(d.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:2,justifyContent:i.JustifyContent.center,className:"connections-header__title"},null!=G&&G.iconUrl?o.default.createElement(d.AvatarFavicon,{name:G.name,size:d.AvatarFaviconSize.Sm,src:G.iconUrl}):o.default.createElement(d.Icon,{name:d.IconName.Global,size:d.IconSize.Sm,color:i.IconColor.iconDefault}),o.default.createElement(d.Text,{as:"span",variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,ellipsis:!0},(0,l.getURLHost)(D)))),o.default.createElement(p.Content,{padding:0},K.length>0&&$.length>0?o.default.createElement(d.Box,null,$.map((e,t)=>{var n;const a=null===(n={}[e.address])||void 0===n?void 0:n.find(({origin:e})=>e===D),r=z.address===e.address,i={...e,isAccountActive:t===J};return o.default.createElement(m.AccountListItem,{account:i,key:e.address,accountsCount:$.length,selected:r,connectedAvatar:null==a?void 0:a.iconUrl,menuType:m.AccountListItemMenuTypes.Connection,currentTabOrigin:D,isActive:i.isAccountActive?y("active"):null,onActionClick:N})})):o.default.createElement(k.NoConnectionContent,null),E?o.default.createElement(f.ConnectAccountsModal,{onClose:()=>T(!1),onAccountsUpdate:()=>A(!0),activeTabOrigin:D}):null,_?o.default.createElement(h.DisconnectAllModal,{type:h.DisconnectType.Account,hostname:D,onClose:()=>I(!1),onClick:()=>(()=>{const e=U[D];if(e){const t=Object.values(e.permissions).map(({parentCapability:e})=>e);if(t.length>0){const e={[D]:t};x((0,g.removePermissionsFor)(e))}I(!1),O(!0)}})()}):null),o.default.createElement(p.Footer,null,o.default.createElement(d.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,gap:4},S?o.default.createElement(m.ToastContainer,null,o.default.createElement(m.Toast,{text:y("connectedAccountsToast"),onClose:()=>A(!1),startAdornment:o.default.createElement(d.AvatarFavicon,{name:null==G?void 0:G.name,size:d.AvatarFaviconSize.Sm,src:null==G?void 0:G.iconUrl})})):null,P?o.default.createElement(m.ToastContainer,null,o.default.createElement(m.Toast,{text:y("disconnectedAllAccountsToast",[(0,l.getURLHost)(D)]),onClose:()=>O(!1),startAdornment:o.default.createElement(d.AvatarFavicon,{name:null==j?void 0:j.name,size:d.AvatarFaviconSize.Sm,src:null==j?void 0:j.iconUrl})})):null,M.length>0?o.default.createElement(m.ToastContainer,null,o.default.createElement(m.Toast,{text:y("disconnectedSingleAccountToast",[M,(0,l.getURLHost)(D)]),onClose:()=>N(""),startAdornment:o.default.createElement(d.AvatarFavicon,{name:null==j?void 0:j.name,size:d.AvatarFaviconSize.Sm,src:null==j?void 0:j.iconUrl})})):null,K.length>0&&$.length>0?o.default.createElement(d.Box,{display:i.Display.Flex,gap:2,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,"data-test-id":"connections-button"},o.default.createElement(d.Button,{size:d.ButtonSize.Lg,block:!0,variant:d.ButtonVariant.Secondary,disabled:0===L.length,startIconName:d.IconName.Add,onClick:()=>T(!0)},y("connectMoreAccounts")),o.default.createElement(d.Button,{size:d.ButtonSize.Lg,block:!0,variant:d.ButtonVariant.Secondary,startIconName:d.IconName.Logout,danger:!0,onClick:()=>I(!0)},y("disconnectAllAccounts"))):o.default.createElement(d.ButtonPrimary,{size:d.ButtonPrimarySize.Lg,block:!0,"data-test-id":"no-connections-button",onClick:()=>(async()=>{const e=await x((0,g.requestAccountsAndChainPermissionsWithId)(H.origin));v(`${s.CONNECT_ROUTE}/${e}`)})()},y("connectAccounts")))))}}}},{package:"$root$",file:"ui/components/multichain/pages/connections/connections.tsx"}],[6656,{"./connections":6655},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Connections",{enumerable:!0,get:function(){return o.Connections}});var o=e("./connections")}}},{package:"$root$",file:"ui/components/multichain/pages/connections/index.js"}],[6657,{"./permission-group-list-item":6658,"./permission-list-item":6659,"./permissions-cell":6662,"./review-gator-permission-item":6663},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionGroupListItem",{enumerable:!0,get:function(){return a.PermissionGroupListItem}}),Object.defineProperty(n,"PermissionListItem",{enumerable:!0,get:function(){return o.PermissionListItem}}),Object.defineProperty(n,"PermissionsCell",{enumerable:!0,get:function(){return r.PermissionsCell}}),Object.defineProperty(n,"ReviewGatorPermissionItem",{enumerable:!0,get:function(){return i.ReviewGatorPermissionItem}});var o=e("./permission-list-item"),a=e("./permission-group-list-item"),r=e("./permissions-cell"),i=e("./review-gator-permission-item")}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/components/index.ts"}],[6658,{"../../../../../hooks/useI18nContext":7047,"../../../../../selectors":7886,"../../../../../selectors/multichain":7895,"../helper":6665,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionGroupListItem=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("@metamask/design-system-react"),s=e("../../../../../hooks/useI18nContext"),l=e("../../../../../selectors/multichain"),c=e("../../../../../selectors"),u=e("../helper");n.PermissionGroupListItem=({chainId:e,text:t,onClick:n})=>{const o=(0,s.useI18nContext)(),d=(0,l.getImageForChainId)(e),[,m]=(0,r.useSelector)(c.getMultichainNetworkConfigurationsByChainId);return a.default.createElement(i.Box,{"data-testid":"permission-group-list-item",backgroundColor:i.BoxBackgroundColor.BackgroundDefault,alignItems:i.BoxAlignItems.Baseline,padding:4,gap:4},a.default.createElement(i.Button,{onClick:n,style:{width:"100%",backgroundColor:"transparent",border:"none",padding:0}},a.default.createElement(i.Box,{alignItems:i.BoxAlignItems.Start,marginRight:2},a.default.createElement(i.AvatarNetwork,{"data-testid":"permission-group-list-item__avatar-network",src:d,name:e,size:i.AvatarNetworkSize.Lg,style:{borderRadius:"50%"}})),a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,alignItems:i.BoxAlignItems.Start,justifyContent:i.BoxJustifyContent.Start,style:{flexGrow:"1"}},a.default.createElement(i.Text,{variant:i.TextVariant.BodyMd},(()=>{const t=(0,u.extractNetworkName)(m,e),n=o(t);return n&&n!==t?n:(0,u.extractNetworkName)(m,e,!0)})()),a.default.createElement(i.Text,{color:i.TextColor.TextAlternative,variant:i.TextVariant.BodyMd},t)),a.default.createElement(i.Box,{justifyContent:i.BoxJustifyContent.End,alignItems:i.BoxAlignItems.End,gap:2},a.default.createElement(i.Icon,{name:i.IconName.ArrowRight,color:i.IconColor.IconDefault,size:i.IconSize.Sm}))))}}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/components/permission-group-list-item.tsx"}],[6659,{"../../../../../helpers/constants/design-system":6899,"../../../../component-library":6325,"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionListItem=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("@metamask/design-system-react"),i=e("../../../../../helpers/constants/design-system"),s=e("../../../../component-library");n.PermissionListItem=({total:e,permissionGroupName:t,onClick:n})=>a.default.createElement(s.Box,{"data-testid":"permission-list-item",width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.backgroundDefault},a.default.createElement(r.Button,{onClick:n,style:{width:"100%",backgroundColor:"transparent",border:"none",padding:0}},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.baseline,width:i.BlockSize.Full,padding:4,gap:4},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,style:{flex:"1",alignSelf:"center"},gap:2},a.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Left,ellipsis:!0},t)),a.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.flexEnd,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,style:{flex:"1",alignSelf:"center"},gap:2},a.default.createElement(s.Text,{as:"span",width:i.BlockSize.Max,color:i.TextColor.textAlternative,variant:i.TextVariant.bodyMd},e),a.default.createElement(s.Icon,{display:i.Display.Flex,name:s.IconName.ArrowRight,color:i.IconColor.iconDefault,size:s.IconSize.Sm,backgroundColor:i.BackgroundColor.backgroundDefault})))))}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/components/permission-list-item.tsx"}],[6660,{"./permissions-cell-tooltip":6661,"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsCellConnectionListItem=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("@metamask/design-system-react"),i=e("./permissions-cell-tooltip");n.PermissionsCellConnectionListItem=({title:e,iconName:t,count:n,networks:o,countMessage:s,paddingTopValue:l,paddingBottomValue:c,onClick:u})=>a.default.createElement(r.Box,{"data-testid":"permissions-cell-connection-list-item",alignItems:r.BoxAlignItems.Center,backgroundColor:r.BoxBackgroundColor.BackgroundDefault,flexDirection:r.BoxFlexDirection.Row,className:"multichain-permissions-list-item",paddingTop:l,paddingBottom:c,onClick:u,gap:4,style:{cursor:"pointer"}},a.default.createElement(r.Box,{alignItems:r.BoxAlignItems.Start},a.default.createElement(r.AvatarIcon,{iconName:t,size:r.AvatarIconSize.Md,color:r.IconColor.IconAlternative})),a.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column,alignItems:r.BoxAlignItems.Start,justifyContent:r.BoxJustifyContent.Start,style:{flexGrow:"1"}},a.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,textAlign:r.TextAlign.Left},e),a.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Row,alignItems:r.BoxAlignItems.Baseline,gap:1},a.default.createElement(r.Text,{color:r.TextColor.TextAlternative,variant:r.TextVariant.BodySm,ellipsis:!0},n," ",s),a.default.createElement(i.PermissionsCellTooltip,{networks:o}))),a.default.createElement(r.Box,{justifyContent:r.BoxJustifyContent.End,alignItems:r.BoxAlignItems.End},a.default.createElement(r.Icon,{name:r.IconName.ArrowRight,color:r.IconColor.IconAlternative,size:r.IconSize.Sm})))}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/components/permissions-cell-connection-list-item.tsx"}],[6661,{"../../../../../../shared/constants/network":5617,"../../../../../hooks/useI18nContext":7047,"../../../avatar-group":6506,"../../../avatar-group/avatar-group.types":6505,"@metamask/design-system-react":1741,react:5080,"react-tippy":5062},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsCellTooltip=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-tippy"),i=e("@metamask/design-system-react"),s=e("../../../avatar-group/avatar-group.types"),l=e("../../../avatar-group"),c=e("../../../../../../shared/constants/network"),u=e("../../../../../hooks/useI18nContext");n.PermissionsCellTooltip=({networks:e})=>{const t=(0,u.useI18nContext)(),n=null==e?void 0:e.map(e=>({avatarValue:c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],symbol:e.name}));return e&&0!==e.length?a.default.createElement(r.Tooltip,{position:"bottom",html:a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column,"data-test-id":"permissions-cell-tooltip"},a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Column},null==e?void 0:e.slice(0,4).map(e=>a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Center,key:e.chainId,padding:1,gap:2},a.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,src:c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),a.default.createElement(i.Text,{color:i.TextColor.OverlayInverse,variant:i.TextVariant.BodyMd,"data-testid":"permissions-cell-network-name",ellipsis:!0},e.name))),(null==e?void 0:e.length)>4?a.default.createElement(i.Box,{alignItems:i.BoxAlignItems.Center},a.default.createElement(i.Text,{color:i.TextColor.TextMuted,variant:i.TextVariant.BodyMd,"data-testid":"permissions-cell-plus-more-tooltip"},t("moreNetworks",[e.length-4]))):null)),arrow:!0,offset:0,delay:50,duration:0,size:"small",trigger:"mouseenter"},a.default.createElement(l.AvatarGroup,{members:n,limit:4,avatarType:s.AvatarType.TOKEN})):null}}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/components/permissions-cell-tooltip.tsx"}],[6662,{"../../../../../helpers/constants/routes":6904,"../../../../../hooks/useI18nContext":7047,"./permissions-cell-connection-list-item":6660,"@metamask/design-system-react":1741,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsCell=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-router-dom-v5-compat"),i=e("@metamask/design-system-react"),s=e("../../../../../hooks/useI18nContext"),l=e("../../../../../helpers/constants/routes"),c=e("./permissions-cell-connection-list-item");n.PermissionsCell=({nonTestNetworks:e,testNetworks:t,totalCount:n,chainIds:o,paddingTop:u})=>{const d=(0,s.useI18nContext)(),m=(0,r.useNavigate)(),p=[...e,...t].filter(({chainId:e})=>o.includes(e));return 0===n?null:a.default.createElement(i.Box,{"data-testid":"gator-permissions-cell",padding:4,paddingTop:u===undefined?0:u,gap:4,backgroundColor:i.BoxBackgroundColor.BackgroundDefault},a.default.createElement(c.PermissionsCellConnectionListItem,{title:d("tokenTransfer"),iconName:i.IconName.Coin,count:n,networks:p,countMessage:d(1===n?"tokenCount":"tokensCount"),paddingBottomValue:0,paddingTopValue:0,onClick:()=>m(l.TOKEN_TRANSFER_ROUTE)}))}}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/components/permissions-cell.tsx"}],[6663,{"../../../../../../shared/lib/gator-permissions":5695,"../../../../../helpers/constants/design-system":6899,"../../../../../helpers/utils/token-util":6955,"../../../../../helpers/utils/util":6959,"../../../../../hooks/useI18nContext":7047,"../../../../../selectors/gator-permissions/gator-permissions":7883,"../../../../../selectors/multichain":7895,"../../../../../selectors/selectors":7903,"../../../../app/preferred-avatar":6033,"../../../../ui/card":6731,"@metamask/design-system-react":1741,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReviewGatorPermissionItem=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("@metamask/design-system-react"),s=e("../../../../../selectors/multichain"),l=e("../../../../../helpers/utils/util"),c=(o=e("../../../../ui/card"))&&o.__esModule?o:{default:o},u=e("../../../../../hooks/useI18nContext"),d=e("../../../../../../shared/lib/gator-permissions"),m=e("../../../../app/preferred-avatar"),p=e("../../../../../helpers/constants/design-system"),f=e("../../../../../selectors/selectors"),g=e("../../../../../helpers/utils/token-util"),h=e("../../../../../selectors/gator-permissions/gator-permissions");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.ReviewGatorPermissionItem=({networkName:e,gatorPermission:t,onRevokeClick:n})=>{const o=(0,u.useI18nContext)(),{permissionResponse:k,siteOrigin:y}=t,{chainId:x}=k,b=k.permission.type,w=k.context,v=k.address||"0x",C=k.permission.data.tokenAddress,[E,T]=(0,a.useState)(!1),_=(0,r.useSelector)(f.selectERC20TokensByChain),I=(0,r.useSelector)(e=>(0,f.getNativeTokenInfo)(e,x)),M=(0,r.useSelector)(h.getPendingRevocations),N=(0,a.useMemo)(()=>{if(C){var e;const t=(null==_||null===(e=_[x])||void 0===e?void 0:e.data)||{},n=(0,g.getTokenMetadata)(C,t);return n?{symbol:n.symbol||"Unknown Token",decimals:n.decimals||18,name:n.name||"Unknown Token"}:(console.warn(`Token metadata not found for address: ${C} for chain: ${x}`),{symbol:"Unknown Token",decimals:null,name:"Unknown Token"})}return{symbol:I.symbol,decimals:I.decimals,name:I.name}},[_,x,C,I]),S=(0,a.useMemo)(()=>M.some(e=>e.permissionContext===w),[M,w]),A=()=>{T(!E)},P=(0,a.useCallback)(e=>e?0===e.length?o("gatorPermissionNoExpiration"):(0,d.extractExpiryToReadableDate)(e):o("gatorPermissionNoExpiration"),[o]),O=(0,a.useCallback)(e=>{const{symbol:t,decimals:n}=N,a=(0,d.convertAmountPerSecondToAmountPerPeriod)(e.data.amountPerSecond,"weekly");return{amountLabel:{translationKey:"gatorPermissionsStreamingAmountLabel",value:null===n?o("gatorPermissionUnknownTokenAmount"):`${(0,d.getDecimalizedHexValue)(a,n)} ${t}`,testId:"review-gator-permission-amount-label"},frequencyLabel:{translationKey:"gatorPermissionTokenStreamFrequencyLabel",valueTranslationKey:"gatorPermissionWeeklyFrequency",testId:"review-gator-permission-frequency-label"},expandedDetails:{initialAllowance:{translationKey:"gatorPermissionsInitialAllowance",value:null===n?o("gatorPermissionUnknownTokenAmount"):`${(0,d.getDecimalizedHexValue)(e.data.initialAmount||"0x0",n)} ${t}`,testId:"review-gator-permission-initial-allowance"},maxAllowance:{translationKey:"gatorPermissionsMaxAllowance",value:null===n?o("gatorPermissionUnknownTokenAmount"):`${(0,d.getDecimalizedHexValue)(e.data.maxAmount||"0x0",n)} ${t}`,testId:"review-gator-permission-max-allowance"},startDate:{translationKey:"gatorPermissionsStartDate",value:(0,d.convertTimestampToReadableDate)(e.data.startTime),testId:"review-gator-permission-start-date"},expirationDate:{translationKey:"gatorPermissionsExpirationDate",value:P(e.rules),testId:"review-gator-permission-expiration-date"},streamRate:{translationKey:"gatorPermissionsStreamRate",value:null===n?o("gatorPermissionUnknownTokenAmount"):`${(0,d.getDecimalizedHexValue)(e.data.amountPerSecond,n)} ${t}/sec`,testId:"review-gator-permission-stream-rate"}}}},[N,o,P]),D=(0,a.useCallback)(e=>{const{symbol:t,decimals:n}=N;return{amountLabel:{translationKey:"amount",value:null===n?o("gatorPermissionUnknownTokenAmount"):`${(0,d.getDecimalizedHexValue)(e.data.periodAmount,n)} ${t}`,testId:"review-gator-permission-amount-label"},frequencyLabel:{translationKey:"gatorPermissionTokenPeriodicFrequencyLabel",valueTranslationKey:(0,d.getPeriodFrequencyValueTranslationKey)(e.data.periodDuration),testId:"review-gator-permission-frequency-label"},expandedDetails:{startDate:{translationKey:"gatorPermissionsStartDate",value:(0,d.convertTimestampToReadableDate)(e.data.startTime??0),testId:"review-gator-permission-start-date"},expirationDate:{translationKey:"gatorPermissionsExpirationDate",value:P(e.rules),testId:"review-gator-permission-expiration-date"}}}},[N,o,P]),B=(0,a.useMemo)(()=>{switch(b){case"native-token-stream":case"erc20-token-stream":return O(k.permission);case"native-token-periodic":case"erc20-token-periodic":return D(k.permission);default:throw new Error(`Invalid permission type: ${b}`)}},[b,O,k.permission,D]);return a.default.createElement(c.default,{"data-testid":"review-gator-permission-item",gap:1,margin:4,backgroundColor:p.BackgroundColor.backgroundDefault},a.default.createElement(i.Box,null,a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,style:{flex:"1",alignSelf:"center"},gap:2},a.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,textAlign:i.TextAlign.Left,ellipsis:!0},(0,l.getURLHost)(y)),a.default.createElement(i.Button,{onClick:n,disabled:S,style:{backgroundColor:"transparent",border:"none",padding:0}},a.default.createElement(i.Text,{color:S?i.TextColor.TextMuted:i.TextColor.ErrorDefault,variant:i.TextVariant.BodyMd},o(S?"gatorPermissionsRevocationPending":"gatorPermissionsRevoke"))))),a.default.createElement(i.Box,{backgroundColor:i.BoxBackgroundColor.BackgroundDefault},a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,style:{flex:"1",alignSelf:"center"},gap:4,marginTop:2},a.default.createElement(i.Text,{textAlign:i.TextAlign.Left,color:i.TextColor.TextAlternative,variant:i.TextVariant.BodyMd},o(B.amountLabel.translationKey)),a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.End,style:{flex:"1",alignSelf:"center"},gap:2,alignItems:i.BoxAlignItems.Center},a.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,color:i.TextColor.TextAlternative,"data-testid":B.amountLabel.testId},B.amountLabel.value))),a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,style:{flex:"1",alignSelf:"center"},gap:4,marginTop:2},a.default.createElement(i.Text,{textAlign:i.TextAlign.Left,color:i.TextColor.TextAlternative,variant:i.TextVariant.BodyMd},o(B.frequencyLabel.translationKey)),a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.End,style:{flex:"1",alignSelf:"center"},gap:2,alignItems:i.BoxAlignItems.Center},a.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,color:i.TextColor.TextAlternative,"data-testid":B.frequencyLabel.testId},o(B.frequencyLabel.valueTranslationKey)))),a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,style:{flex:"1",alignSelf:"center"},gap:4,marginTop:2},a.default.createElement(i.Text,{textAlign:i.TextAlign.Left,color:i.TextColor.TextAlternative,variant:i.TextVariant.BodyMd},o("account")),a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.End,style:{flex:"1",alignSelf:"center"},gap:2,alignItems:i.BoxAlignItems.Center},a.default.createElement(m.PreferredAvatar,{address:v}),a.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,color:i.TextColor.TextAlternative},(0,l.shortenAddress)(v))))),a.default.createElement(i.Box,null,a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,style:{flex:"1",alignSelf:"center"},gap:2,marginTop:2},a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,style:{flex:"1",alignSelf:"center",cursor:"pointer"},gap:2,onClick:A},a.default.createElement(i.Text,{color:i.TextColor.PrimaryDefault,variant:i.TextVariant.BodyMd},E?"Hide Details":"Show Details"),a.default.createElement(i.ButtonIcon,{iconName:E?i.IconName.ArrowUp:i.IconName.ArrowDown,color:i.IconColor.IconMuted,size:i.ButtonIconSize.Sm,onClick:A,ariaLabel:"expand"}))),E&&a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,style:{flex:"1",alignSelf:"center"},gap:4,marginTop:2},a.default.createElement(i.Text,{textAlign:i.TextAlign.Left,color:i.TextColor.TextAlternative,variant:i.TextVariant.BodyMd},o("networks")),a.default.createElement(i.Box,{flexDirection:i.BoxFlexDirection.Row,alignItems:i.BoxAlignItems.Baseline,justifyContent:i.BoxJustifyContent.End,style:{flex:"1",alignSelf:"center"},gap:2},a.default.createElement(i.AvatarNetwork,{src:(0,s.getImageForChainId)(x),name:x,size:i.AvatarNetworkSize.Xs}),a.default.createElement(i.Text,{textAlign:i.TextAlign.Right,color:i.TextColor.TextAlternative,variant:i.TextVariant.BodyMd,"data-testid":"review-gator-permission-network-name"},e))),Object.entries(B.expandedDetails).map(([e,t])=>a.default.createElement(i.Box,{key:e,flexDirection:i.BoxFlexDirection.Row,justifyContent:i.BoxJustifyContent.Between,style:{flex:"1",alignSelf:"center"},gap:4,marginTop:2},a.default.createElement(i.Text,{textAlign:i.TextAlign.Left,color:i.TextColor.TextAlternative,variant:i.TextVariant.BodyMd},o(t.translationKey)),a.default.createElement(i.Text,{textAlign:i.TextAlign.Right,color:i.TextColor.TextAlternative,variant:i.TextVariant.BodyMd,"data-testid":t.testId},t.value))))))}}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/components/review-gator-permission-item.tsx"}],[6664,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../hooks/gator-permissions/useGatorPermissions":6981,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../../selectors/gator-permissions/gator-permissions":7883,"../../../component-library":6325,"../page":6674,"./components/permission-list-item":6659,"@metamask/snaps-utils":2781,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GatorPermissionsPage=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom-v5-compat"),r=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../page"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../helpers/constants/routes"),m=e("../../../../hooks/gator-permissions/useGatorPermissions"),p=e("../../../../selectors"),f=e("../../../../selectors/gator-permissions/gator-permissions"),g=e("./components/permission-list-item");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.GatorPermissionsPage=()=>{const e=(0,u.useI18nContext)(),t=(0,a.useNavigate)(),n=(0,o.useRef)(null),h=(0,r.useSelector)(p.getConnectedSitesListWithNetworkInfo),k=(0,r.useSelector)(e=>(0,f.getAggregatedGatorPermissionsCountAcrossAllChains)(e,"token-transfer")),y=Object.keys(h).filter(e=>!(0,i.isSnapId)(e)).length,x=k+y,{loading:b}=(0,m.useGatorPermissions)(),w=async e=>{switch(e){case"sites":t(d.PERMISSIONS);break;case"token-transfer":t(d.TOKEN_TRANSFER_ROUTE);break;default:console.error("Invalid permission group name:",e)}},v=e=>o.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundDefault,padding:[2,4],marginTop:4},o.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.textAlternative,textAlign:c.TextAlign.Left},e.toUpperCase()));return o.default.createElement(s.Page,{className:"main-container","data-testid":"gator-permissions-page",key:"gator-permissions-page"},o.default.createElement(s.Header,{backgroundColor:c.BackgroundColor.backgroundDefault,startAccessory:o.default.createElement(l.ButtonIcon,{ariaLabel:e("back"),iconName:l.IconName.ArrowLeft,className:"connections-header__start-accessory",color:c.IconColor.iconDefault,onClick:()=>t(d.DEFAULT_ROUTE),size:l.ButtonIconSize.Sm})},o.default.createElement(l.Text,{as:"span",variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center,"data-testid":"gator-permissions-page-title"},e("permissions"))),o.default.createElement(s.Content,{padding:0},o.default.createElement(l.Box,{ref:n}),b?o.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,height:c.BlockSize.Full,gap:2,padding:4},o.default.createElement(l.Icon,{name:l.IconName.Loading,color:c.IconColor.iconMuted,size:l.IconSize.Lg,style:{animation:"spin 1.2s linear infinite"}})):x>0?o.default.createElement(l.Box,{"data-testid":"permission-list",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.baseline,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundDefault,padding:4,gap:4},y>0&&o.default.createElement(o.default.Fragment,null,v(e("sites")),o.default.createElement(g.PermissionListItem,{total:y,permissionGroupName:e("sites"),onClick:()=>w("sites")})),k>0&&o.default.createElement(o.default.Fragment,null,v(e("assets")),o.default.createElement(g.PermissionListItem,{total:k,permissionGroupName:e("tokenTransfer"),onClick:()=>w("token-transfer")}))):o.default.createElement(l.Box,{"data-testid":"no-connections",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,height:c.BlockSize.Full,gap:2,padding:4},o.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,backgroundColor:c.BackgroundColor.backgroundDefault,textAlign:c.TextAlign.Center},e("permissionsPageEmptyContent")),o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,backgroundColor:c.BackgroundColor.backgroundDefault,textAlign:c.TextAlign.Center},e("permissionsPageEmptySubContent")))))}}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/gator-permissions-page.tsx"}],[6665,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractNetworkName=void 0;n.extractNetworkName=(e,t,n=!1)=>{const o=e[t];return null!=o&&o.name&&""!==(null==o?void 0:o.name.trim())?n?o.name:`networkName${o.name.trim().split(" ")[0]}`:"unknownNetworkForGatorPermissions"}}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/helper.ts"}],[6666,{"../../../../../helpers/constants/design-system":6899,"../../../../../helpers/constants/routes":6904,"../../../../../hooks/gator-permissions/useRevokeGatorPermissions":6982,"../../../../../hooks/useI18nContext":7047,"../../../../../selectors":7886,"../../../../../selectors/gator-permissions/gator-permissions":7883,"../../page":6674,"../components":6657,"../helper":6665,"@metamask/design-system-react":1741,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReviewGatorPermissionsPage=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom-v5-compat"),r=e("react-redux"),i=e("@metamask/design-system-react"),s=e("../../page"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../hooks/useI18nContext"),u=e("../helper"),d=e("../../../../../selectors"),m=e("../../../../../hooks/gator-permissions/useRevokeGatorPermissions"),p=e("../../../../../selectors/gator-permissions/gator-permissions"),f=e("../components"),g=e("../../../../../helpers/constants/routes");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.ReviewGatorPermissionsPage=({params:e,navigate:t}={})=>{const n=(0,c.useI18nContext)(),h=(0,a.useNavigate)(),k=(0,a.useParams)(),y=t||h,{chainId:x}=e||k,[,b]=(0,r.useSelector)(d.getMultichainNetworkConfigurationsByChainId),[w,v]=(0,o.useState)(0),C=(0,o.useMemo)(()=>{if(!x)return n("unknownNetworkForGatorPermissions");const e=(0,u.extractNetworkName)(b,x),t=n(e);return t&&t!==e?t:(0,u.extractNetworkName)(b,x,!0)},[x,b,n]),E=(0,r.useSelector)(e=>(0,p.getAggregatedGatorPermissionByChainId)(e,{aggregatedPermissionType:"token-transfer",chainId:x})),{revokeGatorPermission:T}=(0,m.useRevokeGatorPermissions)({chainId:x??""});(0,o.useEffect)(()=>{v(E.length)},[x,E]);return o.default.createElement(s.Page,{className:"main-container","data-testid":"review-gator-permissions-page",key:"review-gator-permissions-page"},o.default.createElement(s.Header,{backgroundColor:l.BackgroundColor.backgroundDefault,startAccessory:o.default.createElement(i.ButtonIcon,{ariaLabel:n("back"),iconName:i.IconName.ArrowLeft,className:"connections-header__start-accessory",color:i.IconColor.IconDefault,onClick:()=>y(g.PREVIOUS_ROUTE),size:i.ButtonIconSize.Sm})},o.default.createElement(i.Text,{variant:i.TextVariant.HeadingMd,textAlign:i.TextAlign.Center,"data-testid":"review-gator-permissions-page-title"},C)),o.default.createElement(s.Content,{padding:0},w>0?E.map(e=>o.default.createElement(f.ReviewGatorPermissionItem,{key:`${e.siteOrigin}-${e.permissionResponse.context}`,networkName:C,gatorPermission:e,onRevokeClick:()=>(async e=>{try{await T(e)}catch(e){console.error("Error revoking gator permission:",e)}})(e)})):o.default.createElement(i.Box,{"data-testid":"no-connections",flexDirection:i.BoxFlexDirection.Column,justifyContent:i.BoxJustifyContent.Center,gap:2,padding:4},o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,textAlign:i.TextAlign.Center},n("permissionsPageEmptyContent")),o.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,color:i.TextColor.TextAlternative,textAlign:i.TextAlign.Center},n("permissionsPageEmptySubContent")))))}}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx"}],[6667,{"../../../../../helpers/constants/design-system":6899,"../../../../../helpers/constants/routes":6904,"../../../../../hooks/useI18nContext":7047,"../../../../../selectors/gator-permissions/gator-permissions":7883,"../../page":6674,"../components":6657,"@metamask/design-system-react":1741,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TokenTransferPage=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-router-dom-v5-compat"),i=e("react-redux"),s=e("@metamask/design-system-react"),l=e("../../page"),c=e("../../../../../helpers/constants/design-system"),u=e("../../../../../hooks/useI18nContext"),d=e("../../../../../helpers/constants/routes"),m=e("../components"),p=e("../../../../../selectors/gator-permissions/gator-permissions");n.TokenTransferPage=()=>{const e=(0,u.useI18nContext)(),t=(0,r.useNavigate)(),n="token-transfer",o=(0,i.useSelector)(e=>(0,p.getPermissionGroupMetaData)(e,n));return a.default.createElement(l.Page,{className:"main-container","data-testid":"token-transfer-page",key:"token-transfer-page"},a.default.createElement(l.Header,{backgroundColor:c.BackgroundColor.backgroundDefault,startAccessory:a.default.createElement(s.ButtonIcon,{ariaLabel:e("back"),iconName:s.IconName.ArrowLeft,className:"connections-header__start-accessory",color:s.IconColor.IconDefault,onClick:()=>t(d.PREVIOUS_ROUTE),size:s.ButtonIconSize.Sm})},a.default.createElement(s.Text,{variant:s.TextVariant.HeadingMd,textAlign:s.TextAlign.Center,"data-testid":"token-transfer-page-title"},e("tokenTransfer"))),a.default.createElement(l.Content,{padding:0},o.length>0?o.map(({chainId:o,count:r})=>{const i=e(1===r?"tokenPermissionCount":"tokenPermissionsCount",[r]);return a.default.createElement(m.PermissionGroupListItem,{"data-testid":"permission-group-list-item",key:o,chainId:o,text:i,onClick:()=>(e=>{t(`${d.REVIEW_GATOR_PERMISSIONS_ROUTE}/${e}/${n}`)})(o)})}):a.default.createElement(s.Box,{"data-testid":"no-connections",flexDirection:s.BoxFlexDirection.Column,justifyContent:s.BoxJustifyContent.Center,gap:2,padding:4},a.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,textAlign:s.TextAlign.Center},e("permissionsPageEmptyContent")),a.default.createElement(s.Text,{variant:s.TextVariant.BodyMd,color:s.TextColor.TextAlternative,textAlign:s.TextAlign.Center},e("permissionsPageEmptySubContent")))))}}}},{package:"$root$",file:"ui/components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx"}],[6668,{"../../../../../../helpers/constants/design-system":6899,"../../../../../component-library":6325,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Content=void 0;var o=s(e("react")),a=s(e("classnames")),r=e("../../../../../component-library"),i=e("../../../../../../helpers/constants/design-system");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(null,arguments)}n.Content=({children:e,className:t="",...n})=>o.default.createElement(r.Box,l({display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,padding:4,paddingTop:0,height:i.BlockSize.Full,className:(0,a.default)("multichain-page-content",t),style:{overflow:"auto",scrollbarColor:"var(--color-icon-muted) transparent"}},n),e)}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/content/content.tsx"}],[6669,{"./content":6668},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Content",{enumerable:!0,get:function(){return o.Content}});var o=e("./content")}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/content/index.ts"}],[6670,{"../../../../../../helpers/constants/design-system":6899,"../../../../../component-library":6325,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Footer=void 0;var o=s(e("react")),a=s(e("classnames")),r=e("../../../../../component-library"),i=e("../../../../../../helpers/constants/design-system");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(null,arguments)}n.Footer=({children:e,className:t="",...n})=>o.default.createElement(r.Box,l({padding:4,display:i.Display.Flex,width:i.BlockSize.Full,gap:4,className:(0,a.default)("multichain-page-footer",t)},n),e)}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/footer/footer.tsx"}],[6671,{"./footer":6670},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return o.Footer}});var o=e("./footer")}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/footer/index.ts"}],[6672,{"../../../../../../helpers/constants/design-system":6899,"../../../../../component-library":6325,classnames:3913,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Header=void 0;var o=s(e("react")),a=s(e("classnames")),r=e("../../../../../component-library"),i=e("../../../../../../helpers/constants/design-system");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(null,arguments)}n.Header=({children:e,endAccessory:t=null,startAccessory:n=null,className:s="",textProps:c,...u})=>o.default.createElement(r.HeaderBase,l({padding:4,width:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,className:(0,a.default)("multichain-page-header",s),startAccessory:n,endAccessory:t},u),o.default.createElement(r.Text,l({display:i.Display.Block,variant:i.TextVariant.bodyMdBold,textAlign:i.TextAlign.Center,paddingInlineStart:2,paddingInlineEnd:2,ellipsis:!0},c),e))}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/header/header.tsx"}],[6673,{"./header":6672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return o.Header}});var o=e("./header")}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/header/index.ts"}],[6674,{"./components/content":6669,"./components/footer":6671,"./components/header":6673,"./page":6675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Content",{enumerable:!0,get:function(){return r.Content}}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return i.Footer}}),Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return a.Header}}),Object.defineProperty(n,"Page",{enumerable:!0,get:function(){return o.Page}});var o=e("./page"),a=e("./components/header"),r=e("./components/content"),i=e("./components/footer")}}},{package:"$root$",file:"ui/components/multichain/pages/page/index.ts"}],[6675,{"../../../../helpers/constants/design-system":6899,"../../../../pages/routes/utils":7740,"../../../component-library":6325,classnames:3913,"prop-types":4893,react:5080,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Page=void 0;var o=u(e("react")),a=u(e("prop-types")),r=u(e("classnames")),i=e("react-router-dom-v5-compat"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../pages/routes/utils");function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(null,arguments)}const m=({children:e,className:t="",...n})=>{const a=(0,i.useLocation)(),u=null==a||!a.pathname||!(0,c.hideAppHeader)({location:a}),m=(0,r.default)("multichain-page",{"multichain-page--has-app-header":u});return o.default.createElement(s.Box,{width:l.BlockSize.Full,height:l.BlockSize.Full,display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.center,backgroundColor:l.BackgroundColor.backgroundDefault,className:m,"data-testid":"multichain-page"},o.default.createElement(s.Box,d({width:l.BlockSize.Full,height:l.BlockSize.Full,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundDefault,className:(0,r.default)("multichain-page__inner-container",t)},n),e))};n.Page=m,m.propTypes={className:a.default.string,children:a.default.node}}}},{package:"$root$",file:"ui/components/multichain/pages/page/page.tsx"}],[6676,{"../../../../helpers/constants/design-system":6899,"../../../../helpers/utils/util":6959,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../../selectors/multichain-accounts/account-tree":7890,"../../../app/snaps/snap-icon":6087,"../../../component-library":6325,"@metamask/permission-controller":2329,"prop-types":4893,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectionListItem=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("@metamask/permission-controller"),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=e("../../../component-library"),d=e("../../../../helpers/utils/util"),m=e("../../../app/snaps/snap-icon"),p=e("../../../../selectors"),f=e("../../../../selectors/multichain-accounts/account-tree");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=({connection:e,onClick:t})=>{const n=(0,c.useI18nContext)(),o=e.subjectType===i.SubjectType.Snap,r=(0,s.useSelector)(t=>(0,p.getAllPermittedChainsForSelectedTab)(t,e.origin)),g=(0,s.useSelector)(f.getAccountGroupWithInternalAccounts),h=(0,s.useSelector)(p.getIsMultichainAccountsState2Enabled),k=(0,a.useMemo)(()=>{if(!h)return null;const e=new Set;return(g??[]).forEach(t=>{(t.accounts??[]).forEach(t=>{e.add(t.address)})}),e},[h,g]),y=(0,a.useMemo)(()=>{var t,n;if(!h)return(null===(n=e.addresses)||void 0===n?void 0:n.length)??0;if(!k||null===(t=e.addresses)||void 0===t||!t.length)return 0;let o=0;for(const t of e.addresses)k.has(t)&&(o+=1);return o},[h,k,e.addresses]);return a.default.createElement(u.Box,{"data-testid":"connection-list-item",as:"button",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.baseline,width:l.BlockSize.Full,backgroundColor:l.BackgroundColor.backgroundDefault,onClick:t,padding:4,gap:4,className:"multichain-connection-list-item"},a.default.createElement(u.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,style:{alignSelf:"center"}},o?a.default.createElement(m.SnapIcon,{className:"connection-list-item__snap-avatar",snapId:e.id,avatarSize:u.IconSize.Md}):a.default.createElement(u.AvatarFavicon,{"data-testid":"connection-list-item__avatar-favicon",src:e.iconUrl})),a.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,width:l.BlockSize.FiveTwelfths,style:{alignSelf:"center",flexGrow:"1"}},a.default.createElement(u.Text,{variant:l.TextVariant.bodyMd,textAlign:l.TextAlign.Left,ellipsis:!0},o?e.packageName:(0,d.getURLHost)(e.origin)),o?null:a.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,gap:1},a.default.createElement(u.Text,{as:"span",width:l.BlockSize.Max,color:l.TextColor.textAlternative,variant:l.TextVariant.bodyMd},y," ",n(1===y?"accountSmallCase":"accountsSmallCase"),"",r.length," ",n("networksSmallCase")))),a.default.createElement(u.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.flexEnd,alignItems:l.AlignItems.center,style:{flex:"1",alignSelf:"center"},gap:2},a.default.createElement(u.Icon,{display:l.Display.Flex,name:u.IconName.ArrowRight,color:l.IconColor.iconDefault,size:u.IconSize.Sm,backgroundColor:l.BackgroundColor.backgroundDefault})))};n.ConnectionListItem=h,h.propTypes={connection:r.default.object.isRequired,onClick:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/pages/permissions-page/connection-list-item.js"}],[6677,{"../../../../../shared/modules/environment":5736,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../component-library":6325,"../page":6674,"./connection-list-item":6676,"@metamask/snaps-utils":2781,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsPage=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom-v5-compat"),r=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../page"),l=e("../../../component-library"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../helpers/constants/routes"),m=e("../../../../selectors"),p=e("../../../../../shared/modules/environment"),f=e("./connection-list-item");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.PermissionsPage=()=>{const e=(0,c.useI18nContext)(),t=(0,a.useNavigate)(),n=(0,o.useRef)(),[g,h]=(0,o.useState)(0),k=(0,r.useSelector)(m.getConnectedSitesListWithNetworkInfo);(0,o.useEffect)(()=>{h(Object.keys(k).length)},[k]);return o.default.createElement(s.Page,{className:"main-container","data-testid":"permissions-page"},o.default.createElement(s.Header,{backgroundColor:u.BackgroundColor.backgroundDefault,startAccessory:o.default.createElement(l.ButtonIcon,{ariaLabel:e("back"),iconName:l.IconName.ArrowLeft,className:"connections-header__start-accessory",color:u.Color.iconDefault,onClick:()=>t((0,p.isGatorPermissionsRevocationFeatureEnabled)()?d.GATOR_PERMISSIONS:d.DEFAULT_ROUTE),size:l.ButtonIconSize.Sm,"data-testid":"permissions-page-back"})},o.default.createElement(l.Text,{as:"span",variant:u.TextVariant.headingMd,textAlign:u.TextAlign.Center,"data-testid":"permissions-page-title"},(0,p.isGatorPermissionsRevocationFeatureEnabled)()?e("sites"):e("permissions"))),o.default.createElement(s.Content,{padding:0},o.default.createElement(l.Box,{ref:n}),g>0?(y=k,Object.entries(y).map(([e,n])=>(0,i.isSnapId)(n.origin)?null:o.default.createElement(f.ConnectionListItem,{"data-testid":"connection-list-item",key:e,connection:n,onClick:()=>(e=>{const n=e.origin,o=encodeURIComponent(n);t(`${d.REVIEW_PERMISSIONS}/${o}`)})(n)}))):o.default.createElement(l.Box,{"data-testid":"no-connections",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full,gap:2,padding:4},o.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,backgroundColor:u.BackgroundColor.backgroundDefault,textAlign:u.TextAlign.Center},e("permissionsPageEmptyContent")),o.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative,backgroundColor:u.BackgroundColor.backgroundDefault,textAlign:u.TextAlign.Center},e("permissionsPageEmptySubContent")))));var y}}}},{package:"$root$",file:"ui/components/multichain/pages/permissions-page/permissions-page.js"}],[6678,{"../..":6568,"../../../../../shared/constants/network":5617,"../../../../../shared/lib/trace":5718,"../../../../../shared/modules/selectors/networks":5753,"../../../../helpers/constants/design-system":6899,"../../../../helpers/constants/routes":6904,"../../../../hooks/useI18nContext":7047,"../../../../selectors":7886,"../../../../store/actions":7916,"../../../component-library":6325,"../../disconnect-all-modal/disconnect-all-modal":6543,"../../permissions-header/permissions-header":6702,"../connections/components/no-connection":6654,"../page":6674,"./site-cell/site-cell":6681,"@metamask/utils":2914,lodash:4635,react:5080,"react-redux":5021,"react-router-dom-v5-compat":5043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReviewPermissions=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom-v5-compat"),i=e("@metamask/utils"),s=e("lodash"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../../shared/modules/selectors/networks"),d=e("../../../../selectors"),m=e("../../../../store/actions"),p=e("../../../component-library"),f=e("../.."),g=e("../connections/components/no-connection"),h=e("../page"),k=e("../../../../helpers/constants/routes"),y=e("../../disconnect-all-modal/disconnect-all-modal"),x=e("../../permissions-header/permissions-header"),b=e("../../../../../shared/constants/network"),w=e("../../../../../shared/lib/trace"),v=e("./site-cell/site-cell");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}n.ReviewPermissions=({params:e,navigate:t}={})=>{const n=(0,c.useI18nContext)(),C=(0,a.useDispatch)(),E=(0,r.useNavigate)(),T=(0,r.useParams)(),_=t||E,I=decodeURIComponent((e||T).origin),[M,N]=(0,o.useState)(!1),[S,A]=(0,o.useState)(!1),[P,O]=(0,o.useState)(!1),D=I,B=(0,a.useSelector)(d.getShowPermittedNetworkToastOpen);(0,o.useEffect)(()=>{B&&(A(B),C((0,m.hidePermittedNetworkToast)()))},[B]);const j=(0,a.useSelector)(d.getConnectedSitesList)[D],F=(0,a.useSelector)(d.getPermissionSubjects),R=(0,a.useSelector)(u.getAllNetworkConfigurationsByCaipChainId),[L,$]=(0,o.useMemo)(()=>Object.entries(R).reduce(([e,t],[n,o])=>{const a=n;return(b.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(a)?t:e).push({...o,caipChainId:a}),[e,t]},[[],[]]),[R]),z=(0,a.useSelector)(e=>(0,d.getAllPermittedChainsForSelectedTab)(e,D)),W=(0,a.useSelector)(d.getUpdatedAndSortedAccountsWithCaipAccountId),U=(0,a.useSelector)(e=>(0,d.getAllPermittedAccountsForSelectedTab)(e,D)),V=(0,s.uniq)(U.map(e=>{const{address:t,chain:{namespace:n}}=(0,i.parseCaipAccountId)(e);return n===i.KnownCaipNamespace.Eip155?`eip155:0:${t}`:e}));return o.default.createElement(h.Page,{"data-testid":"connections-page",className:"main-container connections-page"},o.default.createElement(o.default.Fragment,null,o.default.createElement(x.PermissionsHeader,{securedOrigin:I,connectedSubjectsMetadata:j}),o.default.createElement(h.Content,{padding:0},V.length>0?o.default.createElement(v.SiteCell,{nonTestNetworks:L,testNetworks:$,accounts:W,onSelectAccountAddresses:e=>{0!==e.length?(C((0,m.setPermittedAccounts)(D,e)),N(!0)):O(!0)},onSelectChainIds:async e=>{0!==e.length?(C((0,m.setPermittedChains)(D,e)),A(!0)):O(!0)},selectedAccountAddresses:V,selectedChainIds:z,hideAllToasts:()=>{N(!1),A(!1)}}):o.default.createElement(g.NoConnectionContent,null),P?o.default.createElement(y.DisconnectAllModal,{type:y.DisconnectType.Account,hostname:D,onClose:()=>O(!1),onClick:()=>{(0,w.trace)({name:w.TraceName.DisconnectAllModal}),(()=>{const e=F[D];if(e){const t=Object.values(e.permissions).map(({parentCapability:e})=>e);if(t.length>0){const e={[D]:t};C((0,m.removePermissionsFor)(e))}}C((0,m.hidePermittedNetworkToast)())})(),O(!1),(0,w.endTrace)({name:w.TraceName.DisconnectAllModal})}}):null),o.default.createElement(h.Footer,null,o.default.createElement(o.default.Fragment,null,V.length>0?o.default.createElement(p.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,width:l.BlockSize.Full,gap:2,alignItems:l.AlignItems.center},M?o.default.createElement(f.ToastContainer,null,o.default.createElement(f.Toast,{text:n("accountPermissionToast"),onClose:()=>N(!1),startAdornment:o.default.createElement(p.AvatarFavicon,{name:null==j?void 0:j.name,size:p.AvatarFaviconSize.Sm,src:null==j?void 0:j.iconUrl})})):null,S?o.default.createElement(f.ToastContainer,null,o.default.createElement(f.Toast,{text:n("networkPermissionToast"),onClose:()=>A(!1),startAdornment:o.default.createElement(p.AvatarFavicon,{name:null==j?void 0:j.name,size:p.AvatarFaviconSize.Sm,src:null==j?void 0:j.iconUrl})})):null,o.default.createElement(p.Button,{size:p.ButtonSize.Lg,block:!0,variant:p.ButtonVariant.Secondary,startIconName:p.IconName.Logout,danger:!0,onClick:()=>O(!0),"data-test-id":"disconnect-all"},n("disconnect"))):o.default.createElement(o.default.Fragment,null,V.length>0?o.default.createElement(p.ButtonPrimary,{size:p.ButtonPrimarySize.Lg,block:!0,"data-test-id":"no-connections-button",onClick:async()=>{const e=await C((0,m.requestAccountsAndChainPermissionsWithId)(D));_(`${k.CONNECT_ROUTE}/${e}`)}},n("connectAccounts")):null)))))}}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/review-permissions-page.tsx"}],[6679,{"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../component-library":6325,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SiteCellConnectionListItem=void 0;var o=l(e("react")),a=l(e("prop-types")),r=e("../../../../../helpers/constants/design-system"),i=e("../../../../component-library"),s=e("../../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const c=({title:e,iconName:t,connectedMessage:n,unconnectedMessage:a,isConnectFlow:l,onClick:c,content:u,paddingTopValue:d,paddingBottomValue:m})=>{const p=(0,s.useI18nContext)();return o.default.createElement(i.Box,{"data-testid":"site-cell-connection-list-item",display:r.Display.Flex,flexDirection:r.FlexDirection.Row,alignItems:r.AlignItems.baseline,width:r.BlockSize.Full,backgroundColor:r.BackgroundColor.backgroundDefault,gap:4,className:"multichain-connection-list-item",paddingTop:d,paddingBottom:m},o.default.createElement(i.AvatarIcon,{marginTop:1,iconName:t,size:i.AvatarIconSize.Md,color:r.IconColor.iconAlternative,backgroundColor:r.BackgroundColor.backgroundMuted}),o.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.FiveTwelfths,style:{alignSelf:"center",flexGrow:1},gap:1},o.default.createElement(i.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Left},e),o.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Row,alignItems:r.AlignItems.center,gap:1},o.default.createElement(i.Text,{as:"span",width:r.BlockSize.Max,color:r.TextColor.textAlternative,variant:r.TextVariant.bodySm,ellipsis:!0},l?a:n),u)),o.default.createElement(i.ButtonLink,{onClick:()=>c(),"data-testid":"edit"},p("edit")))};n.SiteCellConnectionListItem=c,c.propTypes={title:a.default.string,iconName:a.default.string,connectedMessage:a.default.string,paddingTopValue:a.default.number,paddingBottomValue:a.default.number,unconnectedMessage:a.default.string,isConnectFlow:a.default.bool,onClick:a.default.func,content:a.default.node}}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/site-cell/site-cell-connection-list-item.js"}],[6680,{"../../..":6568,"../../../../../../shared/constants/network":5617,"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../app/preferred-avatar/preferred-avatar":6034,"../../../../component-library":6325,"../../../avatar-group/avatar-group.types":6505,"@metamask/design-system-react":1741,"prop-types":4893,react:5080,"react-redux":5021,"react-tippy":5062},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SiteCellTooltip=void 0;var o=g(e("react")),a=g(e("prop-types")),r=e("react-tippy"),i=e("react-redux"),s=e("@metamask/design-system-react"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../avatar-group/avatar-group.types"),u=e("../../.."),d=e("../../../../component-library"),m=e("../../../../../hooks/useI18nContext"),p=e("../../../../../../shared/constants/network"),f=e("../../../../app/preferred-avatar/preferred-avatar");function g(e){return e&&e.__esModule?e:{default:e}}const h=({accounts:e,networks:t})=>{const n=(0,m.useI18nContext)(),a=(0,i.useSelector)(f.getAvatarType),g=null==e?void 0:e.map(e=>({avatarValue:e.address})),h=null==t?void 0:t.map(e=>({avatarValue:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],symbol:e.name}));return o.default.createElement(r.Tooltip,{position:"bottom",html:o.default.createElement(d.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,"data-test-id":"site-cell-tooltip"},o.default.createElement(d.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column},null==e?void 0:e.slice(0,4).map(e=>o.default.createElement(d.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,textAlign:l.TextAlign.Left,key:e.address,padding:1,paddingInline:2,gap:2},o.default.createElement(s.AvatarAccount,{size:s.AvatarAccountSize.Xs,address:e.address,variant:a,borderStyle:l.BorderStyle.none}),o.default.createElement(d.Text,{color:l.TextColor.overlayInverse,variant:l.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-connected-account-name",ellipsis:!0},e.metadata.name||e.label))),null==t?void 0:t.slice(0,4).map(e=>o.default.createElement(d.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,textAlign:l.TextAlign.Left,key:e.chainId,padding:1,paddingInline:2,gap:2},o.default.createElement(d.AvatarNetwork,{size:d.AvatarNetworkSize.Xs,src:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name,borderStyle:l.BorderStyle.none}),o.default.createElement(d.Text,{color:l.TextColor.overlayInverse,variant:l.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-connected-account-name",ellipsis:!0},e.name))),(null==e?void 0:e.length)>4||(null==t?void 0:t.length)>4?o.default.createElement(d.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,textAlign:l.TextAlign.Left,paddingInline:2},o.default.createElement(d.Text,{color:l.TextColor.textMuted,variant:l.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-plus-more-tooltip"},(null==e?void 0:e.length)>0?n("moreAccounts",[(null==e?void 0:e.length)-4]):n("moreNetworks",[t.length-4]))):null)),arrow:!0,offset:0,delay:50,duration:0,size:"small",title:n("alertDisableTooltip"),trigger:"mouseenter focus",theme:"dark",tag:"div"},(null==e?void 0:e.length)>0&&o.default.createElement(u.AvatarGroup,{members:g,limit:4,avatarType:c.AvatarType.ACCOUNT,borderColor:l.BackgroundColor.backgroundDefault}),(null==t?void 0:t.length)>0&&o.default.createElement(u.AvatarGroup,{members:h,limit:4,avatarType:c.AvatarType.TOKEN}))};n.SiteCellTooltip=h,h.propTypes={accounts:a.default.arrayOf(a.default.shape({address:a.default.string,label:a.default.string,metadata:a.default.shape({name:a.default.string})})),networks:a.default.arrayOf(a.default.shape({chainId:a.default.string,name:a.default.string}))}}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/site-cell/site-cell-tooltip.js"}],[6681,{"../../..":6568,"../../../../../../shared/constants/metametrics":5613,"../../../../../../shared/modules/string-utils":5761,"../../../../../contexts/metametrics":6855,"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../app/preferred-avatar":6033,"../../../../component-library":6325,"./site-cell-connection-list-item":6679,"./site-cell-tooltip":6680,"@metamask/design-system-react":1741,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SiteCell=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("@metamask/design-system-react"),r=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),s=e("../../../../component-library"),l=e("../../../../app/preferred-avatar"),c=e("../../.."),u=e("../../../../../contexts/metametrics"),d=e("../../../../../../shared/constants/metametrics"),m=e("../../../../../../shared/modules/string-utils"),p=e("./site-cell-tooltip"),f=e("./site-cell-connection-list-item");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.SiteCell=({nonTestNetworks:e,testNetworks:t,accounts:n,onSelectAccountAddresses:g,onSelectChainIds:h,selectedAccountAddresses:k,selectedChainIds:y,isConnectFlow:x,hideAllToasts:b=()=>undefined})=>{const w=(0,i.useI18nContext)(),v=(0,o.useContext)(u.MetaMetricsContext),C=[...e,...t],[E,T]=(0,o.useState)(!1),[_,I]=(0,o.useState)(!1),M=n.filter(({caipAccountId:e})=>k.some(t=>(0,m.isEqualCaseInsensitive)(t,e))),N=C.filter(({caipChainId:e})=>y.includes(e)),S=y.length,A=1===M.length?w("connectedWithAccountName",[M[0].metadata.name||M[0].label]):w("connectedWithAccount",[M.length]),P=1===M.length?w("requestingForAccount",[M[0].metadata.name||M[0].label]):w("requestingFor"),O=1===S?w("connectedWithNetworkName",[N[0].name]):w("connectedWithNetwork",[S]),D=1===S?w("requestingForNetwork",[N[0].name]):w("requestingFor");return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Box,{padding:4,gap:4,backgroundColor:r.BackgroundColor.backgroundDefault,borderRadius:r.BorderRadius.LG},o.default.createElement(f.SiteCellConnectionListItem,{title:w("accountsPermissionsTitle"),iconName:s.IconName.Wallet,connectedMessage:A,unconnectedMessage:P,isConnectFlow:x,onClick:()=>{null==b||b(),T(!0),v({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (permissions tab), Permissions toast, Permissions (dapp)"}})},paddingBottomValue:2,paddingTopValue:0,content:1===M.length?o.default.createElement(l.PreferredAvatar,{address:M[0].address,size:a.AvatarAccountSize.Xs}):o.default.createElement(p.SiteCellTooltip,{accounts:M})}),o.default.createElement(f.SiteCellConnectionListItem,{title:w("permission_walletSwitchEthereumChain"),iconName:s.IconName.Data,connectedMessage:O,unconnectedMessage:D,isConnectFlow:x,onClick:()=>{null==b||b(),I(!0),v({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.ViewPermissionedNetworks,properties:{location:"Connect view (permissions tab), Permissions toast, Permissions (dapp)"}})},paddingTopValue:2,paddingBottomValue:0,content:o.default.createElement(p.SiteCellTooltip,{networks:N})})),E&&o.default.createElement(c.EditAccountsModal,{accounts:n,defaultSelectedAccountAddresses:k,onClose:()=>T(!1),onSubmit:g}),_&&o.default.createElement(c.EditNetworksModal,{nonTestNetworks:e,testNetworks:t,defaultSelectedChainIds:y,onClose:()=>I(!1),onSubmit:h}))}}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/site-cell/site-cell.tsx"}],[6682,{"../../..":6568,"../../../../../contexts/i18n":6850,"../../../../../ducks/send":6891,"../../../../../helpers/constants/design-system":6899,"../../../../../selectors":7886,"../../../../component-library":6325,"../../../account-picker":6469,"./send-page-row":6696,"@metamask/keyring-api":2100,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageAccountPicker=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/keyring-api"),i=e("../../../../../selectors"),s=e("../../../../component-library"),l=e("../../../account-picker"),c=e("../../../../../helpers/constants/design-system"),u=e("../../../../../contexts/i18n"),d=e("../../.."),m=e("../../../../../ducks/send"),p=e("./send-page-row");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const g={showOptions:!1};n.SendPageAccountPicker=()=>{const e=(0,o.useContext)(u.I18nContext),t=(0,a.useSelector)(i.getSelectedInternalAccount),[n,f]=(0,o.useState)(!1),h=(0,a.useSelector)(m.getSendStage),k=m.SEND_STAGES.EDIT===h,y=(0,o.useCallback)(()=>{f(!1)},[]);return o.default.createElement(p.SendPageRow,null,o.default.createElement(s.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.spaceBetween},o.default.createElement(s.Label,{paddingBottom:2},e("from"))),o.default.createElement(l.AccountPicker,{className:"multichain-send-page__account-picker",address:t.address,name:t.metadata.name,onClick:()=>f(!0),showAddress:!0,borderColor:c.BorderColor.borderMuted,borderWidth:1,paddingTop:3,paddingBottom:3,paddingLeft:3,block:!0,justifyContent:c.JustifyContent.flexStart,addressProps:{display:c.Display.Flex,textAlign:c.TextAlign.Start},labelProps:{style:{flexGrow:1,textAlign:"start"},paddingInlineStart:1,className:"multichain-send-page__account-picker__label"},textProps:{display:c.Display.Flex,width:c.BlockSize.Full},width:c.BlockSize.Full,disabled:k,"data-testid":"send-page-account-picker"}),n?o.default.createElement(d.AccountListMenu,{accountListItemProps:g,showAccountCreation:!1,onClose:y,allowedAccountTypes:[r.EthAccountType.Eoa,r.EthAccountType.Erc4337]}):null)}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/account-picker.tsx"}],[6683,{"../../../../../../shared/constants/metametrics":5613,"../../../../../../shared/modules/selectors/networks":5753,"../../../../../contexts/i18n":6850,"../../../../../contexts/metametrics":6855,"../../../../../ducks/send":6891,"../../../../../helpers/constants/design-system":6899,"../../../../../helpers/constants/routes":6904,"../../../../../selectors":7886,"../../../../../store/actions":7916,"../../../../app/contact-list":5900,"../../../../component-library":6325,"./send-page-row":6696,"fuse.js":4238,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageAddressBook=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=y(e("fuse.js")),i=e("../../../../component-library"),s=e("../../../../../contexts/i18n"),l=y(e("../../../../app/contact-list")),c=e("../../../../../selectors"),u=e("../../../../../ducks/send"),d=e("../../../../../helpers/constants/design-system"),m=e("../../../../../helpers/constants/routes"),p=e("../../../../../contexts/metametrics"),f=e("../../../../../../shared/constants/metametrics"),g=e("../../../../../../shared/modules/selectors/networks"),h=e("../../../../../store/actions"),k=e("./send-page-row");function y(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.SendPageAddressBook=()=>{const e=(0,o.useContext)(s.I18nContext),t=(0,a.useDispatch)(),n=(0,o.useContext)(p.MetaMetricsContext),y=(0,a.useSelector)(c.getCompleteAddressBook),x=(0,a.useSelector)(c.getInternalAccounts),b=y.filter(({name:e})=>Boolean(e)),w=(0,a.useSelector)(c.getCurrentNetworkTransactions),v=(0,a.useSelector)(g.getCurrentChainId),C=(0,a.useSelector)(c.getNetworkConfigurationIdByChainId),E=[...w].reverse(),T=y.filter(({name:e})=>!e).map(e=>{const t=E.find(t=>t.txParams.to===e.address.toLowerCase());return{...e,timestamp:null==t?void 0:t.time}}),_=(0,a.useSelector)(u.getRecipientUserInput),I=new r.default(b,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"address",weight:.5}]}),M=new r.default(T,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"address",weight:.5}]}),N=(0,o.useCallback)((e="",o="",a="user input")=>{t((0,u.addHistoryEntry)(`sendFlow - User clicked recipient from ${a}. address: ${e}, nickname ${o}`)),n({event:f.MetaMetricsEventName.SendRecipientSelected,category:f.MetaMetricsEventCategory.Send,properties:{location:"address book",inputType:a}},{excludeMetaMetricsId:!1}),t((0,u.updateRecipient)({address:e,nickname:o})),t((0,u.updateRecipientUserInput)(e))},[t,n]),S=(0,o.useCallback)(async(e="",n="",o="")=>{if(o&&o!==v){const e=C[o];t((0,h.setActiveNetworkWithError)(e))}N(e,n,(n?"contact":"recent")+" list")},[v,C,t,N]);return o.default.createElement(k.SendPageRow,null,y.length?o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{addressBook:y,internalAccounts:x,searchForContacts:()=>_?(I.setCollection(b),I.search(_)):b,searchForRecents:()=>_?(M.setCollection(T),M.search(_)):T,selectRecipient:S})):o.default.createElement(i.Box,{padding:6,textAlign:d.TextAlign.Center},o.default.createElement(i.Text,{marginBottom:4,fontWeight:d.FontWeight.Bold},e("sendNoContactsTitle")),o.default.createElement(i.Text,{color:d.TextColor.textAlternative},e("sendNoContactsDescription",[o.default.createElement(i.Text,{as:"a",href:`#${m.CONTACT_LIST_ROUTE}`,color:d.TextColor.primaryDefault},e("sendNoContactsConversionText"))]))))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/address-book.tsx"}],[6684,{"../../../../../contexts/i18n":6850,"../../../../../helpers/constants/design-system":6899,"../../../../../helpers/utils/util":6959,"../../../../app/preferred-avatar":6033,"../../../../component-library":6325,"../../../../ui/confusable":6737,"../../../../ui/tooltip":6835,"prop-types":4893,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DomainInputResolutionCell=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=m(e("prop-types")),r=e("../../../../../contexts/i18n"),i=m(e("../../../../ui/confusable")),s=e("../../../../component-library"),l=e("../../../../../helpers/constants/design-system"),c=m(e("../../../../ui/tooltip")),u=e("../../../../../helpers/utils/util"),d=e("../../../../app/preferred-avatar");function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({address:e,domainName:t,resolvingSnap:n="",onClick:a,protocol:m})=>{const p=(0,o.useContext)(r.I18nContext),f=(0,o.useRef)(null),g=(0,o.useRef)(null),[h,k]=(0,o.useState)(!1);(0,o.useEffect)(()=>{var e;if(!f.current)return;let n=f.current.offsetWidth<f.current.scrollWidth;const o=null===(e=f.current.textContent)||void 0===e?void 0:e.length;n&&!g.current&&o&&(g.current=o),n||g.current&&(t.length>=g.current?n=!0:(n=!1,g.current=null)),n!==h&&k(n)},[t,h]);const y=()=>o.default.createElement(c.default,{containerClassName:"multichain-send-page__recipient__item__title-tooltip",wrapperClassName:"multichain-send-page__recipient__item__title-tooltip-container",position:"bottom",title:t},o.default.createElement(i.default,{asText:!0,input:t,confusableWrapperName:"multichain-send-page__recipient__item__title-confusable-wrapper"}));return o.default.createElement(s.Box,{key:e,className:"multichain-send-page__recipient__item",onClick:()=>a(),display:l.Display.Flex,alignItems:l.AlignItems.center,paddingBottom:2,style:{cursor:"pointer"},"data-testid":"multichain-send-page__recipient__item"},o.default.createElement(c.default,{title:p("suggestedBySnap",[n])},o.default.createElement(s.BadgeWrapper,{badge:o.default.createElement(s.AvatarIcon,{iconName:s.IconName.Snaps,size:s.AvatarIconSize.Xs,className:"multichain-send-page__recipient__item__avatar",backgroundColor:l.BackgroundColor.infoDefault,borderColor:l.BorderColor.backgroundDefault,borderWidth:2,iconProps:{color:l.IconColor.infoInverse,style:{width:"12px",height:"12px"},name:s.IconName.Snaps}}),positionObj:{bottom:"25%",right:"10%"},badgeContainerProps:{className:"multichain-send-page__recipient__item__badge"}},o.default.createElement(d.PreferredAvatar,{address:e}))),o.default.createElement(s.Box,{className:"multichain-send-page__recipient__item__content",paddingLeft:4,style:{overflow:"hidden"}},o.default.createElement(s.Box,{ref:f,className:"multichain-send-page__recipient__item__title","data-testid":"multichain-send-page__recipient__item__title",display:l.Display.Flex},h?o.default.createElement(y,null):o.default.createElement(i.default,{asText:!0,input:t})),o.default.createElement(s.Text,{color:l.TextColor.textAlternative},(0,u.shortenAddress)(e)),o.default.createElement(s.Box,{className:"multichain-send-page__recipient__item__subtitle","data-testid":"multichain-send-page__recipient__item__subtitle"},o.default.createElement(s.Text,{color:l.TextColor.textAlternative,variant:l.TextVariant.bodySm},m))))};n.DomainInputResolutionCell=f,f.propTypes={address:a.default.string.isRequired,domainName:a.default.string.isRequired,resolvingSnap:a.default.string.isRequired,onClick:a.default.func,protocol:a.default.string}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/domain-input-resolution-cell.tsx"}],[6685,{"../../../../../ducks/send":6891,"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useI18nContext":7047,"../../../../../pages/confirmations/send-legacy/send.constants":7577,"../../../../component-library":6325,"../../../../component-library/textarea":6388,"./send-page-row":6696,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendHexData=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("../../../../../hooks/useI18nContext"),s=e("../../../../component-library"),l=e("../../../../../ducks/send"),c=e("../../../../component-library/textarea"),u=e("../../../../../pages/confirmations/send-legacy/send.constants"),d=e("../../../../../helpers/constants/design-system"),m=e("./send-page-row");n.SendHexData=()=>{const e=(0,i.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,r.useSelector)(l.getSendHexData),o=(0,r.useSelector)(l.getSendHexDataError),p=o===u.INVALID_HEX_DATA_ERROR,f=Boolean(o);return a.default.createElement(m.SendPageRow,null,a.default.createElement(s.Label,null,e("hexData")),a.default.createElement(c.Textarea,{onInput:e=>{const n=e.target.value.replace(/\n/gu,"")||null;t((0,l.updateSendHexData)(n??""))},placeholder:e("optional"),defaultValue:n||"","data-testid":"send-hex-textarea",error:f}),p&&a.default.createElement(s.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.errorDefault},e("invalidHexData")))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/hex.tsx"}],[6686,{"./account-picker":6682,"./address-book":6683,"./domain-input-resolution-cell":6684,"./hex":6685,"./network-picker":6687,"./quote-card":6692,"./recipient":6695,"./recipient-content":6693,"./recipient-input":6694,"./send-page-row":6696,"./your-accounts":6697},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DomainInputResolutionCell",{enumerable:!0,get:function(){return p.DomainInputResolutionCell}}),Object.defineProperty(n,"QuoteCard",{enumerable:!0,get:function(){return m.QuoteCard}}),Object.defineProperty(n,"SendHexData",{enumerable:!0,get:function(){return d.SendHexData}}),Object.defineProperty(n,"SendPageAccountPicker",{enumerable:!0,get:function(){return a.SendPageAccountPicker}}),Object.defineProperty(n,"SendPageAddressBook",{enumerable:!0,get:function(){return l.SendPageAddressBook}}),Object.defineProperty(n,"SendPageNetworkPicker",{enumerable:!0,get:function(){return r.SendPageNetworkPicker}}),Object.defineProperty(n,"SendPageRecipient",{enumerable:!0,get:function(){return c.SendPageRecipient}}),Object.defineProperty(n,"SendPageRecipientContent",{enumerable:!0,get:function(){return u.SendPageRecipientContent}}),Object.defineProperty(n,"SendPageRecipientInput",{enumerable:!0,get:function(){return s.SendPageRecipientInput}}),Object.defineProperty(n,"SendPageRow",{enumerable:!0,get:function(){return o.SendPageRow}}),Object.defineProperty(n,"SendPageYourAccounts",{enumerable:!0,get:function(){return i.SendPageYourAccounts}});var o=e("./send-page-row"),a=e("./account-picker"),r=e("./network-picker"),i=e("./your-accounts"),s=e("./recipient-input"),l=e("./address-book"),c=e("./recipient"),u=e("./recipient-content"),d=e("./hex"),m=e("./quote-card"),p=e("./domain-input-resolution-cell")}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/index.ts"}],[6687,{"../../../../../selectors":7886,"../../../../../store/actions":7916,"../../../../component-library":6325,"./send-page-row":6696,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageNetworkPicker=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("../../../../../selectors"),s=e("../../../../../store/actions"),l=e("../../../../component-library"),c=e("./send-page-row");n.SendPageNetworkPicker=()=>{var e;const t=(0,r.useSelector)(i.getCurrentNetwork),n=(0,r.useDispatch)();return a.default.createElement(c.SendPageRow,null,a.default.createElement(l.PickerNetwork,{label:(null==t?void 0:t.nickname)??"",src:null==t||null===(e=t.rpcPrefs)||void 0===e?void 0:e.imageUrl,onClick:()=>n((0,s.toggleNetworkMenu)()),"data-testid":"send-page-network-picker"}))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/network-picker.tsx"}],[6688,{"../../../../../../../../shared/constants/common":5601,"../../../../../../../../shared/modules/Numeric":5727,"../../../../../../../../shared/modules/selectors/networks":5753,"../../../../../../../ducks/metamask/metamask":6883,"../../../../../../../ducks/swaps/swaps":6895,"../../../../../../../helpers/utils/confirm-tx.util":6927,"../../../../../../../selectors/selectors":7903,"./utils":6691,"@metamask/utils":2914,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e=0){const t=(0,a.useDispatch)(),n=(0,a.useSelector)(s.getNativeCurrency),f=(0,a.useSelector)(s.getConversionRate),g=(0,a.useSelector)(s.getCurrentCurrency),h=(0,a.useSelector)(c.checkNetworkAndAccountSupports1559),{medium:k,gasPrice:y}=(0,a.useSelector)(s.getGasFeeEstimates),x=y??(null==k?void 0:k.suggestedMaxFeePerGas),b=(0,a.useSelector)(u.getCurrentChainId),w=(0,a.useSelector)(c.getIsSwapsChain),v=(0,a.useSelector)(d.getUsedSwapsGasPrice);return(0,o.useEffect)(()=>{w&&(h||t((0,d.fetchAndSetSwapsGasPriceInfo)()))},[t,b,h,w]),(0,o.useMemo)(()=>{const t=h?x:v;if(!t)return{formattedFiatGasFee:"",formattedEthGasFee:""};const o=new i.Numeric(t,(0,r.isHexString)(t)?16:10,l.EtherDenomination.GWEI).times(new i.Numeric(e,10)).toDenomination(l.EtherDenomination.ETH),a=f?o.applyConversionRate(f).toNumber():undefined;return{formattedFiatGasFee:a?(0,m.formatCurrency)(new i.Numeric(a,10).toString(),g):"",formattedEthGasFee:`${(0,p.toFixedNoTrailingZeros)(o.toNumber())} ${n}`}},[h,null==k?void 0:k.suggestedMaxFeePerGas,v,e,f,g,n])};var o=e("react"),a=e("react-redux"),r=e("@metamask/utils"),i=e("../../../../../../../../shared/modules/Numeric"),s=e("../../../../../../../ducks/metamask/metamask"),l=e("../../../../../../../../shared/constants/common"),c=e("../../../../../../../selectors/selectors"),u=e("../../../../../../../../shared/modules/selectors/networks"),d=e("../../../../../../../ducks/swaps/swaps"),m=e("../../../../../../../helpers/utils/confirm-tx.util"),p=e("./utils")}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/hooks/useEthFeeData.tsx"}],[6689,{"../../../../../../../../shared/constants/transaction":5637,"../../../../../../../../shared/lib/transactions-controller-utils":5720,"../../../../../../../../shared/modules/Numeric":5727,"../../../../../../../ducks/metamask/metamask":6883,"../../../../../../../ducks/send":6891,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,d;const m=(0,a.useSelector)(r.getBestQuote),{sendAsset:p,receiveAsset:f}=(0,a.useSelector)(r.getCurrentDraftTransaction),g=(0,a.useSelector)(c.getNativeCurrency),h=(null==p?void 0:p.type)===i.AssetType.native?g:null==p||null===(e=p.details)||void 0===e?void 0:e.symbol,k=(null==f?void 0:f.type)===i.AssetType.native?g:null==f||null===(t=f.details)||void 0===t?void 0:t.symbol;return(0,o.useMemo)(()=>{if(m&&p&&f){var e,t;const n=(0,s.calcTokenAmount)(m.sourceAmount,(null===(e=p.details)||void 0===e?void 0:e.decimals)||u),o=(0,s.calcTokenAmount)(m.destinationAmount,(null===(t=f.details)||void 0===t?void 0:t.decimals)||u),a=new l.Numeric(o).divide(n).round(9).toNumber();return`1 ${h} = ${a} ${k}`}return undefined},[null==m?void 0:m.sourceAmount,null==m?void 0:m.destinationAmount,null==p||null===(n=p.details)||void 0===n?void 0:n.decimals,null==f||null===(d=f.details)||void 0===d?void 0:d.decimals,h,k])};var o=e("react"),a=e("react-redux"),r=e("../../../../../../../ducks/send"),i=e("../../../../../../../../shared/constants/transaction"),s=e("../../../../../../../../shared/lib/transactions-controller-utils"),l=e("../../../../../../../../shared/modules/Numeric"),c=e("../../../../../../../ducks/metamask/metamask");const u=18}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/hooks/useGetConversionRate.tsx"}],[6690,{"../../../../../../../../shared/constants/network":5617,"../../../../../../../../shared/modules/selectors/networks":5753,"../../../../../../../hooks/useI18nContext":7047,"@metamask/controller-utils":1383,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useSelector)(s.getCurrentChainId),t=(0,i.useI18nContext)();switch((0,a.toHex)(e)){case r.CHAIN_IDS.MAINNET:return t("networkNameEthereum");case r.CHAIN_IDS.BSC:return t("networkNameBSC");case r.CHAIN_IDS.POLYGON:return t("networkNamePolygon");case r.CHAIN_IDS.LOCALHOST:return t("networkNameTestnet");case r.CHAIN_IDS.GOERLI:return t("networkNameGoerli");case r.CHAIN_IDS.AVALANCHE:return t("networkNameAvalanche");case r.CHAIN_IDS.OPTIMISM:return t("networkNameOpMainnet");case r.CHAIN_IDS.ARBITRUM:return t("networkNameArbitrum");case r.CHAIN_IDS.ZKSYNC_ERA:return t("networkNameZkSyncEra");case r.CHAIN_IDS.LINEA_MAINNET:return t("networkNameLinea");case r.CHAIN_IDS.BASE:return t("networkNameBase");default:return undefined}};var o=e("react-redux"),a=e("@metamask/controller-utils"),r=e("../../../../../../../../shared/constants/network"),i=e("../../../../../../../hooks/useI18nContext"),s=e("../../../../../../../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/hooks/useTranslatedNetworkName.tsx"}],[6691,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toFixedNoTrailingZeros=void 0;const o=/0+$/u;n.toFixedNoTrailingZeros=(e,t=7)=>{const n=e.toFixed(t).replace(o,"");return n.endsWith(".")?n.slice(0,-1):n}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/hooks/utils.ts"}],[6692,{"../../../../../../../shared/constants/metametrics":5613,"../../../../../../../shared/constants/time":5635,"../../../../../../../shared/lib/ui-utils":5725,"../../../../../../../shared/modules/conversion.utils":5732,"../../../../../../contexts/metametrics":6855,"../../../../../../ducks/send":6891,"../../../../../../helpers/constants/design-system":6899,"../../../../../../hooks/useI18nContext":7047,"../../../../../component-library":6325,"../../../../../ui/info-tooltip/info-tooltip-icon":6773,"../../../../../ui/tooltip":6835,"./hooks/useEthFeeData":6688,"./hooks/useGetConversionRate":6689,"./hooks/useTranslatedNetworkName":6690,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuoteCard=function({scrollRef:e}){var t;const n=(0,l.useI18nContext)(),x=(0,a.useDispatch)(),b=(0,a.useSelector)(s.getSendAnalyticProperties),v=(0,k.default)(),C=(0,o.useContext)(f.MetaMetricsContext),{isSwapQuoteLoading:E}=(0,a.useSelector)(s.getCurrentDraftTransaction),T=(0,a.useSelector)(s.getBestQuote),[_,I]=(0,o.useState)(undefined),{formattedEthGasFee:M,formattedFiatGasFee:N}=(0,h.default)(((null==T?void 0:T.gasParams.maxGas)||0)+Number((0,g.hexToDecimal)((null==T||null===(t=T.approvalNeeded)||void 0===t?void 0:t.gas)||"0x0"))),S=(0,y.default)(),A=(0,o.useRef)(T);(0,o.useEffect)(()=>{const t=T&&A.current===undefined;var n;(A.current=T,t)&&(null===(n=e.current)||void 0===n||n.scrollIntoView({behavior:"smooth",block:"start"}));T?(C({event:m.MetaMetricsEventName.sendSwapQuoteReceived,category:m.MetaMetricsEventCategory.Send,properties:{is_first_fetch:t},sensitiveProperties:{...b}},{excludeMetaMetricsId:!1}),I(w)):I(undefined)},[T]),(0,o.useEffect)(()=>{if(E||_===undefined)return;_<=0&&x((0,s.updateSendQuote)(!1,!0));const e=setTimeout(()=>I(_-1),c.SECOND);return()=>clearTimeout(e)},[_]),(0,o.useEffect)(()=>{E?C({event:m.MetaMetricsEventName.sendSwapQuoteRequested,category:m.MetaMetricsEventCategory.Send,sensitiveProperties:{...b}},{excludeMetaMetricsId:!1}):T&&C({event:m.MetaMetricsEventName.sendSwapQuoteReceived,category:m.MetaMetricsEventCategory.Send,sensitiveProperties:{...b}},{excludeMetaMetricsId:!1})},[E]);const P=(0,o.useMemo)(()=>{if(E)return n("swapFetchingQuotes");if(T){const e=`0${_}`.slice(-2);return _?n("swapNewQuoteIn",[`0:${e}`]):undefined}return undefined},[E,T,_]);if(!Boolean(P||T))return null;return o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,gap:2},P&&o.default.createElement(r.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm,className:"quote-card__fetch-status"},P),T&&o.default.createElement(r.Box,{backgroundColor:i.BackgroundColor.backgroundAlternative,borderRadius:i.BorderRadius.LG,width:i.BlockSize.Full,gap:2,padding:3},o.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center},o.default.createElement(r.Text,{className:"quote-card__text",color:i.TextColor.textAlternative,marginRight:"auto",variant:i.TextVariant.bodySm},n("quoteRate")),o.default.createElement(r.Text,{marginLeft:"auto",variant:i.TextVariant.bodySm,"data-testid":"quote-card__conversion-rate"},S)),o.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center},o.default.createElement(r.Box,{display:i.Display.Flex,marginRight:"auto",gap:1,alignItems:i.AlignItems.center},o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},n("transactionDetailGasHeading")),o.default.createElement(u.default,{interactive:!0,position:"left",containerClassName:"info-tooltip__tooltip-container",tooltipInnerClassName:"info-tooltip__tooltip-content",tooltipArrowClassName:"info-tooltip__left-tooltip-arrow",style:{display:"flex",height:"12px",aspectRatio:"1"},html:o.default.createElement(o.default.Fragment,null,o.default.createElement("p",null,n("swapGasFeesSummary",[v])),o.default.createElement("p",null,n("swapGasFeesDetails")),o.default.createElement("p",null,o.default.createElement("a",{onClick:()=>{C({event:'Clicked "Gas Fees: Learn More" Link',category:m.MetaMetricsEventCategory.Swaps}),global.platform.openTab({url:p.GAS_FEES_LEARN_MORE_URL})},target:"_blank",rel:"noreferrer"},n("swapGasFeesLearnMore")))),theme:"tippy-tooltip-info"},o.default.createElement(d.default,{fillColor:"var(--color-icon-alternative)"}))),o.default.createElement(r.Box,{display:i.Display.Flex,marginLeft:"auto"},o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,"data-testid":"quote-card__gas-fee"},M),N&&o.default.createElement(r.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm,marginLeft:1,"data-testid":"quote-card__fiat-gas-fee"}," ",N)))),T&&o.default.createElement(r.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},n("swapIncludesMMFeeAlt",[null==T?void 0:T.fee])),T&&o.default.createElement(r.ButtonLink,{variant:i.TextVariant.bodySm,href:p.CONSENSYS_TERMS_OF_USE,target:"_blank",className:"quote-card__TOS"},n("termsOfService")),o.default.createElement("div",{ref:e}))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../../../component-library"),i=e("../../../../../../helpers/constants/design-system"),s=e("../../../../../../ducks/send"),l=e("../../../../../../hooks/useI18nContext"),c=e("../../../../../../../shared/constants/time"),u=x(e("../../../../../ui/tooltip")),d=x(e("../../../../../ui/info-tooltip/info-tooltip-icon")),m=e("../../../../../../../shared/constants/metametrics"),p=e("../../../../../../../shared/lib/ui-utils"),f=e("../../../../../../contexts/metametrics"),g=e("../../../../../../../shared/modules/conversion.utils"),h=x(e("./hooks/useEthFeeData")),k=x(e("./hooks/useTranslatedNetworkName")),y=x(e("./hooks/useGetConversionRate"));function x(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const w=30}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/index.tsx"}],[6693,{"../../..":6568,"../../../../../../shared/constants/transaction":5637,"../../../../../../shared/modules/conversion.utils":5732,"../../../../../../shared/modules/string-utils":5761,"../../../../../ducks/metamask/metamask":6883,"../../../../../ducks/send":6891,"../../../../../helpers/constants/common":6897,"../../../../../helpers/constants/design-system":6899,"../../../../../hooks/useGetAssetImageUrl":7045,"../../../../../hooks/useI18nContext":7047,"../../../../../selectors":7886,"../../../../component-library":6325,"../../../asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6490,"./hex":6685,"./quote-card":6692,"./send-page-row":6696,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageRecipientContent=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../../../component-library"),s=e("../../../../../ducks/metamask/metamask"),l=e("../../../../../ducks/send"),c=e("../../../../../../shared/constants/transaction"),u=e("../../../../../helpers/constants/common"),d=e("../../../../../helpers/constants/design-system"),m=e("../../../../../hooks/useI18nContext"),p=e("../../.."),f=e("../../../../../../shared/modules/conversion.utils"),g=e("../../../../../selectors"),h=(o=e("../../../../../hooks/useGetAssetImageUrl"))&&o.__esModule?o:{default:o},k=e("../../../../../../shared/modules/string-utils"),y=e("../../../asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),x=e("./send-page-row"),b=e("./quote-card"),w=e("./hex");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.SendPageRecipientContent=({requireContractAddressAcknowledgement:e,onAssetChange:t,onClick:n})=>{var o,v,C,E,T,_,I;const M=(0,m.useI18nContext)(),{receiveAsset:N,sendAsset:S,amount:A,isSwapQuoteLoading:P}=(0,r.useSelector)(l.getCurrentDraftTransaction),O=(0,r.useSelector)(g.getUseExternalServices),D=(0,r.useSelector)(g.getIsSwapsChain),B=(0,r.useSelector)(l.getIsSwapAndSendDisabledForNetwork),j=(0,r.useSelector)(l.getSwapsBlockedTokens),F=(0,a.useMemo)(()=>new Set(j),[j]),R=(0,r.useSelector)(s.getNativeCurrency),L=(0,r.useSelector)(g.getNativeCurrencyImage),$=(0,r.useSelector)(g.getTokenList),z=(0,r.useSelector)(g.getIpfsGateway),W=(0,h.default)((null===(o=S.details)||void 0===o?void 0:o.image)??undefined,z),U=D&&!B&&[c.AssetType.token,c.AssetType.native].includes(S.type)&&O&&!F.has(null===(v=S.details)||void 0===v||null===(v=v.address)||void 0===v?void 0:v.toLowerCase()),V=(0,r.useSelector)(l.getBestQuote),H=!V&&P,G=(0,k.isEqualCaseInsensitive)((null===(C=N.details)||void 0===C?void 0:C.address)??"",(null===(E=S.details)||void 0===E?void 0:E.address)??""),K=G?A:{value:(0,f.decimalToHex)((null==V?void 0:V.destinationAmount)||"0")},J=(0,r.useSelector)(s.getSendHexDataFeatureFlagState),q=(0,r.useSelector)(l.getSendAsset),Y=G&&J&&q&&q.type!==c.AssetType.token&&q.type!==c.AssetType.NFT,X=(0,a.useRef)(null),Q=(0,r.useDispatch)();return a.default.createElement(i.Box,null,e?a.default.createElement(x.SendPageRow,null,a.default.createElement(i.BannerAlert,{severity:i.BannerAlertSeverity.Danger,"data-testid":"send-warning",actionButtonLabel:M("tooltipApproveButton"),actionButtonOnClick:()=>{Q((0,l.acknowledgeRecipientWarning)())},actionButtonProps:{display:d.Display.Block,marginTop:4}},M("sendingToTokenContractWarning",[a.default.createElement("a",{key:"contractWarningSupport",target:"_blank",rel:"noopener noreferrer",className:"send__warning-container__link",href:u.CONTRACT_ADDRESS_LINK},M("learnMoreUpperCase"))]))):null,a.default.createElement(x.SendPageRow,null,a.default.createElement(p.AssetPickerAmount,{header:M("sendSelectReceiveAsset"),action:"receive",asset:U?N:S,sendingAsset:U&&S&&{image:S.type===c.AssetType.native?L:$&&S.details&&(W||(null===(T=$[null===(_=S.details.address)||void 0===_?void 0:_.toLowerCase()])||void 0===T?void 0:T.iconUrl)),symbol:(null==S||null===(I=S.details)||void 0===I?void 0:I.symbol)||R},onAssetChange:(0,a.useCallback)(e=>t(e,U),[t,U]),isAmountLoading:H,amount:K,isDisabled:!U,onClick:n,showNetworkPicker:!1,visibleTabs:[y.TabName.TOKENS]})),a.default.createElement(b.QuoteCard,{scrollRef:X}),Y?a.default.createElement(w.SendHexData,null):null,a.default.createElement("div",{ref:X}))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/recipient-content.tsx"}],[6694,{"../../../../../../shared/constants/metametrics":5613,"../../../../../../shared/modules/hexstring-utils":5741,"../../../../../contexts/i18n":6850,"../../../../../contexts/metametrics":6855,"../../../../../ducks/send":6891,"../../../../../helpers/utils/util":6959,"../../../../../pages/confirmations/send-legacy/send-content/add-recipient/domain-input":7576,"../../../../../store/actions":7916,"../../../../component-library":6325,"./send-page-row":6696,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageRecipientInput=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../../../component-library"),s=(o=e("../../../../../pages/confirmations/send-legacy/send-content/add-recipient/domain-input"))&&o.__esModule?o:{default:o},l=e("../../../../../contexts/i18n"),c=e("../../../../../ducks/send"),u=e("../../../../../store/actions"),d=e("../../../../../contexts/metametrics"),m=e("../../../../../../shared/constants/metametrics"),p=e("../../../../../helpers/utils/util"),f=e("../../../../../../shared/modules/hexstring-utils"),g=e("./send-page-row");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.SendPageRecipientInput=()=>{const e=(0,a.useContext)(l.I18nContext),t=(0,r.useDispatch)(),n=(0,a.useContext)(d.MetaMetricsContext),o=(0,r.useSelector)(c.getRecipient),h=(0,r.useSelector)(c.getRecipientUserInput),k=(0,r.useSelector)(c.getIsUsingMyAccountForRecipientSearch),y=(0,a.useCallback)(e=>{t((0,c.updateRecipientUserInput)(e))},[t]),x=(0,a.useCallback)(async e=>{t((0,c.addHistoryEntry)(`sendFlow - Valid address typed ${e}`)),await t((0,c.updateRecipientUserInput)(e)),n({event:m.MetaMetricsEventName.SendRecipientSelected,category:m.MetaMetricsEventCategory.Send,properties:{location:"send page recipient input",inputType:"user input"}},{excludeMetaMetricsId:!1}),t((0,c.updateRecipient)({address:e,nickname:""}))},[t,n]),b=(0,a.useCallback)(e=>{t((0,c.addHistoryEntry)(`sendFlow - User pasted ${e} into address field`))},[t]),w=(0,a.useCallback)(()=>{n({event:"Used QR scanner",category:m.MetaMetricsEventCategory.Transactions,properties:{action:"Edit Screen",legacy_event:!0}}),t((0,u.showQrScanner)())},[t,n]),v=(0,a.useCallback)(()=>{t((0,c.resetRecipientInput)())},[t]);return a.default.createElement(g.SendPageRow,null,a.default.createElement(i.Label,{paddingBottom:2},e("to")),a.default.createElement(s.default,{userInput:h,onChange:y,onValidAddressTyped:x,internalSearch:k,selectedAddress:o.address,selectedName:o.nickname===o.address?(0,p.shortenAddress)((0,f.toChecksumHexAddress)(o.address)):o.nickname,onPaste:b,onReset:v,scanQrCode:w}))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/recipient-input.tsx"}],[6695,{"../../../../../../shared/constants/metametrics":5613,"../../../../../contexts/i18n":6850,"../../../../../contexts/metametrics":6855,"../../../../../ducks/domains":6877,"../../../../../ducks/send":6891,"../../../../component-library":6325,"../../../../ui/tabs":6823,"./address-book":6683,"./domain-input-resolution-cell":6684,"./send-page-row":6696,"./your-accounts":6697,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageRecipient=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../../../contexts/i18n"),i=e("../../../../../ducks/send"),s=e("../../../../../ducks/domains"),l=e("../../../../component-library"),c=e("../../../../ui/tabs"),u=e("../../../../../../shared/constants/metametrics"),d=e("../../../../../contexts/metametrics"),m=e("./domain-input-resolution-cell"),p=e("./address-book"),f=e("./send-page-row"),g=e("./your-accounts");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const k="contacts",y="accounts";n.SendPageRecipient=()=>{const e=(0,o.useContext)(r.I18nContext),t=(0,a.useDispatch)(),n=(0,o.useContext)(d.MetaMetricsContext),h=(0,a.useSelector)(i.getRecipient),x=(0,a.useSelector)(i.getRecipientUserInput)||"",b=(0,a.useSelector)(s.getDomainResolutions)||[],w=(0,a.useSelector)(s.getDomainError),v=(0,a.useSelector)(s.getDomainWarning),C=w||h.error&&"required"!==h.error,E=!C&&(v||h.warning),T=(e,o,a="user input")=>{t((0,i.addHistoryEntry)(`sendFlow - User clicked recipient from ${a}. address: ${e}, nickname ${o}`)),n({event:u.MetaMetricsEventName.SendRecipientSelected,category:u.MetaMetricsEventCategory.Send,properties:{location:"send page recipient screen",inputType:a}},{excludeMetaMetricsId:!1}),t((0,i.updateRecipient)({address:e,nickname:o})),t((0,i.updateRecipientUserInput)(e))};let _;return _=h.address?o.default.createElement(m.DomainInputResolutionCell,{address:h.address,domainName:h.nickname,onClick:()=>T(h.address,h.nickname)}):(null==b?void 0:b.length)>0&&!h.error?b.map(e=>{const{resolvedAddress:t,resolvingSnap:n,addressBookEntryName:a,protocol:r,domainName:i}=e;return o.default.createElement(m.DomainInputResolutionCell,{key:`${t}${n}${r}`,address:t,domainName:a??i,onClick:()=>T(t,a??i,"Domain resolution"),protocol:r,resolvingSnap:n})}):o.default.createElement(c.Tabs,{defaultActiveTabKey:x.length>0?k:y,onTabClick:()=>null},o.default.createElement(c.Tab,{tabKey:y,name:e("yourAccounts"),className:"flex-1"},o.default.createElement(g.SendPageYourAccounts,null)),o.default.createElement(c.Tab,{tabKey:k,name:e("contacts"),"data-testid":"send-contacts-tab",className:"flex-1"},o.default.createElement(p.SendPageAddressBook,null))),o.default.createElement(o.default.Fragment,null,C?o.default.createElement(f.SendPageRow,null,o.default.createElement(l.BannerAlert,{severity:l.BannerAlertSeverity.Danger,"data-testid":"send-recipient-error"},e(w??h.error))):null,E?o.default.createElement(f.SendPageRow,null,o.default.createElement(l.BannerAlert,{severity:l.BannerAlertSeverity.Warning,"data-testid":"send-recipient-warning"},e(v??h.warning))):null,o.default.createElement(l.Box,{className:"multichain-send-page__recipient"},_))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/recipient.tsx"}],[6696,{"../../../../../helpers/constants/design-system":6899,"../../../../component-library":6325,react:5080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageRow=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system");n.SendPageRow=({children:e})=>a.default.createElement(r.Box,{display:i.Display.Flex,paddingBottom:4,flexDirection:i.FlexDirection.Column},e)}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/send-page-row.tsx"}],[6697,{"../../..":6568,"../../../../../../shared/constants/metametrics":5613,"../../../../../contexts/metametrics":6855,"../../../../../ducks/send":6891,"../../../../../selectors":7886,"./send-page-row":6696,"@metamask/keyring-api":2100,react:5080,"react-redux":5021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageYourAccounts=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/keyring-api"),i=e("../../../../../selectors"),s=e("../../.."),l=e("../../../../../ducks/send"),c=e("../../../../../contexts/metametrics"),u=e("../../../../../../shared/constants/metametrics"),d=e("./send-page-row");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const p=[r.EthAccountType.Eoa,r.EthAccountType.Erc4337];n.SendPageYourAccounts=({allowedAccountTypes:e=p})=>{const t=(0,a.useDispatch)(),n=(0,o.useContext)(c.MetaMetricsContext),r=(0,a.useSelector)(i.getUpdatedAndSortedAccounts),m=(0,o.useMemo)(()=>r.filter(t=>e.includes(t.type)),[r]),f=(0,a.useSelector)(i.getSelectedInternalAccount),g=(0,o.useCallback)(e=>{t((0,l.addHistoryEntry)(`sendFlow - User clicked recipient from my accounts. address: ${e.address}, nickname ${e.metadata.name}`)),n({event:u.MetaMetricsEventName.SendRecipientSelected,category:u.MetaMetricsEventCategory.Send,properties:{location:"my accounts",inputType:"click"}},{excludeMetaMetricsId:!1}),t((0,l.updateRecipient)({address:e.address,nickname:e.metadata.name})),t((0,l.updateRecipientUserInput)(e.address))},[t,n]);return o.default.createElement(d.SendPageRow,null,m.map(e=>o.default.createElement(s.AccountListItem,{account:e,selected:f.address===e.address,key:e.address,isPinned:Boolean(e.pinned),shouldScrollToWhenSelected:!1,onClick:g})))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/your-accounts.tsx"}],[6698,{"./send":6699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SendPage",{enumerable:!0,get:function(){return o.SendPage}});var o=e("./send")}}},{package:"$root$",file:"ui/components/multichain/pages/send/index.js"}]],[],{});