/*! For license information please see FloatingActionButton.js.LICENSE.txt */
var e,n={463:(e,n)=>{function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,o=e[r];if(!(0<i(o,n)))break e;e[r]=n,e[t]=o,t=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var u=2*(r+1)-1,c=e[u],l=u+1,s=e[l];if(0>i(c,t))l<o&&0>i(s,c)?(e[r]=s,e[l]=t,r=l):(e[r]=c,e[u]=t,r=u);else{if(!(l<o&&0>i(s,t)))break e;e[r]=s,e[l]=t,r=l}}}return n}function i(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var l=[],s=[],f=1,p=null,d=3,b=!1,g=!1,h=!1,M="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,m="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var n=r(s);null!==n;){if(null===n.callback)o(s);else{if(!(n.startTime<=e))break;o(s),n.sortIndex=n.expirationTime,t(l,n)}n=r(s)}}function w(e){if(h=!1,v(e),!g)if(null!==r(l))g=!0,I(j);else{var n=r(s);null!==n&&k(w,n.startTime-e)}}function j(e,t){g=!1,h&&(h=!1,y(T),T=-1),b=!0;var i=d;try{for(v(t),p=r(l);null!==p&&(!(p.expirationTime>t)||e&&!E());){var a=p.callback;if("function"==typeof a){p.callback=null,d=p.priorityLevel;var u=a(p.expirationTime<=t);t=n.unstable_now(),"function"==typeof u?p.callback=u:p===r(l)&&o(l),v(t)}else o(l);p=r(l)}if(null!==p)var c=!0;else{var f=r(s);null!==f&&k(w,f.startTime-t),c=!1}return c}finally{p=null,d=i,b=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,N=!1,L=null,T=-1,S=5,D=-1;function E(){return!(n.unstable_now()-D<S)}function A(){if(null!==L){var e=n.unstable_now();D=e;var t=!0;try{t=L(!0,e)}finally{t?x():(N=!1,L=null)}}else N=!1}if("function"==typeof m)x=function(){m(A)};else if("undefined"!=typeof MessageChannel){var z=new MessageChannel,O=z.port2;z.port1.onmessage=A,x=function(){O.postMessage(null)}}else x=function(){M(A,0)};function I(e){L=e,N||(N=!0,x())}function k(e,t){T=M(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){g||b||(g=!0,I(j))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return r(l)},n.unstable_next=function(e){switch(d){case 1:case 2:case 3:var n=3;break;default:n=d}var t=d;d=n;try{return e()}finally{d=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=d;d=e;try{return n()}finally{d=t}},n.unstable_scheduleCallback=function(e,o,i){var a=n.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>a?(e.sortIndex=i,t(s,e),null===r(l)&&e===r(s)&&(h?(y(T),T=-1):h=!0,k(w,i-a))):(e.sortIndex=u,t(l,e),g||b||(g=!0,I(j))),e},n.unstable_shouldYield=E,n.unstable_wrapCallback=function(e){var n=d;return function(){var t=d;d=n;try{return e.apply(this,arguments)}finally{d=t}}}},581:(e,n,t)=>{t.d(n,{A:()=>de});var r=t(540),o=t(338),i=(0,r.forwardRef)(function(e,n){var t=e.onClick,o=e.onMouseDown;return r.createElement("div",{ref:n,className:"icon-container",onClick:t,onMouseDown:o,role:"button",tabIndex:0,"aria-label":"Open AI Assistant"},r.createElement("svg",{id:"ImportedIcons",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22",className:"fab-svg-icon"},r.createElement("path",{d:"m6.21661,16.39534c-1.35034,2.23499-2.67933,3.64758-3.45616,3.64758-.12795.00539-.25276-.04056-.34667-.12762-.14818-.12483-.21629-.32065-.17758-.5105.14764-.80079,1.68628-1.95576,3.98041-3.00946Zm6.49075-3.19656c-.57993.12528-1.1792.27056-1.78689.43544-.4366.11893-.87951.24862-1.32255.38729.23541-.4949.4515-.98554.6398-1.452.24831-.6159.48156-1.232.69564-1.83456.18831.30354.38304.59839.58195.88207.39375.56092.81787,1.09736,1.19205,1.58176Zm-2.99822-10.63684c.08814-.18001.26644-.29855.46653-.31016.51149,0,.62276.63358.62276,1.1638-.06787,1.25011-.29293,2.48669-.66988,3.68055-.85816-2.33642-.73831-3.97319-.41942-4.53419h.00001Zm9.60883,12.20974c-.13359.4402-.56725.71808-1.023.6555-.15594-.00061-.3112-.02054-.46224-.05933-1.07834-.28263-2.07953-.80363-2.92976-1.5246.71719-.11267,1.44198-.17001,2.16797-.17149.48402-.00813.96771.03017,1.44442.11438.43447.09244.92449.33873.80261.98554Zm1.45515-1.0537c-1.01837-.83309-2.33117-1.21735-3.63802-1.06487-.98482.00983-1.96732.09739-2.93836.26187-.62354-.62512-1.19003-1.30467-1.69272-2.03054-.38314-.54455-.73672-1.10931-1.05923-1.69182.54287-1.57384.85986-3.2167.94151-4.87953,0-1.49369-.57564-3.09087-2.19132-3.09087-.56296.01952-1.07528.33036-1.35261.82066-.68906,1.2165-.41298,3.72002.68705,6.26756-.38306,1.17041-.80046,2.31007-1.31196,3.57265-.43687,1.08123-.93191,2.13803-1.48293,3.16579-1.64775.68213-5.15115,2.33642-5.48494,4.16456-.10306.53569.0783,1.08658.47942,1.45629.39145.35044.90217.53779,1.42737.5236,2.10998,0,4.21366-3.003,5.63044-5.58789.80461-.2816,1.62641-.53671,2.44391-.759.8967-.24407,1.76345-.44427,2.58082-.594,1.39014,1.39224,3.25004,2.21523,5.21531,2.30773,1.36751,0,1.87887-.60942,2.06516-1.122.20733-.5893.08589-1.24438-.3189-1.72019Z",fill:"var(--iconRed, #d31510)",fillRule:"evenodd"})))});i.displayName="FABIcon";const a=i,u=function(e){var n=e.showCloseButton,t=e.isExpanded,o=e.showSettings,i=e.onClick,a=e.onMouseDown;return r.createElement("button",{className:"close-btn ".concat(n||t?"showCloseButton":""," ").concat(o?"open":""),onClick:i,onMouseDown:a},r.createElement("svg",{className:"close-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("mask",{id:"mask0_8552_7892",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"14",height:"14"},r.createElement("path",{d:"M7.82482 7.00034L10.6374 4.18778C10.7893 4.03592 10.7893 3.78969 10.6374 3.63783L10.3625 3.36292C10.2106 3.21106 9.96446 3.21106 9.81255 3.36292L6.99995 6.17548L4.18734 3.36292C4.03543 3.21106 3.78933 3.21106 3.63743 3.36292L3.36247 3.63783C3.21056 3.78969 3.21056 4.03592 3.36247 4.18778L6.17507 7.00034L3.36247 9.81295C3.21056 9.96481 3.21056 10.2111 3.36247 10.3629L3.63743 10.6378C3.78933 10.7897 4.03543 10.7897 4.18734 10.6378L6.99995 7.82526L9.81255 10.6378C9.96446 10.7897 10.2106 10.7897 10.3625 10.6378L10.6374 10.3629C10.7893 10.2111 10.7893 9.96481 10.6374 9.81295L7.82482 7.00034Z",fill:"#222222"})),r.createElement("g",{mask:"url(#mask0_8552_7892)"},r.createElement("rect",{width:"14",height:"14"}))),r.createElement("svg",{className:"burger-icon",width:"21",height:"17",viewBox:"0 0 21 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("mask",{id:"mask0_12188_28876",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"3",y:"3",width:"15",height:"14"},r.createElement("path",{d:"M15.1285 12.8008H6.37852C6.08867 12.8008 5.85352 13.0359 5.85352 13.3258C5.85352 13.6156 6.08867 13.8508 6.37852 13.8508H15.1285C15.4184 13.8508 15.6535 13.6156 15.6535 13.3258C15.6535 13.0359 15.4184 12.8008 15.1285 12.8008Z",fill:"#292929"}),r.createElement("path",{d:"M6.37852 6.85078H15.1285C15.4184 6.85078 15.6535 6.61562 15.6535 6.32578C15.6535 6.03594 15.4184 5.80078 15.1285 5.80078H6.37852C6.08867 5.80078 5.85352 6.03594 5.85352 6.32578C5.85352 6.61562 6.08867 6.85078 6.37852 6.85078Z",fill:"#292929"}),r.createElement("path",{d:"M15.1285 9.30078H6.37852C6.08867 9.30078 5.85352 9.53594 5.85352 9.82578C5.85352 10.1156 6.08867 10.3508 6.37852 10.3508H15.1285C15.4184 10.3508 15.6535 10.1156 15.6535 9.82578C15.6535 9.53594 15.4184 9.30078 15.1285 9.30078Z",fill:"#292929"})),r.createElement("g",{mask:"url(#mask0_12188_28876)"},r.createElement("rect",{x:"3.75391",y:"3",width:"14",height:"14",fill:"#464646"}))))};function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var l=function(){var e,n,t=(e=(0,r.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return c(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=t[0],i=t[1];return(0,r.useEffect)(function(){var e={};["tooltipTextEnabled","tooltipTextDisabled","tooltipTextSubText","hideForNow","hideFabForDomain","neverDisplayFab","preferences","fabPillsHeaderText","fabPillsFteHeaderText","fabPillSummarize","fabPillAskAI","fabPillConvertToPDF"].forEach(function(n){e[n]=chrome.i18n.getMessage(n)||n}),i(e)},[]),function(e){return o[e]||e}},s=function(e){try{"function"==typeof sendDCAnalyticsEvent&&sendDCAnalyticsEvent(e)}catch(e){console.error("[FAB Utils] Analytics event error:",e)}},f=function(e){s([["DCBrowserExt:SidePanel:".concat(e,":Clicked")]]),chrome.runtime.sendMessage({type:"open_side_panel",touchpoint:e})};function p(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return d(l,"_invoke",function(t,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return i=n,u=0,c=e,p.n=t,a}};function d(t,r){for(u=t,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,b=i[2];t>3?(o=b===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(u=0,p.v=r,p.n=i[1]):d<b&&(o=t<3||i[0]>r||r>b)&&(i[4]=t,i[5]=r,p.n=b,u=0))}if(o||t>1)return a;throw f=!0,r}return function(o,s,b){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,b),u=s,c=b;(n=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((n=(f=p.n<0)?c:t.call(r,p))!==a)break}catch(n){i=e,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(t,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(d(n={},r,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,d(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,d(f,"constructor",l),d(l,"constructor",c),c.displayName="GeneratorFunction",d(l,o,"GeneratorFunction"),d(f),d(f,o,"Generator"),d(f,r,function(){return this}),d(f,"toString",function(){return"[object Generator]"}),(p=function(){return{w:i,m:b}})()}function d(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}d=function(e,n,t,r){function i(n,t){d(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},d(e,n,t,r)}function b(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){b(i,r,o,a,u,"next",e)}function u(e){b(i,r,o,a,u,"throw",e)}a(void 0)})}}var h=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,initDcLocalStorage();case 1:(t=window.dcLocalStorage.getItem("hideFabDomainList")||[]).includes(n)||t.push(n),window.dcLocalStorage.setItem("hideFabDomainList",t),chrome.runtime.sendMessage({main_op:"log-info",log:{message:"FAB hidden for domain",domain:n}});case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,initDcLocalStorage();case 1:window.dcLocalStorage.setItem("enableGenAIFab","false");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.n){case 0:return t=new URL(window.location.href).hostname,e.n=1,h(t);case 1:n.isFABHiddenForNow=!0,n.removeFAB(),s([["DCBrowserExt:SidePanel:SettingsMenu:RemoveFabForDomain"]]);case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=g(p().m(function e(n){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,M();case 1:n.removeFAB(),s([["DCBrowserExt:SidePanel:SettingsMenu:NeverDisplay"]]);case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,initDcLocalStorage();case 1:window.dcLocalStorage.setItem("optionsPageSource","FAB_MENU"),chrome.runtime.sendMessage({type:"open_options_page",highlightSection:["ai-assistant-banner-header-wrapper","fab-preference-toggle"]}),s([["DCBrowserExt:SidePanel:SettingsMenu:PreferencesClicked"]]);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();function w(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return j(l,"_invoke",function(t,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return i=n,u=0,c=e,p.n=t,a}};function d(t,r){for(u=t,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,b=i[2];t>3?(o=b===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(u=0,p.v=r,p.n=i[1]):d<b&&(o=t<3||i[0]>r||r>b)&&(i[4]=t,i[5]=r,p.n=b,u=0))}if(o||t>1)return a;throw f=!0,r}return function(o,s,b){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,b),u=s,c=b;(n=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((n=(f=p.n<0)?c:t.call(r,p))!==a)break}catch(n){i=e,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(t,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(j(n={},r,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,j(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,j(f,"constructor",l),j(l,"constructor",c),c.displayName="GeneratorFunction",j(l,o,"GeneratorFunction"),j(f),j(f,o,"Generator"),j(f,r,function(){return this}),j(f,"toString",function(){return"[object Generator]"}),(w=function(){return{w:i,m:p}})()}function j(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}j=function(e,n,t,r){function i(n,t){j(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},j(e,n,t,r)}function x(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}const N=function(e){var n=e.containerRef,t=e.buttonRef,o=e.fabManager,i=e.onClose,a=(0,r.useRef)(null),u=l();(0,r.useEffect)(function(){c()},[]);var c=function(){var e;if(a.current&&n.current&&t.current){var r=a.current,o=n.current,i=t.current,u=o.querySelector(".close-btn"),c=null==u||null===(e=u.getBoundingClientRect())||void 0===e?void 0:e.right,l=i.offsetHeight,s=r.offsetHeight,f=o.getBoundingClientRect(),p=f.top,d=f.right-c;d&&(r.style.right="".concat(d,"px")),p<s+10?(r.style.bottom="auto",r.style.top="".concat(l,"px")):(r.style.bottom="".concat(l,"px"),r.style.top="auto")}},f={hideForNow:function(){return function(e){e.isFABHiddenForNow=!0,e.removeFAB(),s([["DCBrowserExt:SidePanel:SettingsMenu:RemoveFab"]])}(o)},hideFabForDomain:function(){return y(o)},neverDisplayFab:function(){return m(o)},preferences:function(){return v()}},p=function(){var e,n=(e=w().m(function e(n){var t;return w().w(function(e){for(;;)switch(e.n){case 0:if(!(t=f[n])){e.n=1;break}return e.n=1,t();case 1:i();case 2:return e.a(2)}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){x(i,r,o,a,u,"next",e)}function u(e){x(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return n.apply(this,arguments)}}();return r.createElement("div",{ref:a,className:"fab-view-settings-dialog showDialog"},r.createElement("div",{className:"dialog-container"},r.createElement("ul",{className:"menu"},r.createElement("li",{className:"menu_item",onClick:function(){return p("hideForNow")}},u("hideForNow")),r.createElement("li",{className:"menu_item",onClick:function(){return p("hideFabForDomain")}},u("hideFabForDomain")),r.createElement("li",{className:"menu_item",onClick:function(){return p("neverDisplayFab")}},u("neverDisplayFab")),r.createElement("li",{className:"divider"}),r.createElement("li",{className:"menu_item preferences",onClick:function(){return p("preferences")}},u("preferences")))))},L=function(e){var n=e.showDragHandle,t=e.onMouseDown;return r.createElement("div",{className:"draggable-handle ".concat(n?"draggable-handle-visible":""),onMouseDown:t},r.createElement("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M4.60039 13.0699C5.26313 13.0699 5.80039 12.5327 5.80039 11.8699C5.80039 11.2072 5.26313 10.6699 4.60039 10.6699C3.93765 10.6699 3.40039 11.2072 3.40039 11.8699C3.40039 12.5327 3.93765 13.0699 4.60039 13.0699Z",fill:"#292929"}),r.createElement("path",{d:"M4.60039 8.27109C5.26313 8.27109 5.80039 7.73384 5.80039 7.07109C5.80039 6.40835 5.26313 5.87109 4.60039 5.87109C3.93765 5.87109 3.40039 6.40835 3.40039 7.07109C3.40039 7.73384 3.93765 8.27109 4.60039 8.27109Z",fill:"#292929"}),r.createElement("path",{d:"M4.60039 3.47031C5.26313 3.47031 5.80039 2.93305 5.80039 2.27031C5.80039 1.60757 5.26313 1.07031 4.60039 1.07031C3.93765 1.07031 3.40039 1.60757 3.40039 2.27031C3.40039 2.93305 3.93765 3.47031 4.60039 3.47031Z",fill:"#292929"}),r.createElement("path",{d:"M9.4002 13.0699C10.0629 13.0699 10.6002 12.5327 10.6002 11.8699C10.6002 11.2072 10.0629 10.6699 9.4002 10.6699C8.73745 10.6699 8.2002 11.2072 8.2002 11.8699C8.2002 12.5327 8.73745 13.0699 9.4002 13.0699Z",fill:"#292929"}),r.createElement("path",{d:"M9.4002 8.27109C10.0629 8.27109 10.6002 7.73384 10.6002 7.07109C10.6002 6.40835 10.0629 5.87109 9.4002 5.87109C8.73745 5.87109 8.2002 6.40835 8.2002 7.07109C8.2002 7.73384 8.73745 8.27109 9.4002 8.27109Z",fill:"#292929"}),r.createElement("path",{d:"M9.4002 3.47031C10.0629 3.47031 10.6002 2.93305 10.6002 2.27031C10.6002 1.60757 10.0629 1.07031 9.4002 1.07031C8.73745 1.07031 8.2002 1.60757 8.2002 2.27031C8.2002 2.93305 8.73745 3.47031 9.4002 3.47031Z",fill:"#292929"})))};var T=[{id:"summarize",labelKey:"fabPillSummarize",icon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iYiIgZGF0YS1uYW1lPSJJY29ucyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCI+CiAgPHBhdGggZD0ibTUuNDE3MjEsMTAuMjVoLTEuODM0NDJjLS4zMjE4NywwLS41ODI3OS0uMjIzODYtLjU4Mjc5LS41di0uNWMwLS4yNzYxNC4yNjA5Mi0uNS41ODI3OS0uNWgxLjgzNDQyYy4zMjE4NywwLC41ODI3OS4yMjM4Ni41ODI3OS41di41YzAsLjI3NjE0LS4yNjA5Mi41LS41ODI3OS41Wm0yLjU4Mjc5LDMuMjV2LS41YzAtLjI3NjE0LS4yMjQ0OS0uNS0uNTAxNDEtLjVoLTMuOTk3MTljLS4yNzY5MiwwLS41MDE0MS4yMjM4Ni0uNTAxNDEuNXYuNWMwLC4yNzYxNC4yMjQ0OS41LjUwMTQxLjVoMy45OTcxOWMuMjc2OTIsMCwuNTAxNDEtLjIyMzg2LjUwMTQxLS41Wm01LjEwMTY2LTYuMjE4OWwxLjY5NTgtMS41MzcxMSwyLjIzMjkxLjQ4MjQyYy4zNDIyOS4wNzQyMi42OTI4Ny0uMDc2MTcuODcwMTItLjM4MDg2LjE2NDU1LS4yODIyMy4xMjA2MS0uNzA1MDgtLjA5OTEyLS45NDcyN2wtMS41MzcxMS0xLjY5NTMxLjQ4Mzg5LTIuMjM5MjZjLjA3MzI0LS4zNDI3Ny0uMDgxNTQtLjY5MDQzLS4zODUyNS0uODY1MjMtLjI4MTc0LS4xNjQwNi0uNzAyNjQtLjExODE2LS45NDM4NS4xMDA1OWwtMS42OTU4LDEuNTM3MTEtMi4yMzI5MS0uNDgyNDJjLS4zNDAzMy0uMDY5MzQtLjY5MjM4LjA3NjE3LS44NzAxMi4zODA4Ni0uMTY0NTUuMjgyMjMtLjEyMDYxLjcwNTA4LjA5OTEyLjk0NzI3bDEuNTM3MTEsMS42OTUzMS0uNDgzODksMi4yMzkyNmMtLjA3MzI0LjM0Mjc3LjA4MTU0LjY5MDQzLjM4NTI1Ljg2NTIzLjExNDI2LjA2NjQxLjI1MTQ2LjA5NzY2LjM5MDE0LjA5NzY2LjIwMzEyLDAsLjQxMDE2LS4wNjgzNi41NTM3MS0uMTk4MjRabS41MDU4Ni0zLjc0NzA3bC0uMzI1Mi0uMzU4NC40Njg3NS4xMDE1NmMuMjM3NzkuMDUwNzguNTM1NjQtLjAyNzM0LjcxNTgyLS4xOTA0M2wuMzU3OTEtLjMyNDIyLS4xMDEwNy40Njc3N2MtLjA1MzIyLjIzODI4LjAyNTg4LjUzNTE2LjE4OTQ1LjcxNTgybC4zMjUyLjM1ODQtLjQ2ODc1LS4xMDE1NmMtLjIzNzc5LS4wNTM3MS0uNTM1NjQuMDI2MzctLjcxNTgyLjE5MDQzbC0uMzU3OTEuMzI0MjIuMTAyMDUtLjQ3MDdjLjA1MTI3LS4yMzczLS4wMjczNC0uNTMzMi0uMTkwNDMtLjcxMjg5Wm0zLjA5NDUxLDQuMTY2NDFsLTEuMjA0OTYtLjI2MDI1djcuMzA3ODZjMCwuNDEzMDktLjMzNjkxLjc1LS43NS43NUgyLjI0NzA3Yy0uNDEzMDksMC0uNzUtLjMzNjkxLS43NS0uNzVWNC4yNDgwNWMwLS40MTMwOS4zMzY5MS0uNzUuNzUtLjc1aDcuMjczNzRjLS4zNDA0NS0uNDIyODUtLjUxNDM0LS45NjA5NC0uNTA2MDQtMS41SDIuMjQ3MDdDMS4wMDY4NCwxLjk5ODA1LS4wMDI5MywzLjAwNzgxLS4wMDI5Myw0LjI0ODA1djEwLjVjMCwxLjI0MDIzLDEuMDA5NzcsMi4yNSwyLjI1LDIuMjVoMTIuNWMxLjI0MDIzLDAsMi4yNS0xLjAwOTc3LDIuMjUtMi4yNXYtNy4wMTU4N2MtLjA5ODg4LS4wMDg1NC0uMTk4NjctLjAxMDc0LS4yOTUwNC0uMDMxNzRabS02LjM5NzUyLDEuNjIwODVsLS4zNTc5MS0uMzk0NTMuMTEyMy0uNTIwNTFjLjA2ODg1LS4zMTgzNi0uMDc1NjgtLjY0NDUzLS4zNTc5MS0uODA3NjItLjI4MTI1LS4xNjMwOS0uNjM4MTgtLjEyNTk4LS44Nzg0Mi4wOTM3NWwtLjM5NTAyLjM1NzQyLS41MjA1MS0uMTEyM2MtLjMxODM2LS4wNjI1LS42NDQ1My4wNzcxNS0uODA4MTEuMzU4NC0uMTYyNi4yODIyMy0uMTI0NTEuNjM3Ny4wOTQyNC44Nzg5MWwuMzU3OTEuMzk0NTMtLjExMjc5LjUxOTUzYy0uMDY4ODUuMzE5MzQuMDc1NjguNjQ1NTEuMzU3OTEuODA4NTkuMTE2Ny4wNjczOC4yNDYwOS4xMDA1OS4zNzUuMTAwNTkuMTgxNjQsMCwuMzYyMy0uMDY2NDEuNTAzNDItLjE5NDM0bC4zOTUwMi0uMzU3NDIuNTIxLjExMjNjLjMyMjI3LjA2NjQxLjY0NTUxLS4wNzYxNy44MDgxMS0uMzU4NHMuMTI0NTEtLjYzNzctLjA5NDI0LS44Nzg5MVptLTIuMzA0MzgtMy4zMjEyOXYtLjVjMC0uMjc2MTQtLjIyMzg2LS41LS41LS41SDMuNWMtLjI3NjE0LDAtLjUuMjIzODYtLjUuNXYuNWMwLC4yNzYxNC4yMjM4Ni41LjUuNWg0LjAwMDEzYy4yNzYxNCwwLC41LS4yMjM4Ni41LS41WiIgZmlsbD0idmFyKC0taWNvbkZpbGwsICM0NjQ2NDYpIi8+Cjwvc3ZnPgoK",onClick:function(){window.initialQuestion="Give me a summary of this webpage",f("FABPill:Summarize")}},{id:"ask-ai",labelKey:"fabPillAskAI",icon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iYyIgZGF0YS1uYW1lPSJJY29uIFN0cm9rZXMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMTggMTgiPgogIDxwYXRoIGQ9Im0xMC4zOTk0MSwxMC4yMDIxNWMtLjE2MzA5LjI4MjIzLS40OTIxOS40MjM4My0uODA3NjIuMzU4NGwtLjUyMDUxLS4xMTIzLS4zOTQ1My4zNTc0MmMtLjE0MTYuMTI3OTMtLjMyMjI3LjE5NDM0LS41MDM5MS4xOTQzNC0uMTI4OTEsMC0uMjU3ODEtLjAzMzItLjM3NS0uMTAwNTktLjI4MjIzLS4xNjIxMS0uNDI2NzYtLjQ4OTI2LS4zNTg0LS44MDc2MmwuMTEyMy0uNTIwNTEtLjM1NzQyLS4zOTQ1M2MtLjIxODc1LS4yNDEyMS0uMjU2ODQtLjU5NjY4LS4wOTM3NS0uODc4OTEuMTYzMDktLjI4MzIuNDkyMTktLjQxOTkyLjgwNzYyLS4zNTg0bC41MjA1MS4xMTIzLjM5NDUzLS4zNTc0MmMuMjQyMTktLjIxODc1LjU5NTctLjI1Njg0Ljg3ODkxLS4wOTM3NS4yODIyMy4xNjIxMS40MjY3Ni40ODkyNi4zNTg0LjgwNzYybC0uMTEyMy41MjA1MS4zNTc0Mi4zOTQ1M2MuMjE4NzUuMjQxMjEuMjU2ODQuNTk2NjguMDkzNzUuODc4OTFaIiBmaWxsPSJ2YXIoLS1pY29uRmlsbCwgIzQ2NDY0NikiLz4KICA8cGF0aCBkPSJtMTcuODAxMjcsNC44OTgxOWwtMS41MzcxMS0xLjY5NTMxLjQ4Mzg5LTIuMjM5MjZjLjA3MzI0LS4zNDI3Ny0uMDgxNTQtLjY5MDQzLS4zODUyNS0uODY1MjMtLjI4MTc0LS4xNjQwNi0uNzAyNjQtLjExODE2LS45NDM4NS4xMDA1OWwtMS42OTU4LDEuNTM3MTEtMi4yMzI5MS0uNDgyNDJjLS4zNDAzMy0uMDY5MzQtLjY5MjM4LjA3NjE3LS44NzAxMi4zODA4Ni0uMTY0NTUuMjgyMjMtLjEyMDYxLjcwNTA4LjA5OTEyLjk0NzI3bDEuNTM3MTEsMS42OTUzMS0uNDgzODksMi4yMzkyNmMtLjA3MzI0LjM0Mjc3LjA4MTU0LjY5MDQzLjM4NTI1Ljg2NTIzLjExNDI2LjA2NjQxLjI1MTQ2LjA5NzY2LjM5MDE0LjA5NzY2LjIwMzEyLDAsLjQxMDE2LS4wNjgzNi41NTM3MS0uMTk4MjRsMS42OTU4LTEuNTM3MTEsMi4yMzI5MS40ODI0MmMuMzQyMjkuMDc0MjIuNjkyODctLjA3NjE3Ljg3MDEyLS4zODA4Ni4xNjQ1NS0uMjgyMjMuMTIwNjEtLjcwNTA4LS4wOTkxMi0uOTQ3MjdabS0zLjAzMTc0LS42OTUzMWMtLjIzNzc5LS4wNTM3MS0uNTM1NjQuMDI2MzctLjcxNTgyLjE5MDQzbC0uMzU3OTEuMzI0MjIuMTAyMDUtLjQ3MDdjLjA1MTI3LS4yMzczLS4wMjczNC0uNTMzMi0uMTkwNDMtLjcxMjg5bC0uMzI1Mi0uMzU4NC40Njg3NS4xMDE1NmMuMjM3NzkuMDUwNzguNTM1NjQtLjAyNzM0LjcxNTgyLS4xOTA0M2wuMzU3OTEtLjMyNDIyLS4xMDEwNy40Njc3N2MtLjA1MzIyLjIzODI4LjAyNTg4LjUzNTE2LjE4OTQ1LjcxNTgybC4zMjUyLjM1ODQtLjQ2ODc1LS4xMDE1NloiIGZpbGw9InZhcigtLWljb25GaWxsLCAjNDY0NjQ2KSIvPgogIDxwYXRoIGQ9Im0xNS4yMjM2OSw3LjM4MjgxbC0uOTY0MjMuODc0MDIuMDA1MTksNC4yODUxNmMuMDAxOTUuMTkyMzgtLjA3MDMxLjM3ODkxLS4xOTgyNC41MTE3Mi0uMTE5MTQuMTIzMDUtLjI4MDI3LjE5MzM2LS40NTUwOC4xOTMzNmgtNS4xMTkxNGwtMi43Mjc1NCwyLjQ1MzEydi0yLjQ1MjE1aC0zLjUzNTE2Yy0uMTA3NDIsMC0uMjE0ODQtLjA1NTY2LS4zMDA3OC0uMTU0My0uMTE0MjYtLjEzMDg2LS4xNzk2OS0uMzIwMzEtLjE3ODcxLS41MjA1MWwuMDE0NjUtOC4xMTAzNWMwLS4xOTQzNC4wNzYxNy0uMzgyODEuMjA4MDEtLjUxNzU4LjEyNjk1LS4xMjk4OC4zMzM5OC0uMjE2OC40Njc3Ny0uMTk3MjdoNy4yOTIzbC0uMTM0NTgtLjE0ODQ0Yy0uMzM4MjYtLjM3MjgtLjUzMTMxLS44NTU0Ny0uNTc0NzEtMS4zNTE1NkgyLjQzNDU3Yy0uNTcwMzEsMC0xLjEyNzkzLjIzNDM4LTEuNTMzMi42NDc0Ni0uNDA5MTguNDE3OTctLjYzNDc3Ljk3MzYzLS42MzY3MiwxLjU2NDQ1bC0uMDE0NjUsOC4xMTAzNWMtLjAwMDk4LjU2NTQzLjE5MjM4LDEuMTAwNTkuNTQ3ODUsMS41MDk3Ny4zNzc5My40MzA2Ni45MDcyMy42MjUsMS40NDQzNC42Njc5N2gyLjAyMjQ2djIuMjUyOTNjLS4wMDQ4OC41MDQ4OC4zNzUuOTE3OTcuOTAwMzkuOTQxNDEuMjQ4MDUsMCwuNDg5MjYtLjEwNDQ5LjYxNjIxLS4yNDQxNGwzLjI4NTE2LTIuOTUxMTdoNC41MjczNGMuNjAxNTYuMDE5NTMsMS4xNDU1MS0uMjMwNDcsMS41NTI3My0uNjUyMzQuMzk4NDQtLjQxMzA5LjYyNDAyLS45ODUzNS42MTgxNi0xLjU2MTUybC0uMDA2MS01LjAzNDkxLS41MzQ4NS0uMTE1NDhaIiBmaWxsPSJ2YXIoLS1pY29uRmlsbCwgIzQ2NDY0NikiLz4KPC9zdmc+Cgo=",onClick:function(){window.initialQuestion=void 0,f("FABPill:AskAI")}}];const S=function(e){var n=e.isFTE,t=e.onClose,o=l();return n?r.createElement("div",{className:"fab-fte-header"},r.createElement("div",{className:"fab-fte-background"}),r.createElement("button",{className:"fab-fte-close",onClick:t,"aria-label":"Close"},r.createElement("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M0.43 0.43L7.57 7.57M7.57 0.43L0.43 7.57",stroke:"currentColor",strokeWidth:"1"}))),r.createElement("span",{className:"fab-fte-text"},o("fabPillsFteHeaderText"))):r.createElement("div",{className:"fab-hover-header"},r.createElement("div",{className:"fab-hover-background"}),r.createElement("span",{className:"fab-hover-text"},o("fabPillsHeaderText")))},D=function(e){var n=e.pill,t=l()(n.labelKey);return r.createElement("button",{className:"fab-pill-button",onClick:n.onClick},r.createElement("span",{className:"fab-pill-icon"},r.createElement("img",{src:n.icon,alt:"",width:"16",height:"16"})),r.createElement("span",{className:"fab-pill-label"},t))},E=function(e){var n=e.show,t=e.isFTE,o=e.onClose,i=e.positionBelow,a=e.onMouseEnter,u=e.onMouseLeave;return n?r.createElement("div",{className:"fab-pills-container ".concat(i?"pills-below":""),onMouseEnter:a,onMouseLeave:u},r.createElement(S,{isFTE:t,onClose:o}),T.map(function(e){return r.createElement(D,{key:e.id,pill:e})})):null};function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return z(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function O(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return I(l,"_invoke",function(t,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return i=n,u=0,c=e,p.n=t,a}};function d(t,r){for(u=t,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,b=i[2];t>3?(o=b===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(u=0,p.v=r,p.n=i[1]):d<b&&(o=t<3||i[0]>r||r>b)&&(i[4]=t,i[5]=r,p.n=b,u=0))}if(o||t>1)return a;throw f=!0,r}return function(o,s,b){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,b),u=s,c=b;(n=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((n=(f=p.n<0)?c:t.call(r,p))!==a)break}catch(n){i=e,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(t,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(I(n={},r,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,I(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,I(f,"constructor",l),I(l,"constructor",c),c.displayName="GeneratorFunction",I(l,o,"GeneratorFunction"),I(f),I(f,o,"Generator"),I(f,r,function(){return this}),I(f,"toString",function(){return"[object Generator]"}),(O=function(){return{w:i,m:p}})()}function I(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}I=function(e,n,t,r){function i(n,t){I(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},I(e,n,t,r)}function k(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function F(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){k(i,r,o,a,u,"next",e)}function u(e){k(i,r,o,a,u,"throw",e)}a(void 0)})}}function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return P(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function B(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return _(l,"_invoke",function(t,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return i=n,u=0,c=e,p.n=t,a}};function d(t,r){for(u=t,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,b=i[2];t>3?(o=b===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(u=0,p.v=r,p.n=i[1]):d<b&&(o=t<3||i[0]>r||r>b)&&(i[4]=t,i[5]=r,p.n=b,u=0))}if(o||t>1)return a;throw f=!0,r}return function(o,s,b){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,b),u=s,c=b;(n=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((n=(f=p.n<0)?c:t.call(r,p))!==a)break}catch(n){i=e,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(t,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(_(n={},r,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,_(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,_(f,"constructor",l),_(l,"constructor",c),c.displayName="GeneratorFunction",_(l,o,"GeneratorFunction"),_(f),_(f,o,"Generator"),_(f,r,function(){return this}),_(f,"toString",function(){return"[object Generator]"}),(B=function(){return{w:i,m:p}})()}function _(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_=function(e,n,t,r){function i(n,t){_(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},_(e,n,t,r)}function U(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function R(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){U(i,r,o,a,u,"next",e)}function u(e){U(i,r,o,a,u,"throw",e)}a(void 0)})}}function Y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Q(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return G(l,"_invoke",function(t,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return i=n,u=0,c=e,p.n=t,a}};function d(t,r){for(u=t,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,b=i[2];t>3?(o=b===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(u=0,p.v=r,p.n=i[1]):d<b&&(o=t<3||i[0]>r||r>b)&&(i[4]=t,i[5]=r,p.n=b,u=0))}if(o||t>1)return a;throw f=!0,r}return function(o,s,b){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,b),u=s,c=b;(n=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((n=(f=p.n<0)?c:t.call(r,p))!==a)break}catch(n){i=e,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(t,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(G(n={},r,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,G(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,G(f,"constructor",l),G(l,"constructor",c),c.displayName="GeneratorFunction",G(l,o,"GeneratorFunction"),G(f),G(f,o,"Generator"),G(f,r,function(){return this}),G(f,"toString",function(){return"[object Generator]"}),(Q=function(){return{w:i,m:p}})()}function G(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}G=function(e,n,t,r){function i(n,t){G(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},G(e,n,t,r)}function W(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function H(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){W(i,r,o,a,u,"next",e)}function u(e){W(i,r,o,a,u,"throw",e)}a(void 0)})}}var Z=function(e){var n=void 0,t=void 0,r=function(){var t=H(Q().m(function t(r){return Q().w(function(t){for(;;)switch(t.n){case 0:if(e.cursorXPosition=r.clientX,!(e.cursorXPosition>.8*window.innerWidth)){t.n=2;break}if(!n){t.n=1;break}return t.a(2);case 1:n=setTimeout(H(Q().m(function t(){return Q().w(function(t){for(;;)switch(t.n){case 0:if("undefined"==typeof GenAIWebpageEligibilityService){t.n=2;break}return t.n=1,GenAIWebpageEligibilityService.shouldShowTouchpoints();case 1:t.v&&e.makeFABOpaque();case 2:n=void 0;case 3:return t.a(2)}},t)})),200),t.n=3;break;case 2:n&&(clearTimeout(n),n=void 0);case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}();document.addEventListener("scroll",function(){e.makeFABTransparent(),t&&clearTimeout(t),t=setTimeout(function(){e.cursorXPosition>.8*window.innerWidth&&e.makeFABOpaque(),t=void 0},50)}),document.addEventListener("mousemove",r)},V=function(e){var n=void 0,t=function(){if(e.enableFabDrag&&""!==e.fabDraggedTop)return document.removeEventListener("mousemove",r),void document.removeEventListener("scroll",t);e.isFABRendered()&&e.cursorYPosition<=.6*window.innerHeight&&e.removeFAB()},r=function(){var t=H(Q().m(function t(r){return Q().w(function(t){for(;;)switch(t.n){case 0:if(e.cursorYPosition=r.clientY,e.isFABRendered()||!(e.cursorYPosition>.6*window.innerHeight)){t.n=2;break}if(!n){t.n=1;break}return t.a(2);case 1:n=setTimeout(H(Q().m(function t(){return Q().w(function(t){for(;;)switch(t.n){case 0:if("undefined"==typeof GenAIWebpageEligibilityService){t.n=2;break}return t.n=1,GenAIWebpageEligibilityService.shouldShowTouchpoints();case 1:t.v&&e.renderFAB({fadeIn:!0});case 2:n=void 0;case 3:return t.a(2)}},t)})),200),t.n=3;break;case 2:n&&(clearTimeout(n),n=void 0);case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}();document.addEventListener("scroll",t),document.addEventListener("mousemove",r)};function X(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return K(l,"_invoke",function(t,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return i=n,u=0,c=e,p.n=t,a}};function d(t,r){for(u=t,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,b=i[2];t>3?(o=b===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(u=0,p.v=r,p.n=i[1]):d<b&&(o=t<3||i[0]>r||r>b)&&(i[4]=t,i[5]=r,p.n=b,u=0))}if(o||t>1)return a;throw f=!0,r}return function(o,s,b){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,b),u=s,c=b;(n=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((n=(f=p.n<0)?c:t.call(r,p))!==a)break}catch(n){i=e,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(t,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(K(n={},r,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,K(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,K(f,"constructor",l),K(l,"constructor",c),c.displayName="GeneratorFunction",K(l,o,"GeneratorFunction"),K(f),K(f,o,"Generator"),K(f,r,function(){return this}),K(f,"toString",function(){return"[object Generator]"}),(X=function(){return{w:i,m:p}})()}function K(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}K=function(e,n,t,r){function i(n,t){K(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},K(e,n,t,r)}function q(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function J(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return $(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const ee=function(e){var n=e.fabManager,t=(e.fadeIn,e.enableHoveredState),o=e.hoveredStateTimeout,i=J((0,r.useState)(!1),2),c=i[0],f=i[1],p=J((0,r.useState)(!1),2),d=p[0],b=p[1],g=J((0,r.useState)(!1),2),h=g[0],M=g[1],y=J((0,r.useState)(!1),2),m=y[0],v=y[1],w=J((0,r.useState)(!1),2),j=w[0],x=w[1],T=(0,r.useRef)(null),S=(0,r.useRef)(null),D=(0,r.useRef)(null),z=(0,r.useRef)(!1),I=(0,r.useRef)(null),k=l();!function(e,n,t){(0,r.useEffect)(function(){var r=function(){var n=H(Q().m(function n(){var t,r;return Q().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,initDcLocalStorage();case 1:return n.n=2,chrome.runtime.sendMessage({main_op:"getFloodgateFlag",flag:"dc-sp-fab-behaviour-exp-opacity"});case 2:t=n.v,r=t?"Opacity":"Visibility",window.dcLocalStorage.setItem("fabVariant",r),t?Z(e):V(e);case 3:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}(),o=setTimeout(r,n?t:250);return function(){return clearTimeout(o)}},[e,n,t])}(n,t,o);var P=function(e,n){var t=C((0,r.useState)(!1),2),o=t[0],i=t[1],a=C((0,r.useState)(!1),2),u=a[0],c=a[1],l=(0,r.useRef)(null);(0,r.useEffect)(function(){var t=function(){var t=F(O().m(function t(){var r;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,initDcLocalStorage();case 1:(null===(r=window.dcLocalStorage)||void 0===r?void 0:r.getItem("fabPillsFTEShown"))||(c(!0),i(!0),e(!0),n(!0),l.current=setTimeout(function(){var t;i(!1),c(!1),e(!1),n(!1),null===(t=window.dcLocalStorage)||void 0===t||t.setItem("fabPillsFTEShown",!0),l.current=null},15e3));case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}();return t(),function(){l.current&&clearTimeout(l.current)}},[e,n]);var s=function(){var t=F(O().m(function t(){var r;return O().w(function(t){for(;;)switch(t.n){case 0:return i(!1),c(!1),e(!1),n(!1),l.current&&(clearTimeout(l.current),l.current=null),t.n=1,initDcLocalStorage();case 1:null===(r=window.dcLocalStorage)||void 0===r||r.setItem("fabPillsFTEShown",!0);case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}();return{showPills:o,setShowPills:i,isFTE:u,setIsFTE:c,handlePillsClose:s,pillsFTETimeoutRef:l}}(f,M),_=P.showPills,U=P.setShowPills,G=P.isFTE,W=(P.setIsFTE,P.handlePillsClose),K=(P.pillsFTETimeoutRef,function(e,n,t,o){var i=(0,r.useRef)(null);return{pillsHideTimeoutRef:i,handlePillsAreaMouseEnter:function(){i.current&&(clearTimeout(i.current),i.current=null)},handlePillsAreaMouseLeave:function(){i.current=setTimeout(R(B().m(function r(){var a;return B().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,initDcLocalStorage();case 1:(null===(a=window.dcLocalStorage)||void 0===a?void 0:a.getItem("fabPillsFTEShown"))&&!o&&(e(!1),n(!1),t(!1)),i.current=null;case 2:return r.a(2)}},r)})),100)}}}(U,f,M,d)),$=K.pillsHideTimeoutRef,ee=K.handlePillsAreaMouseEnter,ne=K.handlePillsAreaMouseLeave,te=function(e,n,t){var o,i,a=(o=(0,r.useState)(!1),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(o,i)||function(e,n){if(e){if("string"==typeof e)return Y(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y(e,n):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],c=a[1];return(0,r.useEffect)(function(){if(e&&t.current){var r=t.current.getBoundingClientRect(),o=72+(n?56:24)+32,i=r.top;c(i<o+20)}},[e,n,t]),u}(_,G,T);(0,r.useEffect)(function(){return n.setTransparentState=x,n.setExpandedState=f,function(){n.setTransparentState=null,n.setExpandedState=null,I.current&&clearTimeout(I.current)}},[n]);var re=function(e){var n=e.containerRef,t=e.fabManager,o=e.isDraggedRef,i=e.onDragStart,a=A((0,r.useState)(t.fabDraggedTop||null),2),u=a[0],c=a[1],l=A((0,r.useState)(!1),2),f=l[0],p=l[1],d=(0,r.useRef)(0);(0,r.useEffect)(function(){t.enableFabDrag&&t.fabDraggedTop&&c(t.fabDraggedTop)},[t.enableFabDrag,t.fabDraggedTop]);var b=(0,r.useCallback)(function(e){if(t.enableFabDrag&&0===e.button&&!e.ctrlKey){e.stopPropagation(),e.preventDefault(),p(!0),t.isFABActiveForDrag=!0,o.current=!1,null==i||i();var r=n.current;if(r){var a=r.getBoundingClientRect();d.current=e.clientY-a.top}}},[t,o,i,n]),g=(0,r.useCallback)(function(e){if(f||t.isFABActiveForDrag){var r=n.current;if(r){o.current=!0;var i=e.clientY-d.current,a=r.offsetHeight,u=window.innerHeight-a-20;i=Math.max(20,Math.min(u,i)),t.fabDraggedTop=i,c(i)}}},[f,t,o,n]),h=(0,r.useCallback)(function(){(f||t.isFABActiveForDrag)&&(p(!1),t.isFABActiveForDrag=!1,o.current&&(window.dcLocalStorage.setItem("genAIFabTopPosition",t.fabDraggedTop),s([["DCBrowserExt:SidePanel:FabIcon:Dragged"]]),chrome.runtime.sendMessage({main_op:"log-info",log:{message:"FAB dragged",fabTop:"".concat(t.fabDraggedTop,"px")}})))},[f,t,o]);return(0,r.useEffect)(function(){if(t.enableFabDrag)return document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),function(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h)}},[t.enableFabDrag,g,h]),{fabTop:u,handleDragHandleMouseDown:(0,r.useCallback)(function(e){t.enableFabDrag&&b(e)},[t.enableFabDrag,b]),handleIconMouseDown:(0,r.useCallback)(function(e){t.enableFabDrag&&b(e)},[t.enableFabDrag,b]),isFABActiveForDrag:f}}({containerRef:T,iframeRef:D,fabManager:n,isDraggedRef:z,onDragStart:function(){b(!1),f(!1),U(!1),M(!1)}}),oe=re.fabTop,ie=re.handleDragHandleMouseDown,ae=re.handleIconMouseDown,ue=re.isFABActiveForDrag,ce=function(e){var n=e.containerRef,t=e.buttonRef,o=e.fabManager,i=(0,r.useCallback)(function(e){var t=n.current;t&&e&&(t.style.top="".concat(e,"px"),t.style.bottom="auto")},[n]);return{rePositionFABIfOverlapping:(0,r.useCallback)(function(){try{var e,n=t.current;if(!n)return;if(void 0!==o.fabAutoRepositioningTop)return void i(o.fabAutoRepositioningTop);for(var r=0,a=null,u=function(){var e="function"==typeof getClickableOverlappingElement?getClickableOverlappingElement(n,a):[];if(null==e||!e.length)return 0;var t=Number.MAX_SAFE_INTEGER;if(e.forEach(function(e){var n=e.getBoundingClientRect();n.top<t&&(t=n.top)}),t===Number.MAX_SAFE_INTEGER)return 0;var o=n.getBoundingClientRect(),i=o.height,u=t-i,c=o.left,l=o.right,s=o.bottom,f=o.width,p=o.height,d=o.x,b=o.y;a={top:u,left:c,right:l,bottom:s,width:f,height:p,x:d,y:b},r++};r<5&&0!==u(););if(o.fabAutoRepositioningTop=null!==(e=a)&&void 0!==e&&e.top?a.top-36:0,o.fabAutoRepositioningTop<.5*window.innerHeight)return;i(o.fabAutoRepositioningTop),s([["DCBrowserExt:SidePanel:FabIcon:OverlappingRepositioned"]])}catch(e){chrome.runtime.sendMessage({main_op:"log-error",log:{message:"Error in repositioning the FAB if overlapping",error:e.toString()}})}},[t,o,i]),setFABTop:i}}({containerRef:T,buttonRef:S,fabManager:n}),le=ce.rePositionFABIfOverlapping;(0,r.useEffect)(function(){var e=document.getElementById("aiFabShadowRoot");if(e){var r=function(){e.style.opacity="1",t&&se(o)};if(n.enableFabAutoPositioning&&!n.fabDraggedTop){var i=function(){le(),r()};requestAnimationFrame(function(){return requestAnimationFrame(function(){void 0!==n.fabAutoRepositioningTop?i():setTimeout(function(){return i()},500)})})}else r()}},[t,o,n,le]);var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;I.current&&clearTimeout(I.current),f(!0),M(!0),I.current=setTimeout(function(){f(!1),M(!1),I.current=null},e)},fe=function(){n.hasShownSettingsMenu=!1,b(!1)},pe={top:oe?"".concat(oe,"px"):void 0,bottom:oe?"auto":"36px"};return r.createElement("div",{className:"fab-root"},r.createElement("div",{ref:T,className:"acrobat-button-container ".concat(j?"acrobat-button-container-transparent":""),style:pe,onMouseOver:function(){return v(!0)},onMouseOut:function(){return v(!1)}},r.createElement("div",{ref:S,className:"acrobat-button ".concat(c?"expand-acrobat-button":""),role:"button","aria-label":k("tooltipTextEnabled"),onMouseOver:function(){var e;n.isFABActiveForDrag||ue||($.current&&(clearTimeout($.current),$.current=null),c||(f(!0),M(!0)),(e=X().m(function e(){var n;return X().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,initDcLocalStorage();case 1:(null===(n=window.dcLocalStorage)||void 0===n?void 0:n.getItem("fabPillsFTEShown"))&&!d&&U(!0);case 2:return e.a(2)}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){q(i,r,o,a,u,"next",e)}function u(e){q(i,r,o,a,u,"throw",e)}a(void 0)})})())},onMouseEnter:function(){n.isFABActiveForDrag||h||M(!0)},onMouseLeave:function(){n.isFABActiveForDrag||ue||d||(_?ne():(f(!1),M(!1)))}},r.createElement(u,{showCloseButton:h,isExpanded:c,showSettings:d,onClick:function(e){e.preventDefault(),e.stopPropagation(),$.current&&(clearTimeout($.current),$.current=null),n.hasShownSettingsMenu?fe():(n.hasShownSettingsMenu=!0,b(!0),U(!1),f(!0),M(!0))},onMouseDown:function(e){e.stopPropagation(),e.preventDefault()}}),r.createElement(a,{ref:D,onClick:function(){z.current?z.current=!1:d&&fe()},onMouseDown:ae})),d&&r.createElement(N,{containerRef:T,buttonRef:S,fabManager:n,onClose:fe}),n.enableFabDrag&&r.createElement(L,{showDragHandle:m||ue,onMouseDown:ie}),r.createElement(E,{show:_,isFTE:G,positionBelow:te,onClose:W,onMouseEnter:ee,onMouseLeave:ne})))};var ne=chrome.runtime.getURL("browser/css/fonts/AdobeClean-Regular.otf"),te=chrome.runtime.getURL("browser/css/fonts/AdobeClean-Bold.otf"),re="\n    .acrobat-button-container {\n        position: fixed;\n        right: 0;\n        bottom: 36px;\n        z-index: 2147483646;\n        visibility: visible !important;\n        pointer-events: all;\n        opacity: 1;\n        display: flex;\n        align-items: center;\n        transition: opacity 0.3s ease-in-out;\n    }\n\n    @media print {\n        .acrobat-button-container {\n            display: none !important;\n        }\n    }\n\n    .acrobat-button {\n        position: relative;\n        background: white;\n        display: flex;\n        align-items: center;\n        pointer-events: all;\n        touch-action: none;\n        box-shadow: 0px 2px 8px 0px #00000029;\n        height: 34px;\n        width: 34px;\n        border: 1px solid transparent;\n        background-clip: padding-box, border-box;\n        background-origin: border-box;\n        background-image: linear-gradient(white, white),\n                        linear-gradient(95.85deg, #D73220 0%, #D92361 33%, #7155FA 100%);\n        border-radius: 18px;\n        justify-content: right;\n        margin-right: var(--fab-margin-right, 28px);\n        overflow: hidden;\n    }\n\n    .acrobat-button-container-transparent {\n        opacity: 0.4 !important;\n        transition: opacity 0.3s ease-in-out;\n    }\n\n    .acrobat-button-container-transparent:hover,\n    .acrobat-button-container-transparent:focus,\n    .acrobat-button-container-transparent:active {\n        opacity: 1;\n    }\n\n    .acrobat-button > svg {\n        flex-shrink: 0;\n        margin: 4px 5px 5px 5px;\n        width: 22px;\n        height: 22px;\n        pointer-events: none;\n        fill: #b40000;\n    }\n    .acrobat-button:has(.close-btn.open),\n    .expand-acrobat-button {\n        width: 64px;\n    }\n\n    .disabled {\n        background: #B1B1B1;\n    }\n\n    .tooltip-text {\n        width: 160px;\n        visibility: hidden;\n        opacity: 0;\n        background-color: #FFFFFF;\n        color: #292929;\n        border-radius: 7px;\n        padding: 4px 1px 5px 9px;\n        position: absolute;\n        z-index: 1;\n        right: 100%;\n        top: 50%;\n        transform: translateY(-50%);\n        margin-right: 10px;\n        transition: opacity 0.3s, visibility 0s linear 2s;\n        font-size: 12px;\n        line-height: 15px;\n        font-family: 'adobe-clean', Adobe Clean, sans-serif;\n        filter: drop-shadow(0px 1px 6px rgba(0, 0, 0, 0.12));\n    }\n\n    .tooltip-text::after {\n       content: '';\n       position: absolute;\n       top: 50%;\n       left: 100%;\n       transform: translateY(-50%);\n       border-width: 6px;\n       border-style: solid;\n       border-color: transparent transparent transparent #fff;\n    }\n\n    .show-tooltip {\n        visibility: visible;\n        opacity: 1;\n        line-height: 1.5;\n        font-family: 'adobe-clean', Adobe Clean, sans-serif;\n        transition: opacity 0.3s;\n        transition-delay: 500ms;\n    }\n\n    .close-btn {\n        position: relative;\n        display: none;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .close-btn svg {\n        fill: #464646;\n    }\n\n    .close-btn.showCloseButton {\n        opacity: 1;\n        display: flex;\n        justify-content: center;\n        width: 24px;\n        height: 24px;\n        padding: 2px;\n    }\n\n    .fab-view-settings-dialog {\n        display: none;\n        position: absolute;\n        bottom: 40px;\n        z-index: 1;\n    }\n\n    .close-btn:hover {\n        background: #E6E6E6;\n        border-radius: 50%; /* Keep original circular hover */\n        cursor: pointer;\n    }\n\n    .fab-view-settings-dialog.showDialog {\n        display: block;\n    }\n    .close-btn .burger-icon {\n        display: inline;\n        margin-bottom: 2px;\n    }\n    .close-btn .close-icon {\n        display: none;\n    }\n    .close-btn.open .burger-icon {\n        display: none;\n    }\n    .close-btn.open .close-icon {\n        display: inline;\n    }\n    .tooltip-text .tooltip-text-content {\n        font-weight: bold;\n    }\n    .tooltip-text .tooltip-sub-text-text {\n        font-style: italic;\n        font-size: 11px;\n    }\n\n    /* Icon container styles - replaces iframe */\n    .icon-container {\n        width: 33px;\n        height: 34px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: grab;\n        pointer-events: all;\n        flex-shrink: 0;\n        background: transparent;\n        border: none;\n    }\n\n    .icon-container:active {\n        cursor: grabbing;\n    }\n\n    .fab-svg-icon {\n        width: 22px;\n        height: 22px;\n        padding: 5px 5px 5px 6px;\n        pointer-events: none;\n        fill: #b40000;\n    }\n\n    .draggable-handle {\n        display: none;\n        position: absolute;\n        right: var(--drag-handle-right, 12px);\n        cursor: grab;\n    }\n    .draggable-handle-visible {\n        display: flex;\n    }\n\n    /* Font face declarations - for proper font loading in Shadow DOM */\n    @font-face {\n        font-family: 'adobe-clean';\n        font-weight: 400;\n        src: url('".concat(ne,"') format('opentype');\n    }\n    @font-face {\n        font-family: 'adobe-clean';\n        font-weight: 700;\n        src: url('").concat(te,"') format('opentype');\n    }\n    @font-face {\n        font-family: 'AdobeClean-Regular';\n        src: url('").concat(ne,"') format('opentype');\n    }\n    @font-face {\n        font-family: 'AdobeClean-Bold';\n        src: url('").concat(te,"') format('opentype');\n    }\n    body {\n        font-family: 'AdobeClean-Regular', adobe-clean, \"Adobe Clean\", sans-serif;\n    }\n\n    .dialog-container {\n        width: 166px;\n        background-color: #ffffff;\n        border-radius: 4px;\n        border: 1px solid #B1B1B1;\n        box-shadow: 0px 1px 4px 0px #00000026;\n        z-index: 1000;\n        padding: 4px;\n        position: relative;\n        margin: 4px 0px;\n    }\n\n    .menu {\n        display: flex;\n        flex-direction: column;\n        gap: 4px;\n        list-style-type: none;\n        margin: 0;\n        padding: 0;\n    }\n\n    .menu .menu_item {\n        cursor: pointer;\n        font-family: 'AdobeClean-Regular', adobe-clean, \"Adobe Clean\", sans-serif;\n        align-content: center;\n        font-size: 14px;\n        font-weight: 400;\n        line-height: 18.2px;\n        text-align: left;\n        color: #222222;\n        padding: 0px 12px;\n        height: 32px;\n        width: 140px;\n    }\n\n    .menu .menu_item:hover {\n        background-color: #eaeaea;\n    }\n\n    .preferences {\n        font-size: 12px;\n        font-weight: 400;\n        line-height: 18.2px;\n        text-align: left;\n        color: #464646;\n    }\n\n    .divider {\n        border-top: 1px solid #E6E6E6;\n    }\n\n    /* React-specific wrappers - minimal */\n    .fab-root {\n        font-family: 'adobe-clean', Adobe Clean, sans-serif;\n    }\n\n    button.close-btn {\n        background: transparent;\n        border: none;\n        cursor: pointer;\n        padding: 0;\n        z-index: 10; /* Ensure clickable above all other elements */\n        pointer-events: auto;\n    }\n\n    /* FAB Action Pills - From Figma Design */\n    .fab-pills-container {\n        position: absolute;\n        bottom: 42px; /* FAB height (34px) + gap (8px) = 42px */\n        right: var(--fab-margin-right, 28px);\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n        align-items: flex-end;\n        width: 142px;\n        z-index: 1;\n    }\n\n    .fab-pills-container.pills-below {\n        bottom: auto;\n        top: 42px; /* Same gap when positioned below */\n    }\n\n    /* Extend hover area using ::after pseudo-element - doesn't affect visual layout */\n    .fab-pills-container::after {\n        content: '';\n        position: absolute;\n        top: 100%; /* Start right after the pills content */\n        left: 0;\n        right: 0;\n        height: 8px;\n        background: transparent;\n        pointer-events: auto;\n    }\n\n    .fab-pills-container.pills-below::after {\n        top: auto;\n        bottom: 100%; /* Start right before the pills when positioned below */\n    }\n\n    /* FTE Header - First Time Experience (56px with close button) */\n    .fab-fte-header {\n        position: relative;\n        width: 142px;\n        height: 56px;\n        background: #FFFFFF;\n        border-radius: 12px;\n        box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.08), 0px 2px 6px 0px rgba(0, 0, 0, 0.04), 0px 0px 2px 0px rgba(0, 0, 0, 0.12);\n        overflow: hidden;\n    }\n\n    .fab-fte-background {\n        position: absolute;\n        left: -13px;\n        top: -55.64px;\n        width: 183.33px;\n        height: 126.82px;\n        background: url('").concat(chrome.runtime.getURL("browser/images/fab-header-background.svg"),"') no-repeat center;\n        background-size: cover;\n        pointer-events: none;\n        z-index: 0;\n    }\n\n    .fab-fte-close {\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 24px;\n        height: 24px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: transparent;\n        border: none;\n        cursor: pointer;\n        z-index: 2;\n        color: #222222;\n        padding: 0;\n    }\n\n    .fab-fte-close:hover {\n        background: rgba(0, 0, 0, 0.05);\n        border-radius: 12px;\n    }\n\n    .fab-fte-close svg {\n        width: 8px;\n        height: 8px;\n    }\n\n    .fab-fte-text {\n        position: absolute;\n        left: 16px;\n        top: 12px;\n        width: 102px;\n        font-family: 'AdobeClean-Bold', adobe-clean, sans-serif;\n        font-weight: 400; /* Use Bold font file directly, not synthetic bold */\n        font-size: 12px;\n        line-height: 16px;\n        color: #222222; /* Figma spec color */\n        z-index: 1;\n        white-space: normal;\n        word-wrap: break-word;\n        -webkit-font-smoothing: subpixel-antialiased; /* Better font rendering */\n        -moz-osx-font-smoothing: auto;\n    }\n\n    /* Hover Header - Normal state (24px without close button) */\n    .fab-hover-header {\n        position: relative;\n        width: 142px;\n        height: 24px;\n        background: #FFFFFF; /* White background to show the colorful SVG and text */\n        border-radius: 12px;\n        box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.08), 0px 2px 6px 0px rgba(0, 0, 0, 0.04), 0px 0px 2px 0px rgba(0, 0, 0, 0.12);\n        overflow: hidden;\n    }\n\n    .fab-hover-background {\n        position: absolute;\n        left: -27px;\n        top: -63.64px;\n        width: 212.63px;\n        height: 147.09px;\n        background: url('").concat(chrome.runtime.getURL("browser/images/fab-header-background.svg"),"') no-repeat center;\n        background-size: cover;\n        pointer-events: none;\n        z-index: 0;\n    }\n\n    .fab-hover-text {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-family: 'AdobeClean-Bold', adobe-clean, sans-serif;\n        font-weight: 400; /* Use Bold font file directly, not synthetic bold */\n        font-size: 12px;\n        line-height: 15px;\n        color: #222222; /* Figma spec color */\n        z-index: 1;\n        white-space: nowrap;\n        -webkit-font-smoothing: subpixel-antialiased; /* Better font rendering */\n        -moz-osx-font-smoothing: auto;\n    }\n\n    /* Individual Pill Buttons */\n    .fab-pill-button {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        gap: 0;\n        width: 142px;\n        height: 24px; /* Back to 24px as per Figma */\n        background: #FFFFFF;\n        border: none;\n        border-radius: 12px;\n        box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.08), 0px 2px 6px 0px rgba(0, 0, 0, 0.04), 0px 0px 2px 0px rgba(0, 0, 0, 0.12);\n        cursor: pointer;\n        padding: 0;\n        transition: background 0.2s ease;\n        overflow: hidden;\n    }\n\n    .fab-pill-button:hover {\n        background: #F8F8F8;\n    }\n\n    .fab-pill-button:hover .fab-pill-label,\n    .fab-pill-button:hover .fab-pill-icon {\n        color: #000000; /* Hover state color from Figma Alias/content/neutral/hover */\n    }\n\n    .fab-pill-button:active {\n        background: #F4F4F4;\n    }\n\n    .fab-pill-icon {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 4px 7px 4px 10px; /* Exact Figma specs: top right bottom left */\n        flex-shrink: 0;\n        box-sizing: border-box;\n    }\n\n    .fab-pill-icon img {\n        width: 16px;\n        height: 16px;\n        display: block;\n        flex-shrink: 0;\n        /* SVG icons with currentColor fill will inherit color from parent */\n        filter: brightness(0) saturate(100%) invert(13%) sepia(0%) saturate(0%) hue-rotate(196deg) brightness(97%) contrast(97%); /* #222222 */\n    }\n\n    .fab-pill-button:hover .fab-pill-icon img {\n        filter: brightness(0) saturate(100%); /* #000000 on hover */\n    }\n\n    .fab-pill-label {\n        display: flex;\n        align-items: center;\n        font-family: 'AdobeClean-Bold', adobe-clean, sans-serif;\n        font-weight: 400; /* Use Bold font file directly, not synthetic bold */\n        font-size: 12px;\n        line-height: 15px; /* 1.252 * 12px = 15.024px */\n        color: #222222; /* Default text color from Figma Alias/content/neutral/default */\n        padding: 4px 12px 5px 0; /* Exact Figma specs: top right bottom left */\n        text-align: left;\n        white-space: nowrap;\n        box-sizing: border-box;\n        flex: 1;\n        overflow: hidden;\n        -webkit-font-smoothing: subpixel-antialiased; /* Better font rendering */\n        -moz-osx-font-smoothing: auto;\n    }\n");function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return ae(l,"_invoke",function(t,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return i=n,u=0,c=e,p.n=t,a}};function d(t,r){for(u=t,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,b=i[2];t>3?(o=b===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(u=0,p.v=r,p.n=i[1]):d<b&&(o=t<3||i[0]>r||r>b)&&(i[4]=t,i[5]=r,p.n=b,u=0))}if(o||t>1)return a;throw f=!0,r}return function(o,s,b){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,b),u=s,c=b;(n=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((n=(f=p.n<0)?c:t.call(r,p))!==a)break}catch(n){i=e,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(t,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(ae(n={},r,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,ae(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,ae(f,"constructor",l),ae(l,"constructor",c),c.displayName="GeneratorFunction",ae(l,o,"GeneratorFunction"),ae(f),ae(f,o,"Generator"),ae(f,r,function(){return this}),ae(f,"toString",function(){return"[object Generator]"}),(ie=function(){return{w:i,m:p}})()}function ae(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ae=function(e,n,t,r){function i(n,t){ae(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(i("next",0),i("throw",1),i("return",2))},ae(e,n,t,r)}function ue(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,o)}function ce(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){ue(i,r,o,a,u,"next",e)}function u(e){ue(i,r,o,a,u,"throw",e)}a(void 0)})}}function le(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fe(r.key),r)}}function se(e,n,t){return(n=fe(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function fe(e){var n=function(e){if("object"!=oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=oe(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oe(n)?n:n+""}var pe=function(){return e=function e(){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),se(this,"setTransparentState",null),se(this,"setExpandedState",null),e.instance){var n=document.getElementById("aiFabShadowRoot");return e.instance.shadowRoot&&!n&&(e.instance.shadowRoot=null,e.instance.reactRoot=null,e.instance.hasShownSettingsMenu=!1,e.instance.isFABHiddenForNow=!1),e.instance}e.instance=this,this.isReactFAB=!0,this.shadowRoot=null,this.reactRoot=null,this.hasShownSettingsMenu=!1,this.actionableCoachmark="undefined"!=typeof ActionableCoachmark?new ActionableCoachmark:null,this.isFABHiddenForNow=!1,this.cursorXPosition=null,this.cursorYPosition=null,this.fabDraggedTop=null,this.enableFabDrag=null,this.enableFabAutoPositioning=null,this.isFABActiveForDrag=!1,this.isFABDragged=!1,this.fabAutoRepositioningTop=void 0,this.init()},n=[{key:"init",value:(u=ce(ie().m(function e(){var n;return ie().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,initDcLocalStorage();case 1:if(this.fabDraggedTop=window.dcLocalStorage.getItem("genAIFabTopPosition"),this.enableFabDrag=window.dcLocalStorage.getItem("enableFabDrag"),this.enableFabAutoPositioning=window.dcLocalStorage.getItem("enableFabAutoPositioning"),this.registerOpenCloseListeners(),this.registerFABEnabledDisabledListeners(),!(n="undefined"!=typeof GenAIWebpageEligibilityService)){e.n=3;break}return e.n=2,GenAIWebpageEligibilityService.shouldDisableTouchpoints();case 2:n=e.v;case 3:if(!n){e.n=4;break}s([["DCBrowserExt:SidePanel:FabIcon:Disabled"]]),e.n=5;break;case 4:chrome.runtime.sendMessage({main_op:"log-event-once",eventName:"DCBrowserExt:SidePanel:FabIcon:Enabled",options:{storageKey:"loggedFabEnabled",timePeriod:864e5}}),chrome.runtime.sendMessage({main_op:"log-info",log:{message:"FAB enabled"}});case 5:return e.a(2)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"registerOpenCloseListeners",value:function(){var e=this;chrome.runtime.onMessage.addListener(function(){var n=ce(ie().m(function n(t){var r,o;return ie().w(function(n){for(;;)switch(n.n){case 0:r=t.action,n.n="sidepanel_opened"===r?1:"sidepanel_closed"===r?2:6;break;case 1:return e.removeFAB(),n.a(3,7);case 2:if(!(o="undefined"!=typeof GenAIWebpageEligibilityService)){n.n=4;break}return n.n=3,GenAIWebpageEligibilityService.shouldShowTouchpoints();case 3:o=n.v;case 4:if(!o){n.n=5;break}e.renderFAB();case 5:case 6:return n.a(3,7);case 7:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}())}},{key:"registerFABEnabledDisabledListeners",value:(a=ce(ie().m(function e(){var n=this;return ie().w(function(e){for(;;)switch(e.n){case 0:chrome.storage.onChanged.addListener(function(e,t){var r=e.enableGenAIFab;"local"===t&&r&&("false"===r.newValue?n.removeFAB():n.renderFAB())});case 1:return e.a(2)}},e)})),function(){return a.apply(this,arguments)})},{key:"isFABRendered",value:function(){var e=document.getElementById("aiFabShadowRoot");if(e){var n=e.shadowRoot;if(n){var t=n.querySelector("#fab-react-root");if(!Boolean(t)&&this.isReactFAB)return e.remove(),!1}}return Boolean(this.shadowRoot)||Boolean(e)}},{key:"removeFAB",value:function(){var e;this.isFABActiveForDrag=!1,this.isFABDragged=!1,this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),null===(e=this.shadowRoot)||void 0===e||null===(e=e.host)||void 0===e||e.remove(),this.shadowRoot=null,this.hasShownSettingsMenu=!1}},{key:"shouldRenderFAB",value:(i=ce(ie().m(function e(){var n;return ie().w(function(e){for(;;)switch(e.n){case 0:return n=chrome.runtime.sendMessage({type:"get_sidepanel_state"}),e.n=1,initDcLocalStorage();case 1:return e.n=2,n;case 2:if(!e.v.isOpen){e.n=3;break}return e.a(2,!1);case 3:if("function"!=typeof isEmbeddedPDFTouchPointRendered||!isEmbeddedPDFTouchPointRendered()){e.n=4;break}return chrome.runtime.sendMessage({main_op:"log-info",log:{message:"FAB not rendered due to embedded PDF",domain:new URL(window.location.href).hostname}}),e.a(2,!1);case 4:return e.a(2,"true"===window.dcLocalStorage.getItem("enableGenAIFab"))}},e)})),function(){return i.apply(this,arguments)})},{key:"updateCSSAsPerOS",value:function(){var e,n=navigator.platform,t=document.getElementById("aiFabShadowRoot"),r=null==t||null===(e=t.shadowRoot)||void 0===e?void 0:e.querySelector(".fab-root");r&&(n.includes("Mac")?(r.style.setProperty("--fab-margin-right","28px"),r.style.setProperty("--drag-handle-right","12px")):n.includes("Win")&&(r.style.setProperty("--fab-margin-right","22px"),r.style.setProperty("--drag-handle-right","6px")))}},{key:"renderFAB",value:(t=ce(ie().m(function e(){var n,t,i,a,u,c,l,s,f,p,d=arguments;return ie().w(function(e){for(;;)switch(e.n){case 0:if(t=(n=d.length>0&&void 0!==d[0]?d[0]:{}).fadeIn,i=void 0!==t&&t,a=n.enableHoveredState,u=void 0!==a&&a,c=n.hoveredStateTimeout,l=void 0===c?7e3:c,!this.isFABHiddenForNow&&!this.actionableCoachmark.isRendered()){e.n=1;break}return e.a(2);case 1:return e.n=2,this.shouldRenderFAB();case 2:if(e.v){e.n=3;break}return e.a(2);case 3:if(!this.isFABRendered()){e.n=4;break}return e.a(2);case 4:(s=document.createElement("div")).id="aiFabShadowRoot",s.setAttribute("data-fab-type","react"),s.style.opacity="0",i&&(s.style.transition="opacity 0.4s ease-out, transform 0.4s ease-out"),this.shadowRoot=s.attachShadow({mode:"open"}),(f=document.createElement("div")).id="fab-react-root",this.shadowRoot.appendChild(f),(p=document.createElement("style")).textContent=re,this.shadowRoot.appendChild(p),this.actionableCoachmark.isRendered()||(document.documentElement.appendChild(s),this.updateCSSAsPerOS()),this.reactRoot=o.createRoot(f),this.reactRoot.render(r.createElement(ee,{fabManager:this,fadeIn:i,enableHoveredState:u,hoveredStateTimeout:l})),i&&requestAnimationFrame(function(){return requestAnimationFrame(function(){return s.style.opacity="1"})});case 5:return e.a(2)}},e,this)})),function(){return t.apply(this,arguments)})},{key:"makeFABTransparent",value:function(){this.setTransparentState&&this.setTransparentState(!0)}},{key:"makeFABOpaque",value:function(){this.setTransparentState&&this.setTransparentState(!1)}},{key:"collapseFAB",value:function(){this.setExpandedState&&!this.hasShownSettingsMenu&&this.setExpandedState(!1)}}],n&&le(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,t,i,a,u}();se(pe,"instance",null);const de=new pe},982:(e,n,t)=>{e.exports=t(463)}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,e=[],r.O=(n,t,o,i)=>{if(!t){var a=1/0;for(s=0;s<e.length;s++){for(var[t,o,i]=e[s],u=!0,c=0;c<t.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every(e=>r.O[e](t[c]))?t.splice(c--,1):(u=!1,i<a&&(a=i));if(u){e.splice(s--,1);var l=o();void 0!==l&&(n=l)}}return n}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[t,o,i]},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var o,i=r;export{i as __webpack_require__};o={479:0},r.C=e=>{var n,t,{__webpack_esm_ids__:i,__webpack_esm_modules__:a,__webpack_esm_runtime__:u}=e,c=0;for(n in a)r.o(a,n)&&(r.m[n]=a[n]);for(u&&u(r);c<i.length;c++)t=i[c],r.o(o,t)&&o[t]&&o[t][0](),o[i[c]]=0;r.O()},r.O.j=e=>0===o[e];import*as a from"./vendor.js";r.C(a);var u=r.O(void 0,[121],()=>r(581));const c=(u=r.O(u)).A;export{c as default};