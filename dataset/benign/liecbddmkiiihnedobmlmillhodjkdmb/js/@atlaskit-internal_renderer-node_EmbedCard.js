/*! For license information please see @atlaskit-internal_renderer-node_EmbedCard.js.LICENSE.txt */

!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9c38dfdc-88a9-54c4-95ac-ef53be640983")}catch(e){}}();
(self.webpackChunk_loomhq_chrome_extension=self.webpackChunk_loomhq_chrome_extension||[]).push([[45811,97179],{162:(e,t,r)=>{"use strict";r.d(t,{f:()=>n}),r(92860);var n="361d618a-3c04-40ad-9b27-3c8ea6927020"},24620:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(87584),a=r(24672),i=r(92860),o=r(98674),s=r(79400),d=r.n(s),l=r(60906),c=r(9375),u=r(9e4),f=24;r(81723);var p=r(17206),h=r(5236);function m(e){var t=e.layout,r=e.width,s=e.height,m=e.containerWidth,v=void 0===m?r:m,g=e.isLoading,b=void 0!==g&&g,w=e.pctWidth,x=e.size,y=e.className,k=e.children,A=e.nodeType,C=void 0===A?"mediaSingle":A,j=e.fullWidthMode,I=e.lineLength,S=e.hasFallbackContainer,_=void 0===S||S,O=e.handleMediaSingleRef,E=e.isInsideOfInlineExtension,W=void 0!==E&&E,R=e.dataAttributes,H="pixel"===(null==x?void 0:x.widthType),L=(null==x?void 0:x.width)||w,N=i.Children.toArray(k);!L&&(0,p.F4)(t,r,I)&&(L=H?I/2:50);var D,P,B=void 0===r;if(L){var F=function(e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return"pixel"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"percentage")?e:Math.ceil((t+r)*(e/100)-r)}(L,I,null==x?void 0:x.widthType,f);B?r=F-l.ed:void 0!==r&&(s=s/r*F,r=F)}else B&&(r=l.sD-l.ed);B?D=s:void 0!==r&&(P="".concat((s/r*100).toFixed(3),"%"),"embedCard"===C&&(P="calc(".concat(P," + 32px)")));var M=(0,a.A)(N,2),T=M[0],z=M[1];return(0,o.jsx)("div",(0,n.A)({ref:O,css:(0,h.$x)({width:r,layout:t,containerWidth:v,mediaSingleWidth:L,fullWidthMode:j,isExtendedResizeExperienceOn:H,isInsideOfInlineExtension:W,nodeType:C})},(0,c.fg)("platform_editor_fix_image_size_diff_during_ssr")?{}:{"data-layout":t},{"data-width":L,"data-width-type":(null==x?void 0:x.widthType)||"percentage","data-node-type":C,"data-vc":"media-single",className:d()("rich-media-item mediaSingleView-content-wrap","image-".concat(t),y,{"is-loading":b,"rich-media-wrapped":"wrap-left"===t||"wrap-right"===t})},R,u.Pj),(0,o.jsx)(h.mh,{hasFallbackContainer:_,height:D,paddingBottom:P},T),z)}},34989:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EmbedOrBlockCardInternal:()=>N,default:()=>D});var n=r(87584),a=r(24672),i=r(98674),o=r(92860),s=r(6010),d=r(63101),l=r(42685),c=r(79214),u=r(75418),f=r(32821),p=r(69771),h=r(86932);function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}var v=function(e){function t(){var e,r,n,a;(0,d.A)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=this,n=t,a=[].concat(o),n=(0,u.A)(n),e=(0,c.A)(r,m()?Reflect.construct(n,a||[],(0,u.A)(r).constructor):n.apply(r,a)),(0,p.A)(e,"messageCallback",(function(t){var r=e.props.embedIframeRef,n=r.current&&t.source===r.current.contentWindow,a="string"==typeof t.data;if(n&&a)try{var i=JSON.parse(t.data);"resize"===i.method&&"number"==typeof i.height&&e.onEmbedHeightChange({height:i.height})}catch(e){}})),(0,p.A)(e,"onEmbedHeightChange",(function(t){(0,e.props.onHeightUpdate)(t.height+h.Iv)})),e}return(0,f.A)(t,e),(0,l.A)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.messageCallback)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.messageCallback)}},{key:"render",value:function(){return this.props.children}}])}(o.Component),g=r(4733),b=r(21547),w=r(95674),x=r(74441),y=r(24620),k=r(60906),A=r(9375),C=r(32759),j=r(81723),I=r(80922),S=r(2551),_=r(57921),O=r(12932),E=r(43491),W=r(35316),R=(0,i.css)({width:"100%",height:"100%","> div":{height:"100%"},".loader-wrapper":{height:"100%"},margin:"0 auto"}),H=(0,i.css)({marginLeft:"50%",transform:"translateX(-50%)"});function L(e){var t,r=e.url,d=e.data,l=e.eventHandlers,c=e.layout,u=e.width,f=e.isInsideOfBlockNode,p=e.rendererAppearance,h=e.smartLinks,m=e.isInsideOfInlineExtension,C=(0,E.W)(e),j=(0,o.useRef)(null),W=(0,_.r)(l,r),L=(h||{}).actionOptions,N="web",D={url:r,onClick:W,container:C,platform:N,frameStyle:null!==(t=null==h?void 0:h.frameStyle)&&void 0!==t?t:"show",actionOptions:L,CompetitorPrompt:null==h?void 0:h.CompetitorPrompt},P=(0,o.useState)(null),B=(0,a.A)(P,2),F=B[0],M=B[1],T=(0,o.useState)(),z=(0,a.A)(T,2),U=z[0],V=z[1],J=F||e.originalHeight,q=k.Rx,K=k.sD;e.originalHeight&&e.originalWidth&&(q=e.originalHeight,K=e.originalWidth),U&&(q=1,K=U);var X=!(e.originalHeight&&e.originalWidth)||F;J&&X&&(q=J,K=void 0);var Z="full-page"===p?2*S.g:0,Q=(0,o.useState)(!0),$=(0,a.A)(Q,2),G=$[0],Y=$[1],ee=(0,o.useContext)(b.DU),te=function(e){var t=e.aspectRatio;!!(ee&&r&&ee.extractors.getPreview(r,N))||Y(!1),V(t)};return(0,i.jsx)(O.A,{data:{attributes:{location:"renderer"},location:"renderer"}},(0,i.jsx)(w.LW,null,(function(e){var t=e.width,a="full-width"===p,o=t;null!=h&&h.ssr&&!o&&(o=a?k.xD:k.xI);var l=o;f||"comment"===p||(l=o-Z>=k.xI?k.xI:o-Z);var b,w=a?Math.min(k.xD,o-Z):l,S="full-width"===c||"wide"===c?H:"",_=function(e){var t=e.err;if(t)throw t};if(null!=h&&h.ssr&&r&&((0,A.fg)("platform_ssr_smartlink_embeds")||(0,A.fg)("jfp-magma-ssr-iv-editor-links"))){var O,E={url:r,onClick:W,container:C,platform:N,frameStyle:null!==(O=null==h?void 0:h.frameStyle)&&void 0!==O?O:"show",actionOptions:L};b=(0,i.jsx)(g.CardSSR,(0,n.A)({appearance:"embed"},E,{onResolve:te,inheritDimensions:!0,embedIframeRef:j,onError:_}))}else b=(0,i.jsx)(s.Z,(0,n.A)({appearance:"embed"},D,{onResolve:te,inheritDimensions:!0,embedIframeRef:j,onError:_}));return(0,i.jsx)(I.F,(0,n.A)({unsupportedComponent:x.A},D),(0,i.jsx)(v,{embedIframeRef:j,onHeightUpdate:M},(0,i.jsx)(y.A,{css:S,layout:c,width:K,containerWidth:o,pctWidth:u,height:q,fullWidthMode:a,nodeType:"embedCard",lineLength:f?o:w,hasFallbackContainer:G,isInsideOfInlineExtension:m},(0,i.jsx)("div",{css:R},(0,i.jsx)("div",{className:"embedCardView-content-wrap","data-embed-card":!0,"data-layout":c,"data-width":u,"data-card-data":d?JSON.stringify(d):void 0,"data-card-url":r,"data-card-original-height":q},b)))))})))}var N=function(e){var t=e.url,r=e.data,n=e.eventHandlers,a=e.portal,s=e.originalHeight,d=e.originalWidth,l=e.width,c=e.layout,u=e.rendererAppearance,f=e.isInsideOfBlockNode,p=e.smartLinks,h=e.isInsideOfInlineExtension,m=(0,o.useContext)(w.Sb).width;return m&&m<=k.Q5?(0,i.jsx)(W.default,{url:t,data:r,eventHandlers:n,portal:a,layout:c,rendererAppearance:u,smartLinks:p}):(0,i.jsx)(L,{url:t,data:r,eventHandlers:n,portal:a,originalHeight:s,originalWidth:d,width:l,layout:c,rendererAppearance:u,isInsideOfBlockNode:f,smartLinks:p,isInsideOfInlineExtension:h})};const D=(0,C.P)((function(){return(0,j.o)("platform_editor_preview_panel_responsiveness","isEnabled",!0)}),N,L)},35316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var n=r(87584),a=r(98674),i=r(6010),o=r(88677),s=r(95674),d=r(74441),l=r(80922),c=r(57921),u=r(87288),f=r(12932),p=r(92860),h=(0,p.lazy)((function(){return Promise.all([r.e(93377),r.e(89157),r.e(70951),r.e(17836),r.e(97862),r.e(46747),r.e(37152)]).then(r.bind(r,46747)).then((function(e){return{default:e.DatasourceTableView}}))}));const m=function(e){return p.createElement(p.Suspense,{fallback:p.createElement("div",{"data-testid":"datasource-table-view-suspense"})},p.createElement(h,e))};var v=r(4733),g=r(9375),b=r(30665),w=r(162),x=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=function(e){switch(e){case"d8b75300-dfda-4519-b6cd-e49abbd50401":return"jira";case w.f:return"assets";case"768fc736-3af4-4a8f-b27e-203602bff8ca":return"confluence-search";default:return}}(e);switch(r){case"jira":return!0;case"assets":return!!(0,g.fg)("linking_platform_datasource_assets_objects");default:return t}},y=r(66014),k=r(43491),A=(0,a.css)({borderRadius:"var(--ds-border-radius-200, 8px)",border:"1px solid ".concat("var(--ds-border, ".concat(b.br,")")),overflow:"hidden",marginLeft:"50%",marginBottom:"var(--ds-space-150, 0.75rem)",transform:"translateX(-50%)"});function C(e){var t,r=e.url,p=e.data,h=e.eventHandlers,b=e.smartLinks,w=e.isNodeNested,C=(0,k.W)(e),j=(b||{}).actionOptions,I=(0,c.r)(h,r),S={url:r,data:p,onClick:I,container:C,isDatasource:!!e.datasource,actionOptions:j,CompetitorPrompt:null==b?void 0:b.CompetitorPrompt},_={attributes:{location:"renderer"},location:"renderer"},O=function(e){var t=e.err;if(t)throw t};if(e.datasource){var E=e.datasource.views.find((function(e){return"table"===e.type}));if(E&&x(e.datasource.id)){var W,R=null===(W=E.properties)||void 0===W?void 0:W.columns,H=null==R?void 0:R.map((function(e){return e.key})),L=null==R?void 0:R.filter((function(e){return!!e.width})).map((function(e){return[e.key,e.width]})),N=null!=L&&L.length?Object.fromEntries(L):void 0,D=null==R?void 0:R.filter((function(e){return e.isWrapped})).map((function(e){return e.key})),P=e.datasource,B=e.layout;return(0,a.jsx)(f.A,{data:_},(0,a.jsx)(l.F,(0,n.A)({unsupportedComponent:o.A,datasourceId:e.datasource.id},S),(0,a.jsx)(s.LW,null,(function(e){var t=e.width;return(0,a.jsx)("div",{css:A,"data-testid":"renderer-datasource-table",style:{width:w?"100%":(0,y.b6)(B,t)}},(0,a.jsx)(m,{datasourceId:P.id,parameters:P.parameters,visibleColumnKeys:H,columnCustomSizes:N,wrappedColumnKeys:D&&D.length>0?D:void 0,url:r}))}))))}return(0,a.jsx)(u.default,{data:p,url:r})}return t=null!=b&&b.ssr&&r&&((0,g.fg)("platform_ssr_smartlink_cards")||(0,g.fg)("jfp-magma-ssr-iv-editor-links"))?(0,a.jsx)(v.CardSSR,(0,n.A)({appearance:"block",platform:"web"},S,{url:r,onError:O,hideIconLoadingSkeleton:!0})):(0,a.jsx)(i.Z,(0,n.A)({appearance:"block",platform:"web"},S,{onError:O})),(0,a.jsx)(f.A,{data:_},(0,a.jsx)("div",{className:"blockCardView-content-wrap","data-block-card":!0,"data-card-data":p?JSON.stringify(p):void 0,"data-card-url":r},(0,a.jsx)(l.F,(0,n.A)({unsupportedComponent:d.A},S),t)))}},79400:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=o(e,i(r)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=o(t,r));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()}}]);
//# sourceMappingURL=@atlaskit-internal_renderer-node_EmbedCard.js.map
//# debugId=9c38dfdc-88a9-54c4-95ac-ef53be640983
