!function(){"use strict";var e=!1;function t(e){return chrome.i18n.getMessage(e)}function o(e){return e.stopPropagation(),!0}function n(e){return e.stopPropagation()}m="#_copy{align-items:center;background:#4494d5;border-radius:3px;color:#fff;cursor:pointer;display:flex;font-size:13px;height:30px;justify-content:center;position:absolute;width:60px;z-index:1000}#select-tooltip,#sfModal,.modal-backdrop,div[id^=reader-helper]{display:none!important}.modal-open{overflow:auto!important}._sf_adjust_body{padding-right:0!important}.enable_copy_btns_div{position:fixed;width:154px;left:10px;top:45%;background:#e7f1ff;border:2px solid #4595d5;font-weight:600;border-radius:2px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;z-index:5000}.enable_copy_btns_logo{width:100%;background:#4595d5;text-align:center;font-size:12px;color:#e7f1ff;line-height:30px;height:30px}.enable_copy_btns_btn{display:block;width:128px;height:28px;background:#7f5711;border-radius:4px;color:#fff;font-size:12px;border:0;outline:0;margin:8px auto;font-weight:700;cursor:pointer;opacity:.9}.enable_copy_btns_btn:hover{opacity:.8}.enable_copy_btns_btn:active{opacity:1}",d=(d=void 0===d?{}:d).insertAt,m&&"undefined"!=typeof document&&(l=document.head||document.getElementsByTagName("head")[0],(u=document.createElement("style")).type="text/css","top"===d&&l.firstChild?l.insertBefore(u,l.firstChild):l.appendChild(u),u.styleSheet?u.styleSheet.cssText=m:u.appendChild(document.createTextNode(m)));var i=function(e){e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.returnValue=!0},c={regexp:/.*doc88\.com\/.+/,init:function(e){chrome.runtime.sendMessage({super_type:"getsupercopydoc88path"},(function(e){e&&(localStorage.super_js_copy_doc88=e)}))},getSelectedText:async function(){return new Promise(((e,t)=>{document.getElementById("super_doc88_copy")&&document.getElementById("super_doc88_copy").remove();var o=chrome.runtime.getURL("js/doc88.js"),n=document.createElement("script");n.id="super_doc88_copy",n.src=o,n.onload=function(){e(localStorage.enable_copy_doc88)},document.body.appendChild(n)}))}},r=function(e){e("body").append('<style id="copy-hide">#_copy{display: none !important;}</style>')},a=function(){document.addEventListener("keydown",n,!0)},d={regexp:/.*wk\.baidu\.com\/view\/.+/,init:function(e){r(e),e(document).ready((function(){e(".sf-edu-wenku-vw-container").attr("style",""),e(".sfa-body").on("selectstart",(function(e){return e.stopPropagation(),!0}))})),e(window).on("load",(function(){e(".sf-edu-wenku-vw-container").attr("style",""),e(".sfa-body").on("selectstart",(function(e){return e.stopPropagation(),!0}))}))}},p=!0,s={regexp:/.*docs\.qq\.com\/.+/,config:{initCopyEvent:!1},init:function(e){e(document).ready((function(){document.getElementById("super_qqdoc_copy")&&document.getElementById("super_qqdoc_copy").remove();var t=chrome.runtime.getURL("js/qqdoc.js"),o=document.createElement("script");o.id="super_qqdoc_copy",o.src=t,o.onload=function(){(localStorage.enable_copy_qq_no_pad||localStorage.enable_copy_qq_no_restrict)&&(p=!1,r(e))},document.body.appendChild(o)}))},getSelectedText:async function(){return new Promise(((e,t)=>{if(!p)return e("");document.getElementById("super_qqdoc_copy_text")&&document.getElementById("super_qqdoc_copy_text").remove();var o=chrome.runtime.getURL("js/qqdoc2.js"),n=document.createElement("script");n.id="super_qqdoc_copy_text",n.src=o,n.onload=function(){e(localStorage.super_qqdoc_copy_result)},document.body.appendChild(n)}))}},l={regexp:new RegExp(".+://boke112.com/post/.+"),init:function(e){e("body").on("click",(function(){return!1})),e("body").append("\n            <style>\n                :not(input):not(textarea)::selection {\n                    background-color: #2440B3 !important;\n                    color: #fff !important;\n                }\n\n                :not(input):not(textarea)::-moz-selection {\n                    background-color: #2440B3 !important;\n                    color: #fff !important;\n                }\n            </style>\n        ".replace(/\s*/," "))}},u={regexp:new RegExp("qidian"),init:function(e){r(e),function(e,t,o){void 0===o&&(o=!1);var n=e(t);o?(n.css("user-select","auto"),n.css("-webkit-user-select","auto")):(o="\n                <style>\n                    ".concat(t,"{\n                        user-select: auto !important;\n                        -webkit-user-select: auto !important;\n                    }\n                </style>\n            "),e("body").append(o.replace(/\s*/," ")))}(e,"body"),function(e,t){e(t).on("copy",o)}(e,".main-read-container"),function(e,t){e(t).on("contextmenu",o)}(e,".main-read-container")}},m={regexp:new RegExp("wenku.baidu.com/view/.*"),init:function(e){e("head").append("<style>@media print { body{ display:block; } }</style>");var t=location.href+"&seo=google&tag=jbojhemhnilgooplglkfoheddemkodld",o=(a(),["<div id='copy-template-html'>","<div class='template-container'>","<div class='title-container'>","<div>复制文字</div>","<div id='template-close'>关闭</div>","</div>","<iframe id='copy-template-iframe' src="+t+"></iframe>","<div id='copy-template-loading'>正在加载中</div>","</div>","</div>"].join("")),n=["<style id='copy-template-css'>","body{overflow: hidden !important}","#copy-template-html{position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; justify-content: center;z-index: 999999;}","#copy-template-html > .template-container{height: 80%; width: 80%;border: 1px solid #eee;background: #fff;}",".template-container > .title-container{display: flex; align-items: center; justify-content: space-between;padding: 10px;border-bottom: 1px solid #eee;}","#copy-template-iframe{height: 100%; width: 100%;border: none;}","#copy-template-html #template-close{cursor: pointer;}","#copy-template-loading{left: 0;position: absolute;top: 0;height: 100%;width: 100%;align-items: center;display: flex;justify-content: center;}","</style>"].join("");e("head").append("<style>#super-copy-btn-wk{padding: 10px; background: #4594D5;position: fixed; left:0; top: 55%;cursor: pointer;color: #fff;z-index:2147483647;font-weight: bold}</style>"),e("body").append("<div id='super-copy-btn-wk'>复制</div>"),e("#super-copy-btn-wk").on("click",(function(){if(!(c=document.querySelector("#copy-template-html #template-close"))){e("body").append(o),e("body").append(n);var t=document.querySelector("#copy-template-html #template-close"),i=function(){e("#copy-template-html").remove(),e("#copy-template-css").remove(),t.removeEventListener("click",i)},c=(t.addEventListener("click",i),document.getElementById("copy-template-iframe"));const r=document.getElementById("copy-template-loading");c.addEventListener("load",(function(){r.style.display="none"}))}}))},getSelectedText:function(){var e;return window.getSelection&&window.getSelection().toString()?window.getSelection().toString():(e=/查看全部包含“([\s\S]*?)”的文档/.exec(document.body.innerHTML))?e[1]:""}},y=[c,{regexp:/.*segmentfault\.com\/.+/,init:function(e){e("body").addClass("_sf_adjust_body"),e("body").on("click",(function(){e("body").css("padding-right",0)}))}},d,s,l,u,m],f=null;function g(){var o,n,r,a;e||(o=window.$,n=window.ClipboardJS,a=function(e){var t={initCopyEvent:!0};return y.some((function(o){return!!o.regexp.test(window.location.href)&&(o.init(e),o.config&&(t=Object.assign(t,o.config)),o.getSelectedText&&(f=o.getSelectedText),!0)})),t}(o),(r=o)("body").on("mousedown",(function(){return r("#_copy").remove()})),a.initCopyEvent&&(document.oncopy=function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!0},document.body.addEventListener("copy",i,{capture:!0}),r("body").on("copy",(function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!0}))),document.body.addEventListener("mouseup",(async function(e){if(!(i=c.regexp.test(window.location.href)||s.regexp.test(window.location.href)?await(f?await f():""):f?f():window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:""))return"";o("#_copy").remove();e='\n            <div id="_copy"\n            style="left:'.concat(e.pageX+30,"px;top:").concat(e.pageY,'px;"\n            data-clipboard-text="').concat(i.replace(/"/g,"&quot;"),'">'+t("copy")+"</div>\n        ");var i=(o("body").append(e),o("#_copy").on("mousedown",(function(e){return e.stopPropagation()})),o("#_copy").on("mouseup",(function(e){return e.stopPropagation()})),new n("#_copy"));(e=i).on("success",(function(e){$("#_copy").html(t("copySuccess")),setTimeout((function(){return $("#_copy").fadeOut(1e3)}),1e3),e.clearSelection()})),e.on("error",(function(e){$("#_copy").html(t("copyFail")),setTimeout((function(){return $("#_copy").fadeOut(1e3)}),1e3),e.clearSelection()}))})),e=!0)}chrome.runtime.onMessage.addListener((function(e,t,o){if("super_crack"===e.msg)!function(){var e=!1;return y.some((function(t){t.regexp.test(window.location.href)&&(e=!0)})),e}()?o({super_result:!1}):(g(),o({super_result:!0}))}))}();