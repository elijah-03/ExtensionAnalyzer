import{k as a,n as E,o as d,v as U}from"./chunk-4XUWKJYA.js";import{p,s as B}from"./chunk-QWQLNDJC.js";var l="ext_prcs_send_results",D="ext_prcs_multi_prompt_pd",I="ext_prcs_multi_prompt_pd_button",S="ext_prcs_multi_prompt_v2",m="ext_prcs_dismiss_throttle_",M="prcs_redirect_v3",L="ext_prcs_use_service_for_image_url",x="ext_prcs_su_modal";var i=".top-pla-group-inner .pla-unit",w=".GUyUUb",G="g-scrolling-carousel",F="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",v="__WBCLICKID__",h="prcsClick",T={HOLDOUT:"injected_holdout",EMBEDDED_MULTI_OFFER_BLUE_BOX:"embedded_multi_offer_bb",EMBEDDED_MULTI_OFFER_PD:"embedded_multi_offer_pd",EMBEDDED_MULTI_OFFER_PD_BUTTON:"embedded_multi_offer_pd_button"},V="s_holdout",$="missing_images",J="ai_search",W="sponsored_pla",q="popular_products",X="sponsored_links",j="more_products",z="deals_on",Q="cgpt",Z="product_click",__="mo_cta";var t_="mo_dismiss_bb",e_="x";var o_="mo_product_click_bb",r_="mo_product_click_bb_dm",E_="mo_no_offers",n_="mo_no_injection_element",c_="mo_dismiss_throttled",s_="mo_shown";var C_="mo_product_click_pd",T_="mo_product_click_pd_dm",O_="mo_product_click_pd_b",P_="mo_product_click_pd_b_dm",i_="mo_pd_shown",u_={MULTI_OFFER:"Pre_Checkout_SponsoredProduct_Multi_Offer",MULTI_OFFER_PRICE_DISPLAY:"Pre_Checkout_SponsoredProduct_Multi_Offer_Price_Display",AI_SEARCH_CGPT:"Pre_Checkout_AISearch_CGPT",AI_SEARCH_CGPT_UR_EMBEDDED:"Pre_Checkout_AISearch_CGPT_UR_Embedded"};B();var A=_=>U("getPreCheckoutDismissThrottle",_);function S_(){return E(l)}function m_(){return E(S)}function M_(){return E(D)}function L_(){return E(I)}function x_(){return E(M)}function F_(){return E(L)}function h_(){return E(x)}function A_(_){let t={anonymized:!1,skipAllowlistCheck:!0,skipSendingPageContextData:!0};_.meta&&typeof _.meta=="object"&&(_.meta=JSON.stringify(_.meta)),d("track",h,_,t)}function H_(_){return!_||_===""||_===F}function K_(){return document.querySelectorAll(i)}function g_(_){let t=`${i}:nth-child(${parseInt(_)+1}) a`;return document.querySelectorAll(t)}function f_(_){let t=new RegExp(_),r=[];return document.querySelectorAll("g-card.T98FId").forEach(e=>{let C=e.querySelector("g-tray-header > div > div")?.textContent;C&&t.test(C)&&r.push(...Array.from(e.querySelectorAll("g-inner-card")))}),r}function B_(_,t){switch(_){case"EMBEDDED_MULTI_OFFER_BLUE_BOX":return`${T.EMBEDDED_MULTI_OFFER_BLUE_BOX}${t?"_dm":""}`;case"EMBEDDED_MULTI_OFFER_PD":return`${T.EMBEDDED_MULTI_OFFER_PD}${t?"_dm":""}`;case"EMBEDDED_MULTI_OFFER_PD_BUTTON":return`${T.EMBEDDED_MULTI_OFFER_PD_BUTTON}${t?"_dm":""}`;default:throw new Error(`Unknown variant: ${_}`)}}function b_(){return a(m,60)}async function N_(_){let t=await A({componentName:_});return p(new Date,new Date(t))}var N=100,Y=.65,k=7;function s(_,t){return Math.abs(_-t)<k}function Y_(_){let t=document.createElement("canvas"),r=t.getContext("2d",{willReadFrequently:!0});if(!r)return;t.width=_.naturalWidth,t.height=_.naturalHeight,r.drawImage(_,0,0,t.width,t.height);let c=[...r.getImageData(0,0,1,1).data,...r.getImageData(t.width-1,0,1,1).data,...r.getImageData(0,t.height-1,1,1).data,...r.getImageData(t.width-1,t.height-1,1,1).data],e={r:[],g:[],b:[],a:[]};for(let o=0;o<c.length;o+=4)e.r.push(c[o]),e.g.push(c[o+1]),e.b.push(c[o+2]),e.a.push(c[o+3]);let C=e.r.every(o=>s(o,e.r[0])),H=e.g.every(o=>s(o,e.g[0])),K=e.b.every(o=>s(o,e.b[0])),O=Math.floor(e.r.reduce((o,n)=>o+n,0)/e.r.length),u=Math.floor(e.g.reduce((o,n)=>o+n,0)/e.g.length),g=Math.floor(e.b.reduce((o,n)=>o+n,0)/e.b.length),P=Math.floor(e.a.reduce((o,n)=>o+n,0)/e.a.length),R=C&&H&&K&&s(O,u)&&s(u,g),f=R&&(O>N||P<Y);return{color:O,alpha:P,useTrueColor:R&&P===0||f}}function k_(_){return parseInt(_||"0")>=1e3}export{w as a,G as b,v as c,h as d,T as e,V as f,$ as g,J as h,W as i,q as j,X as k,j as l,z as m,Q as n,Z as o,__ as p,t_ as q,e_ as r,o_ as s,r_ as t,E_ as u,n_ as v,c_ as w,s_ as x,C_ as y,T_ as z,O_ as A,P_ as B,i_ as C,u_ as D,S_ as E,m_ as F,M_ as G,L_ as H,x_ as I,F_ as J,h_ as K,A_ as L,H_ as M,K_ as N,g_ as O,f_ as P,B_ as Q,b_ as R,N_ as S,Y_ as T,k_ as U};
