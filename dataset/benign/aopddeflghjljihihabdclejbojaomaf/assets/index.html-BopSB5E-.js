(function(){"use strict";(function(t){try{if(typeof document<"u")if(window.location.href.includes("chrome-extension://")){const e=document.createElement("style");e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}else{const e="__wps-translate-entry-content-css__";window[e]||(window[e]=[]),window[e].push(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})(`@charset "UTF-8";.capture-page-wrapper[data-v-ce0fc7b4]{margin-top:6px}.capture-page-wrapper .capture-header[data-v-ce0fc7b4]{display:flex;margin-inline-start:23px}.capture-page-wrapper .capture-tip-image[data-v-ce0fc7b4]{text-align:center;-webkit-user-select:none;user-select:none;margin-top:10px;height:84px}.capture-page-wrapper .capture-tip-image img[data-v-ce0fc7b4]{width:84px;height:84px}.capture-page-wrapper .capture-tip-text[data-v-ce0fc7b4]{margin:16px 36px 0;text-align:center;font-size:14px}.capture-page-wrapper .capture-tip-text p[data-v-ce0fc7b4]{min-height:51px;line-height:17px;display:flex;align-items:center;justify-content:center}.capture-page-wrapper .capture-progress[data-v-ce0fc7b4]{position:relative;margin:32px 36px 62px}.capture-page-wrapper .capture-progress .capture-progress-text-wrapper[data-v-ce0fc7b4]{height:16px;margin-bottom:4px;position:relative}.capture-page-wrapper .capture-progress .capture-progress-text-wrapper .capture-progress-text[data-v-ce0fc7b4]{font-size:14px;line-height:16px;position:absolute}[dir=ltr] .capture-page-wrapper .capture-progress .capture-progress-text-wrapper .capture-progress-text[data-v-ce0fc7b4]{transform:translate(-50%)}[dir=rtl] .capture-page-wrapper .capture-progress .capture-progress-text-wrapper .capture-progress-text[data-v-ce0fc7b4]{transform:translate(50%)}.capture-page-wrapper .capture-progress .capture-progress-bar[data-v-ce0fc7b4]{position:absolute;background-color:#2962ff;height:8px}.capture-page-wrapper .capture-progress[data-v-ce0fc7b4]:after{content:"";display:block;background-color:#ebebeb;height:8px}.capture-page-wrapper .capture-footer[data-v-ce0fc7b4]{display:flex;justify-content:center}.capture-page-wrapper .capture-footer .cancel-button[data-v-ce0fc7b4]{width:142px;height:36px;border-radius:8px}.free-trail-btn[data-v-f16ba306]{display:flex;align-items:center;justify-content:center;gap:4px;height:28px;padding:0 10px;font-size:12px;font-weight:600;background:#6a9aff1a;border:none;border-radius:14px;cursor:pointer;-webkit-user-select:none;user-select:none}.free-trail-btn span[data-v-f16ba306]{-webkit-text-fill-color:transparent;color:transparent}[dir=ltr] .free-trail-btn span[data-v-f16ba306]{background:linear-gradient(90deg,#33c2ff,#2963ff)}[dir=rtl] .free-trail-btn span[data-v-f16ba306]{background:linear-gradient(-90deg,#33c2ff,#2963ff)}[dir] .free-trail-btn span[data-v-f16ba306]{-webkit-background-clip:text;background-clip:text}.upgrade-btn[data-v-67571364]{display:flex;align-items:center;justify-content:center;gap:4px;height:28px;padding:0 10px;font-size:12px;font-weight:600;color:#fff;background:radial-gradient(ellipse 67.24% 88.54% at 52.67% 100%,#5adeff,#2986ff);border:none;border-radius:18px;cursor:pointer;-webkit-user-select:none;user-select:none}.avatar[data-v-0d54927c]{position:relative;display:inline-flex;flex-shrink:0;width:36px;height:36px;font-size:24px;font-weight:500;cursor:pointer}.avatar .avatar-image[data-v-0d54927c]{width:100%;height:100%;border-radius:50%;background-repeat:no-repeat;background-position:center;background-size:contain}.avatar .avatar-letter[data-v-0d54927c]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f7f7f7;border-style:solid;border-width:1px;border-radius:50%}.avatar.avatar-pro[data-v-0d54927c]:after{position:absolute;inset-inline-start:50%;bottom:-2px;width:26px;height:14px;content:"";background-image:url("data:image/svg+xml,%3csvg%20width='32'%20height='16'%20viewBox='0%200%2032%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='32'%20height='16'%20rx='4'%20fill='url(%23paint0_linear_6674_208464)'/%3e%3cpath%20d='M6.37553%2012V4.72727H9.10281C9.66152%204.72727%2010.1303%204.83144%2010.5091%205.03977C10.8902%205.24811%2011.1779%205.53456%2011.372%205.89915C11.5685%206.26136%2011.6667%206.6733%2011.6667%207.13494C11.6667%207.60133%2011.5685%208.01562%2011.372%208.37784C11.1755%208.74006%2010.8855%209.02533%2010.502%209.23366C10.1184%209.43963%209.64613%209.54261%209.08505%209.54261H7.27752V8.45952H8.90749C9.2342%208.45952%209.50172%208.4027%209.71005%208.28906C9.91838%208.17543%2010.0723%208.01918%2010.1717%207.82031C10.2735%207.62145%2010.3244%207.39299%2010.3244%207.13494C10.3244%206.87689%2010.2735%206.64962%2010.1717%206.45312C10.0723%206.25663%209.9172%206.10393%209.7065%205.99503C9.49817%205.88376%209.22946%205.82812%208.90039%205.82812H7.693V12H6.37553ZM12.8111%2012V4.72727H15.5384C16.0971%204.72727%2016.5658%204.82434%2016.9446%205.01847C17.3258%205.21259%2017.6134%205.48485%2017.8075%205.83523C18.004%206.18324%2018.1023%206.58925%2018.1023%207.05327C18.1023%207.51965%2018.0028%207.92448%2017.804%208.26776C17.6075%208.60866%2017.3175%208.87263%2016.9339%209.05966C16.5504%209.24432%2016.0793%209.33665%2015.5206%209.33665H13.5781V8.2429H15.343C15.6697%208.2429%2015.9373%208.19792%2016.1456%208.10795C16.3539%208.01562%2016.5078%207.88187%2016.6072%207.70668C16.709%207.52912%2016.7599%207.31132%2016.7599%207.05327C16.7599%206.79522%2016.709%206.57505%2016.6072%206.39276C16.5054%206.2081%2016.3504%206.06842%2016.142%205.97372C15.9337%205.87666%2015.665%205.82812%2015.3359%205.82812H14.1286V12H12.8111ZM16.5682%208.70455L18.3686%2012H16.8984L15.13%208.70455H16.5682ZM25.8136%208.36364C25.8136%209.14725%2025.6668%209.81842%2025.3732%2010.3771C25.082%2010.9335%2024.6843%2011.3596%2024.18%2011.6555C23.6781%2011.9515%2023.1088%2012.0994%2022.4719%2012.0994C21.8351%2012.0994%2021.2646%2011.9515%2020.7603%2011.6555C20.2584%2011.3572%2019.8607%2010.9299%2019.5671%2010.3736C19.2759%209.81487%2019.1303%209.14489%2019.1303%208.36364C19.1303%207.58002%2019.2759%206.91004%2019.5671%206.35369C19.8607%205.79498%2020.2584%205.36766%2020.7603%205.07173C21.2646%204.7758%2021.8351%204.62784%2022.4719%204.62784C23.1088%204.62784%2023.6781%204.7758%2024.18%205.07173C24.6843%205.36766%2025.082%205.79498%2025.3732%206.35369C25.6668%206.91004%2025.8136%207.58002%2025.8136%208.36364ZM24.489%208.36364C24.489%207.81203%2024.4026%207.34683%2024.2298%206.96804C24.0593%206.58688%2023.8226%206.29924%2023.5195%206.10511C23.2165%205.90862%2022.8673%205.81037%2022.4719%205.81037C22.0766%205.81037%2021.7274%205.90862%2021.4244%206.10511C21.1213%206.29924%2020.8834%206.58688%2020.7106%206.96804C20.5401%207.34683%2020.4549%207.81203%2020.4549%208.36364C20.4549%208.91525%2020.5401%209.38163%2020.7106%209.76278C20.8834%2010.1416%2021.1213%2010.4292%2021.4244%2010.6257C21.7274%2010.8198%2022.0766%2010.9169%2022.4719%2010.9169C22.8673%2010.9169%2023.2165%2010.8198%2023.5195%2010.6257C23.8226%2010.4292%2024.0593%2010.1416%2024.2298%209.76278C24.4026%209.38163%2024.489%208.91525%2024.489%208.36364Z'%20fill='url(%23paint1_linear_6674_208464)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_6674_208464'%20x1='0'%20y1='8'%20x2='31.7184'%20y2='7.84838'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2347C8FF'/%3e%3cstop%20offset='1'%20stop-color='%232963FF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_6674_208464'%20x1='17.7016'%20y1='3.89305'%20x2='19.9758'%20y2='13.4843'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='%23D5DDF2'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e");background-repeat:no-repeat;background-position:center;background-size:contain}.main-page[data-v-c548effe]{width:100%;height:100%}.main-page .header[data-v-c548effe]{display:flex;align-items:center;justify-content:space-between;height:36px}[dir=ltr] .main-page .header[data-v-c548effe]{padding:0 20px 0 24px}[dir=rtl] .main-page .header[data-v-c548effe]{padding:0 24px 0 20px}.main-page .header .icons[data-v-c548effe]{display:flex;align-items:center;gap:8px}.main-page .header .icons .icon-item-wrapper[data-v-c548effe]{position:relative}.main-page .header .user-info-container[data-v-c548effe]{display:flex;gap:12px;align-items:center;justify-content:center}.main-page .header .user-info-container .user-upgrade[data-v-c548effe]{font-size:14px;height:fit-content}.main-page .content[data-v-c548effe]{margin-top:24px;padding:0 24px}.main-page .content .model-select[data-v-c548effe]{margin-top:16px}.main-page .content .model-select[data-v-c548effe] .select-popup{max-height:250px}.main-page .content .model-select[data-v-c548effe] .select-popup .model-list{overflow-y:overlay}.main-page .content .model-select[data-v-c548effe] .select-popup .model-list::-webkit-scrollbar{width:4px}.main-page .content .model-select[data-v-c548effe] .select-popup .model-list::-webkit-scrollbar-thumb{background-color:#dcdcdc;border-radius:12px}.main-page .content .translate-button[data-v-c548effe]{font-weight:500;margin-top:24px}.main-page .content .setting-items[data-v-c548effe]{display:flex;justify-content:space-between;align-items:center;font-size:14px;font-weight:400;gap:4px}.main-page .content .setting-items.select-translate-setting[data-v-c548effe]{margin-top:24px}.main-page .content .setting-items.billingual-translate-setting[data-v-c548effe]{margin-top:20px}.main-page .content .setting-items .setting-item-label[data-v-c548effe]{flex:1}.main-page .footer[data-v-c548effe]{margin-top:16px;border-top:1px solid rgba(0,0,0,.1);padding:16px;display:flex;justify-content:space-between}.main-page .footer .nav-web[data-v-c548effe]{display:flex;flex-direction:column;justify-content:center;height:58px;width:140px;padding:0 16px;border-radius:12px;background-color:#eef3ff;cursor:pointer}.main-page .footer .nav-web .web-function-title-container[data-v-c548effe]{display:flex;align-items:center;justify-content:space-between;font-size:14px}.main-page .footer .nav-web .web-function-title-container .web-function-title[data-v-c548effe]{font-weight:500;font-size:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.main-page .footer .nav-web .web-function-hot-container[data-v-c548effe]{display:flex;align-items:center;gap:6px}.main-page .footer .nav-web .web-function-hot-container .hot-icon[data-v-c548effe]{background-image:url("data:image/svg+xml,%3csvg%20width='26'%20height='12'%20viewBox='0%200%2026%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='26'%20height='12'%20rx='2'%20fill='%23FF972F'/%3e%3cpath%20d='M20.5%202.44531V9.55469H19.1621V2.44531H20.5ZM22.707%202.44531V3.50488H16.9795V2.44531H22.707Z'%20fill='white'/%3e%3cpath%20d='M16.5938%205.81934V6.18555C16.5938%206.72266%2016.5221%207.20605%2016.3789%207.63574C16.2357%208.06217%2016.0322%208.42513%2015.7686%208.72461C15.5049%209.02409%2015.1908%209.25358%2014.8262%209.41309C14.4616%209.57259%2014.0563%209.65234%2013.6104%209.65234C13.1709%209.65234%2012.7673%209.57259%2012.3994%209.41309C12.0348%209.25358%2011.7191%209.02409%2011.4521%208.72461C11.1852%208.42513%2010.9785%208.06217%2010.832%207.63574C10.6855%207.20605%2010.6123%206.72266%2010.6123%206.18555V5.81934C10.6123%205.27897%2010.6855%204.79557%2010.832%204.36914C10.9785%203.94271%2011.1836%203.57975%2011.4473%203.28027C11.7109%202.97754%2012.0251%202.74642%2012.3896%202.58691C12.7575%202.42741%2013.1611%202.34766%2013.6006%202.34766C14.0465%202.34766%2014.4518%202.42741%2014.8164%202.58691C15.181%202.74642%2015.4951%202.97754%2015.7588%203.28027C16.0257%203.57975%2016.2308%203.94271%2016.374%204.36914C16.5205%204.79557%2016.5938%205.27897%2016.5938%205.81934ZM15.2363%206.18555V5.80957C15.2363%205.4222%2015.2005%205.08203%2015.1289%204.78906C15.0573%204.49284%2014.9515%204.24382%2014.8115%204.04199C14.6715%203.84017%2014.499%203.6888%2014.2939%203.58789C14.0889%203.48372%2013.8577%203.43164%2013.6006%203.43164C13.3402%203.43164%2013.109%203.48372%2012.9072%203.58789C12.7087%203.6888%2012.5394%203.84017%2012.3994%204.04199C12.2594%204.24382%2012.152%204.49284%2012.0771%204.78906C12.0055%205.08203%2011.9697%205.4222%2011.9697%205.80957V6.18555C11.9697%206.56966%2012.0055%206.90983%2012.0771%207.20605C12.152%207.50228%2012.2594%207.75293%2012.3994%207.95801C12.5426%208.15983%2012.7152%208.31283%2012.917%208.41699C13.1188%208.52116%2013.3499%208.57324%2013.6104%208.57324C13.8708%208.57324%2014.1019%208.52116%2014.3037%208.41699C14.5055%208.31283%2014.6748%208.15983%2014.8115%207.95801C14.9515%207.75293%2015.0573%207.50228%2015.1289%207.20605C15.2005%206.90983%2015.2363%206.56966%2015.2363%206.18555Z'%20fill='white'/%3e%3cpath%20d='M8.47363%205.37988V6.43457H4.7334V5.37988H8.47363ZM5.09961%202.44531V9.55469H3.75684V2.44531H5.09961ZM9.46973%202.44531V9.55469H8.12695V2.44531H9.46973Z'%20fill='white'/%3e%3c/svg%3e");width:26px;height:12px}.main-page .footer .nav-web .web-function-detail[data-v-c548effe]{margin-top:4px;font-size:12px;font-weight:400;color:#636363;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.main-page .tip[data-v-c548effe]{position:absolute;bottom:-27px;white-space:nowrap;z-index:2147483647;color:#fff;font-size:12px;line-height:16px;border-radius:8px;font-weight:400;padding:4px 6px;background-color:#000;border:1px solid rgb(54,54,54);box-shadow:0 12px 32px #00000014}[dir=ltr] .main-page .tip[data-v-c548effe]{left:50%;transform:translate(-50%)}[dir=rtl] .main-page .tip[data-v-c548effe]{right:50%;transform:translate(50%)}.setting-page[data-v-6b86820c]{width:100%;height:100%;font-size:14px}.setting-page .header[data-v-6b86820c]{padding-left:20px;padding-right:20px;display:flex;justify-content:space-between;align-items:center}.setting-page .content[data-v-6b86820c]{padding:0 24px;margin-top:26px}.setting-page .content .setting-item[data-v-6b86820c]{display:flex;justify-content:space-between;align-items:center;margin-top:20px;line-height:16px;font-weight:400;gap:4px}.setting-page .content .setting-item .setting-item-label[data-v-6b86820c]{flex:1}.setting-page .content .translate-style-container[data-v-6b86820c]{margin-top:20px}.setting-page .content .translate-style-container .translate-style-title[data-v-6b86820c]{font-weight:500}.setting-page .content .translate-style-container .translate-style-type[data-v-6b86820c]{margin-top:20px;display:flex}.setting-page .content .translate-style-container .translate-style-options[data-v-6b86820c]{margin-top:20px;display:grid;grid-template-columns:repeat(2,1fr);gap:8px 12px}.setting-page .content .translate-style-container .translate-style-options .translate-style-item[data-v-6b86820c]{display:flex;align-items:center;justify-content:center;padding:12px 4px;border:1px solid rgb(224,224,224);text-align:center;border-radius:8px;-webkit-user-select:none;user-select:none;cursor:pointer}.setting-page .content .translate-style-container .translate-style-options .translate-style-item[data-v-6b86820c]:hover{border:1px solid rgb(167,167,167)}.setting-page .content .translate-style-container .translate-style-options .translate-style-item[data-v-6b86820c]:active{border:1px solid rgb(130,130,130);background:#efefef}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.active[data-v-6b86820c]{border:1px solid rgb(31,105,224);background-color:#eff3ff}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span[data-v-6b86820c]{display:inline-block;font-size:12px}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.active[data-v-6b86820c]{border:1px solid rgb(41,98,255);background-color:#1c4eda}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.underlined[data-v-6b86820c]{text-decoration:underline;text-decoration-style:solid}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.grey[data-v-6b86820c]{color:#0d0d0d80}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.comments[data-v-6b86820c]{color:#117efe}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.highlight[data-v-6b86820c]{background-color:#117efe1a}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.disabled[data-v-6b86820c]{cursor:not-allowed;opacity:.5}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.disabled[data-v-6b86820c]:hover{border:1px solid rgb(224,224,224)}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.disabled[data-v-6b86820c]:active{border:1px solid rgb(224,224,224);background:none}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.disabled.active[data-v-6b86820c]{border:1px solid rgb(31,105,224);background-color:#eff3ff}.container[data-v-0120bca4]{background-color:#fff;width:330px;height:438px;padding-top:20px;padding-bottom:24px;color:#000}.container.contentScript[data-v-0120bca4]{border-radius:24px;border:1px solid rgb(224,224,224);box-shadow:0 12px 32px #00000014}`)})();
import{u as Oe,B as Ee,b as ue,_ as X,h as ut,p as dt,e as pt,v as Ve,l as gt,j as _t,L as vt,M as mt,E as ft,s as oe,f as Tt,g as yt,c as ht}from"./BaseSwitch-Chx_y9q2.js";import{r as g,J as wt,M as S,v as de,u as Se,aL as Be,d as W,c as me,e as F,f as xe,w as E,V as Ce,am as bt,h,o as c,j as o,k as R,t as w,l as m,n as ee,m as pe,p as ge,aM as _e,bq as Me,br as Et,aW as Ae,q as v,R as St,a3 as ve,aN as Re,ao as Ge,b as Ct,b4 as le,W as k,a1 as U,$ as ce,a2 as we,a0 as De,N as G,L as se,A as B,bs as he,P as kt,aV as Pt,a4 as be,Z as Ue,I as Z,y as Lt,bt as It,aC as $t,aE as At,i as Rt}from"./academia-BTetjztC.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const _ of i.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&l(_)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var Q=(d=>(d.NORMAL="normal",d.ERROR="error",d))(Q||{});const Ne=g("0%");function Fe(){const d=u=>{Ne.value=u};return{progress:wt(Ne),setProgress:d}}const{setProgress:Ut}=Fe(),Nt={[S.CHANGE_LANGUAGE]:d=>{Be(d.language)},[S.CAPTURE_PROGRESS]:d=>{Ut(d.progress)},[S.NOTIFY_EXTENSION_SETTING_CHANGE]:d=>{const{setUserSettings:u}=Se();u(d)},[S.NOTIFY_EXTENSION_LOGIN_STATE]:()=>{const{refreshUserInfo:d}=de();d()},[S.TRANSLATE_EXCEED_LIMIT]:()=>{var a;const{userInfo:d}=de(),{popupExceedLimitTipShow:u}=Oe();(a=d.value)!=null&&a.isVip||(u.value=!0)}};function Ot(){chrome.runtime.onMessage.addListener((d,u,a)=>{const l=Nt[d.type];if(l)return l(d.data,u,a)})}const Vt=["dir"],Bt={class:"capture-page-wrapper"},xt={class:"capture-header"},Mt={class:"capture-tip-image"},Gt=["src"],Dt={class:"capture-tip-text"},Ft={class:"capture-progress-text-wrapper"},Ht={class:"capture-footer"},Wt=W({__name:"CapturePage",emits:["back","close"],setup(d,{emit:u}){const{locale:a,t:l}=me(),n=u,i=F(()=>xe(a.value)?"rtl":"ltr"),_=g(chrome.runtime.getURL("public/images/capture/capturing.svg")),{progress:P,setProgress:C}=Fe(),b=g(),f=g();async function L(){const T=await Et();if(f.value=T==null?void 0:T.id,!f.value){b.value=Q.ERROR;return}await Ae(f.value,S.CAPTURE_PAGE)}function H(){f.value&&Ae(f.value,S.STOP_CAPTURE_PAGE)}function I(){n("back"),H()}async function $(){const T=await _e(),N=Me(T);b.value=N?Q.NORMAL:Q.ERROR,N&&L(),C("0%")}E(P,T=>{if(T==="100%"){n("close"),f.value=void 0;return}});const x=()=>{const T=document.visibilityState;(T==="hidden"||T==="unloaded")&&H()};return Ce(()=>{$(),document.addEventListener("visibilitychange",x,!1)}),bt(()=>{document.removeEventListener("visibilitychange",x,!1)}),(T,N)=>(c(),h("div",{dir:i.value},[o("div",Bt,[o("div",xt,[R(Ee,{class:"rtl-rotate-icon",icon:"back",size:28,onClick:I})]),o("div",Mt,[o("img",{src:_.value},null,8,Gt)]),o("div",Dt,[o("p",null,w(b.value===m(Q).NORMAL?m(l)("capture.tip"):m(l)("capture.fail")),1)]),o("div",{class:"capture-progress",style:ee({visibility:b.value===m(Q).NORMAL?"visible":"hidden"})},[o("div",Ft,[o("span",{class:"capture-progress-text",style:ee({"inset-inline-start":m(P)})},w(m(P)),5)]),o("div",{class:"capture-progress-bar",style:ee({width:m(P)})},null,4)],4),o("div",Ht,[R(ue,{class:"cancel-button",type:"primary",block:"",onClick:I},{default:pe(()=>[ge(w(m(l)("common.cancel")),1)]),_:1})])])],8,Vt))}}),Yt=X(Wt,[["__scopeId","data-v-ce0fc7b4"]]),jt=["src"],Xt=W({__name:"FreeTrailBtn",emits:["click"],setup(d,{emit:u}){const a=u,l=()=>chrome.runtime.getURL("public/images/gift.png");return Ce(()=>{v.fireEvent(St.PREMIUM_PROMOTION,{action:"show",item:"upgrade"})}),(n,i)=>(c(),h("div",{class:"free-trail-btn",onClick:i[0]||(i[0]=_=>a("click"))},[o("img",{width:"16",height:"16",src:l(),alt:"gift"},null,8,jt),o("span",null,w(n.$t("giftText.pageFreeTrail2")),1)]))}}),zt=X(Xt,[["__scopeId","data-v-f16ba306"]]),qt=["src"],Kt=W({__name:"UpgradeBtn",emits:["click"],setup(d,{emit:u}){const a=u,l=()=>chrome.runtime.getURL("public/images/rocket.png");return(n,i)=>(c(),h("div",{class:"upgrade-btn",onClick:i[0]||(i[0]=_=>a("click"))},[o("img",{width:"16",height:"16",src:l(),alt:"rocket"},null,8,qt),o("span",null,w(n.$t("common.upgradeProSimple")),1)]))}}),Jt=X(Kt,[["__scopeId","data-v-67571364"]]),Zt=W({__name:"UserAvatar",props:{email:{default:""},avatar:{default:""},isVip:{type:Boolean,default:!1}},emits:["click","hover"],setup(d,{emit:u}){const a=d,l=u,n=[{color:"rgba(211, 113, 136, 1)",borderColor:"rgba(211, 113, 136, 0.3)"}],i=F(()=>a.email?a.email[0].toUpperCase():""),_=n[i.value.charCodeAt(0)%n.length||0],P=()=>{l("click")};return(C,b)=>(c(),h("div",{class:ve(`avatar ${C.isVip?"avatar-pro":""}`),onClick:P,onMouseover:b[0]||(b[0]=f=>l("hover"))},[C.avatar?(c(),h("div",{key:0,class:"avatar-image",style:ee({backgroundColor:m(_).color,backgroundImage:`url(${C.avatar})`})},null,4)):(c(),h("div",{key:1,class:"avatar-letter",style:ee({borderColor:m(_).borderColor,color:m(_).color})},w(i.value),5))],34))}}),Qt=X(Zt,[["__scopeId","data-v-0d54927c"]]),ea={class:"main-page"},ta={class:"header"},aa={key:1,class:"user-info-container"},na={class:"icons"},sa={class:"content"},oa={style:{position:"relative"}},la={style:{position:"relative"}},ia={class:"setting-items select-translate-setting"},ra={class:"setting-item-label"},ca={class:"setting-items billingual-translate-setting"},ua={class:"setting-item-label"},da={class:"footer"},pa=["onClick"],ga={class:"web-function-title-container"},_a={class:"web-function-hot-container"},va={class:"web-function-title"},ma={key:0,class:"hot-icon"},fa={class:"web-function-detail"},Ta=W({__name:"MainPage",emits:["setClick","captureClick"],setup(d,{expose:u,emit:a}){const{t:l}=me(),{userInfo:n,initUserInfo:i,refreshUserInfo:_}=de(),{checkUserIsT1:P,giftType:C}=ut(),{userSettings:b,initUserSettings:f,notifyUserSettings:L,getSettingByKey:H,setTempUserSettings:I}=Se(),{popupExceedLimitTipShow:$,hideExceedLimitTip:x}=Oe(),{showLanguageSameTip:T,checkLanguageSameTip:N,closeLanguageSameTip:te}=_t(),{checkBoundary:fe}=dt({margin:2}),{isRtl:ae}=pt(),{onlineParams:ie,getStorageOnlineParams:Te}=Ct(),re=a,ne=g(!1),z=g(Re.translationService),q=g(Re.targetLanguage),K=g(!0),Y=g(!0),O=g(!1),t=g(!0),s=g(!1),p=g(null),A=g([]),V=g(!1),j=g(),ke=g(!1);async function He(){var e;try{const r=((e=j.value)==null?void 0:e.imageSites)||[],M=await _e();V.value=be(M,r)}catch{}}async function We(){var r;const e=await P();ke.value=!e&&(((r=j.value)==null?void 0:r.enableNewProTrialText)||!1)}E(ie,()=>{j.value=ie.value}),E(j,()=>{He(),We()}),E(b,()=>{$e()}),E(z,e=>{Ie({service:e}),L({translationService:e})}),E(q,e=>{Ie({targetLanguage:e}),L({targetLanguage:e})}),E(K,e=>{const r=H("inTextTranslation");r.enable=e,L({inTextTranslation:r})}),E(T,e=>{e&&v.reportShowEvent("plugin_dropdown_page_samelanguage_notice")}),E(Y,e=>{const r=H("pageTranslation");r.displayMode=e?G.SIDE_BY_SIDE:G.REPLACE,le(S.SET_TRANSLATE_PAGE_STYLE,r),L({pageTranslation:r})}),E($,e=>{e&&te()});const Ye=e=>{O.value&&!$.value&&N(),I({targetLanguage:e})},je=e=>{I({translationService:e})},Xe=e=>{I({inTextTranslationEnable:e}),v.reportClickEvent("plugin_dropdown_page",e?"open_select_to_translate":"close_select_to_translate")},ze=e=>{I({displayMode:e?G.SIDE_BY_SIDE:G.REPLACE}),v.reportClickEvent("plugin_dropdown_page",e?"open_show_billingual_translation":"close_show_billingual_translation")},qe=async()=>{await v.reportClickByServiceWork("plugin_dropdown_page","sign_in");const e=encodeURIComponent(`${B.pluginDescPage}?from=extensionLogin`),r=`${B.loginUrl}?position=plugin_login_entry&feature=plugin_translate_website&cb=${e}`;se(r)},Ke=async()=>{await v.reportClickByServiceWork("plugin_dropdown_page","user_profile"),se(`${B.userCenterPage}?source=plugin`)},Pe=async()=>{await v.reportClickByServiceWork("plugin_dropdown_page","upgrade",{type:C.value==="1"?"1":"8"});const e=`${B.priceUrl}?position=plugin_upgrade_entry&source=plugin_translate_website`;se(e)},Je=()=>{t.value&&(v.reportClickEvent("plugin_dropdown_page","quick_save"),re("captureClick"))},Ze=()=>{v.reportClickEvent("plugin_dropdown_page","settings"),re("setClick")},Qe=F(()=>[{name:"capture",disabled:!t.value,tip:l("common.capture"),onClick:Je},{name:"setting",disabled:!1,tip:l("common.setting"),onClick:Ze}]),et=F(()=>[{id:"image",title:l("nav.web.image"),detail:"PNG JPG",pageIndex:4,condition:V.value,showHotIcon:!0},{id:"academia",title:l("nav.web.academia"),detail:"arXiv, CORE...",pageIndex:3,condition:s.value&&!V.value,showHotIcon:!V.value},{id:"file",title:l("nav.web.file"),detail:l("nav.web.fileDesc"),pageIndex:1,condition:!0,showHotIcon:!s.value&&!V.value},{id:"text",title:l("nav.web.text"),detail:l("nav.web.textDesc"),pageIndex:2,condition:!s.value&&!V.value,showHotIcon:!1}].filter(r=>r.condition)),tt=e=>{p.value=e,fe(A.value[e],r=>{if(r){const M=A.value[e],D=M.getBoundingClientRect(),J=window.innerWidth;D.left<2?M.style.transform=ae.value?`translateX(calc(50% - ${D.left-2}px))`:`translateX(calc(-50% - ${D.left-2}px))`:D.right>J-2&&(M.style.transform=ae.value?`translateX(calc(50% - ${D.right-J+2}px))`:`translateX(calc(-50% - ${D.right-J+2}px))`)}})},at=()=>{p.value=null,A.value.forEach(e=>{e.style.transform=ae.value?"translateX(50%)":"translateX(-50%)"})},Le=e=>{O.value||(he(S.TRANSLATE_PAGE,{scene:kt.DROPDOWN,clickBtn:e}),O.value=!0)},nt=async()=>{!O.value&&!$.value?N():te(),x(),O.value?(he(S.SHOW_ORIGIN),O.value=!1,v.reportClickEvent("plugin_dropdown_page","show_original")):(Le(!0),v.reportClickEvent("plugin_dropdown_page","translate"))};async function Ie(e){x(),O.value&&le(S.CHANGE_TRANSLATE_OPTIONS,e)}const st=async e=>{const r=[`${B.translatorPage}?position=plugin_dropdown_jumpto_translate_file`,`${B.textTranslatePage}?position=plugin_dropdown_jumpto_translate_text`,`${B.academiaTranslatePage}?position=plugin_dropdown_jumpto_academia`,`${B.imagePage}?position=plugin_dropdown_jumpto_translate_image`],M=["jumpto_translate_file","jumpto_translate_text","jumpto_academia","jumpto_translate_image"];await v.reportClickByServiceWork("plugin_dropdown_page",M[e-1]),se(r[e-1])};async function ot(){const e=await he(S.CHECK_PAGE_TRANSLATED);e&&(O.value=e.isTranslated)}function $e(){ne.value=!0,z.value=b.value.translationService,q.value=b.value.targetLanguage,K.value=b.value.inTextTranslation.enable,Y.value=b.value.pageTranslation.displayMode===G.SIDE_BY_SIDE}async function lt(){await _()}async function it(){const e=await _e();t.value=Me(e)}async function rt(){try{s.value=await Pt()}catch{}}return Ge(async()=>{j.value=await Te(),rt(),ot(),await i(),await f(),Be(b.value.interfaceLanguage),$e(),await it(),await lt(),le(S.NOTIFY_CONTENT_USER_INFO_REFRESH,n.value),v.reportShowEvent("plugin_dropdown_page")}),u({translatePage:Le}),(e,r)=>{var M,D,J;return c(),h("div",ea,[o("div",ta,[m(n)?(c(),h("div",aa,[R(Qt,{onClick:Ke,email:(M=m(n))==null?void 0:M.email,"is-vip":(D=m(n))==null?void 0:D.isVip,avatar:(J=m(n))==null?void 0:J.pic},null,8,["email","is-vip","avatar"]),m(n).isVip?U("",!0):(c(),h(ce,{key:0},[ke.value?(c(),k(zt,{key:1,onClick:Pe})):(c(),k(Jt,{key:0,onClick:Pe}))],64))])):(c(),k(ue,{key:0,onClick:qe},{default:pe(()=>[ge(w(e.$t("common.signIn")),1)]),_:1})),o("div",na,[(c(!0),h(ce,null,we(Qe.value,(y,ye)=>(c(),h("div",{key:y.name,class:"icon-item-wrapper"},[R(Ee,{onMouseenter:ct=>tt(ye),onMouseleave:r[0]||(r[0]=ct=>at()),icon:y.name,disabled:y.disabled,onClick:y.onClick},null,8,["onMouseenter","icon","disabled","onClick"]),De(o("div",{ref_for:!0,ref_key:"tipRefs",ref:A,class:"tip"},w(y.tip),513),[[Ve,p.value===ye]])]))),128))])]),o("div",sa,[o("div",oa,[R(gt,{source:"plugin_dropdown_page",onChange:Ye,label:e.$t("translate.to"),modelValue:q.value,"onUpdate:modelValue":r[1]||(r[1]=y=>q.value=y)},null,8,["label","modelValue"]),m(T)?(c(),k(vt,{key:0,source:"plugin_dropdown_page_samelanguage_notice",onClose:m(te),position:"top",style:{position:"absolute","z-index":"1",width:"300px",left:"-10px",top:"calc(100% + 6px)"}},null,8,["onClose"])):U("",!0)]),R(mt,{onChange:je,class:"model-select","utm-source":"plugin_translate_website",modelValue:z.value,"onUpdate:modelValue":r[2]||(r[2]=y=>z.value=y)},null,8,["modelValue"]),o("div",la,[m($)?(c(),k(ft,{key:0,scene:"plugin_dropdown_page_free_trial_limit",position:"bottom",style:{position:"absolute","z-index":"1",width:"300px",left:"-10px",bottom:"calc(100% + 6px)"},onClose:r[3]||(r[3]=y=>$.value=!1)})):U("",!0),R(ue,{disabled:!t.value,type:"primary",size:"large",block:"",class:"translate-button",onClick:nt},{default:pe(()=>[ge(w(O.value?e.$t("translate.showOrigin"):e.$t("translate.translate")),1)]),_:1},8,["disabled"])]),o("div",ia,[o("div",ra,w(e.$t("settings.selectToTranslate")),1),ne.value?(c(),k(oe,{key:0,onChange:Xe,modelValue:K.value,"onUpdate:modelValue":r[4]||(r[4]=y=>K.value=y)},null,8,["modelValue"])):U("",!0)]),o("div",ca,[o("div",ua,w(e.$t("settings.billingual")),1),ne.value?(c(),k(oe,{key:0,onChange:ze,modelValue:Y.value,"onUpdate:modelValue":r[5]||(r[5]=y=>Y.value=y)},null,8,["modelValue"])):U("",!0)])]),o("div",da,[(c(!0),h(ce,null,we(et.value,y=>(c(),h("div",{key:y.id,class:"nav-web",onClick:ye=>st(y.pageIndex)},[o("div",ga,[o("div",_a,[o("div",va,w(y.title),1),y.showHotIcon?(c(),h("div",ma)):U("",!0)]),R(Tt,{class:"rtl-rotate-icon",icon:"arrow-left-small",size:12})]),o("div",fa,w(y.detail),1)],8,pa))),128))])])}}}),ya=X(Ta,[["__scopeId","data-v-c548effe"]]),ha={class:"setting-page"},wa={class:"header"},ba={class:"content"},Ea={class:"setting-item"},Sa={class:"setting-item-label"},Ca={class:"setting-item"},ka={class:"setting-item-label"},Pa={class:"setting-item"},La={class:"setting-item-label"},Ia={class:"translate-style-container"},$a={class:"translate-style-title"},Aa={class:"translate-style-type"},Ra={class:"translate-style-options"},Ua=["onClick"],Na=W({__name:"SettingPage",emits:["back","translatePage"],setup(d,{emit:u}){const{t:a}=me(),{userSettings:l,notifyUserSettings:n,getSettingByKey:i,setTempUserSettings:_}=Se(),{userInfo:P}=de(),C=u,b=F(()=>[{label:a("settings.translateStyle.sideBySide"),value:G.SIDE_BY_SIDE},{label:a("settings.translateStyle.replace"),value:G.REPLACE}]);let f="";const L=g(!1),H=g("en"),I=g(!1),$=g(!1),x=g(!1),T=g(),N=g(),te=F(()=>{const t=Ue(H.value);return t?a(`language.${t.value}`)||t.label:a("language.en")}),fe=F(()=>{const t=l.value.pageTranslation.continueTranslateTime||15,s=Math.floor(t/60);return s>0?a("continueTranslate.enableLabel",[a("continueTranslate.hours",[s])]):s===1?a("continueTranslate.enableLabel",[a("continueTranslate.hour")]):a("continueTranslate.enableLabel",[a("continueTranslate.minutes",[t])])});E(l,()=>{Y()});const ae=t=>{T.value!==G.REPLACE&&(N.value=t,_({displayTheme:t}),v.reportClickEvent("plugin_dropdown_subpage",`side_by_side_${t}`))},ie=()=>{C("back"),v.reportClickEvent("plugin_dropdown_subpage","back")},Te=async()=>{await v.reportClickByServiceWork("plugin_dropdown_subpage","settings");let t;if(P.value)t=`${B.webPageSettingPage}?source=plugin`;else{const s=encodeURIComponent(`${B.webPageSettingPage}?source=plugin&from=extensionLogin`);t=`${B.loginUrl}?feature=plugin_translate_website&cb=${s}`}se(t)},re=t=>{_({alwaysTranslateEnabled:t}),v.reportClickEvent("plugin_dropdown_subpage",t?"open_always_translate_lang_site":"close_always_translate_lang_site")},ne=async t=>{_(t?{alwaysTranslateUrl:f,noAlwaysTranslateUrl:""}:{noAlwaysTranslateUrl:f,alwaysTranslateUrl:""}),v.reportClickEvent("plugin_dropdown_subpage",t?"open_always_translate_this_site":"close_always_translate_this_site")},z=t=>{const s=l.value.pageTranslation.continueTranslateTime||15;_({continueTranslateEnable:t,continueTranslateTime:s}),v.reportClickEvent("plugin_dropdown_subpage",t?"open_always_translate_duration":"close_always_translate_duration")},q=t=>{_({displayMode:t}),v.reportClickEvent("plugin_dropdown_subpage",t===G.REPLACE?"replace":"side_by_side")},K=t=>{switch(t){case Z.COLORED:return a("settings.translateStyle.colored");case Z.GHOSTED:return a("settings.translateStyle.ghosted");case Z.HIGHLIGHT:return a("settings.translateStyle.highlight");case Z.UNDERLINED:return a("settings.translateStyle.underlined");case Z.ORIGINAL:return a("settings.translateStyle.original")}};async function Y(){const{displayMode:t,theme:s,alwaysTranslateSites:p,alwaysTranslateLanguage:A,alwaysTranslateEnabled:V,continueTranslateEnable:j}=l.value.pageTranslation;H.value=A[0],I.value=V,$.value=be(f,p),x.value=j,T.value=t,N.value=s,L.value=!0}function O(){E($,async t=>{const s=i("pageTranslation"),p=s.alwaysTranslateSites;if(t)!be(f,p)&&p.push(f.substring(0,1e3));else{const A=p.indexOf(f.substring(0,1e3));A>-1&&p.splice(A,1)}n({pageTranslation:s}),t&&C("translatePage")}),E(T,async t=>{const s=i("pageTranslation");s.displayMode=t,le(S.SET_TRANSLATE_PAGE_STYLE,s),n({pageTranslation:s})}),E(N,async t=>{const s=i("pageTranslation");s.theme=t,le(S.SET_TRANSLATE_PAGE_STYLE,s),n({pageTranslation:s})}),E(I,async t=>{var p;const s=i("pageTranslation");if(s.alwaysTranslateEnabled=t,n({pageTranslation:s}),t){const A=await Lt(S.DETECT_PAGE_LANGUAGE),V=(p=Ue(A))==null?void 0:p.value;V&&s.alwaysTranslateLanguage.includes(V)&&C("translatePage")}}),E(x,async t=>{const s=i("pageTranslation");s.continueTranslateEnable=t,s.continueTranslateTime=s.continueTranslateTime||15,n({pageTranslation:s})})}return Ge(async()=>{f=await _e(),await Y(),O(),v.reportShowEvent("plugin_dropdown_subpage")}),(t,s)=>(c(),h("div",ha,[o("div",wa,[R(Ee,{class:"rtl-rotate-icon",icon:"back",onClick:ie,size:28}),R(ue,{style:{height:"28px"},type:"text",onClick:Te},{default:pe(()=>[ge(w(t.$t("common.moreSetting")),1)]),_:1})]),o("div",ba,[o("div",Ea,[o("div",Sa,w(t.$t("settings.alwaysTranslate",[te.value])),1),L.value?(c(),k(oe,{key:0,onChange:re,modelValue:I.value,"onUpdate:modelValue":s[0]||(s[0]=p=>I.value=p)},null,8,["modelValue"])):U("",!0)]),o("div",Ca,[o("div",ka,w(fe.value),1),L.value?(c(),k(oe,{key:0,onChange:z,modelValue:x.value,"onUpdate:modelValue":s[1]||(s[1]=p=>x.value=p)},null,8,["modelValue"])):U("",!0)]),o("div",Pa,[o("div",La,w(t.$t("settings.alwaysTranslateThis")),1),L.value?(c(),k(oe,{key:0,onChange:ne,modelValue:$.value,"onUpdate:modelValue":s[2]||(s[2]=p=>$.value=p)},null,8,["modelValue"])):U("",!0)]),o("div",Ia,[o("div",$a,w(m(a)("settings.translateStyle.name")),1),o("div",Aa,[R(yt,{gap:32,onChange:q,modelValue:T.value,"onUpdate:modelValue":s[3]||(s[3]=p=>T.value=p),options:b.value},null,8,["modelValue","options"])]),o("div",Ra,[(c(!0),h(ce,null,we(m(Z),p=>(c(),h("div",{class:ve(["translate-style-item",{disabled:T.value===m(G).REPLACE,active:p===N.value}]),onClick:A=>ae(p),key:p},[o("span",{class:ve(p)},w(K(p)),3)],10,Ua))),128))])])])]))}}),Oa=X(Na,[["__scopeId","data-v-6b86820c"]]),Va=W({__name:"PopUp",setup(d){const u=g(),a=g("mainPage"),l=()=>It()?"":"contentScript",n=()=>{window.close()},i=()=>{a.value="settingPage"},_=()=>{a.value="mainPage"},P=()=>{a.value="mainPage"},C=()=>{a.value="capturePage"},b=()=>{var f;(f=u.value)==null||f.translatePage()};return(f,L)=>(c(),h("div",{class:ve(["container",l()])},[De(R(ya,{ref_key:"mainPageRef",ref:u,onSetClick:i,onCaptureClick:C},null,512),[[Ve,a.value==="mainPage"]]),a.value==="settingPage"?(c(),k(Oa,{key:0,onTranslatePage:b,onBack:_})):U("",!0),a.value==="capturePage"?(c(),k(Yt,{key:1,onBack:P,onClose:n})):U("",!0)],2))}}),Ba=X(Va,[["__scopeId","data-v-0120bca4"]]),xa=["dir"],Ma=W({__name:"App",setup(d){const{locale:u}=me(),a=F(()=>xe(u.value)?"rtl":"ltr"),l=F(()=>$t(u.value)),n=g(!1);return Ce(async()=>{await v.init(),Ot(),n.value=!0,chrome.runtime.connect({name:At.POP_UP})}),(i,_)=>(c(),h("div",{dir:a.value,style:ee({fontFamily:l.value})},[n.value?(c(),k(Ba,{key:0})):U("",!0)],12,xa))}});ht(Ma).use(Rt).mount("#app");
