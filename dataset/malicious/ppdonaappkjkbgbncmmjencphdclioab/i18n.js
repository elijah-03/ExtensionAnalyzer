"use strict";let{i18n:i18n}=ext;function loadI18nStrings(){function e(e){let t=e.querySelectorAll("[class^='i18n_']");for(let e of t){let t=JSON.parse("["+e.textContent+"]");0==t.length&&(t=null);let{className:n}=e;n instanceof SVGAnimatedString&&(n=n.animVal);let l=n.split(/\s/)[0].substring(5);ext.i18n.setElementText(e,l,t)}}e(document);for(let t of document.querySelectorAll("template"))e(t.content)}function i18nTimeDateStrings(e){let t=new Date(e),n=t.toLocaleTimeString(),l=new Date;return t.toDateString()==l.toDateString()?[n]:[n,t.toLocaleDateString()]}function i18nFormatDateTime(e){let t=new Date(e),n=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes()];return n=n.map((e=>e<10?"0"+e:e)),[n.splice(0,3).join("-"),n.join(":")]}ext.backgroundPage.sendMessage({type:"app.get",what:"localeInfo"},(e=>{document.documentElement.lang=e.locale,document.documentElement.dir=e.bidiDir})),ext.i18n.setElementText=function(e,t,n){for(;e.lastChild;)e.removeChild(e.lastChild);!function e(t,n){let l=/^(.*?)<(a|strong)>(.*?)<\/\2>(.*)$/.exec(t);if(l){e(l[1],n);let t=document.createElement(l[2]);e(l[3],t),n.appendChild(t),e(l[4],n)}else n.appendChild(document.createTextNode(t))}(ext.i18n.getMessage(t,n),e)},window.addEventListener("DOMContentLoaded",loadI18nStrings,!0);