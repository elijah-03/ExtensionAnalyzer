"use strict";function E(e){return document.getElementById(e)}function getDocLink(e,t){ext.backgroundPage.sendMessage({type:"app.get",what:"doclink",link:e},t)}function setLinks(e,...t){let n=E(e);if(!n)return;let i=n.getElementsByTagName("a");for(let e=0;e<i.length;e++)"string"==typeof t[e]?(i[e].href=t[e],i[e].setAttribute("target","_blank")):"function"==typeof t[e]&&(i[e].href="javascript:void(0);",i[e].addEventListener("click",t[e],!1))}function checkShareResource(e,t){ext.backgroundPage.sendMessage({type:"filters.blocked",url:e,requestType:"SCRIPT",docDomain:"adblockplus.org",thirdParty:!0},t)}function openSharePopup(e){let t=E("glass-pane");t||(t=document.createElement("div"),t.setAttribute("id","glass-pane"),document.body.appendChild(t));let n=E("share-popup");n||(n=document.createElement("iframe"),n.setAttribute("id","share-popup"),n.setAttribute("scrolling","no"),t.appendChild(n));let i="Components"in window;if(i)try{let e=Components.interfaces,t=n.contentWindow.QueryInterface(e.nsIInterfaceRequestor).getInterface(e.nsIDocShell);void 0!==t.frameType?t.frameType=t.FRAME_TYPE_BROWSER:t.setIsBrowserInsideApp(e.nsIScriptSecurityManager.UNKNOWN_APP_ID)}catch(e){}let a=!1;function s(e,t){n.width=e,n.height=t,n.style.marginTop=-t/2+"px",n.style.marginLeft=-e/2+"px",a=!0,window.removeEventListener("message",o)}let o=function(e){/[./]adblockplus\.org$/.test(e.origin)&&"width"in e.data&&"height"in e.data&&s(e.data.width,e.data.height)};window.addEventListener("message",o,!1,!0);let r=function(){if(!a&&i){let e=n.contentDocument.documentElement,{width:t,height:i}=e.dataset;t&&i&&s(t,i)}if(a){n.className="visible";let e=function(){n.className=t.className="",document.removeEventListener("click",e)};document.addEventListener("click",e,!1)}else t.className="",window.removeEventListener("message",o);n.removeEventListener("load",r)};n.addEventListener("load",r,!1),n.src=e,t.className="visible"}