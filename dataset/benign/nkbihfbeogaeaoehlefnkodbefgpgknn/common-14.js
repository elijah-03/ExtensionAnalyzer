LavaPack.loadBundle([[752,{"./_version":749,"./formatter":758,"@ethersproject/abstract-provider":701,"@ethersproject/base64":707,"@ethersproject/basex":708,"@ethersproject/bignumber":712,"@ethersproject/bytes":714,"@ethersproject/constants":718,"@ethersproject/hash":727,"@ethersproject/logger":742,"@ethersproject/networks":744,"@ethersproject/properties":748,"@ethersproject/sha2":778,"@ethersproject/strings":788,"@ethersproject/web":798,bech32:769},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseProvider=r.Resolver=r.Event=void 0;var c=e("@ethersproject/abstract-provider"),u=e("@ethersproject/base64"),l=e("@ethersproject/basex"),d=e("@ethersproject/bignumber"),p=e("@ethersproject/bytes"),h=e("@ethersproject/constants"),f=e("@ethersproject/hash"),g=e("@ethersproject/networks"),m=e("@ethersproject/properties"),E=e("@ethersproject/sha2"),_=e("@ethersproject/strings"),v=e("@ethersproject/web"),T=i(e("bech32")),S=e("@ethersproject/logger"),b=e("./_version"),y=new S.Logger(b.version),N=e("./formatter");function A(e){return null==e?"null":(32!==(0,p.hexDataLength)(e)&&y.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function I(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(function(e){if(Array.isArray(e)){var t={};e.forEach(function(e){t[A(e)]=!0});var r=Object.keys(t);return r.sort(),r.join("|")}return A(e)}).join("&")}function O(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,p.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+I(e);if(c.ForkEvent.isForkEvent(e))throw y.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+I(e.topics||[])}throw new Error("invalid event - "+e)}function k(){return(new Date).getTime()}function w(e){return new Promise(function(t){setTimeout(t,e)})}var C=["block","network","pending","poll"],R=function(){function e(e,t,r){(0,m.defineReadOnly)(this,"tag",e),(0,m.defineReadOnly)(this,"listener",t),(0,m.defineReadOnly)(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}return Object.defineProperty(e.prototype,"event",{get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.tag.split(":")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t,r=e[1],n=""===(t=e[2])?[]:t.split(/&/g).map(function(e){if(""===e)return[];var t=e.split("|").map(function(e){return"null"===e?null:e});return 1===t.length?t[0]:t}),o={};return n.length>0&&(o.topics=n),r&&"*"!==r&&(o.address=r),o},enumerable:!1,configurable:!0}),e.prototype.pollable=function(){return this.tag.indexOf(":")>=0||C.indexOf(this.tag)>=0},e}();r.Event=R;var P={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function D(e){return(0,p.hexZeroPad)(d.BigNumber.from(e).toHexString(),32)}function M(e){return l.Base58.encode((0,p.concat)([e,(0,p.hexDataSlice)((0,E.sha256)((0,E.sha256)(e)),0,4)]))}var L=new RegExp("^(ipfs)://(.*)$","i"),j=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),L,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function B(e,t){try{return(0,_.toUtf8String)(x(e,t))}catch(e){}return null}function x(e,t){if("0x"===e)return null;var r=d.BigNumber.from((0,p.hexDataSlice)(e,t,t+32)).toNumber(),n=d.BigNumber.from((0,p.hexDataSlice)(e,r,r+32)).toNumber();return(0,p.hexDataSlice)(e,r+32,r+32+n)}function F(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):y.throwArgumentError("unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/"+e}function U(e){var t=(0,p.arrayify)(e);if(t.length>32)throw new Error("internal; should not happen");var r=new Uint8Array(32);return r.set(t,32-t.length),r}function G(e){if(e.length%32==0)return e;var t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function H(e){for(var t=[],r=0,n=0;n<e.length;n++)t.push(null),r+=32;for(n=0;n<e.length;n++){var o=(0,p.arrayify)(e[n]);t[n]=U(r),t.push(U(o.length)),t.push(G(o)),r+=32+32*Math.ceil(o.length/32)}return(0,p.hexConcat)(t)}var W=function(){function e(e,t,r,n){(0,m.defineReadOnly)(this,"provider",e),(0,m.defineReadOnly)(this,"name",r),(0,m.defineReadOnly)(this,"address",e.formatter.address(t)),(0,m.defineReadOnly)(this,"_resolvedAddress",n)}return e.prototype.supportsWildcard=function(){var e=this;return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(function(e){return d.BigNumber.from(e).eq(1)}).catch(function(t){if(t.code===S.Logger.errors.CALL_EXCEPTION)return!1;throw e._supportsEip2544=null,t})),this._supportsEip2544},e.prototype._fetch=function(e,t){return s(this,void 0,void 0,function(){var r,n,o,s;return a(this,function(a){switch(a.label){case 0:return r={to:this.address,ccipReadEnabled:!0,data:(0,p.hexConcat)([e,(0,f.namehash)(this.name),t||"0x"])},n=!1,[4,this.supportsWildcard()];case 1:a.sent()&&(n=!0,r.data=(0,p.hexConcat)(["0x9061b923",H([(0,f.dnsEncode)(this.name),r.data])])),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.provider.call(r)];case 3:return o=a.sent(),(0,p.arrayify)(o).length%32==4&&y.throwError("resolver threw error",S.Logger.errors.CALL_EXCEPTION,{transaction:r,data:o}),n&&(o=x(o,0)),[2,o];case 4:if((s=a.sent()).code===S.Logger.errors.CALL_EXCEPTION)return[2,null];throw s;case 5:return[2]}})})},e.prototype._fetchBytes=function(e,t){return s(this,void 0,void 0,function(){var r;return a(this,function(n){switch(n.label){case 0:return[4,this._fetch(e,t)];case 1:return null!=(r=n.sent())?[2,x(r,0)]:[2,null]}})})},e.prototype._getAddress=function(e,t){var r=P[String(e)];if(null==r&&y.throwError("unsupported coin type: "+e,S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress("+e+")"}),"eth"===r.ilk)return this.provider.formatter.address(t);var n=(0,p.arrayify)(t);if(null!=r.p2pkh){var o=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){var s=parseInt(o[1],16);if(o[2].length===2*s&&s>=1&&s<=75)return M((0,p.concat)([[r.p2pkh],"0x"+o[2]]))}}if(null!=r.p2sh){var a=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){var i=parseInt(a[1],16);if(a[2].length===2*i&&i>=1&&i<=75)return M((0,p.concat)([[r.p2sh],"0x"+a[2]]))}}if(null!=r.prefix){var c=n[1],u=n[0];if(0===u?20!==c&&32!==c&&(u=-1):u=-1,u>=0&&n.length===2+c&&c>=1&&c<=75){var l=T.default.toWords(n.slice(2));return l.unshift(u),T.default.encode(r.prefix,l)}}return null},e.prototype.getAddress=function(e){return s(this,void 0,void 0,function(){var t,r,n,o;return a(this,function(s){switch(s.label){case 0:if(null==e&&(e=60),60!==e)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._fetch("0x3b3b57de")];case 2:return"0x"===(t=s.sent())||t===h.HashZero?[2,null]:[2,this.provider.formatter.callAddress(t)];case 3:if((r=s.sent()).code===S.Logger.errors.CALL_EXCEPTION)return[2,null];throw r;case 4:return[4,this._fetchBytes("0xf1cb7e06",D(e))];case 5:return null==(n=s.sent())||"0x"===n?[2,null]:(null==(o=this._getAddress(e,n))&&y.throwError("invalid or unsupported coin data",S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress("+e+")",coinType:e,data:n}),[2,o])}})})},e.prototype.getAvatar=function(){return s(this,void 0,void 0,function(){var e,t,r,n,o,s,i,c,u,l,h,f,g,m,E,_,T,S,b,y,N,A;return a(this,function(a){switch(a.label){case 0:e=[{type:"name",content:this.name}],a.label=1;case 1:return a.trys.push([1,19,,20]),[4,this.getText("avatar")];case 2:if(null==(t=a.sent()))return[2,null];r=0,a.label=3;case 3:if(!(r<j.length))return[3,18];if(null==(n=t.match(j[r])))return[3,17];switch(o=n[1].toLowerCase(),o){case"https":return[3,4];case"data":return[3,5];case"ipfs":return[3,6];case"erc721":case"erc1155":return[3,7]}return[3,17];case 4:return e.push({type:"url",content:t}),[2,{linkage:e,url:t}];case 5:return e.push({type:"data",content:t}),[2,{linkage:e,url:t}];case 6:return e.push({type:"ipfs",content:t}),[2,{linkage:e,url:F(t)}];case 7:return s="erc721"===o?"0xc87b56dd":"0x0e89341c",e.push({type:o,content:t}),(c=this._resolvedAddress)?[3,9]:[4,this.getAddress()];case 8:c=a.sent(),a.label=9;case 9:return i=c,2!==(u=(n[2]||"").split("/")).length?[2,null]:[4,this.provider.formatter.address(u[0])];case 10:return l=a.sent(),h=(0,p.hexZeroPad)(d.BigNumber.from(u[1]).toHexString(),32),"erc721"!==o?[3,12]:(m=(g=this.provider.formatter).callAddress,[4,this.provider.call({to:l,data:(0,p.hexConcat)(["0x6352211e",h])})]);case 11:return f=m.apply(g,[a.sent()]),i!==f?[2,null]:(e.push({type:"owner",content:f}),[3,14]);case 12:return"erc1155"!==o?[3,14]:(T=(_=d.BigNumber).from,[4,this.provider.call({to:l,data:(0,p.hexConcat)(["0x00fdd58e",(0,p.hexZeroPad)(i,32),h])})]);case 13:if((E=T.apply(_,[a.sent()])).isZero())return[2,null];e.push({type:"balance",content:E.toString()}),a.label=14;case 14:return S={to:this.provider.formatter.address(u[0]),data:(0,p.hexConcat)([s,h])},y=B,[4,this.provider.call(S)];case 15:return null==(b=y.apply(void 0,[a.sent(),0]))?[2,null]:(e.push({type:"metadata-url-base",content:b}),"erc1155"===o&&(b=b.replace("{id}",h.substring(2)),e.push({type:"metadata-url-expanded",content:b})),b.match(/^ipfs:/i)&&(b=F(b)),e.push({type:"metadata-url",content:b}),[4,(0,v.fetchJson)(b)]);case 16:if(!(N=a.sent()))return[2,null];if(e.push({type:"metadata",content:JSON.stringify(N)}),"string"!=typeof(A=N.image))return[2,null];if(A.match(/^(https:\/\/|data:)/i));else{if(null==A.match(L))return[2,null];e.push({type:"url-ipfs",content:A}),A=F(A)}return e.push({type:"url",content:A}),[2,{linkage:e,url:A}];case 17:return r++,[3,3];case 18:return[3,20];case 19:return a.sent(),[3,20];case 20:return[2,null]}})})},e.prototype.getContentHash=function(){return s(this,void 0,void 0,function(){var e,t,r,n,o,s,i,c;return a(this,function(a){switch(a.label){case 0:return[4,this._fetchBytes("0xbc1c58d1")];case 1:return null==(e=a.sent())||"0x"===e?[2,null]:(t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))&&(r=parseInt(t[3],16),t[4].length===2*r)?[2,"ipfs://"+l.Base58.encode("0x"+t[1])]:(n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))&&(o=parseInt(n[3],16),n[4].length===2*o)?[2,"ipns://"+l.Base58.encode("0x"+n[1])]:(s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/))&&64===s[1].length?[2,"bzz://"+s[1]]:(i=e.match(/^0x90b2c605([0-9a-f]*)$/))&&68===i[1].length?(c={"=":"","+":"-","/":"_"},[2,"sia://"+(0,u.encode)("0x"+i[1]).replace(/[=+\/]/g,function(e){return c[e]})]):[2,y.throwError("invalid or unsupported content hash data",S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})]}})})},e.prototype.getText=function(e){return s(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return t=(0,_.toUtf8Bytes)(e),(t=(0,p.concat)([D(64),D(t.length),t])).length%32!=0&&(t=(0,p.concat)([t,(0,p.hexZeroPad)("0x",32-e.length%32)])),[4,this._fetchBytes("0x59d1d43c",(0,p.hexlify)(t))];case 1:return null==(r=n.sent())||"0x"===r?[2,null]:[2,(0,_.toUtf8String)(r)]}})})},e}();r.Resolver=W;var K=null,q=1,V=function(e){function t(t){var r=this.constructor,n=e.call(this)||this;if(n._events=[],n._emitted={block:-2},n.disableCcipRead=!1,n.formatter=r.getFormatter(),(0,m.defineReadOnly)(n,"anyNetwork","any"===t),n.anyNetwork&&(t=n.detectNetwork()),t instanceof Promise)n._networkPromise=t,t.catch(function(e){}),n._ready().catch(function(e){});else{var o=(0,m.getStatic)(r,"getNetwork")(t);o?((0,m.defineReadOnly)(n,"_network",o),n.emit("network",o,null)):y.throwArgumentError("invalid network","network",t)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._maxFilterBlockRange=10,n._pollingInterval=4e3,n._fastQueryDate=0,n}return o(t,e),t.prototype._ready=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:if(null!=this._network)return[3,7];if(e=null,!this._networkPromise)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this._networkPromise];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return null!=e?[3,6]:[4,this.detectNetwork()];case 5:e=t.sent(),t.label=6;case 6:e||y.throwError("no network detected",S.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:(0,m.defineReadOnly)(this,"_network",e),this.emit("network",e,null)),t.label=7;case 7:return[2,this._network]}})})},Object.defineProperty(t.prototype,"ready",{get:function(){var e=this;return(0,v.poll)(function(){return e._ready().then(function(e){return e},function(e){if(e.code===S.Logger.errors.NETWORK_ERROR&&"noNetwork"===e.event)return undefined;throw e})})},enumerable:!1,configurable:!0}),t.getFormatter=function(){return null==K&&(K=new N.Formatter),K},t.getNetwork=function(e){return(0,g.getNetwork)(null==e?"homestead":e)},t.prototype.ccipReadFetch=function(e,t,r){return s(this,void 0,void 0,function(){var n,o,s,i,c,u,l,d,p;return a(this,function(a){switch(a.label){case 0:if(this.disableCcipRead||0===r.length)return[2,null];n=e.to.toLowerCase(),o=t.toLowerCase(),s=[],i=0,a.label=1;case 1:return i<r.length?(c=r[i],u=c.replace("{sender}",n).replace("{data}",o),l=c.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:n}),[4,(0,v.fetchJson)({url:u,errorPassThrough:!0},l,function(e,t){return e.status=t.statusCode,e})]):[3,4];case 2:if((d=a.sent()).data)return[2,d.data];if(p=d.message||"unknown error",d.status>=400&&d.status<500)return[2,y.throwError("response not found during CCIP fetch: "+p,S.Logger.errors.SERVER_ERROR,{url:c,errorMessage:p})];s.push(p),a.label=3;case 3:return i++,[3,1];case 4:return[2,y.throwError("error encountered during CCIP fetch: "+s.map(function(e){return JSON.stringify(e)}).join(", "),S.Logger.errors.SERVER_ERROR,{urls:r,errorMessages:s})]}})})},t.prototype._getInternalBlockNumber=function(e){return s(this,void 0,void 0,function(){var t,r,n,o,s=this;return a(this,function(a){switch(a.label){case 0:return[4,this._ready()];case 1:if(a.sent(),!(e>0))return[3,7];a.label=2;case 2:if(!this._internalBlockNumber)return[3,7];t=this._internalBlockNumber,a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t];case 4:return r=a.sent(),k()-r.respTime<=e?[2,r.blockNumber]:[3,7];case 5:return a.sent(),this._internalBlockNumber===t?[3,7]:[3,6];case 6:return[3,2];case 7:return n=k(),o=(0,m.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(function(e){return null},function(e){return e})}).then(function(e){var t=e.blockNumber,r=e.networkError;if(r)throw s._internalBlockNumber===o&&(s._internalBlockNumber=null),r;var a=k();return(t=d.BigNumber.from(t).toNumber())<s._maxInternalBlockNumber&&(t=s._maxInternalBlockNumber),s._maxInternalBlockNumber=t,s._setFastBlockNumber(t),{blockNumber:t,reqTime:n,respTime:a}}),this._internalBlockNumber=o,o.catch(function(e){s._internalBlockNumber===o&&(s._internalBlockNumber=null)}),[4,o];case 8:return[2,a.sent().blockNumber]}})})},t.prototype.poll=function(){return s(this,void 0,void 0,function(){var e,t,r,n,o,s=this;return a(this,function(a){switch(a.label){case 0:e=q++,t=[],r=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._getInternalBlockNumber(100+this.pollingInterval/2)];case 2:return r=a.sent(),[3,4];case 3:return n=a.sent(),this.emit("error",n),[2];case 4:if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber)return this.emit("didPoll",e),[2];if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)y.warn("network block skew detected; skipping block events (emitted="+this._emitted.block+" blockNumber"+r+")"),this.emit("error",y.makeError("network block skew detected",S.Logger.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(o=this._emitted.block+1;o<=r;o++)this.emit("block",o);return this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(function(e){if("block"!==e){var t=s._emitted[e];"pending"!==t&&r-t>12&&delete s._emitted[e]}})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(function(e){switch(e.type){case"tx":var n=e.hash,o=s.getTransactionReceipt(n).then(function(e){return e&&null!=e.blockNumber?(s._emitted["t:"+n]=e.blockNumber,s.emit(n,e),null):null}).catch(function(e){s.emit("error",e)});t.push(o);break;case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);var a=e.filter;a.fromBlock=e._lastBlockNumber+1,a.toBlock=r;var i=a.toBlock-s._maxFilterBlockRange;i>a.fromBlock&&(a.fromBlock=i),a.fromBlock<0&&(a.fromBlock=0);o=s.getLogs(a).then(function(t){e._inflight=!1,0!==t.length&&t.forEach(function(t){t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),s._emitted["b:"+t.blockHash]=t.blockNumber,s._emitted["t:"+t.transactionHash]=t.blockNumber,s.emit(a,t)})}).catch(function(t){s.emit("error",t),e._inflight=!1});t.push(o)}}}),this._lastBlockNumber=r,Promise.all(t).then(function(){s.emit("didPoll",e)}).catch(function(e){s.emit("error",e)}),[2]}})})},t.prototype.resetEventsBlock=function(e){this._lastBlockNumber=e-1,this.polling&&this.poll()},Object.defineProperty(t.prototype,"network",{get:function(){return this._network},enumerable:!1,configurable:!0}),t.prototype.detectNetwork=function(){return s(this,void 0,void 0,function(){return a(this,function(e){return[2,y.throwError("provider does not support network detection",S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})]})})},t.prototype.getNetwork=function(){return s(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:return[4,this._ready()];case 1:return e=n.sent(),[4,this.detectNetwork()];case 2:return t=n.sent(),e.chainId===t.chainId?[3,5]:this.anyNetwork?(this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),[4,w(0)]):[3,4];case 3:return n.sent(),[2,this._network];case 4:throw r=y.makeError("underlying network changed",S.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t}),this.emit("error",r),r;case 5:return[2,e]}})})},Object.defineProperty(t.prototype,"blockNumber",{get:function(){var e=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then(function(t){e._setFastBlockNumber(t)},function(e){}),null!=this._fastBlockNumber?this._fastBlockNumber:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polling",{get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval(function(){t.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(function(){t.poll(),t._bootstrapPoll=setTimeout(function(){t._poller||t.poll(),t._bootstrapPoll=null},t.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pollingInterval",{get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(function(){t.poll()},this._pollingInterval))},enumerable:!1,configurable:!0}),t.prototype._getFastBlockNumber=function(){var e=this,t=k();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber})),this._fastBlockNumberPromise},t.prototype._setFastBlockNumber=function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=k(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))},t.prototype.waitForTransaction=function(e,t,r){return s(this,void 0,void 0,function(){return a(this,function(n){return[2,this._waitForTransaction(e,null==t?1:t,r||0,null)]})})},t.prototype._waitForTransaction=function(e,t,r,n){return s(this,void 0,void 0,function(){var o,i=this;return a(this,function(c){switch(c.label){case 0:return[4,this.getTransactionReceipt(e)];case 1:return((o=c.sent())?o.confirmations:0)>=t?[2,o]:[2,new Promise(function(o,c){var u=[],l=!1,d=function(){return!!l||(l=!0,u.forEach(function(e){e()}),!1)},p=function(e){e.confirmations<t||d()||o(e)};if(i.on(e,p),u.push(function(){i.removeListener(e,p)}),n){var h=n.startBlock,f=null,g=function(r){return s(i,void 0,void 0,function(){var o=this;return a(this,function(i){switch(i.label){case 0:return l?[2]:[4,w(1e3)];case 1:return i.sent(),this.getTransactionCount(n.from).then(function(i){return s(o,void 0,void 0,function(){var o,s,u,p,m,E;return a(this,function(a){switch(a.label){case 0:return l?[2]:i<=n.nonce?(h=r,[3,9]):[3,1];case 1:return[4,this.getTransaction(e)];case 2:if((o=a.sent())&&null!=o.blockNumber)return[2];null==f&&(f=h-3)<n.startBlock&&(f=n.startBlock),a.label=3;case 3:return f<=r?l?[2]:[4,this.getBlockWithTransactions(f)]:[3,9];case 4:s=a.sent(),u=0,a.label=5;case 5:return u<s.transactions.length?(p=s.transactions[u]).hash===e?[2]:p.from!==n.from||p.nonce!==n.nonce?[3,7]:l?[2]:[4,this.waitForTransaction(p.hash,t)]:[3,8];case 6:return m=a.sent(),d()?[2]:(E="replaced",p.data===n.data&&p.to===n.to&&p.value.eq(n.value)?E="repriced":"0x"===p.data&&p.from===p.to&&p.value.isZero()&&(E="cancelled"),c(y.makeError("transaction was replaced",S.Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===E||"cancelled"===E,reason:E,replacement:this._wrapTransaction(p),hash:e,receipt:m})),[2]);case 7:return u++,[3,5];case 8:return f++,[3,3];case 9:return l||this.once("block",g),[2]}})})},function(e){l||o.once("block",g)}),[2]}})})};if(l)return;i.once("block",g),u.push(function(){i.removeListener("block",g)})}if("number"==typeof r&&r>0){var m=setTimeout(function(){d()||c(y.makeError("timeout exceeded",S.Logger.errors.TIMEOUT,{timeout:r}))},r);m.unref&&m.unref(),u.push(function(){clearTimeout(m)})}})]}})})},t.prototype.getBlockNumber=function(){return s(this,void 0,void 0,function(){return a(this,function(e){return[2,this._getInternalBlockNumber(0)]})})},t.prototype.getGasPrice=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this.getNetwork()];case 1:return t.sent(),[4,this.perform("getGasPrice",{})];case 2:e=t.sent();try{return[2,d.BigNumber.from(e)]}catch(t){return[2,y.throwError("bad result from backend",S.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})]}return[2]}})})},t.prototype.getBalance=function(e,t){return s(this,void 0,void 0,function(){var r,n;return a(this,function(o){switch(o.label){case 0:return[4,this.getNetwork()];case 1:return o.sent(),[4,(0,m.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)})];case 2:return r=o.sent(),[4,this.perform("getBalance",r)];case 3:n=o.sent();try{return[2,d.BigNumber.from(n)]}catch(e){return[2,y.throwError("bad result from backend",S.Logger.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})]}return[2]}})})},t.prototype.getTransactionCount=function(e,t){return s(this,void 0,void 0,function(){var r,n;return a(this,function(o){switch(o.label){case 0:return[4,this.getNetwork()];case 1:return o.sent(),[4,(0,m.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)})];case 2:return r=o.sent(),[4,this.perform("getTransactionCount",r)];case 3:n=o.sent();try{return[2,d.BigNumber.from(n).toNumber()]}catch(e){return[2,y.throwError("bad result from backend",S.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})]}return[2]}})})},t.prototype.getCode=function(e,t){return s(this,void 0,void 0,function(){var r,n;return a(this,function(o){switch(o.label){case 0:return[4,this.getNetwork()];case 1:return o.sent(),[4,(0,m.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)})];case 2:return r=o.sent(),[4,this.perform("getCode",r)];case 3:n=o.sent();try{return[2,(0,p.hexlify)(n)]}catch(e){return[2,y.throwError("bad result from backend",S.Logger.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})]}return[2]}})})},t.prototype.getStorageAt=function(e,t,r){return s(this,void 0,void 0,function(){var n,o;return a(this,function(s){switch(s.label){case 0:return[4,this.getNetwork()];case 1:return s.sent(),[4,(0,m.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(function(e){return(0,p.hexValue)(e)})})];case 2:return n=s.sent(),[4,this.perform("getStorageAt",n)];case 3:o=s.sent();try{return[2,(0,p.hexlify)(o)]}catch(e){return[2,y.throwError("bad result from backend",S.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:o,error:e})]}return[2]}})})},t.prototype._wrapTransaction=function(e,t,r){var n=this;if(null!=t&&32!==(0,p.hexDataLength)(t))throw new Error("invalid response - sendTransaction");var o=e;return null!=t&&e.hash!==t&&y.throwError("Transaction hash mismatch from Provider.sendTransaction.",S.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),o.wait=function(t,o){return s(n,void 0,void 0,function(){var n,s;return a(this,function(a){switch(a.label){case 0:return null==t&&(t=1),null==o&&(o=0),n=undefined,0!==t&&null!=r&&(n={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r}),[4,this._waitForTransaction(e.hash,t,o,n)];case 1:return null==(s=a.sent())&&0===t?[2,null]:(this._emitted["t:"+e.hash]=s.blockNumber,0===s.status&&y.throwError("transaction failed",S.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s}),[2,s])}})})},o},t.prototype.sendTransaction=function(e){return s(this,void 0,void 0,function(){var t,r,n,o,s;return a(this,function(a){switch(a.label){case 0:return[4,this.getNetwork()];case 1:return a.sent(),[4,Promise.resolve(e).then(function(e){return(0,p.hexlify)(e)})];case 2:return t=a.sent(),null==(r=this.formatter.transaction(e)).confirmations&&(r.confirmations=0),[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 3:n=a.sent(),a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.perform("sendTransaction",{signedTransaction:t})];case 5:return o=a.sent(),[2,this._wrapTransaction(r,o,n)];case 6:throw(s=a.sent()).transaction=r,s.transactionHash=r.hash,s;case 7:return[2]}})})},t.prototype._getTransactionRequest=function(e){return s(this,void 0,void 0,function(){var t,r,n,o,s=this;return a(this,function(a){switch(a.label){case 0:return[4,e];case 1:return t=a.sent(),r={},["from","to"].forEach(function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(function(e){return e?s._getAddress(e):null}))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(function(e){return e?d.BigNumber.from(e):null}))}),["type"].forEach(function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(function(e){return null!=e?e:null}))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(function(e){return e?(0,p.hexlify)(e):null}))}),o=(n=this.formatter).transactionRequest,[4,(0,m.resolveProperties)(r)];case 2:return[2,o.apply(n,[a.sent()])]}})})},t.prototype._getFilter=function(e){return s(this,void 0,void 0,function(){var t,r,n,o=this;return a(this,function(s){switch(s.label){case 0:return[4,e];case 1:return e=s.sent(),t={},null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(function(r){null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(function(r){null!=e[r]&&(t[r]=o._getBlockTag(e[r]))}),n=(r=this.formatter).filter,[4,(0,m.resolveProperties)(t)];case 2:return[2,n.apply(r,[s.sent()])]}})})},t.prototype._call=function(e,t,r){return s(this,void 0,void 0,function(){var n,o,s,i,c,u,l,h,f,g,m,E,_,v,T,b;return a(this,function(a){switch(a.label){case 0:return r>=10&&y.throwError("CCIP read exceeded maximum redirections",S.Logger.errors.SERVER_ERROR,{redirects:r,transaction:e}),n=e.to,[4,this.perform("call",{transaction:e,blockTag:t})];case 1:if(o=a.sent(),!(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===o.substring(0,10)&&(0,p.hexDataLength)(o)%32==4))return[3,5];a.label=2;case 2:for(a.trys.push([2,4,,5]),s=(0,p.hexDataSlice)(o,4),i=(0,p.hexDataSlice)(s,0,32),d.BigNumber.from(i).eq(n)||y.throwError("CCIP Read sender did not match",S.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),c=[],u=d.BigNumber.from((0,p.hexDataSlice)(s,32,64)).toNumber(),l=d.BigNumber.from((0,p.hexDataSlice)(s,u,u+32)).toNumber(),h=(0,p.hexDataSlice)(s,u+32),f=0;f<l;f++)null==(g=B(h,32*f))&&y.throwError("CCIP Read contained corrupt URL string",S.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),c.push(g);return m=x(s,64),d.BigNumber.from((0,p.hexDataSlice)(s,100,128)).isZero()||y.throwError("CCIP Read callback selector included junk",S.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),E=(0,p.hexDataSlice)(s,96,100),_=x(s,128),[4,this.ccipReadFetch(e,m,c)];case 3:return null==(v=a.sent())&&y.throwError("CCIP Read disabled or provided no URLs",S.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),T={to:n,data:(0,p.hexConcat)([E,H([v,_])])},[2,this._call(T,t,r+1)];case 4:if((b=a.sent()).code===S.Logger.errors.SERVER_ERROR)throw b;return[3,5];case 5:try{return[2,(0,p.hexlify)(o)]}catch(r){return[2,y.throwError("bad result from backend",S.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:o,error:r})]}return[2]}})})},t.prototype.call=function(e,t){return s(this,void 0,void 0,function(){var r;return a(this,function(n){switch(n.label){case 0:return[4,this.getNetwork()];case 1:return n.sent(),[4,(0,m.resolveProperties)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)})];case 2:return r=n.sent(),[2,this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)]}})})},t.prototype.estimateGas=function(e){return s(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return[4,this.getNetwork()];case 1:return n.sent(),[4,(0,m.resolveProperties)({transaction:this._getTransactionRequest(e)})];case 2:return t=n.sent(),[4,this.perform("estimateGas",t)];case 3:r=n.sent();try{return[2,d.BigNumber.from(r)]}catch(e){return[2,y.throwError("bad result from backend",S.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})]}return[2]}})})},t.prototype._getAddress=function(e){return s(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,e];case 1:return"string"!=typeof(e=r.sent())&&y.throwArgumentError("invalid address or ENS name","name",e),[4,this.resolveName(e)];case 2:return null==(t=r.sent())&&y.throwError("ENS name not configured",S.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName("+JSON.stringify(e)+")"}),[2,t]}})})},t.prototype._getBlock=function(e,t){return s(this,void 0,void 0,function(){var r,n,o,i=this;return a(this,function(c){switch(c.label){case 0:return[4,this.getNetwork()];case 1:return c.sent(),[4,e];case 2:return e=c.sent(),r=-128,n={includeTransactions:!!t},(0,p.isHexString)(e,32)?(n.blockHash=e,[3,6]):[3,3];case 3:return c.trys.push([3,5,,6]),o=n,[4,this._getBlockTag(e)];case 4:return o.blockTag=c.sent(),(0,p.isHexString)(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16)),[3,6];case 5:return c.sent(),y.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e),[3,6];case 6:return[2,(0,v.poll)(function(){return s(i,void 0,void 0,function(){var e,o,s,i,c,u,l=this;return a(this,function(a){switch(a.label){case 0:return[4,this.perform("getBlock",n)];case 1:if(null==(e=a.sent()))return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?[2,null]:[2,undefined];if(!t)return[3,8];o=null,s=0,a.label=2;case 2:return s<e.transactions.length?null!=(i=e.transactions[s]).blockNumber?[3,3]:(i.confirmations=0,[3,6]):[3,7];case 3:return null!=i.confirmations?[3,6]:null!=o?[3,5]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 4:o=a.sent(),a.label=5;case 5:(c=o-i.blockNumber+1)<=0&&(c=1),i.confirmations=c,a.label=6;case 6:return s++,[3,2];case 7:return(u=this.formatter.blockWithTransactions(e)).transactions=u.transactions.map(function(e){return l._wrapTransaction(e)}),[2,u];case 8:return[2,this.formatter.block(e)]}})})},{oncePoll:this})]}})})},t.prototype.getBlock=function(e){return this._getBlock(e,!1)},t.prototype.getBlockWithTransactions=function(e){return this._getBlock(e,!0)},t.prototype.getTransaction=function(e){return s(this,void 0,void 0,function(){var t,r=this;return a(this,function(n){switch(n.label){case 0:return[4,this.getNetwork()];case 1:return n.sent(),[4,e];case 2:return e=n.sent(),t={transactionHash:this.formatter.hash(e,!0)},[2,(0,v.poll)(function(){return s(r,void 0,void 0,function(){var r,n,o,s;return a(this,function(a){switch(a.label){case 0:return[4,this.perform("getTransaction",t)];case 1:return null==(r=a.sent())?null==this._emitted["t:"+e]?[2,null]:[2,undefined]:null!=(n=this.formatter.transactionResponse(r)).blockNumber?[3,2]:(n.confirmations=0,[3,4]);case 2:return null!=n.confirmations?[3,4]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 3:o=a.sent(),(s=o-n.blockNumber+1)<=0&&(s=1),n.confirmations=s,a.label=4;case 4:return[2,this._wrapTransaction(n)]}})})},{oncePoll:this})]}})})},t.prototype.getTransactionReceipt=function(e){return s(this,void 0,void 0,function(){var t,r=this;return a(this,function(n){switch(n.label){case 0:return[4,this.getNetwork()];case 1:return n.sent(),[4,e];case 2:return e=n.sent(),t={transactionHash:this.formatter.hash(e,!0)},[2,(0,v.poll)(function(){return s(r,void 0,void 0,function(){var r,n,o,s;return a(this,function(a){switch(a.label){case 0:return[4,this.perform("getTransactionReceipt",t)];case 1:return null==(r=a.sent())?null==this._emitted["t:"+e]?[2,null]:[2,undefined]:null==r.blockHash?[2,undefined]:null!=(n=this.formatter.receipt(r)).blockNumber?[3,2]:(n.confirmations=0,[3,4]);case 2:return null!=n.confirmations?[3,4]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 3:o=a.sent(),(s=o-n.blockNumber+1)<=0&&(s=1),n.confirmations=s,a.label=4;case 4:return[2,n]}})})},{oncePoll:this})]}})})},t.prototype.getLogs=function(e){return s(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return[4,this.getNetwork()];case 1:return n.sent(),[4,(0,m.resolveProperties)({filter:this._getFilter(e)})];case 2:return t=n.sent(),[4,this.perform("getLogs",t)];case 3:return(r=n.sent()).forEach(function(e){null==e.removed&&(e.removed=!1)}),[2,N.Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)]}})})},t.prototype.getEtherPrice=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[2,this.perform("getEtherPrice",{})]}})})},t.prototype._getBlockTag=function(e){return s(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,e];case 1:return"number"==typeof(e=r.sent())&&e<0?(e%1&&y.throwArgumentError("invalid BlockTag","blockTag",e),[4,this._getInternalBlockNumber(100+2*this.pollingInterval)]):[3,3];case 2:return t=r.sent(),(t+=e)<0&&(t=0),[2,this.formatter.blockTag(t)];case 3:return[2,this.formatter.blockTag(e)]}})})},t.prototype.getResolver=function(e){return s(this,void 0,void 0,function(){var t,r,n,o;return a(this,function(s){switch(s.label){case 0:t=e,s.label=1;case 1:return""===t||"."===t||"eth"!==e&&"eth"===t?[2,null]:[4,this._getResolver(t,"getResolver")];case 2:return null==(r=s.sent())?[3,5]:(n=new W(this,r,e),(o=t!==e)?[4,n.supportsWildcard()]:[3,4]);case 3:o=!s.sent(),s.label=4;case 4:return o?[2,null]:[2,n];case 5:return t=t.split(".").slice(1).join("."),[3,1];case 6:return[2]}})})},t.prototype._getResolver=function(e,t){return s(this,void 0,void 0,function(){var r,n;return a(this,function(o){switch(o.label){case 0:return null==t&&(t="ENS"),[4,this.getNetwork()];case 1:(r=o.sent()).ensAddress||y.throwError("network does not support ENS",S.Logger.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name}),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.call({to:r.ensAddress,data:"0x0178b8bf"+(0,f.namehash)(e).substring(2)})];case 3:return n=o.sent(),[2,this.formatter.callAddress(n)];case 4:return o.sent(),[3,5];case 5:return[2,null]}})})},t.prototype.resolveName=function(e){return s(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,e];case 1:e=r.sent();try{return[2,Promise.resolve(this.formatter.address(e))]}catch(t){if((0,p.isHexString)(e))throw t}return"string"!=typeof e&&y.throwArgumentError("invalid ENS name","name",e),[4,this.getResolver(e)];case 2:return(t=r.sent())?[4,t.getAddress()]:[2,null];case 3:return[2,r.sent()]}})})},t.prototype.lookupAddress=function(e){return s(this,void 0,void 0,function(){var t,r,n,o;return a(this,function(s){switch(s.label){case 0:return[4,e];case 1:return e=s.sent(),e=this.formatter.address(e),t=e.substring(2).toLowerCase()+".addr.reverse",[4,this._getResolver(t,"lookupAddress")];case 2:return null==(r=s.sent())?[2,null]:(o=B,[4,this.call({to:r,data:"0x691f3431"+(0,f.namehash)(t).substring(2)})]);case 3:return n=o.apply(void 0,[s.sent(),0]),[4,this.resolveName(n)];case 4:return s.sent()!=e?[2,null]:[2,n]}})})},t.prototype.getAvatar=function(e){return s(this,void 0,void 0,function(){var t,r,n,o,s,i,c,u,l,d;return a(this,function(a){switch(a.label){case 0:return t=null,(0,p.isHexString)(e)?(r=this.formatter.address(e),n=r.substring(2).toLowerCase()+".addr.reverse",[4,this._getResolver(n,"getAvatar")]):[3,10];case 1:if(!(o=a.sent()))return[2,null];t=new W(this,o,n),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,t.getAvatar()];case 3:return(s=a.sent())?[2,s.url]:[3,5];case 4:if((i=a.sent()).code!==S.Logger.errors.CALL_EXCEPTION)throw i;return[3,5];case 5:return a.trys.push([5,8,,9]),u=B,[4,this.call({to:o,data:"0x691f3431"+(0,f.namehash)(n).substring(2)})];case 6:return c=u.apply(void 0,[a.sent(),0]),[4,this.getResolver(c)];case 7:return t=a.sent(),[3,9];case 8:if((l=a.sent()).code!==S.Logger.errors.CALL_EXCEPTION)throw l;return[2,null];case 9:return[3,12];case 10:return[4,this.getResolver(e)];case 11:if(!(t=a.sent()))return[2,null];a.label=12;case 12:return[4,t.getAvatar()];case 13:return null==(d=a.sent())?[2,null]:[2,d.url]}})})},t.prototype.perform=function(e,t){return y.throwError(e+" not implemented",S.Logger.errors.NOT_IMPLEMENTED,{operation:e})},t.prototype._startEvent=function(e){this.polling=this._events.filter(function(e){return e.pollable()}).length>0},t.prototype._stopEvent=function(e){this.polling=this._events.filter(function(e){return e.pollable()}).length>0},t.prototype._addEventListener=function(e,t,r){var n=new R(O(e),t,r);return this._events.push(n),this._startEvent(n),this},t.prototype.on=function(e,t){return this._addEventListener(e,t,!1)},t.prototype.once=function(e,t){return this._addEventListener(e,t,!0)},t.prototype.emit=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=!1,s=[],a=O(e);return this._events=this._events.filter(function(e){return e.tag!==a||(setTimeout(function(){e.listener.apply(t,r)},0),o=!0,!e.once||(s.push(e),!1))}),s.forEach(function(e){t._stopEvent(e)}),o},t.prototype.listenerCount=function(e){if(!e)return this._events.length;var t=O(e);return this._events.filter(function(e){return e.tag===t}).length},t.prototype.listeners=function(e){if(null==e)return this._events.map(function(e){return e.listener});var t=O(e);return this._events.filter(function(e){return e.tag===t}).map(function(e){return e.listener})},t.prototype.off=function(e,t){var r=this;if(null==t)return this.removeAllListeners(e);var n=[],o=!1,s=O(e);return this._events=this._events.filter(function(e){return e.tag!==s||e.listener!=t||(!!o||(o=!0,n.push(e),!1))}),n.forEach(function(e){r._stopEvent(e)}),this},t.prototype.removeAllListeners=function(e){var t=this,r=[];if(null==e)r=this._events,this._events=[];else{var n=O(e);this._events=this._events.filter(function(e){return e.tag!==n||(r.push(e),!1)})}return r.forEach(function(e){t._stopEvent(e)}),this},t}(c.Provider);r.BaseProvider=V}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/base-provider.js"}],[753,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.IpcProvider=void 0;r.IpcProvider=null}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/browser-ipc-provider.js"}],[754,{"./_version":749,"@ethersproject/logger":742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WebSocket=void 0;var n=e("@ethersproject/logger"),o=e("./_version"),s=null;r.WebSocket=s;try{if(r.WebSocket=s=WebSocket,null==s)throw new Error("inject please")}catch(e){var a=new n.Logger(o.version);r.WebSocket=s=function(){a.throwError("WebSockets not supported in this environment",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/browser-ws.js"}],[755,{"./_version":749,"./url-json-rpc-provider":766,"@ethersproject/logger":742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.CloudflareProvider=void 0;var i=e("./url-json-rpc-provider"),c=e("@ethersproject/logger"),u=e("./_version"),l=new c.Logger(u.version),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.getApiKey=function(e){return null!=e&&l.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null},t.getUrl=function(e,t){var r=null;if("homestead"===e.name)r="https://cloudflare-eth.com/";else l.throwArgumentError("unsupported network","network",arguments[0]);return r},t.prototype.perform=function(t,r){return s(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return"getBlockNumber"!==t?[3,2]:[4,e.prototype.perform.call(this,"getBlock",{blockTag:"latest"})];case 1:return[2,n.sent().number];case 2:return[2,e.prototype.perform.call(this,t,r)]}})})},t}(i.UrlJsonRpcProvider);r.CloudflareProvider=d}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/cloudflare-provider.js"}],[756,{"./_version":749,"./base-provider":752,"./formatter":758,"@ethersproject/bytes":714,"@ethersproject/logger":742,"@ethersproject/properties":748,"@ethersproject/transactions":791,"@ethersproject/web":798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.EtherscanProvider=void 0;var i=e("@ethersproject/bytes"),c=e("@ethersproject/properties"),u=e("@ethersproject/transactions"),l=e("@ethersproject/web"),d=e("./formatter"),p=e("@ethersproject/logger"),h=e("./_version"),f=new p.Logger(h.version);function g(e){var t={};for(var r in e)if(null!=e[r]){var n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?(0,i.hexValue)((0,i.hexlify)(n)):"accessList"===r?"["+(0,u.accessListify)(n).map(function(e){return'{address:"'+e.address+'",storageKeys:["'+e.storageKeys.join('","')+'"]}'}).join(",")+"]":(0,i.hexlify)(n),t[r]=n)}return t}function m(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){var t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function E(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0)throw(t=new Error("throttled response")).result=JSON.stringify(e),t.throttleRetry=!0,t;if("2.0"!=e.jsonrpc)throw(t=new Error("invalid response")).result=JSON.stringify(e),t;if(e.error){var t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function _(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function v(e,t,r){if("call"===e&&t.code===p.Logger.errors.SERVER_ERROR){var n=t.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){var o=n.data;if(o&&(o="0x"+o.replace(/^.*0x/i,"")),(0,i.isHexString)(o))return o;f.throwError("missing revert data in call exception",p.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}var s=t.message;throw t.code===p.Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?s=t.error.message:"string"==typeof t.body?s=t.body:"string"==typeof t.responseText&&(s=t.responseText)),(s=(s||"").toLowerCase()).match(/insufficient funds/)&&f.throwError("insufficient funds for intrinsic transaction cost",p.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),s.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&f.throwError("nonce has already been used",p.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),s.match(/another transaction with same nonce/)&&f.throwError("replacement fee too low",p.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),s.match(/execution failed due to an exception|execution reverted/)&&f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",p.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}var T=function(e){function t(t,r){var n=e.call(this,t)||this;return(0,c.defineReadOnly)(n,"baseUrl",n.getBaseUrl()),(0,c.defineReadOnly)(n,"apiKey",r||null),n}return o(t,e),t.prototype.getBaseUrl=function(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return f.throwArgumentError("unsupported network","network",this.network.name)},t.prototype.getUrl=function(e,t){var r=Object.keys(t).reduce(function(e,r){var n=t[r];return null!=n&&(e+="&"+r+"="+n),e},""),n=this.apiKey?"&apikey="+this.apiKey:"";return this.baseUrl+"/api?module="+e+r+n},t.prototype.getPostUrl=function(){return this.baseUrl+"/api"},t.prototype.getPostData=function(e,t){return t.module=e,t.apikey=this.apiKey,t},t.prototype.fetch=function(e,t,r){return s(this,void 0,void 0,function(){var n,o,s,i,u,p,h=this;return a(this,function(a){switch(a.label){case 0:return n=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null,s="proxy"===e?E:m,this.emit("debug",{action:"request",request:n,provider:this}),i={url:n,throttleSlotInterval:1e3,throttleCallback:function(e,t){return h.isCommunityResource()&&(0,d.showThrottleMessage)(),Promise.resolve(!0)}},u=null,o&&(i.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},u=Object.keys(o).map(function(e){return e+"="+o[e]}).join("&")),[4,(0,l.fetchJson)(i,u,s||E)];case 1:return p=a.sent(),this.emit("debug",{action:"response",request:n,response:(0,c.deepCopy)(p),provider:this}),[2,p]}})})},t.prototype.detectNetwork=function(){return s(this,void 0,void 0,function(){return a(this,function(e){return[2,this.network]})})},t.prototype.perform=function(t,r){return s(this,void 0,void 0,function(){var n,o,s,i,c,u,l,d,h;return a(this,function(a){switch(a.label){case 0:switch(t){case"getBlockNumber":return[3,1];case"getGasPrice":return[3,2];case"getBalance":return[3,3];case"getTransactionCount":return[3,4];case"getCode":return[3,5];case"getStorageAt":return[3,6];case"sendTransaction":return[3,7];case"getBlock":return[3,8];case"getTransaction":return[3,9];case"getTransactionReceipt":return[3,10];case"call":return[3,11];case"estimateGas":return[3,15];case"getLogs":return[3,19];case"getEtherPrice":return[3,26]}return[3,28];case 1:return[2,this.fetch("proxy",{action:"eth_blockNumber"})];case 2:return[2,this.fetch("proxy",{action:"eth_gasPrice"})];case 3:return[2,this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag})];case 4:return[2,this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag})];case 5:return[2,this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag})];case 6:return[2,this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag})];case 7:return[2,this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(function(e){return v("sendTransaction",e,r.signedTransaction)})];case 8:if(r.blockTag)return[2,this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"})];throw new Error("getBlock by blockHash not implemented");case 9:return[2,this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash})];case 10:return[2,this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash})];case 11:if("latest"!==r.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");(n=g(r.transaction)).module="proxy",n.action="eth_call",a.label=12;case 12:return a.trys.push([12,14,,15]),[4,this.fetch("proxy",n,!0)];case 13:return[2,a.sent()];case 14:return[2,v("call",a.sent(),r.transaction)];case 15:(n=g(r.transaction)).module="proxy",n.action="eth_estimateGas",a.label=16;case 16:return a.trys.push([16,18,,19]),[4,this.fetch("proxy",n,!0)];case 17:return[2,a.sent()];case 18:return[2,v("estimateGas",a.sent(),r.transaction)];case 19:return o={action:"getLogs"},r.filter.fromBlock&&(o.fromBlock=_(r.filter.fromBlock)),r.filter.toBlock&&(o.toBlock=_(r.filter.toBlock)),r.filter.address&&(o.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&f.throwError("unsupported topic count",p.Logger.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),1===r.filter.topics.length&&("string"==typeof(s=r.filter.topics[0])&&66===s.length||f.throwError("unsupported topic format",p.Logger.errors.UNSUPPORTED_OPERATION,{topic0:s}),o.topic0=s)),[4,this.fetch("logs",o)];case 20:i=a.sent(),c={},u=0,a.label=21;case 21:return u<i.length?null!=(l=i[u]).blockHash?[3,24]:null!=c[l.blockNumber]?[3,23]:[4,this.getBlock(l.blockNumber)]:[3,25];case 22:(d=a.sent())&&(c[l.blockNumber]=d.hash),a.label=23;case 23:l.blockHash=c[l.blockNumber],a.label=24;case 24:return u++,[3,21];case 25:return[2,i];case 26:return"homestead"!==this.network.name?[2,0]:(h=parseFloat,[4,this.fetch("stats",{action:"ethprice"})]);case 27:return[2,h.apply(void 0,[a.sent().ethusd])];case 28:return[3,29];case 29:return[2,e.prototype.perform.call(this,t,r)]}})})},t.prototype.getHistory=function(e,t,r){return s(this,void 0,void 0,function(){var n,o,s=this;return a(this,function(a){switch(a.label){case 0:return o={action:"txlist"},[4,this.resolveName(e)];case 1:return o.address=a.sent(),o.startblock=null==t?0:t,o.endblock=null==r?99999999:r,o.sort="asc",n=o,[4,this.fetch("account",n)];case 2:return[2,a.sent().map(function(e){["contractAddress","to"].forEach(function(t){""==e[t]&&delete e[t]}),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);var t=s.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})]}})})},t.prototype.isCommunityResource=function(){return null==this.apiKey},t}(e("./base-provider").BaseProvider);r.EtherscanProvider=T}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/etherscan-provider.js"}],[757,{"./_version":749,"./base-provider":752,"./formatter":758,"@ethersproject/abstract-provider":701,"@ethersproject/bignumber":712,"@ethersproject/bytes":714,"@ethersproject/logger":742,"@ethersproject/properties":748,"@ethersproject/random":772,"@ethersproject/web":798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.FallbackProvider=void 0;var i=e("@ethersproject/abstract-provider"),c=e("@ethersproject/bignumber"),u=e("@ethersproject/bytes"),l=e("@ethersproject/properties"),d=e("@ethersproject/random"),p=e("@ethersproject/web"),h=e("./base-provider"),f=e("./formatter"),g=e("@ethersproject/logger"),m=e("./_version"),E=new g.Logger(m.version);function _(){return(new Date).getTime()}function v(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||E.throwArgumentError("provider mismatch","networks",e):t=n}return t}function T(e,t){e=e.slice().sort();var r=Math.floor(e.length/2);if(e.length%2)return e[r];var n=e[r-1],o=e[r];return null!=t&&Math.abs(n-o)>t?null:(n+o)/2}function S(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(c.BigNumber.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map(function(e){return S(e)}));if("object"==typeof e){var t=Object.keys(e);return t.sort(),"{"+t.map(function(t){var r=e[t];return r="function"==typeof r?"[function]":S(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}var b=1;function y(e){var t=null,r=null,n=new Promise(function(n){t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)});return{cancel:t,getPromise:function(){return n},wait:function(e){return n=n.then(e)}}}var N=[g.Logger.errors.CALL_EXCEPTION,g.Logger.errors.INSUFFICIENT_FUNDS,g.Logger.errors.NONCE_EXPIRED,g.Logger.errors.REPLACEMENT_UNDERPRICED,g.Logger.errors.UNPREDICTABLE_GAS_LIMIT],A=["address","args","errorArgs","errorSignature","method","transaction"];function I(e,t){var r={weight:e.weight};return Object.defineProperty(r,"provider",{get:function(){return e.provider}}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function O(e,t,r){var n=S;switch(t){case"getBlockNumber":return function(t){var r=t.map(function(e){return e.result}),n=T(t.map(function(e){return e.result}),2);return null==n?undefined:(n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber)};case"getGasPrice":return function(e){var t=e.map(function(e){return e.result});return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return T(e.map(function(e){return e.result}))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,l.shallowCopy)(e)).confirmations=-1,S(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=(0,l.shallowCopy)(e)).transactions=e.transactions.map(function(e){return(e=(0,l.shallowCopy)(e)).confirmations=-1,e}),S(e))}:function(e){return null==e?null:S(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){var n={};r.forEach(function(t){var r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++});for(var o=Object.keys(n),s=0;s<o.length;s++){var a=n[o[s]];if(a.count>=t)return a.result}return undefined}}(n,e.quorum)}function k(e,t){return s(this,void 0,void 0,function(){var r;return a(this,function(n){return null!=(r=e.provider).blockNumber&&r.blockNumber>=t||-1===t?[2,r]:[2,(0,p.poll)(function(){return new Promise(function(n,o){setTimeout(function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(undefined)},0)})},{oncePoll:r})]})})}var w=function(e){function t(t,r){var n=this;0===t.length&&E.throwArgumentError("missing providers","providers",t);var o=t.map(function(e,t){if(i.Provider.isProvider(e)){var r=(0,f.isCommunityResource)(e)?2e3:750;return Object.freeze({provider:e,weight:1,stallTimeout:r,priority:1})}var n=(0,l.shallowCopy)(e);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=(0,f.isCommunityResource)(e)?2e3:750),null==n.weight&&(n.weight=1);var o=n.weight;return(o%1||o>512||o<1)&&E.throwArgumentError("invalid weight; must be integer in [1, 512]","providers["+t+"].weight",o),Object.freeze(n)}),s=o.reduce(function(e,t){return e+t.weight},0);null==r?r=s/2:r>s&&E.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);var a=v(o.map(function(e){return e.provider.network}));return null==a&&(a=new Promise(function(e,t){setTimeout(function(){n.detectNetwork().then(e,t)},0)})),n=e.call(this,a)||this,(0,l.defineReadOnly)(n,"providerConfigs",Object.freeze(o)),(0,l.defineReadOnly)(n,"quorum",r),n._highestBlockNumber=-1,n}return o(t,e),t.prototype.detectNetwork=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Promise.all(this.providerConfigs.map(function(e){return e.provider.getNetwork()}))];case 1:return[2,v(e.sent())]}})})},t.prototype.perform=function(e,t){return s(this,void 0,void 0,function(){var r,n,o,i,c,p,h,f,m,v,T,S=this;return a(this,function(w){switch(w.label){case 0:return"sendTransaction"!==e?[3,2]:[4,Promise.all(this.providerConfigs.map(function(e){return e.provider.sendTransaction(t.signedTransaction).then(function(e){return e.hash},function(e){return e})}))];case 1:for(r=w.sent(),n=0;n<r.length;n++)if("string"==typeof(o=r[n]))return[2,o];throw r[0];case 2:return-1!==this._highestBlockNumber||"getBlockNumber"===e?[3,4]:[4,this.getBlockNumber()];case 3:w.sent(),w.label=4;case 4:i=O(this,e,t),(c=(0,d.shuffled)(this.providerConfigs.map(l.shallowCopy))).sort(function(e,t){return e.priority-t.priority}),p=this._highestBlockNumber,h=0,f=!0,m=function(){var r,n,o,d,m,T,O;return a(this,function(w){switch(w.label){case 0:for(r=_(),n=c.filter(function(e){return e.runner&&r-e.start<e.stallTimeout}).reduce(function(e,t){return e+t.weight},0),o=function(){var r=c[h++],o=b++;r.start=_(),r.staller=y(r.stallTimeout),r.staller.wait(function(){r.staller=null}),r.runner=function(e,t,r,n){return s(this,void 0,void 0,function(){var o,s;return a(this,function(a){switch(a.label){case 0:switch(o=e.provider,r){case"getBlockNumber":case"getGasPrice":return[3,1];case"getEtherPrice":return[3,2];case"getBalance":case"getTransactionCount":case"getCode":return[3,3];case"getStorageAt":return[3,6];case"getBlock":return[3,9];case"call":case"estimateGas":return[3,12];case"getTransaction":case"getTransactionReceipt":return[3,15];case"getLogs":return[3,16]}return[3,19];case 1:return[2,o[r]()];case 2:return o.getEtherPrice?[2,o.getEtherPrice()]:[3,19];case 3:return n.blockTag&&(0,u.isHexString)(n.blockTag)?[4,k(e,t)]:[3,5];case 4:o=a.sent(),a.label=5;case 5:return[2,o[r](n.address,n.blockTag||"latest")];case 6:return n.blockTag&&(0,u.isHexString)(n.blockTag)?[4,k(e,t)]:[3,8];case 7:o=a.sent(),a.label=8;case 8:return[2,o.getStorageAt(n.address,n.position,n.blockTag||"latest")];case 9:return n.blockTag&&(0,u.isHexString)(n.blockTag)?[4,k(e,t)]:[3,11];case 10:o=a.sent(),a.label=11;case 11:return[2,o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash)];case 12:return n.blockTag&&(0,u.isHexString)(n.blockTag)?[4,k(e,t)]:[3,14];case 13:o=a.sent(),a.label=14;case 14:return"call"===r&&n.blockTag?[2,o[r](n.transaction,n.blockTag)]:[2,o[r](n.transaction)];case 15:return[2,o[r](n.transactionHash)];case 16:return(s=n.filter).fromBlock&&(0,u.isHexString)(s.fromBlock)||s.toBlock&&(0,u.isHexString)(s.toBlock)?[4,k(e,t)]:[3,18];case 17:o=a.sent(),a.label=18;case 18:return[2,o.getLogs(s)];case 19:return[2,E.throwError("unknown method error",g.Logger.errors.UNKNOWN_ERROR,{method:r,params:n})]}})})}(r,p,e,t).then(function(n){r.done=!0,r.result=n,S.listenerCount("debug")&&S.emit("debug",{action:"request",rid:o,backend:I(r,_()),request:{method:e,params:(0,l.deepCopy)(t)},provider:S})},function(n){r.done=!0,r.error=n,S.listenerCount("debug")&&S.emit("debug",{action:"request",rid:o,backend:I(r,_()),request:{method:e,params:(0,l.deepCopy)(t)},provider:S})}),v.listenerCount("debug")&&v.emit("debug",{action:"request",rid:o,backend:I(r,null),request:{method:e,params:(0,l.deepCopy)(t)},provider:v}),n+=r.weight};n<v.quorum&&h<c.length;)o();return d=[],c.forEach(function(e){!e.done&&e.runner&&(d.push(e.runner),e.staller&&d.push(e.staller.getPromise()))}),d.length?[4,Promise.race(d)]:[3,2];case 1:w.sent(),w.label=2;case 2:return(m=c.filter(function(e){return e.done&&null==e.error})).length>=v.quorum?(T=i(m))!==undefined?(c.forEach(function(e){e.staller&&e.staller.cancel(),e.cancelled=!0}),[2,{value:T}]):f?[3,4]:[4,y(100).getPromise()]:[3,5];case 3:w.sent(),w.label=4;case 4:f=!1,w.label=5;case 5:return O=c.reduce(function(e,t){if(!t.done||null==t.error)return e;var r=t.error.code;return N.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e},{}),Object.keys(O).forEach(function(e){var t=O[e];if(!(t.weight<S.quorum)){c.forEach(function(e){e.staller&&e.staller.cancel(),e.cancelled=!0});var r=t.error,n={};A.forEach(function(e){null!=r[e]&&(n[e]=r[e])}),E.throwError(r.reason||r.message,e,n)}}),0===c.filter(function(e){return!e.done}).length?[2,"break"]:[2]}})},v=this,w.label=5;case 5:return[5,m()];case 6:return"object"==typeof(T=w.sent())?[2,T.value]:"break"===T?[3,7]:[3,5];case 7:return c.forEach(function(e){e.staller&&e.staller.cancel(),e.cancelled=!0}),[2,E.throwError("failed to meet quorum",g.Logger.errors.SERVER_ERROR,{method:e,params:t,results:c.map(function(e){return I(e)}),provider:this})]}})})},t}(h.BaseProvider);r.FallbackProvider=w}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/fallback-provider.js"}],[7571,{"../../../../shared/modules/selectors/util":5755,"../../../selectors/approvals":7877,"@metamask/controller-utils":1383,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.oldestPendingConfirmationSelector=void 0,r.pendingConfirmationsSelector=function(e){return(0,s.getPendingApprovals)(e).filter(({type:e})=>i.includes(e))},r.pendingConfirmationsSortedSelector=c,r.selectDappSwapComparisonData=function(e,t){var r;return(null===(r=e.metamask.dappSwapComparisonData)||void 0===r?void 0:r[t])??undefined},r.selectEnableEnforcedSimulations=function(e,t){return e.metamask.enableEnforcedSimulationsForTransactions[t]??e.metamask.enableEnforcedSimulations},r.selectEnforcedSimulationsDefaultSlippage=function(e){return e.metamask.enforcedSimulationsSlippage},r.selectEnforcedSimulationsSlippage=function(e,t){return e.metamask.enforcedSimulationsSlippageForTransactions[t]??e.metamask.enforcedSimulationsSlippage};var n=e("@metamask/controller-utils"),o=e("reselect"),s=e("../../../selectors/approvals"),a=e("../../../../shared/modules/selectors/util");const i=[n.ApprovalType.PersonalSign,n.ApprovalType.EthSignTypedData,n.ApprovalType.Transaction];function c(e){return(0,s.getPendingApprovals)(e).filter(({type:e})=>i.includes(e)).sort((e,t)=>e.time-t.time)}const u=(0,o.createSelector)(c,e=>e[0]);r.oldestPendingConfirmationSelector=(0,a.createDeepEqualSelector)(u,e=>e)}}},{package:"$root$",file:"ui/pages/confirmations/selectors/confirm.ts"}],[7573,{"../../../selectors":7886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDismissSmartAccountSuggestionEnabled=function(e){return Boolean((0,n.getPreferences)(e).dismissSmartAccountSuggestionEnabled)},r.getUseSmartAccount=function(e){return Boolean((0,n.getPreferences)(e).smartAccountOptIn)},r.selectConfirmationAdvancedDetailsOpen=function(e){return Boolean((0,n.getPreferences)(e).showConfirmationAdvancedDetails)},r.selectUseTransactionSimulations=void 0;var n=e("../../../selectors");r.selectUseTransactionSimulations=e=>e.metamask.useTransactionSimulations}}},{package:"$root$",file:"ui/pages/confirmations/selectors/preferences.ts"}],[7577,{"../../../../shared/constants/common":5601,"../../../../shared/constants/gas":5606,"../../../../shared/modules/Numeric":5727},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TOKEN_TRANSFER_FUNCTION_SIGNATURE=r.TOKEN_APPROVAL_FUNCTION_SIGNATURE=r.SWAPS_QUOTES_ERROR=r.SWAPS_NO_QUOTES=r.REQUIRED_ERROR=r.RECIPIENT_TYPES=r.NO_RESOLUTION_FOR_DOMAIN=r.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE=r.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE=r.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR=r.NEGATIVE_ETH_ERROR=r.MIN_GAS_TOTAL=r.MIN_GAS_PRICE_HEX=r.MIN_GAS_PRICE_GWEI=r.MIN_GAS_PRICE_DEC=r.MIN_GAS_LIMIT_DEC=r.MAX_GAS_LIMIT_DEC=r.KNOWN_RECIPIENT_ADDRESS_WARNING=r.INVALID_RECIPIENT_ADDRESS_ERROR=r.INVALID_HEX_DATA_ERROR=r.INSUFFICIENT_TOKENS_ERROR=r.INSUFFICIENT_FUNDS_ERROR=r.HIGH_FEE_WARNING_MULTIPLIER=r.FLOAT_TOKENS_ERROR=r.ENS_UNKNOWN_ERROR=r.CONTRACT_ADDRESS_ERROR=r.CONFUSING_ENS_ERROR=void 0;var n=e("../../../../shared/constants/gas"),o=e("../../../../shared/modules/Numeric"),s=e("../../../../shared/constants/common");const a=r.MIN_GAS_PRICE_DEC="0",i=r.MIN_GAS_PRICE_HEX=parseInt(a,10).toString(16);r.MIN_GAS_LIMIT_DEC=new o.Numeric("21000",10),r.MAX_GAS_LIMIT_DEC="30000000",r.HIGH_FEE_WARNING_MULTIPLIER=1.5,r.MIN_GAS_PRICE_GWEI=new o.Numeric(i,16,s.EtherDenomination.WEI).toDenomination(s.EtherDenomination.GWEI).round(1).toPrefixedHexString(),r.MIN_GAS_TOTAL=new o.Numeric(n.MIN_GAS_LIMIT_HEX,16).times(new o.Numeric(i,16,s.EtherDenomination.WEI)).toPrefixedHexString(),r.TOKEN_TRANSFER_FUNCTION_SIGNATURE="0xa9059cbb",r.TOKEN_APPROVAL_FUNCTION_SIGNATURE="0x095ea7b3",r.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE="0x23b872dd",r.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE="0xf242432a",r.INSUFFICIENT_FUNDS_ERROR="insufficientFunds",r.INSUFFICIENT_TOKENS_ERROR="insufficientTokens",r.NEGATIVE_ETH_ERROR="negativeETH",r.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR="negativeOrZeroAmountToken",r.FLOAT_TOKENS_ERROR="floatAmountToken",r.INVALID_RECIPIENT_ADDRESS_ERROR="invalidAddressRecipient",r.REQUIRED_ERROR="required",r.KNOWN_RECIPIENT_ADDRESS_WARNING="knownAddressRecipient",r.CONTRACT_ADDRESS_ERROR="contractAddressError",r.CONFUSING_ENS_ERROR="confusingEnsDomain",r.ENS_UNKNOWN_ERROR="ensUnknownError",r.NO_RESOLUTION_FOR_DOMAIN="noDomainResolution",r.SWAPS_NO_QUOTES="swapQuotesNotAvailableErrorTitle",r.SWAPS_QUOTES_ERROR="swapFetchingQuotesErrorTitle",r.INVALID_HEX_DATA_ERROR="invalidHexDataError",r.RECIPIENT_TYPES={SMART_CONTRACT:"SMART_CONTRACT",NON_CONTRACT:"NON_CONTRACT"}}}},{package:"$root$",file:"ui/pages/confirmations/send-legacy/send.constants.js"}],[7578,{"../../../../app/scripts/lib/util":353,"../../../../shared/constants/transaction":5637,"../../../../shared/modules/Numeric":5727,"../../../../shared/modules/hexstring-utils":5741,"./send.constants":7577,"@metamask/abi-utils":1131,"@metamask/utils":2914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addGasBuffer=function(e,t,r=1.5){const n=new i.Numeric(e,16),o=new i.Numeric(t,16).times(new i.Numeric(.9,10)).round(0),s=n.times(new i.Numeric(r,10)).round(0);if(n.greaterThanOrEqualTo(o))return e;if(s.lessThan(o))return s.toString();return o.toString()},r.ellipsify=function(e,t=6,r=4){if(!e)return"";return`${e.slice(0,t)}...${e.slice(-r)}`},r.generateERC1155TransferData=p,r.generateERC20ApprovalData=function({spenderAddress:e=c.BURN_ADDRESS,amount:t="0x0"}){if(!e)return undefined;return u.TOKEN_APPROVAL_FUNCTION_SIGNATURE+Array.prototype.map.call((0,n.encode)(["address","uint256"],[(0,s.addHexPrefix)(e),(0,s.addHexPrefix)(t)]),e=>`00${e.toString(16)}`.slice(-2)).join("")},r.generateERC20TransferData=l,r.generateERC721TransferData=d,r.getAssetTransferData=function({sendToken:e,fromAddress:t,toAddress:r,amount:n}){switch(e.standard){case a.TokenStandard.ERC721:return d({toAddress:r,fromAddress:t,tokenId:e.tokenId});case a.TokenStandard.ERC1155:return p({toAddress:r,fromAddress:t,tokenId:e.tokenId});case a.TokenStandard.ERC20:default:return l({toAddress:r,amount:n,sendToken:e})}},r.isBalanceSufficient=function({amount:e="0x0",balance:t="0x0",conversionRate:r=1,gasTotal:n="0x0",primaryCurrency:s=undefined}){let a=new i.Numeric(e,16).add(new i.Numeric(n,16)),c=new i.Numeric(t,(0,o.isHexString)(t)?16:10);null!=s&&(a=a.applyConversionRate(r),c=c.applyConversionRate(r));return c.greaterThanOrEqualTo(a)},r.isERC1155BalanceSufficient=function({amount:e="0",tokenBalance:t}){const r=new i.Numeric(e,16);return new i.Numeric(t,10).greaterThanOrEqualTo(r)},r.isTokenBalanceSufficient=function({amount:e="0x0",tokenBalance:t,decimals:r}){const n=new i.Numeric(e,16).shiftedBy(r);return new i.Numeric(t,16).greaterThanOrEqualTo(n)};var n=e("@metamask/abi-utils"),o=e("@metamask/utils"),s=e("../../../../app/scripts/lib/util"),a=e("../../../../shared/constants/transaction"),i=e("../../../../shared/modules/Numeric"),c=e("../../../../shared/modules/hexstring-utils"),u=e("./send.constants");function l({toAddress:e="0x0",amount:t="0x0",sendToken:r}){return r?u.TOKEN_TRANSFER_FUNCTION_SIGNATURE+Array.prototype.map.call((0,n.encode)(["address","uint256"],[(0,s.addHexPrefix)(e),(0,s.addHexPrefix)(t)]),e=>`00${e.toString(16)}`.slice(-2)).join(""):undefined}function d({toAddress:e="0x0",fromAddress:t="0x0",tokenId:r}){return r?u.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call((0,n.encode)(["address","address","uint256"],[(0,s.addHexPrefix)(t),(0,s.addHexPrefix)(e),BigInt(r)]),e=>`00${e.toString(16)}`.slice(-2)).join(""):undefined}function p({toAddress:e="0x0",fromAddress:t="0x0",tokenId:r,amount:o="1",data:a="0"}){return r?u.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call((0,n.encode)(["address","address","uint256","uint256","bytes"],[(0,s.addHexPrefix)(t),(0,s.addHexPrefix)(e),BigInt(r),(0,s.addHexPrefix)(o),(0,s.addHexPrefix)(a)]),e=>`00${e.toString(16)}`.slice(-2)).join(""):undefined}}}},{package:"$root$",file:"ui/pages/confirmations/send-legacy/send.utils.js"}],[758,{"./_version":749,"@ethersproject/address":705,"@ethersproject/bignumber":712,"@ethersproject/bytes":714,"@ethersproject/constants":718,"@ethersproject/logger":742,"@ethersproject/properties":748,"@ethersproject/transactions":791},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.showThrottleMessage=r.isCommunityResource=r.isCommunityResourcable=r.Formatter=void 0;var n=e("@ethersproject/address"),o=e("@ethersproject/bignumber"),s=e("@ethersproject/bytes"),a=e("@ethersproject/constants"),i=e("@ethersproject/properties"),c=e("@ethersproject/transactions"),u=e("@ethersproject/logger"),l=e("./_version"),d=new u.Logger(l.version),p=function(){function e(){this.formats=this.getDefaultFormats()}return e.prototype.getDefaultFormats=function(){var t=this,r={},n=this.address.bind(this),o=this.bigNumber.bind(this),s=this.blockTag.bind(this),a=this.data.bind(this),c=this.hash.bind(this),u=this.hex.bind(this),l=this.number.bind(this),d=this.type.bind(this);return r.transaction={hash:c,type:d,accessList:e.allowNull(this.accessList.bind(this),null),blockHash:e.allowNull(c,null),blockNumber:e.allowNull(l,null),transactionIndex:e.allowNull(l,null),confirmations:e.allowNull(l,null),from:n,gasPrice:e.allowNull(o),maxPriorityFeePerGas:e.allowNull(o),maxFeePerGas:e.allowNull(o),gasLimit:o,to:e.allowNull(n,null),value:o,nonce:l,data:a,r:e.allowNull(this.uint256),s:e.allowNull(this.uint256),v:e.allowNull(l),creates:e.allowNull(n,null),raw:e.allowNull(a)},r.transactionRequest={from:e.allowNull(n),nonce:e.allowNull(l),gasLimit:e.allowNull(o),gasPrice:e.allowNull(o),maxPriorityFeePerGas:e.allowNull(o),maxFeePerGas:e.allowNull(o),to:e.allowNull(n),value:e.allowNull(o),data:e.allowNull(function(e){return t.data(e,!0)}),type:e.allowNull(l),accessList:e.allowNull(this.accessList.bind(this),null)},r.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:c,address:n,topics:e.arrayOf(c),data:a,logIndex:l,blockHash:c},r.receipt={to:e.allowNull(this.address,null),from:e.allowNull(this.address,null),contractAddress:e.allowNull(n,null),transactionIndex:l,root:e.allowNull(u),gasUsed:o,logsBloom:e.allowNull(a),blockHash:c,transactionHash:c,logs:e.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:e.allowNull(l,null),cumulativeGasUsed:o,effectiveGasPrice:e.allowNull(o),status:e.allowNull(l),type:d},r.block={hash:e.allowNull(c),parentHash:c,number:l,timestamp:l,nonce:e.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:o,gasUsed:o,miner:e.allowNull(n),extraData:a,transactions:e.allowNull(e.arrayOf(c)),baseFeePerGas:e.allowNull(o)},r.blockWithTransactions=(0,i.shallowCopy)(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.filter={fromBlock:e.allowNull(s,undefined),toBlock:e.allowNull(s,undefined),blockHash:e.allowNull(c,undefined),address:e.allowNull(n,undefined),topics:e.allowNull(this.topics.bind(this),undefined)},r.filterLog={blockNumber:e.allowNull(l),blockHash:e.allowNull(c),transactionIndex:l,removed:e.allowNull(this.boolean.bind(this)),address:n,data:e.allowFalsish(a,"0x"),topics:e.arrayOf(c),transactionHash:c,logIndex:l},r},e.prototype.accessList=function(e){return(0,c.accessListify)(e||[])},e.prototype.number=function(e){return"0x"===e?0:o.BigNumber.from(e).toNumber()},e.prototype.type=function(e){return"0x"===e||null==e?0:o.BigNumber.from(e).toNumber()},e.prototype.bigNumber=function(e){return o.BigNumber.from(e)},e.prototype.boolean=function(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)},e.prototype.hex=function(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,s.isHexString)(e))?e.toLowerCase():d.throwArgumentError("invalid hash","value",e)},e.prototype.data=function(e,t){var r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r},e.prototype.address=function(e){return(0,n.getAddress)(e)},e.prototype.callAddress=function(e){if(!(0,s.isHexString)(e,32))return null;var t=(0,n.getAddress)((0,s.hexDataSlice)(e,12));return t===a.AddressZero?null:t},e.prototype.contractAddress=function(e){return(0,n.getContractAddress)(e)},e.prototype.blockTag=function(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||(0,s.isHexString)(e))return(0,s.hexValue)(e);throw new Error("invalid blockTag")},e.prototype.hash=function(e,t){var r=this.hex(e,t);return 32!==(0,s.hexDataLength)(r)?d.throwArgumentError("invalid hash","value",e):r},e.prototype.difficulty=function(e){if(null==e)return null;var t=o.BigNumber.from(e);try{return t.toNumber()}catch(e){}return null},e.prototype.uint256=function(e){if(!(0,s.isHexString)(e))throw new Error("invalid uint256");return(0,s.hexZeroPad)(e,32)},e.prototype._block=function(t,r){null!=t.author&&null==t.miner&&(t.miner=t.author);var n=null!=t._difficulty?t._difficulty:t.difficulty,s=e.check(r,t);return s._difficulty=null==n?null:o.BigNumber.from(n),s},e.prototype.block=function(e){return this._block(e,this.formats.block)},e.prototype.blockWithTransactions=function(e){return this._block(e,this.formats.blockWithTransactions)},e.prototype.transactionRequest=function(t){return e.check(this.formats.transactionRequest,t)},e.prototype.transactionResponse=function(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&o.BigNumber.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);var r=e.check(this.formats.transaction,t);if(null!=t.chainId){var n=t.chainId;(0,s.isHexString)(n)&&(n=o.BigNumber.from(n).toNumber()),r.chainId=n}else{null==(n=t.networkId)&&null==r.v&&(n=t.chainId),(0,s.isHexString)(n)&&(n=o.BigNumber.from(n).toNumber()),"number"!=typeof n&&null!=r.v&&((n=(r.v-35)/2)<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),r.chainId=n}return r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r},e.prototype.transaction=function(e){return(0,c.parse)(e)},e.prototype.receiptLog=function(t){return e.check(this.formats.receiptLog,t)},e.prototype.receipt=function(t){var r=e.check(this.formats.receipt,t);if(null!=r.root)if(r.root.length<=4){var n=o.BigNumber.from(r.root).toNumber();0===n||1===n?(null!=r.status&&r.status!==n&&d.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):d.throwArgumentError("invalid alt-root-status","value.root",r.root)}else 66!==r.root.length&&d.throwArgumentError("invalid root hash","value.root",r.root);return null!=r.status&&(r.byzantium=!0),r},e.prototype.topics=function(e){var t=this;return Array.isArray(e)?e.map(function(e){return t.topics(e)}):null!=e?this.hash(e,!0):null},e.prototype.filter=function(t){return e.check(this.formats.filter,t)},e.prototype.filterLog=function(t){return e.check(this.formats.filterLog,t)},e.check=function(e,t){var r={};for(var n in e)try{var o=e[n](t[n]);o!==undefined&&(r[n]=o)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r},e.allowNull=function(e,t){return function(r){return null==r?t:e(r)}},e.allowFalsish=function(e,t){return function(r){return r?e(r):t}},e.arrayOf=function(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach(function(t){r.push(e(t))}),r}},e}();function h(e){return e&&"function"==typeof e.isCommunityResource}r.Formatter=p,r.isCommunityResourcable=h,r.isCommunityResource=function(e){return h(e)&&e.isCommunityResource()};var f=!1;r.showThrottleMessage=function(){f||(f=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/formatter.js"}],[759,{"./_version":749,"./alchemy-provider":750,"./ankr-provider":751,"./base-provider":752,"./cloudflare-provider":755,"./etherscan-provider":756,"./fallback-provider":757,"./formatter":758,"./infura-provider":760,"./ipc-provider":753,"./json-rpc-batch-provider":761,"./json-rpc-provider":762,"./nodesmith-provider":763,"./pocket-provider":764,"./quicknode-provider":765,"./url-json-rpc-provider":766,"./web3-provider":767,"./websocket-provider":768,"@ethersproject/abstract-provider":701,"@ethersproject/logger":742,"@ethersproject/networks":744},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Formatter=r.showThrottleMessage=r.isCommunityResourcable=r.isCommunityResource=r.getNetwork=r.getDefaultProvider=r.JsonRpcSigner=r.IpcProvider=r.WebSocketProvider=r.Web3Provider=r.StaticJsonRpcProvider=r.QuickNodeProvider=r.PocketProvider=r.NodesmithProvider=r.JsonRpcBatchProvider=r.JsonRpcProvider=r.InfuraWebSocketProvider=r.InfuraProvider=r.EtherscanProvider=r.CloudflareProvider=r.AnkrProvider=r.AlchemyWebSocketProvider=r.AlchemyProvider=r.FallbackProvider=r.UrlJsonRpcProvider=r.Resolver=r.BaseProvider=r.Provider=void 0;var n=e("@ethersproject/abstract-provider");Object.defineProperty(r,"Provider",{enumerable:!0,get:function(){return n.Provider}});var o=e("@ethersproject/networks");Object.defineProperty(r,"getNetwork",{enumerable:!0,get:function(){return o.getNetwork}});var s=e("./base-provider");Object.defineProperty(r,"BaseProvider",{enumerable:!0,get:function(){return s.BaseProvider}}),Object.defineProperty(r,"Resolver",{enumerable:!0,get:function(){return s.Resolver}});var a=e("./alchemy-provider");Object.defineProperty(r,"AlchemyProvider",{enumerable:!0,get:function(){return a.AlchemyProvider}}),Object.defineProperty(r,"AlchemyWebSocketProvider",{enumerable:!0,get:function(){return a.AlchemyWebSocketProvider}});var i=e("./ankr-provider");Object.defineProperty(r,"AnkrProvider",{enumerable:!0,get:function(){return i.AnkrProvider}});var c=e("./cloudflare-provider");Object.defineProperty(r,"CloudflareProvider",{enumerable:!0,get:function(){return c.CloudflareProvider}});var u=e("./etherscan-provider");Object.defineProperty(r,"EtherscanProvider",{enumerable:!0,get:function(){return u.EtherscanProvider}});var l=e("./fallback-provider");Object.defineProperty(r,"FallbackProvider",{enumerable:!0,get:function(){return l.FallbackProvider}});var d=e("./ipc-provider");Object.defineProperty(r,"IpcProvider",{enumerable:!0,get:function(){return d.IpcProvider}});var p=e("./infura-provider");Object.defineProperty(r,"InfuraProvider",{enumerable:!0,get:function(){return p.InfuraProvider}}),Object.defineProperty(r,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return p.InfuraWebSocketProvider}});var h=e("./json-rpc-provider");Object.defineProperty(r,"JsonRpcProvider",{enumerable:!0,get:function(){return h.JsonRpcProvider}}),Object.defineProperty(r,"JsonRpcSigner",{enumerable:!0,get:function(){return h.JsonRpcSigner}});var f=e("./json-rpc-batch-provider");Object.defineProperty(r,"JsonRpcBatchProvider",{enumerable:!0,get:function(){return f.JsonRpcBatchProvider}});var g=e("./nodesmith-provider");Object.defineProperty(r,"NodesmithProvider",{enumerable:!0,get:function(){return g.NodesmithProvider}});var m=e("./pocket-provider");Object.defineProperty(r,"PocketProvider",{enumerable:!0,get:function(){return m.PocketProvider}});var E=e("./quicknode-provider");Object.defineProperty(r,"QuickNodeProvider",{enumerable:!0,get:function(){return E.QuickNodeProvider}});var _=e("./url-json-rpc-provider");Object.defineProperty(r,"StaticJsonRpcProvider",{enumerable:!0,get:function(){return _.StaticJsonRpcProvider}}),Object.defineProperty(r,"UrlJsonRpcProvider",{enumerable:!0,get:function(){return _.UrlJsonRpcProvider}});var v=e("./web3-provider");Object.defineProperty(r,"Web3Provider",{enumerable:!0,get:function(){return v.Web3Provider}});var T=e("./websocket-provider");Object.defineProperty(r,"WebSocketProvider",{enumerable:!0,get:function(){return T.WebSocketProvider}});var S=e("./formatter");Object.defineProperty(r,"Formatter",{enumerable:!0,get:function(){return S.Formatter}}),Object.defineProperty(r,"isCommunityResourcable",{enumerable:!0,get:function(){return S.isCommunityResourcable}}),Object.defineProperty(r,"isCommunityResource",{enumerable:!0,get:function(){return S.isCommunityResource}}),Object.defineProperty(r,"showThrottleMessage",{enumerable:!0,get:function(){return S.showThrottleMessage}});var b=e("@ethersproject/logger"),y=e("./_version"),N=new b.Logger(y.version);r.getDefaultProvider=function(e,t){if(null==e&&(e="homestead"),"string"==typeof e){var r=e.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new h.JsonRpcProvider(e);case"ws":case"wss":return new T.WebSocketProvider(e);default:N.throwArgumentError("unsupported URL scheme","network",e)}}var n=(0,o.getNetwork)(e);return n&&n._defaultProvider||N.throwError("unsupported getDefaultProvider network",b.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:l.FallbackProvider,AlchemyProvider:a.AlchemyProvider,AnkrProvider:i.AnkrProvider,CloudflareProvider:c.CloudflareProvider,EtherscanProvider:u.EtherscanProvider,InfuraProvider:p.InfuraProvider,JsonRpcProvider:h.JsonRpcProvider,NodesmithProvider:g.NodesmithProvider,PocketProvider:m.PocketProvider,QuickNodeProvider:E.QuickNodeProvider,Web3Provider:v.Web3Provider,IpcProvider:d.IpcProvider},t)}}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/index.js"}],[760,{"./_version":749,"./formatter":758,"./url-json-rpc-provider":766,"./websocket-provider":768,"@ethersproject/logger":742,"@ethersproject/properties":748},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.InfuraProvider=r.InfuraWebSocketProvider=void 0;var s=e("@ethersproject/properties"),a=e("./websocket-provider"),i=e("./formatter"),c=e("@ethersproject/logger"),u=e("./_version"),l=new c.Logger(u.version),d=e("./url-json-rpc-provider"),p="84842078b09946638c03157f83405213",h=function(e){function t(t,r){var n,o=new f(t,r),a=o.connection;a.password&&l.throwError("INFURA WebSocket project secrets unsupported",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});var i=a.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");return n=e.call(this,i,t)||this,(0,s.defineReadOnly)(n,"apiKey",o.projectId),(0,s.defineReadOnly)(n,"projectId",o.projectId),(0,s.defineReadOnly)(n,"projectSecret",o.projectSecret),n}return o(t,e),t.prototype.isCommunityResource=function(){return this.projectId===p},t}(a.WebSocketProvider);r.InfuraWebSocketProvider=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.getWebSocketProvider=function(e,t){return new h(e,t)},t.getApiKey=function(e){var t={apiKey:p,projectId:p,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(l.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),l.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t},t.getUrl=function(e,t){var r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"optimism-sepolia":r="optimism-sepolia.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":r="arbitrum-sepolia.infura.io";break;default:l.throwError("unsupported network",c.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:function(e,r){return t.projectId===p&&(0,i.showThrottleMessage)(),Promise.resolve(!0)}};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n},t.prototype.isCommunityResource=function(){return this.projectId===p},t}(d.UrlJsonRpcProvider);r.InfuraProvider=f}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/infura-provider.js"}],[761,{"./json-rpc-provider":762,"@ethersproject/properties":748,"@ethersproject/web":798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcBatchProvider=void 0;var s=e("@ethersproject/properties"),a=e("@ethersproject/web"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.send=function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);var o={request:n,resolve:null,reject:null},i=new Promise(function(e,t){o.resolve=e,o.reject=t});return this._pendingBatch.push(o),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(function(){var e=r._pendingBatch;r._pendingBatch=null,r._pendingBatchAggregator=null;var t=e.map(function(e){return e.request});return r.emit("debug",{action:"requestBatch",request:(0,s.deepCopy)(t),provider:r}),(0,a.fetchJson)(r.connection,JSON.stringify(t)).then(function(n){r.emit("debug",{action:"response",request:t,response:n,provider:r}),e.forEach(function(e,t){var r=n[t];if(r.error){var o=new Error(r.error.message);o.code=r.error.code,o.data=r.error.data,e.reject(o)}else e.resolve(r.result)})},function(n){r.emit("debug",{action:"response",error:n,request:t,provider:r}),e.forEach(function(e){e.reject(n)})})},10)),i},t}(e("./json-rpc-provider").JsonRpcProvider);r.JsonRpcBatchProvider=i}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/json-rpc-batch-provider.js"}],[762,{"./_version":749,"./base-provider":752,"@ethersproject/abstract-signer":703,"@ethersproject/bignumber":712,"@ethersproject/bytes":714,"@ethersproject/hash":727,"@ethersproject/logger":742,"@ethersproject/properties":748,"@ethersproject/strings":788,"@ethersproject/transactions":791,"@ethersproject/web":798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcProvider=r.JsonRpcSigner=void 0;var i=e("@ethersproject/abstract-signer"),c=e("@ethersproject/bignumber"),u=e("@ethersproject/bytes"),l=e("@ethersproject/hash"),d=e("@ethersproject/properties"),p=e("@ethersproject/strings"),h=e("@ethersproject/transactions"),f=e("@ethersproject/web"),g=e("@ethersproject/logger"),m=e("./_version"),E=new g.Logger(m.version),_=e("./base-provider"),v=["call","estimateGas"];function T(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){var r=(0,u.isHexString)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(var n in e){var o=T(e[n],t);if(o)return o}return null}if("string"==typeof e)try{return T(JSON.parse(e),t)}catch(e){}return null}function S(e,t,r){var n=r.transaction||r.signedTransaction;if("call"===e){var o;if(o=T(t,!0))return o.data;E.throwError("missing revert data in call exception; Transaction reverted without a reason string",g.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}"estimateGas"===e&&(null==(o=T(t.body,!1))&&(o=T(t,!1)),o&&E.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",g.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:e,transaction:n,error:t}));var s=t.message;throw t.code===g.Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?s=t.error.message:"string"==typeof t.body?s=t.body:"string"==typeof t.responseText&&(s=t.responseText),(s=(s||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&E.throwError("insufficient funds for intrinsic transaction cost",g.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),s.match(/nonce (is )?too low/i)&&E.throwError("nonce has already been used",g.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),s.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&E.throwError("replacement fee too low",g.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),s.match(/only replay-protected/i)&&E.throwError("legacy pre-eip-155 transactions not supported",g.Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),v.indexOf(e)>=0&&s.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&E.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",g.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function b(e){return new Promise(function(t){setTimeout(t,e)})}function y(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function N(e){return e?e.toLowerCase():e}var A={},I=function(e){function t(t,r,n){var o=e.call(this)||this;if(t!==A)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return(0,d.defineReadOnly)(o,"provider",r),null==n&&(n=0),"string"==typeof n?((0,d.defineReadOnly)(o,"_address",o.provider.formatter.address(n)),(0,d.defineReadOnly)(o,"_index",null)):"number"==typeof n?((0,d.defineReadOnly)(o,"_index",n),(0,d.defineReadOnly)(o,"_address",null)):E.throwArgumentError("invalid address or index","addressOrIndex",n),o}return o(t,e),t.prototype.connect=function(e){return E.throwError("cannot alter JSON-RPC Signer connection",g.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})},t.prototype.connectUnchecked=function(){return new O(A,this.provider,this._address||this._index)},t.prototype.getAddress=function(){var e=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(function(t){return t.length<=e._index&&E.throwError("unknown account #"+e._index,g.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])})},t.prototype.sendUncheckedTransaction=function(e){var t=this;e=(0,d.shallowCopy)(e);var r=this.getAddress().then(function(e){return e&&(e=e.toLowerCase()),e});if(null==e.gasLimit){var n=(0,d.shallowCopy)(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return null==e?[2,null]:[4,this.provider.resolveName(e)];case 1:return null==(t=r.sent())&&E.throwArgumentError("provided ENS name resolves to null","tx.to",e),[2,t]}})})})),(0,d.resolveProperties)({tx:(0,d.resolveProperties)(e),sender:r}).then(function(r){var n=r.tx,o=r.sender;null!=n.from?n.from.toLowerCase()!==o&&E.throwArgumentError("from address mismatch","transaction",e):n.from=o;var s=t.provider.constructor.hexlifyTransaction(n,{from:!0});return t.provider.send("eth_sendTransaction",[s]).then(function(e){return e},function(e){return"string"==typeof e.message&&e.message.match(/user denied/i)&&E.throwError("user rejected transaction",g.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),S("sendTransaction",e,s)})})},t.prototype.signTransaction=function(e){return E.throwError("signing transactions is unsupported",g.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})},t.prototype.sendTransaction=function(e){return s(this,void 0,void 0,function(){var t,r,n,o=this;return a(this,function(i){switch(i.label){case 0:return[4,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval)];case 1:return t=i.sent(),[4,this.sendUncheckedTransaction(e)];case 2:r=i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,(0,f.poll)(function(){return s(o,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,this.provider.getTransaction(r)];case 1:return null===(e=n.sent())?[2,undefined]:[2,this.provider._wrapTransaction(e,r,t)]}})})},{oncePoll:this.provider})];case 4:return[2,i.sent()];case 5:throw(n=i.sent()).transactionHash=r,n;case 6:return[2]}})})},t.prototype.signMessage=function(e){return s(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return t="string"==typeof e?(0,p.toUtf8Bytes)(e):e,[4,this.getAddress()];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.provider.send("personal_sign",[(0,u.hexlify)(t),r.toLowerCase()])];case 3:return[2,o.sent()];case 4:throw"string"==typeof(n=o.sent()).message&&n.message.match(/user denied/i)&&E.throwError("user rejected signing",g.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),n;case 5:return[2]}})})},t.prototype._legacySignMessage=function(e){return s(this,void 0,void 0,function(){var t,r,n;return a(this,function(o){switch(o.label){case 0:return t="string"==typeof e?(0,p.toUtf8Bytes)(e):e,[4,this.getAddress()];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.provider.send("eth_sign",[r.toLowerCase(),(0,u.hexlify)(t)])];case 3:return[2,o.sent()];case 4:throw"string"==typeof(n=o.sent()).message&&n.message.match(/user denied/i)&&E.throwError("user rejected signing",g.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),n;case 5:return[2]}})})},t.prototype._signTypedData=function(e,t,r){return s(this,void 0,void 0,function(){var n,o,s,i=this;return a(this,function(a){switch(a.label){case 0:return[4,l._TypedDataEncoder.resolveNames(e,t,r,function(e){return i.provider.resolveName(e)})];case 1:return n=a.sent(),[4,this.getAddress()];case 2:o=a.sent(),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(l._TypedDataEncoder.getPayload(n.domain,t,n.value))])];case 4:return[2,a.sent()];case 5:throw"string"==typeof(s=a.sent()).message&&s.message.match(/user denied/i)&&E.throwError("user rejected signing",g.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:n.domain,types:t,value:n.value}}),s;case 6:return[2]}})})},t.prototype.unlock=function(e){return s(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return t=this.provider,[4,this.getAddress()];case 1:return r=n.sent(),[2,t.send("personal_unlockAccount",[r.toLowerCase(),e,null])]}})})},t}(i.Signer);r.JsonRpcSigner=I;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.sendTransaction=function(e){var t=this;return this.sendUncheckedTransaction(e).then(function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(r){return t.provider.waitForTransaction(e,r)}}})},t}(I),k={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},w=function(e){function t(t,r){var n=this,o=r;return null==o&&(o=new Promise(function(e,t){setTimeout(function(){n.detectNetwork().then(function(t){e(t)},function(e){t(e)})},0)})),n=e.call(this,o)||this,t||(t=(0,d.getStatic)(n.constructor,"defaultUrl")()),"string"==typeof t?(0,d.defineReadOnly)(n,"connection",Object.freeze({url:t})):(0,d.defineReadOnly)(n,"connection",Object.freeze((0,d.shallowCopy)(t))),n._nextId=42,n}return o(t,e),Object.defineProperty(t.prototype,"_cache",{get:function(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache},enumerable:!1,configurable:!0}),t.defaultUrl=function(){return"http://localhost:8545"},t.prototype.detectNetwork=function(){var e=this;return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(function(){e._cache.detectNetwork=null},0)),this._cache.detectNetwork},t.prototype._uncachedDetectNetwork=function(){return s(this,void 0,void 0,function(){var e,t;return a(this,function(r){switch(r.label){case 0:return[4,b(0)];case 1:r.sent(),e=null,r.label=2;case 2:return r.trys.push([2,4,,9]),[4,this.send("eth_chainId",[])];case 3:return e=r.sent(),[3,9];case 4:r.sent(),r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.send("net_version",[])];case 6:return e=r.sent(),[3,8];case 7:return r.sent(),[3,8];case 8:return[3,9];case 9:if(null!=e){t=(0,d.getStatic)(this.constructor,"getNetwork");try{return[2,t(c.BigNumber.from(e).toNumber())]}catch(t){return[2,E.throwError("could not detect network",g.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})]}}return[2,E.throwError("could not detect network",g.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})]}})})},t.prototype.getSigner=function(e){return new I(A,this,e)},t.prototype.getUncheckedSigner=function(e){return this.getSigner(e).connectUnchecked()},t.prototype.listAccounts=function(){var e=this;return this.send("eth_accounts",[]).then(function(t){return t.map(function(t){return e.formatter.address(t)})})},t.prototype.send=function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,d.deepCopy)(n),provider:this});var o=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(o&&this._cache[e])return this._cache[e];var s=(0,f.fetchJson)(this.connection,JSON.stringify(n),y).then(function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e},function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e});return o&&(this._cache[e]=s,setTimeout(function(){r._cache[e]=null},0)),s},t.prototype.prepareRequest=function(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[N(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[N(t.address),t.blockTag]];case"getCode":return["eth_getCode",[N(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[N(t.address),(0,u.hexZeroPad)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,d.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,d.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=N(t.filter.address)),["eth_getLogs",[t.filter]]}return null},t.prototype.perform=function(e,t){return s(this,void 0,void 0,function(){var r,n,o,s;return a(this,function(a){switch(a.label){case 0:return"call"!==e&&"estimateGas"!==e?[3,2]:(r=t.transaction)&&null!=r.type&&c.BigNumber.from(r.type).isZero()?null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas?[3,2]:[4,this.getFeeData()]:[3,2];case 1:null==(n=a.sent()).maxFeePerGas&&null==n.maxPriorityFeePerGas&&((t=(0,d.shallowCopy)(t)).transaction=(0,d.shallowCopy)(r),delete t.transaction.type),a.label=2;case 2:null==(o=this.prepareRequest(e,t))&&E.throwError(e+" not implemented",g.Logger.errors.NOT_IMPLEMENTED,{operation:e}),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.send(o[0],o[1])];case 4:return[2,a.sent()];case 5:return s=a.sent(),[2,S(e,s,t)];case 6:return[2]}})})},t.prototype._startEvent=function(t){"pending"===t.tag&&this._startPending(),e.prototype._startEvent.call(this,t)},t.prototype._startPending=function(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;var n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return b(1e3)})}).then(function(){if(e._pendingFilter==t)return setTimeout(function(){n()},0),null;e.send("eth_uninstallFilter",[r])}).catch(function(e){})}(),r}).catch(function(e){})}},t.prototype._stopEvent=function(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),e.prototype._stopEvent.call(this,t)},t.hexlifyTransaction=function(e,t){var r=(0,d.shallowCopy)(k);if(t)for(var n in t)t[n]&&(r[n]=!0);(0,d.checkProperties)(e,r);var o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null!=e[t]){var r=(0,u.hexValue)(c.BigNumber.from(e[t]));"gasLimit"===t&&(t="gas"),o[t]=r}}),["from","to","data"].forEach(function(t){null!=e[t]&&(o[t]=(0,u.hexlify)(e[t]))}),e.accessList&&(o.accessList=(0,h.accessListify)(e.accessList)),o},t}(_.BaseProvider);r.JsonRpcProvider=w}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/json-rpc-provider.js"}],[763,{"./_version":749,"./url-json-rpc-provider":766,"@ethersproject/logger":742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.NodesmithProvider=void 0;var s=e("./url-json-rpc-provider"),a=e("@ethersproject/logger"),i=e("./_version"),c=new a.Logger(i.version),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.getApiKey=function(e){return e&&"string"!=typeof e&&c.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"},t.getUrl=function(e,t){c.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");var r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:c.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t},t}(s.UrlJsonRpcProvider);r.NodesmithProvider=u}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/nodesmith-provider.js"}],[764,{"./_version":749,"./url-json-rpc-provider":766,"@ethersproject/logger":742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.PocketProvider=void 0;var s=e("@ethersproject/logger"),a=e("./_version"),i=new s.Logger(a.version),c=e("./url-json-rpc-provider"),u="62e1ad51b37b8e00394bda3b",l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.getApiKey=function(e){var t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=u:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:i.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t},t.getUrl=function(e,t){var r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:i.throwError("unsupported network",s.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={headers:{},url:"https://"+r+"/v1/lb/"+t.applicationId};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n},t.prototype.isCommunityResource=function(){return this.applicationId===u},t}(c.UrlJsonRpcProvider);r.PocketProvider=l}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/pocket-provider.js"}],[765,{"./_version":749,"./url-json-rpc-provider":766,"@ethersproject/logger":742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.QuickNodeProvider=void 0;var s=e("./url-json-rpc-provider"),a=e("@ethersproject/logger"),i=e("./_version"),c=new a.Logger(i.version),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.getApiKey=function(e){return e&&"string"!=typeof e&&c.throwArgumentError("invalid apiKey","apiKey",e),e||"919b412a057b5e9c9b6dce193c5a60242d6efadb"},t.getUrl=function(e,t){var r=null;switch(e.name){case"homestead":r="ethers.quiknode.pro";break;case"goerli":r="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":r="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":r="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":r="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":r="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":r="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":r="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":r="ethers.base-goerli.quiknode.pro";break;case"base-spolia":r="ethers.base-sepolia.quiknode.pro";break;case"bnb":r="ethers.bsc.quiknode.pro";break;case"bnbt":r="ethers.bsc-testnet.quiknode.pro";break;case"matic":r="ethers.matic.quiknode.pro";break;case"maticmum":r="ethers.matic-testnet.quiknode.pro";break;case"optimism":r="ethers.optimism.quiknode.pro";break;case"optimism-goerli":r="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":r="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":r="ethers.xdai.quiknode.pro";break;default:c.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+r+"/"+t},t}(s.UrlJsonRpcProvider);r.QuickNodeProvider=u}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/quicknode-provider.js"}],[766,{"./_version":749,"./json-rpc-provider":762,"@ethersproject/logger":742,"@ethersproject/properties":748},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.UrlJsonRpcProvider=r.StaticJsonRpcProvider=void 0;var i=e("@ethersproject/properties"),c=e("@ethersproject/logger"),u=e("./_version"),l=new c.Logger(u.version),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.detectNetwork=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return null!=(t=this.network)?[3,2]:[4,e.prototype.detectNetwork.call(this)];case 1:(t=r.sent())||l.throwError("no network detected",c.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,i.defineReadOnly)(this,"_network",t),this.emit("network",t,null)),r.label=2;case 2:return[2,t]}})})},t}(e("./json-rpc-provider").JsonRpcProvider);r.StaticJsonRpcProvider=d;var p=function(e){function t(r,n){var o,s=this.constructor;l.checkAbstract(s,t),r=(0,i.getStatic)(s,"getNetwork")(r),n=(0,i.getStatic)(s,"getApiKey")(n);var a=(0,i.getStatic)(s,"getUrl")(r,n);return o=e.call(this,a,r)||this,"string"==typeof n?(0,i.defineReadOnly)(o,"apiKey",n):null!=n&&Object.keys(n).forEach(function(e){(0,i.defineReadOnly)(o,e,n[e])}),o}return o(t,e),t.prototype._startPending=function(){l.warn("WARNING: API provider does not support pending filters")},t.prototype.isCommunityResource=function(){return!1},t.prototype.getSigner=function(e){return l.throwError("API provider does not support signing",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})},t.prototype.listAccounts=function(){return Promise.resolve([])},t.getApiKey=function(e){return e},t.getUrl=function(e,t){return l.throwError("not implemented; sub-classes must override getUrl",c.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})},t}(d);r.UrlJsonRpcProvider=p}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/url-json-rpc-provider.js"}],[767,{"./_version":749,"./json-rpc-provider":762,"@ethersproject/logger":742,"@ethersproject/properties":748},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.Web3Provider=void 0;var s=e("@ethersproject/properties"),a=e("@ethersproject/logger"),i=e("./_version"),c=new a.Logger(i.version),u=e("./json-rpc-provider"),l=1;function d(e,t){var r="Web3LegacyFetcher";return function(e,n){var o=this,a={method:e,params:n,id:l++,jsonrpc:"2.0"};return new Promise(function(e,n){o.emit("debug",{action:"request",fetcher:r,request:(0,s.deepCopy)(a),provider:o}),t(a,function(t,s){if(t)return o.emit("debug",{action:"response",fetcher:r,error:t,request:a,provider:o}),n(t);if(o.emit("debug",{action:"response",fetcher:r,request:a,response:s,provider:o}),s.error){var i=new Error(s.error.message);return i.code=s.error.code,i.data=s.error.data,n(i)}e(s.result)})})}}var p=function(e){function t(t,r){var n;null==t&&c.throwArgumentError("missing provider","provider",t);var o=null,a=null,i=null;return"function"==typeof t?(o="unknown:",a=t):(!(o=t.host||t.path||"")&&t.isMetaMask&&(o="metamask"),i=t,t.request?(""===o&&(o="eip-1193:"),a=function(e){return function(t,r){var n=this;null==r&&(r=[]);var o={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,s.deepCopy)(o),provider:this}),e.request(o).then(function(e){return n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:o,response:e,provider:n}),e},function(e){throw n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:o,error:e,provider:n}),e})}}(t)):t.sendAsync?a=d(0,t.sendAsync.bind(t)):t.send?a=d(0,t.send.bind(t)):c.throwArgumentError("unsupported provider","provider",t),o||(o="unknown:")),n=e.call(this,o,r)||this,(0,s.defineReadOnly)(n,"jsonRpcFetchFunc",a),(0,s.defineReadOnly)(n,"provider",i),n}return o(t,e),t.prototype.send=function(e,t){return this.jsonRpcFetchFunc(e,t)},t}(u.JsonRpcProvider);r.Web3Provider=p}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/web3-provider.js"}],[768,{"./_version":749,"./json-rpc-provider":762,"./ws":754,"@ethersproject/bignumber":712,"@ethersproject/logger":742,"@ethersproject/properties":748},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.WebSocketProvider=void 0;var i=e("@ethersproject/bignumber"),c=e("@ethersproject/properties"),u=e("./json-rpc-provider"),l=e("./ws"),d=e("@ethersproject/logger"),p=e("./_version"),h=new d.Logger(p.version),f=1,g=function(e){function t(t,r){var n=this;"any"===r&&h.throwError("WebSocketProvider does not support 'any' network yet",d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(n="string"==typeof t?e.call(this,t,r)||this:e.call(this,"_websocket",r)||this)._pollingInterval=-1,n._wsReady=!1,"string"==typeof t?(0,c.defineReadOnly)(n,"_websocket",new l.WebSocket(n.connection.url)):(0,c.defineReadOnly)(n,"_websocket",t),(0,c.defineReadOnly)(n,"_requests",{}),(0,c.defineReadOnly)(n,"_subs",{}),(0,c.defineReadOnly)(n,"_subIds",{}),(0,c.defineReadOnly)(n,"_detectNetwork",e.prototype.detectNetwork.call(n)),n.websocket.onopen=function(){n._wsReady=!0,Object.keys(n._requests).forEach(function(e){n.websocket.send(n._requests[e].payload)})},n.websocket.onmessage=function(e){var t=e.data,r=JSON.parse(t);if(null!=r.id){var o=String(r.id),s=n._requests[o];if(delete n._requests[o],r.result!==undefined)s.callback(null,r.result),n.emit("debug",{action:"response",request:JSON.parse(s.payload),response:r.result,provider:n});else{var a=null;r.error?(a=new Error(r.error.message||"unknown error"),(0,c.defineReadOnly)(a,"code",r.error.code||null),(0,c.defineReadOnly)(a,"response",t)):a=new Error("unknown error"),s.callback(a,undefined),n.emit("debug",{action:"response",error:a,request:JSON.parse(s.payload),provider:n})}}else if("eth_subscription"===r.method){var i=n._subs[r.params.subscription];i&&i.processFunc(r.params.result)}else console.warn("this should not happen")};var o=setInterval(function(){n.emit("poll")},1e3);return o.unref&&o.unref(),n}return o(t,e),Object.defineProperty(t.prototype,"websocket",{get:function(){return this._websocket},enumerable:!1,configurable:!0}),t.prototype.detectNetwork=function(){return this._detectNetwork},Object.defineProperty(t.prototype,"pollingInterval",{get:function(){return 0},set:function(e){h.throwError("cannot set polling interval on WebSocketProvider",d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})},enumerable:!1,configurable:!0}),t.prototype.resetEventsBlock=function(e){h.throwError("cannot reset events block on WebSocketProvider",d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})},t.prototype.poll=function(){return s(this,void 0,void 0,function(){return a(this,function(e){return[2,null]})})},Object.defineProperty(t.prototype,"polling",{set:function(e){e&&h.throwError("cannot set polling on WebSocketProvider",d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})},enumerable:!1,configurable:!0}),t.prototype.send=function(e,t){var r=this,n=f++;return new Promise(function(o,s){var a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});r.emit("debug",{action:"request",request:JSON.parse(a),provider:r}),r._requests[String(n)]={callback:function(e,t){return e?s(e):o(t)},payload:a},r._wsReady&&r.websocket.send(a)})},t.defaultUrl=function(){return"ws://localhost:8546"},t.prototype._subscribe=function(e,t,r){return s(this,void 0,void 0,function(){var n,o,s=this;return a(this,function(a){switch(a.label){case 0:return null==(n=this._subIds[e])&&(n=Promise.all(t).then(function(e){return s.send("eth_subscribe",e)}),this._subIds[e]=n),[4,n];case 1:return o=a.sent(),this._subs[o]={tag:e,processFunc:r},[2]}})})},t.prototype._startEvent=function(e){var t=this;switch(e.type){case"block":this._subscribe("block",["newHeads"],function(e){var r=i.BigNumber.from(e.number).toNumber();t._emitted.block=r,t.emit("block",r)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],function(e){t.emit("pending",e)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],function(r){null==r.removed&&(r.removed=!1),t.emit(e.filter,t.formatter.filterLog(r))});break;case"tx":var r=function(e){var r=e.hash;t.getTransactionReceipt(r).then(function(e){e&&t.emit(r,e)})};r(e),this._subscribe("tx",["newHeads"],function(e){t._events.filter(function(e){return"tx"===e.type}).forEach(r)});break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}},t.prototype._stopEvent=function(e){var t=this,r=e.tag;if("tx"===e.type){if(this._events.filter(function(e){return"tx"===e.type}).length)return;r="tx"}else if(this.listenerCount(e.event))return;var n=this._subIds[r];n&&(delete this._subIds[r],n.then(function(e){t._subs[e]&&(delete t._subs[e],t.send("eth_unsubscribe",[e]))}))},t.prototype.destroy=function(){return s(this,void 0,void 0,function(){var e=this;return a(this,function(t){switch(t.label){case 0:return this.websocket.readyState!==l.WebSocket.CONNECTING?[3,2]:[4,new Promise(function(t){e.websocket.onopen=function(){t(!0)},e.websocket.onerror=function(){t(!1)}})];case 1:t.sent(),t.label=2;case 2:return this.websocket.close(1e3),[2]}})})},t}(u.JsonRpcProvider);r.WebSocketProvider=g}}},{package:"@ethersproject/providers",file:"node_modules/@ethersproject/providers/lib/websocket-provider.js"}],[769,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",o={},s=0;s<32;s++){var a=n.charAt(s);if(o[a]!==undefined)throw new TypeError(a+" is ambiguous");o[a]=s}function i(e){var t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function c(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}for(t=i(t),r=0;r<e.length;++r){var o=e.charCodeAt(r);t=i(t)^31&o}return t}function u(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var s=(e=r).lastIndexOf("1");if(-1===s)return"No separator character for "+e;if(0===s)return"Missing prefix for "+e;var a=e.slice(0,s),u=e.slice(s+1);if(u.length<6)return"Data too short";var l=c(a);if("string"==typeof l)return l;for(var d=[],p=0;p<u.length;++p){var h=u.charAt(p),f=o[h];if(f===undefined)return"Unknown character "+h;l=i(l)^f,p+6>=u.length||d.push(f)}return 1!==l?"Invalid checksum for "+e:{prefix:a,words:d}}function l(e,t,r,n){for(var o=0,s=0,a=(1<<r)-1,i=[],c=0;c<e.length;++c)for(o=o<<t|e[c],s+=t;s>=r;)s-=r,i.push(o>>s&a);if(n)s>0&&i.push(o<<r-s&a);else{if(s>=t)return"Excess padding";if(o<<r-s&a)return"Non-zero padding"}return i}t.exports={decodeUnsafe:function(){var e=u.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=u.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var o=c(e=e.toLowerCase());if("string"==typeof o)throw new Error(o);for(var s=e+"1",a=0;a<t.length;++a){var u=t[a];if(u>>5)throw new Error("Non 5-bit word");o=i(o)^u,s+=n.charAt(u)}for(a=0;a<6;++a)o=i(o);for(o^=1,a=0;a<6;++a){s+=n.charAt(o>>5*(5-a)&31)}return s},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}}}},{package:"@ethersproject/providers>bech32",file:"node_modules/@ethersproject/providers/node_modules/bech32/index.js"}],[770,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="random/5.8.0"}}},{package:"ethers>@ethersproject/random",file:"node_modules/@ethersproject/random/lib/_version.js"}],[771,{"./_version":770,"@ethersproject/bytes":714,"@ethersproject/logger":742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=void 0;var n=e("@ethersproject/bytes"),o=e("@ethersproject/logger"),s=e("./_version"),a=new o.Logger(s.version);var i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),c=i.crypto||i.msCrypto;c&&c.getRandomValues||(a.warn("WARNING: Missing strong random number source"),c={getRandomValues:function(e){return a.throwError("no secure random source avaialble",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}),r.randomBytes=function(e){(e<=0||e>1024||e%1||e!=e)&&a.throwArgumentError("invalid length","length",e);var t=new Uint8Array(e);return c.getRandomValues(t),(0,n.arrayify)(t)}}}},{package:"ethers>@ethersproject/random",file:"node_modules/@ethersproject/random/lib/browser-random.js"}],[772,{"./random":771,"./shuffle":773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shuffled=r.randomBytes=void 0;var n=e("./random");Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return n.randomBytes}});var o=e("./shuffle");Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return o.shuffled}})}}},{package:"ethers>@ethersproject/random",file:"node_modules/@ethersproject/random/lib/index.js"}],[773,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shuffled=void 0,r.shuffled=function(e){for(var t=(e=e.slice()).length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}}}},{package:"ethers>@ethersproject/random",file:"node_modules/@ethersproject/random/lib/shuffle.js"}],[774,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="rlp/5.8.0"}}},{package:"ethers>@ethersproject/rlp",file:"node_modules/@ethersproject/rlp/lib/_version.js"}],[775,{"./_version":774,"@ethersproject/bytes":714,"@ethersproject/logger":742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=void 0;var n=e("@ethersproject/bytes"),o=e("@ethersproject/logger"),s=e("./_version"),a=new o.Logger(s.version);function i(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function c(e,t,r){for(var n=0,o=0;o<r;o++)n=256*n+e[t+o];return n}function u(e){if(Array.isArray(e)){var t=[];if(e.forEach(function(e){t=t.concat(u(e))}),t.length<=55)return t.unshift(192+t.length),t;var r=i(t.length);return r.unshift(247+r.length),r.concat(t)}(0,n.isBytesLike)(e)||a.throwArgumentError("RLP object must be BytesLike","object",e);var o=Array.prototype.slice.call((0,n.arrayify)(e));if(1===o.length&&o[0]<=127)return o;if(o.length<=55)return o.unshift(128+o.length),o;var s=i(o.length);return s.unshift(183+s.length),s.concat(o)}function l(e,t,r,n){for(var s=[];r<t+1+n;){var i=d(e,r);s.push(i.result),(r+=i.consumed)>t+1+n&&a.throwError("child data too short",o.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:s}}function d(e,t){if(0===e.length&&a.throwError("data too short",o.Logger.errors.BUFFER_OVERRUN,{}),e[t]>=248){t+1+(i=e[t]-247)>e.length&&a.throwError("data short segment too short",o.Logger.errors.BUFFER_OVERRUN,{});var r=c(e,t+1,i);return t+1+i+r>e.length&&a.throwError("data long segment too short",o.Logger.errors.BUFFER_OVERRUN,{}),l(e,t,t+1+i,i+r)}if(e[t]>=192){var s=e[t]-192;return t+1+s>e.length&&a.throwError("data array too short",o.Logger.errors.BUFFER_OVERRUN,{}),l(e,t,t+1,s)}if(e[t]>=184){var i;t+1+(i=e[t]-183)>e.length&&a.throwError("data array too short",o.Logger.errors.BUFFER_OVERRUN,{});var u=c(e,t+1,i);return t+1+i+u>e.length&&a.throwError("data array too short",o.Logger.errors.BUFFER_OVERRUN,{}),{consumed:1+i+u,result:(0,n.hexlify)(e.slice(t+1+i,t+1+i+u))}}if(e[t]>=128){var d=e[t]-128;return t+1+d>e.length&&a.throwError("data too short",o.Logger.errors.BUFFER_OVERRUN,{}),{consumed:1+d,result:(0,n.hexlify)(e.slice(t+1,t+1+d))}}return{consumed:1,result:(0,n.hexlify)(e[t])}}r.encode=function(e){return(0,n.hexlify)(u(e))},r.decode=function(e){var t=(0,n.arrayify)(e),r=d(t,0);return r.consumed!==t.length&&a.throwArgumentError("invalid rlp data","data",e),r.result}}}},{package:"ethers>@ethersproject/rlp",file:"node_modules/@ethersproject/rlp/lib/index.js"}],[776,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="sha2/5.8.0"}}},{package:"ethers>@ethersproject/sha2",file:"node_modules/@ethersproject/sha2/lib/_version.js"}],[777,{"./_version":776,"./types":779,"@ethersproject/bytes":714,"@ethersproject/logger":742,"hash.js":4380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.computeHmac=r.sha512=r.sha256=r.ripemd160=void 0;var o=n(e("hash.js")),s=e("@ethersproject/bytes"),a=e("./types"),i=e("@ethersproject/logger"),c=e("./_version"),u=new i.Logger(c.version);r.ripemd160=function(e){return"0x"+o.default.ripemd160().update((0,s.arrayify)(e)).digest("hex")},r.sha256=function(e){return"0x"+o.default.sha256().update((0,s.arrayify)(e)).digest("hex")},r.sha512=function(e){return"0x"+o.default.sha512().update((0,s.arrayify)(e)).digest("hex")},r.computeHmac=function(e,t,r){return a.SupportedAlgorithm[e]||u.throwError("unsupported algorithm "+e,i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+o.default.hmac(o.default[e],(0,s.arrayify)(t)).update((0,s.arrayify)(r)).digest("hex")}}}},{package:"ethers>@ethersproject/sha2",file:"node_modules/@ethersproject/sha2/lib/browser-sha2.js"}],[778,{"./sha2":777,"./types":779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SupportedAlgorithm=r.sha512=r.sha256=r.ripemd160=r.computeHmac=void 0;var n=e("./sha2");Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return n.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return n.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return n.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return n.sha512}});var o=e("./types");Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return o.SupportedAlgorithm}})}}},{package:"ethers>@ethersproject/sha2",file:"node_modules/@ethersproject/sha2/lib/index.js"}],[779,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SupportedAlgorithm=void 0,function(e){e.sha256="sha256",e.sha512="sha512"}(r.SupportedAlgorithm||(r.SupportedAlgorithm={}))}}},{package:"ethers>@ethersproject/sha2",file:"node_modules/@ethersproject/sha2/lib/types.js"}],[780,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="signing-key/5.8.0"}}},{package:"ethers>@ethersproject/signing-key",file:"node_modules/@ethersproject/signing-key/lib/_version.js"}],[7800,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0}),r.SubmitClaimError=void 0;class o extends Error{constructor(e,t){super(e),n(this,"data",void 0),this.name="SubmitClaimError",this.data=t}}r.SubmitClaimError=o}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claim-error.ts"}],[781,{elliptic:4053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.EC=void 0;var o=n(e("elliptic")).default.ec;r.EC=o}}},{package:"ethers>@ethersproject/signing-key",file:"node_modules/@ethersproject/signing-key/lib/elliptic.js"}],[782,{"./_version":780,"./elliptic":781,"@ethersproject/bytes":714,"@ethersproject/logger":742,"@ethersproject/properties":748},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.computePublicKey=r.recoverPublicKey=r.SigningKey=void 0;var n=e("./elliptic"),o=e("@ethersproject/bytes"),s=e("@ethersproject/properties"),a=e("@ethersproject/logger"),i=e("./_version"),c=new a.Logger(i.version),u=null;function l(){return u||(u=new n.EC("secp256k1")),u}var d=function(){function e(e){(0,s.defineReadOnly)(this,"curve","secp256k1"),(0,s.defineReadOnly)(this,"privateKey",(0,o.hexlify)(e)),32!==(0,o.hexDataLength)(this.privateKey)&&c.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var t=l().keyFromPrivate((0,o.arrayify)(this.privateKey));(0,s.defineReadOnly)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,s.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,s.defineReadOnly)(this,"_isSigningKey",!0)}return e.prototype._addPoint=function(e){var t=l().keyFromPublic((0,o.arrayify)(this.publicKey)),r=l().keyFromPublic((0,o.arrayify)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")},e.prototype.signDigest=function(e){var t=l().keyFromPrivate((0,o.arrayify)(this.privateKey)),r=(0,o.arrayify)(e);32!==r.length&&c.throwArgumentError("bad digest length","digest",e);var n=t.sign(r,{canonical:!0});return(0,o.splitSignature)({recoveryParam:n.recoveryParam,r:(0,o.hexZeroPad)("0x"+n.r.toString(16),32),s:(0,o.hexZeroPad)("0x"+n.s.toString(16),32)})},e.prototype.computeSharedSecret=function(e){var t=l().keyFromPrivate((0,o.arrayify)(this.privateKey)),r=l().keyFromPublic((0,o.arrayify)(p(e)));return(0,o.hexZeroPad)("0x"+t.derive(r.getPublic()).toString(16),32)},e.isSigningKey=function(e){return!(!e||!e._isSigningKey)},e}();function p(e,t){var r=(0,o.arrayify)(e);if(32===r.length){var n=new d(r);return t?"0x"+l().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?(0,o.hexlify)(r):"0x"+l().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+l().keyFromPublic(r).getPublic(!0,"hex"):(0,o.hexlify)(r):c.throwArgumentError("invalid public or private key","key","[REDACTED]")}r.SigningKey=d,r.recoverPublicKey=function(e,t){var r=(0,o.splitSignature)(t),n={r:(0,o.arrayify)(r.r),s:(0,o.arrayify)(r.s)};return"0x"+l().recoverPubKey((0,o.arrayify)(e),n,r.recoveryParam).encode("hex",!1)},r.computePublicKey=p}}},{package:"ethers>@ethersproject/signing-key",file:"node_modules/@ethersproject/signing-key/lib/index.js"}],[783,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="solidity/5.8.0"}}},{package:"ethers>@ethersproject/solidity",file:"node_modules/@ethersproject/solidity/lib/_version.js"}],[784,{"./_version":783,"@ethersproject/bignumber":712,"@ethersproject/bytes":714,"@ethersproject/keccak256":740,"@ethersproject/logger":742,"@ethersproject/sha2":778,"@ethersproject/strings":788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=r.keccak256=r.pack=void 0;var n=e("@ethersproject/bignumber"),o=e("@ethersproject/bytes"),s=e("@ethersproject/keccak256"),a=e("@ethersproject/sha2"),i=e("@ethersproject/strings"),c=new RegExp("^bytes([0-9]+)$"),u=new RegExp("^(u?int)([0-9]*)$"),l=new RegExp("^(.*)\\[([0-9]*)\\]$"),d=e("@ethersproject/logger"),p=e("./_version"),h=new d.Logger(p.version);function f(e,t,r){switch(e){case"address":return r?(0,o.zeroPad)(t,32):(0,o.arrayify)(t);case"string":return(0,i.toUtf8Bytes)(t);case"bytes":return(0,o.arrayify)(t);case"bool":return t=t?"0x01":"0x00",r?(0,o.zeroPad)(t,32):(0,o.arrayify)(t)}var s=e.match(u);if(s){var a=parseInt(s[2]||"256");return(s[2]&&String(a)!==s[2]||a%8!=0||0===a||a>256)&&h.throwArgumentError("invalid number type","type",e),r&&(a=256),t=n.BigNumber.from(t).toTwos(a),(0,o.zeroPad)(t,a/8)}if(s=e.match(c)){a=parseInt(s[1]);return(String(a)!==s[1]||0===a||a>32)&&h.throwArgumentError("invalid bytes type","type",e),(0,o.arrayify)(t).byteLength!==a&&h.throwArgumentError("invalid value for "+e,"value",t),r?(0,o.arrayify)((t+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):t}if((s=e.match(l))&&Array.isArray(t)){var d=s[1];parseInt(s[2]||String(t.length))!=t.length&&h.throwArgumentError("invalid array length for "+e,"value",t);var p=[];return t.forEach(function(e){p.push(f(d,e,!0))}),(0,o.concat)(p)}return h.throwArgumentError("invalid type","type",e)}function g(e,t){e.length!=t.length&&h.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);var r=[];return e.forEach(function(e,n){r.push(f(e,t[n]))}),(0,o.hexlify)((0,o.concat)(r))}r.pack=g,r.keccak256=function(e,t){return(0,s.keccak256)(g(e,t))},r.sha256=function(e,t){return(0,a.sha256)(g(e,t))}}}},{package:"ethers>@ethersproject/solidity",file:"node_modules/@ethersproject/solidity/lib/index.js"}],[785,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="strings/5.8.0"}}},{package:"ethers>@ethersproject/strings",file:"node_modules/@ethersproject/strings/lib/_version.js"}],[786,{"./utf8":789,"@ethersproject/bytes":714,"@ethersproject/constants":718},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseBytes32String=r.formatBytes32String=void 0;var n=e("@ethersproject/constants"),o=e("@ethersproject/bytes"),s=e("./utf8");r.formatBytes32String=function(e){var t=(0,s.toUtf8Bytes)(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,o.hexlify)((0,o.concat)([t,n.HashZero]).slice(0,32))},r.parseBytes32String=function(e){var t=(0,o.arrayify)(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");for(var r=31;0===t[r-1];)r--;return(0,s.toUtf8String)(t.slice(0,r))}}}},{package:"ethers>@ethersproject/strings",file:"node_modules/@ethersproject/strings/lib/bytes32.js"}],[7863,{"../../store/background-connection":7917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.estimateGasFee=function(e){return(0,n.submitRequestToBackground)("estimateGasFee",[e])};var n=e("../../store/background-connection")}}},{package:"$root$",file:"ui/pages/swaps/swaps.util.gas.ts"}],[7864,{"../../../shared/constants/common":5601,"../../../shared/constants/network":5617,"../../../shared/constants/swaps":5633,"../../../shared/lib/fetch-with-cache":5692,"../../../shared/lib/swaps-utils":5715,"../../../shared/lib/transactions-controller-utils":5720,"../../../shared/modules/conversion.utils":5732,"../../../shared/modules/hexstring-utils":5741,"../../../shared/modules/swaps.utils":5762,"../../helpers/utils/confirm-tx.util":6927,"./swaps.util.gas":7863,"bignumber.js":3768},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.countDecimals=r.TOKEN_VALIDATORS=r.StxErrorTypes=void 0,r.fetchAggregatorMetadata=async function(e){const t=(0,p.getBaseApi)("aggregatorMetadata",e),r=await(0,u.default)({url:t,fetchOptions:{method:"GET",headers:_},cacheOptions:{cacheRefreshTime:m},functionName:"fetchAggregatorMetadata"}),n={};for(const e in r)(0,p.validateData)(S,r[e],t)&&(n[e]=r[e]);return n},r.fetchBlockedTokens=async function(e){const t=(0,p.getBaseApi)("blockedTokens",e);return await(0,u.default)({url:`${t}`,fetchOptions:{method:"GET",headers:_},cacheOptions:{cacheRefreshTime:m},functionName:"fetchBlockedTokens"})},r.fetchSwapsFeatureFlags=async function(){const e=s.SWAPS_API_V2_BASE_URL;return await(0,u.default)({url:`${e}/featureFlags`,fetchOptions:{method:"GET",headers:_},cacheOptions:{cacheRefreshTime:6e5},functionName:"fetchSwapsFeatureFlags"})},r.fetchSwapsGasPrices=async function(e){const t=(0,p.getBaseApi)("gasPrices",e),r=await(0,u.default)({url:t,fetchOptions:{method:"GET",headers:_},cacheOptions:{cacheRefreshTime:3e4},functionName:"fetchSwapsGasPrices"});if(!(0,p.validateData)(y,r,t))throw new Error(`${t} response is invalid`);const{SafeGasPrice:n,ProposeGasPrice:o,FastGasPrice:s}=r;return{safeLow:n,average:o,fast:s}},r.fetchToken=async function(e,t){const r=(0,p.getBaseApi)("token",t);return await(0,u.default)({url:`${r}?address=${e}`,fetchOptions:{method:"GET",headers:_},cacheOptions:{cacheRefreshTime:m},functionName:"fetchToken"})},r.fetchTokenPrice=async function(e){var t;const r=`spot-prices?tokenAddresses=${e}&vsCurrency=eth&includeMarketData=false`,n=await(0,u.default)({url:`https://price.api.cx.metamask.io/v2/chains/1/${r}`,fetchOptions:{method:"GET"},cacheOptions:{cacheRefreshTime:6e4},functionName:"fetchTokenPrice"});return null==n||null===(t=n[e])||void 0===t?void 0:t.eth},r.fetchTokens=async function(e){const t=(0,p.getBaseApi)("tokens",e),r=await(0,u.default)({url:t,fetchOptions:{method:"GET",headers:_},cacheOptions:{cacheRefreshTime:m},functionName:"fetchTokens"});return[s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e]||null,...r.filter(r=>(0,p.validateData)(v,r,t,false)&&!((0,a.isSwapsDefaultTokenSymbol)(r.symbol,e)||(0,a.isSwapsDefaultTokenAddress)(r.address,e)))]},r.fetchTopAssets=async function(e){const t=await N(e);return t.reduce((e,t,r)=>({...e,[t.address]:{index:String(r)}}),{})},r.fetchTopAssetsList=N,r.formatSwapsValueForDisplay=O,r.getNetworkNameByChainId=r.getFeeForSmartTransaction=r.getClassNameForCharLength=void 0,r.getRenderableNetworkFeesForQuote=I,r.getSwapsLivenessForNetwork=r.getSwap1559GasFeeEstimates=void 0,r.getTransaction1559GasFeeEstimates=C,r.parseSmartTransactionsError=r.isContractAddressValid=r.getTranslatedStxErrorMessage=void 0,r.quotesToRenderableData=function({quotes:e,gasPriceTrade:t,gasPriceApprove:r,conversionRate:n,currentCurrency:s,approveGas:i,tokenConversionRates:c,chainId:u,smartTransactionEstimatedGas:l,nativeCurrencySymbol:p,multiLayerL1ApprovalFeeTotal:f}){return Object.values(e).map(e=>{const{destinationAmount:g=0,sourceAmount:m=0,sourceTokenInfo:E,destinationTokenInfo:_,slippage:v,aggType:T,aggregator:S,gasEstimateWithRefund:b,averageGas:y,fee:N,trade:k,multiLayerL1TradeFeeTotal:w}=e;let C=null;null!==w&&null!==f?C=(0,h.sumHexes)(w||"0x0",f||"0x0"):null!==w&&(C=w);const R=(0,d.calcTokenAmount)(m,E.decimals).toString(10),P=(0,d.calcTokenAmount)(g,_.decimals).toPrecision(8);let D=null,M=null,L=null,j=null;({feeInFiat:D,feeInEth:M,rawNetworkFees:L,rawEthFee:j}=I({tradeGas:b||(0,h.decimalToHex)(y||8e5),approveGas:i,gasPriceTrade:t,gasPriceApprove:r,currentCurrency:s,conversionRate:n,tradeValue:k.value,sourceSymbol:E.symbol,sourceAmount:m,chainId:u,multiLayerL1FeeTotal:C})),l&&({feeInFiat:D,feeInEth:M}=A({chainId:u,currentCurrency:s,conversionRate:n,nativeCurrencySymbol:p,feeInWeiDec:l.feeEstimate}));const B=new o.BigNumber(100-v).div(100),x=new o.BigNumber(P).times(B).toFixed(6),F=c[_.address],U=(0,a.isSwapsDefaultTokenSymbol)(_.symbol,u)?(0,d.calcTokenAmount)(g,_.decimals).minus(j,10):new o.BigNumber(F||0,10).times((0,d.calcTokenAmount)(g,_.decimals),10).minus(j,10);let G,H=v;return"AGG"===T?G="swapAggregator":"RFQ"===T?(G="swapRequestForQuotation",H=0):G="DEX"===T?"swapDecentralizedExchange":"CONTRACT"===T?"swapDirectContract":"swapUnknown",{aggId:S,amountReceiving:`${P} ${_.symbol}`,destinationTokenDecimals:_.decimals,destinationTokenSymbol:_.symbol,destinationTokenValue:O(P),destinationIconUrl:_.iconUrl,isBestQuote:e.isBestQuote,liquiditySourceKey:G,feeInEth:M,detailedNetworkFees:`${M} (${D})`,networkFees:D,quoteSource:T,rawNetworkFees:L,slippage:H,sourceTokenDecimals:E.decimals,sourceTokenSymbol:E.symbol,sourceTokenValue:R,sourceTokenIconUrl:E.iconUrl,ethValueOfTrade:U,minimumAmountReceived:x,metaMaskFee:N}})},r.showRemainingTimeInMinAndSec=void 0;var n,o=e("bignumber.js"),s=e("../../../shared/constants/swaps"),a=e("../../../shared/modules/swaps.utils"),i=e("../../../shared/constants/network"),c=e("../../helpers/utils/confirm-tx.util"),u=(n=e("../../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},l=e("../../../shared/modules/hexstring-utils"),d=e("../../../shared/lib/transactions-controller-utils"),p=e("../../../shared/lib/swaps-utils"),h=e("../../../shared/modules/conversion.utils"),f=e("../../../shared/constants/common"),g=e("./swaps.util.gas");const m=3e5,E="usd",_={"X-Client-Id":s.SWAPS_CLIENT_ID},v=r.TOKEN_VALIDATORS=[{property:"address",type:"string",validator:e=>(0,l.isValidHexAddress)(e,{allowNonPrefixed:!1})},{property:"symbol",type:"string",validator:e=>(0,p.truthyString)(e)&&e.length<=12},{property:"decimals",type:"string|number",validator:e=>Number(e)>=0&&Number(e)<=36}],T=v.slice(0,2),S=[{property:"color",type:"string",validator:e=>Boolean(e.match(/^#[A-Fa-f0-9]+$/u))},{property:"title",type:"string",validator:p.truthyString},{property:"icon",type:"string",validator:e=>Boolean(e.match(/^data:image/u))}],b=e=>!isNaN(e)&&e.match(/^[.0-9]+$/u)&&!isNaN(parseFloat(e)),y=[{property:"SafeGasPrice",type:"string",validator:b},{property:"ProposeGasPrice",type:"string",validator:b},{property:"FastGasPrice",type:"string",validator:b}];async function N(e){if(!Object.values(i.CHAIN_IDS).includes(e))return[];const t=(0,p.getBaseApi)("topAssets",e);return(await(0,u.default)({url:t,functionName:"fetchTopAssets",fetchOptions:{method:"GET",headers:_},cacheOptions:{cacheRefreshTime:m}})||[]).filter(e=>(0,p.validateData)(T,e,t))}const A=({chainId:e,currentCurrency:t,conversionRate:r,USDConversionRate:n,nativeCurrencySymbol:o,feeInWeiDec:a})=>{var i;const u=(0,h.decimalToHex)(a),l=(0,h.getValueFromWeiHex)({value:u,toDenomination:f.EtherDenomination.ETH,numberOfDecimals:5}),d=(0,h.getValueFromWeiHex)({value:u,toCurrency:t,conversionRate:r,numberOfDecimals:2});let p;p=t===E?d:(0,h.getValueFromWeiHex)({value:u,toCurrency:E,conversionRate:n,numberOfDecimals:2});return{rawNetworkFees:d,feeInUsd:p,feeInFiat:(0,c.formatCurrency)(d,t),feeInEth:`${l} ${o||(null===(i=s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e])||void 0===i?void 0:i.symbol)}`,rawEthFee:l}};function I({tradeGas:e,approveGas:t,gasPriceTrade:r,gasPriceApprove:n,currentCurrency:i,conversionRate:u,USDConversionRate:l,tradeValue:p,sourceSymbol:g,sourceAmount:m,chainId:_,nativeCurrencySymbol:v,multiLayerL1FeeTotal:T}){const S=(0,d.calcGasTotal)(e,r),b=t?(0,d.calcGasTotal)(t,n):"0x0",y=(0,h.sumHexes)(S,b,T||"0x0"),N=new o.BigNumber(p,16).minus((0,a.isSwapsDefaultTokenSymbol)(g,_)?m:0,10).toString(16),A=new o.BigNumber(y,16).plus(N,16).toString(16),I=(0,h.getValueFromWeiHex)({value:A,toDenomination:f.EtherDenomination.ETH,numberOfDecimals:5}),O=(0,h.getValueFromWeiHex)({value:A,toCurrency:i,conversionRate:u,numberOfDecimals:2}),k=(0,c.formatCurrency)(O,i);let w;w=i===E?O:(0,h.getValueFromWeiHex)({value:A,toCurrency:E,conversionRate:l,numberOfDecimals:2});return{rawNetworkFees:O,feeInUsd:w,rawEthFee:I,feeInFiat:k,feeInEth:`${I} ${v||s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[_].symbol}`,nonGasFee:N}}function O(e){let t;return t="string"==typeof e&&e.includes("...")?e:(0,d.toPrecisionWithoutTrailingZeros)(e,12),t.match(/e[+-]/u)&&(t=new o.BigNumber(t).toFixed()),t}r.getFeeForSmartTransaction=A;r.getClassNameForCharLength=(e,t)=>{let r;return r=!e||e.length<=10?"lg":e.length>10&&e.length<=13?"md":"sm",`${t}--${r}`};r.isContractAddressValid=(e,t)=>!(!e||!s.ALLOWED_CONTRACT_ADDRESSES[t])&&s.ALLOWED_CONTRACT_ADDRESSES[t].some(t=>e.toLowerCase()===t.toLowerCase());const k=e=>{switch(e){case i.CHAIN_IDS.MAINNET:return s.ETHEREUM;case i.CHAIN_IDS.BSC:return s.BSC;case i.CHAIN_IDS.POLYGON:return s.POLYGON;case i.CHAIN_IDS.GOERLI:return s.GOERLI;case i.CHAIN_IDS.AVALANCHE:return s.AVALANCHE;case i.CHAIN_IDS.OPTIMISM:return s.OPTIMISM;case i.CHAIN_IDS.ARBITRUM:return s.ARBITRUM;case i.CHAIN_IDS.ZKSYNC_ERA:return s.ZKSYNC_ERA;case i.CHAIN_IDS.LINEA_MAINNET:return s.LINEA;case i.CHAIN_IDS.BASE:return s.BASE;case i.CHAIN_IDS.SEI:return s.SEI;default:return""}};r.getNetworkNameByChainId=k;r.getSwapsLivenessForNetwork=(e,t={})=>{const r=k(e);if([i.CHAIN_IDS.LOCALHOST,i.CHAIN_IDS.GOERLI].includes(e))return{swapsFeatureIsLive:!0};if(!t[r])return{swapsFeatureIsLive:!1};return t[r].extensionActive?{swapsFeatureIsLive:!0}:{swapsFeatureIsLive:t[r].fallbackToV1}};r.countDecimals=e=>{var t;return e&&Math.floor(e)!==e&&(null===(t=e.toString().split(".")[1])||void 0===t?void 0:t.length)||0};r.showRemainingTimeInMinAndSec=e=>{if(!Number.isInteger(e))return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`};let w=r.StxErrorTypes=function(e){return e.unavailable="unavailable",e.notEnoughFunds="not_enough_funds",e.regularTxPending="regular_tx_pending",e}({});r.getTranslatedStxErrorMessage=(e,t)=>{switch(e){case w.unavailable:case w.regularTxPending:return t("smartSwapsErrorUnavailable");case w.notEnoughFunds:return t("smartSwapsErrorNotEnoughFunds");default:return t("smartSwapsErrorUnavailable")}};r.parseSmartTransactionsError=e=>{const t=e.slice(12);return JSON.parse(t.trim())};async function C(e,t,r){const n=await(0,g.estimateGasFee)({transactionParams:e,chainId:r}),o=null==n?void 0:n.estimates,{maxFeePerGas:s}=(null==o?void 0:o.high)??{},{maxPriorityFeePerGas:a}=(null==o?void 0:o.high)??{};return{baseAndPriorityFeePerGas:a?(0,h.addHexes)(t,a):undefined,maxFeePerGas:s,maxPriorityFeePerGas:a}}r.getSwap1559GasFeeEstimates=async(e,t,r,n)=>{const o=(0,h.decGWEIToHexWEI)(r);return{tradeGasFeeEstimates:await C(e,o,n),approveGasFeeEstimates:t?await C(t,o,n):undefined,estimatedBaseFee:o}}}}},{package:"$root$",file:"ui/pages/swaps/swaps.util.ts"}],[787,{"./utf8":789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nameprep=r._nameprepTableC=r._nameprepTableB2=r._nameprepTableA1=void 0;var n=e("./utf8");function o(e,t){t||(t=function(e){return[parseInt(e,16)]});var r=0,n={};return e.split(",").forEach(function(e){var o=e.split(":");r+=parseInt(o[0],16),n[r]=t(o[1])}),n}function s(e){var t=0;return e.split(",").map(function(e){var r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}})}function a(e,t){for(var r=0,n=0;n<t.length;n++){var o=t[n];if(e>=(r+=o.l)&&e<=r+o.h&&(e-r)%(o.d||1)===0){if(o.e&&-1!==o.e.indexOf(e-r))continue;return o}}return null}var i=s("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),c="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(function(e){return parseInt(e,16)}),u=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],l=o("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),d=o("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),p=o("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",function(e){if(e.length%4!=0)throw new Error("bad data");for(var t=[],r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}),h=s("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function f(e){return!!a(e,i)}function g(e){var t=a(e,u);if(t)return[e+t.s];var r=l[e];if(r)return r;var n=d[e];if(n)return[e+n[0]];var o=p[e];return o||null}function m(e){return!!a(e,h)}r._nameprepTableA1=f,r._nameprepTableB2=g,r._nameprepTableC=m,r.nameprep=function(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();var t,r=(0,n.toUtf8CodePoints)(e);t=r.map(function(e){if(c.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];var t=g(e);return t||[e]}),r=t.reduce(function(e,t){return t.forEach(function(t){e.push(t)}),e},[]),(r=(0,n.toUtf8CodePoints)((0,n._toUtf8String)(r),n.UnicodeNormalizationForm.NFKC)).forEach(function(e){if(m(e))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),r.forEach(function(e){if(f(e))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});var o=(0,n._toUtf8String)(r);if("-"===o.substring(0,1)||"--"===o.substring(2,4)||"-"===o.substring(o.length-1))throw new Error("invalid hyphen");return o}}}},{package:"ethers>@ethersproject/strings",file:"node_modules/@ethersproject/strings/lib/idna.js"}],[7875,{"../../shared/modules/selectors/util":5755,"../../shared/modules/string-utils":5761,"@metamask/keyring-api":2100,"@metamask/utils":2914,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMemoizedInternalAccountByAddress=r.getInternalAccountsObject=r.getInternalAccountsByScope=r.getInternalAccounts=void 0,r.getSelectedInternalAccount=p,r.hasCreatedSolanaAccount=function(e){return d(e).some(e=>u(e))},r.isBitcoinAccount=c,r.isNonEvmAccount=function(e){return c(e)||u(e)||l(e)},r.isSelectedInternalAccountEth=function(e){const t=p(e),{Eoa:r,Erc4337:o}=n.EthAccountType;return Boolean(t&&(t.type===r||t.type===o))},r.isSelectedInternalAccountSolana=function(e){return u(p(e))},r.isSolanaAccount=u,r.isTronAccount=l;var n=e("@metamask/keyring-api"),o=e("reselect"),s=e("@metamask/utils"),a=e("../../shared/modules/selectors/util"),i=e("../../shared/modules/string-utils");function c(e){return Boolean(e&&Object.values(n.BtcAccountType).includes(e.type))}function u(e){const{DataAccount:t}=n.SolAccountType;return Boolean(e&&e.type===t)}function l(e){const{Eoa:t}=n.TrxAccountType;return Boolean(e&&e.type===t)}const d=r.getInternalAccounts=(0,o.createSelector)(e=>Object.values(e.metamask.internalAccounts.accounts),e=>e);r.getInternalAccountsObject=(0,o.createSelector)(e=>e.metamask.internalAccounts.accounts,e=>e),r.getMemoizedInternalAccountByAddress=(0,a.createDeepEqualSelector)([d,(e,t)=>t],(e,t)=>e.find(e=>(0,i.isEqualCaseInsensitive)(e.address,t)));function p(e){const t=e.metamask.internalAccounts.selectedAccount;return e.metamask.internalAccounts.accounts[t]}r.getInternalAccountsByScope=(0,a.createDeepEqualSelector)([d,(e,t)=>t],(e,t)=>{if(!Array.isArray(e)||0===e.length)return[];let r,o;try{const e=(0,s.parseCaipChainId)(t);r=e.namespace,o=e.reference}catch{return[]}return r===s.KnownCaipNamespace.Eip155?"0"===o?e.filter(e=>Array.isArray(e.scopes)&&e.scopes.some(e=>e.startsWith(`${s.KnownCaipNamespace.Eip155}:`))):e.filter(e=>Array.isArray(e.scopes)&&(e.scopes.includes(t)||e.scopes.includes(n.EthScope.Eoa))):e.filter(e=>Array.isArray(e.scopes)&&e.scopes.includes(t))})}}},{package:"$root$",file:"ui/selectors/accounts.ts"}],[7877,{"../../shared/modules/selectors/util":5755,"@metamask/controller-utils":1383,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getApprovalFlows=function(e){return e.metamask.approvalFlows},r.getApprovalsByOrigin=r.getApprovalRequestsByType=void 0,r.getPendingApprovals=a,r.hasPendingApprovals=function(e,t,r){const n=Object.values(e.metamask.pendingApprovals).filter(({type:e})=>t.includes(e));if(r)return n.some(r);return n.length>0},r.pendingApprovalsSortedSelector=i,r.selectPendingApprovalsForNavigation=r.selectPendingApproval=void 0;var n=e("@metamask/controller-utils"),o=e("reselect"),s=e("../../shared/modules/selectors/util");function a(e){return Object.values(e.metamask.pendingApprovals??{})}function i(e){return a(e).sort((e,t)=>e.time-t.time)}r.getApprovalRequestsByType=(e,t,r)=>{const n=Object.values(e.metamask.pendingApprovals).filter(({type:e})=>e===t);return r?n.filter(r):n};r.selectPendingApprovalsForNavigation=(0,s.createDeepEqualSelector)(i,e=>e.filter((t,r)=>(!l(t)||e.findIndex(l)===r)&&(!u(t)||e.findIndex(u)===r)));const c=(0,o.createSelector)(a,(e,t)=>t,(e,t)=>e.find(({id:e})=>e===t));r.selectPendingApproval=(0,s.createDeepEqualSelector)(c,e=>e);function u(e){var t;const r=null===(t=e.requestData)||void 0===t||null===(t=t.asset)||void 0===t?void 0:t.tokenId;return e.type===n.ApprovalType.WatchAsset&&!r}function l(e){var t;const r=null===(t=e.requestData)||void 0===t||null===(t=t.asset)||void 0===t?void 0:t.tokenId;return e.type===n.ApprovalType.WatchAsset&&Boolean(r)}r.getApprovalsByOrigin=(e,t)=>{const r=a(e);return null==r?void 0:r.filter(e=>e.origin===t)}}}},{package:"$root$",file:"ui/selectors/approvals.ts"}],[7879,{"../../shared/constants/gas":5606,"../../shared/modules/conversion.utils":5732,"../../shared/modules/gas.utils":5740,"../../shared/modules/selectors/networks":5753,"../ducks/metamask/metamask":6883,"../helpers/utils/confirm-tx.util":6927,"../helpers/utils/tx-helper":6958,"./custom-gas":7880,"./selectors":7903,"./transactions":7914,"@metamask/transaction-controller":2868,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.currentCurrencySelector=r.conversionRateSelector=void 0,r.selectIsMaxValueEnabled=function(e,t){var r;return(null===(r=e.confirmTransaction.maxValueMode)||void 0===r?void 0:r[t])??!1},r.selectMaxValueModeForTransaction=function(e,t){return b(e)[t]},r.selectTransactionAvailableBalance=function(e,t,r){var n;const o=(0,f.getMetaMaskAccounts)(e,r),s=(0,g.selectTransactionSender)(e,t);return null===(n=o[s])||void 0===n?void 0:n.balance},r.selectTransactionFeeById=function(e,t){const r=(0,g.selectTransactionMetadata)(e,t);return S(e,r??{})},r.use4ByteResolutionSelector=r.unconfirmedTransactionsListSelector=r.unconfirmedTransactionsHashSelector=r.unconfirmedMessagesHashSelector=r.txDataSelector=r.transactionFeeSelector=r.tokenAddressSelector=void 0;var n,o=e("reselect"),s=e("@metamask/transaction-controller"),a=(n=e("../helpers/utils/tx-helper"))&&n.__esModule?n:{default:n},i=e("../helpers/utils/confirm-tx.util"),c=e("../ducks/metamask/metamask"),u=e("../../shared/constants/gas"),l=e("../../shared/modules/gas.utils"),d=e("../../shared/modules/conversion.utils"),p=e("../../shared/modules/selectors/networks"),h=e("./custom-gas"),f=e("./selectors"),g=e("./transactions");const m=e=>(0,g.getUnapprovedTransactions)(e);r.unconfirmedTransactionsListSelector=(0,o.createSelector)(m,g.unapprovedPersonalMsgsSelector,g.unapprovedDecryptMsgsSelector,g.unapprovedEncryptionPublicKeyMsgsSelector,g.unapprovedTypedMessagesSelector,(e={},t={},r={},n={},o={})=>(0,a.default)(e,t,r,n,o)||[]),r.unconfirmedTransactionsHashSelector=(0,o.createSelector)(m,g.unapprovedPersonalMsgsSelector,g.unapprovedDecryptMsgsSelector,g.unapprovedEncryptionPublicKeyMsgsSelector,g.unapprovedTypedMessagesSelector,(e={},t={},r={},n={},o={})=>({...e,...t,...r,...n,...o})),r.unconfirmedMessagesHashSelector=(0,o.createSelector)(g.unapprovedPersonalMsgsSelector,g.unapprovedDecryptMsgsSelector,g.unapprovedEncryptionPublicKeyMsgsSelector,g.unapprovedTypedMessagesSelector,(e={},t={},r={},n={})=>({...e,...t,...r,...n}));r.use4ByteResolutionSelector=e=>e.metamask.use4ByteResolution;const E=e=>e.metamask.currentCurrency;r.currentCurrencySelector=E;const _=e=>{var t;return null===(t=e.metamask.currencyRates[(0,p.getProviderConfig)(e).ticker])||void 0===t?void 0:t.conversionRate};r.conversionRateSelector=_;const v=e=>e.confirmTransaction.txData;r.txDataSelector=v;const T=(0,o.createSelector)(v,e=>e&&e.txParams||{}),S=(r.tokenAddressSelector=(0,o.createSelector)(T,e=>e&&e.to),function(e,t){var r,n,o,a;const p=E(e),g=_(e),m=(0,c.getNativeCurrency)(e),v=(0,c.getGasFeeEstimates)(e)||{},T=(0,c.getGasEstimateType)(e),S=(0,f.checkNetworkAndAccountSupports1559)(e),b={gasLimit:(null===(r=t.txParams)||void 0===r?void 0:r.gas)??"0x0",gasLimitNoBuffer:t.gasLimitNoBuffer};if(S){var y;const{gasPrice:e="0"}=v,r=v[t.userFeeLevel]||{};if((null===(y=t.txParams)||void 0===y?void 0:y.type)===s.TransactionEnvelopeType.legacy){var N;b.gasPrice=(null===(N=t.txParams)||void 0===N?void 0:N.gasPrice)??(0,d.decGWEIToHexWEI)(e)}else{var A,I,O,k;const{suggestedMaxPriorityFeePerGas:n,suggestedMaxFeePerGas:o}=r;b.maxFeePerGas=null===(A=t.txParams)||void 0===A||!A.maxFeePerGas||t.userFeeLevel!==u.CUSTOM_GAS_ESTIMATE&&o?(0,d.decGWEIToHexWEI)(o||e):null===(I=t.txParams)||void 0===I?void 0:I.maxFeePerGas,b.maxPriorityFeePerGas=null===(O=t.txParams)||void 0===O||!O.maxPriorityFeePerGas||t.userFeeLevel!==u.CUSTOM_GAS_ESTIMATE&&n?n&&(0,d.decGWEIToHexWEI)(n)||b.maxFeePerGas:null===(k=t.txParams)||void 0===k?void 0:k.maxPriorityFeePerGas,b.baseFeePerGas=(0,d.decGWEIToHexWEI)(v.estimatedBaseFee)}}else switch(T){case u.GasEstimateTypes.feeMarket:case u.GasEstimateTypes.none:b.gasPrice=(null===(n=t.txParams)||void 0===n?void 0:n.gasPrice)??"0x0";break;case u.GasEstimateTypes.ethGasPrice:b.gasPrice=(null===(o=t.txParams)||void 0===o?void 0:o.gasPrice)??(0,d.decGWEIToHexWEI)(v.gasPrice);break;case u.GasEstimateTypes.legacy:b.gasPrice=(null===(a=t.txParams)||void 0===a?void 0:a.gasPrice)??(0,h.getAveragePriceEstimateInHexWEI)(e)}const{txParams:{value:w="0x0"}={}}=t,C=(0,d.getValueFromWeiHex)({value:w,fromCurrency:m,toCurrency:p,conversionRate:g,numberOfDecimals:2}),R=(0,d.getValueFromWeiHex)({value:w,fromCurrency:m,toCurrency:m,conversionRate:g,numberOfDecimals:6}),P=(0,l.getMinimumGasTotalInHexWei)(b),D=(0,l.getMaximumGasTotalInHexWei)(b),M=(0,i.getTransactionFee)({value:P,fromCurrency:m,toCurrency:p,numberOfDecimals:2,conversionRate:g}),L=(0,i.getTransactionFee)({value:D,fromCurrency:m,toCurrency:p,numberOfDecimals:2,conversionRate:g}),j=(0,i.getTransactionFee)({value:P,fromCurrency:m,toCurrency:m,numberOfDecimals:6,conversionRate:g});return{hexTransactionAmount:w,fiatTransactionAmount:C,ethTransactionAmount:R,hexMinimumTransactionFee:P,fiatMinimumTransactionFee:M,hexMaximumTransactionFee:D,fiatMaximumTransactionFee:L,ethTransactionFee:j,fiatTransactionTotal:(0,i.addFiat)(M,C),ethTransactionTotal:(0,i.addEth)(j,R),hexTransactionTotal:(0,d.sumHexes)(w,P),gasEstimationObject:b}});r.transactionFeeSelector=S;const b=e=>e.confirmTransaction.maxValueMode}}},{package:"$root$",file:"ui/selectors/confirm-transaction.js"}],[788,{"./bytes32":786,"./idna":787,"./utf8":789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nameprep=r.parseBytes32String=r.formatBytes32String=r.UnicodeNormalizationForm=r.Utf8ErrorReason=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=void 0;var n=e("./bytes32");Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return n.formatBytes32String}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return n.parseBytes32String}});var o=e("./idna");Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return o.nameprep}});var s=e("./utf8");Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return s._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return s.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return s.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return s.toUtf8String}}),Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return s.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return s.Utf8ErrorFuncs}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return s.Utf8ErrorReason}})}}},{package:"ethers>@ethersproject/strings",file:"node_modules/@ethersproject/strings/lib/index.js"}],[7880,{"../../app/scripts/lib/util":353,"../../shared/constants/common":5601,"../../shared/constants/gas":5606,"../../shared/lib/transactions-controller-utils":5720,"../../shared/modules/Numeric":5727,"../../shared/modules/conversion.utils":5732,"../ducks/metamask/metamask":6883,"../ducks/send":6891,"../helpers/utils/confirm-tx.util":6927,"../helpers/utils/formatters":6931,"./selectors":7903},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.basicPriceEstimateToETHTotal=_,r.getAverageEstimate=m,r.getAveragePriceEstimateInHexWEI=function(e){return T(m(e))},r.getBasicGasEstimateLoadingStatus=function(e){return!1===S(e)},r.getCustomGasLimit=function(e){return e.gas.customData.limit},r.getCustomGasPrice=f,r.getDefaultActiveButtonIndex=function(e,t,r){return e.map(({priceInHexWei:e})=>e).lastIndexOf((0,n.addHexPrefix)(t||r))},r.getFastPriceEstimate=E,r.getFastPriceEstimateInHexWEI=function(e){return T(E(e)||"0x0")},r.getGasPriceInHexWei=T,r.getIsCustomNetworkGasPriceFetched=function(e){return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.ethGasPrice&&!(0,h.getIsMainnet)(e)},r.getIsGasEstimatesFetched=S,r.getNoGasPriceFetched=function(e){return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.none},r.getRenderableConvertedCurrencyFee=function(e,t,r,n){const a=_(new d.Numeric(e,10).toBase(16).toString(),t),i=(0,o.decEthToConvertedCurrency)(a,r,n);return(0,s.formatCurrency)(i,r)},r.getRenderableEthFee=function(e,t,r=9,n="ETH"){const o=_(new d.Numeric(e,10).toBase(16).toString(),t,r);return(0,a.formatETHFee)(o,n)},r.getSafeLowEstimate=g,r.isCustomPriceExcessive=function(e,t=!1){const r=t?(0,i.getGasPrice)(e):f(e),n=E(e);if(!r||!n)return!1;return new d.Numeric(r,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.GWEI).greaterThan(Math.floor(1.5*n),10)},r.isCustomPriceSafe=function(e){const t=g(e),r=f(e);if(!r)return!0;if(!t)return!1;return new d.Numeric(r,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.GWEI).greaterThan(t,10)},r.isCustomPriceSafeForCustomNetwork=function(e){const t=m(e),r=f(e);if(!r)return!0;if(!t)return!1;return new d.Numeric(r,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.GWEI).greaterThan(t,10)},r.priceEstimateToWei=v;var n=e("../../app/scripts/lib/util"),o=e("../../shared/modules/conversion.utils"),s=e("../helpers/utils/confirm-tx.util"),a=e("../helpers/utils/formatters"),i=e("../ducks/send"),c=e("../../shared/constants/gas"),u=e("../ducks/metamask/metamask"),l=e("../../shared/lib/transactions-controller-utils"),d=e("../../shared/modules/Numeric"),p=e("../../shared/constants/common"),h=e("./selectors");function f(e){return e.gas.customData.price}function g(e){const t=(0,u.getGasFeeEstimates)(e);return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.legacy?null==t?void 0:t.low:null}function m(e){const t=(0,u.getGasFeeEstimates)(e);return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.legacy?null==t?void 0:t.medium:null}function E(e){const t=(0,u.getGasFeeEstimates)(e);return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.legacy?null==t?void 0:t.high:null}function _(e,t,r=9){return new d.Numeric((0,l.calcGasTotal)(t,e),16,p.EtherDenomination.GWEI).round(r).toBase(10).toString()}function v(e){return new d.Numeric(e,16,p.EtherDenomination.GWEI).toDenomination(p.EtherDenomination.WEI).round(9).toString()}function T(e){const t=new d.Numeric(e,10).toBase(16).toString();return(0,n.addHexPrefix)(v(t))}function S(e){const t=(0,u.getGasEstimateType)(e);return!(0,u.isEIP1559Network)(e)&&t!==c.GasEstimateTypes.none}}}},{package:"$root$",file:"ui/selectors/custom-gas.js"}],[7882,{"../../shared/constants/onboarding":5620,"../../shared/modules/environment":5736,"../helpers/constants/routes":6904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getFirstTimeFlowType=void 0,r.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn=function(e){const{firstTimeFlowType:t}=e.metamask;if(t===n.FirstTimeFlowType.create)return s.ONBOARDING_COMPLETION_ROUTE;if(t===n.FirstTimeFlowType.import)return s.ONBOARDING_COMPLETION_ROUTE;if(t===n.FirstTimeFlowType.restore)return s.ONBOARDING_REVIEW_SRP_ROUTE;if(t===n.FirstTimeFlowType.socialCreate)return s.ONBOARDING_COMPLETION_ROUTE;if(t===n.FirstTimeFlowType.socialImport)return s.ONBOARDING_DOWNLOAD_APP_ROUTE;return s.DEFAULT_ROUTE},r.getFirstTimeFlowTypeRouteAfterUnlock=function(e){const{firstTimeFlowType:t}=e.metamask;if(t===n.FirstTimeFlowType.create)return s.ONBOARDING_CREATE_PASSWORD_ROUTE;if(t===n.FirstTimeFlowType.import)return s.ONBOARDING_IMPORT_WITH_SRP_ROUTE;if(t===n.FirstTimeFlowType.restore)return s.ONBOARDING_METAMETRICS;if(t===n.FirstTimeFlowType.socialCreate)return s.ONBOARDING_DOWNLOAD_APP_ROUTE;return s.DEFAULT_ROUTE},r.getOnboardingInitiator=r.getIsSocialLoginFlow=void 0;var n=e("../../shared/constants/onboarding"),o=e("../../shared/modules/environment"),s=e("../helpers/constants/routes");r.getIsSocialLoginFlow=e=>{if(!(0,o.getIsSeedlessOnboardingFeatureEnabled)())return!1;const{firstTimeFlowType:t}=e.metamask;return t===n.FirstTimeFlowType.socialCreate||t===n.FirstTimeFlowType.socialImport};r.getFirstTimeFlowType=e=>e.metamask.firstTimeFlowType;r.getOnboardingInitiator=e=>{const{onboardingTabs:t}=e.metamask;if(!t||1!==Object.keys(t).length)return null;const r=Object.keys(t)[0];return{location:r,tabId:t[r]}}}}},{package:"$root$",file:"ui/selectors/first-time-flow.js"}],[7886,{"../pages/confirmations/selectors/confirm":7571,"./accounts":7875,"./approvals":7877,"./confirm-transaction":7879,"./custom-gas":7880,"./first-time-flow":7882,"./metametrics":7888,"./multichain-accounts":7892,"./multichain/networks":7896,"./origin-throttling":7899,"./remote-feature-flags":7900,"./seedless-onboarding":7901,"./selectors":7903,"./transactions":7914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("../pages/confirmations/selectors/confirm");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))});var o=e("./confirm-transaction");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))});var s=e("./custom-gas");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))});var a=e("./first-time-flow");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))});var i=e("./metametrics");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))});var c=e("./selectors");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===c[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return c[e]}}))});var u=e("./transactions");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===u[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}}))});var l=e("./approvals");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===l[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return l[e]}}))});var d=e("./accounts");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===d[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return d[e]}}))});var p=e("./remote-feature-flags");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===p[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return p[e]}}))});var h=e("./origin-throttling");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===h[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return h[e]}}))});var f=e("./multichain/networks");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===f[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return f[e]}}))});var g=e("./multichain-accounts");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===g[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return g[e]}}))});var m=e("./seedless-onboarding");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===m[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return m[e]}}))})}}},{package:"$root$",file:"ui/selectors/index.js"}],[7888,{reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.selectMatchingFragment=r.selectFragments=r.selectFragmentBySuccessEvent=r.selectFragmentById=r.getParticipateInMetaMetrics=r.getLatestMetricsEventTimestamp=r.getIsParticipateInMetaMetricsSet=r.getDataCollectionForMarketing=void 0;var n=e("reselect");const o=e=>e.metamask.fragments;r.selectFragments=o;r.getDataCollectionForMarketing=e=>e.metamask.dataCollectionForMarketing;r.getParticipateInMetaMetrics=e=>Boolean(e.metamask.participateInMetaMetrics);r.getIsParticipateInMetaMetricsSet=e=>null!==e.metamask.participateInMetaMetrics;r.getLatestMetricsEventTimestamp=e=>e.metamask.latestNonAnonymousEventTimestamp;const s=r.selectFragmentBySuccessEvent=(0,n.createSelector)(o,(e,t)=>t,(e,t)=>t.persist?Object.values(e).find(e=>e.successEvent===t.successEvent):undefined),a=r.selectFragmentById=(0,n.createSelector)(o,(e,t)=>t,(e,t)=>t&&null!=e&&e[t]?e[t]:undefined);r.selectMatchingFragment=(0,n.createSelector)((e,t)=>s(e,t.fragmentOptions),(e,t)=>a(e,t.existingId),(e,t)=>t??e)}}},{package:"$root$",file:"ui/selectors/metametrics.js"}],[789,{"./_version":785,"@ethersproject/bytes":714,"@ethersproject/logger":742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toUtf8CodePoints=r.toUtf8String=r._toUtf8String=r._toEscapedUtf8String=r.toUtf8Bytes=r.Utf8ErrorFuncs=r.Utf8ErrorReason=r.UnicodeNormalizationForm=void 0;var n,o,s=e("@ethersproject/bytes"),a=e("@ethersproject/logger"),i=e("./_version"),c=new a.Logger(i.version);function u(e,t,r,n,s){if(e===o.BAD_PREFIX||e===o.UNEXPECTED_CONTINUE){for(var a=0,i=t+1;i<r.length&&r[i]>>6==2;i++)a++;return a}return e===o.OVERRUN?r.length-t-1:0}function l(e,t){null==t&&(t=r.Utf8ErrorFuncs.error),e=(0,s.arrayify)(e);for(var n=[],a=0;a<e.length;){var i=e[a++];if(i>>7){var c=null,u=null;if(192==(224&i))c=1,u=127;else if(224==(240&i))c=2,u=2047;else{if(240!=(248&i)){a+=t(128==(192&i)?o.UNEXPECTED_CONTINUE:o.BAD_PREFIX,a-1,e,n);continue}c=3,u=65535}if(a-1+c>=e.length)a+=t(o.OVERRUN,a-1,e,n);else{for(var l=i&(1<<8-c-1)-1,d=0;d<c;d++){var p=e[a];if(128!=(192&p)){a+=t(o.MISSING_CONTINUE,a,e,n),l=null;break}l=l<<6|63&p,a++}null!==l&&(l>1114111?a+=t(o.OUT_OF_RANGE,a-1-c,e,n,l):l>=55296&&l<=57343?a+=t(o.UTF16_SURROGATE,a-1-c,e,n,l):l<=u?a+=t(o.OVERLONG,a-1-c,e,n,l):n.push(l))}}else n.push(i)}return n}function d(e,t){void 0===t&&(t=n.current),t!=n.current&&(c.checkNormalize(),e=e.normalize(t));for(var r=[],o=0;o<e.length;o++){var a=e.charCodeAt(o);if(a<128)r.push(a);else if(a<2048)r.push(a>>6|192),r.push(63&a|128);else if(55296==(64512&a)){o++;var i=e.charCodeAt(o);if(o>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");var u=65536+((1023&a)<<10)+(1023&i);r.push(u>>18|240),r.push(u>>12&63|128),r.push(u>>6&63|128),r.push(63&u|128)}else r.push(a>>12|224),r.push(a>>6&63|128),r.push(63&a|128)}return(0,s.arrayify)(r)}function p(e){var t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function h(e){return e.map(function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))}).join("")}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(n=r.UnicodeNormalizationForm||(r.UnicodeNormalizationForm={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(o=r.Utf8ErrorReason||(r.Utf8ErrorReason={})),r.Utf8ErrorFuncs=Object.freeze({error:function(e,t,r,n,o){return c.throwArgumentError("invalid codepoint at offset "+t+"; "+e,"bytes",r)},ignore:u,replace:function(e,t,r,n,s){return e===o.OVERLONG?(n.push(s),0):(n.push(65533),u(e,t,r))}}),r.toUtf8Bytes=d,r._toEscapedUtf8String=function(e,t){return'"'+l(e,t).map(function(e){if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?p(e):p(55296+((e-=65536)>>10&1023))+p(56320+(1023&e))}).join("")+'"'},r._toUtf8String=h,r.toUtf8String=function(e,t){return h(l(e,t))},r.toUtf8CodePoints=function(e,t){return void 0===t&&(t=n.current),l(d(e,t))}}}},{package:"ethers>@ethersproject/strings",file:"node_modules/@ethersproject/strings/lib/utf8.js"}],[7891,{"../../../shared/lib/multichain-accounts/remote-feature-flag":5702,"../remote-feature-flags":7900,"@metamask/superstruct":2810},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMultichainAccountsRemoteFeatureFlags=r.getIsMultichainAccountsState2Enabled=r.getIsMultichainAccountsState1Enabled=r.STATE_2_FLAG=r.STATE_1_FLAG=void 0;var n=e("@metamask/superstruct"),o=e("../remote-feature-flags"),s=e("../../../shared/lib/multichain-accounts/remote-feature-flag");const a=r.STATE_1_FLAG="enableMultichainAccounts",i=r.STATE_2_FLAG="enableMultichainAccountsState2",c=(0,n.object)({enabled:(0,n.boolean)(),featureVersion:(0,n.nullable)((0,n.string)()),minimumVersion:(0,n.nullable)((0,n.string)())}),u=(e,t)=>{try{const r=(0,o.getRemoteFeatureFlags)(e)[t];return(0,n.assert)(r,c),r}catch(e){return undefined}};r.getMultichainAccountsRemoteFeatureFlags=u;r.getIsMultichainAccountsState1Enabled=e=>{const t=u(e,a),r=u(e,i);return(0,s.isMultichainAccountsFeatureEnabled)(t,s.FEATURE_VERSION_1)||(0,s.isMultichainAccountsFeatureEnabled)(r,s.FEATURE_VERSION_2)};r.getIsMultichainAccountsState2Enabled=e=>{const t=u(e,i);return(0,s.isMultichainAccountsFeatureEnabled)(t,s.FEATURE_VERSION_2)}}}},{package:"$root$",file:"ui/selectors/multichain-accounts/feature-flags.ts"}],[7892,{"./feature-flags":7891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./feature-flags");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))})}}},{package:"$root$",file:"ui/selectors/multichain-accounts/index.ts"}],[7895,{"../../app/scripts/lib/util":353,"../../shared/constants/multichain/assets":5615,"../../shared/constants/multichain/networks":5616,"../../shared/constants/network":5617,"../../shared/modules/Numeric":5727,"../../shared/modules/selectors/networks":5753,"../../shared/modules/selectors/util":5755,"../ducks/metamask/metamask":6883,"./accounts":7875,"./multichain/networks":7896,"./selectors":7903,"@metamask/keyring-api":2100,"@metamask/keyring-utils":2146,"@metamask/network-controller":2227,"@metamask/utils":2914,"prop-types":4893,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MultichainNetworkPropType=r.InternalAccountPropType=void 0,r.getImageForChainId=function(e){return{...f.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP,...l.MULTICHAIN_TOKEN_IMAGE_MAP}[e]},r.getLastSelectedNonEvmAccount=function(e){const t=(0,_.getInternalAccounts)(e).filter(e=>!(0,o.isEvmAccountType)(e.type)).sort((e,t)=>(t.metadata.lastSelected??0)-(e.metadata.lastSelected??0));return t.length>0?t[0]:undefined},r.getLastSelectedSolanaAccount=function(e){const t=(0,_.getInternalAccounts)(e).filter(e=>(0,_.isSolanaAccount)(e)).sort((e,t)=>(t.metadata.lastSelected??0)-(e.metadata.lastSelected??0));return t.length>0?t[0]:undefined},r.getLastSelectedTronAccount=function(e){const t=(0,_.getInternalAccounts)(e).filter(e=>(0,_.isTronAccount)(e)).sort((e,t)=>(t.metadata.lastSelected??0)-(e.metadata.lastSelected??0));return t.length>0?t[0]:undefined},r.getMemoizedMultichainNetworkConfigurationsByChainId=void 0,r.getMultichainBalances=w,r.getMultichainCoinRates=void 0,r.getMultichainConversionRate=function(e,t){var r;const{conversionRates:n}=e.metamask,{chainId:o}=b(e,t),s=null===(r=(0,m.getConversionRatesForNativeAsset)({conversionRates:n,chainId:o}))||void 0===r?void 0:r.rate;return y(e,t)?(0,p.getConversionRate)(e):s},r.getMultichainCurrencyImage=A,r.getMultichainCurrentChainId=function(e){const{chainId:t}=N(e);return t},r.getMultichainCurrentCurrency=function(e){return(0,p.getCurrentCurrency)(e)},r.getMultichainCurrentNetwork=function(e,t){return N(e,t)},r.getMultichainDefaultToken=O,r.getMultichainIsBitcoin=function(e,t){const r=y(e,t),{symbol:n}=O(e,t);return!r&&"BTC"===n},r.getMultichainIsEvm=y,r.getMultichainIsMainnet=function(e,t){const r=t??(0,_.getSelectedInternalAccount)(e),n=N(e,r);if(y(e,t))return(0,v.getIsMainnet)(e);const o=l.MULTICHAIN_ACCOUNT_TYPE_TO_MAINNET[r.type];if(!o)return!1;if((0,s.isBtcTestnetAddress)(r.address))return!1;return n.chainId===o},r.getMultichainIsSolana=function(e,t){const r=y(e,t),{symbol:n}=O(e,t);return!r&&"SOL"===n},r.getMultichainIsTestnet=k,r.getMultichainIsTron=function(e,t){const r=y(e,t),{symbol:n}=O(e,t);return!r&&"TRX"===n},r.getMultichainNativeCurrency=function(e,t){return y(e,t)?(0,p.getNativeCurrency)(e):N(e,t).ticker},r.getMultichainNativeCurrencyImage=function(e,t){return A(e,t)},r.getMultichainNetwork=b,r.getMultichainNetworkConfigurationsByChainId=void 0,r.getMultichainNetworkProviders=S,r.getMultichainProviderConfig=N,r.getMultichainSelectedAccountCachedBalance=C,r.getMultichainSelectedAccountCachedBalanceIsZero=void 0,r.getMultichainShouldShowFiat=I,r.getMultichainTransactions=function(e){return e.metamask.nonEvmTransactions},r.getSelectedAccountMultichainTransactions=function(e){const t=(0,_.getSelectedInternalAccount)(e);if((0,o.isEvmAccountType)(t.type))return undefined;const r=e.metamask.nonEvmTransactions[t.id],n=N(e,t).chainId;if((0,i.isCaipChainId)(n))return null==r?void 0:r[n];return undefined},r.isChainIdMainnet=function(e){return e===f.CHAIN_IDS.MAINNET},r.makeGetMultichainShouldShowFiatByChainId=void 0;var n,o=e("@metamask/keyring-api"),s=e("@metamask/keyring-utils"),a=e("@metamask/network-controller"),i=e("@metamask/utils"),c=(n=e("prop-types"))&&n.__esModule?n:{default:n},u=e("reselect"),l=e("../../shared/constants/multichain/networks"),d=e("../../shared/modules/Numeric"),p=e("../ducks/metamask/metamask"),h=e("../../shared/constants/multichain/assets"),f=e("../../shared/constants/network"),g=e("../../shared/modules/selectors/networks"),m=e("../../app/scripts/lib/util"),E=e("../../shared/modules/selectors/util"),_=e("./accounts"),v=e("./selectors"),T=e("./multichain/networks");r.MultichainNetworkPropType=c.default.shape({nickname:c.default.string.isRequired,isEvmNetwork:c.default.bool.isRequired,chainId:c.default.string,network:c.default.oneOfType([c.default.shape({rpcUrl:c.default.string,type:c.default.string.isRequired,chainId:c.default.string.isRequired,ticker:c.default.string.isRequired,rpcPrefs:c.default.shape({blockExplorerUrl:c.default.string,imageUrl:c.default.string}),nickname:c.default.string,id:c.default.string}),c.default.shape({chainId:c.default.string.isRequired,ticker:c.default.string.isRequired,rpcPrefs:c.default.shape({blockExplorerUrl:c.default.string,imageUrl:c.default.string})})]).isRequired}),r.InternalAccountPropType=c.default.shape({id:c.default.string.isRequired,address:c.default.string.isRequired,metadata:c.default.shape({name:c.default.string.isRequired,snap:c.default.shape({id:c.default.string.isRequired,name:c.default.string,enabled:c.default.bool}),keyring:c.default.shape({type:c.default.string.isRequired}).isRequired}).isRequired,type:c.default.string.isRequired});function S(e){return Object.values(l.MULTICHAIN_PROVIDER_CONFIGS)}function b(e,t){var r;if(y(e,t)){var n;const t=(0,g.getCurrentChainId)(e),r=(0,g.getProviderConfig)(e),o=t;r.rpcPrefs={...r.rpcPrefs,imageUrl:f.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[o]};return{nickname:(null===(n=(0,g.getNetworkConfigurationsByChainId)(e)[t])||void 0===n?void 0:n.name)??r.rpcUrl,isEvmNetwork:!0,chainId:`${i.KnownCaipNamespace.Eip155}:${Number(t)}`,network:r}}const o=t??(0,_.getSelectedInternalAccount)(e),s=S(),a=e.metamask.selectedMultichainNetworkChainId;let c;if(o.scopes.length>0&&(c=s.find(e=>o.scopes.includes(e.chainId))),!c&&a&&(c=s.find(e=>e.chainId===a)),c||(c=s.find(e=>e.isAddressCompatible(o.address))),!c)throw new Error("Could not find non-EVM provider for the current configuration. This should never happen.");return{nickname:c.nickname,isEvmNetwork:!1,chainId:null===(r=c)||void 0===r?void 0:r.chainId,network:c}}function y(e,t){const r=(0,p.getCompletedOnboarding)(e),n=t??(0,v.getMaybeSelectedInternalAccount)(e);return!r||!n||(0,o.isEvmAccountType)(n.type)}function N(e,t){return b(e,t).network}function A(e,t){var r;if(y(e,t))return(0,v.getNativeCurrencyImage)(e);return null===(r=N(e,t).rpcPrefs)||void 0===r?void 0:r.imageUrl}function I(e,t,r){const n=t??(0,_.getSelectedInternalAccount)(e),o=k(e,n),s=!o,a=(0,v.getUseCurrencyRateCheck)(e);return y(e,n)?(0,v.getShouldShowFiat)(e,r):a&&s||a&&o&&(0,v.getShowFiatInTestnets)(e)}function O(e,t){var r;return{symbol:y(e,t)?(null===(r=(0,g.getProviderConfig)(e))||void 0===r?void 0:r.ticker)??"ETH":N(e,t).ticker}}function k(e,t){const r=t??(0,_.getSelectedInternalAccount)(e),n=N(e,r);return y(e,t)?f.TEST_NETWORK_IDS.includes(n.chainId):!!(0,s.isBtcTestnetAddress)(r.address)||[l.MultichainNetworks.BITCOIN_TESTNET,l.MultichainNetworks.BITCOIN_SIGNET,l.MultichainNetworks.SOLANA_DEVNET,l.MultichainNetworks.SOLANA_TESTNET,l.MultichainNetworks.TRON_NILE,l.MultichainNetworks.TRON_SHASTA].includes(n.chainId)}function w(e){return e.metamask.balances}r.makeGetMultichainShouldShowFiatByChainId=e=>(t,r)=>I(t,r,e);function C(e){return y(e)?(0,v.getSelectedAccountCachedBalance)(e):function(e,t){var r;const n=w(e),o=t??(0,_.getSelectedInternalAccount)(e),s=(0,T.getSelectedMultichainNetworkConfiguration)(e),a=(null==s?void 0:s.chainId)??e.metamask.selectedMultichainNetworkChainId,i=null===(r=h.MULTICHAIN_NETWORK_TO_ASSET_TYPES[a])||void 0===r?void 0:r[0];i||console.warn("Could not find asset type for chainId:",a);const c=null==n?void 0:n[o.id];c||console.warn("Could not find balances for account:",o);const u=null==c?void 0:c[i];return u||console.warn("Could not find balance for asset:",i),(null==u?void 0:u.amount)??0}(e)}r.getMultichainCoinRates=e=>e.metamask.rates;r.getMultichainSelectedAccountCachedBalanceIsZero=(0,u.createSelector)([y,C],(e,t)=>{const r=e?16:10;return new d.Numeric(t,r).isZero()});const R=e=>({...(0,g.getNetworkConfigurationsByChainId)(e),[l.MultichainNetworks.SOLANA]:{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.SOLANA],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.SOLANA].nickname??"",nativeCurrency:"sol",rpcEndpoints:[{url:"",type:a.RpcEndpointType.Custom,networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.SOLANA},[l.MultichainNetworks.BITCOIN]:{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.BITCOIN],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.BITCOIN].nickname??"",nativeCurrency:"BTC",rpcEndpoints:[{url:"",type:a.RpcEndpointType.Custom,networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.BITCOIN},[l.MultichainNetworks.BITCOIN_TESTNET]:{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.BITCOIN_TESTNET],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.BITCOIN_TESTNET].nickname??"",nativeCurrency:"tBTC",rpcEndpoints:[{url:"",type:a.RpcEndpointType.Custom,networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.BITCOIN_TESTNET},[l.MultichainNetworks.BITCOIN_SIGNET]:{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.BITCOIN_SIGNET],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.BITCOIN_SIGNET].nickname??"",nativeCurrency:"sBTC",rpcEndpoints:[{url:"",type:a.RpcEndpointType.Custom,networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.BITCOIN_SIGNET},[l.MultichainNetworks.TRON]:{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.TRON],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.TRON].nickname??"",nativeCurrency:"TRX",rpcEndpoints:[{url:"",type:a.RpcEndpointType.Custom,networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.TRON},[l.MultichainNetworks.TRON_NILE]:{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.TRON_NILE],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.TRON_NILE].nickname??"",nativeCurrency:"TRX",rpcEndpoints:[{url:"",type:a.RpcEndpointType.Custom,networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.TRON_NILE},[l.MultichainNetworks.TRON_SHASTA]:{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.TRON_SHASTA],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.TRON_SHASTA].nickname??"",nativeCurrency:"TRX",rpcEndpoints:[{url:"",type:a.RpcEndpointType.Custom,networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.TRON_SHASTA}});r.getMultichainNetworkConfigurationsByChainId=R;r.getMemoizedMultichainNetworkConfigurationsByChainId=(0,E.createDeepEqualSelector)([R],e=>e)}}},{package:"$root$",file:"ui/selectors/multichain.ts"}],[7896,{"../../../shared/constants/network":5617,"../../../shared/lib/network-utils":5708,"../../../shared/modules/selectors/multichain":5752,"../../../shared/modules/selectors/networks":5753,"../../../shared/modules/selectors/util":5755,"../accounts":7875,"../selectors":7903,"@metamask/keyring-api":2100,"@metamask/multichain-network-controller":2207,"@metamask/network-controller":2227,"@metamask/utils":2914,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.selectFirstUnavailableEvmNetwork=r.selectAnyEnabledNetworksAreAvailable=r.getSelectedMultichainNetworkConfiguration=r.getSelectedMultichainNetworkChainId=r.getNonEvmMultichainNetworkConfigurationsByChainId=r.getNetworksWithTransactionActivity=r.getNetworksWithActivity=r.getMultichainNetworkConfigurationsByChainId=r.getIsNonEvmNetworksEnabled=r.getIsEvmMultichainNetworkSelected=r.getEnabledNetworksByNamespace=r.getEnabledNetworkClientIds=r.getEnabledChainIds=r.getAllEnabledNetworksForAllNamespaces=void 0;var n=e("@metamask/multichain-network-controller"),o=e("@metamask/network-controller"),s=e("@metamask/keyring-api"),a=e("@metamask/utils"),i=e("reselect"),c=e("../../../shared/modules/selectors/networks"),u=e("../../../shared/modules/selectors/util"),l=e("../selectors"),d=e("../accounts"),p=e("../../../shared/modules/selectors/multichain"),h=e("../../../shared/lib/network-utils"),f=e("../../../shared/constants/network");const g=r.getIsNonEvmNetworksEnabled=(0,u.createDeepEqualSelector)(l.getIsBitcoinSupportEnabled,l.getIsSolanaSupportEnabled,l.getIsTronSupportEnabled,d.getInternalAccounts,(e,t,r,n)=>{if(e&&t&&r)return{bitcoinEnabled:!0,solanaEnabled:!0,tronEnabled:!0};let o=e,a=t,i=r;for(const{scopes:e}of n)if(null!=e&&e.includes(s.BtcScope.Mainnet||s.BtcScope.Testnet||s.BtcScope.Signet)&&(o=!0),null!=e&&e.includes(s.SolScope.Mainnet)&&(a=!0),null!=e&&e.includes(s.TrxScope.Mainnet)&&(i=!0),o&&a&&i)break;return{bitcoinEnabled:o,solanaEnabled:a,tronEnabled:i}}),m=r.getNonEvmMultichainNetworkConfigurationsByChainId=(0,u.createDeepEqualSelector)(e=>e.metamask.multichainNetworkConfigurationsByChainId,g,l.getIsSolanaTestnetSupportEnabled,l.getIsBitcoinTestnetSupportEnabled,l.getIsTronTestnetSupportEnabled,(e,t,r,n,o)=>{const a={},{bitcoinEnabled:i,solanaEnabled:c,tronEnabled:u}=t;return i&&e&&e[s.BtcScope.Mainnet]&&(a[s.BtcScope.Mainnet]=e[s.BtcScope.Mainnet]),i&&n&&e&&(e[s.BtcScope.Testnet]&&(a[s.BtcScope.Testnet]=e[s.BtcScope.Testnet]),e[s.BtcScope.Signet]&&(a[s.BtcScope.Signet]=e[s.BtcScope.Signet])),c&&e&&e[s.SolScope.Mainnet]&&(a[s.SolScope.Mainnet]=e[s.SolScope.Mainnet]),c&&r&&e&&e[s.SolScope.Devnet]&&(a[s.SolScope.Devnet]=e[s.SolScope.Devnet]),u&&e&&e[s.TrxScope.Mainnet]&&(a[s.TrxScope.Mainnet]=e[s.TrxScope.Mainnet]),u&&o&&e&&e[s.TrxScope.Nile]&&e[s.TrxScope.Shasta]&&(a[s.TrxScope.Nile]=e[s.TrxScope.Nile],a[s.TrxScope.Shasta]=e[s.TrxScope.Shasta]),a}),E=r.getMultichainNetworkConfigurationsByChainId=(0,u.createDeepEqualSelector)(m,c.getNetworkConfigurationsByChainId,(e,t)=>{const r={};for(const[,e]of Object.entries(t))r[(0,n.toEvmCaipChainId)(e.chainId)]={...(0,n.toMultichainNetworkConfiguration)(e),name:e.name||e.rpcEndpoints[e.defaultRpcEndpointIndex].url};return[{...e,...r},t]}),_=e=>e.metamask.isEvmSelected;r.getIsEvmMultichainNetworkSelected=_;const v=e=>{if(_(e)){const t=(0,c.getProviderConfig)(e);return(0,n.toEvmCaipChainId)(t.chainId)}return e.metamask.selectedMultichainNetworkChainId};r.getSelectedMultichainNetworkChainId=v;r.getSelectedMultichainNetworkConfiguration=e=>{const t=v(e),[r]=E(e);return r[t]};const T=e=>e.metamask.networksWithTransactionActivity;r.getNetworksWithActivity=T;r.getNetworksWithTransactionActivity=(0,u.createDeepEqualSelector)(T,e=>e),r.getEnabledNetworksByNamespace=(0,u.createDeepEqualSelector)(p.getEnabledNetworks,v,(e,t)=>{const{namespace:r}=(0,a.parseCaipChainId)(t),n=e[r]??{};return Object.fromEntries(Object.entries(n).filter(([,e])=>!0===e))}),r.getAllEnabledNetworksForAllNamespaces=(0,u.createDeepEqualSelector)(p.getEnabledNetworks,e=>Object.values(e).flatMap(e=>Object.entries(e).filter(([,e])=>e).map(([e])=>e))),r.getEnabledChainIds=(0,u.createDeepEqualSelector)(c.getNetworkConfigurationsByChainId,p.getEnabledNetworks,v,(e,t,r)=>{const{namespace:n}=(0,a.parseCaipChainId)(r),o=t[n]||{};return Object.keys(e).filter(e=>o[e])}),r.getEnabledNetworkClientIds=(0,u.createDeepEqualSelector)(c.getNetworkConfigurationsByChainId,p.getEnabledNetworks,v,(e,t,r)=>{const{namespace:n}=(0,a.parseCaipChainId)(r),o=t[n]||{};return Object.entries(e).reduce((e,[t,r])=>(o[t]&&e.push(r.rpcEndpoints[r.defaultRpcEndpointIndex].networkClientId),e),[])}),r.selectAnyEnabledNetworksAreAvailable=(0,i.createSelector)(p.getEnabledNetworks,c.selectDefaultNetworkClientIdsByChainId,c.getNetworksMetadata,(e,t,r)=>Object.entries(e).reduce((e,[n,s])=>{if(n===a.KnownCaipNamespace.Eip155){const e=Object.entries(s).filter(([e,t])=>t).map(([e,t])=>e).map(e=>t[e]);return 0===e.length||e.some(e=>{var t;return(null===(t=r[e])||void 0===t?void 0:t.status)===o.NetworkStatus.Available})}return e},!0)),r.selectFirstUnavailableEvmNetwork=(0,i.createSelector)(p.getEnabledNetworks,c.getNetworkConfigurationsByChainId,c.getNetworksMetadata,(e,t,r)=>{const n=e[a.KnownCaipNamespace.Eip155]??{},s=Object.entries(n).filter(([,e])=>e).map(([e])=>e);for(const e of s){const n=t[e];if(n){const{rpcEndpoints:t,defaultRpcEndpointIndex:s,name:a}=n,i=t[s];if(i){const t=r[i.networkClientId];if(t!==undefined&&t.status!==o.NetworkStatus.Available)return{networkClientId:i.networkClientId,chainId:e,networkName:a,isInfuraEndpoint:(0,h.getIsMetaMaskInfuraEndpointUrl)(i.url,f.infuraProjectId??"")}}}}return null})}}},{package:"$root$",file:"ui/selectors/multichain/networks.ts"}],[7899,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.selectThrottledOrigins=void 0;r.selectThrottledOrigins=e=>e.metamask.throttledOrigins}}},{package:"$root$",file:"ui/selectors/origin-throttling.ts"}],[790,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="transactions/5.8.0"}}},{package:"ethers>@ethersproject/transactions",file:"node_modules/@ethersproject/transactions/lib/_version.js"}],[7900,{"../../shared/lib/manifestFlags":5700,"lodash/merge":4636,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRemoteFeatureFlags=void 0;var n,o=(n=e("lodash/merge"))&&n.__esModule?n:{default:n},s=e("reselect"),a=e("../../shared/lib/manifestFlags");r.getRemoteFeatureFlags=(0,s.createSelector)(()=>(0,a.getManifestFlags)().remoteFeatureFlags,e=>e.metamask.remoteFeatureFlags,(e,t)=>(0,o.default)({},t,e))}}},{package:"$root$",file:"ui/selectors/remote-feature-flags.ts"}],[7901,{"./social-sync":7902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./social-sync");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))})}}},{package:"$root$",file:"ui/selectors/seedless-onboarding/index.ts"}],[7902,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return e.metamask.authConnection}function o(e){return e.metamask.socialLoginEmail}Object.defineProperty(r,"__esModule",{value:!0}),r.getIsSocialLoginUserAuthenticated=function(e){const t=Boolean(n(e)),r=Boolean(o(e));return e.metamask.isSeedlessOnboardingUserAuthenticated&&t&&r},r.getSocialLoginEmail=o,r.getSocialLoginType=n}}},{package:"$root$",file:"ui/selectors/seedless-onboarding/social-sync.ts"}],[7903,{"../../app/scripts/lib/util":353,"../../shared/constants/app":5598,"../../shared/constants/bridge":5600,"../../shared/constants/hardware-wallets":5607,"../../shared/constants/keyring":5609,"../../shared/constants/labels":5610,"../../shared/constants/multichain/assets":5615,"../../shared/constants/network":5617,"../../shared/constants/swaps":5633,"../../shared/constants/terms":5634,"../../shared/constants/time":5635,"../../shared/constants/tokens":5636,"../../shared/constants/transaction":5637,"../../shared/lib/multichain-feature-flags":5703,"../../shared/modules/conversion.utils":5732,"../../shared/modules/hexstring-utils":5741,"../../shared/modules/selectors/multichain":5752,"../../shared/modules/selectors/networks":5753,"../../shared/modules/selectors/util":5755,"../../shared/modules/string-utils":5761,"../../shared/modules/transaction.utils":5763,"../ducks/app/app":6868,"../ducks/metamask/metamask":6883,"../helpers/constants/design-system":6899,"../helpers/utils/snaps":6950,"../helpers/utils/token-cache-utils":6953,"../helpers/utils/util":6959,"../pages/confirmations/confirmation/templates":7434,"./accounts":7875,"./approvals":7877,"./multichain":7895,"./multichain/networks":7896,"./remote-feature-flags":7900,"./shared":7904,"./transactions":7914,"@metamask/bridge-controller":1304,"@metamask/chain-agnostic-permission":1359,"@metamask/controller-utils":1383,"@metamask/eth-qr-keyring":1842,"@metamask/keyring-api":2100,"@metamask/keyring-controller":2110,"@metamask/name-controller":2215,"@metamask/network-controller":2227,"@metamask/permission-controller":2329,"@metamask/snaps-rpc-methods":2611,"@metamask/snaps-utils":2781,"@metamask/transaction-controller":2868,"@metamask/utils":2914,lodash:4635,"punycode/punycode.js":4954,reselect:5132,semver:5411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.accountSupportsSmartTx=function(e){const t=ae(e);return Boolean("snap"!==t)},r.accountsWithSendEtherInfoSelector=Re,r.activeTabHasPermissions=function(e){var t;const{activeTab:r,metamask:n}=e,{subjects:o={}}=n;return Boolean(Object.keys((null===(t=o[r.origin])||void 0===t?void 0:t.permissions)||{}).length>0)},r.checkIfMethodIsEnabled=function(e,t){const r=(0,Z.getSelectedInternalAccount)(e);return Boolean(r.methods.includes(t))},r.checkNetworkAndAccountSupports1559=function(e,t){return(0,F.isEIP1559Network)(e,t)},r.checkNetworkOrAccountNotSupports1559=function(e){return(0,F.isNotEIP1559Network)(e)},r.doesAddressRequireLedgerHidConnection=function(e,t){const r=(0,F.isAddressLedger)(e,t),n=(0,F.getLedgerTransportType)(e)===O.LedgerTransportTypes.webhid,o=(0,U.getLedgerWebHidConnectedStatus)(e)!==O.WebHIDConnectedStatuses.connected,s=(0,U.getLedgerTransportStatus)(e)!==O.HardwareTransportStates.verified;return r&&n&&(o||s)},r.getAccountName=function(e,t){const r=e.find(e=>(0,G.isEqualCaseInsensitive)(e.address,t));return r&&""!==r.metadata.name?r.metadata.name:""},r.getAccountToConnectToActiveTab=function(e){const t=(0,Z.getSelectedInternalAccount)(e),r=Kt(e),{metamask:{internalAccounts:{accounts:n}}}=e,o=Object.keys(n).length;if(r.length>0&&r.length!==o&&!r.includes(t.address))return de(e,t.id);return undefined},r.getAccountType=ae,r.getAccountTypeForKeyring=ie,r.getAccountsWithLabels=function(e){return Ne(e).map(e=>{const{address:t,metadata:{name:r},balance:n}=e;return{...e,addressLabel:`${r.length<w.TRUNCATED_NAME_CHAR_LIMIT?r:`${r.slice(0,w.TRUNCATED_NAME_CHAR_LIMIT-1)}...`} (${(0,D.shortenAddress)(t)})`,label:r,balance:n}})},r.getActiveQrCodeScanRequest=ne,r.getAddressBook=function(e){const t=(0,y.getCurrentChainId)(e);if(!e.metamask.addressBook[t])return[];return Object.values(e.metamask.addressBook[t])},r.getAddressBookEntry=Ce,r.getAddressBookEntryOrAccountName=function(e,t){const r=Ce(e,t);if(r&&""!==r.name)return r.name;const n=Object.values((0,Z.getInternalAccounts)(e)).find(e=>(0,G.isEqualCaseInsensitive)(e.address,t));return(null==n?void 0:n.metadata.name)||t},r.getAddressConnectedSubjectMap=function(e){const t=Yt(e),r=$t(e),n={};return Object.keys(r).forEach(e=>{const{iconUrl:o,name:s}=t[e]||{};r[e].forEach(t=>{const r=s||e;n[t]=n[t]?{...n[t],[e]:{iconUrl:o,name:r}}:{[e]:{iconUrl:o,name:r}}})}),n},r.getAddressSecurityAlertResponse=function(e,t){var r;if(!t)return undefined;return null===(r=e.metamask.addressSecurityAlertResponses)||void 0===r?void 0:r[t]},r.getAdvancedGasFeeValues=function(e){return e.metamask.advancedGasFee[(0,y.getCurrentChainId)(e)]},r.getAdvancedInlineGasShown=function(e){return Boolean(e.metamask.featureFlags.advancedInlineGas)},r.getAllAccountsOnNetworkAreEmpty=function(e){const t=ve(e)??{},r=Object.values(t).every(e=>"0x0"===e||"0x00"===e),n=0===ge(e);return r&&n},r.getAllConnectedAccounts=r.getAllChainsToPoll=void 0,r.getAllDetectedTokens=function(e){return e.metamask.allDetectedTokens},r.getAllDetectedTokensForSelectedAddress=function(e){if(!(0,F.getCompletedOnboarding)(e))return{};const{address:t}=(0,Z.getSelectedInternalAccount)(e);return Object.entries(e.metamask.allDetectedTokens||{}).reduce((e,[r,n])=>{const o=n[t];return o&&(e[r]=o.map(e=>({...e,chainId:r}))),e},{})},r.getAllDomains=Oe,r.getAllEnabledNetworks=void 0,r.getAllPermittedAccounts=Ht,r.getAllPermittedAccountsForCurrentTab=Vt,r.getAllPermittedAccountsForSelectedTab=function(e,t){return Ht(e,t)},r.getAllPermittedChainsForSelectedTab=function(e,t){return Wt(e,t).filter(e=>{try{const{namespace:t}=(0,v.parseCaipChainId)(e);return t!==v.KnownCaipNamespace.Wallet}catch(e){return!1}})},r.getAllPermittedScopes=Wt,r.getAllSnapAvailableUpdates=void 0,r.getAllTokens=Ie,r.getAnySnapUpdateAvailable=void 0,r.getAppActiveTab=rt,r.getAppIsLoading=function(e){return e.appState.isLoading},r.getBlockExplorerLinkText=function(e,t=!1){const r=Mt(e),n=tt(e);let o={firstPart:"addBlockExplorer",secondPart:""};n.blockExplorerUrl?o=t?{firstPart:"blockExplorerView",secondPart:(0,D.getURLHostName)(n.blockExplorerUrl)}:{firstPart:"viewinExplorer",secondPart:"blockExplorerAccountAction"}:!1===r&&(o=t?{firstPart:"etherscanViewOn",secondPart:""}:{firstPart:"viewOnEtherscan",secondPart:"blockExplorerAccountAction"});return o},r.getChainIdsToPoll=void 0,r.getCompleteAddressBook=we,r.getConnectedSubjectsForAllAddresses=r.getConnectedSitesListWithNetworkInfo=r.getConnectedSitesList=r.getConfirmationExchangeRates=void 0,r.getConnectedSubjectsForSelectedAddress=function(e){const t=(0,Z.getSelectedInternalAccount)(e),r=Ft(e),n=Yt(e),o=[];return Object.entries(r).forEach(([e,r])=>{if(!zt(r).includes(t.address))return;const{extensionId:s,name:a,iconUrl:i}=n[e]||{};o.push({extensionId:s,origin:e,name:a,iconUrl:i})}),o},r.getCrossChainMetaMaskCachedBalances=function(e){const t=e.metamask.accountsByChainId;return Object.keys(t).reduce((e,r)=>(e[r]=Object.keys(t[r]).reduce((e,n)=>(e[n.toLowerCase()]=t[r][n].balance,e),{}),e),{})},r.getCrossChainTokenExchangeRates=void 0,r.getCurrencyRates=st,r.getCurrentAccountWithSendEtherInfo=Pe,r.getCurrentEthBalance=function(e){var t;return null===(t=Pe(e))||void 0===t?void 0:t.balance},r.getCurrentKeyring=oe,r.getCurrentNetwork=void 0,r.getCustomNonceValue=function(e){return String(e.appState.customNonceValue)},r.getCustomTokenAmount=function(e){return e.appState.customTokenAmount},r.getDefaultHomeActiveTabName=function(e){return e.metamask.defaultHomeActiveTabName},r.getDetectedTokensInCurrentNetwork=function(e){var t;const r=(0,y.getCurrentChainId)(e),{address:n}=(0,Z.getSelectedInternalAccount)(e);return null===(t=e.metamask.allDetectedTokens)||void 0===t||null===(t=t[r])||void 0===t?void 0:t[n]},r.getEditedNetwork=function(e){return e.appState.editedNetwork},Object.defineProperty(r,"getEnabledNetworks",{enumerable:!0,get:function(){return N.getEnabledNetworks}}),r.getEnabledSnaps=void 0,r.getEnsResolutionByAddress=function(e,t){if(e.metamask.ensResolutionsByAddress[t]){const r=e.metamask.ensResolutionsByAddress[t];return(0,o.toUnicode)(r)}const r=Ce(e,t)||le(e,t);return(null==r?void 0:r.name)||""},r.getEthereumAddressNames=function(e){var t;return(null===(t=e.metamask.names)||void 0===t?void 0:t[d.NameType.ETHEREUM_ADDRESS])||{}},r.getEvmInternalAccounts=void 0,r.getExternalServicesOnboardingToggleState=function(e){return e.appState.externalServicesOnboardingToggleState},r.getFeatureFlags=function(e){return e.metamask.featureFlags},r.getFeatureNotificationsEnabled=function(e){const{featureNotificationsEnabled:t=!1}=Fe(e);return t},r.getFirstPermissionRequest=function(e){const t=rr(e);return t&&t[0]?t[0]:null},r.getFirstSnapInstallOrUpdateRequest=function(e){var t;return(null===(t=tr(e))||void 0===t?void 0:t[0])??null},r.getFullTxData=void 0,r.getGasFeesSponsoredNetworkEnabled=function(e){const{gasFeesSponsoredNetwork:t}=(0,ee.getRemoteFeatureFlags)(e);return t},r.getHDEntropyIndex=function(e){const t=ue(e),r=me(e);let n=r.filter(e=>e.type===k.KeyringType.hdKeyTree).findIndex(e=>e.accounts.includes(t));if(-1===n){const t=(0,Z.getSelectedInternalAccount)(e);if(t){const{entropySource:e}=t.options;n=r.findIndex(({metadata:t})=>t.id===e)}}return-1===n?undefined:n},r.getHardwareWalletType=function(e){const t=oe(e);return se(e)?t.type:undefined},r.getHdKeyringOfSelectedAccountOrPrimaryKeyring=r.getHdKeyringIndexByIdOrDefault=void 0,r.getHiddenAccountsList=Ot,r.getInterfaceContent=r.getInterface=r.getInsightSnaps=r.getInsightSnapIds=r.getHideSnapBranding=void 0,r.getInternalAccount=de,r.getInternalAccountsSortedByKeyring=r.getInternalAccountByAddress=void 0,r.getIpfsGateway=function(e){return e.metamask.ipfsGateway},r.getIsAccessedFromDappConnectedSitePopover=function(e){return e.appState.isAccessedFromDappConnectedSitePopover},r.getIsAddSnapAccountEnabled=function(e){return e.metamask.addSnapAccountEnabled},r.getIsAddingNewNetwork=function(e){return e.appState.isAddingNewNetwork},r.getIsBitcoinSupportEnabled=function(e){let t=!1;const{bitcoinAccounts:r}=(0,ee.getRemoteFeatureFlags)(e);return t=(0,S.isMultichainFeatureEnabled)(r),t},r.getIsBitcoinTestnetSupportEnabled=function(e){const{bitcoinTestnetsEnabled:t}=(0,ee.getRemoteFeatureFlags)(e);return Boolean(t)},r.getIsBridgeChain=function(e,t){const r=(0,Z.getSelectedInternalAccount)(e),{chainId:n,isEvmNetwork:o}=(0,X.getMultichainNetwork)(e,r);let s=n;o&&(s=(0,y.getCurrentChainId)(e));const a=t??s;return R.ALLOWED_BRIDGE_CHAIN_IDS.includes(a)},r.getIsBridgeEnabled=void 0,r.getIsCustomNetwork=Mt,r.getIsDefiPositionsEnabled=function(e){const{assetsDefiPositionsEnabled:t}=(0,ee.getRemoteFeatureFlags)(e);return Boolean(t)},r.getIsDynamicTokenListAvailable=Rt,r.getIsLineaMainnet=function(e){return(0,y.getCurrentChainId)(e)===I.CHAIN_IDS.LINEA_MAINNET},r.getIsMainnet=Be,r.getIsMultiRpcOnboarding=function(e){return e.appState.isMultiRpcOnboarding},r.getIsNewSettingsEnabled=function(e){const{settingsRedesign:t}=(0,ee.getRemoteFeatureFlags)(e);return Boolean(t)},r.getIsNonStandardEthChain=function(e){return!(Be(e)||xe(e))},r.getIsRpcFailoverEnabled=void 0,r.getIsSecurityAlertsEnabled=function(e){return e.metamask.securityAlertsEnabled},r.getIsSigningQRHardwareTransaction=function(e){const t=ne(e);return t&&t.type===T.QrScanRequestType.SIGN},r.getIsSolanaSupportEnabled=function(e){const{solanaAccounts:t}=(0,ee.getRemoteFeatureFlags)(e);return(0,S.isMultichainFeatureEnabled)(t)},r.getIsSolanaTestnetSupportEnabled=function(e){const{solanaTestnetsEnabled:t}=(0,ee.getRemoteFeatureFlags)(e);return Boolean(t)},r.getIsSwapsChain=function(e,t){const r=(0,y.getCurrentChainId)(e),n=t??r;return C.ALLOWED_PROD_SWAPS_CHAIN_IDS.includes(n)},r.getIsTestnet=xe,r.getIsTokenDetectionInactiveOnMainnet=Pt,r.getIsTokenDetectionSupported=function(e){const t=Ct(e),r=Rt(e);return t&&r},r.getIsTokenNetworkFilterEqualCurrentNetwork=He,r.getIsTronSupportEnabled=function(e){let t=!1;const{tronAccounts:r}=(0,ee.getRemoteFeatureFlags)(e);return t=(0,S.isMultichainFeatureEnabled)(r),t},r.getIsTronTestnetSupportEnabled=function(e){const{tronTestnetsEnabled:t}=(0,ee.getRemoteFeatureFlags)(e);return Boolean(t)},r.getIsWatchEthereumAccountEnabled=function(e){return e.metamask.watchEthereumAccountEnabled},r.getIstokenDetectionInactiveOnNonMainnetSupportedNetwork=function(e){const t=Ct(e),r=Be(e);return Rt(e)&&!t&&!r},r.getKeyringOfSelectedAccount=void 0,r.getKeyringSnapAccounts=function(e){const t=(0,Z.getInternalAccounts)(e);return Object.values(t).filter(e=>{const{keyring:t}=e.metadata;return t.type===k.KeyringType.snap})},r.getKeyringSnapRemovalResult=function(e){return e.appState.keyringRemovalSnapModal},r.getKnownMethodData=function(e,t){const{knownMethodData:r,use4ByteResolution:n}=e.metamask;if(!n||!(0,q.hasTransactionData)(t))return null;const o=(0,A.addHexPrefix)(t).slice(0,10);if(o.length<10)return null;return(null==r?void 0:r[o])??null},r.getLastConnectedInfo=function(e){const{permissionHistory:t={}}=e.metamask;return Object.keys(t).reduce((e,r)=>(t[r].eth_accounts&&(e[r]=JSON.parse(JSON.stringify(t[r].eth_accounts))),e),{})},r.getLastUpdatedFromVersion=function(e){return e.metamask.lastUpdatedFromVersion},r.getLastViewedUserSurvey=function(e){return e.metamask.lastViewedUserSurvey},r.getLocale=_t,r.getManageInstitutionalWallets=function(e){return e.metamask.manageInstitutionalWallets},r.getMarketData=void 0,r.getMaybeSelectedInternalAccount=function(e){var t,r;const n=null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.selectedAccount;return n?null===(r=e.metamask.internalAccounts)||void 0===r?void 0:r.accounts[n]:undefined},r.getMemoizedUnapprovedTemplatedConfirmations=r.getMemoizedUnapprovedConfirmations=r.getMemoizedTargetSubjectMetadata=r.getMemoizedMetadataContract=r.getMemoizedMetaMaskInternalAccounts=r.getMemoizedInterfaces=r.getMemoizedInterfaceContent=r.getMemoizedInterface=r.getMemoizedCurrentChainId=void 0,r.getMetaMaskAccountBalances=_e,r.getMetaMaskAccountsOrdered=r.getMetaMaskAccountsConnected=r.getMetaMaskAccounts=void 0,r.getMetaMaskCachedBalances=ve,r.getMetaMaskHdKeyrings=Ee,r.getMetaMaskKeyrings=me,r.getMetaMetricsDataDeletionId=function(e){return e.metamask.metaMetricsDataDeletionId},r.getMetaMetricsDataDeletionStatus=function(e){return e.metamask.metaMetricsDataDeletionStatus},r.getMetaMetricsDataDeletionTimestamp=function(e){return e.metamask.metaMetricsDataDeletionTimestamp},r.getMetaMetricsId=function(e){const{metaMetricsId:t}=e.metamask;return t},r.getMetadataContractName=void 0,r.getModalTypeForShieldEntryModal=function(e){var t;return null===(t=e.appState.shieldEntryModal)||void 0===t?void 0:t.modalType},r.getNameLookupSnapsIds=r.getNameLookupSnaps=r.getMultipleTargetsSubjectMetadata=void 0,r.getNameSources=function(e){return e.metamask.nameSources||{}},r.getNames=function(e){return e.metamask.names||{}},r.getNativeCurrencyForChain=it,r.getNativeCurrencyImage=function(e){const t=(0,y.getCurrentChainId)(e);return I.CHAIN_ID_TOKEN_IMAGE_MAP[t]},r.getNativeTokenCachedBalanceByChainIdByAccountAddress=Se,r.getNativeTokenCachedBalanceByChainIdSelector=void 0,r.getNativeTokenInfo=ye,r.getNetworkConfigurationIdByChainId=r.getNetworkClientIdsToPoll=void 0,r.getNetworkConnectionBanner=function(e){return e.metamask.networkConnectionBanner},r.getNetworkDiscoverButtonEnabled=function(e){const{neNetworkDiscoverButton:t}=(0,ee.getRemoteFeatureFlags)(e);return t},r.getNetworkIdentifier=function(e){const{type:t,nickname:r,rpcUrl:n}=(0,y.getProviderConfig)(e);return r||n||t},r.getNetworkToAutomaticallySwitchTo=function(e){const t=kt(e),r=nt(e);if((0,A.getEnvironmentType)()===x.ENVIRONMENT_TYPE_POPUP&&(0,F.getIsUnlocked)(e)&&r&&0===t){const t=Oe(e)[r],n=wt(e);if(t&&n.id!==t)return t}return null},r.getNetworksTabSelectedNetworkConfigurationId=function(e){return e.appState.selectedNetworkConfigurationId},r.getNewNetworkAdded=function(e){return e.appState.newNetworkAddedName},r.getNewNftAddedMessage=function(e){return e.appState.newNftAddedMessage},r.getNewTokensImported=function(e){return e.appState.newTokensImported},r.getNewTokensImportedError=function(e){return e.appState.newTokensImportedError},r.getNextSuggestedNonce=function(e){return Number(e.appState.nextNonce)},r.getNftIsStillFetchingIndication=function(e){return e.appState.isNftStillFetchingIndication},r.getNotifySnaps=void 0,r.getNumberOfAllUnapprovedTransactionsAndMessages=kt,r.getNumberOfTokens=ge,r.getOnboardedInThisUISession=function(e){return e.appState.onboardedInThisUISession},r.getOnboardingDate=function(e){return e.metamask.onboardingDate},r.getOpenSeaEnabled=function(e){return Boolean(e.metamask.openSeaEnabled)},r.getOrderedConnectedAccountsForActiveTab=void 0,r.getOrderedConnectedAccountsForConnectedDapp=er,r.getOrderedNetworksList=function(e){return e.metamask.orderedNetworkList},r.getOriginOfCurrentTab=nt,r.getPendingShieldCohort=function(e){return e.metamask.pendingShieldCohort},r.getPendingShieldCohortTxType=function(e){return e.metamask.pendingShieldCohortTxType},r.getPendingTokens=void 0,r.getPermissionSubjects=Ft,r.getPermissionSubjectsDeepEqual=void 0,r.getPermissions=function(e,t){var r;return null===(r=Ft(e)[t])||void 0===r?void 0:r.permissions},r.getPermissionsForActiveTab=function(e){var t;const{activeTab:r,metamask:n}=e,{subjects:o={}}=n,s=(null===(t=o[r.origin])||void 0===t?void 0:t.permissions)??{};return Object.keys(s).map(e=>({key:e,value:s[e]}))},r.getPermissionsRequests=rr,r.getPermittedAccountsByOrigin=$t,r.getPermittedEVMAccounts=Ut,r.getPermittedEVMAccountsForCurrentTab=Kt,r.getPermittedEVMAccountsForSelectedTab=qt,r.getPermittedEVMChains=Gt,r.getPermittedEVMChainsByOrigin=function(e){const t=Ft(e);return Object.keys(t).reduce((e,r)=>{const n=Xt(Jt(t[r]));return n.length>0&&(e[r]=n),e},{})},r.getPermittedEVMChainsForSelectedTab=function(e,t){return Gt(e,t)},r.getPinnedAccountsList=It,r.getPreferences=Fe,r.getPreinstalledSnaps=void 0,r.getPrivacyMode=function(e){const{privacyMode:t}=Fe(e);return Boolean(t)},r.getRemoveNftMessage=function(e){return e.appState.removeNftMessage},r.getRequestState=function(e,t){var r;return null===(r=e.metamask.pendingApprovals[t])||void 0===r?void 0:r.requestState},r.getRequestType=function(e,t){var r;return null===(r=e.metamask.pendingApprovals[t])||void 0===r?void 0:r.type},r.getRequestingNetworkInfo=function(e,t){let r=t===undefined?[]:t;"string"==typeof r&&(r=[r]);const n=r.flat();return Object.values((0,y.getNetworkConfigurationsByChainId)(e)).filter(e=>n.includes(e.chainId))},r.getRpcPrefsForCurrentProvider=tt,r.getSelectedAccount=void 0,r.getSelectedAccountCachedBalance=Ae,r.getSelectedAccountNativeTokenCachedBalanceByChainId=Te,r.getSelectedAccountTokensAcrossChains=function(e){const t={},{address:r}=he(e)??{};if(!r)return t;const{allTokens:n}=e.metamask,o=Te(e);return new Set([...Object.keys(n||{}),...Object.keys(o||{})]).forEach(s=>{t[s]||(t[s]=[]),n[s]&&r&&r in n[s]&&n[s][r]&&n[s][r].forEach(e=>{const r={...e,chainId:s,isNative:!1};t[s].push(r)});const a=o[s];if(a){const r=ye(e,s);t[s].push({...r,address:"",balance:a,chainId:s,isNative:!0})}}),t},r.getSelectedAddress=ue,r.getSelectedEvmInternalAccount=void 0,r.getSelectedInternalAccountWithBalance=function(e){const t=(0,Z.getSelectedInternalAccount)(e),r=_e(e)[t.address];return{...t,balance:r?r.balance:"0x0"}},r.getSelectedNetwork=r.getSelectedKeyringByIdOrDefault=void 0,r.getSendInputCurrencySwitched=function({appState:e}){return e.sendInputCurrencySwitched},r.getSettingsPageSnapsIds=r.getSettingsPageSnaps=void 0,r.getShieldEntryModalTriggeringCohort=function(e){var t;return null===(t=e.appState.shieldEntryModal)||void 0===t?void 0:t.triggeringCohort},r.getShouldHideZeroBalanceTokens=function(e){const{hideZeroBalanceTokens:t}=Fe(e);return t},r.getShouldShowFiat=function(e,t){let r,n;if(t){var o,s;r=t;const a=I.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t]??I.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[t]??(null===(o=De(e,t))||void 0===o?void 0:o.nativeCurrency);n=null===(s=st(e))||void 0===s||null===(s=s[a])||void 0===s?void 0:s.conversionRate}else r=(0,y.getCurrentChainId)(e),n=(0,F.getConversionRate)(e);const a=I.TEST_NETWORK_IDS.includes(r),{showFiatInTestnets:i}=Fe(e),c=Bt(e),u=Boolean(c&&n);if(a)return i&&u;return u},r.getShouldSubmitEventsForShieldEntryModal=function(e){var t;return null===(t=e.appState.shieldEntryModal)||void 0===t?void 0:t.shouldSubmitEvents},r.getShowAccountBanner=function(e){return e.metamask.showAccountBanner},r.getShowBasicFunctionalityModal=function(e){return e.appState.showBasicFunctionalityModal},r.getShowBetaHeader=function(e){return e.metamask.showBetaHeader},r.getShowDataDeletionErrorModal=function(e){return e.appState.showDataDeletionErrorModal},r.getShowDeleteMetaMetricsDataModal=function(e){return e.appState.showDeleteMetaMetricsDataModal},r.getShowDownloadMobileAppSlide=function(e){return e.metamask.showDownloadMobileAppSlide},r.getShowExtensionInFullSizeView=function(e){const{showExtensionInFullSizeView:t}=Fe(e);return Boolean(t)},r.getShowFiatInTestnets=function(e){const{showFiatInTestnets:t}=Fe(e);return t},r.getShowNetworkBanner=function(e){return e.metamask.showNetworkBanner},r.getShowOutdatedBrowserWarning=function(e){const{outdatedBrowserWarningLastShown:t}=e.metamask;if(!t)return!0;return(new Date).getTime()-t>=2*j.DAY},r.getShowPermissionsTour=function(e){return e.metamask.showPermissionsTour},r.getShowPermittedNetworkToastOpen=function(e){return e.appState.showPermittedNetworkToastOpen},r.getShowRecoveryPhraseReminder=function(e){const{recoveryPhraseReminderLastShown:t,recoveryPhraseReminderHasBeenShown:r}=e.metamask,n=(new Date).getTime(),o=r?90*j.DAY:2*j.DAY;return n-t>=o},r.getShowShieldEntryModal=function(e){const{show:t,hasUserInteractedWithModal:r}=e.appState.shieldEntryModal||{};return Boolean(t)&&!r},r.getShowTermsOfUse=function(e){const{termsOfUseLastAgreed:t}=e.metamask;if(!t)return!0;return new Date(t).getTime()<new Date(B.TERMS_OF_USE_LAST_UPDATED).getTime()},r.getShowTestNetworks=Ue,r.getShowUpdateModal=function(e){var t;const{metamask:{isUpdateAvailable:r,updateModalLastDismissedAt:n,lastUpdatedAt:o}}=e,s=(0,ee.getRemoteFeatureFlags)(e),a=u.default.valid(u.default.coerce(null===(t=global.platform)||void 0===t?void 0:t.getVersion())),i=u.default.valid(u.default.coerce(s.extensionUpdatePromptMinimumVersion)),c=!(!a||!i)&&u.default.lt(a,i),l=Date.now(),d=864e5,p=!n||l-n>d,h=!o||l-o>d;return c&&r&&p&&h},r.getShowWhatsNewPopup=function(e){return e.appState.showWhatsNewPopup},r.getSignatureInsightSnaps=r.getSignatureInsightSnapIds=void 0,r.getSlides=function(e){return e.metamask.slides||[]},r.getSnapInsights=r.getSnap=void 0,r.getSnapInstallOrUpdateRequests=tr,r.getSnapMetadata=r.getSnapLatestVersion=void 0,r.getSnapRegistry=function(e){const{snapRegistryList:t}=e.metamask;return t},r.getSnapRegistryData=void 0,r.getSnaps=Et,r.getSnapsInstallPrivacyWarningShown=function(e){const{snapsInstallPrivacyWarningShown:t}=e.metamask;if(t===undefined||null===t)return!1;return t},r.getSnapsList=function(e){const t=Et(e);return Object.entries(t).filter(([e,t])=>t.status!==i.SnapStatus.Installing&&(!t.preinstalled||!1===t.hidden)).map(([t,r])=>{const n=Ke(e,null==r?void 0:r.id);return{key:t,id:r.id,iconUrl:null==n?void 0:n.iconUrl,subjectType:null==n?void 0:n.subjectType,packageName:(0,i.stripSnapPrefix)(r.id),name:Tt(e,r.id).name}})},r.getSnapsMetadata=void 0,r.getSortedAnnouncementsToShow=function(e){const t=Object.values(e.metamask.announcements),r={},n=t.filter(e=>!e.isShown&&r[e.id]);return n.sort((e,t)=>new Date(t.date)-new Date(e.date))},r.getSubjectMetadata=Yt,r.getSubjectMetadataDeepEqual=void 0,r.getSubjectsWithPermission=function(e,t){const r=Ft(e),n=[];return Object.entries(r).forEach(([r,{permissions:o}])=>{if(o[t]){const{extensionId:t,name:o,iconUrl:s}=Ke(e,r)||{};n.push({extensionId:t,origin:r,name:o,iconUrl:s})}}),n},r.getSubjectsWithSnapPermission=function(e,t){const r=Ft(e);return Object.entries(r).filter(([e,{permissions:r}])=>{var n;return null===(n=r[g.WALLET_SNAP_PERMISSION_KEY])||void 0===n?void 0:n.caveats[0].value[t]}).map(([t,r])=>{const{extensionId:n,name:o,iconUrl:s}=Ke(e,t)||{};return{extensionId:n,origin:t,name:o,iconUrl:s}})},r.getSuggestedNfts=function(e){var t;return(null===(t=Le(e))||void 0===t?void 0:t.filter(({requestData:e,type:t})=>{var r;return t===a.ApprovalType.WatchAsset&&(null==e||null===(r=e.asset)||void 0===r?void 0:r.tokenId)!==undefined}))||[]},r.getSuggestedTokens=function(e){var t;return(null===(t=Le(e))||void 0===t?void 0:t.filter(({type:e,requestData:t})=>{var r;return e===a.ApprovalType.WatchAsset&&(null==t||null===(r=t.asset)||void 0===r?void 0:r.tokenId)===undefined}))||[]},r.getSwapsDefaultToken=function(e,t=null){const r=ke(e),n=null==r?void 0:r.balance,o=(0,y.getCurrentChainId)(e),s=t??o;return{...C.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[s],chainId:s,balance:(0,H.hexToDecimal)(n),string:(0,H.getValueFromWeiHex)({value:n,numberOfDecimals:4,toDenomination:"ETH"})}},r.getTargetAccount=function(e,t){return ce(e)[t]},r.getTargetAccountWithSendEtherInfo=function(e,t){const r=Re(e);return(0,D.getAccountByAddress)(r,t)},r.getTargetSubjectMetadata=Ke,r.getTestNetworkBackgroundColor=function(e){const t=(0,y.getProviderConfig)(e).ticker;switch(!0){case null==t?void 0:t.includes(I.GOERLI_DISPLAY_NAME):return W.BackgroundColor.goerli;case null==t?void 0:t.includes(I.SEPOLIA_DISPLAY_NAME):return W.BackgroundColor.sepolia;default:return undefined}},r.getTheme=function(e){return e.metamask.theme},r.getTokenNetworkFilter=r.getTokenList=r.getTokenExchangeRates=r.getTokenDetectionSupportNetworkByChainId=r.getThirdPartyNotifySnaps=void 0,r.getTokenScanCache=Dt,r.getTokenSortConfig=r.getTokenScanResultsForAddresses=void 0,r.getTokensAcrossChainsByAccountAddress=be,r.getTokensMarketData=r.getTokensAcrossChainsByAccountAddressSelector=void 0,r.getTotalUnapprovedCount=function(e){return e.metamask.pendingApprovalCount??0},r.getTxData=r.getTransaction=void 0,r.getUSDConversionRate=function(e){var t;return null===(t=e.metamask.currencyRates[(0,y.getProviderConfig)(e).ticker])||void 0===t?void 0:t.usdConversionRate},r.getUnapprovedConfirmations=r.getUSDConversionRateByChainId=void 0,r.getUnapprovedTemplatedConfirmations=je,r.getUnapprovedTransaction=void 0,r.getUnapprovedTxCount=function(e){const t=(0,z.getUnapprovedTransactions)(e);return Object.keys(t).length},r.getUnconnectedAccounts=function(e,t){const r=Ne(e),n=er(e,t);return r.filter(e=>!n.some(t=>t.address===e.address))},r.getUpdatedAndSortedAccountsWithCaipAccountId=r.getUpdatedAndSortedAccounts=void 0,r.getUrlScanCacheResult=function(e,t){var r;if(!t)return undefined;return null===(r=e.metamask.urlScanCache)||void 0===r?void 0:r[t]},r.getUseBlockie=function(e){return Boolean(e.metamask.useBlockie)},r.getUseCurrencyRateCheck=Bt,r.getUseExternalNameSources=function(e){return e.metamask.useExternalNameSources},r.getUseExternalServices=ot,r.getUseNftDetection=function(e){return Boolean(e.metamask.useNftDetection)},r.getUsePhishDetect=function(e){return e.metamask.usePhishDetect},r.getUseTokenDetection=Ct,r.getUseTransactionSimulations=function(e){return Boolean(e.metamask.useTransactionSimulations)},r.getWatchedToken=void 0,r.getWeb3ShimUsageStateForOrigin=function(e,t){return e.metamask.web3ShimUsageOrigins[t]},r.getsnapsAddSnapAccountModalDismissed=function(e){const{snapsAddSnapAccountModalDismissed:t}=e.metamask;return t},r.isAccountConnectedToCurrentTab=void 0,r.isBalanceCached=function(e){var t;const{address:r}=(0,Z.getSelectedInternalAccount)(e),n=null===(t=_e(e))||void 0===t||null===(t=t[r])||void 0===t?void 0:t.balance,o=Ae(e);return Boolean(!n&&o)},r.isCurrentProviderCustom=function(e){const t=(0,y.getProviderConfig)(e);return t.type===I.NETWORK_TYPES.RPC&&!Object.values(I.CHAIN_IDS).includes(t.chainId)},r.isGlobalNetworkSelectorRemoved=void 0,r.isHardwareWallet=se,r.useSafeChainsListValidationSelector=r.selectNonZeroUnusedApprovalsAllowList=r.selectNftsByChainId=r.selectNetworkIdentifierByChainId=r.selectNetworkConfigurationByChainId=r.selectInstalledSnaps=r.selectERC20TokensByChain=r.selectERC20Tokens=r.selectDefaultRpcEndpointByChainId=r.selectConversionRateByChainId=r.selectAllTokensFlat=r.rawStateSelector=void 0;var n,o=e("punycode/punycode.js"),s=e("@metamask/permission-controller"),a=e("@metamask/controller-utils"),i=e("@metamask/snaps-utils"),c=e("lodash"),u=(n=e("semver"))&&n.__esModule?n:{default:n},l=e("reselect"),d=e("@metamask/name-controller"),p=e("@metamask/transaction-controller"),h=e("@metamask/keyring-api"),f=e("@metamask/network-controller"),g=e("@metamask/snaps-rpc-methods"),m=e("@metamask/chain-agnostic-permission"),E=e("@metamask/keyring-controller"),_=e("@metamask/bridge-controller"),v=e("@metamask/utils"),T=e("@metamask/eth-qr-keyring"),S=e("../../shared/lib/multichain-feature-flags"),b=e("../helpers/utils/token-cache-utils"),y=e("../../shared/modules/selectors/networks"),N=e("../../shared/modules/selectors/multichain"),A=e("../../app/scripts/lib/util"),I=e("../../shared/constants/network"),O=e("../../shared/constants/hardware-wallets"),k=e("../../shared/constants/keyring"),w=e("../../shared/constants/labels"),C=e("../../shared/constants/swaps"),R=e("../../shared/constants/bridge"),P=e("../../shared/constants/transaction"),D=e("../helpers/utils/util"),M=e("../pages/confirmations/confirmation/templates"),L=e("../../shared/constants/tokens"),j=e("../../shared/constants/time"),B=e("../../shared/constants/terms"),x=e("../../shared/constants/app"),F=e("../ducks/metamask/metamask"),U=e("../ducks/app/app"),G=e("../../shared/modules/string-utils"),H=e("../../shared/modules/conversion.utils"),W=e("../helpers/constants/design-system"),K=e("../../shared/constants/multichain/assets"),q=e("../../shared/modules/transaction.utils"),V=e("../../shared/modules/hexstring-utils"),$=e("../../shared/modules/selectors/util"),Y=e("../helpers/utils/snaps"),J=e("./shared"),z=e("./transactions"),Z=e("./accounts"),X=e("./multichain"),Q=e("./multichain/networks"),ee=e("./remote-feature-flags"),te=e("./approvals");const re=r.isGlobalNetworkSelectorRemoved=!0;r.getConfirmationExchangeRates=e=>e.appState.confirmationExchangeRates;function ne(e){return e.metamask.activeQrCodeScanRequest}function oe(e){var t;const r=(0,Z.getSelectedInternalAccount)(e);return r?null===(t=r.metadata)||void 0===t?void 0:t.keyring:null}function se(e){var t;const r=oe(e);return Boolean(null==r||null===(t=r.type)||void 0===t?void 0:t.includes("Hardware"))}function ae(e){return ie(oe(e))}function ie(e){if(!e)return"";const{type:t}=e;switch(t){case k.KeyringType.trezor:case k.KeyringType.oneKey:case k.KeyringType.ledger:case k.KeyringType.lattice:case k.KeyringType.qr:return"hardware";case k.KeyringType.imported:return"imported";case k.KeyringType.snap:return"snap";default:return"default"}}r.getPendingTokens=e=>e.appState.pendingTokens;const ce=r.getMetaMaskAccounts=(0,$.createDeepEqualSelector)(Z.getInternalAccounts,_e,ve,X.getMultichainBalances,X.getMultichainNetworkProviders,y.getCurrentChainId,(e,t)=>t,(e,t,r,n,o,s,a)=>Object.values(e).reduce((e,i)=>{let c=i;if(a===undefined||s===a){if((0,h.isEvmAccountType)(i.type))null!=t&&t[i.address]&&(c={...c,...t[i.address]});else{var u;const e=o.find(e=>e.isAddressCompatible(i.address));c={...c,balance:(null==n||null===(u=n[i.id])||void 0===u||null===(u=u[K.MULTICHAIN_NETWORK_TO_ASSET_TYPES[e.chainId]])||void 0===u?void 0:u.amount)??"0"}}null!==c.balance&&c.balance!==undefined||(c={...c,balance:(r&&r[i.address])??"0x0"})}else c={...c,balance:(r&&r[i.address])??"0x0"};return e[i.address]=c,e},{}));function ue(e){var t;return null===(t=(0,Z.getSelectedInternalAccount)(e))||void 0===t?void 0:t.address}const le=r.getInternalAccountByAddress=(0,l.createSelector)(e=>e.metamask.internalAccounts.accounts,(e,t)=>t,(e,t)=>Object.values(e).find(e=>(0,G.isEqualCaseInsensitive)(e.address,t)));function de(e,t){return e.metamask.internalAccounts.accounts[t]}const pe=r.getEvmInternalAccounts=(0,l.createSelector)(Z.getInternalAccounts,e=>e.filter(e=>(0,h.isEvmAccountType)(e.type))),he=r.getSelectedEvmInternalAccount=(0,l.createSelector)(pe,e=>{const[t]=(0,D.sortSelectedInternalAccounts)(e);return t}),fe=r.getInternalAccountsSortedByKeyring=(0,$.createDeepEqualSelector)(me,ce,(e,t)=>{const r="thirdPartySnaps",n=Object.values(t).reduce((e,t)=>{var n;if((null===(n=t.metadata)||void 0===n||null===(n=n.keyring)||void 0===n?void 0:n.type)===E.KeyringTypes.snap){const{entropySource:n=r}=t.options||{};e[n]||(e[n]=[]),e[n].push(t)}return e},{});return e.reduce((e,o)=>{const s=o.accounts.map(e=>t[e]);if(o.type===E.KeyringTypes.hd){const t=n[o.metadata.id]||[];return e.push(...s,...t),e}if(o.type===E.KeyringTypes.snap){const t=(n[r]||[]).filter(t=>!e.some(e=>e.id===t.id));return e.push(...t),e}return e.push(...s),e},[])});function ge(e){const{tokens:t}=e.metamask;return t?t.length:0}function me(e){return e.metamask.keyrings}function Ee(e){return e.metamask.keyrings.filter(e=>e.type===E.KeyringTypes.hd)}function _e(e){var t;const r=(0,y.getCurrentChainId)(e),n=(null===(t=e.metamask)||void 0===t||null===(t=t.accountsByChainId)||void 0===t?void 0:t[r])??{};return Object.entries(n).reduce((e,[t,r])=>(e[t.toLowerCase()]=r,e),{})}function ve(e,t){var r;const n=(0,N.getEnabledNetworks)(e),o=(null==n?void 0:n.eip155)??{},s=Object.keys(o).filter(e=>Boolean(o[e]));if(1===s.length){var a;const t=s[0];return null!==(a=e.metamask.accountsByChainId)&&void 0!==a&&a[t]?Object.entries(e.metamask.accountsByChainId[t]).reduce((e,[t,r])=>(e[t.toLowerCase()]=r.balance,e),{}):{}}const i=t??(0,y.getCurrentChainId)(e);return null!==(r=e.metamask.accountsByChainId)&&void 0!==r&&r[i]?Object.entries(e.metamask.accountsByChainId[i]).reduce((e,[t,r])=>(e[t.toLowerCase()]=r.balance,e),{}):{}}function Te(e){const{accountsByChainId:t}=e.metamask,{address:r}=he(e),n=(0,V.toChecksumHexAddress)(r),o={};for(const[e,r]of Object.entries(t||{}))r[n]&&(o[e]=r[n].balance);return o}r.getNativeTokenCachedBalanceByChainIdSelector=(0,l.createSelector)(e=>e,(e,t)=>t,(e,t)=>Se(e,t)),r.getTokensAcrossChainsByAccountAddressSelector=(0,l.createSelector)(e=>e,(e,t)=>t,(e,t)=>be(e,t));function Se(e,t){const{accountsByChainId:r}=e.metamask,n=(0,V.toChecksumHexAddress)(t),o={};for(const[e,t]of Object.entries(r||{}))t[n]&&(o[e]=t[n].balance);return o}function be(e,t){const{allTokens:r}=e.metamask,n={},o=Se(e,t);return new Set([...Object.keys(r||{}),...Object.keys(o||{})]).forEach(s=>{var a;n[s]||(n[s]=[]),null!==(a=r[s])&&void 0!==a&&a[t]&&r[s][t].forEach(e=>{const t={...e,chainId:s,isNative:!1};n[s].push(t)});const i=o[s];if(i){const t=ye(e,s);n[s].push({...t,address:"",balance:i,chainId:s,isNative:!0,image:it(s)})}}),n}function ye(e,t){const{networkConfigurationsByChainId:r}=e.metamask,n=null==r?void 0:r[t];if(n){return{symbol:n.nativeCurrency||P.AssetType.native,decimals:18,name:n.name||"Native Token"}}const{provider:o}=e.metamask;if((null==o?void 0:o.chainId)===t){var s;return{symbol:o.ticker||P.AssetType.native,decimals:(null===(s=o.nativeCurrency)||void 0===s?void 0:s.decimals)||18,name:o.nickname||"Native Token"}}const a=I.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t],i=I.NETWORK_TO_NAME_MAP[t];return a&&i?{symbol:a,decimals:18,name:i}:{symbol:P.AssetType.native,decimals:18,name:"Native Token"}}const Ne=r.getMetaMaskAccountsOrdered=(0,$.createDeepEqualSelector)(fe,ce,(e,t)=>e.map(e=>({...e,...null!=e&&e.address&&t[e.address]||{}})));r.getMetaMaskAccountsConnected=(0,l.createSelector)(Ne,e=>e.map(({address:e})=>e.toLowerCase()));function Ae(e){const t=ve(e),{address:r}=(0,Z.getSelectedInternalAccount)(e);return null==t?void 0:t[r]}function Ie(e){return e.metamask.allTokens}r.selectAllTokensFlat=(0,l.createSelector)(Ie,e=>Object.values(e).reduce((e,t)=>{const r=Object.values(t);return e.concat(...r)},[]));function Oe(e){return e.metamask.domains}const ke=r.getSelectedAccount=(0,$.createDeepEqualSelector)(ce,Z.getSelectedInternalAccount,(e,t)=>t?{...t,...e[t.address]}:undefined);r.getWatchedToken=e=>(0,l.createSelector)([ke,Ie],(t,r)=>{var n;const{chainId:o}=e;return null==r||null===(n=r[o])||void 0===n||null===(n=n[t.address])||void 0===n?void 0:n.find(t=>(0,V.toChecksumHexAddress)(t.address)===(0,V.toChecksumHexAddress)(e.txParams.to))});r.getTokenExchangeRates=(0,l.createSelector)(e=>(0,y.getCurrentChainId)(e),e=>e.metamask.marketData,(e,t)=>{const r=(null==t?void 0:t[e])??{};return Object.entries(r).reduce((e,[t,r])=>(e[t]=(null==r?void 0:r.price)??null,e),{})});r.getCrossChainTokenExchangeRates=e=>{const t=e.metamask.marketData??{};return Object.keys(t).reduce((e,r)=>(e[r]=Object.keys(t[r]).reduce((e,n)=>{var o;return e[n]=null===(o=t[r][n])||void 0===o?void 0:o.price,e},{}),e),{})};r.getTokensMarketData=e=>{var t;const r=(0,y.getCurrentChainId)(e);return null===(t=e.metamask.marketData)||void 0===t?void 0:t[r]};function we(e){const t=e.metamask.addressBook;return Object.entries(t).filter(([e,t])=>"*"!==e).map(([e,t])=>Object.values(t).map(t=>({...t,chainId:e}))).flat()}function Ce(e,t){return we(e).find(e=>(0,G.isEqualCaseInsensitive)(e.address,t))}function Re(e){const t=ce(e),r=(0,Z.getInternalAccounts)(e);return Object.values(r).map(e=>({...e,...t[e.address]}))}function Pe(e){const{address:t}=(0,Z.getSelectedInternalAccount)(e),r=Re(e);return(0,D.getAccountByAddress)(r,t)}r.getMarketData=e=>e.metamask.marketData;r.getNetworkConfigurationIdByChainId=(0,$.createDeepEqualSelector)(e=>e.metamask.networkConfigurationsByChainId,e=>Object.entries(e).reduce((e,[t,r])=>{const n=r.rpcEndpoints[r.defaultRpcEndpointIndex];return e[t]=n.networkClientId,e},{}));const De=r.selectNetworkConfigurationByChainId=(0,l.createSelector)(y.getNetworkConfigurationsByChainId,(e,t)=>t,(e,t)=>e[t]),Me=r.selectDefaultRpcEndpointByChainId=(0,l.createSelector)(De,e=>{if(!e)return undefined;const{defaultRpcEndpointIndex:t,rpcEndpoints:r}=e;return r[t]});r.getIsRpcFailoverEnabled=(0,l.createSelector)(ee.getRemoteFeatureFlags,e=>e.walletFrameworkRpcFailoverEnabled??!1),r.selectConversionRateByChainId=(0,l.createSelector)(De,e=>e,(e,t)=>{var r;if(!e)return undefined;const{nativeCurrency:n}=e;return null===(r=t.metamask.currencyRates[n])||void 0===r?void 0:r.conversionRate}),r.selectNftsByChainId=(0,l.createSelector)(Z.getSelectedInternalAccount,e=>e.metamask.allNfts,(e,t)=>t,(e,t,r)=>{var n;return(null==t||null===(n=t[e.address])||void 0===n?void 0:n[r])??J.EMPTY_ARRAY}),r.selectNetworkIdentifierByChainId=(0,l.createSelector)(De,Me,(e,t)=>{const{name:r}=e??{},{url:n,networkClientId:o}=t??{};return r||n||o});const Le=r.getUnapprovedConfirmations=(0,$.createDeepEqualSelector)(e=>e.metamask.pendingApprovals||{},e=>Object.values(e));function je(e){return Le(e).filter(e=>M.TEMPLATED_CONFIRMATION_APPROVAL_TYPES.includes(e.type))}function Be(e){return(0,y.getCurrentChainId)(e)===I.CHAIN_IDS.MAINNET}function xe(e){const t=(0,y.getCurrentChainId)(e);return I.TEST_CHAINS.includes(t)}function Fe({metamask:e}){return e.preferences??{}}function Ue(e){const{showTestNetworks:t}=Fe(e);return Boolean(t)}r.getTokenSortConfig=(0,$.createDeepEqualSelector)(Fe,({tokenSortConfig:e})=>e);const Ge=r.getTokenNetworkFilter=(0,$.createDeepEqualSelector)(y.getCurrentChainId,Fe,Q.getIsEvmMultichainNetworkSelected,Q.getSelectedMultichainNetworkChainId,(e,{tokenNetworkFilter:t},r,n)=>r?I.FEATURED_NETWORK_CHAIN_IDS.includes(e)?Object.entries(t||{}).reduce((e,[t,r])=>(I.FEATURED_NETWORK_CHAIN_IDS.includes(t)&&(e[t]=r),e),{}):{[e]:!0}:{[n]:!0});function He(e){const t=(0,y.getCurrentChainId)(e),r=(0,N.getEnabledNetworks)(e),n=Ge(e),o=(0,Q.getSelectedMultichainNetworkChainId)(e),{namespace:s}=(0,v.parseCaipChainId)(o),a=re?(null==r?void 0:r[s])??{}:n;return 1===Object.keys(a).length&&Object.keys(a)[0]===t}const We=(0,c.memoize)(e=>`data:image/svg+xml;utf8,${encodeURIComponent(e)}`);function Ke(e,t){const r=Yt(e)[t];if((null==r?void 0:r.subjectType)===s.SubjectType.Snap){const{svgIcon:e,...t}=r;return{...t,iconUrl:e?We(e):null}}return r}const qe=e=>e;r.rawStateSelector=qe;const Ve=(e,t)=>t,$e=e=>e.metamask.snaps;r.selectInstalledSnaps=$e;const Ye=r.getSnapRegistryData=(0,l.createSelector)([e=>{var t;return null===(t=e.metamask.database)||void 0===t?void 0:t.verifiedSnaps},Ve],(e,t)=>e?e[t]:null),Je=r.getSnapLatestVersion=(0,l.createSelector)([Ye],e=>e?Object.keys(e.versions).reduce((e,t)=>u.default.gt(t,e)?t:e,"0.0.0"):null),ze=r.getAllSnapAvailableUpdates=(0,l.createSelector)([$e,qe],(e,t)=>{const r=new Map;return Object.keys(e).forEach(n=>{const o=Je(t,n);r.set(n,!!o&&u.default.gt(o,e[n].version))}),r}),Ze=(r.getAnySnapUpdateAvailable=(0,l.createSelector)([ze],e=>[...e.values()].some(e=>!0===e)),r.getHideSnapBranding=(0,$.createDeepEqualSelector)([$e,Ve],(e,t)=>{var r;return null===(r=e[t])||void 0===r?void 0:r.hideSnapBranding}),r.getMemoizedTargetSubjectMetadata=(0,$.createDeepEqualSelector)(Ke,e=>e),r.getMemoizedUnapprovedConfirmations=(0,$.createDeepEqualSelector)(Le,e=>e),r.getMemoizedUnapprovedTemplatedConfirmations=(0,$.createDeepEqualSelector)(je,e=>e),(e,t)=>t),Xe=r.getMemoizedInterfaces=(0,$.createDeepEqualSelector)(e=>e.metamask.interfaces,e=>e),Qe=r.getInterface=(0,l.createSelector)([Xe,Ze],(e,t)=>e[t]),et=(r.getMemoizedInterface=(0,$.createDeepEqualSelector)(Qe,e=>e),r.getInterfaceContent=(0,l.createSelector)([Xe,Ze],(e,t)=>{var r;return null===(r=e[t])||void 0===r?void 0:r.content}));r.getMemoizedInterfaceContent=(0,$.createDeepEqualSelector)(et,e=>e),r.getMultipleTargetsSubjectMetadata=(0,$.createDeepEqualSelector)([qe,(e,t)=>t],(e,t)=>Object.keys(t??{}).reduce((t,r)=>(t[r]=Ke(e,r),t),{}));function tt(e){const{rpcPrefs:t}=(0,y.getProviderConfig)(e);return t}function rt(e){var t;return null==e||null===(t=e.metamask)||void 0===t?void 0:t.appActiveTab}function nt(e){if((0,A.getEnvironmentType)()===x.ENVIRONMENT_TYPE_SIDEPANEL){const t=rt(e);return null==t?void 0:t.origin}return e.activeTab.origin}function ot(e){return e.metamask.useExternalServices}function st(e){return e.metamask.currencyRates}r.getUSDConversionRateByChainId=e=>(0,l.createSelector)(st,t=>De(t,e),(e,t)=>{var r;if(!t)return undefined;const{nativeCurrency:n}=t;return null===(r=e[n])||void 0===r?void 0:r.usdConversionRate});const at=(0,$.createDeepEqualSelector)([e=>(0,ee.getRemoteFeatureFlags)(e).bridgeConfig],e=>(0,_.selectBridgeFeatureFlags)({remoteFeatureFlags:{bridgeConfig:e}}));r.getIsBridgeEnabled=(0,l.createSelector)([at,ot],(e,t)=>(t&&(null==e?void 0:e.support))??!1);function it(e){return I.CHAIN_ID_TOKEN_IMAGE_MAP[e]??undefined}r.getMemoizedMetaMaskInternalAccounts=(0,$.createDeepEqualSelector)(Z.getInternalAccounts,e=>e),r.selectERC20TokensByChain=(0,$.createDeepEqualSelector)(e=>e.metamask.tokensChainsCache,e=>e);const ct=r.selectERC20Tokens=(0,$.createDeepEqualSelector)(y.getCurrentChainId,e=>e.metamask.tokensChainsCache,(e,t)=>{var r;return(null==t||null===(r=t[e])||void 0===r?void 0:r.data)||{}}),ut=r.getTokenList=(0,l.createSelector)(ct,Pt,(e,t)=>t?L.STATIC_MAINNET_TOKEN_LIST:e),lt=r.getMemoizedMetadataContract=(0,l.createSelector)((e,t)=>ut(e),(e,t)=>t,(e,t)=>e[null==t?void 0:t.toLowerCase()]),dt=(r.getMetadataContractName=(0,l.createSelector)(lt,e=>(null==e?void 0:e.name)??""),e=>e.confirmTransaction.txData);r.getTxData=dt;const pt=r.getUnapprovedTransaction=(0,$.createDeepEqualSelector)(e=>(0,z.getUnapprovedTransactions)(e),(e,t)=>t,(e,t)=>Object.values(e).find(({id:e})=>e===t)),ht=r.getTransaction=(0,$.createDeepEqualSelector)(e=>(0,z.getCurrentNetworkTransactions)(e),(e,t)=>t,(e,t)=>Object.values(e).find(({id:e})=>e===t)||{}),ft=(r.getFullTxData=(0,$.createDeepEqualSelector)(dt,(e,t,r)=>r===p.TransactionStatus.unapproved?pt(e,t)??{}:ht(e,t),(e,t,r,n,o)=>({customTxParamsData:n,hexTransactionAmount:o}),(e,t,{customTxParamsData:r,hexTransactionAmount:n})=>{let o={...e,...t};return t&&t.simulationFails&&(o.simulationFails={...t.simulationFails}),r&&(o={...o,txParams:{...o.txParams,data:r}}),n&&(o={...o,txParams:{...o.txParams,value:n}}),o}),r.getConnectedSubjectsForAllAddresses=(0,$.createDeepEqualSelector)(Ft,Yt,(e,t)=>{const r={};return Object.entries(e).forEach(([e,n])=>{zt(n).forEach(n=>{r[n]||(r[n]=[]);const o=t[e];r[n].push({origin:e,...o})})}),r})),gt=r.getAllConnectedAccounts=(0,$.createDeepEqualSelector)(ft,e=>Object.keys(e)),mt=r.getConnectedSitesList=(0,$.createDeepEqualSelector)(ft,Z.getInternalAccounts,gt,(e,t,r)=>{const n={};return r.forEach(r=>{e[r].forEach(e=>{const o=e.origin,s=t.find(e=>(0,G.isEqualCaseInsensitive)(e.address,r));n[o]?(n[o].addresses.push(r),n[o].addressToNameMap[r]=(null==s?void 0:s.metadata.name)||""):n[o]={...e,addresses:[r],addressToNameMap:{[r]:(null==s?void 0:s.metadata.name)||""}}})}),n});r.getMemoizedCurrentChainId=(0,$.createDeepEqualSelector)(y.getCurrentChainId,e=>e);function Et(e){return e.metamask.snaps}function _t(e){return e.metamask.currentLocale}r.getSnap=(0,$.createDeepEqualSelector)(Et,(e,t)=>t,(e,t)=>e[t]);const vt=r.getSnapsMetadata=(0,$.createDeepEqualSelector)(_t,Et,(e,t)=>Object.values(t).reduce((t,r)=>{const n=r.id,o=r.localizationFiles?(0,i.getLocalizedSnapManifest)(r.manifest,e,r.localizationFiles):r.manifest;return t[n]={name:o.proposedName,description:o.description,hidden:r.hidden},t},{})),Tt=r.getSnapMetadata=(0,$.createDeepEqualSelector)(vt,(e,t)=>t,(e,t)=>e[t]??{name:t?(0,i.stripSnapPrefix)(t):null}),St=r.getEnabledSnaps=(0,$.createDeepEqualSelector)(Et,e=>Object.values(e).reduce((e,t)=>(t.enabled&&(e[t.id]=t),e),{})),bt=(r.getPreinstalledSnaps=(0,$.createDeepEqualSelector)(Et,e=>Object.values(e).reduce((e,t)=>(t.preinstalled&&(e[t.id]=t),e),{})),r.getInsightSnaps=(0,$.createDeepEqualSelector)(St,Ft,(e,t)=>Object.values(e).filter(({id:e})=>{var r;return null===(r=t[e])||void 0===r?void 0:r.permissions["endowment:transaction-insight"]}))),yt=r.getSettingsPageSnaps=(0,$.createDeepEqualSelector)(St,Ft,(e,t)=>Object.values(e).filter(({id:e,preinstalled:r})=>{var n;return(null===(n=t[e])||void 0===n?void 0:n.permissions[g.SnapEndowments.SettingsPage])&&r&&!(0,Y.isSnapIgnoredInProd)(e)})),Nt=r.getSignatureInsightSnaps=(0,$.createDeepEqualSelector)(St,Ft,(e,t)=>Object.values(e).filter(({id:e})=>{var r;return null===(r=t[e])||void 0===r?void 0:r.permissions["endowment:signature-insight"]})),At=(r.getSignatureInsightSnapIds=(0,$.createDeepEqualSelector)(Nt,e=>e.map(e=>e.id)),r.getInsightSnapIds=(0,$.createDeepEqualSelector)(bt,e=>e.map(e=>e.id)),r.getNameLookupSnapsIds=(0,$.createDeepEqualSelector)(St,Ft,(e,t)=>Object.values(e).filter(({id:e})=>{var r;return null===(r=t[e])||void 0===r?void 0:r.permissions["endowment:name-lookup"]}).map(e=>e.id)),r.getNameLookupSnaps=(0,$.createDeepEqualSelector)(St,Ft,(e,t)=>Object.values(e).filter(({id:e})=>{var r;return null===(r=t[e])||void 0===r?void 0:r.permissions["endowment:name-lookup"]}).map(e=>{var r;return{id:e.id,permission:null===(r=t[e.id])||void 0===r?void 0:r.permissions["endowment:name-lookup"]}})),r.getSettingsPageSnapsIds=(0,$.createDeepEqualSelector)(yt,e=>e.map(e=>e.id)),r.getNotifySnaps=(0,$.createDeepEqualSelector)(St,Ft,(e,t)=>Object.values(e).filter(({id:e})=>{var r;return null===(r=t[e])||void 0===r?void 0:r.permissions.snap_notify})));r.getThirdPartyNotifySnaps=(0,$.createDeepEqualSelector)(At,e=>e.filter(e=>!e.preinstalled));r.getSnapInsights=(0,$.createDeepEqualSelector)(function(e){return e.metamask.insights},(e,t)=>t,(e,t)=>null==e?void 0:e[t]);function It(e){return e.metamask.pinnedAccountList}function Ot(e){return e.metamask.hiddenAccountList}function kt(e){const t={...(0,z.getAllUnapprovedTransactions)(e),...e.metamask.unapprovedDecryptMsgs,...e.metamask.unapprovedPersonalMsgs,...e.metamask.unapprovedEncryptionPublicKeyMsgs,...e.metamask.unapprovedTypedMessages};return Object.keys(t).length}const wt=r.getCurrentNetwork=(0,$.createDeepEqualSelector)(y.getNetworkConfigurationsByChainId,y.getCurrentChainId,(e,t)=>{var r;const n=e[t],o=n.rpcEndpoints[n.defaultRpcEndpointIndex],s=null===(r=n.blockExplorerUrls)||void 0===r?void 0:r[n.defaultBlockExplorerUrlIndex];return{chainId:n.chainId,id:o.networkClientId,nickname:n.name,rpcUrl:o.url,ticker:n.nativeCurrency,blockExplorerUrl:s,rpcPrefs:{blockExplorerUrl:s,imageUrl:I.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[n.chainId]},...o.type===f.RpcEndpointType.Infura&&{providerType:o.networkClientId}}});r.getSelectedNetwork=(0,$.createDeepEqualSelector)(y.getSelectedNetworkClientId,y.getNetworkConfigurationsByChainId,(e,t)=>{if(e===undefined)throw new Error("No network is selected");const r=Object.values(t).find(t=>t.rpcEndpoints.some(t=>t.networkClientId===e));if(r===undefined)throw new Error("Could not find network configuration for selected network client");return{configuration:r,clientId:e}}),r.getConnectedSitesListWithNetworkInfo=(0,$.createDeepEqualSelector)(mt,Oe,y.getNetworkConfigurationsByChainId,wt,(e,t,r,n)=>(Object.keys(e).forEach(o=>{const s=Object.values(r).find(e=>e.rpcEndpoints.some(e=>e.networkClientId===t[o]));e[o].networkIconUrl=I.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[null==s?void 0:s.chainId]||"",e[o].networkName=(null==s?void 0:s.name)||(null==n?void 0:n.nickname)||""}),e));function Ct(e){return Boolean(e.metamask.useTokenDetection)}r.getAllEnabledNetworks=(0,$.createDeepEqualSelector)(y.getNetworkConfigurationsByChainId,Ue,(e,t)=>Object.entries(e).reduce((e,[r,n])=>(!t&&I.TEST_CHAINS.includes(r)||(e[r]=n),e),{})),r.getAllChainsToPoll=(0,$.createDeepEqualSelector)(y.getNetworkConfigurationsByChainId,y.getCurrentChainId,(e,t)=>Object.keys(e).filter(e=>e===t||I.FEATURED_NETWORK_CHAIN_IDS.includes(e))),r.getChainIdsToPoll=(0,$.createDeepEqualSelector)(y.getNetworkConfigurationsByChainId,y.getCurrentChainId,He,(e,t,r)=>r?[t]:Object.keys(e).filter(e=>e===t||I.FEATURED_NETWORK_CHAIN_IDS.includes(e))),r.getNetworkClientIdsToPoll=(0,$.createDeepEqualSelector)(y.getNetworkConfigurationsByChainId,y.getCurrentChainId,He,(e,t,r)=>{if(r){const r=e[t];return[r.rpcEndpoints[r.defaultRpcEndpointIndex].networkClientId]}return Object.entries(e).reduce((e,[r,n])=>((r===t||I.FEATURED_NETWORK_CHAIN_IDS.includes(r))&&e.push(n.rpcEndpoints[n.defaultRpcEndpointIndex].networkClientId),e),[])});function Rt(e){const t=(0,y.getCurrentChainId)(e);return[I.CHAIN_IDS.MAINNET,I.CHAIN_IDS.BSC,I.CHAIN_IDS.POLYGON,I.CHAIN_IDS.AVALANCHE,I.CHAIN_IDS.LINEA_GOERLI,I.CHAIN_IDS.LINEA_SEPOLIA,I.CHAIN_IDS.LINEA_MAINNET,I.CHAIN_IDS.ARBITRUM,I.CHAIN_IDS.OPTIMISM,I.CHAIN_IDS.BASE,I.CHAIN_IDS.ZKSYNC_ERA,I.CHAIN_IDS.CRONOS,I.CHAIN_IDS.CELO,I.CHAIN_IDS.GNOSIS,I.CHAIN_IDS.FANTOM,I.CHAIN_IDS.POLYGON_ZKEVM,I.CHAIN_IDS.MOONBEAM,I.CHAIN_IDS.MOONRIVER,I.CHAIN_IDS.SEI,I.CHAIN_IDS.MONAD].includes(t)}function Pt(e){const t=Be(e);return!Ct(e)&&t}function Dt(e){return e.metamask.tokenScanCache}r.getTokenDetectionSupportNetworkByChainId=e=>{switch((0,y.getCurrentChainId)(e)){case I.CHAIN_IDS.MAINNET:return I.MAINNET_DISPLAY_NAME;case I.CHAIN_IDS.BSC:return I.BSC_DISPLAY_NAME;case I.CHAIN_IDS.POLYGON:return I.POLYGON_DISPLAY_NAME;case I.CHAIN_IDS.AVALANCHE:return I.AVALANCHE_DISPLAY_NAME;case I.CHAIN_IDS.LINEA_GOERLI:return I.LINEA_GOERLI_DISPLAY_NAME;case I.CHAIN_IDS.LINEA_SEPOLIA:return I.LINEA_SEPOLIA_DISPLAY_NAME;case I.CHAIN_IDS.LINEA_MAINNET:return I.LINEA_MAINNET_DISPLAY_NAME;case I.CHAIN_IDS.ARBITRUM:return I.ARBITRUM_DISPLAY_NAME;case I.CHAIN_IDS.OPTIMISM:return I.OPTIMISM_DISPLAY_NAME;case I.CHAIN_IDS.BASE:return I.BASE_DISPLAY_NAME;case I.CHAIN_IDS.ZKSYNC_ERA:return I.ZK_SYNC_ERA_DISPLAY_NAME;case I.CHAIN_IDS.CRONOS:return I.CRONOS_DISPLAY_NAME;case I.CHAIN_IDS.CELO:return I.CELO_DISPLAY_NAME;case I.CHAIN_IDS.GNOSIS:return I.GNOSIS_DISPLAY_NAME;case I.CHAIN_IDS.FANTOM:return I.FANTOM_DISPLAY_NAME;case I.CHAIN_IDS.POLYGON_ZKEVM:return I.POLYGON_ZKEVM_DISPLAY_NAME;case I.CHAIN_IDS.MOONBEAM:return I.MOONBEAM_DISPLAY_NAME;case I.CHAIN_IDS.MOONRIVER:return I.MOONRIVER_DISPLAY_NAME;default:return""}};r.getTokenScanResultsForAddresses=(0,$.createDeepEqualSelector)(Dt,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(!t||!r||!Array.isArray(r))return{};const n={};return r.forEach(r=>{if(r){const o=(0,b.generateTokenCacheKey)(t,r);null!=e&&e[o]&&(n[o]=e[o])}}),n});function Mt(e){const t=(0,y.getCurrentChainId)(e);return!I.CHAIN_ID_TO_RPC_URL_MAP[t]}const Lt=r.getOrderedConnectedAccountsForActiveTab=(0,$.createDeepEqualSelector)(e=>e.activeTab,e=>e.metamask.permissionHistory,Ne,Vt,(e,t,r,n)=>{var o;const s=(null===(o=t[e.origin])||void 0===o||null===(o=o.eth_accounts)||void 0===o?void 0:o.accounts)||{},a=n.map(e=>{const{address:t}=(0,v.parseCaipAccountId)(e);return t});return r.filter(e=>a.includes(e.address)).map(e=>({...e,metadata:{...e.metadata,lastActive:null==s?void 0:s[e.address]}})).sort(({lastSelected:e},{lastSelected:t})=>e===t?0:e===undefined?1:t===undefined?-1:t-e)}),jt=r.getUpdatedAndSortedAccounts=(0,$.createDeepEqualSelector)(Ne,It,Ot,Lt,(e,t,r,n)=>{n.forEach(t=>{const r=e.find(e=>e.id===t.id);r&&t.metadata&&(r.connections=!0,r.lastSelected=t.metadata.lastSelected)});const o=e.filter(e=>e.connections&&e.lastSelected),s=o.length>0?o.reduce((e,t)=>e.lastSelected>t.lastSelected?e:t):null;e.forEach(e=>{e.pinned=Boolean(t.includes(e.address)),e.hidden=Boolean(r.includes(e.address)),e.active=Boolean(s&&e.id===s.id)});return[...null==t?void 0:t.map(t=>e.find(e=>e.address===t)).filter(e=>Boolean(e&&t.includes(e.address)&&!(null!=r&&r.includes(e.address)))),...e.filter(e=>!t.includes(e.address)&&!r.includes(e.address)),...e.filter(e=>r.includes(e.address))]});r.getUpdatedAndSortedAccountsWithCaipAccountId=(0,$.createDeepEqualSelector)(jt,e=>e.map(e=>{const{namespace:t,reference:r}=(0,v.parseCaipChainId)(e.scopes[0]);return{...e,caipAccountId:`${t}:${r}:${e.address}`}}));function Bt(e){return Boolean(e.metamask.useCurrencyRateCheck)}r.useSafeChainsListValidationSelector=e=>e.metamask.useSafeChainsListValidation;r.getSelectedKeyringByIdOrDefault=(0,l.createSelector)(me,(e,t)=>t,(e,t)=>e.find(e=>e.metadata.id===t)??e[0]),r.getHdKeyringIndexByIdOrDefault=(0,l.createSelector)(Ee,(e,t)=>t,(e,t)=>e.findIndex(e=>e.metadata.id===t)??0);const xt=r.getKeyringOfSelectedAccount=(0,l.createSelector)(Z.getSelectedInternalAccount,me,(e,t)=>t.find(t=>t.accounts.some(t=>(0,G.isEqualCaseInsensitive)(t,e.address))));r.getHdKeyringOfSelectedAccountOrPrimaryKeyring=(0,l.createSelector)(xt,Ee,(e,t)=>e.type===E.KeyringTypes.hd?e:t[0]),r.getPermissionSubjectsDeepEqual=(0,$.createDeepEqualSelector)(e=>e.metamask.subjects||{},e=>e),r.getSubjectMetadataDeepEqual=(0,$.createDeepEqualSelector)(e=>e.metamask.subjectMetadata,e=>e);function Ft(e){return e.metamask.subjects||{}}function Ut(e,t){return Zt(Jt(Qt(e,t)))}function Gt(e,t){return Xt(Jt(Qt(e,t)))}function Ht(e,t){const r=Jt(Qt(e,t)),n=(0,m.getCaip25CaveatFromPermission)(r);return n?(0,m.getCaipAccountIdsFromCaip25CaveatValue)(n.value):[]}function Wt(e,t){const r=Jt(Qt(e,t));return r?(0,m.getAllScopesFromPermission)(r):[]}function Kt(e){return Ut(e,nt(e))}function qt(e,t){return Ut(e,t)}function Vt(e){return Ht(e,nt(e))}function $t(e){const t=Ft(e);return Object.keys(t).reduce((e,r)=>{const n=zt(t[r]);return n.length>0&&(e[r]=n),e},{})}function Yt(e){return e.metamask.subjectMetadata}r.isAccountConnectedToCurrentTab=(0,$.createDeepEqualSelector)(Kt,(e,t)=>t,(e,t)=>e.some(e=>e===t));function Jt(e={}){var t;return null===(t=e.permissions)||void 0===t?void 0:t[m.Caip25EndowmentPermissionName]}function zt(e){return Zt(Jt(e))}function Zt(e){if(!e)return[];const t=(0,m.getCaip25CaveatFromPermission)(e);return t?(0,m.getEthAccounts)(t.value):[]}function Xt(e){if(!e)return[];const t=(0,m.getCaip25CaveatFromPermission)(e);return t?(0,m.getPermittedEthChainIds)(t.value):[]}function Qt(e,t){var r;return t&&(null===(r=e.metamask.subjects)||void 0===r?void 0:r[t])}function er(e,t){var r;const{metamask:{permissionHistory:n}}=e,o=null===(r=n[t.origin])||void 0===r||null===(r=r.eth_accounts)||void 0===r?void 0:r.accounts,s=Ne(e),a=qt(e,t);return s.filter(e=>a.includes(e.address)).filter(e=>(0,h.isEvmAccountType)(e.type)).map(e=>({...e,metadata:{...e.metadata,lastActive:null==o?void 0:o[e.address]}})).sort(({lastSelected:e},{lastSelected:t})=>e===t?0:e===undefined?1:t===undefined?-1:t-e)}function tr(e){return Object.values(e.metamask.pendingApprovals).filter(({type:e})=>"wallet_installSnap"===e||"wallet_updateSnap"===e||"wallet_installSnapResult"===e).map(({requestData:e})=>e)}function rr(e){var t;return null===(t=(0,te.getApprovalRequestsByType)(e,a.ApprovalType.WalletRequestPermissions))||void 0===t?void 0:t.map(({requestData:e})=>e)}r.selectNonZeroUnusedApprovalsAllowList=(0,l.createSelector)(ee.getRemoteFeatureFlags,e=>(null==e?void 0:e.nonZeroUnusedApprovals)??J.EMPTY_ARRAY)}}},{package:"$root$",file:"ui/selectors/selectors.js"}],[7904,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EMPTY_OBJECT=r.EMPTY_ARRAY=void 0;r.EMPTY_ARRAY=Object.freeze([]),r.EMPTY_OBJECT=Object.freeze({})}}},{package:"$root$",file:"ui/selectors/shared.ts"}],[791,{"./_version":790,"@ethersproject/address":705,"@ethersproject/bignumber":712,"@ethersproject/bytes":714,"@ethersproject/constants":718,"@ethersproject/keccak256":740,"@ethersproject/logger":742,"@ethersproject/properties":748,"@ethersproject/rlp":775,"@ethersproject/signing-key":782},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.parse=r.serialize=r.accessListify=r.recoverAddress=r.computeAddress=r.TransactionTypes=void 0;var a=e("@ethersproject/address"),i=e("@ethersproject/bignumber"),c=e("@ethersproject/bytes"),u=e("@ethersproject/constants"),l=e("@ethersproject/keccak256"),d=e("@ethersproject/properties"),p=s(e("@ethersproject/rlp")),h=e("@ethersproject/signing-key"),f=e("@ethersproject/logger"),g=e("./_version"),m=new f.Logger(g.version);function E(e){return"0x"===e?null:(0,a.getAddress)(e)}function _(e){return"0x"===e?u.Zero:i.BigNumber.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(r.TransactionTypes||(r.TransactionTypes={}));var v=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],T={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function S(e){var t=(0,h.computePublicKey)(e);return(0,a.getAddress)((0,c.hexDataSlice)((0,l.keccak256)((0,c.hexDataSlice)(t,1)),12))}function b(e,t){return S((0,h.recoverPublicKey)((0,c.arrayify)(e),t))}function y(e,t){var r=(0,c.stripZeros)(i.BigNumber.from(e).toHexString());return r.length>32&&m.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function N(e,t){return{address:(0,a.getAddress)(e),storageKeys:(t||[]).map(function(t,r){return 32!==(0,c.hexDataLength)(t)&&m.throwArgumentError("invalid access list storageKey","accessList["+e+":"+r+"]",t),t.toLowerCase()})}}function A(e){if(Array.isArray(e))return e.map(function(e,t){return Array.isArray(e)?(e.length>2&&m.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value["+t+"]",e),N(e[0],e[1])):N(e.address,e.storageKeys)});var t=Object.keys(e).map(function(t){var r=e[t].reduce(function(e,t){return e[t]=!0,e},{});return N(t,Object.keys(r).sort())});return t.sort(function(e,t){return e.address.localeCompare(t.address)}),t}function I(e){return A(e).map(function(e){return[e.address,e.storageKeys]})}function O(e,t){if(null!=e.gasPrice){var r=i.BigNumber.from(e.gasPrice),n=i.BigNumber.from(e.maxFeePerGas||0);r.eq(n)||m.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}var o=[y(e.chainId||0,"chainId"),y(e.nonce||0,"nonce"),y(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),y(e.maxFeePerGas||0,"maxFeePerGas"),y(e.gasLimit||0,"gasLimit"),null!=e.to?(0,a.getAddress)(e.to):"0x",y(e.value||0,"value"),e.data||"0x",I(e.accessList||[])];if(t){var s=(0,c.splitSignature)(t);o.push(y(s.recoveryParam,"recoveryParam")),o.push((0,c.stripZeros)(s.r)),o.push((0,c.stripZeros)(s.s))}return(0,c.hexConcat)(["0x02",p.encode(o)])}function k(e,t){var r=[y(e.chainId||0,"chainId"),y(e.nonce||0,"nonce"),y(e.gasPrice||0,"gasPrice"),y(e.gasLimit||0,"gasLimit"),null!=e.to?(0,a.getAddress)(e.to):"0x",y(e.value||0,"value"),e.data||"0x",I(e.accessList||[])];if(t){var n=(0,c.splitSignature)(t);r.push(y(n.recoveryParam,"recoveryParam")),r.push((0,c.stripZeros)(n.r)),r.push((0,c.stripZeros)(n.s))}return(0,c.hexConcat)(["0x01",p.encode(r)])}function w(e,t,r){try{var n=_(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(e){m.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,c.hexZeroPad)(t[1],32),e.s=(0,c.hexZeroPad)(t[2],32);try{var o=(0,l.keccak256)(r(e));e.from=b(o,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}r.computeAddress=S,r.recoverAddress=b,r.accessListify=A,r.serialize=function(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&m.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){(0,d.checkProperties)(e,T);var r=[];v.forEach(function(t){var n=e[t.name]||[],o={};t.numeric&&(o.hexPad="left"),n=(0,c.arrayify)((0,c.hexlify)(n,o)),t.length&&n.length!==t.length&&n.length>0&&m.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=(0,c.stripZeros)(n)).length>t.maxLength&&m.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push((0,c.hexlify)(n))});var n=0;if(null!=e.chainId?"number"!=typeof(n=e.chainId)&&m.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!(0,c.isBytesLike)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push((0,c.hexlify)(n)),r.push("0x"),r.push("0x")),!t)return p.encode(r);var o=(0,c.splitSignature)(t),s=27+o.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),s+=2*n+8,o.v>28&&o.v!==s&&m.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):o.v!==s&&m.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,c.hexlify)(s)),r.push((0,c.stripZeros)((0,c.arrayify)(o.r))),r.push((0,c.stripZeros)((0,c.arrayify)(o.s))),p.encode(r)}(e,t);switch(e.type){case 1:return k(e,t);case 2:return O(e,t)}return m.throwError("unsupported transaction type: "+e.type,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})},r.parse=function(e){var t=(0,c.arrayify)(e);if(t[0]>127)return function(e){var t=p.decode(e);9!==t.length&&6!==t.length&&m.throwArgumentError("invalid raw transaction","rawTransaction",e);var r={nonce:_(t[0]).toNumber(),gasPrice:_(t[1]),gasLimit:_(t[2]),to:E(t[3]),value:_(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=i.BigNumber.from(t[6]).toNumber()}catch(e){return r}if(r.r=(0,c.hexZeroPad)(t[7],32),r.s=(0,c.hexZeroPad)(t[8],32),i.BigNumber.from(r.r).isZero()&&i.BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var n=r.v-27,o=t.slice(0,6);0!==r.chainId&&(o.push((0,c.hexlify)(r.chainId)),o.push("0x"),o.push("0x"),n-=2*r.chainId+8);var s=(0,l.keccak256)(p.encode(o));try{r.from=b(s,{r:(0,c.hexlify)(r.r),s:(0,c.hexlify)(r.s),recoveryParam:n})}catch(e){}r.hash=(0,l.keccak256)(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){var t=p.decode(e.slice(1));8!==t.length&&11!==t.length&&m.throwArgumentError("invalid component count for transaction type: 1","payload",(0,c.hexlify)(e));var r={type:1,chainId:_(t[0]).toNumber(),nonce:_(t[1]).toNumber(),gasPrice:_(t[2]),gasLimit:_(t[3]),to:E(t[4]),value:_(t[5]),data:t[6],accessList:A(t[7])};return 8===t.length||(r.hash=(0,l.keccak256)(e),w(r,t.slice(8),k)),r}(t);case 2:return function(e){var t=p.decode(e.slice(1));9!==t.length&&12!==t.length&&m.throwArgumentError("invalid component count for transaction type: 2","payload",(0,c.hexlify)(e));var r=_(t[2]),n=_(t[3]),o={type:2,chainId:_(t[0]).toNumber(),nonce:_(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:_(t[4]),to:E(t[5]),value:_(t[6]),data:t[7],accessList:A(t[8])};return 9===t.length||(o.hash=(0,l.keccak256)(e),w(o,t.slice(9),O)),o}(t)}return m.throwError("unsupported transaction type: "+t[0],f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}}}},{package:"ethers>@ethersproject/transactions",file:"node_modules/@ethersproject/transactions/lib/index.js"}],[7914,{"../../shared/constants/transaction":5637,"../../shared/modules/conversion.utils":5732,"../../shared/modules/selectors/networks":5753,"../../shared/modules/selectors/util":5755,"../helpers/constants/transactions":6910,"../helpers/utils/tx-helper":6958,"./accounts":7875,"./approvals":7877,"@metamask/controller-utils":1383,"@metamask/smart-transactions-controller":2523,"@metamask/transaction-controller":2868,reselect:5132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.groupAndSortTransactionsByNonce=r.getUnapprovedTransactions=r.getTransactions=r.getCurrentNetworkTransactions=r.getApprovedAndSignedTransactions=r.getAllUnapprovedTransactions=r.getAllNetworkTransactions=void 0,r.hasTransactionPendingApprovals=function(e){return(0,g.getApprovalRequestsByType)(e,o.ApprovalType.Transaction).length>0||(0,g.hasPendingApprovals)(e,F)},r.nonceSortedTransactionsSelectorAllChains=r.nonceSortedTransactionsSelector=r.nonceSortedPendingTransactionsSelectorAllChains=r.nonceSortedPendingTransactionsSelector=r.nonceSortedCompletedTransactionsSelectorAllChains=r.nonceSortedCompletedTransactionsSelector=r.incomingTxListSelectorAllChains=r.incomingTxListSelector=void 0,r.selectTransactionMetadata=U,r.unapprovedTypedMessagesSelector=r.unapprovedPersonalMsgsSelector=r.unapprovedMessagesSelector=r.unapprovedEncryptionPublicKeyMsgsSelector=r.unapprovedDecryptMsgsSelector=r.transactionsSelectorAllChains=r.transactionsSelector=r.transactionSubSelectorAllChains=r.transactionSubSelector=r.submittedPendingTransactionsSelector=r.smartTransactionsListSelector=r.selectedAddressTxListSelectorAllChain=r.selectedAddressTxListSelector=r.selectTransactionSender=void 0;var n,o=e("@metamask/controller-utils"),s=e("reselect"),a=e("@metamask/transaction-controller"),i=e("@metamask/smart-transactions-controller"),c=e("../helpers/constants/transactions"),u=(n=e("../helpers/utils/tx-helper"))&&n.__esModule?n:{default:n},l=e("../../shared/constants/transaction"),d=e("../../shared/modules/conversion.utils"),p=e("../../shared/modules/selectors/networks"),h=e("../../shared/modules/selectors/util"),f=e("./accounts"),g=e("./approvals");const m=[a.TransactionType.cancel,a.TransactionType.retry],E=[i.SmartTransactionStatuses.PENDING,i.SmartTransactionStatuses.UNKNOWN,i.SmartTransactionStatuses.RESOLVED,i.SmartTransactionStatuses.CANCELLED],_=r.getTransactions=(0,h.createDeepEqualSelector)(e=>{const{transactions:t}=e.metamask??{};return null!=t&&t.length?[...t].sort((e,t)=>e.time-t.time):[]},e=>e),v=r.getAllNetworkTransactions=(0,h.createDeepEqualSelector)(_,e=>e.length?e:[]),T=r.getCurrentNetworkTransactions=(0,h.createDeepEqualSelector)(e=>{const t=_(e);if(!t.length)return[];const{chainId:r}=(0,p.getProviderConfig)(e);return t.filter(e=>e.chainId===r)},e=>e),S=r.incomingTxListSelectorAllChains=(0,h.createDeepEqualSelector)(e=>{const t=v(e),{address:r}=(0,f.getSelectedInternalAccount)(e);return t.filter(e=>e.type===a.TransactionType.incoming&&e.txParams.to===r)},e=>e),b=(r.getUnapprovedTransactions=(0,h.createDeepEqualSelector)(e=>{const t=_(e);return(0,h.filterAndShapeUnapprovedTransactions)(t)},e=>e),r.getAllUnapprovedTransactions=(0,h.createDeepEqualSelector)(e=>{const{transactions:t}=e.metamask||[];if(null==t||!t.length)return[];const r=[...t].sort((e,t)=>e.time-t.time);return(0,h.filterAndShapeUnapprovedTransactions)(r)},e=>e),r.getApprovedAndSignedTransactions=(0,h.createDeepEqualSelector)(e=>_(e).filter(e=>[a.TransactionStatus.approved,a.TransactionStatus.signed].includes(e.status)),e=>e),r.incomingTxListSelector=(0,h.createDeepEqualSelector)(e=>{const t=T(e),{address:r}=(0,f.getSelectedInternalAccount)(e);return t.filter(e=>e.type===a.TransactionType.incoming&&e.txParams.to===r)},e=>e)),y=e=>e.metamask.unapprovedPersonalMsgs;r.unapprovedPersonalMsgsSelector=y;const N=e=>e.metamask.unapprovedDecryptMsgs;r.unapprovedDecryptMsgsSelector=N;const A=e=>e.metamask.unapprovedEncryptionPublicKeyMsgs;r.unapprovedEncryptionPublicKeyMsgsSelector=A;const I=e=>e.metamask.unapprovedTypedMessages;r.unapprovedTypedMessagesSelector=I;const O=e=>{var t;const{address:r}=(0,f.getSelectedInternalAccount)(e);return null===(t=e.metamask.smartTransactionsState)||void 0===t||null===(t=t.smartTransactions)||void 0===t||null===(t=t[(0,p.getCurrentChainId)(e)])||void 0===t?void 0:t.filter(e=>{var t;return(null===(t=e.txParams)||void 0===t?void 0:t.from)===r&&!e.confirmed&&(e.status===i.SmartTransactionStatuses.PENDING||(e.type===a.TransactionType.swap||e.type===a.TransactionType.swapApproval)&&E.includes(e.status))}).map(e=>{var t;return{...e,isSmartTransaction:!0,status:null!==(t=e.status)&&void 0!==t&&t.startsWith("cancelled")?l.SmartTransactionStatus.cancelled:e.status}})};r.smartTransactionsListSelector=O;const k=r.selectedAddressTxListSelectorAllChain=(0,s.createSelector)(f.getSelectedInternalAccount,v,O,(e,t=[],r=[])=>t.filter(({txParams:t})=>t.from===e.address).filter(({type:e})=>e!==a.TransactionType.incoming).concat(r)),w=r.selectedAddressTxListSelector=(0,s.createSelector)(f.getSelectedInternalAccount,T,O,(e,t=[],r=[])=>t.filter(({txParams:t})=>t.from===e.address).filter(({type:e})=>e!==a.TransactionType.incoming).concat(r)),C=r.unapprovedMessagesSelector=(0,s.createSelector)(y,N,A,I,p.getCurrentChainId,(e={},t={},r={},n={},o)=>(0,u.default)({},e,t,r,n,o)||[]),R=r.transactionSubSelectorAllChains=(0,s.createSelector)(C,S,(e=[],t=[])=>e.concat(t)),P=r.transactionSubSelector=(0,s.createSelector)(C,b,(e=[],t=[])=>e.concat(t)),D=r.transactionsSelector=(0,s.createSelector)(P,w,(e=[],t=[])=>[...t.concat(e)].sort((e,t)=>t.time-e.time)),M=r.transactionsSelectorAllChains=(0,s.createSelector)(R,k,(e=[],t=[])=>[...t.concat(e)].sort((e,t)=>t.time-e.time)),L=(e,t)=>{const{primaryTransaction:{time:r}={}}=t;let n=e.length;for(let t=0;t<e.length;t++){const o=e[t],{primaryTransaction:{time:s}={}}=o;if(s>r){n=t;break}}e.splice(n,0,t)},j=e=>{const t=[],r=[],n=[],o={};e.forEach(e=>{const{networkClientId:s,txParams:{nonce:i}={},status:u,type:l,time:p,txReceipt:h}=e,f=`${i}-${s}`;if(void 0===i||l===a.TransactionType.incoming){const n={transactions:[e],initialTransaction:e,primaryTransaction:e,hasRetried:!1,hasCancelled:!1,nonce:i};l===a.TransactionType.incoming?r.push(n):L(t,n)}else if(f in o){var g,E;const t=o[f];((e,t)=>{const{time:r}=t;let n=e.length;for(let t=0;t<e.length;t++)if(e[t].time>r){n=t;break}e.splice(n,0,t)})(t.transactions,e);const{primaryTransaction:{time:r=0}={},initialTransaction:{time:n=0}={}}=t,s={isOnChainFailure:"0x0"===(null==h?void 0:h.status),isEphemeral:u===a.TransactionStatus.failed&&"0x0"!==(null==h?void 0:h.status),isRetryOrCancel:m.includes(l),occurredAfterPrimary:p>r,hasPriorityStatus:u in c.PRIORITY_STATUS_HASH,isConfirmed:u===a.TransactionStatus.confirmed,occurredBeforeInitial:p<n,isValidRetry:l===a.TransactionType.retry&&(u in c.PRIORITY_STATUS_HASH||u===a.TransactionStatus.dropped),isValidCancel:l===a.TransactionType.cancel&&(u in c.PRIORITY_STATUS_HASH||u===a.TransactionStatus.dropped),eligibleForInitial:!m.includes(l)&&u!==a.TransactionStatus.failed,shouldBePrimary:u===a.TransactionStatus.confirmed||"0x0"===(null==h?void 0:h.status)},i={isEphemeral:t.primaryTransaction.status===a.TransactionStatus.failed&&"0x0"!==(null===(g=t.primaryTransaction)||void 0===g||null===(g=g.txReceipt)||void 0===g?void 0:g.status)},d={isEphemeral:t.initialTransaction.status===a.TransactionStatus.failed&&"0x0"!==(null===(E=t.initialTransaction.txReceipt)||void 0===E?void 0:E.status)};(s.shouldBePrimary||i.isEphemeral||s.occurredAfterPrimary&&s.hasPriorityStatus)&&(t.primaryTransaction=e),(s.occurredBeforeInitial&&s.eligibleForInitial||d.isEphemeral&&s.eligibleForInitial)&&(t.initialTransaction=e),s.isValidRetry&&(t.hasRetried=!0),s.isValidCancel&&(t.hasCancelled=!0)}else o[f]={nonce:i,transactions:[e],initialTransaction:e,primaryTransaction:e,hasRetried:l===a.TransactionType.retry&&(u in c.PRIORITY_STATUS_HASH||u===a.TransactionStatus.dropped),hasCancelled:l===a.TransactionType.cancel&&(u in c.PRIORITY_STATUS_HASH||u===a.TransactionStatus.dropped)},((e,t)=>{let r=e.length;for(let n=0;n<e.length;n++){const o=e[n];if(Number((0,d.hexToDecimal)(o.split("-")[0]))>Number((0,d.hexToDecimal)(t.split("-")[0]))){r=n;break}}e.splice(r,0,t)})(n,f)});const s=n.map(e=>o[e]);return((e,t)=>{t.forEach(t=>{L(e,t)})})(s,r),t.concat(s).map(e=>{var t;if(m.includes(null===(t=e.initialTransaction)||void 0===t?void 0:t.type)){const t=e.transactions.find(e=>!m.includes(e.type));if(t)return{...e,initialTransaction:t}}return e})};r.groupAndSortTransactionsByNonce=j;const B=r.nonceSortedTransactionsSelector=(0,s.createSelector)(D,(e=[])=>j(e)),x=r.nonceSortedTransactionsSelectorAllChains=(0,s.createSelector)(M,(e=[])=>j(e)),F=(r.nonceSortedPendingTransactionsSelectorAllChains=(0,s.createSelector)(x,(e=[])=>e.filter(({primaryTransaction:e})=>e.status in c.PENDING_STATUS_HASH)),r.nonceSortedCompletedTransactionsSelectorAllChains=(0,s.createSelector)(x,(e=[])=>e.filter(({primaryTransaction:e})=>!(e.status in c.PENDING_STATUS_HASH)).reverse()),r.nonceSortedPendingTransactionsSelector=(0,s.createSelector)(B,(e=[])=>e.filter(({primaryTransaction:e})=>e.status in c.PENDING_STATUS_HASH)),r.nonceSortedCompletedTransactionsSelector=(0,s.createSelector)(B,(e=[])=>e.filter(({primaryTransaction:e})=>!(e.status in c.PENDING_STATUS_HASH)).reverse()),r.submittedPendingTransactionsSelector=(0,s.createSelector)(D,(e=[])=>e.filter(e=>e.status===a.TransactionStatus.submitted)),[o.ApprovalType.EthDecrypt,o.ApprovalType.EthGetEncryptionPublicKey,o.ApprovalType.EthSignTypedData,o.ApprovalType.PersonalSign]);function U(e,t){return e.metamask.transactions.find(e=>e.id===t)}r.selectTransactionSender=(0,s.createSelector)((e,t)=>U(e,t),e=>{var t;return null==e||null===(t=e.txParams)||void 0===t?void 0:t.from})}}},{package:"$root$",file:"ui/selectors/transactions.js"}],[7915,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TOGGLE_CURRENCY_INPUT_SWITCH=r.TOGGLE_ACCOUNT_MENU=r.SHOW_SETTINGS_PAGE_ERROR=r.SHOW_SEND_TOKEN_PAGE=r.SHOW_PRIVATE_KEY=r.SHOW_PERMITTED_NETWORK_TOAST_OPEN=r.SHOW_PERMITTED_NETWORK_TOAST_CLOSE=r.SHOW_NFT_STILL_FETCHING_INDICATION=r.SHOW_NFT_DETECTION_ENABLEMENT_TOAST=r.SHOW_LOADING=r.SHOW_KEYRING_SNAP_REMOVAL_RESULT=r.SHOW_IPFS_MODAL_OPEN=r.SHOW_IPFS_MODAL_CLOSE=r.SHOW_CONF_TX_PAGE=r.SHOW_BASIC_FUNCTIONALITY_MODAL_OPEN=r.SHOW_BASIC_FUNCTIONALITY_MODAL_CLOSE=r.SHOW_ACCOUNTS_PAGE=r.SET_WEBHID_CONNECTED_STATUS=r.SET_SMART_TRANSACTIONS_ERROR=r.SET_SLIDES=r.SET_SHOW_SUPPORT_DATA_CONSENT_MODAL=r.SET_SHOW_PASSWORD_CHANGE_TOAST=r.SET_SHOW_NFT_AUTO_DETECT_MODAL_UPGRADE=r.SET_SHOW_NEW_SRP_ADDED_TOAST=r.SET_SHOW_COPY_ADDRESS_TOAST=r.SET_SHOW_CLAIM_SUBMIT_TOAST=r.SET_SHIELD_ENTRY_MODAL_STATUS=r.SET_SELECTED_NETWORK_CONFIGURATION_ID=r.SET_SELECTED_NETWORKS_FOR_DAPP_CONNECTIONS=r.SET_SELECTED_ACCOUNTS_FOR_DAPP_CONNECTIONS=r.SET_REQUEST_ACCOUNT_TABS=r.SET_REMOVE_NFT_MESSAGE=r.SET_PENDING_TOKENS=r.SET_PARTICIPATE_IN_METAMETRICS=r.SET_OPEN_METAMASK_TAB_IDS=r.SET_NEXT_NONCE=r.SET_NEW_TOKENS_IMPORTED_ERROR=r.SET_NEW_TOKENS_IMPORTED=r.SET_NEW_NFT_ADDED_MESSAGE=r.SET_NEW_NETWORK_ADDED=r.SET_LEDGER_TRANSPORT_STATUS=r.SET_HARDWARE_WALLET_DEFAULT_HD_PATH=r.SET_FIRST_TIME_FLOW_TYPE=r.SET_EDIT_NETWORK=r.SET_DATA_COLLECTION_FOR_MARKETING=r.SET_CUSTOM_TOKEN_AMOUNT=r.SET_CURRENT_LOCALE=r.SET_CONFIRMATION_EXCHANGE_RATES=r.SET_ACCOUNT_LABEL=r.SET_ACCOUNT_DETAILS_ADDRESS=r.SELECTED_ADDRESS_CHANGED=r.SELECTED_ACCOUNT_CHANGED=r.RESET_SOCIAL_LOGIN_ONBOARDING=r.RESET_ONBOARDING=r.QR_CODE_DETECTED=r.ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_ON=r.ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_OFF=r.ONBOARDED_IN_THIS_UI_SESSION=r.NETWORK_DROPDOWN_OPEN=r.NETWORK_DROPDOWN_CLOSE=r.MODAL_OPEN=r.MODAL_CLOSE=r.LOCK_METAMASK=r.LOADING_METHOD_DATA_STARTED=r.LOADING_METHOD_DATA_FINISHED=r.IMPORT_TOKENS_POPOVER_OPEN=r.IMPORT_TOKENS_POPOVER_CLOSE=r.IMPORT_NFTS_MODAL_OPEN=r.IMPORT_NFTS_MODAL_CLOSE=r.HIDE_WHATS_NEW_POPUP=r.HIDE_WARNING=r.HIDE_SETTINGS_PAGE_ERROR=r.HIDE_NFT_STILL_FETCHING_INDICATION=r.HIDE_LOADING=r.HIDE_KEYRING_SNAP_REMOVAL_RESULT=r.GO_HOME=r.GAS_FEE_ESTIMATES_UPDATED=r.DISPLAY_WARNING=r.DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE=r.DEPRECATED_NETWORK_POPOVER_OPEN=r.DEPRECATED_NETWORK_POPOVER_CLOSE=r.DELETE_METAMETRICS_DATA_MODAL_OPEN=r.DELETE_METAMETRICS_DATA_MODAL_CLOSE=r.DATA_DELETION_ERROR_MODAL_OPEN=r.DATA_DELETION_ERROR_MODAL_CLOSE=r.CONNECT_ACCOUNTS_MODAL_OPEN=r.CONNECT_ACCOUNTS_MODAL_CLOSE=r.COMPLETE_ONBOARDING_WITH_SIDEPANEL=r.COMPLETE_ONBOARDING=r.COMPLETED_TX=r.CLOSE_WELCOME_SCREEN=r.CLEAR_SWAP_AND_SEND_STATE=r.CLEAR_PENDING_TOKENS=r.CLEAR_ACCOUNT_DETAILS=r.CHAIN_CHANGED=r.CAPTURE_SINGLE_EXCEPTION=r.ALERT_OPEN=r.ALERT_CLOSE=r.ADDRESS_BOOK_UPDATED=r.ACCOUNT_CHANGED=void 0,r.UPDATE_TRANSACTION_PARAMS=r.UPDATE_METAMASK_STATE=r.UPDATE_CUSTOM_NONCE=r.UNLOCK_SUCCEEDED=r.UNLOCK_IN_PROGRESS=r.UNLOCK_FAILED=r.TRANSACTION_ERROR=r.TOKEN_SORT_CRITERIA=r.TOGGLE_NETWORK_MENU=r.TOGGLE_GAS_LOADING_ANIMATION=void 0;r.GO_HOME="GO_HOME",r.MODAL_OPEN="UI_MODAL_OPEN",r.MODAL_CLOSE="UI_MODAL_CLOSE",r.SET_CONFIRMATION_EXCHANGE_RATES="SET_CONFIRMATION_EXCHANGE_RATES",r.ALERT_OPEN="UI_ALERT_OPEN",r.ALERT_CLOSE="UI_ALERT_CLOSE",r.QR_CODE_DETECTED="UI_QR_CODE_DETECTED",r.NETWORK_DROPDOWN_OPEN="UI_NETWORK_DROPDOWN_OPEN",r.NETWORK_DROPDOWN_CLOSE="UI_NETWORK_DROPDOWN_CLOSE",r.IMPORT_NFTS_MODAL_OPEN="UI_IMPORT_NFTS_MODAL_OPEN",r.IMPORT_NFTS_MODAL_CLOSE="UI_IMPORT_NFTS_MODAL_CLOSE",r.SHOW_IPFS_MODAL_OPEN="UI_IPFS_MODAL_OPEN",r.SHOW_PERMITTED_NETWORK_TOAST_OPEN="UI_PERMITTED_NETWORK_TOAST_OPEN",r.SHOW_PERMITTED_NETWORK_TOAST_CLOSE="UI_PERMITTED_NETWORK_TOAST_CLOSE",r.SHOW_IPFS_MODAL_CLOSE="UI_IPFS_MODAL_CLOSE",r.IMPORT_TOKENS_POPOVER_OPEN="UI_IMPORT_TOKENS_POPOVER_OPEN",r.IMPORT_TOKENS_POPOVER_CLOSE="UI_IMPORT_TOKENS_POPOVER_CLOSE",r.SHOW_BASIC_FUNCTIONALITY_MODAL_OPEN="SHOW_BASIC_FUNCTIONALITY_MODAL_OPEN",r.SHOW_BASIC_FUNCTIONALITY_MODAL_CLOSE="SHOW_BASIC_FUNCTIONALITY_MODAL_CLOSE",r.ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_ON="ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_ON",r.ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_OFF="ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_OFF",r.UPDATE_METAMASK_STATE="UPDATE_METAMASK_STATE",r.SELECTED_ADDRESS_CHANGED="SELECTED_ADDRESS_CHANGED",r.SELECTED_ACCOUNT_CHANGED="SELECTED_ACCOUNT_CHANGED",r.ACCOUNT_CHANGED="ACCOUNT_CHANGED",r.CHAIN_CHANGED="CHAIN_CHANGED",r.ADDRESS_BOOK_UPDATED="ADDRESS_BOOK_UPDATED",r.GAS_FEE_ESTIMATES_UPDATED="GAS_FEE_ESTIMATES_UPDATED",r.CLOSE_WELCOME_SCREEN="CLOSE_WELCOME_SCREEN",r.CLEAR_SWAP_AND_SEND_STATE="CLEAR_SWAP_AND_SEND_STATE",r.UNLOCK_IN_PROGRESS="UNLOCK_IN_PROGRESS",r.UNLOCK_FAILED="UNLOCK_FAILED",r.UNLOCK_SUCCEEDED="UNLOCK_SUCCEEDED",r.LOCK_METAMASK="LOCK_METAMASK",r.DISPLAY_WARNING="DISPLAY_WARNING",r.HIDE_WARNING="HIDE_WARNING",r.SHOW_SETTINGS_PAGE_ERROR="SHOW_SETTINGS_PAGE_ERROR",r.HIDE_SETTINGS_PAGE_ERROR="HIDE_SETTINGS_PAGE_ERROR",r.CAPTURE_SINGLE_EXCEPTION="CAPTURE_SINGLE_EXCEPTION",r.SHOW_ACCOUNTS_PAGE="SHOW_ACCOUNTS_PAGE",r.SHOW_CONF_TX_PAGE="SHOW_CONF_TX_PAGE",r.SHOW_SEND_TOKEN_PAGE="SHOW_SEND_TOKEN_PAGE",r.SHOW_PRIVATE_KEY="SHOW_PRIVATE_KEY",r.SET_ACCOUNT_LABEL="SET_ACCOUNT_LABEL",r.CLEAR_ACCOUNT_DETAILS="CLEAR_ACCOUNT_DETAILS",r.SET_ACCOUNT_DETAILS_ADDRESS="SET_ACCOUNT_DETAILS_ADDRESS",r.COMPLETED_TX="COMPLETED_TX",r.TRANSACTION_ERROR="TRANSACTION_ERROR",r.UPDATE_TRANSACTION_PARAMS="UPDATE_TRANSACTION_PARAMS",r.SET_NEXT_NONCE="SET_NEXT_NONCE",r.SET_HARDWARE_WALLET_DEFAULT_HD_PATH="SET_HARDWARE_WALLET_DEFAULT_HD_PATH",r.SHOW_LOADING="SHOW_LOADING_INDICATION",r.HIDE_LOADING="HIDE_LOADING_INDICATION",r.SHOW_NFT_STILL_FETCHING_INDICATION="SHOW_NFT_STILL_FETCHING_INDICATION",r.HIDE_NFT_STILL_FETCHING_INDICATION="HIDE_NFT_STILL_FETCHING_INDICATION",r.SHOW_NFT_DETECTION_ENABLEMENT_TOAST="SHOW_NFT_DETECTION_ENABLEMENT_TOAST",r.TOGGLE_ACCOUNT_MENU="TOGGLE_ACCOUNT_MENU",r.TOGGLE_NETWORK_MENU="TOGGLE_NETWORK_MENU",r.SET_SELECTED_ACCOUNTS_FOR_DAPP_CONNECTIONS="SET_SELECTED_ACCOUNTS_FOR_DAPP_CONNECTIONS",r.SET_SELECTED_NETWORKS_FOR_DAPP_CONNECTIONS="SET_SELECTED_NETWORKS_FOR_DAPP_CONNECTIONS",r.DEPRECATED_NETWORK_POPOVER_OPEN="DEPRECATED_NETWORK_POPOVER_OPEN",r.DEPRECATED_NETWORK_POPOVER_CLOSE="DEPRECATED_NETWORK_POPOVER_CLOSE",r.UPDATE_CUSTOM_NONCE="UPDATE_CUSTOM_NONCE",r.SET_PARTICIPATE_IN_METAMETRICS="SET_PARTICIPATE_IN_METAMETRICS",r.SET_DATA_COLLECTION_FOR_MARKETING="SET_DATA_COLLECTION_FOR_MARKETING",r.DELETE_METAMETRICS_DATA_MODAL_OPEN="DELETE_METAMETRICS_DATA_MODAL_OPEN",r.DELETE_METAMETRICS_DATA_MODAL_CLOSE="DELETE_METAMETRICS_DATA_MODAL_CLOSE",r.DATA_DELETION_ERROR_MODAL_OPEN="DELETE_METAMETRICS_DATA_ERROR_MODAL_OPEN",r.DATA_DELETION_ERROR_MODAL_CLOSE="DELETE_METAMETRICS_DATA_ERROR_MODAL_CLOSE",r.SET_CURRENT_LOCALE="SET_CURRENT_LOCALE",r.COMPLETE_ONBOARDING="COMPLETE_ONBOARDING",r.COMPLETE_ONBOARDING_WITH_SIDEPANEL="COMPLETE_ONBOARDING_WITH_SIDEPANEL",r.RESET_ONBOARDING="RESET_ONBOARDING",r.ONBOARDED_IN_THIS_UI_SESSION="ONBOARDED_IN_THIS_UI_SESSION",r.RESET_SOCIAL_LOGIN_ONBOARDING="RESET_SOCIAL_LOGIN_ONBOARDING",r.SET_WEBHID_CONNECTED_STATUS="SET_WEBHID_CONNECTED_STATUS",r.SET_LEDGER_TRANSPORT_STATUS="SET_LEDGER_TRANSPORT_STATUS",r.SET_PENDING_TOKENS="SET_PENDING_TOKENS",r.CLEAR_PENDING_TOKENS="CLEAR_PENDING_TOKENS",r.SET_FIRST_TIME_FLOW_TYPE="SET_FIRST_TIME_FLOW_TYPE",r.SET_SELECTED_NETWORK_CONFIGURATION_ID="SET_SELECTED_NETWORK_CONFIGURATION_ID",r.SET_NEW_NETWORK_ADDED="SET_NEW_NETWORK_ADDED",r.SET_EDIT_NETWORK="SET_EDIT_NETWORK",r.SET_NEW_NFT_ADDED_MESSAGE="SET_NEW_NFT_ADDED_MESSAGE",r.SET_REMOVE_NFT_MESSAGE="SET_REMOVE_NFT_MESSAGE",r.LOADING_METHOD_DATA_STARTED="LOADING_METHOD_DATA_STARTED",r.LOADING_METHOD_DATA_FINISHED="LOADING_METHOD_DATA_FINISHED",r.SET_REQUEST_ACCOUNT_TABS="SET_REQUEST_ACCOUNT_TABS",r.SET_OPEN_METAMASK_TAB_IDS="SET_OPEN_METAMASK_TAB_IDS",r.HIDE_WHATS_NEW_POPUP="HIDE_WHATS_NEW_POPUP",r.TOGGLE_GAS_LOADING_ANIMATION="TOGGLE_GAS_LOADING_ANIMATION",r.SET_SMART_TRANSACTIONS_ERROR="SET_SMART_TRANSACTIONS_ERROR",r.DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE="DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE",r.TOGGLE_CURRENCY_INPUT_SWITCH="TOGGLE_CURRENCY_INPUT_SWITCH",r.SET_NEW_TOKENS_IMPORTED="SET_NEW_TOKENS_IMPORTED",r.SET_NEW_TOKENS_IMPORTED_ERROR="SET_NEW_TOKENS_IMPORTED_ERROR",r.SET_CUSTOM_TOKEN_AMOUNT="SET_CUSTOM_TOKEN_AMOUNT",r.CONNECT_ACCOUNTS_MODAL_OPEN="UI_CONNECT_ACCOUNTS_MODAL_OPEN",r.CONNECT_ACCOUNTS_MODAL_CLOSE="UI_CONNECT_ACCOUNTS_MODAL_CLOSE",r.SHOW_KEYRING_SNAP_REMOVAL_RESULT="SHOW_KEYRING_SNAP_REMOVAL_RESULT",r.HIDE_KEYRING_SNAP_REMOVAL_RESULT="HIDE_KEYRING_SNAP_REMOVAL_RESULT",r.SET_SHOW_NFT_AUTO_DETECT_MODAL_UPGRADE="SET_SHOW_NFT_AUTO_DETECT_MODAL_UPGRADE",r.TOKEN_SORT_CRITERIA="TOKEN_SORT_CRITERIA",r.SET_SLIDES="SET_SLIDES",r.SET_SHOW_NEW_SRP_ADDED_TOAST="SET_SHOW_NEW_SRP_ADDED_TOAST",r.SET_SHOW_PASSWORD_CHANGE_TOAST="SET_SHOW_PASSWORD_CHANGE_TOAST",r.SET_SHOW_COPY_ADDRESS_TOAST="SET_SHOW_COPY_ADDRESS_TOAST",r.SET_SHOW_CLAIM_SUBMIT_TOAST="SET_SHOW_CLAIM_SUBMIT_TOAST",r.SET_SHOW_SUPPORT_DATA_CONSENT_MODAL="SET_SHOW_SUPPORT_DATA_CONSENT_MODAL",r.SET_SHIELD_ENTRY_MODAL_STATUS="SET_SHIELD_ENTRY_MODAL_STATUS"}}},{package:"$root$",file:"ui/store/actionConstants.ts"}]],[],{});