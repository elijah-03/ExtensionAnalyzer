
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2d003eb9-3136-53dc-9bc0-432687a89894")}catch(e){}}();
(()=>{"use strict";var de={706:((y,k,u)=>{var T=u(6992),D=u(8674),S=u(9601),B=u(7727),A=u(1539),H=u(4916),x=u(3123),E=u(2262),ee=u(9963),he=u(677),Gt=u(444),ce=u(5508),Jt=u(6709),Xt=u(4965),Qt=u(4929),qt=u(1715),$t=u(9426),J=u(8788),te=u(9085),ne=u(6270),me=u(3726),ie=u(3632),I=u(9836),oe=u(2040),e=u(6252),m=u(3577),Re=function(n){return(0,e.dD)("data-v-303727ee"),n=n(),(0,e.Cn)(),n},Te={class:"flex_container"},xe={class:"flex_item_left"},Ue={id:"canvas_holder",ref:"pageRenderPanel"},Be={key:0,id:"divMargins"},Le={key:1,id:"divWarning"},Oe=Re(function(){return(0,e._)("div",null," Warning: page margins are bigger than page! ",-1)}),je=[Oe],Ae={class:"flex_item_right"},Ee={id:"pageOptions",class:"groupBox"},Ie={class:"topic"},Ze={id:"extras",class:"groupBox"},Ne={class:"topic"},Ye={class:"control-and-label"},Ke=["title"],Ge={class:"control-and-label"},Je=["title"],Xe={class:"control-and-label"},Qe=["title"],qe={class:"dialog-footer"};function $e(o,n,t,s,i,a){var l=oe.Dv,c=I.BT,f=I.km,d=ie.dq,g=me.d6,p=ne.Xb,w=te.mi,b=J.d0;return(0,e.wg)(),(0,e.j4)(b,{modelValue:t.visible,"onUpdate:modelValue":n[31]||(n[31]=function(r){return t.visible=r}),title:o.$i18n("action_save_pdf | Save to PDF"),width:900,"before-close":a.handleClose,"append-to-body":"",onOpened:a.init,onOpen:a.preinit},{footer:(0,e.w5)(function(){return[(0,e._)("span",qe,[(0,e.Wm)(w,{style:{float:"left"},onClick:n[28]||(n[28]=function(r){return a.defaultValues()})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_defaults | Restore to defaults")),1)]}),_:1}),(0,e.Wm)(w,{type:"primary",onClick:n[29]||(n[29]=function(r){t.visible=!1,a.closeDialog(!0)})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("action_ok | OK")),1)]}),_:1}),(0,e.Wm)(w,{onClick:n[30]||(n[30]=function(r){t.visible=!1,a.closeDialog(!1)})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_cancel | Cancel")),1)]}),_:1})])]}),default:(0,e.w5)(function(){return[(0,e._)("div",Te,[(0,e._)("div",xe,[(0,e._)("div",Ue,[(0,e.Wm)(d,{justify:"end",align:"middle",gutter:20},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{class:"canvas-label canvas-label-right col-rubber"},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_units | Units"))+": ",1)]}),_:1}),(0,e.Wm)(l,{span:6},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{size:"mini",modelValue:t.options.cmbMarginsMeasurement,"onUpdate:modelValue":n[0]||(n[0]=function(r){return t.options.cmbMarginsMeasurement=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vUnits,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","onChange"])]}),_:1})]}),_:1}),(0,e.Wm)(d,{align:"middle",style:{"flex-grow":"1"}},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,null,{default:(0,e.w5)(function(){return[(0,e.Wm)(d,{align:"middle",justify:"center"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:6,title:o.$i18n("pdf_dialog_top | Top")},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:o.$i18n("pdf_dialog_top | Top"),modelValue:t.options.edtTopMargin,"onUpdate:modelValue":n[1]||(n[1]=function(r){return t.options.edtTopMargin=r}),"controls-position":"right",min:0,max:999,step:i.sizeStep,precision:i.sizePrecision,onChange:a.changed},null,8,["placeholder","modelValue","step","precision","onChange"])]}),_:1},8,["title"])]}),_:1}),(0,e.Wm)(d,{gutter:10,align:"middle",justify:"center"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:6},{default:(0,e.w5)(function(){return[(0,e.Wm)(d,null,{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{title:o.$i18n("pdf_dialog_left | Left")},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:o.$i18n("pdf_dialog_left | Left"),modelValue:t.options.edtLeftMargin,"onUpdate:modelValue":n[2]||(n[2]=function(r){return t.options.edtLeftMargin=r}),"controls-position":"right",min:0,max:999,step:i.sizeStep,precision:i.sizePrecision,onChange:a.changed},null,8,["placeholder","modelValue","step","precision","onChange"])]}),_:1},8,["title"])]}),_:1})]}),_:1}),(0,e.Wm)(l,{span:12},{default:(0,e.w5)(function(){return[(0,e._)("div",{id:"divPagePreview",ref:"pageRenderPage",style:(0,m.j5)({width:i.pagePreviewWidth,height:i.pagePreviewHeight,padding:i.pageMargins})},[i.pageMarginsValid?((0,e.wg)(),(0,e.iD)("div",Be)):(0,e.kq)("",!0),i.pageMarginsValid?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",Le,je))],4)]}),_:1}),(0,e.Wm)(l,{span:6},{default:(0,e.w5)(function(){return[(0,e.Wm)(d,null,{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{title:o.$i18n("pdf_dialog_right | Right")},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:o.$i18n("pdf_dialog_right | Right"),modelValue:t.options.edtRightMargin,"onUpdate:modelValue":n[3]||(n[3]=function(r){return t.options.edtRightMargin=r}),"controls-position":"right",min:0,max:999,step:i.sizeStep,precision:i.sizePrecision,onChange:a.changed},null,8,["placeholder","modelValue","step","precision","onChange"])]}),_:1},8,["title"])]}),_:1})]}),_:1})]}),_:1}),(0,e.Wm)(d,{align:"middle",justify:"center"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:6,title:o.$i18n("pdf_dialog_bottom | Bottom")},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:o.$i18n("pdf_dialog_bottom | Bottom"),modelValue:t.options.edtBottomMargin,"onUpdate:modelValue":n[4]||(n[4]=function(r){return t.options.edtBottomMargin=r}),"controls-position":"right",min:0,max:999,step:i.sizeStep,precision:i.sizePrecision,onChange:a.changed},null,8,["placeholder","modelValue","step","precision","onChange"])]}),_:1},8,["title"])]}),_:1})]}),_:1})]}),_:1})],512)]),(0,e._)("div",Ae,[(0,e._)("div",Ee,[(0,e._)("div",Ie,(0,m.zw)(o.$i18n("pdf_dialog_paging_options | Paging options")),1),(0,e._)("div",null,[(0,e.Wm)(d,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(p,{modelValue:t.options.chkMultipagePDF,"onUpdate:modelValue":n[5]||(n[5]=function(r){return t.options.chkMultipagePDF=r}),label:o.$i18n("pdf_dialog_split_screenshots | Split long screenshots to pages"),onChange:a.changed},null,8,["modelValue","label","onChange"])]}),_:1}),(0,e.Wm)(d,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(p,{modelValue:t.options.chkSmartPageBreaks,"onUpdate:modelValue":n[6]||(n[6]=function(r){return t.options.chkSmartPageBreaks=r}),label:o.$i18n("pdf_dialog_enable_smart_pagebreaks | Enable smart page breaks"),disabled:!t.options.chkMultipagePDF},null,8,["modelValue","label","disabled"])]}),_:1}),(0,e.Wm)(d,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_page_size | Page size")+":"),1)]}),_:1}),(0,e.Wm)(l,{span:16},{default:(0,e.w5)(function(){return[t.options.chkMultipagePDF?((0,e.wg)(),(0,e.j4)(f,{key:0,size:"mini",modelValue:t.options.cmbPageSize,"onUpdate:modelValue":n[7]||(n[7]=function(r){return t.options.cmbPageSize=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vPageSizes,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r.type,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","onChange"])):(0,e.kq)("",!0),t.options.chkMultipagePDF?(0,e.kq)("",!0):((0,e.wg)(),(0,e.j4)(f,{key:1,size:"mini",modelValue:t.options.cmbPageSizeSingle,"onUpdate:modelValue":n[8]||(n[8]=function(r){return t.options.cmbPageSizeSingle=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vPageSizesNoSplit,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","onChange"]))]}),_:1})]}),_:1}),t.options.chkMultipagePDF&&t.options.cmbPageSize>0&&t.options.cmbPageSize<6?((0,e.wg)(),(0,e.j4)(d,{key:0,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_width | Width")+":"),1)]}),_:1}),(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:o.$i18n("pdf_dialog_width | Width"),modelValue:t.options.edtWidth,"onUpdate:modelValue":n[9]||(n[9]=function(r){return t.options.edtWidth=r}),"controls-position":"right",min:i.sizeMin,max:i.sizeMax,step:i.sizeStep,precision:i.sizePrecision,disabled:t.options.cmbPageSize>0},null,8,["placeholder","modelValue","min","max","step","precision","disabled"])]}),_:1}),(0,e.Wm)(l,{offset:1,span:7},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{size:"mini",modelValue:t.options.cmbWidthMeasurement,"onUpdate:modelValue":n[10]||(n[10]=function(r){return t.options.cmbWidthMeasurement=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),disabled:t.options.cmbPageSize>0},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vUnits,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","disabled"])]}),_:1})]}),_:1})):(0,e.kq)("",!0),t.options.chkMultipagePDF&&t.options.cmbPageSize>0&&t.options.cmbPageSize<6?((0,e.wg)(),(0,e.j4)(d,{key:1,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_height | Height")+":"),1)]}),_:1}),(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:o.$i18n("pdf_dialog_height | Height"),modelValue:t.options.edtHeight,"onUpdate:modelValue":n[11]||(n[11]=function(r){return t.options.edtHeight=r}),"controls-position":"right",min:i.sizeMin,max:i.sizeMax,step:i.sizeStep,precision:i.sizePrecision,disabled:t.options.cmbPageSize>0},null,8,["placeholder","modelValue","min","max","step","precision","disabled"])]}),_:1}),(0,e.Wm)(l,{offset:1,span:7},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{size:"mini",modelValue:t.options.cmbHeightMeasurement,"onUpdate:modelValue":n[12]||(n[12]=function(r){return t.options.cmbHeightMeasurement=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),disabled:t.options.cmbPageSize>0},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vUnits,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","disabled"])]}),_:1})]}),_:1})):(0,e.kq)("",!0),t.options.chkMultipagePDF&&t.options.cmbPageSize==6?((0,e.wg)(),(0,e.j4)(d,{key:2,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_width | Width")+":"),1)]}),_:1}),(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:o.$i18n("pdf_dialog_width | Width"),modelValue:t.options.edtCustomWidth,"onUpdate:modelValue":n[13]||(n[13]=function(r){return t.options.edtCustomWidth=r}),"controls-position":"right",min:i.sizeMin,max:i.sizeMax,step:i.sizeStep,precision:i.sizePrecision,onChange:a.changed},null,8,["placeholder","modelValue","min","max","step","precision","onChange"])]}),_:1}),(0,e.Wm)(l,{offset:1,span:7},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{size:"mini",modelValue:t.options.cmbCustomWidthUnits,"onUpdate:modelValue":n[14]||(n[14]=function(r){return t.options.cmbCustomWidthUnits=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vUnits,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","onChange"])]}),_:1})]}),_:1})):(0,e.kq)("",!0),!t.options.chkMultipagePDF&&t.options.cmbPageSizeSingle===1?((0,e.wg)(),(0,e.j4)(d,{key:3,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_width | Width")+":"),1)]}),_:1}),(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:o.$i18n("pdf_dialog_width | Width"),modelValue:t.options.edtWidthSingle,"onUpdate:modelValue":n[15]||(n[15]=function(r){return t.options.edtWidthSingle=r}),"controls-position":"right",min:i.sizeMin,max:i.sizeMax,step:i.sizeStep,precision:i.sizePrecision,onChange:a.changed},null,8,["placeholder","modelValue","min","max","step","precision","onChange"])]}),_:1}),(0,e.Wm)(l,{offset:1,span:7},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{size:"mini",modelValue:t.options.cmbWidthMeasurementSingle,"onUpdate:modelValue":n[16]||(n[16]=function(r){return t.options.cmbWidthMeasurementSingle=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vUnits,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","onChange"])]}),_:1})]}),_:1})):(0,e.kq)("",!0),t.options.chkMultipagePDF&&t.options.cmbPageSize==6?((0,e.wg)(),(0,e.j4)(d,{key:4,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_height | Height")+":"),1)]}),_:1}),(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{size:"mini",placeholder:"Height",modelValue:t.options.edtCustomHeight,"onUpdate:modelValue":n[17]||(n[17]=function(r){return t.options.edtCustomHeight=r}),"controls-position":"right",min:i.sizeMin,max:i.sizeMax,step:i.sizeStep,precision:i.sizePrecision,onChange:a.changed},null,8,["modelValue","min","max","step","precision","onChange"])]}),_:1}),(0,e.Wm)(l,{offset:1,span:7},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{size:"mini",modelValue:t.options.cmbCustomHeightUnits,"onUpdate:modelValue":n[18]||(n[18]=function(r){return t.options.cmbCustomHeightUnits=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vUnits,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","onChange"])]}),_:1})]}),_:1})):(0,e.kq)("",!0),t.options.chkMultipagePDF&&t.options.cmbPageSize>0&&t.options.cmbPageSize<6?((0,e.wg)(),(0,e.j4)(d,{key:5,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_orientation | Orientation")+":"),1)]}),_:1}),(0,e.Wm)(l,{span:16},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{size:"mini",modelValue:t.options.cmbOrientation,"onUpdate:modelValue":n[19]||(n[19]=function(r){return t.options.cmbOrientation=r}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vOrientations,function(r,_){return(0,e.wg)(),(0,e.j4)(c,{key:_,label:r,value:_},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","onChange"])]}),_:1})]}),_:1})):(0,e.kq)("",!0),t.options.chkMultipagePDF&&t.options.cmbPageSize===0?((0,e.wg)(),(0,e.j4)(d,{key:6,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:24,class:"hint"},{default:(0,e.w5)(function(){return[(0,e._)("p",null," * "+(0,m.zw)(o.$i18n("pdf_page_size_width_warning_1 | Page width will be set to fit the page entirely, and page height will be set according to the A4 format ratio.")),1),(0,e._)("p",null,(0,m.zw)(o.$i18n("pdf_page_size_width_warning_2 | If resulting document consists of 2 pages, and the last page is 50% empty or more, the pages will be joined altogether.")),1)]}),_:1})]}),_:1})):(0,e.kq)("",!0),!t.options.chkMultipagePDF&&t.options.cmbPageSizeSingle===0?((0,e.wg)(),(0,e.j4)(l,{key:7,span:24,class:"hint"},{default:(0,e.w5)(function(){return[(0,e._)("p",null," * "+(0,m.zw)(o.$i18n("pdf_page_size_warning_1 | Page Size will be set to fit the capture entirely. ")),1)]}),_:1})):(0,e.kq)("",!0),!t.options.chkMultipagePDF&&t.options.cmbPageSizeSingle===1?((0,e.wg)(),(0,e.j4)(l,{key:8,span:24,class:"hint"},{default:(0,e.w5)(function(){return[(0,e._)("p",null," * "+(0,m.zw)(o.$i18n("pdf_page_size_warning_2 | Page Height will be set to fit the capture entirely. ")),1)]}),_:1})):(0,e.kq)("",!0)])]),(0,e._)("div",Ze,[(0,e._)("div",Ne,(0,m.zw)(o.$i18n("pdf_dialog_extras | Extras")),1),(0,e._)("div",null,[(0,e.Wm)(d,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(p,{modelValue:t.options.chkSearchablePDF,"onUpdate:modelValue":n[20]||(n[20]=function(r){return t.options.chkSearchablePDF=r}),label:o.$i18n("pdf_dialog_create_text_searchable_pdfs | Create text-selectable and searchable PDF")},null,8,["modelValue","label"])]}),_:1}),(0,e.Wm)(d,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(p,{modelValue:t.options.chkEnableWebLinks,"onUpdate:modelValue":n[21]||(n[21]=function(r){return t.options.chkEnableWebLinks=r}),label:o.$i18n("pdf_dialog_enable_web_links | Enable web links")},null,8,["modelValue","label"])]}),_:1}),(0,e.Wm)(d,{align:"top",justify:"space-around"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e._)("div",Ye,[(0,e.Wm)(p,{modelValue:t.options.chkAddHeader,"onUpdate:modelValue":n[22]||(n[22]=function(r){return t.options.chkAddHeader=r})},null,8,["modelValue"]),(0,e._)("div",{class:(0,m.C_)([{checkboxDisabled:a.isHeaderDisabled},"link"]),onClick:n[23]||(n[23]=function(r){return a.setupHFW("header")}),title:o.$i18n("options_button_setup | Click to setup")+"..."},(0,m.zw)(o.$i18n("pdf_dialog_headers | Headers")),11,Ke)])]}),_:1}),(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e._)("div",Ge,[(0,e.Wm)(p,{modelValue:t.options.chkAddFooter,"onUpdate:modelValue":n[24]||(n[24]=function(r){return t.options.chkAddFooter=r})},null,8,["modelValue"]),(0,e._)("div",{class:(0,m.C_)([{checkboxDisabled:a.isFooterDisabled},"link"]),onClick:n[25]||(n[25]=function(r){return a.setupHFW("footer")}),title:o.$i18n("options_button_setup | Click to setup")+"..."},(0,m.zw)(o.$i18n("pdf_dialog_footers | Footers")),11,Je)])]}),_:1}),(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e._)("div",Xe,[(0,e.Wm)(p,{modelValue:t.options.chkAddWatermark,"onUpdate:modelValue":n[26]||(n[26]=function(r){return t.options.chkAddWatermark=r})},null,8,["modelValue"]),(0,e._)("div",{class:(0,m.C_)([{checkboxDisabled:a.isWatermarkDisabled},"link"]),onClick:n[27]||(n[27]=function(r){return a.setupHFW("watermark")}),title:o.$i18n("options_button_setup | Click to setup")+"..."},(0,m.zw)(o.$i18n("pdf_dialog_watermarks | Watermarks")),11,Qe)])]}),_:1})]}),_:1})])])])])]}),_:1},8,["modelValue","title","before-close","onOpened","onOpen"])}var en=u(2564),tn=u(2222),V=u(3087),M=u(2833),nn=u(8862),on=u(4678),an=u(2772),ln=u(8702),sn=u(9554),rn=u(4747),G=(function(){function o(n,t,s,i){(0,V.Z)(this,o),this.Left=0,this.Top=0,this.Right=0,this.Bottom=0,this.Left=n,this.Top=t,this.Right=s,this.Bottom=i}return(0,M.Z)(o,[{key:"clone",value:function(){return new o(this.Left,this.Top,this.Right,this.Bottom)}},{key:"equalsTo",value:function(t){return t.Left==this.Left&&t.Top==this.Top&&t.Right==this.Right&&t.Bottom==this.Bottom}},{key:"Width",value:function(){return this.Right-this.Left}},{key:"Height",value:function(){return this.Bottom-this.Top}},{key:"midX",value:function(){return this.Left+(this.Right-this.Left)/2}},{key:"midY",value:function(){return this.Top+(this.Bottom-this.Top)/2}},{key:"containsPoint",value:function(t,s){return t>=this.Left&&t<=this.Right&&s>=this.Top&&s<=this.Bottom}},{key:"floorCoords",value:function(){this.Left=Math.floor(this.Left),this.Top=Math.floor(this.Top),this.Right=Math.floor(this.Right),this.Bottom=Math.floor(this.Bottom)}},{key:"offsetRect",value:function(t,s){this.Left+=t,this.Right+=t,this.Top+=s,this.Bottom+=s}}]),o})(),un=null,Z=(function(){function o(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(0,V.Z)(this,o),this.x=n,this.y=t}return(0,M.Z)(o,[{key:"clone",value:function(){return new o(this.x,this.y)}},{key:"equalsTo",value:function(t){return t.x==this.x&&t.y==this.y}}]),o})(),P=(function(){function o(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(0,V.Z)(this,o),this.cx=n,this.cy=t}return(0,M.Z)(o,[{key:"clone",value:function(){return new o(this.cx,this.cy)}},{key:"equalsTo",value:function(t){return t.cx==this.cx&&t.cy==this.cy}}]),o})(),R=(function(){function o(){(0,V.Z)(this,o)}return(0,M.Z)(o,null,[{key:"normalizeRect",value:function(t){}},{key:"createCanvas",value:function(t,s){var i;return typeof OffscreenCanvas>"u"?(i=document.createElement("canvas"),i.width=t,i.height=s):i=new OffscreenCanvas(t,s),i}},{key:"setupCtx",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=t.getContext("2d",{alpha:s});return i&&(i.fillStyle="#fff",i.fillRect(0,0,t.width,t.height),i.translate(.5,.5)),i}},{key:"blendRect",value:function(t,s,i,a,l,c){t.fillStyle=a,t.globalAlpha=1-s,t.fillRect(i.Left,i.Top,i.Width(),i.Height()),t.globalAlpha=1,l>0&&(t.strokeStyle=c,t.lineWidth=l,t.strokeRect(i.Left,i.Top,i.Width(),i.Height()))}},{key:"dashRect",value:function(t,s,i,a,l,c){var f=Math.max(a,l)+Math.min(a,l);t.beginPath(),t.strokeStyle="#eee",t.lineWidth=1;for(var d=0;d<f;d+=c)t.moveTo(s+0,i+d),t.lineTo(s+d,i),t.moveTo(s+a-d,i),t.lineTo(s+a,i+d);t.stroke()}},{key:"drawTextSingle",value:function(t,s,i,a,l){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,f=i.fontStyle.indexOf("B")!==-1?"bold":"",d=i.fontStyle.indexOf("I")!==-1?"italic":"",g=i.fontStyle.indexOf("U")!==-1,p=i.fontStyle.indexOf("S")!==-1,w=function(F){F.realWidth=Math.max(F.width,F.actualBoundingBoxLeft+F.actualBoundingBoxRight)};t.font="".concat(f," ").concat(d," ").concat(i.fontSize,"px ").concat(i.fontName),t.fillStyle=i.fontColor;var b=s.trimEnd().split(" ");if(!b.length)return{width:0,height:0,nextLineY:0,gap:0};var r=[],_=b[0],C=t.measureText(_),v=0,O=0;w(C);for(var Y=1;Y<=b.length;++Y){var re=Y==b.length,Fe=_+(re?"":" "+b[Y]),ue=t.measureText(Fe.trimEnd());w(ue),l>0&&ue.realWidth>l||re?(r.push({string:_,metrics:C}),O=Math.max(O,C.realWidth),re||(_=b[Y],C=t.measureText(b[Y]),w(C))):(C=ue,_=Fe)}t.textBaseline="top";var z=t.measureText("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),He=typeof z.fontBoundingBoxDescent>"u"?z.actualBoundingBoxDescent:z.fontBoundingBoxDescent;v=typeof z.fontBoundingBoxDescent>"u"?(z.actualBoundingBoxDescent-z.actualBoundingBoxAscent)*1.2:z.fontBoundingBoxDescent+z.fontBoundingBoxAscent;var K=0,q=v*.2;c&&(l>0&&(t.save(),t.rect(a.x-.5,a.y-.5,l,9999999),t.clip()),r.forEach(function(U){for(var F=U.string,$="";l>0&&U.metrics.realWidth>l&&F.length>0;)$=$||"...",F=F.substring(0,F.length-1),U.metrics=t.measureText(F+$),w(U.metrics);var j=0;switch(l<=0&&(l=O),i.alignment){case"right":j=l-U.metrics.realWidth;break;case"center":j=Math.floor((l-U.metrics.realWidth)/2);break}if(t.fillText(F+$,j+a.x,a.y+K),p||g){t.strokeStyle=i.fontColor,t.lineWidth=Math.ceil(i.fontSize/15),t.beginPath();var Me=Math.floor(v*.85)-t.lineWidth;p&&(t.moveTo(Math.floor(j+a.x),Math.floor(a.y+K+Me/2)),t.lineTo(Math.floor(j+a.x+U.metrics.realWidth),Math.floor(a.y+K+Me/2))),g&&(t.moveTo(Math.floor(j+a.x),Math.floor(a.y+K+He)),t.lineTo(Math.floor(j+a.x+U.metrics.realWidth),Math.floor(a.y+K+He))),t.stroke()}K+=v+q}),t.restore());var Ve=(v+q)*r.length;z=t.measureText(r[r.length-1].string);var Yt=z.fontBoundingBoxDescent?z.fontBoundingBoxDescent:z.actualBoundingBoxDescent-z.actualBoundingBoxAscent,Kt=(r.length>1?Ve-(v+q):0)+Yt;return{width:l>0?Math.min(l,O):O,height:Kt,nextLineY:Ve+a.y,gap:q}}},{key:"drawText",value:function(t,s,i,a,l){var c=this,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(s==="")return{width:0,height:0,gap:0,nextLineY:0};var d=s.split(`
`),g=0,p=0,w=a.y,b=0;return d.forEach(function(r){var _=r==""?" ":r,C=c.drawTextSingle(t,_,i,new Z(a.x,w),l,f);b=w+C.height,w=C.nextLineY,g=Math.max(g,C.width),p=C.gap}),{width:Math.ceil(g),height:Math.ceil(b),gap:p,nextLineY:w}}},{key:"measureTextSingle",value:function(t,s,i,a){return this.drawTextSingle(t,s,i,new Z(0,0),a,!1)}},{key:"measureText",value:function(t,s,i,a){var l=this.drawText(t,s,i,new Z(0,0),a,!1);return new P(l.width,l.height)}},{key:"textInBox",value:function(t,s,i,a,l){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0,d=12+Math.ceil(i.frameWidth/2),g=this.drawText(t,s,i,a,l>0?l-d*2:l,!1),p=g.width+d*2,w=g.height+d*2;if(f&&l>0&&(g.width=l-d*2,p=l-1),c){var b=a.x+d,r=a.y+d;this.blendRect(t,i.backgroundOpacity,new G(a.x,a.y,a.x+p,a.y+w),i.backgroundColor,i.frameWidth,i.frameColor),this.drawText(t,s,i,new Z(b,r),g.width,!0)}return new P(p,w)}}]),o})(),X=8.3,pe=11.7,ae=(function(){function o(n){if((0,V.Z)(this,o),this.chkMultipagePDF=!0,this.chkSmartPageBreaks=!0,this.cmbPageSize=0,this.cmbPageSizeSingle=0,this.edtCustomWidth=8.3,this.cmbCustomWidthUnits=0,this.edtWidthSingle=8.3,this.cmbWidthMeasurementSingle=0,this.edtCustomHeight=11.7,this.cmbCustomHeightUnits=0,this.edtWidth=8.3,this.cmbWidthMeasurement=0,this.edtHeight=11.7,this.cmbHeightMeasurement=0,this.cmbOrientation=0,this.chkSearchablePDF=!0,this.chkEnableWebLinks=!0,this.chkAddHeader=!0,this.chkAddFooter=!0,this.chkAddWatermark=!1,this.cmbMarginsMeasurement=0,this.edtLeftMargin=.5,this.edtTopMargin=.5,this.edtRightMargin=.5,this.edtBottomMargin=.5,n){var t=JSON.parse(n);for(var s in t)this[s]=t[s]}}return(0,M.Z)(o,[{key:"serialize",value:function(){return JSON.stringify(this)}}]),o})(),et=(function(){function o(n){(0,V.Z)(this,o),this.options=n}return(0,M.Z)(o,[{key:"getUnitsRatio",value:function(t){switch(t){case 0:return 1;case 1:return 2.54;case 2:return 25.4;case 3:return 72;case 4:return 6;default:return 1}}},{key:"getSelectedStockSize",value:function(){var t=new P(0,0);switch(this.options.cmbPageSize){case 1:t=new P(11.7,16.5);break;case 2:t=new P(8.3,11.7);break;case 3:t=new P(5.8,8.3);break;case 4:t=new P(8.5,11);break;case 5:t=new P(8.5,14);break}if(this.options.cmbOrientation==1){var s=t.cx;t.cx=t.cy,t.cy=s}return t}},{key:"areMarginsValid",value:function(){var t=this.getPageMargins(),s=this.getPageSize();return this.options.chkMultipagePDF?this.options.cmbPageSize===0?!0:t.Left+t.Right<s.cx&&t.Top+t.Bottom<s.cy:this.isCustomSize()?t.Left+t.Right<s.cx:!0}},{key:"toDoubleDef",value:function(t,s){var i=parseFloat(t);return isNaN(i)?s:i}},{key:"loadConfig",value:function(){}},{key:"saveConfig",value:function(){}},{key:"getPageSize",value:function(){var t=0,s=0;if(this.options.chkMultipagePDF)if(this.isCustomSize())t=this.options.edtCustomWidth/this.getUnitsRatio(this.options.cmbCustomWidthUnits),t<=0&&(t=X),s=this.options.edtCustomHeight/this.getUnitsRatio(this.options.cmbCustomHeightUnits),s<=0&&(s=pe);else{var i=this.getSelectedStockSize();t=i.cx,s=i.cy}else this.isCustomSize()&&(t=this.options.edtWidthSingle/this.getUnitsRatio(this.options.cmbWidthMeasurementSingle),t<=0&&(t=X));return new P(t,s)}},{key:"getPageMargins",value:function(){var t=this.getUnitsRatio(this.options.cmbMarginsMeasurement),s=function(a){return Math.max(0,a/t)};return new G(s(this.options.edtLeftMargin),s(this.options.edtTopMargin),s(this.options.edtRightMargin),s(this.options.edtBottomMargin))}},{key:"isCustomSize",value:function(){return this.options.chkMultipagePDF?this.options.cmbPageSize===6:this.options.cmbPageSizeSingle===1}},{key:"isAutocalcHeight",value:function(){return!this.options.chkMultipagePDF&&this.options.cmbPageSizeSingle==1}},{key:"isSinglePage",value:function(){return!this.options.chkMultipagePDF}},{key:"isSpecificSize",value:function(){return this.options.chkMultipagePDF&&this.options.cmbPageSize>0||!this.options.chkMultipagePDF&&this.options.cmbPageSizeSingle==1}},{key:"linksEnabled",value:function(){return this.options.chkEnableWebLinks}},{key:"textEnabled",value:function(){return this.options.chkSearchablePDF}},{key:"headersEnabled",value:function(){return this.options.chkAddHeader}},{key:"footersEnabled",value:function(){return this.options.chkAddFooter}},{key:"watermarksEnabled",value:function(){return this.options.chkAddWatermark}},{key:"optimizationEnabled",value:function(){return!1}},{key:"smartPageBreaksEnabled",value:function(){return this.options.chkSmartPageBreaks}}]),o})();const tt={name:"pdfMetricsDialog",data:function(){return{divPageRender:null,maxWidth:0,maxHeight:0,pagePreviewWidth:"",pagePreviewHeight:"100%",pageMargins:0,pageMarginsValid:!0,initInterval:void 0,vPageSizes:[{type:this.$i18n("pdf_dialog_pagesize_auto | Auto"),width:0,height:0},{type:"A3",width:11.7,height:16.5},{type:"A4",width:8.3,height:11.7},{type:"A5",width:5.8,height:8.3},{type:"Letter",width:8.5,height:11},{type:"Legal",width:8.5,height:14},{type:this.$i18n("pdf_dialog_pagesize_custom_wh | Custom Width and Height")+"...",width:0,height:0}],vPageSizesNoSplit:[this.$i18n("pdf_dialog_pagesize_auto | Auto"),this.$i18n("pdf_dialog_pagesize_custom_width | Custom Width")+"..."],vUnits:[this.$i18n("pdf_dialog_inches | inches"),"cm","mm","pt","pc"],vOrientations:[this.$i18n("pdf_dialog_orientation_portrait | Portrait"),this.$i18n("pdf_dialog_orientation_landscape | Landscape")],sizeMin:.1,sizeMax:999,sizeStep:.1,sizePrecision:1}},computed:{isHeaderDisabled:function(){return!this.options.chkAddHeader},isFooterDisabled:function(){return!this.options.chkAddFooter},isWatermarkDisabled:function(){return!this.options.chkAddWatermark}},props:{visible:Boolean,options:ae},emits:["dialogResult","showHFWStyle"],watch:{options:function(n){this.$refs.pageRenderPanel&&this.changed()}},methods:{preinit:function(){var n=this;this.initInterval=setInterval(function(){n.init()},100)},init:function(){if(this.$refs.pageRenderPanel)clearInterval(this.initInterval);else return;this.divPageRender=this.$refs.pageRenderPanel,this.divPageRender.style.display="flex";var n=this.divPageRender.getBoundingClientRect(),t=this.$refs.pageRenderPage.getBoundingClientRect();this.maxWidth=t.width,this.maxHeight=n.height*.6,this.updateCanvas()},defaultValues:function(){Object.assign(this.options,new ae),this.changed()},handleClose:function(n){document.querySelector("div.cpicker-selector[aria-hidden='false']")||(n(),this.closeDialog(!1))},closeDialog:function(n){this.$emit("dialogResult",n?{config:this.options}:void 0)},changed:function(){this.options.cmbPageSize>0&&this.options.cmbPageSize<6&&(this.options.cmbOrientation==0?(this.options.edtWidth=this.vPageSizes[this.options.cmbPageSize].width,this.options.edtHeight=this.vPageSizes[this.options.cmbPageSize].height):(this.options.edtWidth=this.vPageSizes[this.options.cmbPageSize].height,this.options.edtHeight=this.vPageSizes[this.options.cmbPageSize].width)),this.updateCanvas()},updateCanvas:function(){var n=new et(this.options),t=n.getPageSize(),s=this.maxWidth,i=this.maxHeight,a=t.cx,l=t.cy;this.pageMarginsValid=n.areMarginsValid();var c=t.cy===0||t.cx===0||!this.pageMarginsValid;c&&(a=t.cx===0?X:t.cx,l=a*pe/X);var f,d;a>=l?(f=s,d=f*l/a,d>i&&(f=f*i/d,d=i)):(d=i,f=d*a/l,f>s&&(d=d*s/f,f=s)),this.pagePreviewWidth=f+"px",this.pagePreviewHeight=d+"px";var g=n.getPageMargins(),p=d/l;this.pageMarginsValid?this.pageMargins="".concat(g.Top*p,"px ").concat(g.Right*p,"px ").concat(g.Bottom*p,"px ").concat(g.Left*p,"px"):this.pageMargins=0},setupHFW:function(n){this.$emit("showHFWStyle",n)}}};var N=u(3744);const ve=(0,N.Z)(tt,[["render",$e],["__scopeId","data-v-303727ee"]]);var fn=u(4367),nt=u(8280),gn=function(n){return _pushScopeId("data-v-febf77b4"),n=n(),_popScopeId(),n},it={id:"wildcardHolder"},ot=["onClick"],at={class:"dialog-footer"};function lt(o,n,t,s,i,a){var l=oe.Dv,c=ie.dq,f=nt.EZ,d=te.mi,g=J.d0;return(0,e.wg)(),(0,e.j4)(g,{modelValue:t.visible,"onUpdate:modelValue":n[4]||(n[4]=function(p){return t.visible=p}),title:a.title,width:850,"append-to-body":"","lock-scroll":!1,onOpened:a.init},{footer:(0,e.w5)(function(){return[(0,e._)("span",at,[(0,e.Wm)(d,{style:{float:"left"},onClick:n[1]||(n[1]=function(p){return a.defaultValues()})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_defaults | Restore to defaults")),1)]}),_:1}),(0,e.Wm)(d,{type:"primary",onClick:n[2]||(n[2]=function(p){a.closeDialog(!0),t.visible=!1})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("action_ok | OK")),1)]}),_:1}),(0,e.Wm)(d,{onClick:n[3]||(n[3]=function(p){t.visible=!1,a.closeDialog(!1)})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_cancel | Cancel")),1)]}),_:1})])]}),default:(0,e.w5)(function(){return[(0,e.Wm)(c,{class:"topic"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:24},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_template | Template")),1)]}),_:1})]}),_:1}),(0,e.Wm)(c,null,{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:24-i.offset},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{ref:"templateInput",modelValue:t.options.template,"onUpdate:modelValue":n[0]||(n[0]=function(p){return t.options.template=p}),rows:4,autofocus:"",type:"textarea",placeholder:o.$i18n("pdf_dialog_please_specify_template | Please specify template")+"..."},null,8,["modelValue","placeholder"])]}),_:1},8,["offset","span"])]}),_:1}),(0,e.Wm)(c),(0,e.Wm)(c,null,{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset},{default:(0,e.w5)(function(){return[(0,e._)("p",null,[(0,e._)("b",null,(0,m.zw)(o.$i18n("pdf_dialog_label_template_values | The following predefined values can be used (click to insert)")+":"),1)]),(0,e._)("div",it,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.wildcards,function(p,w){return(0,e.wg)(),(0,e.iD)("div",{key:w},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(p,function(b,r){return(0,e.wg)(),(0,e.iD)("div",{id:"wildcard",onClick:function(C){return a.addWildcard(b[0])},key:r},[(0,e._)("div",null,(0,m.zw)(b[0]),1),(0,e._)("span",null,"- "+(0,m.zw)(b[1]),1)],8,ot)}),128))])}),128))])]}),_:1},8,["offset"])]}),_:1})]}),_:1},8,["modelValue","title","onOpened"])}var st=u(4648),rt=u(3806),ut=u(1481),hn=u(3710),cn=u(6647),mn=u(9714),pn=u(5306),vn=u(8783),_n=u(3948),wn=u(285),bn=u(1637),yn=u(3210),Wn=u(5061),_e=(0,M.Z)(function o(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Page title",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Page URL",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Date,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new P(1e3,1e3);(0,V.Z)(this,o),this.title=n,this.URL=t,this.created=s,this.extents=i}),L=(function(){function o(n,t){(0,V.Z)(this,o);var s;switch(this.type="text",this.fontName="Verdana",this.fontSize=Math.ceil(15*self.devicePixelRatio),this.fontColor="#666",this.fontStyle=[],this.backgroundColor="#f0f0f0",this.frameColor="#ddd",this.frameWidth=1,this.textAlignment="left",this.margin=50,this.template=`Page %p
%t
%u`,this.opacity=0,this.bitmap="",this.bitmapLink="",this.position=8,n){case"header":this.template=`Page %p
%t
%u`;break;case"footer":this.template="Captured by FireShot Pro: %d %B %y, "+(((s=navigator.language)===null||s===void 0?void 0:s.toLowerCase())==="en-us"?"%U":"%H:%M:%S")+`
https://getfireshot.com`,this.textAlignment="center";break;case"watermark":this.template="Page %p",this.opacity=85,this.frameWidth=0,this.fontSize=Math.ceil(150*self.devicePixelRatio),this.backgroundColor="#fff";break}if(t){var i=JSON.parse(t);for(var a in i)this[a]=i[a]}}return(0,M.Z)(o,[{key:"serialize",value:function(){return JSON.stringify(this)}}]),o})(),we=(function(){function o(n,t){(0,V.Z)(this,o),this.options=n,this.vars=t,this.pageNumber=1,this.options=Object.assign({},n)}return(0,M.Z)(o,[{key:"setPageNumber",value:function(t){this.pageNumber=t}},{key:"padString",value:function(t,s,i){for(t=t.toString();t.length<i;)t=s+t;return t}},{key:"processTemplate",value:function(){var t=this.options.template;t=t.replace(/%y/g,this.vars.created.getFullYear().toString()),t=t.replace(/%m/g,this.padString((this.vars.created.getMonth()+1).toString(),"0",2)),t=t.replace(/%d/g,this.padString(this.vars.created.getDate().toString(),"0",2)),t=t.replace(/%H/g,this.padString(this.vars.created.getHours().toString(),"0",2)),t=t.replace(/%M/g,this.padString(this.vars.created.getMinutes().toString(),"0",2)),t=t.replace(/%S/g,this.padString(this.vars.created.getSeconds().toString(),"0",2)),t=t.replace(/%U/g,new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).format(this.vars.created)),t=t.replace(/%A/g,this.vars.created.toLocaleDateString(navigator.language,{weekday:"long"})),t=t.replace(/%B/g,this.vars.created.toLocaleDateString(navigator.language,{month:"long"}));var s="";try{s=new URL(this.vars.URL).hostname}catch{s="<Error acquiring domain>"}return t=t.replace(/%e/g,s),t=t.replace(/%t/g,this.vars.title),t=t.replace(/%u/g,this.vars.URL),t=t.replace(/%w/g,this.vars.extents.cx.toString()),t=t.replace(/%h/g,this.vars.extents.cy.toString()),t=t.replace(/%p/g,this.pageNumber.toString()),t}},{key:"getText",value:function(){return this.processTemplate()}},{key:"getMargin",value:function(){return this.options.margin}},{key:"getOpacity",value:function(){return this.options.opacity}},{key:"getRect",value:function(t){var s=R.createCanvas(1,1),i=R.setupCtx(s,!1),a=this.draw(i,new P(t.cx,-1),!0);return a.cx++,a.cy++,new G(0,0,a.cx,a.cy)}},{key:"getURLFromImage",value:function(){if(this.options.type==="bitmap"&&this.options.bitmapLink.length){var t=this.options.bitmapLink.trim();return t.length&&/(^[a-zA-Z]+:\/\/)/.test(t)?t:"https://"+t}else return""}},{key:"getURLFromText",value:function(){var t=/([a-zA-Z]+:\/\/.+?)(\s|$)/.exec(this.getText());return t&&t.length>1?t[1]:""}},{key:"getURL",value:function(){return this.options.type==="bitmap"?this.getURLFromImage():this.getURLFromText()}},{key:"getBitmap",value:function(t){var s=this.getRect(t);if(!s.Width()&&!s.Height())return new ImageData(0,0);var i=this.getCanvas(t).getContext("2d",{alpha:!1});return i?i.getImageData(0,0,s.Width(),s.Height()):new ImageData(0,0)}},{key:"getCanvas",value:function(t){var s=this.getRect(t),i=R.createCanvas(s.Width(),s.Height()),a=R.setupCtx(i,!1);return a&&this.draw(a,t),i}},{key:"draw",value:function(t,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a={fontStyle:this.options.fontStyle,fontSize:this.options.fontSize,fontName:this.options.fontName,fontColor:this.options.fontColor,alignment:this.options.textAlignment,backgroundColor:this.options.backgroundColor,backgroundOpacity:0,frameColor:this.options.frameColor,frameWidth:this.options.frameWidth};return R.textInBox(t,this.getText(),a,new Z(0,0),s.cx,!i,!0)}}]),o})(),dt=(function(o){(0,rt.Z)(t,o);var n=(0,ut.Z)(t);function t(){return(0,V.Z)(this,t),n.apply(this,arguments)}return(0,M.Z)(t,[{key:"getSize",value:function(i){var a=R.createCanvas(1,1),l=R.setupCtx(a,!1);return this.draw(l,i,!0)}},{key:"draw",value:function(i,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=new P(a.cx-this.options.margin*2,0),f={fontStyle:this.options.fontStyle,fontSize:this.options.fontSize,fontName:this.options.fontName,fontColor:this.options.fontColor,alignment:this.options.textAlignment,backgroundColor:this.options.backgroundColor,backgroundOpacity:0,frameColor:this.options.frameColor,frameWidth:this.options.frameWidth};return R.textInBox(i,this.getText(),f,new Z(0,0),c.cx,!l,!1)}},{key:"getRect",value:function(i){var a=this.getSize(i);a.cx++,a.cy++;var l=a.cx,c=a.cy,f=0,d=0,g=this.options.margin,p=new G(0,0,i.cx,i.cy);switch(this.options.position){case 0:f=g,d=g;break;case 1:f=(p.Width()-l)/2,d=g;break;case 2:f=p.Width()-(l+g),d=g;break;case 3:f=g,d=(p.Height()-c)/2;break;case 4:f=p.Width()-(l+g),d=(p.Height()-c)/2;break;case 5:f=g,d=p.Height()-(g+c);break;case 6:f=(p.Width()-l)/2,d=p.Height()-(g+c);break;case 7:f=p.Width()-(l+g),d=p.Height()-(g+c);break;case 8:f=(p.Width()-l)/2,d=(p.Height()-c)/2;break}return new G(f,d,f+a.cx,d+a.cy)}}]),t})(we),Sn=u(7891),kn=u(3734),Pn=u(2319),ft=u(3229);function gt(o,n,t,s,i,a){var l=this,c=I.BT,f=I.km;return(0,e.wg)(),(0,e.j4)(f,{modelValue:t.modelValue,"onUpdate:modelValue":n[0]||(n[0]=function(d){return t.modelValue=d}),filterable:"",placeholder:o.$i18n("pdf_dialog_specify_font_style | Specify font style"),size:"mini"},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.fonts,function(d,g){return(0,e.wg)(),(0,e.j4)(c,{key:g,label:d,value:d,onClick:function(w){l.$emit("update:modelValue",d),o.selected=d},style:(0,m.j5)({fontFamily:d})},null,8,["label","value","onClick","style"])}),128))]}),_:1},8,["modelValue","placeholder"])}var Cn=u(7327),ht=u(8647),ct=["consolas","monospace","sans-serif","serif","Arial","Comic Sans","Courier New","Georgia","Impact","Palatino","Tahoma","Times New Roman","Trebuchet","Verdana"];const mt={name:"FontPicker",props:["modelValue"],emits:["update:modelValue","change"],components:{ArrowDown:ht.Z},data:function(){return{fonts:[]}},beforeMount:function(){this.fonts=ct.filter(function(n){return document.fonts.check("11px ".concat(n))})}},be=(0,N.Z)(mt,[["render",gt]]);var Q=function(n){return(0,e.dD)("data-v-04548b46"),n=n(),(0,e.Cn)(),n},pt={class:"flex_container"},vt={class:"flex_item_left"},_t=Q(function(){return(0,e._)("i",null,"I",-1)}),wt=Q(function(){return(0,e._)("b",null,"B",-1)}),bt=Q(function(){return(0,e._)("u",null,"U",-1)}),yt=Q(function(){return(0,e._)("s",null,"S",-1)}),Wt={style:{"padding-bottom":"5px"}},St={class:"flex_item_right"},kt={ref:"divCanvas",style:{position:"relative"}},Pt={style:{position:"absolute",right:"20px",bottom:"20px",height:"auto",padding:"2px",background:"#fff",border:"0px"}},Ct={ref:"mainCanvas"},Dt=["title"],zt={class:"dialog-footer"};function Ft(o,n,t,s,i,a){var l=oe.Dv,c=ie.dq,f=be,d=me.d6,g=ne.lm,p=ne.z5,w=ft.$,b=I.BT,r=I.km,_=te.mi,C=J.d0;return(0,e.wg)(),(0,e.j4)(C,{modelValue:t.visible,"onUpdate:modelValue":n[18]||(n[18]=function(v){return t.visible=v}),title:a.title,width:1e3,"before-close":a.handleClose,"lock-scroll":!1,"append-to-body":"",onOpened:a.init,onOpen:a.preinit},{footer:(0,e.w5)(function(){return[(0,e._)("span",zt,[(0,e.Wm)(_,{style:{float:"left"},onClick:n[15]||(n[15]=function(v){return a.defaultValues()})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_defaults | Restore to defaults")),1)]}),_:1}),(0,e.Wm)(_,{type:"primary",onClick:n[16]||(n[16]=function(v){t.visible=!1,a.closeDialog(!0)})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("action_ok | OK")),1)]}),_:1}),(0,e.Wm)(_,{onClick:n[17]||(n[17]=function(v){t.visible=!1,a.closeDialog(!1)})},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_cancel | Cancel")),1)]}),_:1})])]}),default:(0,e.w5)(function(){return[(0,e._)("div",pt,[(0,e._)("div",vt,[(0,e.Wm)(c,{class:"topic"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:24},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_text | Text")),1)]}),_:1})]}),_:1}),(0,e.Wm)(c,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:i.span1},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_font | Font")+":"),1)]}),_:1},8,["offset","span"]),(0,e.Wm)(l,{span:9},{default:(0,e.w5)(function(){return[(0,e.Wm)(f,{modelValue:t.options.fontName,"onUpdate:modelValue":[n[0]||(n[0]=function(v){return t.options.fontName=v}),a.changed]},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),(0,e.Wm)(l,{span:7},{default:(0,e.w5)(function(){return[(0,e.Wm)(d,{size:"mini",placeholder:o.$i18n("pdf_dialog_size | Size"),modelValue:t.options.fontSize,"onUpdate:modelValue":n[1]||(n[1]=function(v){return t.options.fontSize=v}),min:0,"controls-position":"right",max:9999,onChange:a.changed},null,8,["placeholder","modelValue","onChange"])]}),_:1})]}),_:1}),(0,e.Wm)(c,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:i.span1},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_style | Style")+":"),1)]}),_:1},8,["offset","span"]),(0,e.Wm)(l,{span:13},{default:(0,e.w5)(function(){return[(0,e.Wm)(p,{modelValue:t.options.fontStyle,"onUpdate:modelValue":n[2]||(n[2]=function(v){return t.options.fontStyle=v}),size:"mini",onChange:a.changed},{default:(0,e.w5)(function(){return[(0,e.Wm)(g,{label:"I"},{default:(0,e.w5)(function(){return[_t]}),_:1}),(0,e.Wm)(g,{label:"B"},{default:(0,e.w5)(function(){return[wt]}),_:1}),(0,e.Wm)(g,{label:"U"},{default:(0,e.w5)(function(){return[bt]}),_:1}),(0,e.Wm)(g,{label:"S"},{default:(0,e.w5)(function(){return[yt]}),_:1})]}),_:1},8,["modelValue","onChange"])]}),_:1}),(0,e.Wm)(l,{span:3,align:"right"},{default:(0,e.w5)(function(){return[(0,e._)("div",Wt,[(0,e.Wm)(w,{modelValue:t.options.fontColor,"onUpdate:modelValue":n[3]||(n[3]=function(v){return t.options.fontColor=v}),predefine:i.predefineColors,onChange:a.changed,onActiveChange:n[4]||(n[4]=function(v){t.options.fontColor=v,a.changed()}),"popper-class":"cpicker-selector",style:{"margin-bottom":"5px"}},null,8,["modelValue","predefine","onChange"])])]}),_:1})]}),_:1}),(0,e.Wm)(c,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:i.span1},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_align | Align")+":"),1)]}),_:1},8,["offset","span"]),(0,e.Wm)(l,{span:i.span2},{default:(0,e.w5)(function(){return[(0,e.Wm)(r,{size:"mini",modelValue:t.options.textAlignment,"onUpdate:modelValue":n[5]||(n[5]=function(v){return t.options.textAlignment=v}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[(0,e.Wm)(b,{key:"1",label:o.$i18n("pdf_dialog_left | Left"),value:"left"},null,8,["label"]),(0,e.Wm)(b,{key:"2",label:o.$i18n("pdf_dialog_center | Center"),value:"center"},null,8,["label"]),(0,e.Wm)(b,{key:"3",label:o.$i18n("pdf_dialog_right | Right"),value:"right"},null,8,["label"])]}),_:1},8,["modelValue","placeholder","onChange"])]}),_:1},8,["span"])]}),_:1}),(0,e.Wm)(c,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:i.span1},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_bg_color | Background color")+":"),1)]}),_:1},8,["offset","span"]),(0,e.Wm)(l,{span:i.span2},{default:(0,e.w5)(function(){return[(0,e.Wm)(w,{modelValue:t.options.backgroundColor,"onUpdate:modelValue":n[6]||(n[6]=function(v){return t.options.backgroundColor=v}),predefine:i.predefineColors,onChange:a.changed,onActiveChange:n[7]||(n[7]=function(v){t.options.backgroundColor=v,a.changed()})},null,8,["modelValue","predefine","onChange"])]}),_:1},8,["span"])]}),_:1}),(0,e.Wm)(c,{class:"topic"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:24},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_frame | Frame")),1)]}),_:1})]}),_:1}),(0,e.Wm)(c,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:i.span1},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_width | Width")+":"),1)]}),_:1},8,["offset","span"]),(0,e.Wm)(l,{span:8},{default:(0,e.w5)(function(){return[(0,e.Wm)(d,{size:"mini",placeholder:o.$i18n("pdf_dialog_width | Width"),modelValue:t.options.frameWidth,"onUpdate:modelValue":n[8]||(n[8]=function(v){return t.options.frameWidth=v}),"controls-position":"right",min:0,max:999,onChange:a.changed},null,8,["placeholder","modelValue","onChange"])]}),_:1}),(0,e.Wm)(l,{offset:i.offset,span:4},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_color | Color")+":"),1)]}),_:1},8,["offset"]),(0,e.Wm)(l,{span:2,align:"right"},{default:(0,e.w5)(function(){return[(0,e.Wm)(w,{modelValue:t.options.frameColor,"onUpdate:modelValue":n[9]||(n[9]=function(v){return t.options.frameColor=v}),predefine:i.predefineColors,onChange:a.changed,onActiveChange:n[10]||(n[10]=function(v){t.options.frameColor=v,a.changed()}),"popper-class":"cpicker-selector"},null,8,["modelValue","predefine","onChange"])]}),_:1})]}),_:1}),(0,e.Wm)(c,{class:"topic"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{span:24},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_placement | Placement")),1)]}),_:1})]}),_:1}),(0,e.Wm)(c,{align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:12},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_margin_pixels | Margin in pixels")+":"),1)]}),_:1},8,["offset"]),(0,e.Wm)(l,{span:10},{default:(0,e.w5)(function(){return[(0,e.Wm)(d,{size:"mini",placeholder:o.$i18n("pdf_dialog_margin | Margin"),modelValue:t.options.margin,"onUpdate:modelValue":n[11]||(n[11]=function(v){return t.options.margin=v}),min:0,"controls-position":"right",max:9999,onChange:a.changed},null,8,["placeholder","modelValue","onChange"])]}),_:1})]}),_:1}),t.mode=="watermark"?((0,e.wg)(),(0,e.j4)(c,{key:0,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:12},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_position | Position")+":"),1)]}),_:1},8,["offset"]),(0,e.Wm)(l,{span:10},{default:(0,e.w5)(function(){return[(0,e.Wm)(r,{size:"mini",modelValue:t.options.position,"onUpdate:modelValue":n[12]||(n[12]=function(v){return t.options.position=v}),placeholder:o.$i18n("pdf_dialog_placeholder_select | Select"),onChange:a.changed},{default:(0,e.w5)(function(){return[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(i.vPositions,function(v,O){return(0,e.wg)(),(0,e.j4)(b,{key:O,label:v,value:O},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","placeholder","onChange"])]}),_:1})]}),_:1})):(0,e.kq)("",!0),t.mode=="watermark"?((0,e.wg)(),(0,e.j4)(c,{key:1,align:"middle"},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{offset:i.offset,span:12},{default:(0,e.w5)(function(){return[(0,e._)("span",null,(0,m.zw)(o.$i18n("pdf_dialog_opacity | Opacity")+":"),1)]}),_:1},8,["offset"]),(0,e.Wm)(l,{span:10},{default:(0,e.w5)(function(){return[(0,e.Wm)(d,{size:"mini",placeholder:o.$i18n("pdf_dialog_opacity | Opacity"),modelValue:t.options.opacity,"onUpdate:modelValue":n[13]||(n[13]=function(v){return t.options.opacity=v}),"controls-position":"right",min:0,max:100,onChange:a.changed},null,8,["placeholder","modelValue","onChange"])]}),_:1})]}),_:1})):(0,e.kq)("",!0)]),(0,e._)("div",St,[(0,e._)("div",kt,[(0,e._)("div",Pt,[(0,e.Wm)(_,{type:"primary",size:"small",title:o.$i18n("pdf_dialog_configure_template | Configure template")+"...",onClick:a.showHFWTemplate},{default:(0,e.w5)(function(){return[(0,e.Uk)((0,m.zw)(o.$i18n("pdf_dialog_configure_template | Configure template")+"..."),1)]}),_:1},8,["title","onClick"])]),(0,e._)("canvas",Ct,null,512),(0,e._)("div",{style:(0,m.j5)([{position:"absolute","background-color":"transparent",cursor:"pointer",border:"0px"},i.overlayStyle]),onClick:n[14]||(n[14]=function(){return a.showHFWTemplate&&a.showHFWTemplate.apply(a,arguments)}),title:o.$i18n("pdf_dialog_click_to_configure_template | Click to configure template")+"..."},null,12,Dt)],512)])])]}),_:1},8,["modelValue","title","before-close","onOpened","onOpen"])}var Ht=u(5157),ye=["fontName","fontSize","fontStyle","fontColor","textAlignment","backgroundColor","frameWidth","frameColor","opacity","margin","position"],We,le=!1;const Vt={name:"HFWStyleDialog",data:function(){return{resizeObserver:null,div:null,canvas:null,offset:2,span1:6,span2:16,initInterval:void 0,overlayStyle:{width:"10px",height:"10px",left:"10px",top:"10px"},vPositions:[this.$i18n("pdf_dialog_top_left | Top Left"),this.$i18n("pdf_dialog_top_center | Top Center"),this.$i18n("pdf_dialog_top_right | Top Right"),this.$i18n("pdf_dialog_middle_left | Middle Left"),this.$i18n("pdf_dialog_middle_right | Middle Right"),this.$i18n("pdf_dialog_bottom_left | Bottom Left"),this.$i18n("pdf_dialog_bottom_center | Bottom Center"),this.$i18n("pdf_dialog_bottom_right | Bottom Right"),this.$i18n("pdf_dialog_centered | Centered")],predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#1e90ff","#c71585","#000","#666","#bbb","#fff"]}},components:{FontPicker:be,Tools:Ht.Z},props:{visible:Boolean,mode:String,options:L,templateVars:_e},emits:["saveConfig","showHFWTemplate"],watch:{options:function(){this.changed()}},computed:{title:function(){switch(this.mode){case"header":return this.$i18n("pdf_dialog_setup_hs | Setup Header Style");case"footer":return this.$i18n("pdf_dialog_setup_fs | Setup Footer Style");case"watermark":return this.$i18n("pdf_dialog_setup_ws | Setup Watermark Style")}}},methods:{preinit:function(){var n=this;this.initInterval=setInterval(function(){n.init()},100)},init:function(){if(this.$refs.divCanvas)clearInterval(this.initInterval);else return;this.div=this.$refs.divCanvas,this.canvas=this.$refs.mainCanvas,this.canvas.style.display="block",this.resizeObserver=new ResizeObserver(this.canvasResized),this.resizeObserver.observe(this.div),setTimeout(function(){le=/apple/i.test(navigator.vendor)},500)},defaultValues:function(){var n=this,t=new L(this.mode);ye.forEach(function(s){n.options[s]=t[s]}),this.changed()},closeDialog:function(n){var t=this;if(le=!1,this.resizeObserver.disconnect(),n){var s={};ye.forEach(function(i){s[i]=t.options[i]}),this.$emit("saveConfig",{mode:this.mode,config:s})}},showHFWTemplate:function(){this.$emit("showHFWTemplate",this.mode)},handleClose:function(n){document.querySelector("div.cpicker-selector[aria-hidden='false']")||n()},changed:function(){this.drawCanvas()},canvasResized:function(){this.canvas.width=this.div.clientWidth-20,this.canvas.height=this.div.clientHeight-20,this.drawCanvas()},drawCanvas:function(){var n=this,t=function(){var i=n.$refs.mainCanvas;if(i){var a=i.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,i.width,i.height),R.dashRect(a,0,0,i.width,i.height,8);var l=n.mode==="watermark"?dt:we,c=new l(n.options,n.templateVars),f=window.devicePixelRatio,d=c.getCanvas(new P(i.width*f-50,0)),g=R.createCanvas(d.width/f,d.height/f),p=g.getContext("2d");p.drawImage(d,0,0,g.width,g.height),a.globalAlpha=1-n.options.opacity/100;var w,b;if(n.mode==="watermark"){var r=c.getRect(new P(i.width*f,i.height*f));w=r.Left/f,b=r.Top/f}else w=(i.width-g.width)/2,b=(i.height-g.height)/2;a.drawImage(g,Math.round(w),Math.round(b)),a.globalAlpha=1,n.overlayStyle={left:"".concat(w+10,"px"),top:"".concat(b+10,"px"),width:"".concat(g.width,"px"),height:"".concat(g.height,"px")}}};le?(clearTimeout(We),We=setTimeout(t,15)):t()}}},se=(0,N.Z)(Vt,[["render",Ft],["__scopeId","data-v-04548b46"]]);var Se=u(3230),ke=["template"];const Mt={name:"HFWSettingsDialog",components:{HFWStyleDialog:se,Operation:Se.Z},data:function(){return{wildcards:[[["%y",this.$i18n("options_label_template_year | Year")],["%m",this.$i18n("options_label_template_month | Month")+" (1-12)"],["%d",this.$i18n("options_label_template_day | Day")+" (1 - 31)"]],[["%H",this.$i18n("options_label_template_hour | Hours")],["%M",this.$i18n("options_label_template_minutes | Minutes")],["%S",this.$i18n("options_label_template_seconds | Seconds")]],[["%B",this.$i18n("pdf_dialog_month_name | Month name")],["%A",this.$i18n("pdf_dialog_weekday | Weekday")],["%U",this.$i18n("pdf_dialog_12_hour_time | 12-hour Time")]],[["%w",this.$i18n("pdf_dialog_screenshot_width | screenshot Width")],["%h",this.$i18n("pdf_dialog_screenshot_height | screenshot Height")],["%e",this.$i18n("options_label_template_website | Domain name")]],[["%u",this.$i18n("options_label_template_url | Page URL")],["%t",this.$i18n("options_label_template_title | Page Title")],["%p",this.$i18n("pdf_dialog_page_number | PDF Page number")]]],offset:1,controls:(0,st.Z)({},this.options)}},props:{visible:Boolean,mode:String,options:L},emits:["saveConfig"],watch:{},computed:{title:function(){switch(this.mode){case"header":return this.$i18n("pdf_dialog_setup_header_template | Setup Header template");case"footer":return this.$i18n("pdf_dialog_setup_footer_template | Setup Footer template");case"watermark":return this.$i18n("pdf_dialog_setup_watermark_template | Setup Watermark template")}},operation:function(){return Se.Z}},methods:{init:function(){},defaultValues:function(){var n=this,t=new L(this.mode);ke.forEach(function(s){n.options[s]=t[s]}),this.changed()},closeDialog:function(n){var t=this;if(n){var s={};ke.forEach(function(i){s[i]=t.options[i]}),this.$emit("saveConfig",{mode:this.mode,config:s})}},changed:function(){},addWildcard:function(n){this.options.template+=n}}},Pe=(0,N.Z)(Mt,[["render",lt],["__scopeId","data-v-febf77b4"]]);var Rt=(0,e.Uk)("Setup header style"),Tt={key:0};function xt(o,n,t,s,i,a){var l=se,c=Pe,f=ve,d=(0,e.up)("progress-element");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(l,{visible:i.HFWStyleDlgVisible,mode:i.HFWMode,options:i.HFWSettings,"template-vars":a.PDFDialog.templateVars,onClose:n[0]||(n[0]=function(g){return i.HFWStyleDlgVisible=!1}),onSaveConfig:a.saveHFWSettingsEvent,onShowHFWTemplate:a.showHFWDialog},null,8,["visible","mode","options","template-vars","onSaveConfig","onShowHFWTemplate"]),(0,e.Wm)(c,{visible:i.HFWSettingsDlgVisible,mode:i.HFWMode,options:i.HFWTemplate,onClose:n[1]||(n[1]=function(g){return i.HFWSettingsDlgVisible=!1}),onSaveConfig:a.saveHFWSettingsEvent},null,8,["visible","mode","options","onSaveConfig"]),(0,e.Wm)(f,{visible:a.PDFDialog.visible,options:i.PDFSettings,onDialogResult:a.PDFSettingsResultEvent,onShowHFWStyle:a.showHFWStyleDialog},{header:(0,e.w5)(function(){return[Rt]}),_:1},8,["visible","options","onDialogResult","onShowHFWStyle"]),(0,e.Wm)(d,{visible:a.ProgressBar.visible,percentage:a.ProgressBar.percentage},null,8,["visible","percentage"]),a.isDebug?((0,e.wg)(),(0,e.iD)("div",Tt,[(0,e._)("button",{onClick:n[2]||(n[2]=function(){return a.showPDFDialog&&a.showPDFDialog.apply(a,arguments)}),class:"btn btn-default"},"Test PDF Dlg"),(0,e._)("button",{onClick:n[3]||(n[3]=function(){return o.showProgress&&o.showProgress.apply(o,arguments)}),class:"btn btn-default"},"Progress`")])):(0,e.kq)("",!0)],64)}var Ut=u(9996),Hn=u(9029),Vn=u(6160),Bt=u(2018),Lt={id:"progress"},Ot={class:"percentage-value"},jt=(0,e._)("span",{class:"percentage-label"},"Creating PDF",-1);function At(o,n,t,s,i,a){var l=Bt.Xh,c=J.d0;return(0,e.wg)(),(0,e.iD)("div",Lt,[(0,e.Wm)(c,{"show-close":!1,modelValue:t.visible,"onUpdate:modelValue":n[0]||(n[0]=function(f){return t.visible=f}),"close-on-click-modal":!1,"close-on-press-escape":!1,"lock-scroll":!1,modal:!1,onClose:a.progressClosed},{default:(0,e.w5)(function(){return[(0,e.Wm)(l,{type:"circle","stroke-width":5,percentage:t.percentage},{default:(0,e.w5)(function(f){var d=f.percentage;return[(0,e._)("span",Ot,(0,m.zw)(d)+"%",1),jt]}),_:1},8,["percentage"])]}),_:1},8,["modelValue","onClose"])])}var Mn=u(9653);const Et={name:"ProgressElement",components:{},data:function(){return{}},props:{visible:Boolean,percentage:Number},methods:{progressClosed:function(){}}},It=(0,N.Z)(Et,[["render",At]]),Zt={name:"App",inject:["PDFDialog","ProgressBar"],data:function(){return{HFWMode:"header",HFWSettings:null,HFWTemplate:null,HFWSettingsDlgVisible:!1,HFWStyleDlgVisible:!1,PDFSettings:null}},beforeMount:function(){},components:{HFWStyleDialog:se,PDFSettingsDialog:ve,HFWSettingsDialog:Pe,ProgressElement:It},computed:{isDialogVisible:function(){return this.PDFDialog.visible},isProgressBarVisible:function(){return this.ProgressBar.visible},isDebug:function(){return!1}},watch:{isDialogVisible:function(n){n&&this.showPDFDialog()}},methods:{showHFWDialog:function(n){this.HFWMode=n,this.HFWTemplate=new L(this.HFWMode,PDFDialog.preferences.getOption(this.HFWMode)),this.HFWSettingsDlgVisible=!0},showHFWStyleDialog:function(n){this.HFWMode=n,this.HFWSettings=new L(this.HFWMode,PDFDialog.preferences.getOption(this.HFWMode)),this.HFWStyleDlgVisible=!0},saveHFWSettingsEvent:function(n){var t=this,s=Object.assign(new L(this.HFWMode,PDFDialog.preferences.getOption(this.HFWMode)),n.config),i=Object.assign(new L,this.HFWSettings,n.config);setTimeout(function(){t.HFWSettings=i},100),PDFDialog.preferences.setOption(n.mode,s.serialize())},showPDFDialog:function(){this.PDFSettings=new ae(PDFDialog.preferences.getOption("pdfSettings"+(this.PDFDialog.multipage?"Multi":""))),this.PDFDialog.visible=!0},PDFSettingsResultEvent:function(n){this.PDFDialog.visible=!1,n&&PDFDialog.preferences.setOption("pdfSettings"+(this.PDFDialog.multipage?"Multi":""),n.config.serialize()),this.PDFDialog.callback(n!==void 0)},showNotification:function(){(0,Ut.bM)({title:"Custom Position",message:h("el-button",{style:"color: teal",plain:""},"This is a reminder"),duration:0})}}},Nt=(0,N.Z)(Zt,[["render",xt]]);var Ce=(0,E.qj)({callback:function(n){},show:function(n){var t=this;return new Promise(function(s){t.multipage=n,t.visible=!0,t.callback=s})},visible:!1,multipage:!0,templateVars:new _e,preferences:null}),De=(0,E.qj)({visible:!1,percentage:0});function ze(){var o=(0,ee.ri)(Nt);o.config.globalProperties.$i18n=function(n){return chrome.i18n.getMessage(n.split(" | ")[0])},o.provide("PDFDialog",Ce).provide("ProgressBar",De).mount("#app"),window.PDFDialog=Ce,window.ProgressBar=De}typeof fsi18nReadyPromise<"u"?fsi18nReadyPromise.then(function(){return ze()}):ze()})},fe={};function W(y){var k=fe[y];if(k!==void 0)return k.exports;var u=fe[y]={exports:{}};return de[y](u,u.exports,W),u.exports}W.m=de,(()=>{var y=[];W.O=(k,u,T,D)=>{if(u){D=D||0;for(var S=y.length;S>0&&y[S-1][2]>D;S--)y[S]=y[S-1];y[S]=[u,T,D];return}for(var B=1/0,S=0;S<y.length;S++){for(var[u,T,D]=y[S],A=!0,H=0;H<u.length;H++)(D&!1||B>=D)&&Object.keys(W.O).every(ce=>W.O[ce](u[H]))?u.splice(H--,1):(A=!1,D<B&&(B=D));if(A){y.splice(S--,1);var x=T();x!==void 0&&(k=x)}}return k}})(),W.d=(y,k)=>{for(var u in k)W.o(k,u)&&!W.o(y,u)&&Object.defineProperty(y,u,{enumerable:!0,get:k[u]})},W.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),W.o=(y,k)=>Object.prototype.hasOwnProperty.call(y,k),(()=>{var y={826:0};W.O.j=T=>y[T]===0;var k=(T,D)=>{var[S,B,A]=D,H,x,E=0;if(S.some(he=>y[he]!==0)){for(H in B)W.o(B,H)&&(W.m[H]=B[H]);if(A)var ee=A(W)}for(T&&T(D);E<S.length;E++)x=S[E],W.o(y,x)&&y[x]&&y[x][0](),y[x]=0;return W.O(ee)},u=self.webpackChunktest_js=self.webpackChunktest_js||[];u.forEach(k.bind(null,0)),u.push=k.bind(null,u.push.bind(u))})();var ge=W.O(void 0,[998],()=>W(706));ge=W.O(ge)})();
//# sourceMappingURL=vue-index.js.map

//# debugId=2d003eb9-3136-53dc-9bc0-432687a89894
